var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.checkStringArgs=function(t,e,i){if(null==t)throw new TypeError("The 'this' value for String.prototype."+i+" must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype."+i+" must not be a regular expression");return t+""},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,i){t!=Array.prototype&&t!=Object.prototype&&(t[e]=i.value)},$jscomp.getGlobal=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var i=t[e];if(i&&i.Math==Math)return i}throw Error("Cannot find global object")},$jscomp.global=$jscomp.getGlobal(this),$jscomp.polyfill=function(t,e,i,s){if(e){for(i=$jscomp.global,t=t.split("."),s=0;s<t.length-1;s++){var n=t[s];n in i||(i[n]={}),i=i[n]}(e=e(s=i[t=t[t.length-1]]))!=s&&null!=e&&$jscomp.defineProperty(i,t,{configurable:!0,writable:!0,value:e})}},$jscomp.polyfill("String.prototype.endsWith",function(t){return t||function(t,e){var i=$jscomp.checkStringArgs(this,t,"endsWith");t+="",void 0===e&&(e=i.length),e=Math.max(0,Math.min(0|e,i.length));for(var s=t.length;0<s&&0<e;)if(i[--e]!=t[--s])return!1;return 0>=s}},"es6","es3"),$jscomp.polyfill("String.fromCodePoint",function(t){return t||function(t){for(var e="",i=0;i<arguments.length;i++){var s=Number(arguments[i]);if(0>s||1114111<s||s!==Math.floor(s))throw new RangeError("invalid_code_point "+s);65535>=s?e+=String.fromCharCode(s):(s-=65536,e+=String.fromCharCode(s>>>10&1023|55296),e+=String.fromCharCode(1023&s|56320))}return e}},"es6","es3"),$jscomp.arrayIteratorImpl=function(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}},$jscomp.arrayIterator=function(t){return{next:$jscomp.arrayIteratorImpl(t)}},$jscomp.SYMBOL_PREFIX="jscomp_symbol_",$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){},$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)},$jscomp.SymbolClass=function(t,e){this.$jscomp$symbol$id_=t,$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:e})},$jscomp.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_},$jscomp.Symbol=function(){var t=0;return function e(i){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new $jscomp.SymbolClass($jscomp.SYMBOL_PREFIX+(i||"")+"_"+t++,i)}}(),$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var t=$jscomp.global.Symbol.iterator;t||(t=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("Symbol.iterator")),"function"!=typeof Array.prototype[t]&&$jscomp.defineProperty(Array.prototype,t,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}}),$jscomp.initSymbolIterator=function(){}},$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var t=$jscomp.global.Symbol.asyncIterator;t||(t=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("Symbol.asyncIterator")),$jscomp.initSymbolAsyncIterator=function(){}},$jscomp.iteratorPrototype=function(t){return $jscomp.initSymbolIterator(),(t={next:t})[$jscomp.global.Symbol.iterator]=function(){return this},t},$jscomp.iteratorFromArray=function(t,e){$jscomp.initSymbolIterator(),t instanceof String&&(t+="");var i=0,s={next:function(){if(i<t.length){var n=i++;return{value:e(n,t[n]),done:!1}}return s.next=function(){return{done:!0,value:void 0}},s.next()}};return s[Symbol.iterator]=function(){return s},s},$jscomp.polyfill("Array.prototype.keys",function(t){return t||function(){return $jscomp.iteratorFromArray(this,function(t){return t})}},"es6","es3"),$jscomp.polyfill("String.prototype.startsWith",function(t){return t||function(t,e){var i=$jscomp.checkStringArgs(this,t,"startsWith");t+="";var s=i.length,n=t.length;e=Math.max(0,Math.min(0|e,i.length));for(var r=0;r<n&&e<s;)if(i[e++]!=t[r++])return!1;return r>=n}},"es6","es3"),$jscomp.polyfill("Array.prototype.values",function(t){return t||function(){return $jscomp.iteratorFromArray(this,function(t,e){return e})}},"es8","es3"),$jscomp.polyfill("String.prototype.codePointAt",function(t){return t||function(t){var e=$jscomp.checkStringArgs(this,null,"codePointAt"),i=e.length;if(0<=(t=Number(t)||0)&&t<i){t|=0;var s=e.charCodeAt(t);return 55296>s||56319<s||t+1===i||56320>(t=e.charCodeAt(t+1))||57343<t?s:1024*(s-55296)+t+9216}}},"es6","es3"),$jscomp.polyfill("Array.prototype.fill",function(t){return t||function(t,e,i){var s=this.length||0;for(0>e&&(e=Math.max(0,s+e)),(null==i||i>s)&&(i=s),0>(i=Number(i))&&(i=Math.max(0,s+i)),e=Number(e||0);e<i;e++)this[e]=t;return this}},"es6","es3"),$jscomp.polyfill("String.prototype.repeat",function(t){return t||function(t){var e=$jscomp.checkStringArgs(this,null,"repeat");if(0>t||1342177279<t)throw new RangeError("Invalid count value");t|=0;for(var i="";t;)1&t&&(i+=e),(t>>>=1)&&(e+=e);return i}},"es6","es3"),function(t,e){t.lime=t.lime||{},t.lime.$scripts=t.lime.$scripts||{},t.lime.$scripts["Poor Bunny"]=function(t,e){(function(t,e){function i(t,e){for(var i in t=Object.create(t),e)t[i]=e[i];return e.toString!==Object.prototype.toString&&(t.toString=e.toString),t}function s(t){return t instanceof Array?new no(t):t.iterator()}function n(t,i){return null==i?null:(null==i.__id__&&(i.__id__=e.$haxeUID++),null==t.hx__closures__?t.hx__closures__={}:s=t.hx__closures__[i.__id__],null==s&&(s=i.bind(t),t.hx__closures__[i.__id__]=s),s);var s}t.lime=t.lime||{};var r={},a=function(){return vo.__string_rec(this,"")},o=o||{},l,h=function(){};r.ApplicationMain=h,h.__name__="ApplicationMain",h.main=function(){L.am=h,L.setupTracing(!0),Ne.load(),ze.loadInputConfig(),L.setupTracing(),Bh.__registerEntryPoint("Poor Bunny",h.create),I_.get_current()},h.reloadGame=function(){for(var t=0,e=h.reloadListeners;t<e.length;){var i=e[t];++t,i()}Ke.resetStatics(),bi.resetStatics(),un.resetStatics(),gn.resetStatics(),yn.resetStatics(),vn.resetStatics(),An.resetStatics(),Cn.resetStatics(),In.resetStatics(),En.resetStatics(),On.resetStatics(),er.resetStatics(),ya.resetStatics(),vr.resetStatics(),Oe.resetStatics(),ze.resetStatics(),Ge.resetStatics(),I_.get_current().removeChild(h.universal),ze.loadInputConfig(),h.universal=new L,I_.get_current().addChild(h.universal),h.universal.preloaderComplete()},h.create=function(t){h.app=new N_,m.init(t),h.app.meta.h.build="1",h.app.meta.h.company="Stencyl",h.app.meta.h.file="Poor Bunny",h.app.meta.h.name="Poor Bunny",h.app.meta.h.packageName="com.example.myapp",h.app.meta.h.version="1.0.0";var e={allowHighDPI:!1,alwaysOnTop:!1,borderless:!1,element:null,frameRate:65,height:480,hidden:!1,maximized:!1,minimized:!1,parameters:{},resizable:!0,title:"Poor Bunny",width:852,x:null,y:null};if(e.context={antialiasing:Ne.antialias?2:0,background:0,colorDepth:32,depth:!0,hardware:!0,stencil:!0,type:null,vsync:!0},null==h.app.__window&&null!=t)for(var i=0,s=f.fields(t);i<s.length;){var r=s[i];++i,Object.prototype.hasOwnProperty.call(e,r)?e[r]=f.field(t,r):Object.prototype.hasOwnProperty.call(e.context,r)&&(e.context[r]=f.field(t,r))}h.app.createWindow(e),Ne.releaseMode||I_.get_current().get_loaderInfo().uncaughtErrorEvents.addEventListener("uncaughtError",h.uncaughtErrorHandler),L.initWindow(h.app.__window),h.universal=new L,I_.get_current().addChild(h.universal),p.start(!1,function(){p.gameLoadingStart();var t=new Cb;t.onComplete.add(n(l=h.universal,l.preloaderComplete)),h.app.__preloader.onProgress.add(n(t,t.onUpdate)),h.app.__preloader.onComplete.add(n(t,t.onLoaded)),h.app.__preloader.onProgress.add(h.onUpdate),h.app.__preloader.onComplete.add(h.onLoaded),t=0;for(var e=m.preloadLibraries;t<e.length;){var i=e[t];++t,h.app.__preloader.addLibrary(i)}for(t=0,e=m.preloadLibraryNames;t<e.length;)i=e[t],++t,h.app.__preloader.addLibraryName(i);h.app.__preloader.load(),h.app.exec()})},h.onUpdate=function(t,e){p.gameLoadingProgress(t/e,t,e)},h.onLoaded=function(){p.gameLoadingFinished()},h.uncaughtErrorHandler=function(t){};var _=function(t,e){this.r=new RegExp(t,e.split("u").join(""))};r.EReg=_,_.__name__="EReg",_.prototype={r:null,match:function(t){return this.r.global&&(this.r.lastIndex=0),this.r.m=this.r.exec(t),this.r.s=t,null!=this.r.m},matched:function(t){if(null!=this.r.m&&0<=t&&t<this.r.m.length)return this.r.m[t];throw wa.thrown("EReg::matched")},matchedRight:function(){if(null==this.r.m)throw wa.thrown("No string matched");var t=this.r.m.index+this.r.m[0].length;return c.substr(this.r.s,t,this.r.s.length-t)},matchedPos:function(){if(null==this.r.m)throw wa.thrown("No string matched");return{pos:this.r.m.index,len:this.r.m[0].length}},matchSub:function(t,e,i){return null==i&&(i=-1),this.r.global?(this.r.lastIndex=e,this.r.m=this.r.exec(0>i?t:c.substr(t,0,e+i)),(i=null!=this.r.m)&&(this.r.s=t)):(i=this.match(0>i?c.substr(t,e,null):c.substr(t,e,i)))&&(this.r.s=t,this.r.m.index+=e),i},split:function(t){return t.replace(this.r,"#__delim__#").split("#__delim__#")},map:function(t,e){for(var i=0,s="";!(i>=t.length);){if(!this.matchSub(t,i)){s+=g.string(c.substr(t,i,null));break}var n=this.matchedPos();if(s+=g.string(c.substr(t,i,n.pos-i)),s+=g.string(e(this)),0==n.len?(s+=g.string(c.substr(t,n.pos,1)),i=n.pos+1):i=n.pos+n.len,!this.r.global)break}return!this.r.global&&0<i&&i<t.length&&(s+=g.string(c.substr(t,i,null))),s},__class__:_};var c=function(){};r.HxOverrides=c,c.__name__="HxOverrides",c.strDate=function(t){switch(t.length){case 8:t=t.split(":");var e=new Date;return e.setTime(0),e.setUTCHours(t[0]),e.setUTCMinutes(t[1]),e.setUTCSeconds(t[2]),e;case 10:return t=t.split("-"),new Date(t[0],t[1]-1,t[2],0,0,0);case 19:return e=(t=t.split(" "))[0].split("-"),t=t[1].split(":"),new Date(e[0],e[1]-1,e[2],t[0],t[1],t[2]);default:throw wa.thrown("Invalid date format : "+t)}},c.cca=function(t,e){if((t=t.charCodeAt(e))==t)return t},c.substr=function(t,e,i){if(null==i)i=t.length;else if(0>i){if(0!=e)return"";i=t.length+i}return t.substr(e,i)},c.remove=function(t,e){return-1!=(e=t.indexOf(e))&&(t.splice(e,1),!0)},c.now=function(){return Date.now()};var u=function(t,e){this.min=t,this.max=e};r.IntIterator=u,u.__name__="IntIterator",u.prototype={min:null,max:null,hasNext:function(){return this.min<this.max},next:function(){return this.min++},__class__:u};var d=function(){};r.Lambda=d,d.__name__="Lambda",d.array=function(t){var e=[];for(t=s(t);t.hasNext();){var i=t.next();e.push(i)}return e},d.count=function(t,e){var i=0;if(null==e)for(e=s(t);e.hasNext();)e.next(),++i;else for(t=s(t);t.hasNext();)e(t.next())&&++i;return i},d.indexOf=function(t,e){var i=0;for(t=s(t);t.hasNext();){if(e==t.next())return i;++i}return-1};var m=function(){};r.ManifestResources=m,m.__name__="ManifestResources",m.init=function(t){m.preloadLibraries=[],m.preloadLibraryNames=[],m.rootPath=null,null!=t&&Object.prototype.hasOwnProperty.call(t,"rootPath")&&(m.rootPath=f.field(t,"rootPath"),v.endsWith(m.rootPath,"/")||(m.rootPath+="/")),null==m.rootPath&&(m.rootPath="./"),t=n_.parse('{"name":null,"assets":"aoy8:positioni15y4:sizezy4:typey4:TEXTy2:idy37:assets%2Fgraphics%2F1x%2Ffont-579.fnty6:lengthi1060goR0i1075R1zR2y5:IMAGER4y37:assets%2Fgraphics%2F1x%2Ffont-579.pngR6i1324y7:preloadtgoR0i2399R1zR2R3R4y37:assets%2Fgraphics%2F1x%2Ffont-581.fntR6i448goR0i2847R1zR2R7R4y37:assets%2Fgraphics%2F1x%2Ffont-581.pngR6i199R9tgoR0i3046R1zR2R3R4y37:assets%2Fgraphics%2F1x%2Ffont-729.fntR6i454goR0i3500R1zR2R7R4y37:assets%2Fgraphics%2F1x%2Ffont-729.pngR6i241R9tgoR0i3741R1zR2R3R4y37:assets%2Fgraphics%2F1x%2Ffont-735.fntR6i657goR0i4398R1zR2R7R4y37:assets%2Fgraphics%2F1x%2Ffont-735.pngR6i402R9tgoR0i4800R1zR2R3R4y37:assets%2Fgraphics%2F1x%2Ffont-766.fntR6i1053goR0i5853R1zR2R7R4y37:assets%2Fgraphics%2F1x%2Ffont-766.pngR6i1099R9tgoR0i6952R1zR2R3R4y37:assets%2Fgraphics%2F1x%2Ffont-818.fntR6i1054goR0i8006R1zR2R7R4y37:assets%2Fgraphics%2F1x%2Ffont-818.pngR6i1107R9tgoR0i9113R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-480-0.pngR6i372R9tgoR0i9485R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-480-1.pngR6i372R9tgoR0i9857R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-480-12.pngR6i282R9tgoR0i10139R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-480-13.pngR6i283R9tgoR0i10422R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-480-14.pngR6i300R9tgoR0i10722R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-480-15.pngR6i290R9tgoR0i11012R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-480-2.pngR6i619R9tgoR0i11631R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-480-3.pngR6i635R9tgoR0i12266R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-480-8.pngR6i286R9tgoR0i12552R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-480-9.pngR6i287R9tgoR0i12839R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-485-0.pngR6i98R9tgoR0i12937R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-487-0.pngR6i98R9tgoR0i13035R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-489-0.pngR6i1027R9tgoR0i14062R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-489-2.pngR6i387R9tgoR0i14449R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-491-0.pngR6i201R9tgoR0i14650R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-491-1.pngR6i210R9tgoR0i14860R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-491-2.pngR6i228R9tgoR0i15088R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-491-3.pngR6i228R9tgoR0i15316R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-495-0.pngR6i924R9tgoR0i16240R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-495-1.pngR6i919R9tgoR0i17159R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-495-2.pngR6i924R9tgoR0i18083R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-498-0.pngR6i349R9tgoR0i18432R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-498-1.pngR6i551R9tgoR0i18983R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-498-2.pngR6i911R9tgoR0i19894R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-498-3.pngR6i310R9tgoR0i20204R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-500-0.pngR6i504R9tgoR0i20708R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-500-1.pngR6i229R9tgoR0i20937R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-502-0.pngR6i418R9tgoR0i21355R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-504-0.pngR6i387R9tgoR0i21742R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-504-1.pngR6i374R9tgoR0i22116R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-506-0.pngR6i273R9tgoR0i22389R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-506-1.pngR6i278R9tgoR0i22667R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-508-0.pngR6i256R9tgoR0i22923R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-508-1.pngR6i263R9tgoR0i23186R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-510-0.pngR6i348R9tgoR0i23534R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-510-1.pngR6i320R9tgoR0i23854R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-512-0.pngR6i317R9tgoR0i24171R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-512-1.pngR6i285R9tgoR0i24456R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-516-0.pngR6i289R9tgoR0i24745R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-516-1.pngR6i299R9tgoR0i25044R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-518-0.pngR6i270R9tgoR0i25314R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-518-1.pngR6i259R9tgoR0i25573R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-520-0.pngR6i173R9tgoR0i25746R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-520-1.pngR6i209R9tgoR0i25955R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-522-0.pngR6i200R9tgoR0i26155R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-522-1.pngR6i225R9tgoR0i26380R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-526-2.pngR6i328R9tgoR0i26708R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-528-0.pngR6i971R9tgoR0i27679R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-530-0.pngR6i178R9tgoR0i27857R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-530-1.pngR6i212R9tgoR0i28069R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-534-0.pngR6i1478R9tgoR0i29547R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-538-0.pngR6i294R9tgoR0i29841R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-540-0.pngR6i256R9tgoR0i30097R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-542-0.pngR6i204R9tgoR0i30301R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-544-0.pngR6i1527R9tgoR0i31828R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-550-0.pngR6i153R9tgoR0i31981R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-550-1.pngR6i218R9tgoR0i32199R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-552-0.pngR6i579R9tgoR0i32778R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-556-0.pngR6i597R9tgoR0i33375R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-559-0.pngR6i351R9tgoR0i33726R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-559-1.pngR6i552R9tgoR0i34278R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-559-2.pngR6i917R9tgoR0i35195R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-559-3.pngR6i304R9tgoR0i35499R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-561-0.pngR6i88R9tgoR0i35587R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-566-0.pngR6i1033R9tgoR0i36620R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-566-2.pngR6i379R9tgoR0i36999R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-569-0.pngR6i129R9tgoR0i37128R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-569-1.pngR6i141R9tgoR0i37269R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-571-1.pngR6i259R9tgoR0i37528R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-573-0.pngR6i708R9tgoR0i38236R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-576-0.pngR6i597R9tgoR0i38833R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-576-1.pngR6i646R9tgoR0i39479R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-578-0.pngR6i467R9tgoR0i39946R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-578-1.pngR6i562R9tgoR0i40508R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-578-2.pngR6i500R9tgoR0i41008R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-583-0.pngR6i195R9tgoR0i41203R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-585-0.pngR6i185R9tgoR0i41388R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-587-0.pngR6i105R9tgoR0i41493R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-589-0.pngR6i258R9tgoR0i41751R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-589-1.pngR6i243R9tgoR0i41994R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-591-0.pngR6i249R9tgoR0i42243R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-591-1.pngR6i240R9tgoR0i42483R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-593-0.pngR6i266R9tgoR0i42749R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-593-1.pngR6i251R9tgoR0i43000R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-596-0.pngR6i266R9tgoR0i43266R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-596-1.pngR6i251R9tgoR0i43517R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-598-0.pngR6i329R9tgoR0i43846R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-600-0.pngR6i1899R9tgoR0i45745R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-600-1.pngR6i1419R9tgoR0i47164R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-602-0.pngR6i450R9tgoR0i47614R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-602-1.pngR6i416R9tgoR0i48030R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-604-1.pngR6i256R9tgoR0i48286R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-607-0.pngR6i258R9tgoR0i48544R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-607-1.pngR6i235R9tgoR0i48779R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-607-2.pngR6i275R9tgoR0i49054R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-607-3.pngR6i259R9tgoR0i49313R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-609-0.pngR6i243R9tgoR0i49556R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-609-1.pngR6i229R9tgoR0i49785R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-609-2.pngR6i286R9tgoR0i50071R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-609-3.pngR6i280R9tgoR0i50351R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-611-0.pngR6i126R9tgoR0i50477R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-611-1.pngR6i132R9tgoR0i50609R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-611-2.pngR6i129R9tgoR0i50738R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-611-3.pngR6i131R9tgoR0i50869R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-611-4.pngR6i137R9tgoR0i51006R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-611-5.pngR6i138R9tgoR0i51144R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-613-0.pngR6i183R9tgoR0i51327R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-613-1.pngR6i186R9tgoR0i51513R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-613-2.pngR6i171R9tgoR0i51684R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-613-3.pngR6i183R9tgoR0i51867R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-622-0.pngR6i258R9tgoR0i52125R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-622-1.pngR6i243R9tgoR0i52368R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-624-0.pngR6i626R9tgoR0i52994R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-629-0.pngR6i88R9tgoR0i53082R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-653-0.pngR6i372R9tgoR0i53454R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-653-1.pngR6i372R9tgoR0i53826R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-653-12.pngR6i282R9tgoR0i54108R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-653-13.pngR6i283R9tgoR0i54391R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-653-14.pngR6i300R9tgoR0i54691R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-653-15.pngR6i290R9tgoR0i54981R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-653-2.pngR6i619R9tgoR0i55600R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-653-3.pngR6i635R9tgoR0i56235R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-653-8.pngR6i286R9tgoR0i56521R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-653-9.pngR6i287R9tgoR0i56808R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-655-0.pngR6i174R9tgoR0i56982R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-657-1.pngR6i162R9tgoR0i57144R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-659-0.pngR6i340R9tgoR0i57484R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-659-1.pngR6i309R9tgoR0i57793R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-661-0.pngR6i296R9tgoR0i58089R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-661-1.pngR6i277R9tgoR0i58366R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-663-0.pngR6i311R9tgoR0i58677R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-663-1.pngR6i299R9tgoR0i58976R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-665-0.pngR6i558R9tgoR0i59534R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-665-1.pngR6i491R9tgoR0i60025R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-669-0.pngR6i334R9tgoR0i60359R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-669-1.pngR6i304R9tgoR0i60663R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-671-0.pngR6i289R9tgoR0i60952R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-671-1.pngR6i277R9tgoR0i61229R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-673-0.pngR6i322R9tgoR0i61551R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-673-1.pngR6i308R9tgoR0i61859R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-675-0.pngR6i748R9tgoR0i62607R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-677-0.pngR6i185R9tgoR0i62792R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-679-0.pngR6i593R9tgoR0i63385R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-679-1.pngR6i547R9tgoR0i63932R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-682-0.pngR6i504R9tgoR0i64436R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-682-1.pngR6i229R9tgoR0i64665R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-685-0.pngR6i932R9tgoR0i65597R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-687-0.pngR6i671R9tgoR0i66268R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-689-0.pngR6i685R9tgoR0i66953R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-691-0.pngR6i359R9tgoR0i67312R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-691-1.pngR6i367R9tgoR0i67679R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-691-2.pngR6i274R9tgoR0i67953R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-693-0.pngR6i292R9tgoR0i68245R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-693-1.pngR6i307R9tgoR0i68552R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-695-0.pngR6i307R9tgoR0i68859R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-699-0.pngR6i146R9tgoR0i69005R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-703-0.pngR6i181R9tgoR0i69186R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-703-1.pngR6i169R9tgoR0i69355R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-703-2.pngR6i186R9tgoR0i69541R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-705-0.pngR6i292R9tgoR0i69833R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-705-1.pngR6i283R9tgoR0i70116R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-10.pngR6i289R9tgoR0i70405R1zR2R7R4y43:assets%2Fgraphics%2F1x%2Fsprite-705-100.pngR6i284R9tgoR0i70689R1zR2R7R4y43:assets%2Fgraphics%2F1x%2Fsprite-705-101.pngR6i314R9tgoR0i71003R1zR2R7R4y43:assets%2Fgraphics%2F1x%2Fsprite-705-103.pngR6i318R9tgoR0i71321R1zR2R7R4y43:assets%2Fgraphics%2F1x%2Fsprite-705-104.pngR6i285R9tgoR0i71606R1zR2R7R4y43:assets%2Fgraphics%2F1x%2Fsprite-705-105.pngR6i318R9tgoR0i71924R1zR2R7R4y43:assets%2Fgraphics%2F1x%2Fsprite-705-106.pngR6i295R9tgoR0i72219R1zR2R7R4y43:assets%2Fgraphics%2F1x%2Fsprite-705-107.pngR6i326R9tgoR0i72545R1zR2R7R4y43:assets%2Fgraphics%2F1x%2Fsprite-705-108.pngR6i381R9tgoR0i72926R1zR2R7R4y43:assets%2Fgraphics%2F1x%2Fsprite-705-109.pngR6i351R9tgoR0i73277R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-11.pngR6i315R9tgoR0i73592R1zR2R7R4y43:assets%2Fgraphics%2F1x%2Fsprite-705-110.pngR6i243R9tgoR0i73835R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-12.pngR6i297R9tgoR0i74132R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-13.pngR6i347R9tgoR0i74479R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-14.pngR6i297R9tgoR0i74776R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-15.pngR6i296R9tgoR0i75072R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-16.pngR6i296R9tgoR0i75368R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-17.pngR6i295R9tgoR0i75663R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-18.pngR6i296R9tgoR0i75959R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-19.pngR6i292R9tgoR0i76251R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-705-2.pngR6i226R9tgoR0i76477R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-20.pngR6i294R9tgoR0i76771R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-21.pngR6i293R9tgoR0i77064R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-22.pngR6i295R9tgoR0i77359R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-23.pngR6i292R9tgoR0i77651R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-24.pngR6i292R9tgoR0i77943R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-25.pngR6i292R9tgoR0i78235R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-26.pngR6i294R9tgoR0i78529R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-27.pngR6i296R9tgoR0i78825R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-28.pngR6i289R9tgoR0i79114R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-29.pngR6i290R9tgoR0i79404R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-705-3.pngR6i295R9tgoR0i79699R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-30.pngR6i323R9tgoR0i80022R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-31.pngR6i323R9tgoR0i80345R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-32.pngR6i329R9tgoR0i80674R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-33.pngR6i327R9tgoR0i81001R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-34.pngR6i328R9tgoR0i81329R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-35.pngR6i303R9tgoR0i81632R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-36.pngR6i346R9tgoR0i81978R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-37.pngR6i334R9tgoR0i82312R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-38.pngR6i338R9tgoR0i82650R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-39.pngR6i334R9tgoR0i82984R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-705-4.pngR6i298R9tgoR0i83282R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-40.pngR6i287R9tgoR0i83569R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-41.pngR6i298R9tgoR0i83867R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-42.pngR6i316R9tgoR0i84183R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-43.pngR6i313R9tgoR0i84496R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-44.pngR6i286R9tgoR0i84782R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-45.pngR6i330R9tgoR0i85112R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-46.pngR6i336R9tgoR0i85448R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-47.pngR6i305R9tgoR0i85753R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-48.pngR6i307R9tgoR0i86060R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-49.pngR6i269R9tgoR0i86329R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-705-5.pngR6i295R9tgoR0i86624R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-50.pngR6i295R9tgoR0i86919R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-51.pngR6i309R9tgoR0i87228R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-52.pngR6i239R9tgoR0i87467R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-53.pngR6i320R9tgoR0i87787R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-54.pngR6i314R9tgoR0i88101R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-55.pngR6i229R9tgoR0i88330R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-56.pngR6i305R9tgoR0i88635R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-57.pngR6i270R9tgoR0i88905R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-58.pngR6i302R9tgoR0i89207R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-59.pngR6i236R9tgoR0i89443R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-705-6.pngR6i328R9tgoR0i89771R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-60.pngR6i349R9tgoR0i90120R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-61.pngR6i324R9tgoR0i90444R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-62.pngR6i359R9tgoR0i90803R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-63.pngR6i325R9tgoR0i91128R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-64.pngR6i371R9tgoR0i91499R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-65.pngR6i326R9tgoR0i91825R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-66.pngR6i337R9tgoR0i92162R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-67.pngR6i332R9tgoR0i92494R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-68.pngR6i314R9tgoR0i92808R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-69.pngR6i330R9tgoR0i93138R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-705-7.pngR6i328R9tgoR0i93466R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-70.pngR6i336R9tgoR0i93802R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-71.pngR6i361R9tgoR0i94163R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-72.pngR6i308R9tgoR0i94471R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-73.pngR6i352R9tgoR0i94823R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-74.pngR6i324R9tgoR0i95147R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-75.pngR6i433R9tgoR0i95580R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-76.pngR6i353R9tgoR0i95933R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-77.pngR6i332R9tgoR0i96265R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-78.pngR6i301R9tgoR0i96566R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-79.pngR6i361R9tgoR0i96927R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-705-8.pngR6i327R9tgoR0i97254R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-80.pngR6i368R9tgoR0i97622R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-81.pngR6i366R9tgoR0i97988R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-83.pngR6i397R9tgoR0i98385R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-84.pngR6i462R9tgoR0i98847R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-85.pngR6i369R9tgoR0i99216R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-86.pngR6i393R9tgoR0i99609R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-87.pngR6i390R9tgoR0i99999R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-88.pngR6i390R9tgoR0i100389R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-705-9.pngR6i294R9tgoR0i100683R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-90.pngR6i371R9tgoR0i101054R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-91.pngR6i250R9tgoR0i101304R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-92.pngR6i413R9tgoR0i101717R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-93.pngR6i352R9tgoR0i102069R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-94.pngR6i1271R9tgoR0i103340R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-95.pngR6i318R9tgoR0i103658R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-96.pngR6i319R9tgoR0i103977R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-97.pngR6i330R9tgoR0i104307R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-98.pngR6i365R9tgoR0i104672R1zR2R7R4y42:assets%2Fgraphics%2F1x%2Fsprite-705-99.pngR6i325R9tgoR0i104997R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-707-0.pngR6i258R9tgoR0i105255R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-709-0.pngR6i259R9tgoR0i105514R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-711-0.pngR6i181R9tgoR0i105695R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-711-1.pngR6i169R9tgoR0i105864R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-713-0.pngR6i262R9tgoR0i106126R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-713-1.pngR6i244R9tgoR0i106370R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-715-0.pngR6i247R9tgoR0i106617R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-715-1.pngR6i233R9tgoR0i106850R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-717-0.pngR6i215R9tgoR0i107065R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-717-1.pngR6i216R9tgoR0i107281R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-717-2.pngR6i219R9tgoR0i107500R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-717-3.pngR6i191R9tgoR0i107691R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-719-0.pngR6i140R9tgoR0i107831R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-719-1.pngR6i143R9tgoR0i107974R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-719-2.pngR6i143R9tgoR0i108117R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-719-3.pngR6i140R9tgoR0i108257R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-719-4.pngR6i148R9tgoR0i108405R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-719-5.pngR6i151R9tgoR0i108556R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-719-6.pngR6i137R9tgoR0i108693R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-721-0.pngR6i285R9tgoR0i108978R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-721-1.pngR6i169R9tgoR0i109147R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-721-2.pngR6i186R9tgoR0i109333R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-723-0.pngR6i236R9tgoR0i109569R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-723-1.pngR6i165R9tgoR0i109734R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-725-3.pngR6i191R9tgoR0i109925R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-725-4.pngR6i193R9tgoR0i110118R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-731-0.pngR6i1487R9tgoR0i111605R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-733-0.pngR6i646R9tgoR0i112251R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-737-0.pngR6i163R9tgoR0i112414R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-739-0.pngR6i150R9tgoR0i112564R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-741-0.pngR6i115R9tgoR0i112679R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-743-0.pngR6i156R9tgoR0i112835R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-743-1.pngR6i151R9tgoR0i112986R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-745-0.pngR6i133R9tgoR0i113119R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-747-0.pngR6i132R9tgoR0i113251R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-749-0.pngR6i107R9tgoR0i113358R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-751-0.pngR6i150R9tgoR0i113508R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-753-1.pngR6i141R9tgoR0i113649R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-753-2.pngR6i157R9tgoR0i113806R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-755-1.pngR6i137R9tgoR0i113943R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-755-2.pngR6i162R9tgoR0i114105R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-755-3.pngR6i162R9tgoR0i114267R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-755-4.pngR6i163R9tgoR0i114430R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-755-5.pngR6i153R9tgoR0i114583R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-757-0.pngR6i246R9tgoR0i114829R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-759-4.pngR6i162R9tgoR0i114991R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-759-5.pngR6i164R9tgoR0i115155R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-759-6.pngR6i118R9tgoR0i115273R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-759-7.pngR6i154R9tgoR0i115427R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-761-0.pngR6i6257R9tgoR0i121684R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-763-0.pngR6i126R9tgoR0i121810R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-763-1.pngR6i124R9tgoR0i121934R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-765-0.pngR6i108R9tgoR0i122042R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-768-0.pngR6i120R9tgoR0i122162R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-768-1.pngR6i153R9tgoR0i122315R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-770-0.pngR6i128R9tgoR0i122443R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-772-0.pngR6i279R9tgoR0i122722R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-772-1.pngR6i226R9tgoR0i122948R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-772-2.pngR6i235R9tgoR0i123183R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-776-0.pngR6i1900R9tgoR0i125083R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-778-0.pngR6i5272R9tgoR0i130355R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-780-0.pngR6i286R9tgoR0i130641R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-780-1.pngR6i274R9tgoR0i130915R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-782-0.pngR6i227R9tgoR0i131142R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-782-1.pngR6i209R9tgoR0i131351R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-784-0.pngR6i264R9tgoR0i131615R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-784-1.pngR6i276R9tgoR0i131891R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-790-0.pngR6i294R9tgoR0i132185R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-792-0.pngR6i241R9tgoR0i132426R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-792-1.pngR6i234R9tgoR0i132660R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-792-2.pngR6i265R9tgoR0i132925R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-792-3.pngR6i263R9tgoR0i133188R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-794-0.pngR6i233R9tgoR0i133421R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-794-1.pngR6i227R9tgoR0i133648R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-794-2.pngR6i254R9tgoR0i133902R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-794-3.pngR6i251R9tgoR0i134153R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-796-0.pngR6i216R9tgoR0i134369R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-796-1.pngR6i213R9tgoR0i134582R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-798-0.pngR6i143R9tgoR0i134725R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-800-0.pngR6i141R9tgoR0i134866R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-805-1.pngR6i422R9tgoR0i135288R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-805-2.pngR6i409R9tgoR0i135697R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-805-3.pngR6i426R9tgoR0i136123R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-807-0.pngR6i426R9tgoR0i136549R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-807-1.pngR6i373R9tgoR0i136922R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-809-0.pngR6i362R9tgoR0i137284R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-809-1.pngR6i349R9tgoR0i137633R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-809-2.pngR6i314R9tgoR0i137947R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-809-3.pngR6i307R9tgoR0i138254R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-811-0.pngR6i301R9tgoR0i138555R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-811-1.pngR6i286R9tgoR0i138841R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-811-2.pngR6i292R9tgoR0i139133R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-811-3.pngR6i265R9tgoR0i139398R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-811-4.pngR6i263R9tgoR0i139661R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-811-5.pngR6i262R9tgoR0i139923R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-811-6.pngR6i268R9tgoR0i140191R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-813-0.pngR6i457R9tgoR0i140648R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-813-1.pngR6i273R9tgoR0i140921R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-813-2.pngR6i349R9tgoR0i141270R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-813-3.pngR6i454R9tgoR0i141724R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-815-0.pngR6i972R9tgoR0i142696R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-815-1.pngR6i460R9tgoR0i143156R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-817-0.pngR6i441R9tgoR0i143597R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-817-1.pngR6i410R9tgoR0i144007R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-820-0.pngR6i324R9tgoR0i144331R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-820-1.pngR6i294R9tgoR0i144625R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-822-0.pngR6i408R9tgoR0i145033R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-822-1.pngR6i389R9tgoR0i145422R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-822-2.pngR6i410R9tgoR0i145832R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-822-3.pngR6i394R9tgoR0i146226R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-822-4.pngR6i301R9tgoR0i146527R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-824-0.pngR6i286R9tgoR0i146813R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-824-1.pngR6i277R9tgoR0i147090R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-826-0.pngR6i245R9tgoR0i147335R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-826-1.pngR6i230R9tgoR0i147565R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-830-0.pngR6i323R9tgoR0i147888R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-830-1.pngR6i301R9tgoR0i148189R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-830-2.pngR6i304R9tgoR0i148493R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-830-3.pngR6i322R9tgoR0i148815R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-830-4.pngR6i304R9tgoR0i149119R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-832-1.pngR6i390R9tgoR0i149509R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-832-2.pngR6i426R9tgoR0i149935R1zR2R7R4y41:assets%2Fgraphics%2F1x%2Fsprite-834-0.pngR6i244R9tgoR0i150179R1zR2R7R4y40:assets%2Fgraphics%2F1x%2Ftileset-546.pngR6i7494R9tgoR0i157673R1zR2R3R4y36:assets%2Fgraphics%2Fdefault-font.fntR6i1057goR0i158730R1zR2R7R4y36:assets%2Fgraphics%2Fdefault-font.pngR6i1759R9tgoR1i1293373R2y5:MUSICR4y30:assets%2Fmusic%2Fsound-554.mp3y9:pathGroupaR414y30:assets%2Fmusic%2Fsound-554.ogghR9tgoR1i1879R2R413R4y30:assets%2Fmusic%2Fsound-627.mp3R415aR417y30:assets%2Fmusic%2Fsound-627.ogghR9tgoR1i993761R2R413R4R416R415aR414R416hgoR1i4230R2R413R4R418R415aR417R418hgoR1i2506R2y5:SOUNDR4y28:assets%2Fsfx%2Fsound-261.mp3R415aR420y28:assets%2Fsfx%2Fsound-261.ogghR9tgoR1i19643R2R419R4y28:assets%2Fsfx%2Fsound-496.mp3R415aR422y28:assets%2Fsfx%2Fsound-496.ogghR9tgoR1i5014R2R419R4y28:assets%2Fsfx%2Fsound-553.mp3R415aR424y28:assets%2Fsfx%2Fsound-553.ogghR9tgoR1i21941R2R419R4y28:assets%2Fsfx%2Fsound-557.mp3R415aR426y28:assets%2Fsfx%2Fsound-557.ogghR9tgoR1i5641R2R419R4y28:assets%2Fsfx%2Fsound-562.mp3R415aR428y28:assets%2Fsfx%2Fsound-562.ogghR9tgoR1i19434R2R419R4y28:assets%2Fsfx%2Fsound-574.mp3R415aR430y28:assets%2Fsfx%2Fsound-574.ogghR9tgoR1i10030R2R419R4y28:assets%2Fsfx%2Fsound-594.mp3R415aR432y28:assets%2Fsfx%2Fsound-594.ogghR9tgoR1i19434R2R419R4y28:assets%2Fsfx%2Fsound-605.mp3R415aR434y28:assets%2Fsfx%2Fsound-605.ogghR9tgoR1i82128R2R419R4y28:assets%2Fsfx%2Fsound-614.mp3R415aR436y28:assets%2Fsfx%2Fsound-614.ogghR9tgoR1i16926R2R419R4y28:assets%2Fsfx%2Fsound-625.mp3R415aR438y28:assets%2Fsfx%2Fsound-625.ogghR9tgoR1i596217R2R419R4y28:assets%2Fsfx%2Fsound-626.mp3R415aR440y28:assets%2Fsfx%2Fsound-626.ogghR9tgoR1i10866R2R419R4y28:assets%2Fsfx%2Fsound-680.mp3R415aR442y28:assets%2Fsfx%2Fsound-680.ogghR9tgoR1i66454R2R419R4y28:assets%2Fsfx%2Fsound-683.mp3R415aR444y28:assets%2Fsfx%2Fsound-683.ogghR9tgoR1i53915R2R419R4y28:assets%2Fsfx%2Fsound-734.mp3R415aR446y28:assets%2Fsfx%2Fsound-734.ogghR9tgoR1i5158R2R419R4R421R415aR420R421hgoR1i16662R2R419R4R423R415aR422R423hgoR1i5605R2R419R4R425R415aR424R425hgoR1i14527R2R419R4R427R415aR426R427hgoR1i5777R2R419R4R429R415aR428R429hgoR1i22802R2R419R4R431R415aR430R431hgoR1i8140R2R419R4R433R415aR432R433hgoR1i12230R2R419R4R435R415aR434R435hgoR1i93300R2R419R4R437R415aR436R437hgoR1i20209R2R419R4R439R415aR438R439hgoR1i417040R2R419R4R441R415aR440R441hgoR1i14603R2R419R4R443R415aR442R443hgoR1i65025R2R419R4R445R415aR444R445hgoR1i30348R2R419R4R447R415aR446R447hgoR0i160489R1zR2R7R4y33:assets%2Fdata%2F1_skin0_white.pngR6i1330R9tgoR0i161819R1zR2R7R4y36:assets%2Fdata%2F1_skin100_domino.pngR6i1586R9tgoR0i163405R1zR2R7R4y37:assets%2Fdata%2F1_skin100_domino2.pngR6i1564R9tgoR0i164969R1zR2R7R4y39:assets%2Fdata%2F1_skin101_disguised.pngR6i1794R9tgoR0i166763R1zR2R7R4y39:assets%2Fdata%2F1_skin102_monstrous.pngR6i2051R9tgoR0i168814R1zR2R7R4y39:assets%2Fdata%2F1_skin103_carbuncle.pngR6i2225R9tgoR0i171039R1zR2R7R4y38:assets%2Fdata%2F1_skin104_phosphor.pngR6i1037R9tgoR0i172076R1zR2R7R4y40:assets%2Fdata%2F1_skin10_californian.pngR6i1851R9tgoR0i173927R1zR2R7R4y38:assets%2Fdata%2F1_skin11_chocolate.pngR6i1684R9tgoR0i175611R1zR2R7R4y37:assets%2Fdata%2F1_skin12_tricolor.pngR6i1956R9tgoR0i177567R1zR2R7R4y39:assets%2Fdata%2F1_skin13_blackotter.pngR6i1832R9tgoR0i179399R1zR2R7R4y32:assets%2Fdata%2F1_skin14_red.pngR6i1416R9tgoR0i180815R1zR2R7R4y35:assets%2Fdata%2F1_skin15_castor.pngR6i1478R9tgoR0i182293R1zR2R7R4y33:assets%2Fdata%2F1_skin16_gray.pngR6i1464R9tgoR0i183757R1zR2R7R4y33:assets%2Fdata%2F1_skin17_moss.pngR6i1469R9tgoR0i185226R1zR2R7R4y33:assets%2Fdata%2F1_skin18_pink.pngR6i1422R9tgoR0i186648R1zR2R7R4y34:assets%2Fdata%2F1_skin19_green.pngR6i1460R9tgoR0i188108R1zR2R7R4y32:assets%2Fdata%2F1_skin1_navy.pngR6i1453R9tgoR0i189561R1zR2R7R4y38:assets%2Fdata%2F1_skin20_lightblue.pngR6i1438R9tgoR0i190999R1zR2R7R4y35:assets%2Fdata%2F1_skin21_purple.pngR6i1455R9tgoR0i192454R1zR2R7R4y35:assets%2Fdata%2F1_skin22_yellow.pngR6i1452R9tgoR0i193906R1zR2R7R4y36:assets%2Fdata%2F1_skin23_scarlet.pngR6i1422R9tgoR0i195328R1zR2R7R4y33:assets%2Fdata%2F1_skin24_blue.pngR6i1434R9tgoR0i196762R1zR2R7R4y33:assets%2Fdata%2F1_skin25_lime.pngR6i1457R9tgoR0i198219R1zR2R7R4y33:assets%2Fdata%2F1_skin26_cyan.pngR6i1439R9tgoR0i199658R1zR2R7R4y35:assets%2Fdata%2F1_skin27_orange.pngR6i1479R9tgoR0i201137R1zR2R7R4y36:assets%2Fdata%2F1_skin28_magenta.pngR6i1453R9tgoR0i202590R1zR2R7R4y32:assets%2Fdata%2F1_skin29_rgb.pngR6i1931R9tgoR0i204521R1zR2R7R4y33:assets%2Fdata%2F1_skin2_brown.pngR6i1786R9tgoR0i206307R1zR2R7R4y34:assets%2Fdata%2F1_skin30_tiger.pngR6i1934R9tgoR0i208241R1zR2R7R4y36:assets%2Fdata%2F1_skin31_pumpkin.pngR6i1838R9tgoR0i210079R1zR2R7R4y34:assets%2Fdata%2F1_skin32_robot.pngR6i1804R9tgoR0i211883R1zR2R7R4y38:assets%2Fdata%2F1_skin33_steampunk.pngR6i1872R9tgoR0i213755R1zR2R7R4y34:assets%2Fdata%2F1_skin34_water.pngR6i1617R9tgoR0i215372R1zR2R7R4y33:assets%2Fdata%2F1_skin35_camo.pngR6i1833R9tgoR0i217205R1zR2R7R4y33:assets%2Fdata%2F1_skin36_wood.pngR6i1857R9tgoR0i219062R1zR2R7R4y34:assets%2Fdata%2F1_skin37_stone.pngR6i1756R9tgoR0i220818R1zR2R7R4y33:assets%2Fdata%2F1_skin38_fire.pngR6i1786R9tgoR0i222604R1zR2R7R4y37:assets%2Fdata%2F1_skin39_negative.pngR6i1390R9tgoR0i223994R1zR2R7R4y33:assets%2Fdata%2F1_skin3_black.pngR6i1447R9tgoR0i225441R1zR2R7R4y40:assets%2Fdata%2F1_skin40_transparent.pngR6i1334R9tgoR0i226775R1zR2R7R4y34:assets%2Fdata%2F1_skin41_angel.pngR6i1832R9tgoR0i228607R1zR2R7R4y32:assets%2Fdata%2F1_skin42_imp.pngR6i1719R9tgoR0i230326R1zR2R7R4y31:assets%2Fdata%2F1_skin43_gb.pngR6i1704R9tgoR0i232030R1zR2R7R4y35:assets%2Fdata%2F1_skin44_frozen.pngR6i2263R9tgoR0i234293R1zR2R7R4y36:assets%2Fdata%2F1_skin45_rainbow.pngR6i1983R9tgoR0i236276R1zR2R7R4y34:assets%2Fdata%2F1_skin46_alien.pngR6i1673R9tgoR0i237949R1zR2R7R4y40:assets%2Fdata%2F1_skin47_fluffywhite.pngR6i1498R9tgoR0i239447R1zR2R7R4y39:assets%2Fdata%2F1_skin48_upsidedown.pngR6i1538R9tgoR0i240985R1zR2R7R4y33:assets%2Fdata%2F1_skin49_dark.pngR6i1665R9tgoR0i242650R1zR2R7R4y40:assets%2Fdata%2F1_skin49_fluffybrown.pngR6i1618R9tgoR0i244268R1zR2R7R4y33:assets%2Fdata%2F1_skin4_beige.pngR6i1421R9tgoR0i245689R1zR2R7R4y35:assets%2Fdata%2F1_skin50_chonky.pngR6i1648R9tgoR0i247337R1zR2R7R4y33:assets%2Fdata%2F1_skin51_mini.pngR6i1490R9tgoR0i248827R1zR2R7R4y39:assets%2Fdata%2F1_skin52_sabretooth.pngR6i2010R9tgoR0i250837R1zR2R7R4y37:assets%2Fdata%2F1_skin53_electric.pngR6i1742R9tgoR0i252579R1zR2R7R4y39:assets%2Fdata%2F1_skin54_silhouette.pngR6i939R9tgoR0i253518R1zR2R7R4y33:assets%2Fdata%2F1_skin55_frog.pngR6i1593R9tgoR0i255111R1zR2R7R4y34:assets%2Fdata%2F1_skin55_gooey.pngR6i1746R9tgoR0i256857R1zR2R7R4y32:assets%2Fdata%2F1_skin56_pig.pngR6i1737R9tgoR0i258594R1zR2R7R4y33:assets%2Fdata%2F1_skin56_snow.pngR6i1362R9tgoR0i259956R1zR2R7R4y34:assets%2Fdata%2F1_skin57_mouse.pngR6i1778R9tgoR0i261734R1zR2R7R4y36:assets%2Fdata%2F1_skin57_vampire.pngR6i1778R9tgoR0i263512R1zR2R7R4y32:assets%2Fdata%2F1_skin58_cat.pngR6i1737R9tgoR0i265249R1zR2R7R4y35:assets%2Fdata%2F1_skin58_cosmic.pngR6i1110R9tgoR0i266359R1zR2R7R4y37:assets%2Fdata%2F1_skin59_capybara.pngR6i1622R9tgoR0i267981R1zR2R7R4y35:assets%2Fdata%2F1_skin59_silver.pngR6i1740R9tgoR0i269721R1zR2R7R4y37:assets%2Fdata%2F1_skin5_brownspot.pngR6i1911R9tgoR0i271632R1zR2R7R4y36:assets%2Fdata%2F1_skin60_psychic.pngR6i1904R9tgoR0i273536R1zR2R7R4y39:assets%2Fdata%2F1_skin61_jackrabbit.pngR6i2171R9tgoR0i275707R1zR2R7R4y34:assets%2Fdata%2F1_skin62_shark.pngR6i2374R9tgoR0i278081R1zR2R7R4y38:assets%2Fdata%2F1_skin63_jackalope.pngR6i2281R9tgoR0i280362R1zR2R7R4y37:assets%2Fdata%2F1_skin64_usadachi.pngR6i1782R9tgoR0i282144R1zR2R7R4y33:assets%2Fdata%2F1_skin65_punk.pngR6i1930R9tgoR0i284074R1zR2R7R4y33:assets%2Fdata%2F1_skin66_goth.pngR6i1896R9tgoR0i285970R1zR2R7R4y33:assets%2Fdata%2F1_skin67_moon.pngR6i1727R9tgoR0i287697R1zR2R7R4y39:assets%2Fdata%2F1_skin68_caerbannog.pngR6i1790R9tgoR0i289487R1zR2R7R4y34:assets%2Fdata%2F1_skin69_foxxy.pngR6i2217R9tgoR0i291704R1zR2R7R4y36:assets%2Fdata%2F1_skin6_bluespot.pngR6i1738R9tgoR0i293442R1zR2R7R4y33:assets%2Fdata%2F1_skin70_dust.pngR6i2365R9tgoR0i295807R1zR2R7R4y33:assets%2Fdata%2F1_skin71_kami.pngR6i1841R9tgoR0i297648R1zR2R7R4y36:assets%2Fdata%2F1_skin72_almiraj.pngR6i2025R9tgoR0i299673R1zR2R7R4y36:assets%2Fdata%2F1_skin73_skvader.pngR6i2066R9tgoR0i301739R1zR2R7R4y40:assets%2Fdata%2F1_skin74_warcriminal.pngR6i2362R9tgoR0i304101R1zR2R7R4y35:assets%2Fdata%2F1_skin75_golden.pngR6i1625R9tgoR0i305726R1zR2R7R4y35:assets%2Fdata%2F1_skin76_divine.pngR6i1704R9tgoR0i307430R1zR2R7R4y40:assets%2Fdata%2F1_skin77_neutronized.pngR6i1732R9tgoR0i309162R1zR2R7R4y35:assets%2Fdata%2F1_skin78_carrot.pngR6i2236R9tgoR0i311398R1zR2R7R4y41:assets%2Fdata%2F1_skin79_goldencarrot.pngR6i1955R9tgoR0i313353R1zR2R7R4y37:assets%2Fdata%2F1_skin7_blackspot.pngR6i1713R9tgoR0i315066R1zR2R7R4y36:assets%2Fdata%2F1_skin80_chester.pngR6i2153R9tgoR0i317219R1zR2R7R4y34:assets%2Fdata%2F1_skin81_timmy.pngR6i2325R9tgoR0i319544R1zR2R7R4y39:assets%2Fdata%2F1_skin82_dashington.pngR6i2110R9tgoR0i321654R1zR2R7R4y34:assets%2Fdata%2F1_skin83_heart.pngR6i2124R9tgoR0i323778R1zR2R7R4y33:assets%2Fdata%2F1_skin84_star.pngR6i2071R9tgoR0i325849R1zR2R7R4y33:assets%2Fdata%2F1_skin85_mage.pngR6i2194R9tgoR0i328043R1zR2R7R4y35:assets%2Fdata%2F1_skin86_knight.pngR6i2628R9tgoR0i330671R1zR2R7R4y35:assets%2Fdata%2F1_skin87_ranger.pngR6i3013R9tgoR0i333684R1zR2R7R4y33:assets%2Fdata%2F1_skin88_king.pngR6i2246R9tgoR0i335930R1zR2R7R4y37:assets%2Fdata%2F1_skin89_original.pngR6i1489R9tgoR0i337419R1zR2R7R4y38:assets%2Fdata%2F1_skin8_chinchilla.pngR6i1361R9tgoR0i338780R1zR2R7R4y34:assets%2Fdata%2F1_skin90_fairy.pngR6i1679R9tgoR0i340459R1zR2R7R4y34:assets%2Fdata%2F1_skin91_pixie.pngR6i1837R9tgoR0i342296R1zR2R7R4y34:assets%2Fdata%2F1_skin92_ninja.pngR6i2116R9tgoR0i344412R1zR2R7R4y37:assets%2Fdata%2F1_skin93_infernal.pngR6i1917R9tgoR0i346329R1zR2R7R4y37:assets%2Fdata%2F1_skin94_ethereal.pngR6i1410R9tgoR0i347739R1zR2R7R4y35:assets%2Fdata%2F1_skin95_zombie.pngR6i2136R9tgoR0i349875R1zR2R7R4y37:assets%2Fdata%2F1_skin96_triplets.pngR6i2292R9tgoR0i352167R1zR2R7R4y34:assets%2Fdata%2F1_skin97_ghost.pngR6i1563R9tgoR0i353730R1zR2R7R4y36:assets%2Fdata%2F1_skin98_crystal.pngR6i2003R9tgoR0i355733R1zR2R7R4y35:assets%2Fdata%2F1_skin99_astral.pngR6i1752R9tgoR0i357485R1zR2R7R4y36:assets%2Fdata%2F1_skin9_cinnamon.pngR6i1746R9tgoR0i359231R1zR2R7R4y33:assets%2Fdata%2F2_skin0_white.pngR6i2048R9tgoR0i361279R1zR2R7R4y36:assets%2Fdata%2F2_skin100_domino.pngR6i2555R9tgoR0i363834R1zR2R7R4y37:assets%2Fdata%2F2_skin100_domino2.pngR6i2585R9tgoR0i366419R1zR2R7R4y39:assets%2Fdata%2F2_skin101_disguised.pngR6i2708R9tgoR0i369127R1zR2R7R4y39:assets%2Fdata%2F2_skin102_monstrous.pngR6i2993R9tgoR0i372120R1zR2R7R4y39:assets%2Fdata%2F2_skin103_carbuncle.pngR6i3243R9tgoR0i375363R1zR2R7R4y38:assets%2Fdata%2F2_skin104_phosphor.pngR6i1678R9tgoR0i377041R1zR2R7R4y40:assets%2Fdata%2F2_skin10_californian.pngR6i2777R9tgoR0i379818R1zR2R7R4y38:assets%2Fdata%2F2_skin11_chocolate.pngR6i2350R9tgoR0i382168R1zR2R7R4y37:assets%2Fdata%2F2_skin12_tricolor.pngR6i2977R9tgoR0i385145R1zR2R7R4y39:assets%2Fdata%2F2_skin13_blackotter.pngR6i2709R9tgoR0i387854R1zR2R7R4y32:assets%2Fdata%2F2_skin14_red.pngR6i2292R9tgoR0i390146R1zR2R7R4y35:assets%2Fdata%2F2_skin15_castor.pngR6i2254R9tgoR0i392400R1zR2R7R4y33:assets%2Fdata%2F2_skin16_gray.pngR6i2241R9tgoR0i394641R1zR2R7R4y33:assets%2Fdata%2F2_skin17_moss.pngR6i2275R9tgoR0i396916R1zR2R7R4y33:assets%2Fdata%2F2_skin18_pink.pngR6i2280R9tgoR0i399196R1zR2R7R4y34:assets%2Fdata%2F2_skin19_green.pngR6i2323R9tgoR0i401519R1zR2R7R4y32:assets%2Fdata%2F2_skin1_navy.pngR6i2245R9tgoR0i403764R1zR2R7R4y38:assets%2Fdata%2F2_skin20_lightblue.pngR6i2279R9tgoR0i406043R1zR2R7R4y35:assets%2Fdata%2F2_skin21_purple.pngR6i2284R9tgoR0i408327R1zR2R7R4y35:assets%2Fdata%2F2_skin22_yellow.pngR6i2342R9tgoR0i410669R1zR2R7R4y36:assets%2Fdata%2F2_skin23_scarlet.pngR6i2306R9tgoR0i412975R1zR2R7R4y33:assets%2Fdata%2F2_skin24_blue.pngR6i2290R9tgoR0i415265R1zR2R7R4y33:assets%2Fdata%2F2_skin25_lime.pngR6i2383R9tgoR0i417648R1zR2R7R4y33:assets%2Fdata%2F2_skin26_cyan.pngR6i2374R9tgoR0i420022R1zR2R7R4y35:assets%2Fdata%2F2_skin27_orange.pngR6i2380R9tgoR0i422402R1zR2R7R4y36:assets%2Fdata%2F2_skin28_magenta.pngR6i2334R9tgoR0i424736R1zR2R7R4y32:assets%2Fdata%2F2_skin29_rgb.pngR6i3334R9tgoR0i428070R1zR2R7R4y33:assets%2Fdata%2F2_skin2_brown.pngR6i2291R9tgoR0i430361R1zR2R7R4y34:assets%2Fdata%2F2_skin30_tiger.pngR6i2976R9tgoR0i433337R1zR2R7R4y36:assets%2Fdata%2F2_skin31_pumpkin.pngR6i2864R9tgoR0i436201R1zR2R7R4y34:assets%2Fdata%2F2_skin32_robot.pngR6i2726R9tgoR0i438927R1zR2R7R4y38:assets%2Fdata%2F2_skin33_steampunk.pngR6i2973R9tgoR0i441900R1zR2R7R4y34:assets%2Fdata%2F2_skin34_water.pngR6i2600R9tgoR0i444500R1zR2R7R4y33:assets%2Fdata%2F2_skin35_camo.pngR6i2710R9tgoR0i447210R1zR2R7R4y33:assets%2Fdata%2F2_skin36_wood.pngR6i2743R9tgoR0i449953R1zR2R7R4y34:assets%2Fdata%2F2_skin37_stone.pngR6i2790R9tgoR0i452743R1zR2R7R4y33:assets%2Fdata%2F2_skin38_fire.pngR6i2831R9tgoR0i455574R1zR2R7R4y37:assets%2Fdata%2F2_skin39_negative.pngR6i2191R9tgoR0i457765R1zR2R7R4y33:assets%2Fdata%2F2_skin3_black.pngR6i2227R9tgoR0i459992R1zR2R7R4y40:assets%2Fdata%2F2_skin40_transparent.pngR6i2132R9tgoR0i462124R1zR2R7R4y34:assets%2Fdata%2F2_skin41_angel.pngR6i2791R9tgoR0i464915R1zR2R7R4y32:assets%2Fdata%2F2_skin42_imp.pngR6i2777R9tgoR0i467692R1zR2R7R4y31:assets%2Fdata%2F2_skin43_gb.pngR6i2341R9tgoR0i470033R1zR2R7R4y35:assets%2Fdata%2F2_skin44_frozen.pngR6i3245R9tgoR0i473278R1zR2R7R4y36:assets%2Fdata%2F2_skin45_rainbow.pngR6i3233R9tgoR0i476511R1zR2R7R4y34:assets%2Fdata%2F2_skin46_alien.pngR6i2658R9tgoR0i479169R1zR2R7R4y40:assets%2Fdata%2F2_skin47_fluffywhite.pngR6i2405R9tgoR0i481574R1zR2R7R4y39:assets%2Fdata%2F2_skin48_upsidedown.pngR6i2296R9tgoR0i483870R1zR2R7R4y33:assets%2Fdata%2F2_skin49_dark.pngR6i2537R9tgoR0i486407R1zR2R7R4y40:assets%2Fdata%2F2_skin49_fluffybrown.pngR6i2606R9tgoR0i489013R1zR2R7R4y33:assets%2Fdata%2F2_skin4_beige.pngR6i2294R9tgoR0i491307R1zR2R7R4y35:assets%2Fdata%2F2_skin50_chonky.pngR6i2673R9tgoR0i493980R1zR2R7R4y33:assets%2Fdata%2F2_skin51_mini.pngR6i1943R9tgoR0i495923R1zR2R7R4y39:assets%2Fdata%2F2_skin52_sabretooth.pngR6i3125R9tgoR0i499048R1zR2R7R4y37:assets%2Fdata%2F2_skin53_electric.pngR6i2460R9tgoR0i501508R1zR2R7R4y39:assets%2Fdata%2F2_skin54_silhouette.pngR6i1461R9tgoR0i502969R1zR2R7R4y33:assets%2Fdata%2F2_skin55_frog.pngR6i1593R9tgoR0i504562R1zR2R7R4y34:assets%2Fdata%2F2_skin55_gooey.pngR6i2731R9tgoR0i507293R1zR2R7R4y32:assets%2Fdata%2F2_skin56_pig.pngR6i2610R9tgoR0i509903R1zR2R7R4y33:assets%2Fdata%2F2_skin56_snow.pngR6i2078R9tgoR0i511981R1zR2R7R4y34:assets%2Fdata%2F2_skin57_mouse.pngR6i2808R9tgoR0i514789R1zR2R7R4y36:assets%2Fdata%2F2_skin57_vampire.pngR6i2683R9tgoR0i517472R1zR2R7R4y32:assets%2Fdata%2F2_skin58_cat.pngR6i2620R9tgoR0i520092R1zR2R7R4y35:assets%2Fdata%2F2_skin58_cosmic.pngR6i1699R9tgoR0i521791R1zR2R7R4y37:assets%2Fdata%2F2_skin59_capybara.pngR6i2523R9tgoR0i524314R1zR2R7R4y35:assets%2Fdata%2F2_skin59_silver.pngR6i2779R9tgoR0i527093R1zR2R7R4y37:assets%2Fdata%2F2_skin5_brownspot.pngR6i2758R9tgoR0i529851R1zR2R7R4y36:assets%2Fdata%2F2_skin60_psychic.pngR6i2807R9tgoR0i532658R1zR2R7R4y39:assets%2Fdata%2F2_skin61_jackrabbit.pngR6i3649R9tgoR0i536307R1zR2R7R4y34:assets%2Fdata%2F2_skin62_shark.pngR6i3381R9tgoR0i539688R1zR2R7R4y38:assets%2Fdata%2F2_skin63_jackalope.pngR6i3627R9tgoR0i543315R1zR2R7R4y37:assets%2Fdata%2F2_skin64_usadachi.pngR6i2670R9tgoR0i545985R1zR2R7R4y33:assets%2Fdata%2F2_skin65_punk.pngR6i3008R9tgoR0i548993R1zR2R7R4y33:assets%2Fdata%2F2_skin66_goth.pngR6i2939R9tgoR0i551932R1zR2R7R4y33:assets%2Fdata%2F2_skin67_moon.pngR6i2733R9tgoR0i554665R1zR2R7R4y39:assets%2Fdata%2F2_skin68_caerbannog.pngR6i2785R9tgoR0i557450R1zR2R7R4y34:assets%2Fdata%2F2_skin69_foxxy.pngR6i3340R9tgoR0i560790R1zR2R7R4y36:assets%2Fdata%2F2_skin6_bluespot.pngR6i2737R9tgoR0i563527R1zR2R7R4y33:assets%2Fdata%2F2_skin70_dust.pngR6i3843R9tgoR0i567370R1zR2R7R4y33:assets%2Fdata%2F2_skin71_kami.pngR6i2639R9tgoR0i570009R1zR2R7R4y36:assets%2Fdata%2F2_skin72_almiraj.pngR6i3026R9tgoR0i573035R1zR2R7R4y36:assets%2Fdata%2F2_skin73_skvader.pngR6i3172R9tgoR0i576207R1zR2R7R4y40:assets%2Fdata%2F2_skin74_warcriminal.pngR6i4501R9tgoR0i580708R1zR2R7R4y35:assets%2Fdata%2F2_skin75_golden.pngR6i2719R9tgoR0i583427R1zR2R7R4y35:assets%2Fdata%2F2_skin76_divine.pngR6i2595R9tgoR0i586022R1zR2R7R4y40:assets%2Fdata%2F2_skin77_neutronized.pngR6i2674R9tgoR0i588696R1zR2R7R4y35:assets%2Fdata%2F2_skin78_carrot.pngR6i3413R9tgoR0i592109R1zR2R7R4y41:assets%2Fdata%2F2_skin79_goldencarrot.pngR6i2810R9tgoR0i594919R1zR2R7R4y37:assets%2Fdata%2F2_skin7_blackspot.pngR6i2685R9tgoR0i597604R1zR2R7R4y36:assets%2Fdata%2F2_skin80_chester.pngR6i3708R9tgoR0i601312R1zR2R7R4y34:assets%2Fdata%2F2_skin81_timmy.pngR6i3961R9tgoR0i605273R1zR2R7R4y39:assets%2Fdata%2F2_skin82_dashington.pngR6i3416R9tgoR0i608689R1zR2R7R4y34:assets%2Fdata%2F2_skin83_heart.pngR6i3450R9tgoR0i612139R1zR2R7R4y33:assets%2Fdata%2F2_skin84_star.pngR6i3525R9tgoR0i615664R1zR2R7R4y33:assets%2Fdata%2F2_skin85_mage.pngR6i3705R9tgoR0i619369R1zR2R7R4y35:assets%2Fdata%2F2_skin86_knight.pngR6i3932R9tgoR0i623301R1zR2R7R4y35:assets%2Fdata%2F2_skin87_ranger.pngR6i4749R9tgoR0i628050R1zR2R7R4y33:assets%2Fdata%2F2_skin88_king.pngR6i3327R9tgoR0i631377R1zR2R7R4y37:assets%2Fdata%2F2_skin89_original.pngR6i2141R9tgoR0i633518R1zR2R7R4y38:assets%2Fdata%2F2_skin8_chinchilla.pngR6i2190R9tgoR0i635708R1zR2R7R4y34:assets%2Fdata%2F2_skin90_fairy.pngR6i2718R9tgoR0i638426R1zR2R7R4y34:assets%2Fdata%2F2_skin91_pixie.pngR6i2774R9tgoR0i641200R1zR2R7R4y34:assets%2Fdata%2F2_skin92_ninja.pngR6i3323R9tgoR0i644523R1zR2R7R4y37:assets%2Fdata%2F2_skin93_infernal.pngR6i3009R9tgoR0i647532R1zR2R7R4y37:assets%2Fdata%2F2_skin94_ethereal.pngR6i2214R9tgoR0i649746R1zR2R7R4y35:assets%2Fdata%2F2_skin95_zombie.pngR6i3035R9tgoR0i652781R1zR2R7R4y37:assets%2Fdata%2F2_skin96_triplets.pngR6i3395R9tgoR0i656176R1zR2R7R4y34:assets%2Fdata%2F2_skin97_ghost.pngR6i2128R9tgoR0i658304R1zR2R7R4y36:assets%2Fdata%2F2_skin98_crystal.pngR6i3086R9tgoR0i661390R1zR2R7R4y35:assets%2Fdata%2F2_skin99_astral.pngR6i2773R9tgoR0i664163R1zR2R7R4y36:assets%2Fdata%2F2_skin9_cinnamon.pngR6i2365R9tgoR0i666528R1zR2R7R4y33:assets%2Fdata%2F3_skin0_white.pngR6i2282R9tgoR0i668810R1zR2R7R4y36:assets%2Fdata%2F3_skin100_domino.pngR6i2908R9tgoR0i671718R1zR2R7R4y37:assets%2Fdata%2F3_skin100_domino2.pngR6i2944R9tgoR0i674662R1zR2R7R4y39:assets%2Fdata%2F3_skin101_disguised.pngR6i3085R9tgoR0i677747R1zR2R7R4y39:assets%2Fdata%2F3_skin102_monstrous.pngR6i3374R9tgoR0i681121R1zR2R7R4y39:assets%2Fdata%2F3_skin103_carbuncle.pngR6i3734R9tgoR0i684855R1zR2R7R4y38:assets%2Fdata%2F3_skin104_phosphor.pngR6i1865R9tgoR0i686720R1zR2R7R4y40:assets%2Fdata%2F3_skin10_californian.pngR6i3252R9tgoR0i689972R1zR2R7R4y38:assets%2Fdata%2F3_skin11_chocolate.pngR6i2646R9tgoR0i692618R1zR2R7R4y37:assets%2Fdata%2F3_skin12_tricolor.pngR6i3359R9tgoR0i695977R1zR2R7R4y39:assets%2Fdata%2F3_skin13_blackotter.pngR6i3106R9tgoR0i699083R1zR2R7R4y32:assets%2Fdata%2F3_skin14_red.pngR6i2627R9tgoR0i701710R1zR2R7R4y35:assets%2Fdata%2F3_skin15_castor.pngR6i2574R9tgoR0i704284R1zR2R7R4y33:assets%2Fdata%2F3_skin16_gray.pngR6i2534R9tgoR0i706818R1zR2R7R4y33:assets%2Fdata%2F3_skin17_moss.pngR6i2579R9tgoR0i709397R1zR2R7R4y33:assets%2Fdata%2F3_skin18_pink.pngR6i2587R9tgoR0i711984R1zR2R7R4y34:assets%2Fdata%2F3_skin19_green.pngR6i2607R9tgoR0i714591R1zR2R7R4y32:assets%2Fdata%2F3_skin1_navy.pngR6i2548R9tgoR0i717139R1zR2R7R4y38:assets%2Fdata%2F3_skin20_lightblue.pngR6i2577R9tgoR0i719716R1zR2R7R4y35:assets%2Fdata%2F3_skin21_purple.pngR6i2591R9tgoR0i722307R1zR2R7R4y35:assets%2Fdata%2F3_skin22_yellow.pngR6i2694R9tgoR0i725001R1zR2R7R4y36:assets%2Fdata%2F3_skin23_scarlet.pngR6i2658R9tgoR0i727659R1zR2R7R4y33:assets%2Fdata%2F3_skin24_blue.pngR6i2598R9tgoR0i730257R1zR2R7R4y33:assets%2Fdata%2F3_skin25_lime.pngR6i2653R9tgoR0i732910R1zR2R7R4y33:assets%2Fdata%2F3_skin26_cyan.pngR6i2693R9tgoR0i735603R1zR2R7R4y35:assets%2Fdata%2F3_skin27_orange.pngR6i2689R9tgoR0i738292R1zR2R7R4y36:assets%2Fdata%2F3_skin28_magenta.pngR6i2642R9tgoR0i740934R1zR2R7R4y32:assets%2Fdata%2F3_skin29_rgb.pngR6i3830R9tgoR0i744764R1zR2R7R4y33:assets%2Fdata%2F3_skin2_brown.pngR6i2616R9tgoR0i747380R1zR2R7R4y34:assets%2Fdata%2F3_skin30_tiger.pngR6i3487R9tgoR0i750867R1zR2R7R4y36:assets%2Fdata%2F3_skin31_pumpkin.pngR6i3266R9tgoR0i754133R1zR2R7R4y34:assets%2Fdata%2F3_skin32_robot.pngR6i3133R9tgoR0i757266R1zR2R7R4y38:assets%2Fdata%2F3_skin33_steampunk.pngR6i3446R9tgoR0i760712R1zR2R7R4y34:assets%2Fdata%2F3_skin34_water.pngR6i2887R9tgoR0i763599R1zR2R7R4y33:assets%2Fdata%2F3_skin35_camo.pngR6i3073R9tgoR0i766672R1zR2R7R4y33:assets%2Fdata%2F3_skin36_wood.pngR6i3103R9tgoR0i769775R1zR2R7R4y34:assets%2Fdata%2F3_skin37_stone.pngR6i3166R9tgoR0i772941R1zR2R7R4y33:assets%2Fdata%2F3_skin38_fire.pngR6i3301R9tgoR0i776242R1zR2R7R4y37:assets%2Fdata%2F3_skin39_negative.pngR6i2502R9tgoR0i778744R1zR2R7R4y33:assets%2Fdata%2F3_skin3_black.pngR6i2576R9tgoR0i781320R1zR2R7R4y40:assets%2Fdata%2F3_skin40_transparent.pngR6i2359R9tgoR0i783679R1zR2R7R4y34:assets%2Fdata%2F3_skin41_angel.pngR6i3139R9tgoR0i786818R1zR2R7R4y32:assets%2Fdata%2F3_skin42_imp.pngR6i3188R9tgoR0i790006R1zR2R7R4y31:assets%2Fdata%2F3_skin43_gb.pngR6i2651R9tgoR0i792657R1zR2R7R4y35:assets%2Fdata%2F3_skin44_frozen.pngR6i3822R9tgoR0i796479R1zR2R7R4y36:assets%2Fdata%2F3_skin45_rainbow.pngR6i3503R9tgoR0i799982R1zR2R7R4y34:assets%2Fdata%2F3_skin46_alien.pngR6i2973R9tgoR0i802955R1zR2R7R4y40:assets%2Fdata%2F3_skin47_fluffywhite.pngR6i2733R9tgoR0i805688R1zR2R7R4y39:assets%2Fdata%2F3_skin48_upsidedown.pngR6i2603R9tgoR0i808291R1zR2R7R4y33:assets%2Fdata%2F3_skin49_dark.pngR6i2867R9tgoR0i811158R1zR2R7R4y40:assets%2Fdata%2F3_skin49_fluffybrown.pngR6i2991R9tgoR0i814149R1zR2R7R4y33:assets%2Fdata%2F3_skin4_beige.pngR6i2538R9tgoR0i816687R1zR2R7R4y35:assets%2Fdata%2F3_skin50_chonky.pngR6i2965R9tgoR0i819652R1zR2R7R4y33:assets%2Fdata%2F3_skin51_mini.pngR6i2269R9tgoR0i821921R1zR2R7R4y39:assets%2Fdata%2F3_skin52_sabretooth.pngR6i3595R9tgoR0i825516R1zR2R7R4y37:assets%2Fdata%2F3_skin53_electric.pngR6i2748R9tgoR0i828264R1zR2R7R4y39:assets%2Fdata%2F3_skin54_silhouette.pngR6i1569R9tgoR0i829833R1zR2R7R4y33:assets%2Fdata%2F3_skin55_frog.pngR6i1593R9tgoR0i831426R1zR2R7R4y34:assets%2Fdata%2F3_skin55_gooey.pngR6i3014R9tgoR0i834440R1zR2R7R4y32:assets%2Fdata%2F3_skin56_pig.pngR6i3036R9tgoR0i837476R1zR2R7R4y33:assets%2Fdata%2F3_skin56_snow.pngR6i2379R9tgoR0i839855R1zR2R7R4y34:assets%2Fdata%2F3_skin57_mouse.pngR6i3204R9tgoR0i843059R1zR2R7R4y36:assets%2Fdata%2F3_skin57_vampire.pngR6i3111R9tgoR0i846170R1zR2R7R4y32:assets%2Fdata%2F3_skin58_cat.pngR6i2991R9tgoR0i849161R1zR2R7R4y35:assets%2Fdata%2F3_skin58_cosmic.pngR6i1923R9tgoR0i851084R1zR2R7R4y37:assets%2Fdata%2F3_skin59_capybara.pngR6i2785R9tgoR0i853869R1zR2R7R4y35:assets%2Fdata%2F3_skin59_silver.pngR6i3261R9tgoR0i857130R1zR2R7R4y37:assets%2Fdata%2F3_skin5_brownspot.pngR6i3188R9tgoR0i860318R1zR2R7R4y36:assets%2Fdata%2F3_skin60_psychic.pngR6i3208R9tgoR0i863526R1zR2R7R4y39:assets%2Fdata%2F3_skin61_jackrabbit.pngR6i4051R9tgoR0i867577R1zR2R7R4y34:assets%2Fdata%2F3_skin62_shark.pngR6i3848R9tgoR0i871425R1zR2R7R4y38:assets%2Fdata%2F3_skin63_jackalope.pngR6i4131R9tgoR0i875556R1zR2R7R4y37:assets%2Fdata%2F3_skin64_usadachi.pngR6i3021R9tgoR0i878577R1zR2R7R4y33:assets%2Fdata%2F3_skin65_punk.pngR6i1930R9tgoR0i880507R1zR2R7R4y33:assets%2Fdata%2F3_skin66_goth.pngR6i3374R9tgoR0i883881R1zR2R7R4y33:assets%2Fdata%2F3_skin67_moon.pngR6i3116R9tgoR0i886997R1zR2R7R4y39:assets%2Fdata%2F3_skin68_caerbannog.pngR6i3151R9tgoR0i890148R1zR2R7R4y34:assets%2Fdata%2F3_skin69_foxxy.pngR6i3761R9tgoR0i893909R1zR2R7R4y36:assets%2Fdata%2F3_skin6_bluespot.pngR6i3138R9tgoR0i897047R1zR2R7R4y33:assets%2Fdata%2F3_skin70_dust.pngR6i4496R9tgoR0i901543R1zR2R7R4y33:assets%2Fdata%2F3_skin71_kami.pngR6i2972R9tgoR0i904515R1zR2R7R4y36:assets%2Fdata%2F3_skin72_almiraj.pngR6i3464R9tgoR0i907979R1zR2R7R4y36:assets%2Fdata%2F3_skin73_skvader.pngR6i3635R9tgoR0i911614R1zR2R7R4y40:assets%2Fdata%2F3_skin74_warcriminal.pngR6i5087R9tgoR0i916701R1zR2R7R4y35:assets%2Fdata%2F3_skin75_golden.pngR6i3053R9tgoR0i919754R1zR2R7R4y35:assets%2Fdata%2F3_skin76_divine.pngR6i2946R9tgoR0i922700R1zR2R7R4y40:assets%2Fdata%2F3_skin77_neutronized.pngR6i2971R9tgoR0i925671R1zR2R7R4y35:assets%2Fdata%2F3_skin78_carrot.pngR6i3945R9tgoR0i929616R1zR2R7R4y41:assets%2Fdata%2F3_skin79_goldencarrot.pngR6i3101R9tgoR0i932717R1zR2R7R4y37:assets%2Fdata%2F3_skin7_blackspot.pngR6i3104R9tgoR0i935821R1zR2R7R4y36:assets%2Fdata%2F3_skin80_chester.pngR6i4165R9tgoR0i939986R1zR2R7R4y34:assets%2Fdata%2F3_skin81_timmy.pngR6i4524R9tgoR0i944510R1zR2R7R4y39:assets%2Fdata%2F3_skin82_dashington.pngR6i3910R9tgoR0i948420R1zR2R7R4y34:assets%2Fdata%2F3_skin83_heart.pngR6i4007R9tgoR0i952427R1zR2R7R4y33:assets%2Fdata%2F3_skin84_star.pngR6i4024R9tgoR0i956451R1zR2R7R4y33:assets%2Fdata%2F3_skin85_mage.pngR6i4285R9tgoR0i960736R1zR2R7R4y35:assets%2Fdata%2F3_skin86_knight.pngR6i4588R9tgoR0i965324R1zR2R7R4y35:assets%2Fdata%2F3_skin87_ranger.pngR6i5404R9tgoR0i970728R1zR2R7R4y33:assets%2Fdata%2F3_skin88_king.pngR6i3808R9tgoR0i974536R1zR2R7R4y37:assets%2Fdata%2F3_skin89_original.pngR6i2382R9tgoR0i976918R1zR2R7R4y38:assets%2Fdata%2F3_skin8_chinchilla.pngR6i2466R9tgoR0i979384R1zR2R7R4y34:assets%2Fdata%2F3_skin90_fairy.pngR6i3044R9tgoR0i982428R1zR2R7R4y34:assets%2Fdata%2F3_skin91_pixie.pngR6i3184R9tgoR0i985612R1zR2R7R4y34:assets%2Fdata%2F3_skin92_ninja.pngR6i3732R9tgoR0i989344R1zR2R7R4y37:assets%2Fdata%2F3_skin93_infernal.pngR6i3508R9tgoR0i992852R1zR2R7R4y37:assets%2Fdata%2F3_skin94_ethereal.pngR6i2487R9tgoR0i995339R1zR2R7R4y35:assets%2Fdata%2F3_skin95_zombie.pngR6i3552R9tgoR0i998891R1zR2R7R4y37:assets%2Fdata%2F3_skin96_triplets.pngR6i3879R9tgoR0i1002770R1zR2R7R4y34:assets%2Fdata%2F3_skin97_ghost.pngR6i2504R9tgoR0i1005274R1zR2R7R4y36:assets%2Fdata%2F3_skin98_crystal.pngR6i3494R9tgoR0i1008768R1zR2R7R4y35:assets%2Fdata%2F3_skin99_astral.pngR6i3208R9tgoR0i1011976R1zR2R7R4y36:assets%2Fdata%2F3_skin9_cinnamon.pngR6i2687R9tgoR0i1014663R1zR2R7R4y33:assets%2Fdata%2F4_skin0_white.pngR6i2451R9tgoR0i1017114R1zR2R7R4y36:assets%2Fdata%2F4_skin100_domino.pngR6i3204R9tgoR0i1020318R1zR2R7R4y37:assets%2Fdata%2F4_skin100_domino2.pngR6i3159R9tgoR0i1023477R1zR2R7R4y39:assets%2Fdata%2F4_skin101_disguised.pngR6i3415R9tgoR0i1026892R1zR2R7R4y39:assets%2Fdata%2F4_skin102_monstrous.pngR6i3571R9tgoR0i1030463R1zR2R7R4y39:assets%2Fdata%2F4_skin103_carbuncle.pngR6i3982R9tgoR0i1034445R1zR2R7R4y38:assets%2Fdata%2F4_skin104_phosphor.pngR6i2075R9tgoR0i1036520R1zR2R7R4y40:assets%2Fdata%2F4_skin10_californian.pngR6i3475R9tgoR0i1039995R1zR2R7R4y38:assets%2Fdata%2F4_skin11_chocolate.pngR6i3334R9tgoR0i1043329R1zR2R7R4y37:assets%2Fdata%2F4_skin12_tricolor.pngR6i3631R9tgoR0i1046960R1zR2R7R4y39:assets%2Fdata%2F4_skin13_blackotter.pngR6i3421R9tgoR0i1050381R1zR2R7R4y32:assets%2Fdata%2F4_skin14_red.pngR6i2846R9tgoR0i1053227R1zR2R7R4y35:assets%2Fdata%2F4_skin15_castor.pngR6i2755R9tgoR0i1055982R1zR2R7R4y33:assets%2Fdata%2F4_skin16_gray.pngR6i2788R9tgoR0i1058770R1zR2R7R4y33:assets%2Fdata%2F4_skin17_moss.pngR6i2812R9tgoR0i1061582R1zR2R7R4y33:assets%2Fdata%2F4_skin18_pink.pngR6i2738R9tgoR0i1064320R1zR2R7R4y34:assets%2Fdata%2F4_skin19_green.pngR6i2803R9tgoR0i1067123R1zR2R7R4y32:assets%2Fdata%2F4_skin1_navy.pngR6i2752R9tgoR0i1069875R1zR2R7R4y38:assets%2Fdata%2F4_skin20_lightblue.pngR6i2774R9tgoR0i1072649R1zR2R7R4y35:assets%2Fdata%2F4_skin21_purple.pngR6i2767R9tgoR0i1075416R1zR2R7R4y35:assets%2Fdata%2F4_skin22_yellow.pngR6i2894R9tgoR0i1078310R1zR2R7R4y36:assets%2Fdata%2F4_skin23_scarlet.pngR6i2852R9tgoR0i1081162R1zR2R7R4y33:assets%2Fdata%2F4_skin24_blue.pngR6i2748R9tgoR0i1083910R1zR2R7R4y33:assets%2Fdata%2F4_skin25_lime.pngR6i2856R9tgoR0i1086766R1zR2R7R4y33:assets%2Fdata%2F4_skin26_cyan.pngR6i2855R9tgoR0i1089621R1zR2R7R4y35:assets%2Fdata%2F4_skin27_orange.pngR6i2829R9tgoR0i1092450R1zR2R7R4y36:assets%2Fdata%2F4_skin28_magenta.pngR6i2801R9tgoR0i1095251R1zR2R7R4y32:assets%2Fdata%2F4_skin29_rgb.pngR6i4059R9tgoR0i1099310R1zR2R7R4y33:assets%2Fdata%2F4_skin2_brown.pngR6i2777R9tgoR0i1102087R1zR2R7R4y34:assets%2Fdata%2F4_skin30_tiger.pngR6i3682R9tgoR0i1105769R1zR2R7R4y36:assets%2Fdata%2F4_skin31_pumpkin.pngR6i3578R9tgoR0i1109347R1zR2R7R4y34:assets%2Fdata%2F4_skin32_robot.pngR6i3389R9tgoR0i1112736R1zR2R7R4y38:assets%2Fdata%2F4_skin33_steampunk.pngR6i3699R9tgoR0i1116435R1zR2R7R4y34:assets%2Fdata%2F4_skin34_water.pngR6i3133R9tgoR0i1119568R1zR2R7R4y33:assets%2Fdata%2F4_skin35_camo.pngR6i3313R9tgoR0i1122881R1zR2R7R4y33:assets%2Fdata%2F4_skin36_wood.pngR6i3377R9tgoR0i1126258R1zR2R7R4y34:assets%2Fdata%2F4_skin37_stone.pngR6i3471R9tgoR0i1129729R1zR2R7R4y33:assets%2Fdata%2F4_skin38_fire.pngR6i3594R9tgoR0i1133323R1zR2R7R4y37:assets%2Fdata%2F4_skin39_negative.pngR6i2722R9tgoR0i1136045R1zR2R7R4y33:assets%2Fdata%2F4_skin3_black.pngR6i2738R9tgoR0i1138783R1zR2R7R4y40:assets%2Fdata%2F4_skin40_transparent.pngR6i2657R9tgoR0i1141440R1zR2R7R4y34:assets%2Fdata%2F4_skin41_angel.pngR6i3362R9tgoR0i1144802R1zR2R7R4y32:assets%2Fdata%2F4_skin42_imp.pngR6i3417R9tgoR0i1148219R1zR2R7R4y31:assets%2Fdata%2F4_skin43_gb.pngR6i3179R9tgoR0i1151398R1zR2R7R4y35:assets%2Fdata%2F4_skin44_frozen.pngR6i4118R9tgoR0i1155516R1zR2R7R4y36:assets%2Fdata%2F4_skin45_rainbow.pngR6i3840R9tgoR0i1159356R1zR2R7R4y34:assets%2Fdata%2F4_skin46_alien.pngR6i3240R9tgoR0i1162596R1zR2R7R4y40:assets%2Fdata%2F4_skin47_fluffywhite.pngR6i3025R9tgoR0i1165621R1zR2R7R4y39:assets%2Fdata%2F4_skin48_upsidedown.pngR6i2789R9tgoR0i1168410R1zR2R7R4y33:assets%2Fdata%2F4_skin49_dark.pngR6i3087R9tgoR0i1171497R1zR2R7R4y40:assets%2Fdata%2F4_skin49_fluffybrown.pngR6i3206R9tgoR0i1174703R1zR2R7R4y33:assets%2Fdata%2F4_skin4_beige.pngR6i2806R9tgoR0i1177509R1zR2R7R4y35:assets%2Fdata%2F4_skin50_chonky.pngR6i3194R9tgoR0i1180703R1zR2R7R4y33:assets%2Fdata%2F4_skin51_mini.pngR6i2765R9tgoR0i1183468R1zR2R7R4y39:assets%2Fdata%2F4_skin52_sabretooth.pngR6i3890R9tgoR0i1187358R1zR2R7R4y37:assets%2Fdata%2F4_skin53_electric.pngR6i3518R9tgoR0i1190876R1zR2R7R4y39:assets%2Fdata%2F4_skin54_silhouette.pngR6i1821R9tgoR0i1192697R1zR2R7R4y33:assets%2Fdata%2F4_skin55_frog.pngR6i3020R9tgoR0i1195717R1zR2R7R4y34:assets%2Fdata%2F4_skin55_gooey.pngR6i3309R9tgoR0i1199026R1zR2R7R4y32:assets%2Fdata%2F4_skin56_pig.pngR6i3260R9tgoR0i1202286R1zR2R7R4y33:assets%2Fdata%2F4_skin56_snow.pngR6i2564R9tgoR0i1204850R1zR2R7R4y34:assets%2Fdata%2F4_skin57_mouse.pngR6i3476R9tgoR0i1208326R1zR2R7R4y36:assets%2Fdata%2F4_skin57_vampire.pngR6i3279R9tgoR0i1211605R1zR2R7R4y32:assets%2Fdata%2F4_skin58_cat.pngR6i3167R9tgoR0i1214772R1zR2R7R4y35:assets%2Fdata%2F4_skin58_cosmic.pngR6i2143R9tgoR0i1216915R1zR2R7R4y37:assets%2Fdata%2F4_skin59_capybara.pngR6i3105R9tgoR0i1220020R1zR2R7R4y35:assets%2Fdata%2F4_skin59_silver.pngR6i3513R9tgoR0i1223533R1zR2R7R4y37:assets%2Fdata%2F4_skin5_brownspot.pngR6i3444R9tgoR0i1226977R1zR2R7R4y36:assets%2Fdata%2F4_skin60_psychic.pngR6i3410R9tgoR0i1230387R1zR2R7R4y39:assets%2Fdata%2F4_skin61_jackrabbit.pngR6i4382R9tgoR0i1234769R1zR2R7R4y34:assets%2Fdata%2F4_skin62_shark.pngR6i4070R9tgoR0i1238839R1zR2R7R4y38:assets%2Fdata%2F4_skin63_jackalope.pngR6i4418R9tgoR0i1243257R1zR2R7R4y37:assets%2Fdata%2F4_skin64_usadachi.pngR6i3236R9tgoR0i1246493R1zR2R7R4y33:assets%2Fdata%2F4_skin65_punk.pngR6i3729R9tgoR0i1250222R1zR2R7R4y33:assets%2Fdata%2F4_skin66_goth.pngR6i3687R9tgoR0i1253909R1zR2R7R4y33:assets%2Fdata%2F4_skin67_moon.pngR6i3351R9tgoR0i1257260R1zR2R7R4y39:assets%2Fdata%2F4_skin68_caerbannog.pngR6i3425R9tgoR0i1260685R1zR2R7R4y34:assets%2Fdata%2F4_skin69_foxxy.pngR6i4038R9tgoR0i1264723R1zR2R7R4y36:assets%2Fdata%2F4_skin6_bluespot.pngR6i3392R9tgoR0i1268115R1zR2R7R4y33:assets%2Fdata%2F4_skin70_dust.pngR6i4759R9tgoR0i1272874R1zR2R7R4y33:assets%2Fdata%2F4_skin71_kami.pngR6i3214R9tgoR0i1276088R1zR2R7R4y36:assets%2Fdata%2F4_skin72_almiraj.pngR6i3831R9tgoR0i1279919R1zR2R7R4y36:assets%2Fdata%2F4_skin73_skvader.pngR6i3775R9tgoR0i1283694R1zR2R7R4y40:assets%2Fdata%2F4_skin74_warcriminal.pngR6i5472R9tgoR0i1289166R1zR2R7R4y35:assets%2Fdata%2F4_skin75_golden.pngR6i3309R9tgoR0i1292475R1zR2R7R4y35:assets%2Fdata%2F4_skin76_divine.pngR6i3212R9tgoR0i1295687R1zR2R7R4y40:assets%2Fdata%2F4_skin77_neutronized.pngR6i3212R9tgoR0i1298899R1zR2R7R4y35:assets%2Fdata%2F4_skin78_carrot.pngR6i4270R9tgoR0i1303169R1zR2R7R4y41:assets%2Fdata%2F4_skin79_goldencarrot.pngR6i3913R9tgoR0i1307082R1zR2R7R4y37:assets%2Fdata%2F4_skin7_blackspot.pngR6i3344R9tgoR0i1310426R1zR2R7R4y36:assets%2Fdata%2F4_skin80_chester.pngR6i4505R9tgoR0i1314931R1zR2R7R4y34:assets%2Fdata%2F4_skin81_timmy.pngR6i4793R9tgoR0i1319724R1zR2R7R4y39:assets%2Fdata%2F4_skin82_dashington.pngR6i4096R9tgoR0i1323820R1zR2R7R4y34:assets%2Fdata%2F4_skin83_heart.pngR6i4350R9tgoR0i1328170R1zR2R7R4y33:assets%2Fdata%2F4_skin84_star.pngR6i4300R9tgoR0i1332470R1zR2R7R4y33:assets%2Fdata%2F4_skin85_mage.pngR6i4546R9tgoR0i1337016R1zR2R7R4y35:assets%2Fdata%2F4_skin86_knight.pngR6i4870R9tgoR0i1341886R1zR2R7R4y35:assets%2Fdata%2F4_skin87_ranger.pngR6i5847R9tgoR0i1347733R1zR2R7R4y33:assets%2Fdata%2F4_skin88_king.pngR6i4113R9tgoR0i1351846R1zR2R7R4y37:assets%2Fdata%2F4_skin89_original.pngR6i2623R9tgoR0i1354469R1zR2R7R4y38:assets%2Fdata%2F4_skin8_chinchilla.pngR6i2632R9tgoR0i1357101R1zR2R7R4y34:assets%2Fdata%2F4_skin90_fairy.pngR6i3329R9tgoR0i1360430R1zR2R7R4y34:assets%2Fdata%2F4_skin91_pixie.pngR6i3454R9tgoR0i1363884R1zR2R7R4y34:assets%2Fdata%2F4_skin92_ninja.pngR6i4064R9tgoR0i1367948R1zR2R7R4y37:assets%2Fdata%2F4_skin93_infernal.pngR6i3659R9tgoR0i1371607R1zR2R7R4y37:assets%2Fdata%2F4_skin94_ethereal.pngR6i2680R9tgoR0i1374287R1zR2R7R4y35:assets%2Fdata%2F4_skin95_zombie.pngR6i3844R9tgoR0i1378131R1zR2R7R4y37:assets%2Fdata%2F4_skin96_triplets.pngR6i4150R9tgoR0i1382281R1zR2R7R4y34:assets%2Fdata%2F4_skin97_ghost.pngR6i2677R9tgoR0i1384958R1zR2R7R4y36:assets%2Fdata%2F4_skin98_crystal.pngR6i3758R9tgoR0i1388716R1zR2R7R4y35:assets%2Fdata%2F4_skin99_astral.pngR6i3461R9tgoR0i1392177R1zR2R7R4y36:assets%2Fdata%2F4_skin9_cinnamon.pngR6i3275R9tgoR0i1395452R1zR2y6:BINARYR4y29:assets%2Fdata%2Fbehaviors.mbsR6i60245goR0i1455697R1zR2R896R4y24:assets%2Fdata%2Fgame.mbsR6i2818goR0i1458515R1zR2R7R4y34:assets%2Fdata%2Finner-joystick.pngR6i902R9tgoR0i1459417R1zR2R7R4y34:assets%2Fdata%2Fouter-joystick.pngR6i1974R9tgoR0i1461391R1zR2R896R4y29:assets%2Fdata%2Fresources.mbsR6i29847goR0i1491238R1zR2R896R4y28:assets%2Fdata%2Fscene-10.mbsR6i227goR0i1491465R1zR2R896R4y28:assets%2Fdata%2Fscene-10.scnR6i26goR0i1491491R1zR2R896R4y28:assets%2Fdata%2Fscene-11.mbsR6i669goR0i1492160R1zR2R896R4y28:assets%2Fdata%2Fscene-11.scnR6i393goR0i1492553R1zR2R896R4y28:assets%2Fdata%2Fscene-12.mbsR6i791goR0i1493344R1zR2R896R4y28:assets%2Fdata%2Fscene-12.scnR6i393goR0i1493737R1zR2R896R4y28:assets%2Fdata%2Fscene-13.mbsR6i873goR0i1494610R1zR2R896R4y28:assets%2Fdata%2Fscene-13.scnR6i393goR0i1495003R1zR2R896R4y28:assets%2Fdata%2Fscene-14.mbsR6i1182goR0i1496185R1zR2R896R4y28:assets%2Fdata%2Fscene-14.scnR6i393goR0i1496578R1zR2R896R4y28:assets%2Fdata%2Fscene-15.mbsR6i1183goR0i1497761R1zR2R896R4y28:assets%2Fdata%2Fscene-15.scnR6i393goR0i1498154R1zR2R896R4y28:assets%2Fdata%2Fscene-16.mbsR6i1183goR0i1499337R1zR2R896R4y28:assets%2Fdata%2Fscene-16.scnR6i393goR0i1499730R1zR2R896R4y28:assets%2Fdata%2Fscene-17.mbsR6i1185goR0i1500915R1zR2R896R4y28:assets%2Fdata%2Fscene-17.scnR6i393goR0i1501308R1zR2R896R4y28:assets%2Fdata%2Fscene-18.mbsR6i1186goR0i1502494R1zR2R896R4y28:assets%2Fdata%2Fscene-18.scnR6i393goR0i1502887R1zR2R896R4y28:assets%2Fdata%2Fscene-19.mbsR6i1186goR0i1504073R1zR2R896R4y28:assets%2Fdata%2Fscene-19.scnR6i393goR0i1504466R1zR2R896R4y28:assets%2Fdata%2Fscene-20.mbsR6i668goR0i1505134R1zR2R896R4y28:assets%2Fdata%2Fscene-20.scnR6i399goR0i1505533R1zR2R896R4y28:assets%2Fdata%2Fscene-21.mbsR6i543goR0i1506076R1zR2R896R4y28:assets%2Fdata%2Fscene-21.scnR6i393goR0i1506469R1zR2R896R4y28:assets%2Fdata%2Fscene-22.mbsR6i1185goR0i1507654R1zR2R896R4y28:assets%2Fdata%2Fscene-22.scnR6i393goR0i1508047R1zR2R896R4y28:assets%2Fdata%2Fscene-23.mbsR6i688goR0i1508735R1zR2R896R4y28:assets%2Fdata%2Fscene-23.scnR6i393goR0i1509128R1zR2R896R4y28:assets%2Fdata%2Fscene-24.mbsR6i891goR0i1510019R1zR2R896R4y28:assets%2Fdata%2Fscene-24.scnR6i393goR0i1510412R1zR2R896R4y27:assets%2Fdata%2Fscene-9.mbsR6i888goR0i1511300R1zR2R896R4y27:assets%2Fdata%2Fscene-9.scnR6i393goR0i1511693R1zR2R896R4y26:assets%2Fdata%2Fscenes.mbsR6i295gh","rootPath":null,"version":2,"libraryArgs":["lib/default.pak","gzip"],"libraryType":"lime.utils.PackedAssetLibrary"}',m.rootPath),t=s_.fromManifest(t),r_.registerLibrary("default",t),null!=(t=r_.getLibrary("default"))?m.preloadLibraries.push(t):m.preloadLibraryNames.push("default")},Math.__name__="Math";var p=function(){};r.PokiWraper=p,p.__name__="PokiWraper",p.start=function(t,e){null==p.instance&&(p.adBlocked=!1,p.instance=new jm(t,e))},p.IsVideoPlaying=function(){return p.instance.IsVideoPlaying()},p.moveBanner=function(t){p.instance.moveBanner(t)},p.isMobileGame=function(){return p.instance.isMobileGame()},p.showBanner=function(t,e,i,s){null==s&&(s=!1),p.instance.showBanner(t,e,i,s)},p.killBanner=function(){p.instance.killBanner()},p.gameLoadingStart=function(){p.instance.gameLoadingStart()},p.gameLoadingFinished=function(){p.instance.gameLoadingFinished()},p.gameLoadingProgress=function(t,e,i){p.instance.gameLoadingProgress({percentageDone:t,bytesLoaded:e,bytesTotal:i})},p.commercialBreak=function(t){p.instance.commercialBreak(t)},p.rewardedBreak=function(t){p.instance.rewardedBreak(t)},p.sendHappyTime=function(t){p.instance.sendHappyTime(t)},p.sendGameplayStart=function(){p.instance.sendGameplayStart()},p.sendGameplayStop=function(){p.instance.sendGameplayStop()};var f=function(){};r.Reflect=f,f.__name__="Reflect",f.field=function(t,e){try{return t[e]}catch(t){return Ma.lastError=t,null}},f.getProperty=function(t,e){var i;return null==t?null:t.__properties__&&(i=t.__properties__["get_"+e])?t[i]():t[e]},f.setProperty=function(t,e,i){var s;t.__properties__&&(s=t.__properties__["set_"+e])?t[s](i):t[e]=i},f.fields=function(t){var e=[];if(null!=t){var i,s=Object.prototype.hasOwnProperty;for(i in t)"__id__"!=i&&"hx__closures__"!=i&&s.call(t,i)&&e.push(i)}return e},f.isFunction=function(t){return"function"==typeof t&&!(t.__name__||t.__ename__)},f.compare=function(t,e){return t==e?0:t>e?1:-1},f.compareMethods=function(t,e){return t==e||!(!f.isFunction(t)||!f.isFunction(e))&&t.scope==e.scope&&t.method==e.method&&null!=t.method},f.isEnumValue=function(t){return null!=t&&null!=t.__enum__},f.deleteField=function(t,e){return!!Object.prototype.hasOwnProperty.call(t,e)&&(delete t[e],!0)},f.makeVarArgs=function(t){return function(){var e=Array.prototype.slice.call(arguments);return t(e)}};var g=function(){};r.Std=g,g.__name__="Std",g.string=function(t){return vo.__string_rec(t,"")},g.parseInt=function(t){if(null!=t)for(var e=0,i=t.length;e<i;){var s=e++,n=t.charCodeAt(s);if(8>=n||14<=n&&32!=n&&45!=n){if(e=t.charCodeAt(s+1),t=parseInt(t,120==e||88==e?16:10),isNaN(t))break;return t}}return null};var y=function(){};r["_String.String_Impl_"]=y,y.__name__="_String.String_Impl_",y.fromCharCode=function(t){return String.fromCodePoint(t)};var b=function(){this.b=""};r.StringBuf=b,b.__name__="StringBuf",b.prototype={b:null,__class__:b};var v=function(){};r.StringTools=v,v.__name__="StringTools",v.htmlEscape=function(t,e){for(var i="",s=0,n=t;s<n.length;){var r=s++,a=(t=n).charCodeAt(r);switch(55296<=a&&56319>=a&&(a=a-55232<<10|1023&t.charCodeAt(r+1)),65536<=(t=a)&&++s,t){case 34:i=e?i+"&quot;":i+String.fromCodePoint(t);break;case 38:i+="&amp;";break;case 39:i=e?i+"&#039;":i+String.fromCodePoint(t);break;case 60:i+="&lt;";break;case 62:i+="&gt;";break;default:i+=String.fromCodePoint(t)}}return i},v.htmlUnescape=function(t){return t.split("&gt;").join(">").split("&lt;").join("<").split("&quot;").join('"').split("&#039;").join("'").split("&amp;").join("&")},v.startsWith=function(t,e){return t.length>=e.length&&0==t.lastIndexOf(e,0)},v.endsWith=function(t,e){var i=e.length,s=t.length;return s>=i&&t.indexOf(e,s-i)==s-i},v.isSpace=function(t,e){return 8<(t=c.cca(t,e))&&14>t||32==t},v.ltrim=function(t){for(var e=t.length,i=0;i<e&&v.isSpace(t,i);)++i;return 0<i?c.substr(t,i,e-i):t},v.rtrim=function(t){for(var e=t.length,i=0;i<e&&v.isSpace(t,e-i-1);)++i;return 0<i?c.substr(t,0,e-i):t},v.trim=function(t){return v.ltrim(v.rtrim(t))},v.rpad=function(t,e,i){if(0>=e.length)return t;for(t=null==t?"null":""+t;t.length<i;)t+=null==e?"null":""+e;return t},v.replace=function(t,e,i){return t.split(e).join(i)},v.hex=function(t,e){for(var i="";i="0123456789ABCDEF".charAt(15&t)+i,0<(t>>>=4););if(null!=e)for(;i.length<e;)i="0"+i;return i};var x=o.ValueType={__ename__:"ValueType",__constructs__:null,TNull:{_hx_name:"TNull",_hx_index:0,__enum__:"ValueType",toString:a},TInt:{_hx_name:"TInt",_hx_index:1,__enum__:"ValueType",toString:a},TFloat:{_hx_name:"TFloat",_hx_index:2,__enum__:"ValueType",toString:a},TBool:{_hx_name:"TBool",_hx_index:3,__enum__:"ValueType",toString:a},TObject:{_hx_name:"TObject",_hx_index:4,__enum__:"ValueType",toString:a},TFunction:{_hx_name:"TFunction",_hx_index:5,__enum__:"ValueType",toString:a},TClass:(l=function(t){return{_hx_index:6,c:t,__enum__:"ValueType",toString:a}},l._hx_name="TClass",l.__params__=["c"],l),TEnum:(l=function(t){return{_hx_index:7,e:t,__enum__:"ValueType",toString:a}},l._hx_name="TEnum",l.__params__=["e"],l),TUnknown:{_hx_name:"TUnknown",_hx_index:8,__enum__:"ValueType",toString:a}};x.__constructs__=[x.TNull,x.TInt,x.TFloat,x.TBool,x.TObject,x.TFunction,x.TClass,x.TEnum,x.TUnknown];var w=function(){};r.Type=w,w.__name__="Type",w.resolveEnum=function(t){return o[t]},w.createInstance=function(t,e){return new(Function.prototype.bind.apply(t,[null].concat(e)))},w.createEnum=function(t,e,i){var s=f.field(t,e);if(null==s)throw wa.thrown("No such constructor "+e);if(f.isFunction(s)){if(null==i)throw wa.thrown("Constructor "+e+" need parameters");return s.apply(t,i)}if(null!=i&&0!=i.length)throw wa.thrown("Constructor "+e+" does not need parameters");return s},w.getInstanceFields=function(t){var e,i=[];for(e in t.prototype)i.push(e);return c.remove(i,"__class__"),c.remove(i,"__properties__"),i},w.typeof=function(t){switch(typeof t){case"boolean":return x.TBool;case"function":return t.__name__||t.__ename__?x.TObject:x.TFunction;case"number":return Math.ceil(t)==t%2147483648?x.TInt:x.TFloat;case"object":if(null==t)return x.TNull;var e=t.__enum__;return null!=e?x.TEnum(o[e]):null!=(t=vo.getClass(t))?x.TClass(t):x.TObject;case"string":return x.TClass(String);case"undefined":return x.TNull;default:return x.TUnknown}},w.enumParameters=function(t){var e=o[t.__enum__].__constructs__[t._hx_index].__params__;if(null!=e){for(var i=[],s=0;s<e.length;){var n=e[s];++s,i.push(t[n])}return i}return[]};var S={gt:function(t,e){var i=0>t;return i!=0>e?i:t>e},toFloat:function(t){return 0>t?4294967296+t:t+0}},R=function(){};r["openfl.events.IEventDispatcher"]=R,R.__name__="openfl.events.IEventDispatcher",R.__isInterface__=!0,R.prototype={addEventListener:null,dispatchEvent:null,hasEventListener:null,removeEventListener:null,willTrigger:null,__class__:R};var A=function(t){null!=t&&(this.__targetDispatcher=t)};r["openfl.events.EventDispatcher"]=A,A.__name__="openfl.events.EventDispatcher",A.__interfaces__=[R],A.prototype={__eventMap:null,__iterators:null,__targetDispatcher:null,addEventListener:function(t,e,i,s,n){if(null==s&&(s=0),null==i&&(i=!1),null!=e)if(null==this.__eventMap&&(this.__eventMap=new pr,this.__iterators=new pr),Object.prototype.hasOwnProperty.call(this.__eventMap.h,t)){n=0;for(var r=(a=this.__eventMap.h[t]).length;n<r;)if(a[n++].match(e,i))return;for(t=this.__iterators.h[t],n=0;n<t.length;)r=t[n],++n,r.active&&r.copy();this.__addListenerByPriority(a,new dd(e,i,s))}else{var a=[];a.push(new dd(e,i,s)),r=new ud(a),this.__eventMap.h[t]=a,this.__iterators.h[t]=[r]}},dispatchEvent:function(t){return t.target=null!=this.__targetDispatcher?this.__targetDispatcher:this,this.__dispatchEvent(t)},hasEventListener:function(t){return null!=this.__eventMap&&Object.prototype.hasOwnProperty.call(this.__eventMap.h,t)},removeEventListener:function(t,e,i){if(null==i&&(i=!1),null!=this.__eventMap&&null!=e){var s=this.__eventMap.h[t];if(null!=s){for(var n=this.__iterators.h[t],r=0,a=s.length;r<a;){var o=r++;if(s[o].match(e,i)){for(e=0;e<n.length;)i=n[e],++e,i.remove(s[o],o);s.splice(o,1);break}}0==s.length&&(s=this.__eventMap,n=t,Object.prototype.hasOwnProperty.call(s.h,n)&&delete s.h[n],s=this.__iterators,n=t,Object.prototype.hasOwnProperty.call(s.h,n)&&delete s.h[n]),0>=Object.keys(this.__eventMap.h).length&&(this.__iterators=this.__eventMap=null)}}},toString:function(){return"[object "+vo.getClass(this).__name__.split(".").pop()+"]"},willTrigger:function(t){return this.hasEventListener(t)},__dispatchEvent:function(t){if(null==this.__eventMap||null==t)return!0;var e=t.type,i=this.__eventMap.h[e];if(null==i)return!0;null==t.target&&(t.target=null!=this.__targetDispatcher?this.__targetDispatcher:this),t.currentTarget=this;var s=1==t.eventPhase,n=(e=this.__iterators.h[e])[0];n.active&&(n=new ud(i),e.push(n)),n.start();for(var r=n;r.hasNext();){var a=r.next();if(null!=a&&a.useCapture==s&&(a.callback(t),t.__isCanceledNow))break}return n.stop(),n!=e[0]?c.remove(e,n):n.reset(i),!t.isDefaultPrevented()},__removeAllListeners:function(){this.__iterators=this.__eventMap=null},__addListenerByPriority:function(t,e){for(var i=t.length,s=i,n=0;n<i;){var r=n++;if(t[r].priority<e.priority){s=r;break}}t.splice(s,0,e)},__class__:A};var T=function(){};r["openfl.display.IBitmapDrawable"]=T,T.__name__="openfl.display.IBitmapDrawable",T.__isInterface__=!0,T.prototype={__blendMode:null,__drawableType:null,__isMask:null,__renderable:null,__renderTransform:null,__transform:null,__worldAlpha:null,__worldColorTransform:null,__worldTransform:null,__getBounds:null,__update:null,__updateTransforms:null,__mask:null,__scrollRect:null,__class__:T};var M={__properties__:{set_length:"set_length",get_length:"get_length",set_fixed:"set_fixed",get_fixed:"get_fixed"},concat:function(t,e){return t.concat(e)},copy:function(t){return t.copy()},every:function(t,e,i){for(var s=0,n=t.get_length();s<n;){var r=s++;if(t.__tempIndex=r,null!=i){if(0==e.apply(i,[t.get(r),r,t]))break}else if(0==e(t.get(r),r,t))break}return t.__tempIndex==t.get_length()-1},filter:function(t,e){return t.filter(e)},get:function(t,e){return t.get(e)},indexOf:function(t,e,i){return null==i&&(i=0),t.indexOf(e,i)},insertAt:function(t,e,i){t.insertAt(e,i)},iterator:function(t){return t.iterator()},join:function(t,e){return null==e&&(e=","),t.join(e)},lastIndexOf:function(t,e,i){return t.lastIndexOf(e,i)},pop:function(t){return t.pop()},push:function(t,e){return t.push(e)},removeAt:function(t,e){return t.removeAt(e)},reverse:function(t){return t.reverse()},set:function(t,e,i){return t.set(e,i)},shift:function(t){return t.shift()},slice:function(t,e,i){return null==e&&(e=0),t.slice(e,i)},some:function(t,e,i){for(var s=0,n=t.get_length();s<n;){var r=s++;if(t.__tempIndex=r,null!=i){if(1==e.apply(i,[t.get(r),r,t]))break}else if(e(t.get(r),r,t))break;r==t.get_length()-1&&t.__tempIndex++}return t.__tempIndex<t.get_length()-1},sort:function(t,e){t.sort(e)},splice:function(t,e,i){for(var s=arguments.length,n=Array(3<s?s-3:0),r=3;r<s;++r)n[r-3]=arguments[r];for(t.__tempIndex=e,s=0;s<n.length;)r=n[s++],t.insertAt(t.__tempIndex,r),t.__tempIndex++;return t.splice(t.__tempIndex,i)},toString:function(t){return null!=t?t.toString():null},unshift:function(t,e){t.unshift(e)},convert:function(t){return t},toBoolVector:function(t,e,i,s){return new k_(e,i,s)},toIntVector:function(t,e,i,s){return new D_(e,i,s)},toFloatVector:function(t,e,i,s){return new F_(e,i,s,!0)},toFunctionVector:function(t,e,i,s){return new B_(e,i,s)},toObjectVector:function(t,e,i,s){return new L_(e,i,s,!0)},toNullVector:function(t,e,i,s){return new L_(e,i,s,!0)},fromBoolVector:function(t){return t},fromIntVector:function(t){return t},fromFloatVector:function(t){return t},fromFunctionVector:function(t){return t},fromObjectVector:function(t){return t},get_fixed:function(t){return t.fixed},set_fixed:function(t,e){return t.fixed=e},get_length:function(t){return t.get_length()},set_length:function(t,e){return t.set_length(e)}},P=function(t,e,i){this.__pool=new I,this.inactiveObjects=this.activeObjects=0,this.__inactiveObject1=this.__inactiveObject0=null,this.__inactiveObjectList=new E,null!=t&&(this.create=t),null!=e&&(this.clean=e),null!=i&&this.set_size(i)};r["lime.utils.ObjectPool"]=P,P.__name__="lime.utils.ObjectPool",P.prototype={activeObjects:null,inactiveObjects:null,__inactiveObject0:null,__inactiveObject1:null,__inactiveObjectList:null,__pool:null,__size:null,add:function(t){this.__pool.exists(t)||(this.__pool.set(t,!1),this.clean(t),this.__pool.set(t,!1),null==this.__inactiveObject0?this.__inactiveObject0=t:null==this.__inactiveObject1?this.__inactiveObject1=t:this.__inactiveObjectList.add(t),this.inactiveObjects++)},clean:function(t){},clear:function(){this.__pool=new I,this.inactiveObjects=this.activeObjects=0,this.__inactiveObject1=this.__inactiveObject0=null,this.__inactiveObjectList.clear()},create:function(){return null},get:function(){var t=null;return 0<this.inactiveObjects?(null!=this.__inactiveObject0?(t=this.__inactiveObject0,this.__inactiveObject0=null):null!=this.__inactiveObject1?(t=this.__inactiveObject1,this.__inactiveObject1=null):(t=this.__inactiveObjectList.pop(),0<this.__inactiveObjectList.length&&(this.__inactiveObject0=this.__inactiveObjectList.pop()),0<this.__inactiveObjectList.length&&(this.__inactiveObject1=this.__inactiveObjectList.pop())),this.__pool.set(t,!0),this.inactiveObjects--,this.activeObjects++):(null==this.__size||this.activeObjects<this.__size)&&null!=(t=this.create())&&(this.__pool.set(t,!0),this.activeObjects++),t},release:function(t){this.__pool.exists(t)?this.__pool.get(t)||d_.error("Object has already been released",{fileName:"lime/utils/ObjectPool.hx",lineNumber:106,className:"lime.utils.ObjectPool",methodName:"release"}):d_.error("Object is not a member of the pool",{fileName:"lime/utils/ObjectPool.hx",lineNumber:102,className:"lime.utils.ObjectPool",methodName:"release"}),this.activeObjects--,null==this.__size||this.activeObjects+this.inactiveObjects<this.__size?(this.clean(t),this.__pool.set(t,!1),null==this.__inactiveObject0?this.__inactiveObject0=t:null==this.__inactiveObject1?this.__inactiveObject1=t:this.__inactiveObjectList.add(t),this.inactiveObjects++):this.__pool.remove(t)},remove:function(t){this.__pool.exists(t)&&(this.__pool.remove(t),this.__inactiveObject0==t?(this.__inactiveObject0=null,this.inactiveObjects--):this.__inactiveObject1==t?(this.__inactiveObject1=null,this.inactiveObjects--):this.__inactiveObjectList.remove(t)?this.inactiveObjects--:this.activeObjects--)},__addInactive:function(t){this.__pool.set(t,!1),null==this.__inactiveObject0?this.__inactiveObject0=t:null==this.__inactiveObject1?this.__inactiveObject1=t:this.__inactiveObjectList.add(t),this.inactiveObjects++},__getInactive:function(){if(null!=this.__inactiveObject0){var t=this.__inactiveObject0;this.__inactiveObject0=null}else null!=this.__inactiveObject1?(t=this.__inactiveObject1,this.__inactiveObject1=null):(t=this.__inactiveObjectList.pop(),0<this.__inactiveObjectList.length&&(this.__inactiveObject0=this.__inactiveObjectList.pop()),0<this.__inactiveObjectList.length&&(this.__inactiveObject1=this.__inactiveObjectList.pop()));return this.__pool.set(t,!0),this.inactiveObjects--,this.activeObjects++,t},__removeInactive:function(t){if(!(0>=t||0==this.inactiveObjects)&&(null!=this.__inactiveObject0&&(this.__pool.remove(this.__inactiveObject0),this.__inactiveObject0=null,this.inactiveObjects--,--t),0!=t&&0!=this.inactiveObjects&&(null!=this.__inactiveObject1&&(this.__pool.remove(this.__inactiveObject1),this.__inactiveObject1=null,this.inactiveObjects--,--t),0!=t&&0!=this.inactiveObjects)))for(var e=this.__inactiveObjectList.h;null!=e;){var i=e.item;if(e=e.next,this.__pool.remove(i),this.__inactiveObjectList.remove(i),this.inactiveObjects--,0==--t||0==this.inactiveObjects)break}},get_size:function(){return this.__size},set_size:function(t){if(null==t)this.__size=null;else{var e=this.inactiveObjects+this.activeObjects;if(this.__size=t,e>t)this.__removeInactive(e-t);else if(t>e)for(var i=0,s=t-e;i<s&&(i++,null!=(e=this.create()));)this.__pool.set(e,!1),this.__inactiveObjectList.add(e),this.inactiveObjects++}return t},__class__:P,__properties__:{set_size:"set_size",get_size:"get_size"}};var C=function(){};r["haxe.IMap"]=C,C.__name__="haxe.IMap",C.__isInterface__=!0,C.prototype={get:null,set:null,exists:null,remove:null,keys:null,iterator:null,keyValueIterator:null,__class__:C};var I=function(){this.h={__keys__:{}}};r["haxe.ds.ObjectMap"]=I,I.__name__="haxe.ds.ObjectMap",I.__interfaces__=[C],I.prototype={h:null,set:function(t,i){var s=t.__id__;null==s&&(s=t.__id__=e.$haxeUID++),this.h[s]=i,this.h.__keys__[s]=t},get:function(t){return this.h[t.__id__]},exists:function(t){return null!=this.h.__keys__[t.__id__]},remove:function(t){return t=t.__id__,null!=this.h.__keys__[t]&&(delete this.h[t],delete this.h.__keys__[t],!0)},keys:function(){var t,e=[];for(t in this.h.__keys__)this.h.hasOwnProperty(t)&&e.push(this.h.__keys__[t]);return new no(e)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var t=this.it.next();return this.ref[t.__id__]}}},keyValueIterator:function(){return new ro(this)},toString:function(){for(var t="{",e=this.keys();e.hasNext();){var i=e.next();t+=g.string(g.string(i)),t+=" => ",t+=g.string(g.string(this.h[i.__id__])),e.hasNext()&&(t+=", ")}return t+"}"},__class__:I};var E=function(){this.length=0};r["haxe.ds.List"]=E,E.__name__="haxe.ds.List",E.prototype={h:null,q:null,length:null,add:function(t){t=new Ha(t,null),null==this.h?this.h=t:this.q.next=t,this.q=t,this.length++},push:function(t){this.h=t=new Ha(t,this.h),null==this.q&&(this.q=t),this.length++},pop:function(){if(null==this.h)return null;var t=this.h.item;return this.h=this.h.next,null==this.h&&(this.q=null),this.length--,t},clear:function(){this.q=this.h=null,this.length=0},remove:function(t){for(var e=null,i=this.h;null!=i;){if(i.item==t)return null==e?this.h=i.next:e.next=i.next,this.q==i&&(this.q=e),this.length--,!0;e=i,i=i.next}return!1},iterator:function(){return new Wa(this.h)},__class__:E};var k=function(){A.call(this),this.__alpha=this.__drawableType=1,this.__blendMode=10,this.__cacheAsBitmap=!1,this.__transform=new yr,this.__visible=!0,this.__rotationSine=this.__rotation=0,this.__worldAlpha=this.__scaleY=this.__scaleX=this.__rotationCosine=1,this.__worldBlendMode=10,this.__worldTransform=new yr,this.__worldColorTransform=new br,this.__renderTransform=new yr,this.__worldVisible=!0,this.set_name("instance"+ ++k.__instanceCount),null!=k.__initStage&&(this.stage=k.__initStage,k.__initStage=null,this.stage.addChild(this))};r["openfl.display.DisplayObject"]=k,k.__name__="openfl.display.DisplayObject",k.__interfaces__=[T],k.__calculateAbsoluteTransform=function(t,e,i){i.a=t.a*e.a+t.b*e.c,i.b=t.a*e.b+t.b*e.d,i.c=t.c*e.a+t.d*e.c,i.d=t.c*e.b+t.d*e.d,i.tx=t.tx*e.a+t.ty*e.c+e.tx,i.ty=t.tx*e.b+t.ty*e.d+e.ty},k.__super__=A,k.prototype=i(A.prototype,{opaqueBackground:null,parent:null,stage:null,__alpha:null,__blendMode:null,__cacheAsBitmap:null,__cacheAsBitmapMatrix:null,__cacheBitmap:null,__cacheBitmapBackground:null,__cacheBitmapColorTransform:null,__cacheBitmapData:null,__cacheBitmapData2:null,__cacheBitmapData3:null,__cacheBitmapMatrix:null,__cacheBitmapRenderer:null,__cairo:null,__children:null,__customRenderClear:null,__customRenderEvent:null,__drawableType:null,__filters:null,__graphics:null,__interactive:null,__isCacheBitmapRender:null,__isMask:null,__loaderInfo:null,__mask:null,__maskTarget:null,__name:null,__objectTransform:null,__renderable:null,__renderDirty:null,__renderParent:null,__renderTransform:null,__renderTransformCache:null,__renderTransformChanged:null,__rotation:null,__rotationCosine:null,__rotationSine:null,__scale9Grid:null,__scaleX:null,__scaleY:null,__scrollRect:null,__shader:null,__tempPoint:null,__transform:null,__transformDirty:null,__visible:null,__worldAlpha:null,__worldAlphaChanged:null,__worldBlendMode:null,__worldClip:null,__worldClipChanged:null,__worldColorTransform:null,__worldShader:null,__worldScale9Grid:null,__worldTransform:null,__worldVisible:null,__worldVisibleChanged:null,__worldTransformInvalid:null,__worldZ:null,__canvas:null,__context:null,__style:null,addEventListener:function(t,e,i,s,n){switch(null==n&&(n=!1),null==s&&(s=0),null==i&&(i=!1),t){case"activate":case"deactivate":case"enterFrame":case"exitFrame":case"frameConstructed":case"render":Object.prototype.hasOwnProperty.call(k.__broadcastEvents.h,t)||(k.__broadcastEvents.h[t]=[]);var r=k.__broadcastEvents.h[t];-1==r.indexOf(this)&&r.push(this);break;case"clearDOM":case"renderCairo":case"renderCanvas":case"renderDOM":case"renderOpenGL":null==this.__customRenderEvent&&(this.__customRenderEvent=new Sd(null),this.__customRenderEvent.objectColorTransform=new br,this.__customRenderEvent.objectMatrix=new yr,this.__customRenderClear=!0)}A.prototype.addEventListener.call(this,t,e,i,s,n)},dispatchEvent:function(t){if(t instanceof vd){var e=this.__getRenderTransform();t.stageX=t.localX*e.a+t.localY*e.c+e.tx,e=this.__getRenderTransform(),t.stageY=t.localX*e.b+t.localY*e.d+e.ty}else t instanceof Ad&&(e=this.__getRenderTransform(),t.stageX=t.localX*e.a+t.localY*e.c+e.tx,e=this.__getRenderTransform(),t.stageY=t.localX*e.b+t.localY*e.d+e.ty);return t.target=this,this.__dispatchWithCapture(t)},getBounds:function(t){var e=yr.__pool.get();if(null!=t&&t!=this){e.copyFrom(this.__getWorldTransform());var i=yr.__pool.get();i.copyFrom(t.__getWorldTransform()),i.invert(),e.concat(i),yr.__pool.release(i)}else e.identity();return t=new je,this.__getBounds(t,e),yr.__pool.release(e),t},getRect:function(t){return this.getBounds(t)},globalToLocal:function(t){return this.__globalToLocal(t,new Ye)},hitTestObject:function(t){if(null!=t&&null!=t.parent&&null!=this.parent){var e=this.getBounds(this);return t=t.getBounds(this),e.intersects(t)}return!1},hitTestPoint:function(t,e,i){return null==i&&(i=!1),null!=this.stage&&this.__hitTest(t,e,i,null,!1,this)},invalidate:function(){this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())},localToGlobal:function(t){return this.__getRenderTransform().transformPoint(t)},removeEventListener:function(t,e,i){switch(null==i&&(i=!1),A.prototype.removeEventListener.call(this,t,e,i),t){case"activate":case"deactivate":case"enterFrame":case"exitFrame":case"frameConstructed":case"render":this.hasEventListener(t)||Object.prototype.hasOwnProperty.call(k.__broadcastEvents.h,t)&&c.remove(k.__broadcastEvents.h[t],this);break;case"clearDOM":case"renderCairo":case"renderCanvas":case"renderDOM":case"renderOpenGL":this.hasEventListener("clearDOM")||this.hasEventListener("renderCairo")||this.hasEventListener("renderCanvas")||this.hasEventListener("renderDOM")||this.hasEventListener("renderOpenGL")||(this.__customRenderEvent=null)}},__cleanup:function(){this.__context=this.__canvas=this.__cairo=null,null!=this.__graphics&&this.__graphics.__cleanup(),null!=this.__cacheBitmap&&(this.__cacheBitmap.__cleanup(),this.__cacheBitmap=null),null!=this.__cacheBitmapData&&(this.__cacheBitmapData.dispose(),this.__cacheBitmapData=null)},__dispatch:function(t){if(null!=this.__eventMap&&this.hasEventListener(t.type)){var e=A.prototype.__dispatchEvent.call(this,t);return!!t.__isCanceled||e}return!0},__dispatchChildren:function(t){},__dispatchEvent:function(t){var e=t.bubbles?this.parent:null,i=A.prototype.__dispatchEvent.call(this,t);return!!t.__isCanceled||(null!=e&&e!=this&&(t.eventPhase=3,null==t.target&&(t.target=this),e.__dispatchEvent(t)),i)},__dispatchWithCapture:function(t){if(null==t.target&&(t.target=this),null!=this.parent)if(t.eventPhase=1,this.parent==this.stage)this.parent.__dispatch(t);else{for(var e=k.__tempStack.get(),i=this.parent,s=0;null!=i;)e.set(s,i),i=i.parent,++s;i=0;for(var n=s;i<n;){var r=i++;e.get(s-r-1).__dispatch(t)}k.__tempStack.release(e)}return t.eventPhase=2,this.__dispatchEvent(t)},__enterFrame:function(t){},__getBounds:function(t,e){null!=this.__graphics&&this.__graphics.__getBounds(t,e)},__getCursor:function(){return null},__getFilterBounds:function(t,e){if(this.__getRenderBounds(t,e),null!=this.__filters){e=je.__pool.get();for(var i=0,s=this.__filters;i<s.length;){var n=s[i];++i,e.__expand(-n.__leftExtension,-n.__topExtension,n.__leftExtension+n.__rightExtension,n.__topExtension+n.__bottomExtension)}t.width+=e.width,t.height+=e.height,t.x+=e.x,t.y+=e.y,je.__pool.release(e)}},__getInteractive:function(t){return!1},__getLocalBounds:function(t){this.__getBounds(t,this.__transform),t.x-=this.__transform.tx,t.y-=this.__transform.ty},__getRenderBounds:function(t,e){if(null==this.__scrollRect)this.__getBounds(t,e);else{var i=je.__pool.get();i.copyFrom(this.__scrollRect),i.__transform(i,e),t.__expand(i.x,i.y,i.width,i.height),je.__pool.release(i)}},__getRenderTransform:function(){return this.__getWorldTransform(),this.__renderTransform},__getWorldTransform:function(){if(this.__transformDirty||this.__worldTransformInvalid){var t=[],e=this;if(null==this.parent)this.__update(!0,!1);else for(;e!=this.stage&&(t.push(e),null!=(e=e.parent)););for(var i=t.length;0<=--i;)(e=t[i]).__update(!0,!1)}return this.__worldTransform},__globalToLocal:function(t,e){if(this.__getRenderTransform(),t==e){var i=this.__renderTransform,s=i.a*i.d-i.b*i.c;if(0==s)t.x=-i.tx,t.y=-i.ty;else{var n=1/s*(i.c*(i.ty-t.y)+i.d*(t.x-i.tx));t.y=1/s*(i.a*(t.y-i.ty)+i.b*(i.tx-t.x)),t.x=n}}else s=(i=this.__renderTransform).a*i.d-i.b*i.c,e.x=0==s?-i.tx:1/s*(i.c*(i.ty-t.y)+i.d*(t.x-i.tx)),s=(i=this.__renderTransform).a*i.d-i.b*i.c,e.y=0==s?-i.ty:1/s*(i.a*(t.y-i.ty)+i.b*(i.tx-t.x));return e},__hitTest:function(t,e,i,s,n,r){if(null!=this.__graphics){if(!r.__visible||this.__isMask||null!=this.get_mask()&&!this.get_mask().__hitTestMask(t,e))return!1;if(this.__graphics.__hitTest(t,e,i,this.__getRenderTransform()))return null==s||n||s.push(r),!0}return!1},__hitTestMask:function(t,e){return!(null==this.__graphics||!this.__graphics.__hitTest(t,e,!0,this.__getRenderTransform()))},__readGraphicsData:function(t,e){null!=this.__graphics&&this.__graphics.__readGraphicsData(t)},__setParentRenderDirty:function(){var t=null!=this.__renderParent?this.__renderParent:this.parent;null==t||t.__renderDirty||(t.__renderDirty=!0,t.__setParentRenderDirty())},__setRenderDirty:function(){this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())},__setStageReference:function(t){this.stage=t},__setTransformDirty:function(){this.__transformDirty||(this.__transformDirty=!0,this.__setWorldTransformInvalid(),this.__setParentRenderDirty())},__setWorldTransformInvalid:function(){this.__worldTransformInvalid=!0},__stopAllMovieClips:function(){},__update:function(t,e){var i=null!=this.__renderParent?this.__renderParent:this.parent;if(this.__isMask&&null==i&&(i=this.__maskTarget),this.__renderable=this.__visible&&0!=this.__scaleX&&0!=this.__scaleY&&!this.__isMask&&(null==i||!i.__isMask),this.__updateTransforms(),this.__worldTransformInvalid=this.__transformDirty=!1,!t)if(k.__supportDOM&&(this.__renderTransformChanged=!this.__renderTransform.equals(this.__renderTransformCache),null==this.__renderTransformCache?this.__renderTransformCache=this.__renderTransform.clone():this.__renderTransformCache.copyFrom(this.__renderTransform)),null!=i){if(k.__supportDOM){var s=i.__worldVisible&&this.__visible;this.__worldVisibleChanged=this.__worldVisible!=s,this.__worldVisible=s,s=this.get_alpha()*i.__worldAlpha,this.__worldAlphaChanged=this.__worldAlpha!=s,this.__worldAlpha=s}else this.__worldAlpha=this.get_alpha()*i.__worldAlpha;null!=this.__objectTransform?(this.__worldColorTransform.__copyFrom(this.__objectTransform.__colorTransform),this.__worldColorTransform.__combine(i.__worldColorTransform)):this.__worldColorTransform.__copyFrom(i.__worldColorTransform),this.__worldBlendMode=null==this.__blendMode||10==this.__blendMode?i.__worldBlendMode:this.__blendMode,this.__worldShader=null==this.__shader?i.__shader:this.__shader,this.__worldScale9Grid=null==this.__scale9Grid?i.__scale9Grid:this.__scale9Grid}else this.__worldAlpha=this.get_alpha(),k.__supportDOM&&(this.__worldVisibleChanged=this.__worldVisible!=this.__visible,this.__worldVisible=this.__visible,this.__worldAlphaChanged=this.__worldAlpha!=this.get_alpha()),null!=this.__objectTransform?this.__worldColorTransform.__copyFrom(this.__objectTransform.__colorTransform):this.__worldColorTransform.__identity(),this.__worldBlendMode=this.__blendMode,this.__worldShader=this.__shader,this.__worldScale9Grid=this.__scale9Grid;e&&null!=this.get_mask()&&this.get_mask().__update(t,!0)},__updateTransforms:function(t){var e=null!=t;t=e?t:this.__transform,null==this.__worldTransform&&(this.__worldTransform=new yr),null==this.__renderTransform&&(this.__renderTransform=new yr);var i=null!=this.__renderParent?this.__renderParent:this.parent;if(e||null==this.parent)this.__worldTransform.copyFrom(t);else{var s=this.parent.__worldTransform,n=this.__worldTransform;n.a=t.a*s.a+t.b*s.c,n.b=t.a*s.b+t.b*s.d,n.c=t.c*s.a+t.d*s.c,n.d=t.c*s.b+t.d*s.d,n.tx=t.tx*s.a+t.ty*s.c+s.tx,n.ty=t.tx*s.b+t.ty*s.d+s.ty}e||null==i?this.__renderTransform.copyFrom(t):(s=i.__renderTransform,(n=this.__renderTransform).a=t.a*s.a+t.b*s.c,n.b=t.a*s.b+t.b*s.d,n.c=t.c*s.a+t.d*s.c,n.d=t.c*s.b+t.d*s.d,n.tx=t.tx*s.a+t.ty*s.c+s.tx,n.ty=t.tx*s.b+t.ty*s.d+s.ty),null!=this.__scrollRect&&(e=this.__renderTransform,t=-this.__scrollRect.x,i=-this.__scrollRect.y,e.tx=t*e.a+i*e.c+e.tx,e.ty=t*e.b+i*e.d+e.ty)},get_alpha:function(){return this.__alpha},set_alpha:function(t){return 1<t&&(t=1),0>t&&(t=0),t==this.__alpha||this.get_cacheAsBitmap()||this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),this.__alpha=t},get_blendMode:function(){return this.__blendMode},set_blendMode:function(t){return null==t&&(t=10),t==this.__blendMode||this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),this.__blendMode=t},get_cacheAsBitmap:function(){return null!=this.__filters||this.__cacheAsBitmap},set_cacheAsBitmap:function(t){return t==this.__cacheAsBitmap||this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),this.__cacheAsBitmap=t},get_cacheAsBitmapMatrix:function(){return this.__cacheAsBitmapMatrix},set_cacheAsBitmapMatrix:function(t){return this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),this.__cacheAsBitmapMatrix=null!=t?t.clone():t},get_filters:function(){return null==this.__filters?[]:this.__filters.slice()},set_filters:function(t){if(null!=t&&0<t.length){for(var e=[],i=0;i<t.length;){var s=t[i];++i,(s=s.clone()).__renderDirty=!0,e.push(s)}this.__filters=e,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())}else null!=this.__filters&&(this.__filters=null,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()));return t},get_height:function(){var t=je.__pool.get();this.__getLocalBounds(t);var e=t.height;return je.__pool.release(t),e},set_height:function(t){var e=je.__pool.get(),i=yr.__pool.get();return i.identity(),this.__getBounds(e,i),t!=e.height?this.set_scaleY(t/e.height):this.set_scaleY(1),je.__pool.release(e),yr.__pool.release(i),t},get_loaderInfo:function(){return null!=this.stage?Xm.current.__loaderInfo:null},get_mask:function(){return this.__mask},set_mask:function(t){if(t==this.__mask)return t;if(t!=this.__mask&&(this.__setTransformDirty(),this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())),null!=this.__mask){this.__mask.__isMask=!1,this.__mask.__maskTarget=null,this.__mask.__setTransformDirty();var e=this.__mask;e.__renderDirty||(e.__renderDirty=!0,e.__setParentRenderDirty())}return null!=t&&(t.__isMask=!0,t.__maskTarget=this,t.__setWorldTransformInvalid()),null!=this.__cacheBitmap&&this.__cacheBitmap.get_mask()!=t&&this.__cacheBitmap.set_mask(t),this.__mask=t},get_mouseX:function(){var t=null!=this.stage?this.stage.__mouseX:Xm.current.stage.__mouseX,e=null!=this.stage?this.stage.__mouseY:Xm.current.stage.__mouseY,i=this.__getRenderTransform(),s=i.a*i.d-i.b*i.c;return 0==s?-i.tx:1/s*(i.c*(i.ty-e)+i.d*(t-i.tx))},get_mouseY:function(){var t=null!=this.stage?this.stage.__mouseX:Xm.current.stage.__mouseX,e=null!=this.stage?this.stage.__mouseY:Xm.current.stage.__mouseY,i=this.__getRenderTransform(),s=i.a*i.d-i.b*i.c;return 0==s?-i.ty:1/s*(i.a*(e-i.ty)+i.b*(i.tx-t))},get_name:function(){return this.__name},set_name:function(t){return this.__name=t},get_root:function(){return null!=this.stage?Xm.current:null},get_rotation:function(){return this.__rotation},set_rotation:function(t){if(t!=this.__rotation){this.__rotation=t;var e=Math.PI/180*this.__rotation;this.__rotationSine=Math.sin(e),this.__rotationCosine=Math.cos(e),this.__transform.a=this.__rotationCosine*this.__scaleX,this.__transform.b=this.__rotationSine*this.__scaleX,this.__transform.c=-this.__rotationSine*this.__scaleY,this.__transform.d=this.__rotationCosine*this.__scaleY,this.__setTransformDirty()}return t},get_scale9Grid:function(){return null==this.__scale9Grid?null:this.__scale9Grid.clone()},set_scale9Grid:function(t){return null==t&&null==this.__scale9Grid||null!=t&&null!=this.__scale9Grid&&this.__scale9Grid.equals(t)||(null!=t?(null==this.__scale9Grid&&(this.__scale9Grid=new je),this.__scale9Grid.copyFrom(t)):this.__scale9Grid=null,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())),t},get_scaleX:function(){return this.__scaleX},set_scaleX:function(t){if(t!=this.__scaleX)if(this.__scaleX=t,0==this.__transform.b)t!=this.__transform.a&&this.__setTransformDirty(),this.__transform.a=t;else{var e=this.__rotationCosine*t,i=this.__rotationSine*t;this.__transform.a==e&&this.__transform.b==i||this.__setTransformDirty(),this.__transform.a=e,this.__transform.b=i}return t},get_scaleY:function(){return this.__scaleY},set_scaleY:function(t){if(t!=this.__scaleY)if(this.__scaleY=t,0==this.__transform.c)t!=this.__transform.d&&this.__setTransformDirty(),this.__transform.d=t;else{var e=-this.__rotationSine*t,i=this.__rotationCosine*t;this.__transform.d==i&&this.__transform.c==e||this.__setTransformDirty(),this.__transform.c=e,this.__transform.d=i}return t},get_scrollRect:function(){return null==this.__scrollRect?null:this.__scrollRect.clone()},set_scrollRect:function(t){return null==t&&null==this.__scrollRect||null!=t&&null!=this.__scrollRect&&this.__scrollRect.equals(t)||(null!=t?(null==this.__scrollRect&&(this.__scrollRect=new je),this.__scrollRect.copyFrom(t)):this.__scrollRect=null,this.__setTransformDirty(),k.__supportDOM&&!this.__renderDirty&&(this.__renderDirty=!0,this.__setParentRenderDirty())),t},get_shader:function(){return this.__shader},set_shader:function(t){return this.__shader=t,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),t},get_transform:function(){return null==this.__objectTransform&&(this.__objectTransform=new Fd(this)),this.__objectTransform},set_transform:function(t){if(null==t)throw new ld("Parameter transform must be non-null.");return null==this.__objectTransform&&(this.__objectTransform=new Fd(this)),this.__setTransformDirty(),this.__objectTransform.set_matrix(t.get_matrix()),this.__objectTransform.__colorTransform.__equals(t.__colorTransform,!0)&&(this.get_cacheAsBitmap()||this.__objectTransform.__colorTransform.alphaMultiplier==t.__colorTransform.alphaMultiplier)||(this.__objectTransform.__colorTransform.__copyFrom(t.get_colorTransform()),this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())),this.__objectTransform},get_visible:function(){return this.__visible},set_visible:function(t){return t==this.__visible||this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),this.__visible=t},get_width:function(){var t=je.__pool.get();this.__getLocalBounds(t);var e=t.width;return je.__pool.release(t),e},set_width:function(t){var e=je.__pool.get(),i=yr.__pool.get();return i.identity(),this.__getBounds(e,i),t!=e.width?this.set_scaleX(t/e.width):this.set_scaleX(1),je.__pool.release(e),yr.__pool.release(i),t},get_x:function(){return this.__transform.tx},set_x:function(t){return t!=this.__transform.tx&&this.__setTransformDirty(),this.__transform.tx=t},get_y:function(){return this.__transform.ty},set_y:function(t){return t!=this.__transform.ty&&this.__setTransformDirty(),this.__transform.ty=t},__class__:k,__properties__:{set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x",set_width:"set_width",get_width:"get_width",set_visible:"set_visible",get_visible:"get_visible",set_transform:"set_transform",get_transform:"get_transform",set_shader:"set_shader",get_shader:"get_shader",set_scrollRect:"set_scrollRect",get_scrollRect:"get_scrollRect",set_scaleY:"set_scaleY",get_scaleY:"get_scaleY",set_scaleX:"set_scaleX",get_scaleX:"get_scaleX",set_scale9Grid:"set_scale9Grid",get_scale9Grid:"get_scale9Grid",set_rotation:"set_rotation",get_rotation:"get_rotation",get_root:"get_root",set_name:"set_name",get_name:"get_name",get_mouseY:"get_mouseY",get_mouseX:"get_mouseX",set_mask:"set_mask",get_mask:"get_mask",get_loaderInfo:"get_loaderInfo",set_height:"set_height",get_height:"get_height",set_filters:"set_filters",get_filters:"get_filters",set_cacheAsBitmapMatrix:"set_cacheAsBitmapMatrix",get_cacheAsBitmapMatrix:"get_cacheAsBitmapMatrix",set_cacheAsBitmap:"set_cacheAsBitmap",get_cacheAsBitmap:"get_cacheAsBitmap",set_blendMode:"set_blendMode",get_blendMode:"get_blendMode",set_alpha:"set_alpha",get_alpha:"get_alpha"}});var F=function(){k.call(this),this.doubleClickEnabled=!1,this.mouseEnabled=!0,this.needsSoftKeyboard=!1,this.__tabEnabled=null,this.__tabIndex=-1};r["openfl.display.InteractiveObject"]=F,F.__name__="openfl.display.InteractiveObject",F.__super__=k,F.prototype=i(k.prototype,{doubleClickEnabled:null,focusRect:null,mouseEnabled:null,needsSoftKeyboard:null,softKeyboardInputAreaOfInterest:null,__tabEnabled:null,__tabIndex:null,requestSoftKeyboard:function(){return Xm.notImplemented({fileName:"openfl/display/InteractiveObject.hx",lineNumber:1251,className:"openfl.display.InteractiveObject",methodName:"requestSoftKeyboard"}),!1},__allowMouseFocus:function(){return!!this.mouseEnabled&&this.get_tabEnabled()},__getInteractive:function(t){return null!=t&&(t.push(this),null!=this.parent&&this.parent.__getInteractive(t)),!0},__hitTest:function(t,e,i,s,n,r){return!(!r.get_visible()||this.__isMask||n&&!this.mouseEnabled)&&k.prototype.__hitTest.call(this,t,e,i,s,n,r)},__tabTest:function(t){this.get_tabEnabled()&&t.push(this)},get_tabEnabled:function(){return 1==this.__tabEnabled},set_tabEnabled:function(t){return this.__tabEnabled!=t&&(this.__tabEnabled=t,this.dispatchEvent(new _i("tabEnabledChange",!0,!1))),this.__tabEnabled},get_tabIndex:function(){return this.__tabIndex},set_tabIndex:function(t){if(this.__tabIndex!=t){if(-1>t)throw new ad("Parameter tabIndex must be a non-negative number; got "+t);this.__tabIndex=t,this.dispatchEvent(new _i("tabIndexChange",!0,!1))}return this.__tabIndex},__class__:F,__properties__:i(k.prototype.__properties__,{set_tabIndex:"set_tabIndex",get_tabIndex:"get_tabIndex",set_tabEnabled:"set_tabEnabled",get_tabEnabled:"get_tabEnabled"})});var B=function(){F.call(this),this.__tabChildren=this.mouseChildren=!0,this.__children=[],this.__removedChildren=M.toObjectVector(null)};r["openfl.display.DisplayObjectContainer"]=B,B.__name__="openfl.display.DisplayObjectContainer",B.__super__=F,B.prototype=i(F.prototype,{mouseChildren:null,__removedChildren:null,__tabChildren:null,addChild:function(t){return this.addChildAt(t,this.get_numChildren())},addChildAt:function(t,e){if(null==t)throw(t=new ld("Error #2007: Parameter child must be non-null.")).errorID=2007,t;if(t.stage==t)throw(t=new id("Error #3783: A Stage object cannot be added as the child of another object.")).errorID=3783,t;if(e>this.__children.length||0>e)throw wa.thrown("Invalid index position "+e);if(t.parent==this)this.__children[e]!=t&&(c.remove(this.__children,t),this.__children.splice(e,0,t),this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()));else{null!=t.parent&&t.parent.removeChild(t),this.__children.splice(e,0,t),t.parent=this,(e=null!=this.stage&&null==t.stage)&&t.__setStageReference(this.stage),t.__setTransformDirty(),t.__renderDirty||(t.__renderDirty=!0,t.__setParentRenderDirty()),this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty());var i=new _i("added");i.bubbles=!0,i.target=t,t.__dispatchWithCapture(i),e&&(i=new _i("addedToStage",!1,!1),t.__dispatchWithCapture(i),t.__dispatchChildren(i))}return t},areInaccessibleObjectsUnderPoint:function(t){return!1},contains:function(t){for(;t!=this&&null!=t;)t=t.parent;return t==this},getChildAt:function(t){return 0<=t&&t<this.__children.length?this.__children[t]:null},getChildByName:function(t){for(var e=0,i=this.__children;e<i.length;){var s=i[e];if(++e,s.get_name()==t)return s}return null},getChildIndex:function(t){for(var e=0,i=this.__children.length;e<i;){var s=e++;if(this.__children[s]==t)return s}return-1},getObjectsUnderPoint:function(t){var e=[];return this.__hitTest(t.x,t.y,!1,e,!1,this),e.reverse(),e},removeChild:function(t){if(null!=t&&t.parent==this){t.__setTransformDirty(),t.__renderDirty||(t.__renderDirty=!0,t.__setParentRenderDirty()),this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty());var e=new _i("removed",!0);t.__dispatchWithCapture(e),null!=this.stage&&(null!=t.stage&&this.stage.get_focus()==t&&this.stage.set_focus(null),e=new _i("removedFromStage",!1,!1),t.__dispatchWithCapture(e),t.__dispatchChildren(e),t.__setStageReference(null)),t.parent=null,c.remove(this.__children,t),this.__removedChildren.push(t),t.__setTransformDirty()}return t},removeChildAt:function(t){return 0<=t&&t<this.__children.length?this.removeChild(this.__children[t]):null},removeChildren:function(t,e){if(null==e&&(e=2147483647),null==t&&(t=0),!(2147483647==e&&(e=this.__children.length-1,0>e)||t>this.__children.length-1)){if(e<t||0>t||e>this.__children.length)throw new ad("The supplied index is out of bounds.");for(e-=t;0<=e;)this.removeChildAt(t),--e}},resolve:function(t){if(null==this.__children)return null;for(var e=0,i=this.__children;e<i.length;){var s=i[e];if(++e,s.get_name()==t)return s}return null},setChildIndex:function(t,e){0<=e&&e<=this.__children.length&&t.parent==this&&(c.remove(this.__children,t),this.__children.splice(e,0,t))},stopAllMovieClips:function(){this.__stopAllMovieClips()},swapChildren:function(t,e){if(t.parent==this&&e.parent==this){var i=this.__children.indexOf(t),s=this.__children.indexOf(e);this.__children[i]=e,this.__children[s]=t,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())}},swapChildrenAt:function(t,e){var i=this.__children[t];this.__children[t]=this.__children[e],this.__children[e]=i,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())},__cleanup:function(){F.prototype.__cleanup.call(this);for(var t=0,e=this.__children;t<e.length;){var i=e[t];++t,i.__cleanup()}for(t=this.__removedChildren.iterator();t.hasNext();)null==(e=t.next()).stage&&e.__cleanup();this.__removedChildren.set_length(0)},__cleanupRemovedChildren:function(){for(var t=this.__removedChildren.iterator();t.hasNext();){var e=t.next();null==e.stage&&e.__cleanup()}this.__removedChildren.set_length(0)},__dispatchChildren:function(t){if(null!=this.__children)for(var e=0,i=this.__children;e<i.length;){var s=i[e];if(++e,t.target=s,!s.__dispatchWithCapture(t))break;s.__dispatchChildren(t)}},__enterFrame:function(t){for(var e=0,i=this.__children;e<i.length;){var s=i[e];++e,s.__enterFrame(t)}},__getBounds:function(t,e){if(F.prototype.__getBounds.call(this,t,e),0!=this.__children.length){for(var i=yr.__pool.get(),s=0,n=this.__children;s<n.length;){var r=n[s];if(++s,0!=r.__scaleX&&0!=r.__scaleY){var a=r.__transform;i.a=a.a*e.a+a.b*e.c,i.b=a.a*e.b+a.b*e.d,i.c=a.c*e.a+a.d*e.c,i.d=a.c*e.b+a.d*e.d,i.tx=a.tx*e.a+a.ty*e.c+e.tx,i.ty=a.tx*e.b+a.ty*e.d+e.ty,r.__getBounds(t,i)}}yr.__pool.release(i)}},__getFilterBounds:function(t,e){if(F.prototype.__getFilterBounds.call(this,t,e),null==this.__scrollRect&&0!=this.__children.length){for(var i=yr.__pool.get(),s=0,n=this.__children;s<n.length;){var r=n[s];if(++s,0!=r.__scaleX&&0!=r.__scaleY&&!r.__isMask){var a=r.__transform;i.a=a.a*e.a+a.b*e.c,i.b=a.a*e.b+a.b*e.d,i.c=a.c*e.a+a.d*e.c,i.d=a.c*e.b+a.d*e.d,i.tx=a.tx*e.a+a.ty*e.c+e.tx,i.ty=a.tx*e.b+a.ty*e.d+e.ty,a=je.__pool.get(),r.__getFilterBounds(a,i),t.__expand(a.x,a.y,a.width,a.height),je.__pool.release(a)}}yr.__pool.release(i)}},__getRenderBounds:function(t,e){if(null!=this.__scrollRect)F.prototype.__getRenderBounds.call(this,t,e);else if(F.prototype.__getBounds.call(this,t,e),0!=this.__children.length){for(var i=yr.__pool.get(),s=0,n=this.__children;s<n.length;){var r=n[s];if(++s,0!=r.__scaleX&&0!=r.__scaleY&&!r.__isMask){var a=r.__transform;i.a=a.a*e.a+a.b*e.c,i.b=a.a*e.b+a.b*e.d,i.c=a.c*e.a+a.d*e.c,i.d=a.c*e.b+a.d*e.d,i.tx=a.tx*e.a+a.ty*e.c+e.tx,i.ty=a.tx*e.b+a.ty*e.d+e.ty,r.__getRenderBounds(t,i)}}yr.__pool.release(i)}},__hitTest:function(t,e,i,s,n,r){if(!r.get_visible()||this.__isMask||n&&!this.mouseEnabled&&!this.mouseChildren||null!=this.get_mask()&&!this.get_mask().__hitTestMask(t,e))return!1;if(null!=this.__scrollRect){var a=Ye.__pool.get();a.setTo(t,e);var o=this.__getRenderTransform(),l=o.a*o.d-o.b*o.c;if(0==l)a.x=-o.tx,a.y=-o.ty;else{var h=1/l*(o.c*(o.ty-a.y)+o.d*(a.x-o.tx));a.y=1/l*(o.a*(a.y-o.ty)+o.b*(o.tx-a.x)),a.x=h}if(!this.__scrollRect.containsPoint(a))return Ye.__pool.release(a),!1;Ye.__pool.release(a)}if(a=this.__children.length,!n){for(l=!1;0<=--a&&(!this.__children[a].__hitTest(t,e,i,s,!1,this.__children[a])||(l=!0,null!=s)););return l}if(null!=s&&this.mouseChildren){if(null!=s){for(n=s.length,l=!1;0<=--a&&!(((o=this.__children[a].__getInteractive(null))||this.mouseEnabled&&!l)&&this.__children[a].__hitTest(t,e,i,s,!0,this.__children[a])&&(l=!0,o&&s.length>n)););if(l)return s.splice(n,0,r),!0}}else for(;0<=--a;)if(this.__children[a].__hitTest(t,e,i,null,!0,this.__children[a]))return null!=s&&s.push(r),!0;return!1},__hitTestMask:function(t,e){for(var i=this.__children.length;0<=--i;)if(this.__children[i].__hitTestMask(t,e))return!0;return!1},__readGraphicsData:function(t,e){if(F.prototype.__readGraphicsData.call(this,t,e),e)for(var i=0,s=this.__children;i<s.length;){var n=s[i];++i,n.__readGraphicsData(t,e)}},__setStageReference:function(t){if(F.prototype.__setStageReference.call(this,t),null!=this.__children)for(var e=0,i=this.__children;e<i.length;){var s=i[e];++e,s.__setStageReference(t)}},__setWorldTransformInvalid:function(){if(!this.__worldTransformInvalid&&(this.__worldTransformInvalid=!0,null!=this.__children))for(var t=0,e=this.__children;t<e.length;){var i=e[t];++t,i.__setWorldTransformInvalid()}},__stopAllMovieClips:function(){for(var t=0,e=this.__children;t<e.length;){var i=e[t];++t,i.__stopAllMovieClips()}},__tabTest:function(t){if(F.prototype.__tabTest.call(this,t),this.get_tabChildren())for(var e=0,i=this.__children;e<i.length;){var s=i[e];++e,s.__getInteractive(null)&&s.__tabTest(t)}},__update:function(t,e){if(F.prototype.__update.call(this,t,e),e){e=0;for(var i=this.__children;e<i.length;){var s=i[e];++e,s.__update(t,!0)}}},get_numChildren:function(){return this.__children.length},get_tabChildren:function(){return this.__tabChildren},set_tabChildren:function(t){return this.__tabChildren!=t&&(this.__tabChildren=t,this.dispatchEvent(new _i("tabChildrenChange",!0,!1))),this.__tabChildren},__class__:B,__properties__:i(F.prototype.__properties__,{set_tabChildren:"set_tabChildren",get_tabChildren:"get_tabChildren",get_numChildren:"get_numChildren"})});var D=function(){if(B.call(this),this.__drawableType=4,this.__buttonMode=!1,this.useHandCursor=!0,null!=this.__pendingBindLibrary){var t=this.__pendingBindLibrary,e=this.__pendingBindClassName;this.__pendingBindClassName=this.__pendingBindLibrary=null,t.bind(e,this)}else null!=D.__constructor&&(t=D.__constructor,D.__constructor=null,t(this))};r["openfl.display.Sprite"]=D,D.__name__="openfl.display.Sprite",D.fromTimeline=function(t){var e=new D;return t.initializeSprite(e),e},D.__super__=B,D.prototype=i(B.prototype,{dropTarget:null,hitArea:null,useHandCursor:null,__buttonMode:null,__pendingBindClassName:null,__pendingBindLibrary:null,startDrag:function(t,e){null==t&&(t=!1),null!=this.stage&&this.stage.__startDrag(this,t,e)},stopDrag:function(){null!=this.stage&&this.stage.__stopDrag(this)},__bind:function(t,e){null==this.__worldTransform?(this.__pendingBindLibrary=t,this.__pendingBindClassName=e):null!=t&&null!=e&&t.bind(e,this)||d_.error('Cannot bind class name "'+e+'"',{fileName:"openfl/display/Sprite.hx",lineNumber:281,className:"openfl.display.Sprite",methodName:"__bind"})},__getCursor:function(){return this.__buttonMode&&this.useHandCursor?"button":null},__hitTest:function(t,e,i,s,n,r){if(n&&!this.mouseEnabled&&!this.mouseChildren)return!1;if(!r.get_visible()||this.__isMask||null!=this.get_mask()&&!this.get_mask().__hitTestMask(t,e))return this.__hitTestHitArea(t,e,i,s,n,r);if(null!=this.__scrollRect){var a=Ye.__pool.get();a.setTo(t,e);var o=this.__getRenderTransform(),l=o.a*o.d-o.b*o.c;if(0==l)a.x=-o.tx,a.y=-o.ty;else{var h=1/l*(o.c*(o.ty-a.y)+o.d*(a.x-o.tx));a.y=1/l*(o.a*(a.y-o.ty)+o.b*(o.tx-a.x)),a.x=h}if(!this.__scrollRect.containsPoint(a))return Ye.__pool.release(a),this.__hitTestHitArea(t,e,i,s,!0,r);Ye.__pool.release(a)}return B.prototype.__hitTest.call(this,t,e,i,s,n,r)?null==s||n:null==this.hitArea&&null!=this.__graphics&&this.__graphics.__hitTest(t,e,i,this.__getRenderTransform())?(null==s||n&&!this.mouseEnabled||s.push(r),!0):this.__hitTestHitArea(t,e,i,s,n,r)},__hitTestHitArea:function(t,e,i,s,n,r){return null!=this.hitArea&&!this.hitArea.mouseEnabled&&(this.hitArea.mouseEnabled=!0,t=this.hitArea.__hitTest(t,e,i,null,!0,r),this.hitArea.mouseEnabled=!1,null!=s&&t&&(s[s.length]=r),t)},__hitTestMask:function(t,e){return!!(B.prototype.__hitTestMask.call(this,t,e)||null!=this.__graphics&&this.__graphics.__hitTest(t,e,!0,this.__getRenderTransform()))},get_graphics:function(){return null==this.__graphics&&(this.__graphics=new J_(this)),this.__graphics},get_tabEnabled:function(){return null==this.__tabEnabled?this.__buttonMode:this.__tabEnabled},get_buttonMode:function(){return this.__buttonMode},set_buttonMode:function(t){return this.__buttonMode=t},__class__:D,__properties__:i(B.prototype.__properties__,{get_graphics:"get_graphics",set_buttonMode:"set_buttonMode",get_buttonMode:"get_buttonMode"})});var L=function(){D.call(this),this.set_name("Root"),this.addEventListener("addedToStage",n(this,this.onAdded))};r.Universal=L,L.__name__="Universal",L.initWindow=function(t){L.window=t,t.stage.align=6,t.stage.set_scaleMode(2)},L.setupTracing=function(t){null==t&&(t=!1),null==L.oldTrace&&(L.oldTrace=Ta.trace),t||!Ne.releaseMode?(Ta.trace=L.oldTrace,d_.level=5):(Ta.trace=function(t,e){},d_.level=0)},L.reloadGame=function(){f.field(L.am,"reloadGame").apply(L.am,[])},L.addReloadListener=function(t){f.field(L.am,"reloadListeners").push(t)},L.__super__=D,L.prototype=i(D.prototype,{maskLayer:null,onAdded:function(t){this.removeEventListener("addedToStage",n(this,this.onAdded)),this.initServices(),this.maskLayer=new Rc,this.maskLayer.set_name("Mask Layer"),this.initScreen(Ne.startInFullScreen)},initServices:function(){},initScreen:function(t){t=!1,this.stage.set_displayState(t?1:2),this.stage.__setLogicalSize(0,0),I_.get_current().set_x(0),I_.get_current().set_y(0),I_.get_current().set_scaleX(1),I_.get_current().set_scaleY(1),this.set_x(0),this.set_y(0),this.set_scaleX(1),this.set_scaleY(1),Ge.stage=this.stage;for(var e=new I,i=0,s=Ne.scales;i<s.length;){var n=s[i];++i,e.set(n,!0)}L.windowWidth=t?S.toFloat(this.stage.get_fullScreenWidth()):Ne.stageWidth*Ne.gameScale,L.windowHeight=t?S.toFloat(this.stage.get_fullScreenHeight()):Ne.stageHeight*Ne.gameScale,i=this.getDesiredScale(L.windowWidth,L.windowHeight,Ne.stageWidth,Ne.stageHeight),s=this.getDesiredScale(S.toFloat(this.stage.get_fullScreenWidth()),S.toFloat(this.stage.get_fullScreenHeight()),Ne.stageWidth,Ne.stageHeight),4==(s=Ne.forceHiResAssets?s:i)&&null!=e.h.__keys__[wi._4X.__id__]?(Ge.SCALE=4,Ge.IMG_BASE="4x"):3<=s&&null!=e.h.__keys__[wi._3X.__id__]?(Ge.SCALE=3,Ge.IMG_BASE="3x"):2<=s&&null!=e.h.__keys__[wi._2X.__id__]?(Ge.SCALE=2,Ge.IMG_BASE="2x"):1.5<=s&&null!=e.h.__keys__[wi._1_5X.__id__]?(Ge.SCALE=1.5,Ge.IMG_BASE="1.5x"):(Ge.SCALE=1,Ge.IMG_BASE="1x"),e=Ne.stageWidth*Ge.SCALE,s=Ne.stageHeight*Ge.SCALE,n=L.windowWidth/e;var r=L.windowHeight/s;(Ne.forceHiResAssets||L.windowWidth!=Ne.stageWidth||L.windowHeight!=Ne.stageHeight)&&(1==Ne.scaleMode?Ge.SCALE!=i&&(this.set_scaleX(i/Ge.SCALE),this.set_scaleY(this.get_scaleX())):2==Ne.scaleMode?(this.set_scaleX(n),this.set_scaleY(r)):3==Ne.scaleMode||5==Ne.scaleMode?(this.set_scaleX(Math.min(n,r)),this.set_scaleY(this.get_scaleX())):4==Ne.scaleMode?(this.set_scaleX(Math.max(n,r)),this.set_scaleY(this.get_scaleX())):0==Ne.scaleMode&&Ge.SCALE!=i&&(this.set_scaleX(i/Ge.SCALE),this.set_scaleY(this.get_scaleX())),5!=Ne.scaleMode&&1!=Ne.scaleMode&&(this.set_x(this.get_x()+(L.windowWidth-e*this.get_scaleX())/2),this.set_y(this.get_y()+(L.windowHeight-s*this.get_scaleY())/2))),L.logicalWidth=Ne.stageWidth,L.logicalHeight=Ne.stageHeight,!t||5!=Ne.scaleMode&&1!=Ne.scaleMode||(L.logicalWidth=L.windowWidth/this.get_scaleX()/Ge.SCALE,L.logicalHeight=L.windowHeight/this.get_scaleY()/Ge.SCALE,(0|L.logicalWidth)==L.logicalWidth&&(0|L.logicalHeight)==L.logicalHeight)||(L.logicalWidth|=0,L.logicalHeight|=0,this.set_scaleX(L.windowWidth/Ge.SCALE/L.logicalWidth),this.set_scaleY(L.windowHeight/Ge.SCALE/L.logicalHeight)),Ge.screenScaleX=this.get_scaleX(),Ge.screenScaleY=this.get_scaleY(),this.maskLayer.get_graphics().clear(),!t||3!=Ne.scaleMode&&0!=Ne.scaleMode||(t=this.get_x()/this.get_scaleX(),i=this.get_y()/this.get_scaleY(),n=L.windowWidth/this.get_scaleX(),this.maskLayer.get_graphics().beginFill(this.stage.get_color()),this.maskLayer.get_graphics().drawRect(-t,-i,n,i),this.maskLayer.get_graphics().drawRect(-t,0,t,s),this.maskLayer.get_graphics().drawRect(e,0,t,s),this.maskLayer.get_graphics().drawRect(-t,s,n,i),this.maskLayer.get_graphics().endFill())},getDesiredScale:function(t,e,i,s){var n=2*i,r=2*s;return i*=3,s*=3,t>=2*n&&e>=2*r?4:t>=i&&e>=s?3:t>=n&&e>=r?2:t>=i/2&&e>=s/2?1.5:1},preloaderComplete:function(){try{new Ge(this)}catch(e){Ma.lastError=e;var t=wa.caught(e).unwrap();this.stage.__handleError(t)}},__class__:L});var N={toString:function(t){switch(t){case 0:return"Element";case 1:return"PCData";case 2:return"CData";case 3:return"Comment";case 4:return"DocType";case 5:return"ProcessingInstruction";case 6:return"Document"}}},O=function(t){this.nodeType=t,this.children=[],this.attributeMap=new pr};r.Xml=O,O.__name__="Xml",O.parse=function(t){return _o.parse(t)},O.createElement=function(t){var e=new O(O.Element);if(e.nodeType!=O.Element)throw wa.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":N.toString(e.nodeType)));return e.nodeName=t,e},O.createPCData=function(t){var e=new O(O.PCData);if(e.nodeType==O.Document||e.nodeType==O.Element)throw wa.thrown("Bad node type, unexpected "+(null==e.nodeType?"null":N.toString(e.nodeType)));return e.nodeValue=t,e},O.createCData=function(t){var e=new O(O.CData);if(e.nodeType==O.Document||e.nodeType==O.Element)throw wa.thrown("Bad node type, unexpected "+(null==e.nodeType?"null":N.toString(e.nodeType)));return e.nodeValue=t,e},O.createComment=function(t){var e=new O(O.Comment);if(e.nodeType==O.Document||e.nodeType==O.Element)throw wa.thrown("Bad node type, unexpected "+(null==e.nodeType?"null":N.toString(e.nodeType)));return e.nodeValue=t,e},O.createDocType=function(t){var e=new O(O.DocType);if(e.nodeType==O.Document||e.nodeType==O.Element)throw wa.thrown("Bad node type, unexpected "+(null==e.nodeType?"null":N.toString(e.nodeType)));return e.nodeValue=t,e},O.createProcessingInstruction=function(t){var e=new O(O.ProcessingInstruction);if(e.nodeType==O.Document||e.nodeType==O.Element)throw wa.thrown("Bad node type, unexpected "+(null==e.nodeType?"null":N.toString(e.nodeType)));return e.nodeValue=t,e},O.createDocument=function(){return new O(O.Document)},O.prototype={nodeType:null,nodeName:null,nodeValue:null,parent:null,children:null,attributeMap:null,get:function(t){if(this.nodeType!=O.Element)throw wa.thrown("Bad node type, expected Element but found "+(null==this.nodeType?"null":N.toString(this.nodeType)));return this.attributeMap.h[t]},set:function(t,e){if(this.nodeType!=O.Element)throw wa.thrown("Bad node type, expected Element but found "+(null==this.nodeType?"null":N.toString(this.nodeType)));this.attributeMap.h[t]=e},exists:function(t){if(this.nodeType!=O.Element)throw wa.thrown("Bad node type, expected Element but found "+(null==this.nodeType?"null":N.toString(this.nodeType)));return Object.prototype.hasOwnProperty.call(this.attributeMap.h,t)},attributes:function(){if(this.nodeType!=O.Element)throw wa.thrown("Bad node type, expected Element but found "+(null==this.nodeType?"null":N.toString(this.nodeType)));return new Xa(this.attributeMap.h)},elements:function(){if(this.nodeType!=O.Document&&this.nodeType!=O.Element)throw wa.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":N.toString(this.nodeType)));for(var t=[],e=0,i=this.children;e<i.length;){var s=i[e];++e,s.nodeType==O.Element&&t.push(s)}return new no(t)},elementsNamed:function(t){if(this.nodeType!=O.Document&&this.nodeType!=O.Element)throw wa.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":N.toString(this.nodeType)));for(var e=[],i=0,s=this.children;i<s.length;){var n=s[i];if(++i,n.nodeType==O.Element){if(n.nodeType!=O.Element)throw wa.thrown("Bad node type, expected Element but found "+(null==n.nodeType?"null":N.toString(n.nodeType)));var r=n.nodeName==t}else r=!1;r&&e.push(n)}return new no(e)},firstElement:function(){if(this.nodeType!=O.Document&&this.nodeType!=O.Element)throw wa.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":N.toString(this.nodeType)));for(var t=0,e=this.children;t<e.length;){var i=e[t];if(++t,i.nodeType==O.Element)return i}return null},addChild:function(t){if(this.nodeType!=O.Document&&this.nodeType!=O.Element)throw wa.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":N.toString(this.nodeType)));null!=t.parent&&t.parent.removeChild(t),this.children.push(t),t.parent=this},removeChild:function(t){if(this.nodeType!=O.Document&&this.nodeType!=O.Element)throw wa.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":N.toString(this.nodeType)));return!!c.remove(this.children,t)&&(t.parent=null,!0)},toString:function(){return co.print(this)},__class__:O};var V=function(){this.lowerBound=new G,this.upperBound=new G};r["box2D.collision.B2AABB"]=V,V.__name__="box2D.collision.B2AABB",V.prototype={isValid:function(){var t=this.upperBound.y-this.lowerBound.y;return 0<=this.upperBound.x-this.lowerBound.x&&0<=t&&this.lowerBound.isValid()&&this.upperBound.isValid()},getCenter:function(){return new G((this.lowerBound.x+this.upperBound.x)/2,(this.lowerBound.y+this.upperBound.y)/2)},getExtents:function(){return new G((this.upperBound.x-this.lowerBound.x)/2,(this.upperBound.y-this.lowerBound.y)/2)},contains:function(t){return this.lowerBound.x<=t.lowerBound.x&&this.lowerBound.y<=t.lowerBound.y&&t.upperBound.x<=this.upperBound.x&&t.upperBound.y<=this.upperBound.y},rayCast:function(t,e){var i=-Number.MAX_VALUE,s=Number.MAX_VALUE,n=e.p1.x,r=e.p1.y,a=e.p2.x-e.p1.x;e=e.p2.y-e.p1.y;var o=Math.abs(e),l=t.normal;if(Math.abs(a)<Number.MIN_VALUE){if(n<this.lowerBound.x||this.upperBound.x<n)return!1}else{var h=1/a;if(a=(this.lowerBound.x-n)*h,n=(this.upperBound.x-n)*h,h=-1,a>n&&(h=a,a=n,n=h,h=1),a>i&&(l.x=h,l.y=0,i=a),i>(s=Math.min(s,n)))return!1}if(o<Number.MIN_VALUE){if(r<this.lowerBound.y||this.upperBound.y<r)return!1}else if(h=1/e,a=(this.lowerBound.y-r)*h,n=(this.upperBound.y-r)*h,h=-1,a>n&&(h=a,a=n,n=h,h=1),a>i&&(l.y=h,l.x=0,i=a),i>(s=Math.min(s,n)))return!1;return t.fraction=i,!0},testOverlap:function(t){var e=t.lowerBound.y-this.upperBound.y,i=this.lowerBound.y-t.upperBound.y;return!(0<t.lowerBound.x-this.upperBound.x||0<e||0<this.lowerBound.x-t.upperBound.x||0<i)},combine:function(t,e){this.lowerBound.x=Math.min(t.lowerBound.x,e.lowerBound.x),this.lowerBound.y=Math.min(t.lowerBound.y,e.lowerBound.y),this.upperBound.x=Math.max(t.upperBound.x,e.upperBound.x),this.upperBound.y=Math.max(t.upperBound.y,e.upperBound.y)},reset:function(){this.lowerBound.x=0,this.lowerBound.y=0,this.upperBound.x=0,this.upperBound.y=0},setTo:function(t){this.lowerBound.x=t.lowerBound.x,this.lowerBound.y=t.lowerBound.y,this.upperBound.x=t.upperBound.x,this.upperBound.y=t.upperBound.y},lowerBound:null,upperBound:null,__class__:V};var G=function(t,e){null==e&&(e=0),null==t&&(t=0),this.x=t,this.y=e};r["box2D.common.math.B2Vec2"]=G,G.__name__="box2D.common.math.B2Vec2",G.make=function(t,e){return new G(t,e)},G.freePool=function(){G.pooli=0},G.getFromPool=function(){if(500<G.pooli&&(G.pooli=0),G.pooli<G.pool.length){var t=G.pool[G.pooli];t.x=0,t.y=0}else t=new G,G.pool.push(t);return G.pooli++,t},G.prototype={setZero:function(){this.y=this.x=0},set:function(t,e){null==e&&(e=0),null==t&&(t=0),this.x=t,this.y=e},setV:function(t){this.x=t.x,this.y=t.y},getNegative:function(){return new G(-this.x,-this.y)},getNegativePooled:function(){var t=G.getFromPool();return t.x=-this.x,t.y=-this.y,t},negativeSelf:function(){this.x=-this.x,this.y=-this.y},copy:function(t){if(null==t&&(t=!1),t){t=G.getFromPool();var e=this.x,i=this.y;null==i&&(i=0),null==e&&(e=0),t.x=e,t.y=i}else t=new G(this.x,this.y);return t},add:function(t){this.x+=t.x,this.y+=t.y},subtract:function(t){this.x-=t.x,this.y-=t.y},multiply:function(t){this.x*=t,this.y*=t},mulM:function(t){var e=this.x;this.x=t.col1.x*e+t.col2.x*this.y,this.y=t.col1.y*e+t.col2.y*this.y},mulTM:function(t){var e=Rt.dot(this,t.col1);this.y=Rt.dot(this,t.col2),this.x=e},crossVF:function(t){var e=this.x;this.x=t*this.y,this.y=-t*e},crossFV:function(t){var e=this.x;this.x=-t*this.y,this.y=t*e},minV:function(t){this.x=this.x<t.x?this.x:t.x,this.y=this.y<t.y?this.y:t.y},maxV:function(t){this.x=this.x>t.x?this.x:t.x,this.y=this.y>t.y?this.y:t.y},abs:function(){0>this.x&&(this.x=-this.x),0>this.y&&(this.y=-this.y)},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},lengthSquared:function(){return this.x*this.x+this.y*this.y},normalize:function(){var t=Math.sqrt(this.x*this.x+this.y*this.y);if(t<Number.MIN_VALUE)return 0;var e=1/t;return this.x*=e,this.y*=e,t},perpDot:function(t){return-this.y*t.x+this.x*t.y},winding:function(t,e){var i=t.copy();return i.subtract(this),(e=e.copy()).subtract(t),i.perpDot(e)},isValid:function(){return!!Rt.isValid(this.x)&&Rt.isValid(this.y)},x:null,y:null,toString:function(){return"("+this.x+", "+this.y+")"},reset:function(){this.y=this.x=0},__class__:G};var U=function(){this.v=new G,this.id=new z};r["box2D.collision.ClipVertex"]=U,U.__name__="box2D.collision.ClipVertex",U.prototype={set:function(t){var e=this.v,i=t.v;e.x=i.x,e.y=i.y,this.id.set(t.id)},v:null,id:null,__class__:U};var z=function(){this.features=new H,this.features._m_id=this};r["box2D.collision.B2ContactID"]=z,z.__name__="box2D.collision.B2ContactID",z.prototype={set:function(t){this.set_key(t._key)},copy:function(){var t=new z;return t.set_key(this.get_key()),t},get_key:function(){return this._key},set_key:function(t){return this._key=t,this.features._referenceEdge=255&this._key,this.features._incidentEdge=(65280&this._key)>>8&255,this.features._incidentVertex=(16711680&this._key)>>16&255,this.features._flip=(-16777216&this._key)>>24&255,this._key},features:null,_key:null,indexA:null,indexB:null,typeA:null,typeB:null,__class__:z,__properties__:{set_key:"set_key",get_key:"get_key"}};var H=function(){};r["box2D.collision.Features"]=H,H.__name__="box2D.collision.Features",H.prototype={get_referenceEdge:function(){return this._referenceEdge},set_referenceEdge:function(t){return this._referenceEdge=t,this._m_id._key=-256&this._m_id._key|255&this._referenceEdge,t},_referenceEdge:null,get_incidentEdge:function(){return this._incidentEdge},set_incidentEdge:function(t){return this._incidentEdge=t,this._m_id._key=-65281&this._m_id._key|this._incidentEdge<<8&65280,t},_incidentEdge:null,get_incidentVertex:function(){return this._incidentVertex},set_incidentVertex:function(t){return this._incidentVertex=t,this._m_id._key=-16711681&this._m_id._key|this._incidentVertex<<16&16711680,t},_incidentVertex:null,get_flip:function(){return this._flip},set_flip:function(t){return this._flip=t,this._m_id._key=16777215&this._m_id._key|this._flip<<24&-16777216,t},_flip:null,_m_id:null,__class__:H,__properties__:{set_flip:"set_flip",get_flip:"get_flip",set_incidentVertex:"set_incidentVertex",get_incidentVertex:"get_incidentVertex",set_incidentEdge:"set_incidentEdge",get_incidentEdge:"get_incidentEdge",set_referenceEdge:"set_referenceEdge",get_referenceEdge:"get_referenceEdge"}};var W=function(){};r["box2D.collision.B2Collision"]=W,W.__name__="box2D.collision.B2Collision",W.clipSegmentToLine=function(t,e,i,s){var n=0,r=e[0],a=r.v,o=(r=e[1]).v,l=i.x*a.x+i.y*a.y-s;return r=i.x*o.x+i.y*o.y-s,0>=l&&t[n++].set(e[0]),0>=r&&t[n++].set(e[1]),0>l*r&&(i=l/(l-r),(r=(r=t[n]).v).x=a.x+i*(o.x-a.x),r.y=a.y+i*(o.y-a.y),(r=t[n]).id=(0<l?e[0]:e[1]).id,++n),n},W.edgeSeparation=function(t,e,i,s,n){var r=t.m_vertices,a=s.m_vertexCount;s=s.m_vertices;var o=e.R,l=t.m_normals[i];t=o.col1.x*l.x+o.col2.x*l.y;var h=o.col1.y*l.x+o.col2.y*l.y,_=(o=n.R).col1.x*t+o.col1.y*h;o=o.col2.x*t+o.col2.y*h;for(var c=0,u=Number.MAX_VALUE,d=0;d<a;){var m=d++;(l=(l=s[m]).x*_+l.y*o)<u&&(u=l,c=m)}return l=r[i],o=e.R,i=e.position.x+(o.col1.x*l.x+o.col2.x*l.y),e=e.position.y+(o.col1.y*l.x+o.col2.y*l.y),l=s[c],o=n.R,(n.position.x+(o.col1.x*l.x+o.col2.x*l.y)-i)*t+(n.position.y+(o.col1.y*l.x+o.col2.y*l.y)-e)*h},W.findMaxSeparation=function(t,e,i,s,n){var r=e.m_vertexCount,a=e.m_normals,o=n.R,l=s.m_centroid,h=n.position.x+(o.col1.x*l.x+o.col2.x*l.y),_=n.position.y+(o.col1.y*l.x+o.col2.y*l.y);o=i.R,l=e.m_centroid,h-=i.position.x+(o.col1.x*l.x+o.col2.x*l.y),_-=i.position.y+(o.col1.y*l.x+o.col2.y*l.y),o=h*i.R.col1.x+_*i.R.col1.y,_=h*i.R.col2.x+_*i.R.col2.y,h=0;for(var c=-Number.MAX_VALUE,u=0;u<r;){var d=u++;(l=(l=a[d]).x*o+l.y*_)>c&&(c=l,h=d)}if(a=W.edgeSeparation(e,i,h,s,n),c=0<=h-1?h-1:r-1,o=W.edgeSeparation(e,i,c,s,n),u=h+1<r?h+1:0,_=W.edgeSeparation(e,i,u,s,n),o>a&&o>_)l=-1;else{if(!(_>a))return t[0]=h,a;l=1,c=u,o=_}for(;h=-1==l?0<=c-1?c-1:r-1:c+1<r?c+1:0,(a=W.edgeSeparation(e,i,h,s,n))>o;)c=h,o=a;return t[0]=c,o},W.findIncidentEdge=function(t,e,i,s,n,r){var a=n.m_vertexCount,o=n.m_vertices;n=n.m_normals;var l=i.R;e=e.m_normals[s],i=l.col1.x*e.x+l.col2.x*e.y;var h=l.col1.y*e.x+l.col2.y*e.y;e=(l=r.R).col1.x*i+l.col1.y*h,h=l.col2.x*i+l.col2.y*h,i=e,l=0;for(var _=Number.MAX_VALUE,c=0;c<a;){var u=c++;(e=i*(e=n[u]).x+h*e.y)<_&&(_=e,l=u)}a=(n=l)+1<a?n+1:0,i=t[0],e=o[n],l=r.R,i.v.x=r.position.x+(l.col1.x*e.x+l.col2.x*e.y),i.v.y=r.position.y+(l.col1.y*e.x+l.col2.y*e.y),i.id.features.set_referenceEdge(s),i.id.features.set_incidentEdge(n),i.id.features.set_incidentVertex(0),i=t[1],e=o[a],l=r.R,i.v.x=r.position.x+(l.col1.x*e.x+l.col2.x*e.y),i.v.y=r.position.y+(l.col1.y*e.x+l.col2.y*e.y),i.id.features.set_referenceEdge(s),i.id.features.set_incidentEdge(a),i.id.features.set_incidentVertex(1)},W.makeClipPointVector=function(){var t=[];return t[0]=new U,t[1]=new U,t},W.collidePolygons=function(t,e,i,s,n){t.m_pointCount=0;var r=e.m_radius+s.m_radius;W.s_edgeAO[0]=0;var a=W.findMaxSeparation(W.s_edgeAO,e,i,s,n),o=W.s_edgeAO[0];if(!(a>r)){W.s_edgeBO[0]=0;var l=W.findMaxSeparation(W.s_edgeBO,s,n,e,i),h=W.s_edgeBO[0];if(!(l>r)){l>.98*a+.001?(a=s,s=e,e=n,n=h,t.m_type=4,o=1):(a=e,e=i,i=n,n=o,t.m_type=2,o=0),h=W.s_incidentEdge,W.findIncidentEdge(h,a,e,n,s,i),s=(l=a.m_vertices)[n];var _=n+1<a.m_vertexCount?l[n+1]:l[0];a=W.s_localTangent,n=_.x-s.x;var c=_.y-s.y;null==c&&(c=0),null==n&&(n=0),a.x=n,a.y=c,a.normalize(),(l=W.s_localNormal).x=a.y,l.y=-a.x;var u=W.s_planePoint;n=.5*(s.x+_.x),null==(c=.5*(s.y+_.y))&&(c=0),null==n&&(n=0),u.x=n,u.y=c,c=W.s_tangent,n=e.R,c.x=n.col1.x*a.x+n.col2.x*a.y,c.y=n.col1.y*a.x+n.col2.y*a.y;var d=W.s_tangent2;d.x=-c.x,d.y=-c.y,(a=W.s_normal).x=c.y,a.y=-c.x;var m=W.s_v11,p=W.s_v12;if(m.x=e.position.x+(n.col1.x*s.x+n.col2.x*s.y),m.y=e.position.y+(n.col1.y*s.x+n.col2.y*s.y),p.x=e.position.x+(n.col1.x*_.x+n.col2.x*_.y),p.y=e.position.y+(n.col1.y*_.x+n.col2.y*_.y),e=a.x*m.x+a.y*m.y,n=c.x*p.x+c.y*p.y+r,_=W.s_clipPoints1,s=W.s_clipPoints2,!(2>(h=W.clipSegmentToLine(_,h,d,-c.x*m.x-c.y*m.y+r))||(h=W.clipSegmentToLine(s,_,c,n),2>h))){for((h=t.m_localPlaneNormal).x=l.x,h.y=l.y,(h=t.m_localPoint).x=u.x,h.y=u.y,l=h=0,u=wt.b2_maxManifoldPoints;l<u;)c=s[n=l++],a.x*c.v.x+a.y*c.v.y-e<=r&&(d=t.m_points[h],n=i.R,m=c.v.x-i.position.x,_=c.v.y-i.position.y,d.m_localPoint.x=m*n.col1.x+_*n.col1.y,d.m_localPoint.y=m*n.col2.x+_*n.col2.y,d.m_id.set(c.id),d.m_id.features.set_flip(o),++h);t.m_pointCount=h}}}},W.collideCircles=function(t,e,i,s,n){t.m_pointCount=0;var r=i.R,a=e.m_p,o=i.position.x+(r.col1.x*a.x+r.col2.x*a.y);i=i.position.y+(r.col1.y*a.x+r.col2.y*a.y),r=n.R,a=s.m_p,(o=n.position.x+(r.col1.x*a.x+r.col2.x*a.y)-o)*o+(n=n.position.y+(r.col1.y*a.x+r.col2.y*a.y)-i)*n>(r=e.m_radius+s.m_radius)*r||(t.m_type=1,n=t.m_localPoint,e=e.m_p,n.x=e.x,n.y=e.y,(n=t.m_localPlaneNormal).x=0,n.y=0,t.m_pointCount=1,n=t.m_points[0].m_localPoint,e=s.m_p,n.x=e.x,n.y=e.y,t.m_points[0].m_id.set_key(0))},W.collidePolygonAndCircle=function(t,e,i,s,n){t.m_pointCount=0;var r=n.R,a=s.m_p,o=n.position.x+(r.col1.x*a.x+r.col2.x*a.y)-i.position.x,l=n.position.y+(r.col1.y*a.x+r.col2.y*a.y)-i.position.y;i=o*(r=i.R).col1.x+l*r.col1.y,r=o*r.col2.x+l*r.col2.y;var h=0,_=-Number.MAX_VALUE;n=e.m_radius+s.m_radius;var c=e.m_vertexCount,u=e.m_vertices;e=e.m_normals;for(var d=0;d<c;){var m=d++;if(o=i-(a=u[m]).x,l=r-a.y,(a=(a=e[m]).x*o+a.y*l)>n)return;a>_&&(_=a,h=m)}if(a=u[o=h],c=u[o+1<c?o+1:0],_<Number.MIN_VALUE)t.m_pointCount=1,t.m_type=2,i=t.m_localPlaneNormal,r=e[h],i.x=r.x,i.y=r.y,t.m_localPoint.x=.5*(a.x+c.x),t.m_localPoint.y=.5*(a.y+c.y);else if(_=(i-c.x)*(a.x-c.x)+(r-c.y)*(a.y-c.y),0>=(i-a.x)*(c.x-a.x)+(r-a.y)*(c.y-a.y)){if((i-a.x)*(i-a.x)+(r-a.y)*(r-a.y)>n*n)return;t.m_pointCount=1,t.m_type=2,t.m_localPlaneNormal.x=i-a.x,t.m_localPlaneNormal.y=r-a.y,t.m_localPlaneNormal.normalize(),(i=t.m_localPoint).x=a.x,i.y=a.y}else if(0>=_){if((i-c.x)*(i-c.x)+(r-c.y)*(r-c.y)>n*n)return;t.m_pointCount=1,t.m_type=2,t.m_localPlaneNormal.x=i-c.x,t.m_localPlaneNormal.y=r-c.y,t.m_localPlaneNormal.normalize(),(i=t.m_localPoint).x=c.x,i.y=c.y}else{if(h=.5*(a.x+c.x),a=.5*(a.y+c.y),(_=(i-h)*e[o].x+(r-a)*e[o].y)>n)return;t.m_pointCount=1,t.m_type=2,t.m_localPlaneNormal.x=e[o].x,t.m_localPlaneNormal.y=e[o].y,t.m_localPlaneNormal.normalize(),null==(n=a)&&(n=0),null==(r=h)&&(r=0),(i=t.m_localPoint).x=r,i.y=n}i=t.m_points[0].m_localPoint,r=s.m_p,i.x=r.x,i.y=r.y,t.m_points[0].m_id.set_key(0)},W.testOverlap=function(t,e){var i=e.lowerBound,s=t.upperBound,n=i.x-s.x,r=i.y-s.y;return i=t.lowerBound,s=e.upperBound,t=i.y-s.y,!(0<n||0<r||0<i.x-s.x||0<t)};var X=function(){this.position=new G,this.velocity=new G,this.normal=new G,this.id=new z};r["box2D.collision.B2ContactPoint"]=X,X.__name__="box2D.collision.B2ContactPoint",X.prototype={shape1:null,shape2:null,position:null,velocity:null,normal:null,separation:null,friction:null,restitution:null,id:null,__class__:X};var Y=function(){this.m_v1=new j,this.m_v2=new j,this.m_v3=new j,this.m_vertices=[],this.m_vertices[0]=this.m_v1,this.m_vertices[1]=this.m_v2,this.m_vertices[2]=this.m_v3};r["box2D.collision.B2Simplex"]=Y,Y.__name__="box2D.collision.B2Simplex",Y.prototype={readCache:function(t,e,i,s,n){wt.b2Assert(0<=t.count&&3>=t.count),this.m_count=t.count;var r=this.m_vertices;if(t.useCache){for(var a=0,o=this.m_count;a<o;){var l=a++,h=r[l];h.indexA=t.indexA[l],h.indexB=t.indexB[l],l=e.getVertex(h.indexA);var _=s.getVertex(h.indexB);h.wA=Rt.mulX(i,l,!0),h.wB=Rt.mulX(n,_,!0),h.w=Rt.subtractVVPooled(h.wB,h.wA),h.a=0}1<this.m_count&&(t=t.metric,(h=this.getMetric())<.5*t||2*t<h||h<Number.MIN_VALUE)&&(this.m_count=0)}0==this.m_count&&((h=r[0]).indexA=0,h.indexB=0,l=e.getVertex(0),_=s.getVertex(0),h.wA=Rt.mulX(i,l,!0),h.wB=Rt.mulX(n,_,!0),h.w=Rt.subtractVVPooled(h.wB,h.wA),this.m_count=1)},writeCache:function(t){if(t.useCache){t.metric=this.getMetric(),t.count=this.m_count;for(var e=this.m_vertices,i=0,s=this.m_count;i<s;){var n=i++;t.indexA[n]=e[n].indexA,t.indexB[n]=e[n].indexB}}},getSearchDirection:function(){switch(this.m_count){case 1:return this.m_v1.w.getNegativePooled();case 2:var t=Rt.subtractVVPooled(this.m_v2.w,this.m_v1.w);return 0<Rt.crossVV(t,this.m_v1.w.getNegativePooled())?Rt.crossFV(1,t,!0):Rt.crossVF(t,1,!0);default:return wt.b2Assert(!1),G.getFromPool()}},getClosestPoint:function(){switch(this.m_count){case 0:default:return wt.b2Assert(!1),G.getFromPool();case 1:return this.m_v1.w;case 2:var t=G.getFromPool();return t.x=this.m_v1.a*this.m_v1.w.x+this.m_v2.a*this.m_v2.w.x,t.y=this.m_v1.a*this.m_v1.w.y+this.m_v2.a*this.m_v2.w.y,t}},getWitnessPoints:function(t,e){switch(this.m_count){case 0:default:wt.b2Assert(!1);break;case 1:var i=this.m_v1.wA;t.x=i.x,t.y=i.y,i=this.m_v1.wB,e.x=i.x,e.y=i.y;break;case 2:t.x=this.m_v1.a*this.m_v1.wA.x+this.m_v2.a*this.m_v2.wA.x,t.y=this.m_v1.a*this.m_v1.wA.y+this.m_v2.a*this.m_v2.wA.y,e.x=this.m_v1.a*this.m_v1.wB.x+this.m_v2.a*this.m_v2.wB.x,e.y=this.m_v1.a*this.m_v1.wB.y+this.m_v2.a*this.m_v2.wB.y;break;case 3:e.x=t.x=this.m_v1.a*this.m_v1.wA.x+this.m_v2.a*this.m_v2.wA.x+this.m_v3.a*this.m_v3.wA.x,e.y=t.y=this.m_v1.a*this.m_v1.wA.y+this.m_v2.a*this.m_v2.wA.y+this.m_v3.a*this.m_v3.wA.y}},getMetric:function(){switch(this.m_count){case 0:default:return wt.b2Assert(!1),0;case 1:return 0;case 2:return Rt.subtractVVPooled(this.m_v1.w,this.m_v2.w).length();case 3:return Rt.crossVV(Rt.subtractVVPooled(this.m_v2.w,this.m_v1.w),Rt.subtractVVPooled(this.m_v3.w,this.m_v1.w))}},solve2:function(){var t=this.m_v1.w,e=this.m_v2.w,i=Rt.subtractVVPooled(e,t);0>=(t=-(t.x*i.x+t.y*i.y))?this.m_count=this.m_v1.a=1:0>=(e=e.x*i.x+e.y*i.y)?(this.m_count=this.m_v2.a=1,this.m_v1.set(this.m_v2)):(i=1/(e+t),this.m_v1.a=e*i,this.m_v2.a=t*i,this.m_count=2)},solve3:function(){var t=this.m_v1.w,e=this.m_v2.w,i=this.m_v3.w,s=Rt.subtractVVPooled(e,t),n=Rt.dot(t,s),r=Rt.dot(e,s);n=-n;var a=Rt.subtractVVPooled(i,t),o=Rt.dot(t,a),l=Rt.dot(i,a);o=-o;var h=Rt.subtractVVPooled(i,e),_=Rt.dot(e,h);h=Rt.dot(i,h),_=-_,s=(a=Rt.crossVV(s,a))*Rt.crossVV(e,i),i=a*Rt.crossVV(i,t),t=a*Rt.crossVV(t,e),0>=n&&0>=o?this.m_count=this.m_v1.a=1:0<r&&0<n&&0>=t?(l=1/(r+n),this.m_v1.a=r*l,this.m_v2.a=n*l,this.m_count=2):0<l&&0<o&&0>=i?(r=1/(l+o),this.m_v1.a=l*r,this.m_v3.a=o*r,this.m_count=2,this.m_v2.set(this.m_v3)):0>=r&&0>=_?(this.m_count=this.m_v2.a=1,this.m_v1.set(this.m_v2)):0>=l&&0>=h?(this.m_count=this.m_v3.a=1,this.m_v1.set(this.m_v3)):0<h&&0<_&&0>=s?(r=1/(h+_),this.m_v2.a=h*r,this.m_v3.a=_*r,this.m_count=2,this.m_v1.set(this.m_v3)):(r=1/(s+i+t),this.m_v1.a=s*r,this.m_v2.a=i*r,this.m_v3.a=t*r,this.m_count=3)},m_v1:null,m_v2:null,m_v3:null,m_vertices:null,m_count:null,__class__:Y};var j=function(){};r["box2D.collision.B2SimplexVertex"]=j,j.__name__="box2D.collision.B2SimplexVertex",j.prototype={set:function(t){var e=this.wA,i=t.wA;e.x=i.x,e.y=i.y,e=this.wB,i=t.wB,e.x=i.x,e.y=i.y,e=this.w,i=t.w,e.x=i.x,e.y=i.y,this.a=t.a,this.indexA=t.indexA,this.indexB=t.indexB},wA:null,wB:null,w:null,a:null,indexA:null,indexB:null,__class__:j};var K=function(){};r["box2D.collision.B2Distance"]=K,K.__name__="box2D.collision.B2Distance",K.distance=function(t,e,i){++K.b2_gjkCalls;var s=i.proxyA,n=i.proxyB,r=i.transformA,a=i.transformB,o=K.s_simplex;o.readCache(e,s,r,n,a);var l=o.m_vertices,h=K.s_saveA,_=K.s_saveB;o.getClosestPoint().lengthSquared();for(var c,u=0;20>u;){for(var d=o.m_count,m=0,p=d;m<p;)h[c=m++]=l[c].indexA,_[c]=l[c].indexB;switch(o.m_count){case 1:break;case 2:o.solve2();break;case 3:o.solve3();break;default:wt.b2Assert(!1)}if(3==o.m_count)break;if((c=o.getClosestPoint()).lengthSquared(),(m=o.getSearchDirection()).lengthSquared()<Number.MIN_VALUE*Number.MIN_VALUE)break;for((c=l[o.m_count]).indexA=0|s.getSupport(Rt.mulTMV(r.R,m.getNegativePooled(),!0)),c.wA=Rt.mulX(r,s.getVertex(c.indexA),!0),c.indexB=0|n.getSupport(Rt.mulTMV(a.R,m,!0)),c.wB=Rt.mulX(a,n.getVertex(c.indexB),!0),c.w=Rt.subtractVVPooled(c.wB,c.wA),++u,++K.b2_gjkIters,m=!1,p=0;p<d;){var f=p++;if(c.indexA==h[f]&&c.indexB==_[f]){m=!0;break}}if(m)break;++o.m_count}K.b2_gjkMaxIters=0|Rt.max(K.b2_gjkMaxIters,u),o.getWitnessPoints(t.pointA,t.pointB),t.distance=Rt.subtractVVPooled(t.pointA,t.pointB).length(),t.iterations=u,o.writeCache(e),i.useRadii&&(e=s.m_radius,n=n.m_radius,t.distance>e+n&&t.distance>Number.MIN_VALUE?(t.distance-=e+n,(i=Rt.subtractVVPooled(t.pointB,t.pointA)).normalize(),t.pointA.x+=e*i.x,t.pointA.y+=e*i.y,t.pointB.x-=n*i.x,t.pointB.y-=n*i.y):((c=G.getFromPool()).x=.5*(t.pointA.x+t.pointB.x),c.y=.5*(t.pointA.y+t.pointB.y),t.pointA.x=t.pointB.x=c.x,t.pointA.y=t.pointB.y=c.y,t.distance=0))};var J=function(){};r["box2D.collision.B2DistanceInput"]=J,J.__name__="box2D.collision.B2DistanceInput",J.prototype={proxyA:null,proxyB:null,transformA:null,transformB:null,useRadii:null,__class__:J};var Z=function(){this.pointA=new G,this.pointB=new G};r["box2D.collision.B2DistanceOutput"]=Z,Z.__name__="box2D.collision.B2DistanceOutput",Z.prototype={pointA:null,pointB:null,distance:null,iterations:null,__class__:Z};var Q=function(){this.m_internalVertices=[]};r["box2D.collision.B2DistanceProxy"]=Q,Q.__name__="box2D.collision.B2DistanceProxy",Q.prototype={set:function(t){switch(t.getType()){case 0:for(t=vo.__cast(t,gt),this.m_vertices=this.m_internalVertices;1<this.m_vertices.length;)this.m_vertices.pop();this.m_vertices[0]=t.m_p,this.m_count=1,this.m_radius=t.m_radius;break;case 1:t=vo.__cast(t,vt),this.m_vertices=t.m_vertices,this.m_count=t.m_vertexCount,this.m_radius=t.m_radius;break;case 2:for(t=vo.__cast(t,yt),this.m_vertices=this.m_internalVertices;2<this.m_vertices.length;)this.m_vertices.pop();this.m_vertices[0]=t.m_v1,this.m_vertices[1]=t.m_v2,this.m_count=2,this.m_radius=t.m_radius;break;default:wt.b2Assert(!1)}},getSupport:function(t){for(var e=0,i=this.m_vertices[0].x*t.x+this.m_vertices[0].y*t.y,s=1,n=this.m_count;s<n;){var r=s++,a=this.m_vertices[r].x*t.x+this.m_vertices[r].y*t.y;a>i&&(e=r,i=a)}return e},getSupportVertex:function(t){for(var e=0,i=this.m_vertices[0].x*t.x+this.m_vertices[0].y*t.y,s=1,n=this.m_count;s<n;){var r=s++,a=this.m_vertices[r].x*t.x+this.m_vertices[r].y*t.y;a>i&&(e=r,i=a)}return this.m_vertices[e]},getVertexCount:function(){return this.m_count},getVertex:function(t){return wt.b2Assert(0<=t&&t<this.m_count),this.m_vertices[t]},m_internalVertices:null,m_vertices:null,m_count:null,m_radius:null,__class__:Q};var q=function(){this.oldAABB=new V,this.stackQueue=[],this.stackQueuePos=0,this.m_freeList=this.m_root=null,this.m_insertionCount=this.m_path=0};r["box2D.collision.B2DynamicTree"]=q,q.__name__="box2D.collision.B2DynamicTree",q.prototype={createProxy:function(t,e){var i=this.allocateNode(),s=wt.b2_aabbExtension,n=wt.b2_aabbExtension;return i.aabb.lowerBound.x=t.lowerBound.x-s,i.aabb.lowerBound.y=t.lowerBound.y-n,i.aabb.upperBound.x=t.upperBound.x+s,i.aabb.upperBound.y=t.upperBound.y+n,i.userData=e,this.insertLeaf(i),i},destroyProxy:function(t){this.removeLeaf(t),this.freeNode(t)},moveProxy:function(t,e,i){if(wt.b2Assert(t.isLeaf()),t.aabb.contains(e))return!1;this.removeLeaf(t);var s=wt.b2_aabbExtension+wt.b2_aabbMultiplier*(0<i.x?i.x:-i.x);return i=wt.b2_aabbExtension+wt.b2_aabbMultiplier*(0<i.y?i.y:-i.y),t.aabb.lowerBound.x=e.lowerBound.x-s,t.aabb.lowerBound.y=e.lowerBound.y-i,t.aabb.upperBound.x=e.upperBound.x+s,t.aabb.upperBound.y=e.upperBound.y+i,this.insertLeaf(t),!0},rebalance:function(t){if(null!=this.m_root)for(var e=0;e<t;){e++;for(var i=this.m_root,s=0;0==i.isLeaf();)i=this.m_path>>s&1?i.child2:i.child1,s=s+1&31;++this.m_path,this.removeLeaf(i),this.insertLeaf(i)}},getFatAABB:function(t){return t.aabb},getUserData:function(t){return t.userData},stackQueuePos:null,stackQueue:null,query:function(t,e){if(null!=this.m_root){null==this.stackQueue[this.stackQueuePos]&&(this.stackQueue[this.stackQueuePos]=[]);var i=this.stackQueue[this.stackQueuePos++],s=0;for(i[s++]=this.m_root;0<s;){var n=i[--s];if(n.aabb.testOverlap(e))if(n.isLeaf()){if(!t.queryCallback(n))break}else i[s++]=n.child1,i[s++]=n.child2}for(s=i.length;0<s--;)i.pop();--this.stackQueuePos}},rayCast:function(t,e){if(null!=this.m_root){var i=e.p1,s=e.p2,n=Rt.subtractVVPooled(i,s);n.normalize(),n=Rt.crossFV(1,n);var r=Rt.absV(n),a=e.maxFraction,o=new V,l=i.x+a*(s.x-i.x);a=i.y+a*(s.y-i.y),o.lowerBound.x=Math.min(i.x,l),o.lowerBound.y=Math.min(i.y,a),o.upperBound.x=Math.max(i.x,l),o.upperBound.y=Math.max(i.y,a);var h=[],_=0;for(h[_++]=this.m_root;0<_;)if(0!=(l=h[--_]).aabb.testOverlap(o)){a=l.aabb.getCenter();var c=l.aabb.getExtents();if(!(0<Math.abs(n.x*(i.x-a.x)+n.y*(i.y-a.y))-r.x*c.x-r.y*c.y))if(l.isLeaf()){if((a=new ot).p1=e.p1,a.p2=e.p2,a.maxFraction=e.maxFraction,0==(a=t(a,l)))break;l=i.x+a*(s.x-i.x),a=i.y+a*(s.y-i.y),o.lowerBound.x=Math.min(i.x,l),o.lowerBound.y=Math.min(i.y,a),o.upperBound.x=Math.max(i.x,l),o.upperBound.y=Math.max(i.y,a)}else h[_++]=l.child1,h[_++]=l.child2}}},allocateNode:function(){if(null!=this.m_freeList){var t=this.m_freeList;return this.m_freeList=t.parent,t.parent=null,t.child1=null,t.child2=null,t}return new it},freeNode:function(t){t.parent=this.m_freeList,this.m_freeList=t},insertLeaf:function(t){if(++this.m_insertionCount,null==this.m_root)this.m_root=t,this.m_root.parent=null;else{var e=this.m_root;if(0==e.isLeaf())for(var i=(t.aabb.lowerBound.x+t.aabb.upperBound.x)/2,s=(t.aabb.lowerBound.y+t.aabb.upperBound.y)/2;;){var n=e.child1;if(e=e.child2,0!=(e=Math.abs((n.aabb.lowerBound.x+n.aabb.upperBound.x)/2-i)+Math.abs((n.aabb.lowerBound.y+n.aabb.upperBound.y)/2-s)<Math.abs((e.aabb.lowerBound.x+e.aabb.upperBound.x)/2-i)+Math.abs((e.aabb.lowerBound.y+e.aabb.upperBound.y)/2-s)?n:e).isLeaf())break}if(i=e.parent,(s=this.allocateNode()).parent=i,s.userData=null,s.aabb.combine(t.aabb,e.aabb),null!=i)for(e.parent.child1==e?i.child1=s:i.child2=s,s.child1=e,s.child2=t,e.parent=s,t.parent=s;!i.aabb.contains(s.aabb)&&(i.aabb.combine(i.child1.aabb,i.child2.aabb),s=i,null!=(i=i.parent)););else s.child1=e,s.child2=t,e.parent=s,this.m_root=t.parent=s}},oldAABB:null,removeLeaf:function(t){if(t==this.m_root)this.m_root=null;else{var e=t.parent,i=e.parent;if(t=e.child1==t?e.child2:e.child1,null!=i)for(i.child1==e?i.child1=t:i.child2=t,t.parent=i,this.freeNode(e);null!=i&&(this.oldAABB.setTo(i.aabb),i.aabb.combine(i.child1.aabb,i.child2.aabb),!this.oldAABB.contains(i.aabb));)i=i.parent;else this.m_root=t,t.parent=null,this.freeNode(e)}},m_root:null,m_freeList:null,m_path:null,m_insertionCount:null,__class__:q};var $=function(){};r["box2D.collision.QueryCallback"]=$,$.__name__="box2D.collision.QueryCallback",$.__isInterface__=!0,$.prototype={queryCallback:null,__class__:$};var tt=function(){};r["box2D.collision.IBroadPhase"]=tt,tt.__name__="box2D.collision.IBroadPhase",tt.__isInterface__=!0,tt.prototype={createProxy:null,destroyProxy:null,moveProxy:null,testOverlap:null,getUserData:null,getFatAABB:null,getProxyCount:null,updatePairs:null,query:null,rayCast:null,validate:null,rebalance:null,__class__:tt};var et=function(){this.m_tree=new q,this.m_moveBuffer=[],this.m_pairBuffer=[],this.m_proxyCount=this.m_pairCount=0};r["box2D.collision.B2DynamicTreeBroadPhase"]=et,et.__name__="box2D.collision.B2DynamicTreeBroadPhase",et.__interfaces__=[$,tt],et.prototype={createProxy:function(t,e){return t=this.m_tree.createProxy(t,e),++this.m_proxyCount,this.bufferMove(t),t},destroyProxy:function(t){this.unBufferMove(t),--this.m_proxyCount,this.m_tree.destroyProxy(t)},moveProxy:function(t,e,i){this.m_tree.moveProxy(t,e,i)&&this.bufferMove(t)},testOverlap:function(t,e){return t=this.m_tree.getFatAABB(t),e=this.m_tree.getFatAABB(e),t.testOverlap(e)},getUserData:function(t){return this.m_tree.getUserData(t)},getFatAABB:function(t){return this.m_tree.getFatAABB(t)},getProxyCount:function(){return this.m_proxyCount},updatePairs:function(t){for(var e=this.m_pairCount=0,i=this.m_moveBuffer;e<i.length;){var s=i[e];++e,this.cur_queryProxy=s,s=this.m_tree.getFatAABB(s),this.m_tree.query(this,s)}for(this.cur_queryProxy=null,e=this.m_moveBuffer.length;0<=--e;)this.m_moveBuffer.pop();for(i=!0,e=0;i;)if(e>=this.m_pairCount)i=!1;else for(s=this.m_pairBuffer[e],t.addPair(this.m_tree.getUserData(s.proxyA),this.m_tree.getUserData(s.proxyB)),++e;e<this.m_pairCount;){var n=this.m_pairBuffer[e];if(n.proxyA!=s.proxyA||n.proxyB!=s.proxyB)break;++e}},queryCallback:function(t){if(t==this.cur_queryProxy)return!0;this.m_pairCount==this.m_pairBuffer.length&&(this.m_pairBuffer[this.m_pairCount]=new st);var e=this.m_pairBuffer[this.m_pairCount];return t.id<this.cur_queryProxy.id?(e.proxyA=t,e.proxyB=this.cur_queryProxy):(e.proxyA=this.cur_queryProxy,e.proxyB=t),++this.m_pairCount,!0},query:function(t,e){this.m_tree.query(t,e)},rayCast:function(t,e){this.m_tree.rayCast(t,e)},validate:function(){},rebalance:function(t){this.m_tree.rebalance(t)},bufferMove:function(t){this.m_moveBuffer[this.m_moveBuffer.length]=t},unBufferMove:function(t){c.remove(this.m_moveBuffer,t)},comparePairs:function(t,e){return 0},m_tree:null,m_proxyCount:null,m_moveBuffer:null,m_pairBuffer:null,m_pairCount:null,cur_queryProxy:null,__class__:et};var it=function(){this.aabb=new V,this.id=it.currentID++};r["box2D.collision.B2DynamicTreeNode"]=it,it.__name__="box2D.collision.B2DynamicTreeNode",it.prototype={id:null,isLeaf:function(){return null==this.child1},userData:null,aabb:null,parent:null,child1:null,child2:null,__class__:it};var st=function(){};r["box2D.collision.B2DynamicTreePair"]=st,st.__name__="box2D.collision.B2DynamicTreePair",st.prototype={proxyA:null,proxyB:null,__class__:st};var nt=function(){this.m_pointCount=0,this.m_points=[];for(var t=0,e=wt.b2_maxManifoldPoints;t<e;){var i=t++;this.m_points[i]=new rt}this.m_localPlaneNormal=new G,this.m_localPoint=new G};r["box2D.collision.B2Manifold"]=nt,nt.__name__="box2D.collision.B2Manifold",nt.prototype={reset:function(){for(var t=0,e=wt.b2_maxManifoldPoints;t<e;){var i=t++;this.m_points[i].reset()}(t=this.m_localPlaneNormal).x=0,t.y=0,(t=this.m_localPoint).x=0,this.m_pointCount=this.m_type=t.y=0},set:function(t){this.m_pointCount=t.m_pointCount;for(var e=0,i=wt.b2_maxManifoldPoints;e<i;){var s=e++;this.m_points[s].set(t.m_points[s])}e=this.m_localPlaneNormal,i=t.m_localPlaneNormal,e.x=i.x,e.y=i.y,e=this.m_localPoint,i=t.m_localPoint,e.x=i.x,e.y=i.y,this.m_type=t.m_type},copy:function(){var t=new nt;return t.set(this),t},m_points:null,m_localPlaneNormal:null,m_localPoint:null,m_type:null,m_pointCount:null,__class__:nt};var rt=function(){this.m_localPoint=new G,this.m_id=new z,this.reset()};r["box2D.collision.B2ManifoldPoint"]=rt,rt.__name__="box2D.collision.B2ManifoldPoint",rt.prototype={reset:function(){var t=this.m_localPoint;t.x=0,this.m_tangentImpulse=this.m_normalImpulse=t.y=0,this.m_id.set_key(0)},set:function(t){var e=this.m_localPoint,i=t.m_localPoint;e.x=i.x,e.y=i.y,this.m_normalImpulse=t.m_normalImpulse,this.m_tangentImpulse=t.m_tangentImpulse,this.m_id.set(t.m_id)},m_localPoint:null,m_normalImpulse:null,m_tangentImpulse:null,m_id:null,__class__:rt};var at=function(){this.R=new dt,this.center=new G,this.extents=new G};r["box2D.collision.B2OBB"]=at,at.__name__="box2D.collision.B2OBB",at.prototype={R:null,center:null,extents:null,__class__:at};var ot=function(t,e,i){if(null==i&&(i=1),this.p1=new G,this.p2=new G,null!=t){var s=this.p1;s.x=t.x,s.y=t.y}null!=e&&((s=this.p2).x=e.x,s.y=e.y),this.maxFraction=i};r["box2D.collision.B2RayCastInput"]=ot,ot.__name__="box2D.collision.B2RayCastInput",ot.prototype={p1:null,p2:null,maxFraction:null,__class__:ot};var lt=function(){this.normal=new G};r["box2D.collision.B2RayCastOutput"]=lt,lt.__name__="box2D.collision.B2RayCastOutput",lt.prototype={normal:null,fraction:null,__class__:lt};var ht=function(){this.m_localPoint=new G,this.m_axis=new G};r["box2D.collision.B2SeparationFunction"]=ht,ht.__name__="box2D.collision.B2SeparationFunction",ht.prototype={initialize:function(t,e,i,s,n){if(this.m_proxyA=e,this.m_proxyB=s,e=t.count,wt.b2Assert(0<e&&3>e),1==e){this.m_type=ht.e_points;var r=this.m_proxyA.getVertex(t.indexA[0]);t=this.m_proxyB.getVertex(t.indexB[0]);var a=r,o=i.R;r=i.position.x+(o.col1.x*a.x+o.col2.x*a.y),i=i.position.y+(o.col1.y*a.x+o.col2.y*a.y),a=t,o=n.R,t=n.position.x+(o.col1.x*a.x+o.col2.x*a.y),n=n.position.y+(o.col1.y*a.x+o.col2.y*a.y),this.m_axis.x=t-r,this.m_axis.y=n-i,this.m_axis.normalize()}else if(t.indexB[0]==t.indexB[1]){this.m_type=ht.e_faceA,e=this.m_proxyA.getVertex(t.indexA[0]),s=this.m_proxyA.getVertex(t.indexA[1]),t=this.m_proxyB.getVertex(t.indexB[0]),this.m_localPoint.x=.5*(e.x+s.x),this.m_localPoint.y=.5*(e.y+s.y);var l=this.m_axis;e=Rt.crossVF(Rt.subtractVVPooled(s,e),1,!0),l.x=e.x,l.y=e.y,this.m_axis.normalize(),a=this.m_axis,e=(o=i.R).col1.x*a.x+o.col2.x*a.y,s=o.col1.y*a.x+o.col2.y*a.y,a=this.m_localPoint,o=i.R,r=i.position.x+(o.col1.x*a.x+o.col2.x*a.y),i=i.position.y+(o.col1.y*a.x+o.col2.y*a.y),a=t,o=n.R,0>((t=n.position.x+(o.col1.x*a.x+o.col2.x*a.y))-r)*e+((n=n.position.y+(o.col1.y*a.x+o.col2.y*a.y))-i)*s&&((l=this.m_axis).x=-l.x,l.y=-l.y)}else if(t.indexA[0]==t.indexA[0])this.m_type=ht.e_faceB,o=this.m_proxyB.getVertex(t.indexB[0]),a=this.m_proxyB.getVertex(t.indexB[1]),r=this.m_proxyA.getVertex(t.indexA[0]),this.m_localPoint.x=.5*(o.x+a.x),this.m_localPoint.y=.5*(o.y+a.y),l=this.m_axis,e=Rt.crossVF(Rt.subtractVVPooled(a,o),1,!0),l.x=e.x,l.y=e.y,this.m_axis.normalize(),a=this.m_axis,e=(o=n.R).col1.x*a.x+o.col2.x*a.y,s=o.col1.y*a.x+o.col2.y*a.y,a=this.m_localPoint,o=n.R,t=n.position.x+(o.col1.x*a.x+o.col2.x*a.y),n=n.position.y+(o.col1.y*a.x+o.col2.y*a.y),a=r,o=i.R,0>((r=i.position.x+(o.col1.x*a.x+o.col2.x*a.y))-t)*e+((i=i.position.y+(o.col1.y*a.x+o.col2.y*a.y))-n)*s&&((l=this.m_axis).x=-l.x,l.y=-l.y);else{e=this.m_proxyA.getVertex(t.indexA[0]),s=this.m_proxyA.getVertex(t.indexA[1]),o=this.m_proxyB.getVertex(t.indexB[0]),a=this.m_proxyB.getVertex(t.indexB[1]);var h=Rt.mulMV(i.R,Rt.subtractVVPooled(s,e),!0);n=Rt.mulMV(n.R,Rt.subtractVVPooled(a,o),!0),i=h.x*h.x+h.y*h.y,r=n.x*n.x+n.y*n.y,l=Rt.subtractVVPooled(n,h),t=h.x*l.x+h.y*l.y,l=n.x*l.x+n.y*l.y;var _=i*r-(h=h.x*n.x+h.y*n.y)*h;n=0,0!=_&&(n=Rt.clamp((h*l-t*r)/_,0,1)),0>(h*n+l)/r&&(n=Rt.clamp((h-t)/i,0,1)),(r=G.getFromPool()).x=e.x+n*(s.x-e.x),r.y=e.y+n*(s.y-e.y),(t=G.getFromPool()).x=o.x+n*(a.x-o.x),t.y=o.y+n*(a.y-o.y),0==n||1==n?(this.m_type=ht.e_faceB,l=this.m_axis,e=Rt.crossVF(Rt.subtractVVPooled(a,o),1,!0),l.x=e.x,l.y=e.y,this.m_axis.normalize(),(l=this.m_localPoint).x=t.x,l.y=t.y):(this.m_type=ht.e_faceA,l=this.m_axis,e=Rt.crossVF(Rt.subtractVVPooled(s,e),1,!0),l.x=e.x,l.y=e.y,(l=this.m_localPoint).x=r.x,l.y=r.y),0>n&&((l=this.m_axis).x=-l.x,l.y=-l.y)}},evaluate:function(t,e){var i;if(this.m_type==ht.e_points){var s=Rt.mulTMV(t.R,this.m_axis,!0),n=Rt.mulTMV(e.R,this.m_axis.getNegativePooled(),!0);return s=this.m_proxyA.getSupportVertex(s),n=this.m_proxyB.getSupportVertex(n),t=Rt.mulX(t,s,!0),((e=Rt.mulX(e,n,!0)).x-t.x)*this.m_axis.x+(e.y-t.y)*this.m_axis.y}return this.m_type==ht.e_faceA?(i=Rt.mulMV(t.R,this.m_axis,!0),t=Rt.mulX(t,this.m_localPoint,!0),n=Rt.mulTMV(e.R,i.getNegativePooled(),!0),n=this.m_proxyB.getSupportVertex(n),((e=Rt.mulX(e,n,!0)).x-t.x)*i.x+(e.y-t.y)*i.y):this.m_type==ht.e_faceB?(i=Rt.mulMV(e.R,this.m_axis,!0),e=Rt.mulX(e,this.m_localPoint,!0),s=Rt.mulTMV(t.R,i.getNegativePooled(),!0),s=this.m_proxyA.getSupportVertex(s),((t=Rt.mulX(t,s,!0)).x-e.x)*i.x+(t.y-e.y)*i.y):(wt.b2Assert(!1),0)},m_proxyA:null,m_proxyB:null,m_type:null,m_localPoint:null,m_axis:null,__class__:ht};var _t=function(){this.useCache=!1,this.indexA=[],this.indexB=[]};r["box2D.collision.B2SimplexCache"]=_t,_t.__name__="box2D.collision.B2SimplexCache",_t.prototype={metric:null,count:null,indexA:null,indexB:null,useCache:null,__class__:_t};var ct=function(){this.proxyA=new Q,this.proxyB=new Q,this.sweepA=new At,this.sweepB=new At};r["box2D.collision.B2TOIInput"]=ct,ct.__name__="box2D.collision.B2TOIInput",ct.prototype={proxyA:null,proxyB:null,sweepA:null,sweepB:null,tolerance:null,__class__:ct};var ut=function(t,e){if(this.position=new G,this.R=new dt,null!=t){var i=this.position;i.x=t.x,i.y=t.y,this.R.setM(e)}};r["box2D.common.math.B2Transform"]=ut,ut.__name__="box2D.common.math.B2Transform",ut.prototype={initialize:function(t,e){var i=this.position;i.x=t.x,i.y=t.y,this.R.setM(e)},setIdentity:function(){var t=this.position;t.x=0,t.y=0,this.R.setIdentity()},set:function(t){var e=this.position,i=t.position;e.x=i.x,e.y=i.y,this.R.setM(t.R)},getAngle:function(){return Math.atan2(this.R.col1.y,this.R.col1.x)},multiply:function(t){return(t=this.R.multiplyV(t)).add(this.position),t},multiplyInPlace:function(t){this.R.multiplyVInPlace(t),t.add(this.position)},position:null,R:null,__class__:ut};var dt=function(){this.col1=new G(0,1),this.col2=new G(0,1)};r["box2D.common.math.B2Mat22"]=dt,dt.__name__="box2D.common.math.B2Mat22",dt.fromAngle=function(t){var e=new dt;return e.set(t),e},dt.fromVV=function(t,e){var i=new dt;return i.setVV(t,e),i},dt.prototype={set:function(t){var e=Math.cos(t);t=Math.sin(t),this.col1.x=e,this.col2.x=-t,this.col1.y=t,this.col2.y=e},setVV:function(t,e){var i=this.col1;i.x=t.x,i.y=t.y,(i=this.col2).x=e.x,i.y=e.y},copy:function(){var t=new dt;return t.setM(this),t},setM:function(t){var e=this.col1,i=t.col1;e.x=i.x,e.y=i.y,e=this.col2,i=t.col2,e.x=i.x,e.y=i.y},addM:function(t){this.col1.x+=t.col1.x,this.col1.y+=t.col1.y,this.col2.x+=t.col2.x,this.col2.y+=t.col2.y},multiplyV:function(t){return new G(this.col1.x*t.x+this.col2.x*t.y,this.col1.y*t.x+this.col2.y*t.y)},multiplyVInPlace:function(t){var e=this.col1.x*t.x+this.col2.x*t.y,i=this.col1.y*t.x+this.col2.y*t.y;null==i&&(i=0),null==e&&(e=0),t.x=e,t.y=i},setIdentity:function(){this.col1.x=1,this.col2.x=0,this.col1.y=0,this.col2.y=1},setZero:function(){this.col1.x=0,this.col2.x=0,this.col1.y=0,this.col2.y=0},setAngle:function(t){this.col1.x=Math.cos(t),this.col1.y=Math.sin(t),this.col2.x=-this.col1.y,this.col2.y=this.col1.x},getAngle:function(){return Math.atan2(this.col1.y,this.col1.x)},getInverse:function(t){var e=this.col1.x,i=this.col2.x,s=this.col1.y,n=this.col2.y,r=e*n-i*s;return 0!=r&&(r=1/r),t.col1.x=r*n,t.col2.x=-r*i,t.col1.y=-r*s,t.col2.y=r*e,t},solve:function(t,e,i){var s=this.col1.x,n=this.col2.x,r=this.col1.y,a=this.col2.y,o=s*a-n*r;return 0!=o&&(o=1/o),t.x=o*(a*e-n*i),t.y=o*(s*i-r*e),t},abs:function(){this.col1.abs(),this.col2.abs()},col1:null,col2:null,__class__:dt};var mt=function(){};r["box2D.collision.B2TimeOfImpact"]=mt,mt.__name__="box2D.collision.B2TimeOfImpact",mt.timeOfImpact=function(t){++mt.b2_toiCalls;var e=t.proxyA,i=t.proxyB,s=t.sweepA,n=t.sweepB;wt.b2Assert(s.t0==n.t0),wt.b2Assert(1-s.t0>Number.MIN_VALUE);var r=e.m_radius+i.m_radius;t=t.tolerance;var a=0,o=0,l=0;for(mt.s_cache.count=0,mt.s_distanceInput.useRadii=!1;;){if(s.getTransform(mt.s_xfA,a),n.getTransform(mt.s_xfB,a),mt.s_distanceInput.proxyA=e,mt.s_distanceInput.proxyB=i,mt.s_distanceInput.transformA=mt.s_xfA,mt.s_distanceInput.transformB=mt.s_xfB,K.distance(mt.s_distanceOutput,mt.s_cache,mt.s_distanceInput),0>=mt.s_distanceOutput.distance){a=1;break}mt.s_fcn.initialize(mt.s_cache,e,mt.s_xfA,i,mt.s_xfB);var h=mt.s_fcn.evaluate(mt.s_xfA,mt.s_xfB);if(0>=h){a=1;break}if(0==o&&(l=h>r?Rt.max(r-t,.75*r):Rt.max(h-t,.02*r)),h-l<.5*t){if(0==o){a=1;break}break}var _=a,c=a,u=1;s.getTransform(mt.s_xfA,u),n.getTransform(mt.s_xfB,u);var d=mt.s_fcn.evaluate(mt.s_xfA,mt.s_xfB);if(d>=l){a=1;break}for(var m=0;;){var p=1&m?c+(l-h)*(u-c)/(d-h):.5*(c+u);s.getTransform(mt.s_xfA,p),n.getTransform(mt.s_xfB,p);var f=mt.s_fcn.evaluate(mt.s_xfA,mt.s_xfB);if(Rt.abs(f-l)<.025*t){_=p;break}if(f>l?(c=p,h=f):(u=p,d=f),++m,++mt.b2_toiRootIters,50==m)break}if(mt.b2_toiMaxRootIters=0|Rt.max(mt.b2_toiMaxRootIters,m),_<(1+100*Number.MIN_VALUE)*a)break;if(a=_,++o,++mt.b2_toiIters,1e3==o)break}return mt.b2_toiMaxIters=0|Rt.max(mt.b2_toiMaxIters,o),a};var pt=function(){this.m_normal=new G,this.m_points=[];for(var t=0,e=wt.b2_maxManifoldPoints;t<e;){var i=t++;this.m_points[i]=new G}};r["box2D.collision.B2WorldManifold"]=pt,pt.__name__="box2D.collision.B2WorldManifold",pt.prototype={reset:function(){var t=this.m_normal;t.x=0;for(var e=t.y=0,i=wt.b2_maxManifoldPoints;e<i;)t=e++,(t=this.m_points[t]).x=0,t.y=0},initialize:function(t,e,i,s,n){if(0!=t.m_pointCount){var r=this.m_normal;r.x=0;for(var a=r.y=0,o=wt.b2_maxManifoldPoints;a<o;){var l=a++;(r=this.m_points[l]).x=0,r.y=0}switch(t.m_type){case 1:var h=e.R;r=t.m_localPoint,a=e.position.x+h.col1.x*r.x+h.col2.x*r.y,e=e.position.y+h.col1.y*r.x+h.col2.y*r.y,h=s.R,r=t.m_points[0].m_localPoint,t=s.position.x+h.col1.x*r.x+h.col2.x*r.y,s=s.position.y+h.col1.y*r.x+h.col2.y*r.y,(o=(r=t-a)*r+(h=s-e)*h)>Number.MIN_VALUE*Number.MIN_VALUE?(o=Math.sqrt(o),this.m_normal.x=r/o,this.m_normal.y=h/o):(this.m_normal.x=1,this.m_normal.y=0),e+=i*this.m_normal.y,s-=n*this.m_normal.y,this.m_points[0].x=.5*(a+i*this.m_normal.x+(t-n*this.m_normal.x)),this.m_points[0].y=.5*(e+s);break;case 2:h=e.R,r=t.m_localPlaneNormal;var _=h.col1.x*r.x+h.col2.x*r.y,c=h.col1.y*r.x+h.col2.y*r.y;h=e.R,r=t.m_localPoint;var u=e.position.x+h.col1.x*r.x+h.col2.x*r.y,d=e.position.y+h.col1.y*r.x+h.col2.y*r.y;for(this.m_normal.x=_,this.m_normal.y=c,a=0,o=t.m_pointCount;a<o;){l=a++,h=s.R,r=t.m_points[l].m_localPoint;var m=s.position.x+h.col1.x*r.x+h.col2.x*r.y;r=s.position.y+h.col1.y*r.x+h.col2.y*r.y,this.m_points[l].x=m+.5*(i-(m-u)*_-(r-d)*c-n)*_,this.m_points[l].y=r+.5*(i-(m-u)*_-(r-d)*c-n)*c}break;case 4:for(h=s.R,r=t.m_localPlaneNormal,_=h.col1.x*r.x+h.col2.x*r.y,c=h.col1.y*r.x+h.col2.y*r.y,h=s.R,r=t.m_localPoint,u=s.position.x+h.col1.x*r.x+h.col2.x*r.y,d=s.position.y+h.col1.y*r.x+h.col2.y*r.y,this.m_normal.x=-_,this.m_normal.y=-c,a=0,o=t.m_pointCount;a<o;)l=a++,h=e.R,r=t.m_points[l].m_localPoint,m=e.position.x+h.col1.x*r.x+h.col2.x*r.y,r=e.position.y+h.col1.y*r.x+h.col2.y*r.y,this.m_points[l].x=m+.5*(n-(m-u)*_-(r-d)*c-i)*_,this.m_points[l].y=r+.5*(n-(m-u)*_-(r-d)*c-i)*c}}},getPoint:function(){return 0==this.m_points.length?null:1==this.m_points.length?this.m_points[0]:new G((this.m_points[0].x+this.m_points[1].x)/2,(this.m_points[0].y+this.m_points[1].y)/2)},m_normal:null,m_points:null,__class__:pt};var ft=function(){this.m_type=-1,this.m_radius=wt.b2_linearSlop};r["box2D.collision.shapes.B2Shape"]=ft,ft.__name__="box2D.collision.shapes.B2Shape",ft.testOverlap=function(t,e,i,s){return ft.initialized||(ft.distanceInput.proxyA=ft.proxyA,ft.distanceInput.proxyB=ft.proxyB,ft.distanceInput.useRadii=!0,ft.initialized=!0),ft.proxyA.set(t),ft.proxyB.set(i),ft.distanceInput.transformA=e,ft.distanceInput.transformB=s,ft.simplexCache.count=0,K.distance(ft.distanceOutput,ft.simplexCache,ft.distanceInput),ft.distanceOutput.distance<10*Number.MIN_VALUE},ft.prototype={copy:function(){return null},set:function(t){this.m_radius=t.m_radius},getType:function(){return this.m_type},testPoint:function(t,e){return!1},rayCast:function(t,e,i){return!1},computeAABB:function(t,e){},computeMass:function(t,e){},computeSubmergedArea:function(t,e,i,s){return 0},m_type:null,m_radius:null,__class__:ft};var gt=function(t){null==t&&(t=0),ft.call(this),this.m_p=new G,this.m_type=0,this.m_radius=t};r["box2D.collision.shapes.B2CircleShape"]=gt,gt.__name__="box2D.collision.shapes.B2CircleShape",gt.__super__=ft,gt.prototype=i(ft.prototype,{copy:function(){var t=new gt;return t.set(this),t},set:function(t){if(ft.prototype.set.call(this,t),t instanceof gt){var e=vo.__cast(t,gt);t=this.m_p,e=e.m_p,t.x=e.x,t.y=e.y}},testPoint:function(t,e){var i=t.R,s=t.position.x+(i.col1.x*this.m_p.x+i.col2.x*this.m_p.y);return t=t.position.y+(i.col1.y*this.m_p.x+i.col2.y*this.m_p.y),(s=e.x-s)*s+(t=e.y-t)*t<=this.m_radius*this.m_radius},rayCast:function(t,e,i){var s=i.R,n=e.p1.x-(i.position.x+(s.col1.x*this.m_p.x+s.col2.x*this.m_p.y));i=e.p1.y-(i.position.y+(s.col1.y*this.m_p.x+s.col2.y*this.m_p.y)),s=e.p2.x-e.p1.x;var r=e.p2.y-e.p1.y,a=n*s+i*r,o=s*s+r*r,l=a*a-o*(n*n+i*i-this.m_radius*this.m_radius);return!(0>l||o<Number.MIN_VALUE)&&0<=(a=-(a+Math.sqrt(l)))&&a<=e.maxFraction*o&&(a/=o,t.fraction=a,t.normal.x=n+a*s,t.normal.y=i+a*r,t.normal.normalize(),!0)},computeAABB:function(t,e){var i=e.R,s=e.position.x+(i.col1.x*this.m_p.x+i.col2.x*this.m_p.y);e=e.position.y+(i.col1.y*this.m_p.x+i.col2.y*this.m_p.y),i=t.lowerBound;var n=s-this.m_radius,r=e-this.m_radius;null==r&&(r=0),null==n&&(n=0),i.x=n,i.y=r,i=t.upperBound,n=s+this.m_radius,null==(r=e+this.m_radius)&&(r=0),null==n&&(n=0),i.x=n,i.y=r},computeMass:function(t,e){t.mass=e*wt.b2_pi*this.m_radius*this.m_radius,e=t.center;var i=this.m_p;e.x=i.x,e.y=i.y,t.I=t.mass*(.5*this.m_radius*this.m_radius+(this.m_p.x*this.m_p.x+this.m_p.y*this.m_p.y))},computeSubmergedArea:function(t,e,i,s){i=Rt.mulX(i,this.m_p,!0);var n=-(Rt.dot(t,i)-e);if(n<-this.m_radius+Number.MIN_VALUE)return 0;if(n>this.m_radius)return s.x=i.x,s.y=i.y,Math.PI*this.m_radius*this.m_radius;var r=n*n;return n=(e=this.m_radius*this.m_radius)*(Math.asin(n/this.m_radius)+Math.PI/2)+n*Math.sqrt(e-r),e=-.6666666666666666*Math.pow(e-r,1.5)/n,s.x=i.x+t.x*e,s.y=i.y+t.y*e,n},getLocalPosition:function(){return this.m_p},setLocalPosition:function(t){var e=this.m_p;e.x=t.x,e.y=t.y},getRadius:function(){return this.m_radius},setRadius:function(t){this.m_radius=t},m_p:null,__class__:gt});var yt=function(t,e){ft.call(this),this.s_supportVec=new G,this.m_v1=new G,this.m_v2=new G,this.m_v0=new G,this.m_v3=new G,this.m_hasVertex3=this.m_hasVertex0=!1,this.m_coreV1=new G,this.m_coreV2=new G,this.m_normal=new G,this.m_direction=new G,this.m_cornerDir1=new G,this.m_cornerDir2=new G,this.m_type=2,this.m_nextEdge=this.m_prevEdge=null,this.m_v1=t,this.m_v2=e,t=this.m_direction,e=this.m_v2.x-this.m_v1.x;var i=this.m_v2.y-this.m_v1.y;null==i&&(i=0),null==e&&(e=0),t.x=e,t.y=i,this.m_length=this.m_direction.normalize(),t=this.m_normal,e=this.m_direction.y,null==(i=-this.m_direction.x)&&(i=0),null==e&&(e=0),t.x=e,t.y=i,t=this.m_coreV1,e=-wt.b2_toiSlop*(this.m_normal.x-this.m_direction.x)+this.m_v1.x,null==(i=-wt.b2_toiSlop*(this.m_normal.y-this.m_direction.y)+this.m_v1.y)&&(i=0),null==e&&(e=0),t.x=e,t.y=i,t=this.m_coreV2,e=-wt.b2_toiSlop*(this.m_normal.x+this.m_direction.x)+this.m_v2.x,null==(i=-wt.b2_toiSlop*(this.m_normal.y+this.m_direction.y)+this.m_v2.y)&&(i=0),null==e&&(e=0),t.x=e,t.y=i,this.m_cornerDir1=this.m_normal,t=this.m_cornerDir2,e=-this.m_normal.x,null==(i=-this.m_normal.y)&&(i=0),null==e&&(e=0),t.x=e,t.y=i};r["box2D.collision.shapes.B2EdgeShape"]=yt,yt.__name__="box2D.collision.shapes.B2EdgeShape",yt.__super__=ft,yt.prototype=i(ft.prototype,{testPoint:function(t,e){return!1},rayCast:function(t,e,i){var s=e.p2.x-e.p1.x,n=e.p2.y-e.p1.y,r=i.R,a=i.position.x+(r.col1.x*this.m_v1.x+r.col2.x*this.m_v1.y),o=i.position.y+(r.col1.y*this.m_v1.x+r.col2.y*this.m_v1.y),l=i.position.y+(r.col1.y*this.m_v2.x+r.col2.y*this.m_v2.y)-o,h=-(s*l+n*(i=-(i.position.x+(r.col1.x*this.m_v2.x+r.col2.x*this.m_v2.y)-a)));if(h>(r=100*Number.MIN_VALUE)){a=e.p1.x-a;var _=e.p1.y-o;if(0<=(o=a*l+_*i)&&o<=e.maxFraction*h&&-r*h<=(e=-s*_+n*a)&&e<=h*(1+r))return t.fraction=o/h,e=Math.sqrt(l*l+i*i),t.normal.x=l/e,t.normal.y=i/e,!0}return!1},computeAABB:function(t,e){var i=e.R,s=e.position.x+(i.col1.x*this.m_v1.x+i.col2.x*this.m_v1.y),n=e.position.y+(i.col1.y*this.m_v1.x+i.col2.y*this.m_v1.y),r=e.position.x+(i.col1.x*this.m_v2.x+i.col2.x*this.m_v2.y);e=e.position.y+(i.col1.y*this.m_v2.x+i.col2.y*this.m_v2.y),s<r?(t.lowerBound.x=s,t.upperBound.x=r):(t.lowerBound.x=r,t.upperBound.x=s),n<e?(t.lowerBound.y=n,t.upperBound.y=e):(t.lowerBound.y=e,t.upperBound.y=n)},computeMass:function(t,e){t.mass=0,e=t.center;var i=this.m_v1;e.x=i.x,e.y=i.y,t.I=0},computeSubmergedArea:function(t,e,i,s){var n=new G(t.x*e,t.y*e),r=Rt.mulX(i,this.m_v1,!0);i=Rt.mulX(i,this.m_v2,!0);var a=Rt.dot(t,r)-e;if(t=Rt.dot(t,i)-e,0<a){if(0<t)return 0;r.x=-t/(a-t)*r.x+a/(a-t)*i.x,r.y=-t/(a-t)*r.y+a/(a-t)*i.y}else 0<t&&(i.x=-t/(a-t)*r.x+a/(a-t)*i.x,i.y=-t/(a-t)*r.y+a/(a-t)*i.y);return s.x=(n.x+r.x+i.x)/3,s.y=(n.y+r.y+i.y)/3,.5*((r.x-n.x)*(i.y-n.y)-(r.y-n.y)*(i.x-n.x))},getLength:function(){return this.m_length},getVertex1:function(){return this.m_v1},getVertex2:function(){return this.m_v2},getCoreVertex1:function(){return this.m_coreV1},getCoreVertex2:function(){return this.m_coreV2},getNormalVector:function(){return this.m_normal},getDirectionVector:function(){return this.m_direction},getCorner1Vector:function(){return this.m_cornerDir1},getCorner2Vector:function(){return this.m_cornerDir2},corner1IsConvex:function(){return this.m_cornerConvex1},corner2IsConvex:function(){return this.m_cornerConvex2},getFirstVertex:function(t){var e=t.R;return new G(t.position.x+(e.col1.x*this.m_coreV1.x+e.col2.x*this.m_coreV1.y),t.position.y+(e.col1.y*this.m_coreV1.x+e.col2.y*this.m_coreV1.y))},getNextEdge:function(){return this.m_nextEdge},getPrevEdge:function(){return this.m_prevEdge},s_supportVec:null,support:function(t,e,i){var s=t.R,n=t.position.x+(s.col1.x*this.m_coreV1.x+s.col2.x*this.m_coreV1.y),r=t.position.y+(s.col1.y*this.m_coreV1.x+s.col2.y*this.m_coreV1.y),a=t.position.x+(s.col1.x*this.m_coreV2.x+s.col2.x*this.m_coreV2.y);return n*e+r*i>a*e+(t=t.position.y+(s.col1.y*this.m_coreV2.x+s.col2.y*this.m_coreV2.y))*i?(this.s_supportVec.x=n,this.s_supportVec.y=r):(this.s_supportVec.x=a,this.s_supportVec.y=t),this.s_supportVec},copy:function(){var t=new yt(this.m_v1,this.m_v2);t.set(this);var e=vo.__cast(t,yt),i=e.m_v0,s=this.m_v0;return i.x=s.x,i.y=s.y,i=e.m_v3,s=this.m_v3,i.x=s.x,i.y=s.y,e.m_hasVertex0=this.m_hasVertex0,e.m_hasVertex3=this.m_hasVertex3,t},setPrevEdge:function(t,e,i,s){this.m_prevEdge=t,this.m_coreV1=e,this.m_cornerDir1=i,this.m_cornerConvex1=s},setNextEdge:function(t,e,i,s){this.m_nextEdge=t,this.m_coreV2=e,this.m_cornerDir2=i,this.m_cornerConvex2=s},m_v1:null,m_v2:null,m_v0:null,m_v3:null,m_hasVertex0:null,m_hasVertex3:null,m_coreV1:null,m_coreV2:null,m_length:null,m_normal:null,m_direction:null,m_cornerDir1:null,m_cornerDir2:null,m_cornerConvex1:null,m_cornerConvex2:null,m_nextEdge:null,m_prevEdge:null,__class__:yt});var bt=function(){this.mass=0,this.center=new G(0,0),this.I=0};r["box2D.collision.shapes.B2MassData"]=bt,bt.__name__="box2D.collision.shapes.B2MassData",bt.prototype={mass:null,center:null,I:null,__class__:bt};var vt=function(){ft.call(this),this.m_type=1,this.m_centroid=new G,this.m_vertices=[],this.m_normals=[]};r["box2D.collision.shapes.B2PolygonShape"]=vt,vt.__name__="box2D.collision.shapes.B2PolygonShape",vt.asArray=function(t,e){var i=new vt;return i.setAsArray(t,e),i},vt.asVector=function(t,e){var i=new vt;return i.setAsVector(t,e),i},vt.asBox=function(t,e){var i=new vt;return i.setAsBox(t,e),i},vt.asOrientedBox=function(t,e,i,s){null==s&&(s=0);var n=new vt;return n.setAsOrientedBox(t,e,i,s),n},vt.asEdge=function(t,e){var i=new vt;return i.setAsEdge(t,e),i},vt.computeCentroid=function(t,e){for(var i=new G,s=0,n=0;n<e;){var r=n++,a=t[r];r=r+1<e?t[r+1|0]:t[0];var o=.5*((a.x-0)*(r.y-0)-(a.y-0)*(r.x-0));s+=o,i.x+=.3333333333333333*o*(0+a.x+r.x),i.y+=.3333333333333333*o*(0+a.y+r.y)}return i.x*=1/s,i.y*=1/s,i},vt.computeOBB=function(t,e,i){for(var s,n=[],r=0,a=i;r<a;)n[s=r++]=e[s];for(n[i]=n[0],e=Number.MAX_VALUE,r=1,a=i+1;r<a;){for(var o=n[(s=r++)-1|0],l=n[s].x-o.x,h=n[s].y-o.y,_=-(h/=s=Math.sqrt(l*l+h*h)),c=l/=s,u=s=Number.MAX_VALUE,d=-Number.MAX_VALUE,m=-Number.MAX_VALUE,p=0,f=i;p<f;){var g=p++,y=n[g].x-o.x,b=n[g].y-o.y;(g=l*y+h*b)<s&&(s=g),(y=_*y+c*b)<u&&(u=y),g>d&&(d=g),y>m&&(m=y)}(p=(d-s)*(m-u))<.95*e&&(e=p,t.R.col1.x=l,t.R.col1.y=h,t.R.col2.x=_,t.R.col2.y=c,l=.5*(s+d),h=.5*(u+m),_=t.R,t.center.x=o.x+(_.col1.x*l+_.col2.x*h),t.center.y=o.y+(_.col1.y*l+_.col2.y*h),t.extents.x=.5*(d-s),t.extents.y=.5*(m-u))}},vt.__super__=ft,vt.prototype=i(ft.prototype,{copy:function(){var t=new vt;return t.set(this),t},set:function(t){if(ft.prototype.set.call(this,t),t instanceof vt){t=vo.__cast(t,vt);var e=this.m_centroid,i=t.m_centroid;e.x=i.x,e.y=i.y,this.m_vertexCount=t.m_vertexCount,this.reserve(this.m_vertexCount);for(var s=0,n=this.m_vertexCount;s<n;){var r=s++;e=this.m_vertices[r],i=t.m_vertices[r],e.x=i.x,e.y=i.y,e=this.m_normals[r],r=t.m_normals[r],e.x=r.x,e.y=r.y}}},setAsArray:function(t,e){null==e&&(e=0);for(var i=[],s=0;s<t.length;){var n=t[s];++s,i.push(n)}this.setAsVector(i,e)},setAsVector:function(t,e){null==e&&(e=0),0==e&&(e=t.length),wt.b2Assert(2<=e),this.m_vertexCount=e,this.reserve(e);for(var i=0,s=this.m_vertexCount;i<s;){e=i++;var n=this.m_vertices[e],r=t[e];n.x=r.x,n.y=r.y}for(i=0,s=this.m_vertexCount;i<s;)e=i++,t=Rt.subtractVVPooled(this.m_vertices[e+1<this.m_vertexCount?e+1:0],this.m_vertices[e]),wt.b2Assert(t.lengthSquared()>Number.MIN_VALUE),n=this.m_normals[e],r=Rt.crossVF(t,1,!0),n.x=r.x,n.y=r.y,this.m_normals[e].normalize();this.m_centroid=vt.computeCentroid(this.m_vertices,this.m_vertexCount)},setAsBox:function(t,e){this.m_vertexCount=4,this.reserve(4);var i=this.m_vertices[0],s=-t,n=-e;null==n&&(n=0),null==s&&(s=0),i.x=s,i.y=n,null==(n=-e)&&(n=0),null==(s=t)&&(s=0),(i=this.m_vertices[1]).x=s,i.y=n,null==(n=e)&&(n=0),null==(s=t)&&(s=0),(i=this.m_vertices[2]).x=s,i.y=n,null==(n=e)&&(n=0),null==(s=-t)&&(s=0),(i=this.m_vertices[3]).x=s,i.y=n,null==(n=-1)&&(n=0),null==(s=0)&&(s=0),(i=this.m_normals[0]).x=s,i.y=n,null==(n=0)&&(n=0),null==(s=1)&&(s=0),(i=this.m_normals[1]).x=s,i.y=n,null==(n=1)&&(n=0),null==(s=0)&&(s=0),(i=this.m_normals[2]).x=s,i.y=n,null==(n=0)&&(n=0),null==(s=-1)&&(s=0),(i=this.m_normals[3]).x=s,i.y=n,(i=this.m_centroid).x=0,i.y=0},setAsOrientedBox:function(t,e,i,s){null==s&&(s=0),this.m_vertexCount=4,this.reserve(4);var n=this.m_vertices[0],r=-t,a=-e;for(null==a&&(a=0),null==r&&(r=0),n.x=r,n.y=a,null==(a=-e)&&(a=0),null==(r=t)&&(r=0),(n=this.m_vertices[1]).x=r,n.y=a,null==(a=e)&&(a=0),null==(r=t)&&(r=0),(n=this.m_vertices[2]).x=r,n.y=a,null==(a=e)&&(a=0),null==(r=-t)&&(r=0),(n=this.m_vertices[3]).x=r,n.y=a,null==(a=-1)&&(a=0),null==(r=0)&&(r=0),(n=this.m_normals[0]).x=r,n.y=a,null==(a=0)&&(a=0),null==(r=1)&&(r=0),(n=this.m_normals[1]).x=r,n.y=a,null==(a=1)&&(a=0),null==(r=0)&&(r=0),(n=this.m_normals[2]).x=r,n.y=a,null==(a=0)&&(a=0),null==(r=-1)&&(r=0),(n=this.m_normals[3]).x=r,n.y=a,this.m_centroid=i,(t=new ut).position=i,t.R.set(s),i=0,s=this.m_vertexCount;i<s;)e=i++,this.m_vertices[e]=Rt.mulX(t,this.m_vertices[e]),this.m_normals[e]=Rt.mulMV(t.R,this.m_normals[e])},setAsEdge:function(t,e){this.m_vertexCount=2,this.reserve(2);var i=this.m_vertices[0];i.x=t.x,i.y=t.y,(i=this.m_vertices[1]).x=e.x,i.y=e.y,this.m_centroid.x=.5*(t.x+e.x),this.m_centroid.y=.5*(t.y+e.y),this.m_normals[0]=Rt.crossVF(Rt.subtractVV(e,t),1),this.m_normals[0].normalize(),this.m_normals[1].x=-this.m_normals[0].x,this.m_normals[1].y=-this.m_normals[0].y},testPoint:function(t,e){var i=t.R,s=e.x-t.position.x;t=e.y-t.position.y,e=s*i.col1.x+t*i.col1.y;for(var n=s*i.col2.x+t*i.col2.y,r=0,a=this.m_vertexCount;r<a;){var o=r++;if(s=e-(i=this.m_vertices[o]).x,t=n-i.y,0<(i=this.m_normals[o]).x*s+i.y*t)return!1}return!0},rayCast:function(t,e,i){var s=0,n=e.maxFraction,r=e.p1.x-i.position.x,a=e.p1.y-i.position.y,o=i.R,l=r*o.col1.x+a*o.col1.y,h=r*o.col2.x+a*o.col2.y;r=e.p2.x-i.position.x,a=e.p2.y-i.position.y,e=r*(o=i.R).col1.x+a*o.col1.y-l,o=r*o.col2.x+a*o.col2.y-h;for(var _=-1,c=0,u=this.m_vertexCount;c<u;){var d=c++,m=this.m_vertices[d];if(r=m.x-l,a=m.y-h,r=(m=this.m_normals[d]).x*r+m.y*a,0==(m=m.x*e+m.y*o)){if(0>r)return!1}else 0>m&&r<s*m?(s=r/m,_=d):0<m&&r<n*m&&(n=r/m);if(n<s-Number.MIN_VALUE)return!1}return 0<=_&&(t.fraction=s,o=i.R,m=this.m_normals[_],t.normal.x=o.col1.x*m.x+o.col2.x*m.y,t.normal.y=o.col1.y*m.x+o.col2.y*m.y,!0)},computeAABB:function(t,e){for(var i=e.R,s=this.m_vertices[0],n=e.position.x+(i.col1.x*s.x+i.col2.x*s.y),r=e.position.y+(i.col1.y*s.x+i.col2.y*s.y),a=n,o=r,l=1,h=this.m_vertexCount;l<h;){var _=l++;s=this.m_vertices[_],n<(_=e.position.x+(i.col1.x*s.x+i.col2.x*s.y))||(n=_),r<(s=e.position.y+(i.col1.y*s.x+i.col2.y*s.y))||(r=s),a>_||(a=_),o>s||(o=s)}t.lowerBound.x=n-this.m_radius,t.lowerBound.y=r-this.m_radius,t.upperBound.x=a+this.m_radius,t.upperBound.y=o+this.m_radius},computeMass:function(t,e){if(2==this.m_vertexCount)t.center.x=.5*(this.m_vertices[0].x+this.m_vertices[1].x),t.center.y=.5*(this.m_vertices[0].y+this.m_vertices[1].y),t.mass=0,t.I=0;else{for(var i=0,s=0,n=0,r=0,a=0,o=this.m_vertexCount;a<o;){var l=a++,h=this.m_vertices[l],_=l+1<this.m_vertexCount?this.m_vertices[l+1|0]:this.m_vertices[0],c=h.x-0,u=h.y-0,d=_.x-0,m=_.y-0,p=.5*(l=c*m-u*d);n+=p,i+=.3333333333333333*p*(0+h.x+_.x),s+=.3333333333333333*p*(0+h.y+_.y),r+=l*(.3333333333333333*(.25*((h=c)*h+d*h+d*d)+(0*h+0*d))+.3333333333333333*(.25*(u*u+m*u+m*m)+(0*u+0*m)))}t.mass=e*n,null==(s*=1/n)&&(s=0),null==(i*=1/n)&&(i=0),(a=t.center).x=i,a.y=s,t.I=e*r}},computeSubmergedArea:function(t,e,i,s){var n=Rt.mulTMV(i.R,t,!0),r=e-Rt.dot(t,i.position),a=[],o=0,l=-1;e=-1;for(var h=!1,_=0,c=this.m_vertexCount;_<c;){a[t=_++]=Rt.dot(n,this.m_vertices[t])-r;var u=a[t]<-Number.MIN_VALUE;0<t&&(u?h||(l=t-1,++o):h&&(e=t-1,++o)),h=u}switch(o){case 0:return h?(t=new bt,this.computeMass(t,1),i=Rt.mulX(i,t.center),s.x=i.x,s.y=i.y,t.mass):0;case 1:-1==l?l=this.m_vertexCount-1:e=this.m_vertexCount-1}for(t=(l+1)%this.m_vertexCount,n=(e+1)%this.m_vertexCount,r=(0-a[l])/(a[t]-a[l]),a=(0-a[e])/(a[n]-a[e]),l=new G(this.m_vertices[l].x*(1-r)+this.m_vertices[t].x*r,this.m_vertices[l].y*(1-r)+this.m_vertices[t].y*r),a=new G(this.m_vertices[e].x*(1-a)+this.m_vertices[n].x*a,this.m_vertices[e].y*(1-a)+this.m_vertices[n].y*a),e=0,r=new G,o=this.m_vertices[t];t!=n;)h=(t=(t+1)%this.m_vertexCount)==n?a:this.m_vertices[t],e+=_=.5*((o.x-l.x)*(h.y-l.y)-(o.y-l.y)*(h.x-l.x)),r.x+=_*(l.x+o.x+h.x)/3,r.y+=_*(l.y+o.y+h.y)/3,o=h;return r.multiply(1/e),i=Rt.mulX(i,r),s.x=i.x,s.y=i.y,e},getVertexCount:function(){return this.m_vertexCount},getVertices:function(){return this.m_vertices},getNormals:function(){return this.m_normals},getSupport:function(t){for(var e=0,i=this.m_vertices[0].x*t.x+this.m_vertices[0].y*t.y,s=1,n=this.m_vertexCount;s<n;){var r=s++,a=this.m_vertices[r].x*t.x+this.m_vertices[r].y*t.y;a>i&&(e=r,i=a)}return e},getSupportVertex:function(t){for(var e=0,i=this.m_vertices[0].x*t.x+this.m_vertices[0].y*t.y,s=1,n=this.m_vertexCount;s<n;){var r=s++,a=this.m_vertices[r].x*t.x+this.m_vertices[r].y*t.y;a>i&&(e=r,i=a)}return this.m_vertices[e]},validate:function(){return!1},reserve:function(t){for(var e=this.m_vertices.length;e<t;){var i=e++;this.m_vertices[i]=new G,this.m_normals[i]=new G}},m_centroid:null,m_vertices:null,m_normals:null,m_vertexCount:null,__class__:vt});var xt=function(t,e,i){this._r=255*Rt.clamp(t,0,1)|0,this._g=255*Rt.clamp(e,0,1)|0,this._b=255*Rt.clamp(i,0,1)|0};r["box2D.common.B2Color"]=xt,xt.__name__="box2D.common.B2Color",xt.prototype={set:function(t,e,i){this._r=255*Rt.clamp(t,0,1)|0,this._g=255*Rt.clamp(e,0,1)|0,this._b=255*Rt.clamp(i,0,1)|0},r:null,g:null,b:null,color:null,set_r:function(t){return this._r=255*Rt.clamp(t,0,1)|0},set_g:function(t){return this._g=255*Rt.clamp(t,0,1)|0},set_b:function(t){return this._b=255*Rt.clamp(t,0,1)|0},get_color:function(){return this._r<<16|this._g<<8|this._b},_r:null,_g:null,_b:null,__class__:xt,__properties__:{get_color:"get_color",set_b:"set_b",set_g:"set_g",set_r:"set_r"}};var wt=function(){};r["box2D.common.B2Settings"]=wt,wt.__name__="box2D.common.B2Settings",wt.b2MixFriction=function(t,e){return Math.sqrt(t*e)},wt.b2MixRestitution=function(t,e){return t>e?t:e},wt.b2Assert=function(t){if(!t)throw wa.thrown("Assertion Failed")};var St=function(t,e,i){this.col1=new Tt,this.col2=new Tt,this.col3=new Tt,null==t&&null==e&&null==i?(this.col1.setZero(),this.col2.setZero(),this.col3.setZero()):(this.col1.setV(t),this.col2.setV(e),this.col3.setV(i))};r["box2D.common.math.B2Mat33"]=St,St.__name__="box2D.common.math.B2Mat33",St.prototype={setVVV:function(t,e,i){this.col1.setV(t),this.col2.setV(e),this.col3.setV(i)},copy:function(){return new St(this.col1,this.col2,this.col3)},setM:function(t){this.col1.setV(t.col1),this.col2.setV(t.col2),this.col3.setV(t.col3)},addM:function(t){this.col1.x+=t.col1.x,this.col1.y+=t.col1.y,this.col1.z+=t.col1.z,this.col2.x+=t.col2.x,this.col2.y+=t.col2.y,this.col2.z+=t.col2.z,this.col3.x+=t.col3.x,this.col3.y+=t.col3.y,this.col3.z+=t.col3.z},setIdentity:function(){this.col1.x=1,this.col2.x=0,this.col3.x=0,this.col1.y=0,this.col2.y=1,this.col3.y=0,this.col1.z=0,this.col2.z=0,this.col3.z=1},setZero:function(){this.col1.x=0,this.col2.x=0,this.col3.x=0,this.col1.y=0,this.col2.y=0,this.col3.y=0,this.col1.z=0,this.col2.z=0,this.col3.z=0},solve22:function(t,e,i){var s=this.col1.x,n=this.col2.x,r=this.col1.y,a=this.col2.y,o=s*a-n*r;return 0!=o&&(o=1/o),t.x=o*(a*e-n*i),t.y=o*(s*i-r*e),t},solve33:function(t,e,i,s){var n=this.col1.x,r=this.col1.y,a=this.col1.z,o=this.col2.x,l=this.col2.y,h=this.col2.z,_=this.col3.x,c=this.col3.y,u=this.col3.z,d=n*(l*u-h*c)+r*(h*_-o*u)+a*(o*c-l*_);return 0!=d&&(d=1/d),t.x=d*(e*(l*u-h*c)+i*(h*_-o*u)+s*(o*c-l*_)),t.y=d*(n*(i*u-s*c)+r*(s*_-e*u)+a*(e*c-i*_)),t.z=d*(n*(l*s-h*i)+r*(h*e-o*s)+a*(o*i-l*e)),t},col1:null,col2:null,col3:null,__class__:St};var Rt=function(){};r["box2D.common.math.B2Math"]=Rt,Rt.__name__="box2D.common.math.B2Math",Rt.__properties__={get_MIN_VALUE:"get_MIN_VALUE",get_MAX_VALUE:"get_MAX_VALUE"},Rt.isValid=function(t){return!isNaN(t)&&-1/0!=t&&1/0!=t},Rt.dot=function(t,e){return t.x*e.x+t.y*e.y},Rt.crossVV=function(t,e){return t.x*e.y-t.y*e.x},Rt.crossVF=function(t,e,i){if(null==i&&(i=!1),i){i=G.getFromPool();var s=e*t.y;null==(t=-e*t.x)&&(t=0),null==s&&(s=0),i.x=s,i.y=t}else i=new G(e*t.y,-e*t.x);return i},Rt.crossFV=function(t,e,i){if(null==i&&(i=!1),i){i=G.getFromPool();var s=-t*e.y;null==(t*=e.x)&&(t=0),null==s&&(s=0),i.x=s,i.y=t}else i=new G(-t*e.y,t*e.x);return i},Rt.mulMV=function(t,e,i){if(null==i&&(i=!1),i){i=G.getFromPool();var s=t.col1.x*e.x+t.col2.x*e.y;null==(t=t.col1.y*e.x+t.col2.y*e.y)&&(t=0),null==s&&(s=0),i.x=s,i.y=t}else i=new G(t.col1.x*e.x+t.col2.x*e.y,t.col1.y*e.x+t.col2.y*e.y);return i},Rt.mulTMV=function(t,e,i){if(null==i&&(i=!1),i){i=G.getFromPool();var s=Rt.dot(e,t.col1);null==(t=Rt.dot(e,t.col2))&&(t=0),null==s&&(s=0),i.x=s,i.y=t}else i=new G(Rt.dot(e,t.col1),Rt.dot(e,t.col2));return i},Rt.mulX=function(t,e,i){return null==i&&(i=!1),(e=Rt.mulMV(t.R,e,i)).x+=t.position.x,e.y+=t.position.y,e},Rt.mulXT=function(t,e,i){return i=(e=Rt.subtractVVPooled(e,t.position)).x*t.R.col1.x+e.y*t.R.col1.y,e.y=e.x*t.R.col2.x+e.y*t.R.col2.y,e.x=i,e},Rt.addVV=function(t,e){return new G(t.x+e.x,t.y+e.y)},Rt.subtractVV=function(t,e){return new G(t.x-e.x,t.y-e.y)},Rt.subtractVVPooled=function(t,e){var i=G.getFromPool(),s=t.x-e.x;return null==(t=t.y-e.y)&&(t=0),null==s&&(s=0),i.x=s,i.y=t,i},Rt.distance=function(t,e){var i=t.x-e.x;return t=t.y-e.y,Math.sqrt(i*i+t*t)},Rt.distanceSquared=function(t,e){var i=t.x-e.x;return i*i+(t=t.y-e.y)*t},Rt.mulFV=function(t,e){return new G(t*e.x,t*e.y)},Rt.addMM=function(t,e){return dt.fromVV(Rt.addVV(t.col1,e.col1),Rt.addVV(t.col2,e.col2))},Rt.mulMM=function(t,e){return dt.fromVV(Rt.mulMV(t,e.col1),Rt.mulMV(t,e.col2))},Rt.mulTMM=function(t,e){var i=new G(Rt.dot(t.col1,e.col1),Rt.dot(t.col2,e.col1));return t=new G(Rt.dot(t.col1,e.col2),Rt.dot(t.col2,e.col2)),dt.fromVV(i,t)},Rt.abs=function(t){return 0<t?t:-t},Rt.absV=function(t){return new G(Rt.abs(t.x),Rt.abs(t.y))},Rt.absM=function(t){return dt.fromVV(Rt.absV(t.col1),Rt.absV(t.col2))},Rt.min=function(t,e){return t<e?t:e},Rt.minV=function(t,e){return new G(Rt.min(t.x,e.x),Rt.min(t.y,e.y))},Rt.max=function(t,e){return t>e?t:e},Rt.maxV=function(t,e){return new G(Rt.max(t.x,e.x),Rt.max(t.y,e.y))},Rt.clamp=function(t,e,i){return t<e?e:t>i?i:t},Rt.clampV=function(t,e,i){return Rt.maxV(e,Rt.minV(t,i))},Rt.swap=function(t,e){var i=t[0];t[0]=e[0],e[0]=i},Rt.random=function(){return 2*Math.random()-1},Rt.randomRange=function(t,e){return(e-t)*Math.random()+t},Rt.nextPowerOfTwo=function(t){return t|=t>>1&2147483647,t|=t>>2&1073741823,t|=t>>4&268435455,1+((t|=t>>8&16777215)|t>>16&65535)},Rt.isPowerOfTwo=function(t){return 0<t&&!(t&t-1)},Rt.get_MAX_VALUE=function(){return Number.MAX_VALUE},Rt.get_MIN_VALUE=function(){return Number.MIN_VALUE};var At=function(){this.localCenter=new G,this.c0=new G,this.c=new G};r["box2D.common.math.B2Sweep"]=At,At.__name__="box2D.common.math.B2Sweep",At.prototype={set:function(t){var e=this.localCenter,i=t.localCenter;e.x=i.x,e.y=i.y,e=this.c0,i=t.c0,e.x=i.x,e.y=i.y,e=this.c,i=t.c,e.x=i.x,e.y=i.y,this.a0=t.a0,this.a=t.a,this.t0=t.t0},copy:function(){var t=new At,e=t.localCenter,i=this.localCenter;return e.x=i.x,e.y=i.y,e=t.c0,i=this.c0,e.x=i.x,e.y=i.y,e=t.c,i=this.c,e.x=i.x,e.y=i.y,t.a0=this.a0,t.a=this.a,t.t0=this.t0,t},getTransform:function(t,e){t.position.x=(1-e)*this.c0.x+e*this.c.x,t.position.y=(1-e)*this.c0.y+e*this.c.y,t.R.set((1-e)*this.a0+e*this.a),e=t.R,t.position.x-=e.col1.x*this.localCenter.x+e.col2.x*this.localCenter.y,t.position.y-=e.col1.y*this.localCenter.x+e.col2.y*this.localCenter.y},advance:function(t){if(this.t0<t&&1-this.t0>Number.MIN_VALUE){var e=(t-this.t0)/(1-this.t0);this.c0.x=(1-e)*this.c0.x+e*this.c.x,this.c0.y=(1-e)*this.c0.y+e*this.c.y,this.a0=(1-e)*this.a0+e*this.a,this.t0=t}},localCenter:null,c0:null,c:null,a0:null,a:null,t0:null,__class__:At};var Tt=function(t,e,i){null==i&&(i=0),null==e&&(e=0),null==t&&(t=0),this.x=t,this.y=e,this.z=i};r["box2D.common.math.B2Vec3"]=Tt,Tt.__name__="box2D.common.math.B2Vec3",Tt.prototype={setZero:function(){this.x=this.y=this.z=0},set:function(t,e,i){this.x=t,this.y=e,this.z=i},setV:function(t){this.x=t.x,this.y=t.y,this.z=t.z},getNegative:function(){return new Tt(-this.x,-this.y,-this.z)},negativeSelf:function(){this.x=-this.x,this.y=-this.y,this.z=-this.z},copy:function(){return new Tt(this.x,this.y,this.z)},add:function(t){this.x+=t.x,this.y+=t.y,this.z+=t.z},subtract:function(t){this.x-=t.x,this.y-=t.y,this.z-=t.z},multiply:function(t){this.x*=t,this.y*=t,this.z*=t},x:null,y:null,z:null,__class__:Tt};var Mt=function(t,e){this.m_xf=new ut,this.m_sweep=new At,this.m_linearVelocity=new G,this.m_force=new G,this.m_flags=0,t.bullet&&(this.m_flags|=Mt.e_bulletFlag),t.fixedRotation&&(this.m_flags|=Mt.e_fixedRotationFlag),t.allowSleep&&(this.m_flags|=Mt.e_allowSleepFlag),t.awake&&(this.m_flags|=Mt.e_awakeFlag),t.active&&(this.m_flags|=Mt.e_activeFlag),t.ignoreGravity&&(this.m_flags|=Mt.e_ignoreGravityFlag),this.m_world=e,e=this.m_xf.position;var i=t.position;e.x=i.x,e.y=i.y,this.m_xf.R.set(t.angle),(e=this.m_sweep.localCenter).x=0,e.y=0,this.m_sweep.t0=1,this.m_sweep.a0=this.m_sweep.a=t.angle,e=this.m_xf.R,i=this.m_sweep.localCenter,this.m_sweep.c.x=e.col1.x*i.x+e.col2.x*i.y,this.m_sweep.c.y=e.col1.y*i.x+e.col2.y*i.y,this.m_sweep.c.x+=this.m_xf.position.x,this.m_sweep.c.y+=this.m_xf.position.y,e=this.m_sweep.c0,i=this.m_sweep.c,e.x=i.x,e.y=i.y,this.m_contactList=this.m_controllerList=this.m_jointList=null,this.m_controllerCount=0,this.m_next=this.m_prev=null,e=this.m_linearVelocity,i=t.linearVelocity,e.x=i.x,e.y=i.y,this.m_angularVelocity=t.angularVelocity,this.m_linearDamping=t.linearDamping,this.m_angularDamping=t.angularDamping;var s=i=0;null==s&&(s=0),null==i&&(i=0),(e=this.m_force).x=i,e.y=s,this.m_sleepTime=this.m_torque=0,this.m_type=t.type,this.m_invMass=this.m_type==Mt.b2_dynamicBody?this.m_mass=1:this.m_mass=0,this.m_invI=this.m_I=0,this.m_inertiaScale=t.inertiaScale,this.m_userData=t.userData,this.m_fixtureList=null,this.m_fixtureCount=0,this.groupID=t.groupID,this.origin=new G,this.size=new G};r["box2D.dynamics.B2Body"]=Mt,Mt.__name__="box2D.dynamics.B2Body",Mt.prototype={connectEdges:function(t,e,i){var s=Math.atan2(e.getDirectionVector().y,e.getDirectionVector().x);i=Rt.mulFV(Math.tan(.5*(s-i)),e.getDirectionVector()),i=Rt.subtractVV(i,e.getNormalVector()),i=Rt.mulFV(wt.b2_toiSlop,i),i=Rt.addVV(i,e.getVertex1());var n=Rt.addVV(t.getDirectionVector(),e.getDirectionVector());n.normalize();var r=0<Rt.dot(t.getDirectionVector(),e.getNormalVector());return t.setNextEdge(e,i,n,r),e.setPrevEdge(t,i,n,r),s},createFixture:function(t){if(1==this.m_world.isLocked())return null;var e=new Lt;return e.create(this,this.m_xf,t),0!=(this.m_flags&Mt.e_activeFlag)&&e.createProxy(this.m_world.m_contactManager.m_broadPhase,this.m_xf),e.m_next=this.m_fixtureList,this.m_fixtureList=e,++this.m_fixtureCount,e.m_body=this,0<e.m_density&&this.resetMassData(),this.m_world.m_flags|=Gt.e_newFixture,e},createFixture2:function(t,e){null==e&&(e=0);var i=new Nt;return i.shape=t,i.density=e,this.createFixture(i)},DestroyFixture:function(t){if(1!=this.m_world.isLocked()){for(var e=this.m_fixtureList,i=null;null!=e;){if(e==t){null!=i?i.m_next=t.m_next:this.m_fixtureList=t.m_next;break}i=e,e=e.m_next}for(e=this.m_contactList;null!=e;){i=e.contact,e=e.next;var s=i.getFixtureA(),n=i.getFixtureB();t!=s&&t!=n||this.m_world.m_contactManager.destroy(i)}0!=(this.m_flags&Mt.e_activeFlag)&&t.destroyProxy(this.m_world.m_contactManager.m_broadPhase),t.destroy(),t.m_body=null,t.m_next=null,--this.m_fixtureCount,this.resetMassData()}},setPositionAndAngle:function(t,e){if(1!=this.m_world.isLocked()){this.m_xf.R.set(e);var i=this.m_xf.position;for(i.x=t.x,i.y=t.y,i=this.m_xf.R,t=this.m_sweep.localCenter,this.m_sweep.c.x=i.col1.x*t.x+i.col2.x*t.y,this.m_sweep.c.y=i.col1.y*t.x+i.col2.y*t.y,this.m_sweep.c.x+=this.m_xf.position.x,this.m_sweep.c.y+=this.m_xf.position.y,i=this.m_sweep.c0,t=this.m_sweep.c,i.x=t.x,i.y=t.y,this.m_sweep.a0=this.m_sweep.a=e,e=this.m_world.m_contactManager.m_broadPhase,i=this.m_fixtureList;null!=i;)i.synchronize(e,this.m_xf,this.m_xf),i=i.m_next;this.m_world.m_contactManager.findNewContacts()}},setPositionFast:function(t){if(1!=this.m_world.isLocked()){var e=this.m_xf.position;e.x=t.x,e.y=t.y,e=this.m_xf.R,t=this.m_sweep.localCenter,this.m_sweep.c.x=e.col1.x*t.x+e.col2.x*t.y,this.m_sweep.c.y=e.col1.y*t.x+e.col2.y*t.y,this.m_sweep.c.x+=this.m_xf.position.x,this.m_sweep.c.y+=this.m_xf.position.y,e=this.m_sweep.c0,t=this.m_sweep.c,e.x=t.x,e.y=t.y}},setTransform:function(t){this.setPositionAndAngle(t.position,t.getAngle())},getTransform:function(){return this.m_xf},getPosition:function(){return this.m_xf.position},setPosition:function(t){this.setPositionAndAngle(t,this.getAngle())},getAngle:function(){return this.m_sweep.a},setAngle:function(t){this.setPositionAndAngle(this.getPosition(),t)},getWorldCenter:function(){return this.m_sweep.c},getLocalCenter:function(){return this.m_sweep.localCenter},setLinearVelocity:function(t){if(this.m_type!=Mt.b2_staticBody){var e=this.m_linearVelocity;e.x=t.x,e.y=t.y}},getLinearVelocity:function(){return this.m_linearVelocity},setAngularVelocity:function(t){this.m_type!=Mt.b2_staticBody&&(this.m_angularVelocity=t)},getAngularVelocity:function(){return this.m_angularVelocity},getDefinition:function(){var t=new Pt;t.type=this.getType(),t.allowSleep=(this.m_flags&Mt.e_allowSleepFlag)==Mt.e_allowSleepFlag,t.angle=this.getAngle(),t.angularDamping=this.m_angularDamping,t.angularVelocity=this.m_angularVelocity,t.fixedRotation=(this.m_flags&Mt.e_fixedRotationFlag)==Mt.e_fixedRotationFlag,t.bullet=(this.m_flags&Mt.e_bulletFlag)==Mt.e_bulletFlag,t.awake=(this.m_flags&Mt.e_awakeFlag)==Mt.e_awakeFlag,t.linearDamping=this.m_linearDamping;var e=t.linearVelocity,i=this.getLinearVelocity();return e.x=i.x,e.y=i.y,t.position=this.getPosition(),t.userData=this.getUserData(),t},applyForce:function(t,e){this.m_type==Mt.b2_dynamicBody&&(0==this.isAwake()&&this.setAwake(!0),this.m_force.x+=t.x,this.m_force.y+=t.y,this.m_torque+=(e.x-this.m_sweep.c.x)*t.y-(e.y-this.m_sweep.c.y)*t.x)},applyTorque:function(t){this.m_type==Mt.b2_dynamicBody&&(0==this.isAwake()&&this.setAwake(!0),this.m_torque+=t)},applyImpulse:function(t,e){this.m_type==Mt.b2_dynamicBody&&(0==this.isAwake()&&this.setAwake(!0),this.m_linearVelocity.x+=this.m_invMass*t.x,this.m_linearVelocity.y+=this.m_invMass*t.y,this.m_angularVelocity+=this.m_invI*((e.x-this.m_sweep.c.x)*t.y-(e.y-this.m_sweep.c.y)*t.x))},split:function(t){for(var e=this.getLinearVelocity().copy(),i=this.getAngularVelocity(),s=this.getWorldCenter(),n=this.m_world.createBody(this.getDefinition()),r=null,a=this.m_fixtureList;null!=a;)if(t(a)){var o=a.m_next;null!=r?r.m_next=o:this.m_fixtureList=o,this.m_fixtureCount--,a.m_next=n.m_fixtureList,n.m_fixtureList=a,n.m_fixtureCount++,a.m_body=n,a=o}else r=a,a=a.m_next;return this.resetMassData(),n.resetMassData(),r=this.getWorldCenter(),t=n.getWorldCenter(),r=Rt.addVV(e,Rt.crossFV(i,Rt.subtractVV(r,s))),e=Rt.addVV(e,Rt.crossFV(i,Rt.subtractVV(t,s))),this.setLinearVelocity(r),n.setLinearVelocity(e),this.setAngularVelocity(i),n.setAngularVelocity(i),this.synchronizeFixtures(),n.synchronizeFixtures(),n},merge:function(t){for(var e=t.m_fixtureList;null!=e;){var i=e.m_next;t.m_fixtureCount--,e.m_next=this.m_fixtureList,this.m_fixtureList=e,this.m_fixtureCount++,e.m_body=t,e=i}this.m_fixtureCount=0,this.getWorldCenter(),t.getWorldCenter(),this.getLinearVelocity().copy(),t.getLinearVelocity().copy(),this.getAngularVelocity(),t.getAngularVelocity(),this.resetMassData(),this.synchronizeFixtures()},getMass:function(){return this.m_mass},getInertia:function(){return this.m_I},getMassData:function(t){t.mass=this.m_mass,t.I=this.m_I,t=t.center;var e=this.m_sweep.localCenter;t.x=e.x,t.y=e.y},setMassData:function(t){if(wt.b2Assert(0==this.m_world.isLocked()),1!=this.m_world.isLocked()&&this.m_type==Mt.b2_dynamicBody){this.m_invI=this.m_I=this.m_invMass=0,this.m_mass=t.mass,0>=this.m_mass&&(this.m_mass=1),this.m_invMass=1/this.m_mass,0<t.I&&0==(this.m_flags&Mt.e_fixedRotationFlag)&&(this.m_I=t.I-this.m_mass*(t.center.x*t.center.x+t.center.y*t.center.y),this.m_invI=1/this.m_I);var e=this.m_sweep.c.copy(),i=this.m_sweep.localCenter;t=t.center,i.x=t.x,i.y=t.y,i=this.m_sweep.c0,t=Rt.mulX(this.m_xf,this.m_sweep.localCenter),i.x=t.x,i.y=t.y,i=this.m_sweep.c,t=this.m_sweep.c0,i.x=t.x,i.y=t.y,this.m_linearVelocity.x+=this.m_angularVelocity*-(this.m_sweep.c.y-e.y),this.m_linearVelocity.y+=this.m_angularVelocity*(this.m_sweep.c.x-e.x)}},resetMassData:function(){this.m_invI=this.m_I=this.m_invMass=this.m_mass=0;var t=this.m_sweep.localCenter;if(t.x=0,t.y=0,this.m_type!=Mt.b2_staticBody&&this.m_type!=Mt.b2_kinematicBody){var e=G.make(0,0);for(t=this.m_fixtureList;null!=t;)if(0!=t.m_density){var i=t.getMassData();this.m_mass+=i.mass,e.x+=i.center.x*i.mass,e.y+=i.center.y*i.mass,this.m_I+=i.I,t=t.m_next}0<this.m_mass?(this.m_invMass=1/this.m_mass,e.x*=this.m_invMass,e.y*=this.m_invMass):this.m_invMass=this.m_mass=1,0<this.m_I&&0==(this.m_flags&Mt.e_fixedRotationFlag)?(this.m_I-=this.m_mass*(e.x*e.x+e.y*e.y),this.m_I*=this.m_inertiaScale,wt.b2Assert(0<this.m_I),this.m_invI=1/this.m_I):this.m_invI=this.m_I=0,i=this.m_sweep.c.copy(),(t=this.m_sweep.localCenter).x=e.x,t.y=e.y,t=this.m_sweep.c0,e=Rt.mulX(this.m_xf,this.m_sweep.localCenter),t.x=e.x,t.y=e.y,t=this.m_sweep.c,e=this.m_sweep.c0,t.x=e.x,t.y=e.y,this.m_linearVelocity.x+=this.m_angularVelocity*-(this.m_sweep.c.y-i.y),this.m_linearVelocity.y+=this.m_angularVelocity*(this.m_sweep.c.x-i.x)}},getWorldPoint:function(t){var e=this.m_xf.R;return(t=new G(e.col1.x*t.x+e.col2.x*t.y,e.col1.y*t.x+e.col2.y*t.y)).x+=this.m_xf.position.x,t.y+=this.m_xf.position.y,t},getWorldVector:function(t){return Rt.mulMV(this.m_xf.R,t)},getLocalPoint:function(t){return Rt.mulXT(this.m_xf,t)},getLocalVector:function(t){return Rt.mulTMV(this.m_xf.R,t)},getLinearVelocityFromWorldPoint:function(t){return new G(this.m_linearVelocity.x-this.m_angularVelocity*(t.y-this.m_sweep.c.y),this.m_linearVelocity.y+this.m_angularVelocity*(t.x-this.m_sweep.c.x))},getLinearVelocityFromLocalPoint:function(t){var e=this.m_xf.R;return(t=new G(e.col1.x*t.x+e.col2.x*t.y,e.col1.y*t.x+e.col2.y*t.y)).x+=this.m_xf.position.x,t.y+=this.m_xf.position.y,new G(this.m_linearVelocity.x-this.m_angularVelocity*(t.y-this.m_sweep.c.y),this.m_linearVelocity.y+this.m_angularVelocity*(t.x-this.m_sweep.c.x))},getLinearDamping:function(){return this.m_linearDamping},setLinearDamping:function(t){this.m_linearDamping=t},getAngularDamping:function(){return this.m_angularDamping},setAngularDamping:function(t){this.m_angularDamping=t},setType:function(t){if(this.m_type!=t)for(this.m_type=t,this.resetMassData(),this.m_type==Mt.b2_staticBody&&((t=this.m_linearVelocity).x=0,this.m_angularVelocity=t.y=0),this.setAwake(!0),(t=this.m_force).x=0,this.m_torque=t.y=0,t=this.m_contactList;null!=t;)t.contact.flagForFiltering(),t=t.next},getType:function(){return this.m_type},setBullet:function(t){this.m_flags=t?this.m_flags|Mt.e_bulletFlag:this.m_flags&~Mt.e_bulletFlag},isBullet:function(){return(this.m_flags&Mt.e_bulletFlag)==Mt.e_bulletFlag},setSleepingAllowed:function(t){t?this.m_flags|=Mt.e_allowSleepFlag:(this.m_flags&=~Mt.e_allowSleepFlag,this.setAwake(!0))},setAwake:function(t){t?(this.m_flags|=Mt.e_awakeFlag,this.m_sleepTime=0):(this.m_flags&=~Mt.e_awakeFlag,this.m_sleepTime=0,(t=this.m_linearVelocity).x=0,this.m_angularVelocity=t.y=0,(t=this.m_force).x=0,this.m_torque=t.y=0)},isAwake:function(){return(this.m_flags&Mt.e_awakeFlag)==Mt.e_awakeFlag},setFixedRotation:function(t){this.m_flags=t?this.m_flags|Mt.e_fixedRotationFlag:this.m_flags&~Mt.e_fixedRotationFlag,this.resetMassData()},isFixedRotation:function(){return(this.m_flags&Mt.e_fixedRotationFlag)==Mt.e_fixedRotationFlag},setActive:function(t){var e;if(t!=this.isActive())if(t)for(this.m_flags|=Mt.e_activeFlag,t=this.m_world.m_contactManager.m_broadPhase,e=this.m_fixtureList;null!=e;)e.createProxy(t,this.m_xf),e=e.m_next;else{for(this.m_flags&=~Mt.e_activeFlag,t=this.m_world.m_contactManager.m_broadPhase,e=this.m_fixtureList;null!=e;)e.destroyProxy(t),e=e.m_next;for(t=this.m_contactList;null!=t;)e=t,t=t.next,this.m_world.m_contactManager.destroy(e.contact);this.m_contactList=null}},isActive:function(){return(this.m_flags&Mt.e_activeFlag)==Mt.e_activeFlag},isSleepingAllowed:function(){return(this.m_flags&Mt.e_allowSleepFlag)==Mt.e_allowSleepFlag},getFixtureList:function(){return this.m_fixtureList},getJointList:function(){return this.m_jointList},getControllerList:function(){return this.m_controllerList},getContactList:function(){return this.m_contactList},getNext:function(){return this.m_next},getUserData:function(){return this.m_userData},setUserData:function(t){this.m_userData=t},getWorld:function(){return this.m_world},setFriction:function(t){for(var e=this.m_fixtureList;null!=e;)e.m_friction=t,e=e.m_next},setBounciness:function(t){for(var e=this.m_fixtureList;null!=e;)e.m_restitution=t,e=e.m_next},setPaused:function(t){this.m_flags=t?this.m_flags|Mt.e_pausedFlag:this.m_flags&~Mt.e_pausedFlag},isPaused:function(){return(this.m_flags&Mt.e_pausedFlag)==Mt.e_pausedFlag},setIgnoreGravity:function(t){this.m_flags=t?this.m_flags|Mt.e_ignoreGravityFlag:this.m_flags&~Mt.e_ignoreGravityFlag},isIgnoringGravity:function(){return(this.m_flags&Mt.e_ignoreGravityFlag)==Mt.e_ignoreGravityFlag},setAlwaysActive:function(t){this.m_flags=t?this.m_flags|Mt.e_alwaysActiveFlag:this.m_flags&~Mt.e_alwaysActiveFlag},isAlwaysActive:function(){return(this.m_flags&Mt.e_alwaysActiveFlag)==Mt.e_alwaysActiveFlag},synchronizeFixtures:function(){var t=Mt.s_xf1;t.R.set(this.m_sweep.a0);var e=t.R,i=this.m_sweep.localCenter;for(t.position.x=this.m_sweep.c0.x-(e.col1.x*i.x+e.col2.x*i.y),t.position.y=this.m_sweep.c0.y-(e.col1.y*i.x+e.col2.y*i.y),e=this.m_world.m_contactManager.m_broadPhase,i=this.m_fixtureList;null!=i;)i.synchronize(e,t,this.m_xf),i=i.m_next},synchronizeTransform:function(){this.m_xf.R.set(this.m_sweep.a);var t=this.m_xf.R,e=this.m_sweep.localCenter;this.m_xf.position.x=this.m_sweep.c.x-(t.col1.x*e.x+t.col2.x*e.y),this.m_xf.position.y=this.m_sweep.c.y-(t.col1.y*e.x+t.col2.y*e.y)},shouldCollide:function(t){if(this.m_type!=Mt.b2_dynamicBody&&t.m_type!=Mt.b2_dynamicBody)return!1;for(var e=this.m_jointList;null!=e;){if(e.other==t&&0==e.joint.m_collideConnected)return!1;e=e.next}return!0},advance:function(t){this.m_sweep.advance(t),t=this.m_sweep.c;var e=this.m_sweep.c0;t.x=e.x,t.y=e.y,this.m_sweep.a=this.m_sweep.a0,this.synchronizeTransform()},m_flags:null,m_type:null,m_islandIndex:null,m_xf:null,m_sweep:null,m_linearVelocity:null,m_angularVelocity:null,m_force:null,m_torque:null,m_world:null,m_prev:null,m_next:null,m_fixtureList:null,m_fixtureCount:null,m_controllerList:null,m_controllerCount:null,m_jointList:null,m_contactList:null,m_mass:null,m_invMass:null,m_I:null,m_invI:null,m_inertiaScale:null,m_linearDamping:null,m_angularDamping:null,m_sleepTime:null,m_userData:null,groupID:null,origin:null,size:null,__class__:Mt};var Pt=function(){this.position=new G,this.linearVelocity=new G,this.userData=null,this.angularDamping=this.linearDamping=this.angularVelocity=this.angle=0,this.awake=this.allowSleep=!0,this.bullet=this.fixedRotation=!1,this.type=Mt.b2_staticBody,this.active=!0,this.inertiaScale=1,this.groupID=3};r["box2D.dynamics.B2BodyDef"]=Pt,Pt.__name__="box2D.dynamics.B2BodyDef",Pt.prototype={type:null,position:null,angle:null,linearVelocity:null,angularVelocity:null,linearDamping:null,angularDamping:null,allowSleep:null,awake:null,fixedRotation:null,bullet:null,active:null,userData:null,inertiaScale:null,groupID:null,ignoreGravity:null,friction:null,bounciness:null,mass:null,aMass:null,__class__:Pt};var Ct=function(){};r["box2D.dynamics.B2ContactFilter"]=Ct,Ct.__name__="box2D.dynamics.B2ContactFilter",Ct.prototype={shouldCollide:function(t,e){var i=t.m_body.groupID,s=e.m_body.groupID;return-1e3!=(t=t.groupID)&&(i=t),-1e3!=(e=e.groupID)&&(s=e),-1!=i&&-1!=s&&(-2==i||-2==s?1!=i&&1!=s:yn.collisionMap[i][s])},rayCollide:function(t,e){return null==t||this.shouldCollide(vo.__cast(t,Lt),e)},__class__:Ct};var It=function(){this.normalImpulses=[],this.tangentImpulses=[]};r["box2D.dynamics.B2ContactImpulse"]=It,It.__name__="box2D.dynamics.B2ContactImpulse",It.prototype={normalImpulses:null,tangentImpulses:null,__class__:It};var Et=function(){};r["box2D.dynamics.B2ContactListener"]=Et,Et.__name__="box2D.dynamics.B2ContactListener",Et.prototype={beginContact:function(t){2147483647<Et.KEY_LOCK&&(Et.KEY_LOCK=-2147483648),t.key=Et.KEY_LOCK++;var e=t.getFixtureA().getUserData(),i=t.getFixtureB().getUserData(),s=e instanceof wn,n=i instanceof wn;!s||n||i instanceof Tn?!n||s||e instanceof Tn?(null!=e.contacts&&(e.contacts.set(t.key,t),e.contactCount++),null!=i.contacts&&(i.contacts.set(t.key,t),i.contactCount++)):(vo.__cast(i,wn).addActor(e),null!=e.regionContacts&&e.regionContacts.set(t.key,t)):(vo.__cast(e,wn).addActor(i),null!=i.regionContacts&&i.regionContacts.set(t.key,t))},endContact:function(t){var e=t.getFixtureA().getUserData(),i=t.getFixtureB().getUserData(),s=e instanceof wn,n=i instanceof wn;if(s&&!n){for(s=!1,null!=i.regionContacts&&i.regionContacts.unset(t.key),t=i.regionContacts.iterator();t.hasNext();){if((n=t.next()).getFixtureA().getUserData()instanceof wn&&n.getFixtureA().getUserData()==e){s=!0;break}if(n.getFixtureB().getUserData()instanceof wn&&n.getFixtureB().getUserData()==e){s=!0;break}}s&&!i.recycled||vo.__cast(e,wn).removeActor(i)}else if(n&&!s){for(s=!1,null!=e.regionContacts&&e.regionContacts.unset(t.key),t=e.regionContacts.iterator();t.hasNext();){if((n=t.next()).getFixtureA().getUserData()instanceof wn&&n.getFixtureA().getUserData()==i){s=!0;break}if(n.getFixtureB().getUserData()instanceof wn&&n.getFixtureB().getUserData()==i){s=!0;break}}s&&!e.recycled||vo.__cast(i,wn).removeActor(e)}else{if(null!=e.collisions){s=e.collisions,n=t.key;var r=s.mH,a=r.mHash[73856093*n&r.mMask];if(-1==a)n=-2147483648;else if((r=r.mData)[a]==n)n=r[a+1];else{var o=-2147483648;for(a=r[a+2];-1!=a;){if(r[a]==n){o=r[a+1];break}a=r[a+2]}n=o}if(null!=(r=-2147483648==n?null:s.mVals[n]))for(e.collisions.unset(t.key),e.collisionsCount--;0<r.points.length;)En.free(r.points.pop())}if(null!=e.contacts&&e.contacts.unset(t.key)&&e.contactCount--,null!=i.collisions){if(s=i.collisions,n=t.key,-1==(a=(r=s.mH).mHash[73856093*n&r.mMask]))n=-2147483648;else if((r=r.mData)[a]==n)n=r[a+1];else{for(o=-2147483648,a=r[a+2];-1!=a;){if(r[a]==n){o=r[a+1];break}a=r[a+2]}n=o}if(null!=(r=-2147483648==n?null:s.mVals[n]))for(i.collisions.unset(t.key),i.collisionsCount--;0<r.points.length;)En.free(r.points.pop())}null!=i.contacts&&i.contacts.unset(t.key)&&i.contactCount--}},preSolve:function(t,e){In.preSolve(t,e)},postSolve:function(t,e){},__class__:Et};var kt=function(){this.m_world=null,this.m_contactCount=0,this.m_contactFilter=Ct.b2_defaultFilter,this.m_contactListener=Et.b2_defaultListener,this.m_contactFactory=new Jt(this.m_allocator),this.m_broadPhase=new et};r["box2D.dynamics.B2ContactManager"]=kt,kt.__name__="box2D.dynamics.B2ContactManager",kt.prototype={addPair:function(t,e){var i=t.getBody(),s=e.getBody();if(i!=s){for(var n=s.getContactList();null!=n;){if(n.other==i){var r=n.contact.getFixtureA(),a=n.contact.getFixtureB();if(r==t&&a==e||r==e&&a==t)return}n=n.next}0!=s.shouldCollide(i)&&0!=this.m_contactFilter.shouldCollide(t,e)&&(t=(n=this.m_contactFactory.create(t,e)).getFixtureA(),e=n.getFixtureB(),i=t.m_body,s=e.m_body,n.m_prev=null,n.m_next=this.m_world.m_contactList,null!=this.m_world.m_contactList&&(this.m_world.m_contactList.m_prev=n),this.m_world.m_contactList=n,n.m_nodeA.contact=n,n.m_nodeA.other=s,n.m_nodeA.prev=null,n.m_nodeA.next=i.m_contactList,null!=i.m_contactList&&(i.m_contactList.prev=n.m_nodeA),i.m_contactList=n.m_nodeA,n.m_nodeB.contact=n,n.m_nodeB.other=i,n.m_nodeB.prev=null,n.m_nodeB.next=s.m_contactList,null!=s.m_contactList&&(s.m_contactList.prev=n.m_nodeB),s.m_contactList=n.m_nodeB,++this.m_world.m_contactCount)}},findNewContacts:function(){this.m_broadPhase.updatePairs(this)},destroy:function(t){var e=t.getFixtureA(),i=t.getFixtureB();e=e.getBody(),i=i.getBody(),t.isTouching()&&this.m_contactListener.endContact(t),null!=t.m_prev&&(t.m_prev.m_next=t.m_next),null!=t.m_next&&(t.m_next.m_prev=t.m_prev),t==this.m_world.m_contactList&&(this.m_world.m_contactList=t.m_next),null!=t.m_nodeA.prev&&(t.m_nodeA.prev.next=t.m_nodeA.next),null!=t.m_nodeA.next&&(t.m_nodeA.next.prev=t.m_nodeA.prev),t.m_nodeA==e.m_contactList&&(e.m_contactList=t.m_nodeA.next),null!=t.m_nodeB.prev&&(t.m_nodeB.prev.next=t.m_nodeB.next),null!=t.m_nodeB.next&&(t.m_nodeB.next.prev=t.m_nodeB.prev),t.m_nodeB==i.m_contactList&&(i.m_contactList=t.m_nodeB.next),this.m_contactFactory.destroy(t),--this.m_contactCount},collide:function(){for(var t=this.m_world.m_contactList;null!=t;){var e=t.getFixtureA(),i=t.getFixtureB(),s=e.getBody(),n=i.getBody();if(0==s.isAwake()&&0==n.isAwake())t=t.getNext();else{if(0!=(t.m_flags&Wt.e_filterFlag)){if(0==n.shouldCollide(s)){t=(e=t).getNext(),this.destroy(e);continue}if(0==this.m_contactFilter.shouldCollide(e,i)){t=(e=t).getNext(),this.destroy(e);continue}t.m_flags&=~Wt.e_filterFlag}0==this.m_broadPhase.testOverlap(e.m_proxy,i.m_proxy)?(t=(e=t).getNext(),this.destroy(e)):(t.update(this.m_contactListener),t=t.getNext())}}},m_world:null,m_broadPhase:null,m_contactList:null,m_contactCount:null,m_contactFilter:null,m_contactListener:null,m_contactFactory:null,m_allocator:null,__class__:kt};var Ft=function(){this.m_xformScale=this.m_fillAlpha=this.m_alpha=this.m_lineThickness=this.m_drawScale=1,this.m_drawFlags=0};r["box2D.dynamics.B2DebugDraw"]=Ft,Ft.__name__="box2D.dynamics.B2DebugDraw",Ft.prototype={setFlags:function(t){this.m_drawFlags=t},getFlags:function(){return this.m_drawFlags},appendFlags:function(t){this.m_drawFlags|=t},clearFlags:function(t){this.m_drawFlags&=~t},setSprite:function(t){this.m_sprite=t},getSprite:function(){return this.m_sprite},setDrawScale:function(t){this.m_drawScale=t},getDrawScale:function(){return this.m_drawScale},setLineThickness:function(t){this.m_lineThickness=t},getLineThickness:function(){return this.m_lineThickness},setAlpha:function(t){this.m_alpha=t},getAlpha:function(){return this.m_alpha},setFillAlpha:function(t){this.m_fillAlpha=t},getFillAlpha:function(){return this.m_fillAlpha},setXFormScale:function(t){this.m_xformScale=t},getXFormScale:function(){return this.m_xformScale},drawPolygon:function(t,e,i){for(this.m_sprite.get_graphics().lineStyle(this.m_lineThickness,i.get_color(),this.m_alpha),this.m_sprite.get_graphics().moveTo(t[0].x*this.m_drawScale,t[0].y*this.m_drawScale),i=0;i<e;){var s=i++;this.m_sprite.get_graphics().lineTo(t[s].x*this.m_drawScale,t[s].y*this.m_drawScale)}this.m_sprite.get_graphics().lineTo(t[0].x*this.m_drawScale,t[0].y*this.m_drawScale)},drawSolidPolygon:function(t,e,i){for(this.m_sprite.get_graphics().lineStyle(this.m_lineThickness,i.get_color(),this.m_alpha),this.m_sprite.get_graphics().moveTo(t[0].x*this.m_drawScale,t[0].y*this.m_drawScale),this.m_sprite.get_graphics().beginFill(i.get_color(),this.m_fillAlpha),i=0;i<e;){var s=i++;this.m_sprite.get_graphics().lineTo(t[s].x*this.m_drawScale,t[s].y*this.m_drawScale)}this.m_sprite.get_graphics().lineTo(t[0].x*this.m_drawScale,t[0].y*this.m_drawScale),this.m_sprite.get_graphics().endFill()},drawCircle:function(t,e,i){this.m_sprite.get_graphics().lineStyle(this.m_lineThickness,i.get_color(),this.m_alpha),this.m_sprite.get_graphics().drawCircle(t.x*this.m_drawScale,t.y*this.m_drawScale,e*this.m_drawScale)},drawSolidCircle:function(t,e,i,s){this.m_sprite.get_graphics().lineStyle(this.m_lineThickness,s.get_color(),this.m_alpha),this.m_sprite.get_graphics().moveTo(0,0),this.m_sprite.get_graphics().beginFill(s.get_color(),this.m_fillAlpha),this.m_sprite.get_graphics().drawCircle(t.x*this.m_drawScale,t.y*this.m_drawScale,e*this.m_drawScale),this.m_sprite.get_graphics().endFill(),this.m_sprite.get_graphics().moveTo(t.x*this.m_drawScale,t.y*this.m_drawScale),this.m_sprite.get_graphics().lineTo((t.x+i.x*e)*this.m_drawScale,(t.y+i.y*e)*this.m_drawScale)},drawSegment:function(t,e,i){this.m_sprite.get_graphics().lineStyle(this.m_lineThickness,i.get_color(),this.m_alpha),this.m_sprite.get_graphics().moveTo(t.x*this.m_drawScale,t.y*this.m_drawScale),this.m_sprite.get_graphics().lineTo(e.x*this.m_drawScale,e.y*this.m_drawScale)},drawTransform:function(t){this.m_sprite.get_graphics().lineStyle(this.m_lineThickness,16711680,this.m_alpha),this.m_sprite.get_graphics().moveTo(t.position.x*this.m_drawScale,t.position.y*this.m_drawScale),this.m_sprite.get_graphics().lineTo((t.position.x+this.m_xformScale*t.R.col1.x)*this.m_drawScale,(t.position.y+this.m_xformScale*t.R.col1.y)*this.m_drawScale),this.m_sprite.get_graphics().lineStyle(this.m_lineThickness,65280,this.m_alpha),this.m_sprite.get_graphics().moveTo(t.position.x*this.m_drawScale,t.position.y*this.m_drawScale),this.m_sprite.get_graphics().lineTo((t.position.x+this.m_xformScale*t.R.col2.x)*this.m_drawScale,(t.position.y+this.m_xformScale*t.R.col2.y)*this.m_drawScale)},m_drawFlags:null,m_sprite:null,m_drawScale:null,m_lineThickness:null,m_alpha:null,m_fillAlpha:null,m_xformScale:null,__class__:Ft};var Bt=function(){};r["box2D.dynamics.B2DestructionListener"]=Bt,Bt.__name__="box2D.dynamics.B2DestructionListener",Bt.prototype={sayGoodbyeJoint:function(t){},sayGoodbyeFixture:function(t){},__class__:Bt};var Dt=function(){this.categoryBits=1,this.maskBits=65535,this.groupIndex=0};r["box2D.dynamics.B2FilterData"]=Dt,Dt.__name__="box2D.dynamics.B2FilterData",Dt.prototype={copy:function(){var t=new Dt;return t.categoryBits=this.categoryBits,t.maskBits=this.maskBits,t.groupIndex=this.groupIndex,t},categoryBits:null,maskBits:null,groupIndex:null,__class__:Dt};var Lt=function(){this.m_filter=new Dt,this.m_aabb=new V,this.m_shape=this.m_next=this.m_body=this.m_userData=null,this.m_restitution=this.m_friction=this.m_density=0,this.groupID=3};r["box2D.dynamics.B2Fixture"]=Lt,Lt.__name__="box2D.dynamics.B2Fixture",Lt.prototype={getType:function(){return this.m_shape.getType()},getShape:function(){return this.m_shape},setSensor:function(t){if(this.m_isSensor!=t&&(this.m_isSensor=t,null!=this.m_body))for(t=this.m_body.getContactList();null!=t;){var e=t.contact,i=e.getFixtureA(),s=e.getFixtureB();i!=this&&s!=this||e.setSensor(i.isSensor()||s.isSensor()),t=t.next}},isSensor:function(){return this.m_isSensor},setFilterData:function(t){if(this.m_filter=t.copy(),null==this.m_body)for(t=this.m_body.getContactList();null!=t;){var e=t.contact,i=e.getFixtureA(),s=e.getFixtureB();i!=this&&s!=this||e.flagForFiltering(),t=t.next}},getFilterData:function(){return this.m_filter.copy()},getBody:function(){return this.m_body},getNext:function(){return this.m_next},getUserData:function(){return this.m_userData},SetUserData:function(t){this.m_userData=t},testPoint:function(t){return this.m_shape.testPoint(this.m_body.getTransform(),t)},rayCast:function(t,e){return this.m_shape.rayCast(t,e,this.m_body.getTransform())},getMassData:function(t){return null==t&&(t=new bt),this.m_shape.computeMass(t,this.m_density),t},setDensity:function(t){this.m_density=t},getDensity:function(){return this.m_density},getFriction:function(){return this.m_friction},setFriction:function(t){this.m_friction=t},getRestitution:function(){return this.m_restitution},setRestitution:function(t){this.m_restitution=t},getAABB:function(){return this.m_aabb},create:function(t,e,i){this.m_userData=i.userData,this.m_friction=i.friction,this.m_restitution=i.restitution,this.m_body=t,this.m_next=null,this.m_filter=i.filter.copy(),this.m_isSensor=i.isSensor,this.m_shape=i.shape.copy(),this.m_density=i.density,this.groupID=i.groupID},destroy:function(){this.m_shape=null},createProxy:function(t,e){this.m_shape.computeAABB(this.m_aabb,e),this.m_proxy=t.createProxy(this.m_aabb,this)},destroyProxy:function(t){null!=this.m_proxy&&(t.destroyProxy(this.m_proxy),this.m_proxy=null)},synchronize:function(t,e,i){null!=this.m_proxy&&(this.m_shape.computeAABB(Lt.tempAABB1,e),this.m_shape.computeAABB(Lt.tempAABB2,i),this.m_aabb.combine(Lt.tempAABB1,Lt.tempAABB2),e=Rt.subtractVVPooled(i.position,e.position),t.moveProxy(this.m_proxy,this.m_aabb,e))},m_massData:null,m_aabb:null,m_density:null,m_next:null,m_body:null,m_shape:null,m_friction:null,m_restitution:null,m_proxy:null,m_filter:null,m_isSensor:null,m_userData:null,groupID:null,__class__:Lt};var Nt=function(){this.filter=new Dt,this.userData=this.shape=null,this.friction=.2,this.density=this.restitution=0,this.filter.categoryBits=1,this.filter.maskBits=65535,this.filter.groupIndex=0,this.isSensor=!1,this.groupID=3};r["box2D.dynamics.B2FixtureDef"]=Nt,Nt.__name__="box2D.dynamics.B2FixtureDef",Nt.prototype={shape:null,userData:null,friction:null,restitution:null,density:null,isSensor:null,filter:null,groupID:null,__class__:Nt};var Ot=function(){this.m_bodies=[],this.m_contacts=[],this.m_joints=[]};r["box2D.dynamics.B2Island"]=Ot,Ot.__name__="box2D.dynamics.B2Island",Ot.prototype={initialize:function(t,e,i,s,n,r){for(this.m_bodyCapacity=t,this.m_contactCapacity=e,this.m_jointCapacity=i,this.m_jointCount=this.m_contactCount=this.m_bodyCount=0,this.m_allocator=s,this.m_listener=n,this.m_contactSolver=r,s=this.m_bodies.length,n=t;s<n;)t=s++,this.m_bodies[t]=null;for(s=this.m_contacts.length,n=e;s<n;)t=s++,this.m_contacts[t]=null;for(s=this.m_joints.length,n=i;s<n;)t=s++,this.m_joints[t]=null},clear:function(){this.m_jointCount=this.m_contactCount=this.m_bodyCount=0},solve:function(t,e,i){for(var s,n,r=0,a=this.m_bodyCount;r<a;)s=r++,(s=this.m_bodies[s]).getType()==Mt.b2_dynamicBody&&(s.isIgnoringGravity()?(s.m_linearVelocity.x+=t.dt*s.m_invMass*s.m_force.x,s.m_linearVelocity.y+=t.dt*s.m_invMass*s.m_force.y):(s.m_linearVelocity.x+=t.dt*(e.x+s.m_invMass*s.m_force.x),s.m_linearVelocity.y+=t.dt*(e.y+s.m_invMass*s.m_force.y)),s.m_angularVelocity+=t.dt*s.m_invI*s.m_torque,s.m_linearVelocity.multiply(Rt.clamp(1-t.dt*s.m_linearDamping,0,1)),s.m_angularVelocity*=Rt.clamp(1-t.dt*s.m_angularDamping,0,1));for(this.m_contactSolver.initialize(t,this.m_contacts,this.m_contactCount,this.m_allocator),(e=this.m_contactSolver).initVelocityConstraints(t),r=0,a=this.m_jointCount;r<a;)s=r++,(n=this.m_joints[s]).initVelocityConstraints(t);for(r=0,a=t.velocityIterations;r<a;){r++,s=0;for(var o=this.m_jointCount;s<o;)n=s++,(n=this.m_joints[n]).solveVelocityConstraints(t);e.solveVelocityConstraints()}for(r=0,a=this.m_jointCount;r<a;)s=r++,(n=this.m_joints[s]).finalizeVelocityConstraints();for(e.finalizeVelocityConstraints(),r=0,a=this.m_bodyCount;r<a;)if(s=r++,(s=this.m_bodies[s]).getType()!=Mt.b2_staticBody){o=t.dt*s.m_linearVelocity.x;var l=t.dt*s.m_linearVelocity.y;o*o+l*l>wt.b2_maxTranslationSquared&&(s.m_linearVelocity.normalize(),s.m_linearVelocity.x=s.m_linearVelocity.x*wt.b2_maxTranslation*t.inv_dt,s.m_linearVelocity.y=s.m_linearVelocity.y*wt.b2_maxTranslation*t.inv_dt),(o=t.dt*s.m_angularVelocity)*o>wt.b2_maxRotationSquared&&(s.m_angularVelocity=0>s.m_angularVelocity?-wt.b2_maxRotation*t.inv_dt:wt.b2_maxRotation*t.inv_dt),o=s.m_sweep.c0,l=s.m_sweep.c,o.x=l.x,o.y=l.y,s.m_sweep.a0=s.m_sweep.a,s.m_sweep.c.x+=t.dt*s.m_linearVelocity.x,s.m_sweep.c.y+=t.dt*s.m_linearVelocity.y,s.m_sweep.a+=t.dt*s.m_angularVelocity,s.synchronizeTransform()}for(r=0,a=t.positionIterations;r<a;){r++,l=e.solvePositionConstraints(wt.b2_contactBaumgarte);var h=!0;for(s=0,o=this.m_jointCount;s<o;)n=s++,n=(n=this.m_joints[n]).solvePositionConstraints(wt.b2_contactBaumgarte),h=h&&n;if(l&&h)break}if(this.report(e.m_constraints),i){for(i=Number.MAX_VALUE,e=wt.b2_linearSleepTolerance*wt.b2_linearSleepTolerance,o=wt.b2_angularSleepTolerance*wt.b2_angularSleepTolerance,r=0,a=this.m_bodyCount;r<a;)s=r++,(s=this.m_bodies[s]).getType()!=Mt.b2_staticBody&&(0==(s.m_flags&Mt.e_allowSleepFlag)&&(i=s.m_sleepTime=0),0==(s.m_flags&Mt.e_allowSleepFlag)||s.m_angularVelocity*s.m_angularVelocity>o||Rt.dot(s.m_linearVelocity,s.m_linearVelocity)>e?i=s.m_sleepTime=0:(s.m_sleepTime+=t.dt,i=Rt.min(i,s.m_sleepTime)));if(i>=wt.b2_timeToSleep)for(r=0,a=this.m_bodyCount;r<a;)s=r++,(s=this.m_bodies[s]).setAwake(!1)}},solveTOI:function(t){this.m_contactSolver.initialize(t,this.m_contacts,this.m_contactCount,this.m_allocator);for(var e=this.m_contactSolver,i=0,s=this.m_jointCount;i<s;){var n=i++;this.m_joints[n].initVelocityConstraints(t)}for(i=0,s=t.velocityIterations;i<s;){i++,e.solveVelocityConstraints(),n=0;for(var r=this.m_jointCount;n<r;){var a=n++;this.m_joints[a].solveVelocityConstraints(t)}}for(i=0,s=this.m_bodyCount;i<s;)n=i++,(n=this.m_bodies[n]).getType()!=Mt.b2_staticBody&&((r=t.dt*n.m_linearVelocity.x)*r+(a=t.dt*n.m_linearVelocity.y)*a>wt.b2_maxTranslationSquared&&(n.m_linearVelocity.normalize(),n.m_linearVelocity.x=n.m_linearVelocity.x*wt.b2_maxTranslation*t.inv_dt,n.m_linearVelocity.y=n.m_linearVelocity.y*wt.b2_maxTranslation*t.inv_dt),(r=t.dt*n.m_angularVelocity)*r>wt.b2_maxRotationSquared&&(n.m_angularVelocity=0>n.m_angularVelocity?-wt.b2_maxRotation*t.inv_dt:wt.b2_maxRotation*t.inv_dt),r=n.m_sweep.c0,a=n.m_sweep.c,r.x=a.x,r.y=a.y,n.m_sweep.a0=n.m_sweep.a,n.m_sweep.c.x+=t.dt*n.m_linearVelocity.x,n.m_sweep.c.y+=t.dt*n.m_linearVelocity.y,n.m_sweep.a+=t.dt*n.m_angularVelocity,n.synchronizeTransform());for(i=0,s=t.positionIterations;i<s;){i++,t=e.solvePositionConstraints(.75);var o=!0;for(n=0,r=this.m_jointCount;n<r;)a=n++,a=this.m_joints[a].solvePositionConstraints(wt.b2_contactBaumgarte),o=o&&a;if(t&&o)break}this.report(e.m_constraints)},report:function(t){if(null!=this.m_listener)for(var e=0,i=this.m_contactCount;e<i;){for(var s=e++,n=this.m_contacts[s],r=0,a=(s=t[s]).pointCount;r<a;){var o=r++;Ot.s_impulse.normalImpulses[o]=s.points[o].normalImpulse,Ot.s_impulse.tangentImpulses[o]=s.points[o].tangentImpulse}this.m_listener.postSolve(n,Ot.s_impulse)}},addBody:function(t){t.m_islandIndex=this.m_bodyCount,this.m_bodies[this.m_bodyCount++]=t},addContact:function(t){this.m_contacts[this.m_contactCount++]=t},addJoint:function(t){this.m_joints[this.m_jointCount++]=t},m_allocator:null,m_listener:null,m_contactSolver:null,m_bodies:null,m_contacts:null,m_joints:null,m_bodyCount:null,m_jointCount:null,m_contactCount:null,m_bodyCapacity:null,m_contactCapacity:null,m_jointCapacity:null,__class__:Ot};var Vt=function(){};r["box2D.dynamics.B2TimeStep"]=Vt,Vt.__name__="box2D.dynamics.B2TimeStep",Vt.prototype={set:function(t){this.dt=t.dt,this.inv_dt=t.inv_dt,this.positionIterations=t.positionIterations,this.velocityIterations=t.velocityIterations,this.warmStarting=t.warmStarting},dt:null,inv_dt:null,dtRatio:null,velocityIterations:null,positionIterations:null,warmStarting:null,__class__:Vt};var Gt=function(t,e){this.pointQueryCallback=new Ht,this.shapeQueryCallback=new zt,this.aabbQueryCallback=new Ut,this.s_stack=[],this.m_contactManager=new kt,this.m_contactSolver=new qt,this.m_island=new Ot,this.m_controllerList=this.m_jointList=this.m_contactList=this.m_bodyList=this.m_debugDraw=this.m_destructionListener=null,this.m_controllerCount=this.m_jointCount=this.m_contactCount=this.m_bodyCount=0,Gt.m_warmStarting=!0,Gt.m_continuousPhysics=!1,this.m_allowSleep=e,this.m_gravity=t,this.m_flags=this.m_inv_dt0=0,this.m_contactManager.m_world=this,t=new Pt,this.m_groundBody=this.createBody(t)};r["box2D.dynamics.B2World"]=Gt,Gt.__name__="box2D.dynamics.B2World",Gt.prototype={setDestructionListener:function(t){this.m_destructionListener=t},setContactFilter:function(t){this.m_contactManager.m_contactFilter=t},setContactListener:function(t){this.m_contactManager.m_contactListener=t},setDebugDraw:function(t){this.m_debugDraw=t},setBroadPhase:function(t){var e=this.m_contactManager.m_broadPhase;this.m_contactManager.m_broadPhase=t;for(var i=this.m_bodyList;null!=i;){for(var s=i.m_fixtureList;null!=s;)s.m_proxy=t.createProxy(e.getFatAABB(s.m_proxy),s),s=s.m_next;i=i.m_next}},validate:function(){this.m_contactManager.m_broadPhase.validate()},getProxyCount:function(){return this.m_contactManager.m_broadPhase.getProxyCount()},createBody:function(t){return 1==this.isLocked()?null:((t=new Mt(t,this)).m_prev=null,t.m_next=this.m_bodyList,null!=this.m_bodyList&&(this.m_bodyList.m_prev=t),this.m_bodyList=t,++this.m_bodyCount,t)},destroyBody:function(t){if(1!=this.isLocked()){for(var e=t.m_jointList;null!=e;){var i=e;e=e.next,null!=this.m_destructionListener&&this.m_destructionListener.sayGoodbyeJoint(i.joint),this.destroyJoint(i.joint)}for(e=t.m_controllerList;null!=e;)i=e,e=e.nextController,i.controller.removeBody(t);for(e=t.m_contactList;null!=e;)i=e,e=e.next,this.m_contactManager.destroy(i.contact);for(t.m_contactList=null,e=t.m_fixtureList;null!=e;)i=e,e=e.m_next,null!=this.m_destructionListener&&this.m_destructionListener.sayGoodbyeFixture(i),i.destroyProxy(this.m_contactManager.m_broadPhase),i.destroy();t.m_fixtureList=null,t.m_fixtureCount=0,null!=t.m_prev&&(t.m_prev.m_next=t.m_next),null!=t.m_next&&(t.m_next.m_prev=t.m_prev),t==this.m_bodyList&&(this.m_bodyList=t.m_next),--this.m_bodyCount}},createJoint:function(t){var e=_e.create(t,null);e.m_prev=null,e.m_next=this.m_jointList,null!=this.m_jointList&&(this.m_jointList.m_prev=e),this.m_jointList=e,++this.m_jointCount,e.m_edgeA.joint=e,e.m_edgeA.other=e.m_bodyB,e.m_edgeA.prev=null,e.m_edgeA.next=e.m_bodyA.m_jointList,null!=e.m_bodyA.m_jointList&&(e.m_bodyA.m_jointList.prev=e.m_edgeA),e.m_bodyA.m_jointList=e.m_edgeA,e.m_edgeB.joint=e,e.m_edgeB.other=e.m_bodyA,e.m_edgeB.prev=null,e.m_edgeB.next=e.m_bodyB.m_jointList,null!=e.m_bodyB.m_jointList&&(e.m_bodyB.m_jointList.prev=e.m_edgeB),e.m_bodyB.m_jointList=e.m_edgeB;var i=t.bodyA,s=t.bodyB;if(0==t.collideConnected)for(t=s.getContactList();null!=t;)t.other==i&&t.contact.flagForFiltering(),t=t.next;return e},destroyJoint:function(t){var e=t.m_collideConnected;null!=t.m_prev&&(t.m_prev.m_next=t.m_next),null!=t.m_next&&(t.m_next.m_prev=t.m_prev),t==this.m_jointList&&(this.m_jointList=t.m_next);var i=t.m_bodyA,s=t.m_bodyB;if(i.setAwake(!0),s.setAwake(!0),null!=t.m_edgeA.prev&&(t.m_edgeA.prev.next=t.m_edgeA.next),null!=t.m_edgeA.next&&(t.m_edgeA.next.prev=t.m_edgeA.prev),t.m_edgeA==i.m_jointList&&(i.m_jointList=t.m_edgeA.next),t.m_edgeA.prev=null,t.m_edgeA.next=null,null!=t.m_edgeB.prev&&(t.m_edgeB.prev.next=t.m_edgeB.next),null!=t.m_edgeB.next&&(t.m_edgeB.next.prev=t.m_edgeB.prev),t.m_edgeB==s.m_jointList&&(s.m_jointList=t.m_edgeB.next),t.m_edgeB.prev=null,t.m_edgeB.next=null,_e.destroy(t,null),--this.m_jointCount,0==e)for(t=s.getContactList();null!=t;)t.other==i&&t.contact.flagForFiltering(),t=t.next},addController:function(t){return t.m_next=this.m_controllerList,t.m_prev=null,this.m_controllerList=t,t.m_world=this,this.m_controllerCount++,t},removeController:function(t){null!=t.m_prev&&(t.m_prev.m_next=t.m_next),null!=t.m_next&&(t.m_next.m_prev=t.m_prev),this.m_controllerList==t&&(this.m_controllerList=t.m_next),this.m_controllerCount--},createController:function(t){if(t.m_world!=this)throw wa.thrown("Controller can only be a member of one world");return t.m_next=this.m_controllerList,t.m_prev=null,null!=this.m_controllerList&&(this.m_controllerList.m_prev=t),this.m_controllerList=t,++this.m_controllerCount,t.m_world=this,t},destroyController:function(t){t.clear(),null!=t.m_next&&(t.m_next.m_prev=t.m_prev),null!=t.m_prev&&(t.m_prev.m_next=t.m_next),t==this.m_controllerList&&(this.m_controllerList=t.m_next),--this.m_controllerCount},setWarmStarting:function(t){Gt.m_warmStarting=t},setContinuousPhysics:function(t){Gt.m_continuousPhysics=t},getBodyCount:function(){return this.m_bodyCount},getJointCount:function(){return this.m_jointCount},getContactCount:function(){return this.m_contactCount},setGravity:function(t){this.m_gravity=t},getGravity:function(){return this.m_gravity},getGroundBody:function(){return this.m_groundBody},step:function(t,e,i){G.freePool(),0!=(this.m_flags&Gt.e_newFixture)&&(this.m_contactManager.findNewContacts(),this.m_flags&=~Gt.e_newFixture),this.m_flags|=Gt.e_locked;var s=Gt.s_timestep2;s.dt=t,s.velocityIterations=e,s.positionIterations=i,s.inv_dt=0<t?1/t:0,s.dtRatio=this.m_inv_dt0*t,s.warmStarting=Gt.m_warmStarting,this.m_contactManager.collide(),0<s.dt&&this.solve(s),Gt.m_continuousPhysics&&0<s.dt&&this.solveTOI(s),0<s.dt&&(this.m_inv_dt0=s.inv_dt),this.m_flags&=~Gt.e_locked},clearForces:function(){for(var t=this.m_bodyList;null!=t;){var e=t.m_force;e.x=0,e.y=0,t.m_torque=0,t=t.m_next}},drawDebugData:function(){if(null!=this.m_debugDraw){this.m_debugDraw.m_sprite.get_graphics().clear();var t,e,i=this.m_debugDraw.getFlags();new G,new G,new G,new V,new V,new G,new G,new G,new G;var s=new xt(0,0,0);if(0!=(i&Ft.e_shapeBit))for(t=this.m_bodyList;null!=t;){var n=t.m_xf;for(e=t.getFixtureList();null!=e;){var r=e.getShape();0==t.isActive()?s.set(.5,.5,.3):t.getType()==Mt.b2_staticBody?s.set(.5,.9,.5):t.getType()==Mt.b2_kinematicBody?s.set(.5,.5,.9):0==t.isAwake()?s.set(.6,.6,.6):s.set(.9,.7,.7),this.drawShape(r,n,s),e=e.m_next}t=t.m_next}if(0!=(i&Ft.e_jointBit))for(t=this.m_jointList;null!=t;)this.drawJoint(t),t=t.m_next;if(0!=(i&Ft.e_controllerBit))for(t=this.m_controllerList;null!=t;)t.draw(this.m_debugDraw),t=t.m_next;if(0!=(i&Ft.e_pairBit))for(s.set(.3,.9,.9),t=this.m_contactManager.m_contactList;null!=t;)r=t.getFixtureA(),e=t.getFixtureB(),r=r.getAABB().getCenter(),e=e.getAABB().getCenter(),this.m_debugDraw.drawSegment(r,e,s),t=t.getNext();if(0!=(i&Ft.e_aabbBit))for(r=this.m_contactManager.m_broadPhase,n=[new G,new G,new G,new G],t=this.m_bodyList;null!=t;){if(0!=t.isActive())for(e=t.getFixtureList();null!=e;){var a=r.getFatAABB(e.m_proxy),o=n[0],l=a.lowerBound.x,h=a.lowerBound.y;null==h&&(h=0),null==l&&(l=0),o.x=l,o.y=h,o=n[1],l=a.upperBound.x,null==(h=a.lowerBound.y)&&(h=0),null==l&&(l=0),o.x=l,o.y=h,o=n[2],l=a.upperBound.x,null==(h=a.upperBound.y)&&(h=0),null==l&&(l=0),o.x=l,o.y=h,o=n[3],l=a.lowerBound.x,null==(a=a.upperBound.y)&&(a=0),null==l&&(l=0),o.x=l,o.y=a,this.m_debugDraw.drawPolygon(n,4,s),e=e.getNext()}t=t.getNext()}if(0!=(i&Ft.e_centerOfMassBit))for(t=this.m_bodyList;null!=t;)(n=Gt.s_xf).R=t.m_xf.R,n.position=t.getWorldCenter(),this.m_debugDraw.drawTransform(n),t=t.m_next}},queryAABB:function(t,e){this.aabbQueryCallback.broadPhase=this.m_contactManager.m_broadPhase,this.aabbQueryCallback.callbackMethod=t,this.m_contactManager.m_broadPhase.query(this.aabbQueryCallback,e)},queryShape:function(t,e,i){this.shapeQueryCallback.broadPhase=this.m_contactManager.m_broadPhase,this.shapeQueryCallback.callbackMethod=t,null==i&&(i=new ut).setIdentity(),this.shapeQueryCallback.transform=i,t=new V,e.computeAABB(t,i),this.shapeQueryCallback.shape=e,this.m_contactManager.m_broadPhase.query(this.shapeQueryCallback,t)},queryPoint:function(t,e){this.pointQueryCallback.broadPhase=this.m_contactManager.m_broadPhase,this.pointQueryCallback.callbackMethod=t,this.pointQueryCallback.p=e;var i=(t=new V).lowerBound,s=e.x-wt.b2_linearSlop,n=e.y-wt.b2_linearSlop;null==n&&(n=0),null==s&&(s=0),i.x=s,i.y=n,i=t.upperBound,s=e.x+wt.b2_linearSlop,null==(n=e.y+wt.b2_linearSlop)&&(n=0),null==s&&(s=0),i.x=s,i.y=n,this.m_contactManager.m_broadPhase.query(this.pointQueryCallback,t)},rayCast:function(t,e,i){var s=this.m_contactManager.m_broadPhase,n=new lt,r=new ot(e,i);s.rayCast(function(r,a){if(a=s.getUserData(a),(a=vo.__cast(a,Lt)).rayCast(n,r)){r=n.fraction;var o=new G((1-r)*e.x+r*i.x,(1-r)*e.y+r*i.y);return t(a,o,n.normal,r)}return r.maxFraction},r)},rayCastOne:function(t,e){var i;return this.rayCast(function(t,e,s,n){return i=t,n},t,e),i},rayCastAll:function(t,e){var i=[];return this.rayCast(function(t,e,s,n){return i[i.length]=t,1},t,e),i},getBodyList:function(){return this.m_bodyList},getJointList:function(){return this.m_jointList},getContactList:function(){return this.m_contactList},isLocked:function(){return 0<(this.m_flags&Gt.e_locked)},s_stack:null,solve:function(t){for(var e=this.m_controllerList;null!=e;)e.step(t),e=e.m_next;(e=this.m_island).initialize(this.m_bodyCount,this.m_contactCount,this.m_jointCount,null,this.m_contactManager.m_contactListener,this.m_contactSolver);for(var i=this.m_bodyList;null!=i;)i.m_flags&=~Mt.e_islandFlag,i=i.m_next;for(var s=this.m_contactList;null!=s;)s.m_flags&=~Wt.e_islandFlag,s=s.m_next;for(s=this.m_jointList;null!=s;)s.m_islandFlag=!1,s=s.m_next;s=this.s_stack;for(var n=this.m_bodyList;null!=n;){if(0==(n.m_flags&Mt.e_islandFlag)&&(!n.isActive()&&!n.isAlwaysActive()&&n.m_xf.position.x+n.origin.x+n.size.x>=this.m_aabb.lowerBound.x&&n.m_xf.position.y+n.origin.y+n.size.y>=this.m_aabb.lowerBound.y&&n.m_xf.position.x+n.origin.x<=this.m_aabb.upperBound.x&&n.m_xf.position.y+n.origin.y<=this.m_aabb.upperBound.y&&(n.setActive(!0),n.setAwake(!0)),0!=n.isAwake()&&0!=n.isActive()&&!n.isPaused()&&n.getType()!=Mt.b2_staticBody))if(n.isActive()&&!n.isAlwaysActive()&&(n.m_xf.position.x+n.origin.x+n.size.x<this.m_aabb.lowerBound.x||n.m_xf.position.y+n.origin.y+n.size.y<this.m_aabb.lowerBound.y||n.m_xf.position.x+n.origin.x>this.m_aabb.upperBound.x||n.m_xf.position.y+n.origin.y>this.m_aabb.upperBound.y))n.setAwake(!1),n.setActive(!1);else{e.clear();var r=0;for(s[r++]=n,n.m_flags|=Mt.e_islandFlag;0<r;)if(i=s[--r],e.addBody(i),0==i.isAwake()&&i.setAwake(!0),i.getType()!=Mt.b2_staticBody){for(var a,o=i.m_contactList;null!=o;)0==(o.contact.m_flags&Wt.e_islandFlag)&&1!=o.contact.isSensor()&&0!=o.contact.isEnabled()&&0!=o.contact.isTouching()&&(e.addContact(o.contact),o.contact.m_flags|=Wt.e_islandFlag,0==((a=o.other).m_flags&Mt.e_islandFlag)&&(s[r++]=a,a.m_flags|=Mt.e_islandFlag)),o=o.next;for(i=i.m_jointList;null!=i;)1!=i.joint.m_islandFlag&&0!=(a=i.other).isActive()&&(e.addJoint(i.joint),i.joint.m_islandFlag=!0,0==(a.m_flags&Mt.e_islandFlag)&&(s[r++]=a,a.m_flags|=Mt.e_islandFlag)),i=i.next}for(e.solve(t,this.m_gravity,this.m_allowSleep),r=0,a=e.m_bodyCount;r<a;)i=r++,(i=e.m_bodies[i]).getType()==Mt.b2_staticBody&&(i.m_flags&=~Mt.e_islandFlag)}n=n.m_next}for(r=0,a=s.length;r<a&&null!=s[i=r++];)s[i]=null;for(i=this.m_bodyList;null!=i;)0!=i.isAwake()&&0!=i.isActive()&&i.getType()!=Mt.b2_staticBody&&i.synchronizeFixtures(),i=i.m_next;this.m_contactManager.findNewContacts()},solveTOI:function(t){var e,i=this.m_island;i.initialize(this.m_bodyCount,wt.b2_maxTOIContactsPerIsland,wt.b2_maxTOIJointsPerIsland,null,this.m_contactManager.m_contactListener,this.m_contactSolver);for(var s=Gt.s_queue,n=this.m_bodyList;null!=n;)n.m_flags&=~Mt.e_islandFlag,n.m_sweep.t0=0,n=n.m_next;for(e=this.m_contactList;null!=e;)e.m_flags&=~(Wt.e_toiFlag|Wt.e_islandFlag),e=e.m_next;for(n=this.m_jointList;null!=n;)n.m_islandFlag=!1,n=n.m_next;for(;;){n=null;var r=1;for(e=this.m_contactList;null!=e;){if(1!=e.isSensor()&&0!=e.isEnabled()&&0!=e.isContinuous()){if(0!=(e.m_flags&Wt.e_toiFlag))var a=e.m_toi;else{a=e.m_fixtureA;var o=e.m_fixtureB;if(a=a.m_body,o=o.m_body,!(a.getType()==Mt.b2_dynamicBody&&0!=a.isAwake()||o.getType()==Mt.b2_dynamicBody&&0!=o.isAwake())){e=e.m_next;continue}var l=a.m_sweep.t0;a.m_sweep.t0<o.m_sweep.t0?(l=o.m_sweep.t0,a.m_sweep.advance(l)):o.m_sweep.t0<a.m_sweep.t0&&(l=a.m_sweep.t0,o.m_sweep.advance(l)),a=e.computeTOI(a.m_sweep,o.m_sweep),wt.b2Assert(0<=a&&1>=a),0<a&&1>a&&1<(a=(1-a)*l+a)&&(a=1),e.m_toi=a,e.m_flags|=Wt.e_toiFlag}Number.MIN_VALUE<a&&a<r&&(n=e,r=a)}e=e.m_next}if(null==n||1-100*Number.MIN_VALUE<r)break;if(a=n.m_fixtureA,o=n.m_fixtureB,a=a.m_body,o=o.m_body,Gt.s_backupA.set(a.m_sweep),Gt.s_backupB.set(o.m_sweep),a.advance(r),o.advance(r),n.update(this.m_contactManager.m_contactListener),n.m_flags&=~Wt.e_toiFlag,1==n.isSensor()||0==n.isEnabled())a.m_sweep.set(Gt.s_backupA),o.m_sweep.set(Gt.s_backupB),a.synchronizeTransform(),o.synchronizeTransform();else if(0!=n.isTouching()){for((e=a).getType()!=Mt.b2_dynamicBody&&(e=o),i.clear(),o=a=0,s[a+o++]=e,e.m_flags|=Mt.e_islandFlag;0<o;)if(n=s[a++],--o,i.addBody(n),0==n.isAwake()&&n.setAwake(!0),n.getType()==Mt.b2_dynamicBody){for(e=n.m_contactList;null!=e&&i.m_contactCount!=i.m_contactCapacity;)0==(e.contact.m_flags&Wt.e_islandFlag)&&1!=e.contact.isSensor()&&0!=e.contact.isEnabled()&&0!=e.contact.isTouching()&&(i.addContact(e.contact),e.contact.m_flags|=Wt.e_islandFlag,0==((l=e.other).m_flags&Mt.e_islandFlag)&&(l.getType()!=Mt.b2_staticBody&&(l.advance(r),l.setAwake(!0)),s[a+o]=l,++o,l.m_flags|=Mt.e_islandFlag)),e=e.next;for(e=n.m_jointList;null!=e;)i.m_jointCount!=i.m_jointCapacity&&1!=e.joint.m_islandFlag&&0!=(l=e.other).isActive()&&(i.addJoint(e.joint),e.joint.m_islandFlag=!0,0==(l.m_flags&Mt.e_islandFlag)&&(l.getType()!=Mt.b2_staticBody&&(l.advance(r),l.setAwake(!0)),s[a+o]=l,++o,l.m_flags|=Mt.e_islandFlag)),e=e.next}for((e=Gt.s_timestep).warmStarting=!1,e.dt=(1-r)*t.dt,e.inv_dt=1/e.dt,e.dtRatio=0,e.velocityIterations=t.velocityIterations,e.positionIterations=t.positionIterations,i.solveTOI(e),r=0,a=i.m_bodyCount;r<a;)if(e=r++,(n=i.m_bodies[e]).m_flags&=~Mt.e_islandFlag,0!=n.isAwake()&&n.getType()==Mt.b2_dynamicBody)for(n.synchronizeFixtures(),e=n.m_contactList;null!=e;)e.contact.m_flags&=~Wt.e_toiFlag,e=e.next;for(r=0,n=i.m_contactCount;r<n;)e=r++,(e=i.m_contacts[e]).m_flags&=~(Wt.e_toiFlag|Wt.e_islandFlag);for(r=0,e=i.m_jointCount;r<e;)n=r++,(n=i.m_joints[n]).m_islandFlag=!1;this.m_contactManager.findNewContacts()}}},drawJoint:function(t){var e=t.getBodyA(),i=t.getBodyB(),s=e.m_xf.position,n=i.m_xf.position,r=t.getAnchorA(),a=t.getAnchorB(),o=Gt.s_jointColor;switch(t.m_type){case 3:case 5:this.m_debugDraw.drawSegment(r,a,o);break;case 4:t=(e=vo.__cast(t,Te)).getGroundAnchorA(),e=e.getGroundAnchorB(),this.m_debugDraw.drawSegment(t,r,o),this.m_debugDraw.drawSegment(e,a,o),this.m_debugDraw.drawSegment(t,e,o);break;default:e!=this.m_groundBody&&this.m_debugDraw.drawSegment(s,r,o),this.m_debugDraw.drawSegment(r,a,o),i!=this.m_groundBody&&this.m_debugDraw.drawSegment(n,a,o)}},drawShape:function(t,e,i){switch(t.m_type){case 0:t=vo.__cast(t,gt);var s=Rt.mulX(e,t.m_p);this.m_debugDraw.drawSolidCircle(s,t.m_radius,e.R.col1,i);break;case 1:t=(s=vo.__cast(t,vt)).getVertexCount();for(var n=s.getVertices(),r=[],a=0;a<t;)r[s=a++]=Rt.mulX(e,n[s]);this.m_debugDraw.drawSolidPolygon(r,t,i);break;case 2:t=vo.__cast(t,yt),this.m_debugDraw.drawSegment(Rt.mulX(e,t.getVertex1()),Rt.mulX(e,t.getVertex2()),i)}},m_aabb:null,setScreenBounds:function(t){this.m_aabb=t},getScreenBounds:function(){return this.m_aabb},m_flags:null,m_contactManager:null,m_contactSolver:null,m_island:null,m_bodyList:null,m_jointList:null,m_contactList:null,m_bodyCount:null,m_contactCount:null,m_jointCount:null,m_controllerList:null,m_controllerCount:null,m_gravity:null,m_allowSleep:null,m_groundBody:null,m_destructionListener:null,m_debugDraw:null,m_inv_dt0:null,aabbQueryCallback:null,shapeQueryCallback:null,pointQueryCallback:null,__class__:Gt};var Ut=function(){};r["box2D.dynamics.AABBQueryCallback"]=Ut,Ut.__name__="box2D.dynamics.AABBQueryCallback",Ut.__interfaces__=[$],Ut.prototype={broadPhase:null,callbackMethod:null,queryCallback:function(t){return this.callbackMethod(this.broadPhase.getUserData(t))},__class__:Ut};var zt=function(){};r["box2D.dynamics.ShapeQueryCallback"]=zt,zt.__name__="box2D.dynamics.ShapeQueryCallback",zt.__interfaces__=[$],zt.prototype={broadPhase:null,shape:null,transform:null,callbackMethod:null,queryCallback:function(t){return t=this.broadPhase.getUserData(t),!ft.testOverlap(this.shape,this.transform,t.getShape(),t.getBody().getTransform())||this.callbackMethod(t)},__class__:zt};var Ht=function(){};r["box2D.dynamics.PointQueryCallback"]=Ht,Ht.__name__="box2D.dynamics.PointQueryCallback",Ht.__interfaces__=[$],Ht.prototype={broadPhase:null,callbackMethod:null,p:null,queryCallback:function(t){return!(t=this.broadPhase.getUserData(t)).testPoint(this.p)||this.callbackMethod(t)},__class__:Ht};var Wt=function(){this.m_nodeA=new Kt,this.m_nodeB=new Kt,this.m_manifold=new nt,this.m_oldManifold=new nt};r["box2D.dynamics.contacts.B2Contact"]=Wt,Wt.__name__="box2D.dynamics.contacts.B2Contact",Wt.prototype={getManifold:function(){return this.m_manifold},getWorldManifold:function(t){var e=this.m_fixtureA.getBody(),i=this.m_fixtureB.getBody(),s=this.m_fixtureA.getShape(),n=this.m_fixtureB.getShape();t.initialize(this.m_manifold,e.getTransform(),s.m_radius,i.getTransform(),n.m_radius)},isTouching:function(){return(this.m_flags&Wt.e_touchingFlag)==Wt.e_touchingFlag},isContinuous:function(){return(this.m_flags&Wt.e_continuousFlag)==Wt.e_continuousFlag},setSensor:function(t){this.m_flags=t?this.m_flags|Wt.e_sensorFlag:this.m_flags&~Wt.e_sensorFlag},isSensor:function(){return(this.m_flags&Wt.e_sensorFlag)==Wt.e_sensorFlag},setEnabled:function(t){this.m_flags=t?this.m_flags|Wt.e_enabledFlag:this.m_flags&~Wt.e_enabledFlag},isEnabled:function(){return(this.m_flags&Wt.e_enabledFlag)==Wt.e_enabledFlag},getNext:function(){return this.m_next},getFixtureA:function(){return this.m_fixtureA},getFixtureB:function(){return this.m_fixtureB},flagForFiltering:function(){this.m_flags|=Wt.e_filterFlag},reset:function(t,e){if(this.m_flags=Wt.e_enabledFlag,null==t||null==e)this.m_fixtureB=this.m_fixtureA=null;else{(t.isSensor()||e.isSensor())&&(this.m_flags|=Wt.e_sensorFlag);var i=t.getBody(),s=e.getBody();(i.getType()!=Mt.b2_dynamicBody||i.isBullet()||s.getType()!=Mt.b2_dynamicBody||s.isBullet())&&(this.m_flags|=Wt.e_continuousFlag),this.m_fixtureA=t,this.m_fixtureB=e,this.m_manifold.m_pointCount=0,this.m_next=this.m_prev=null,this.m_nodeA.contact=null,this.m_nodeA.prev=null,this.m_nodeA.next=null,this.m_nodeA.other=null,this.m_nodeB.contact=null,this.m_nodeB.prev=null,this.m_nodeB.next=null,this.m_nodeB.other=null}},update:function(t){var e=this.m_oldManifold;this.m_oldManifold=this.m_manifold,this.m_manifold=e,this.m_flags|=Wt.e_enabledFlag;var i=!1;e=(this.m_flags&Wt.e_touchingFlag)==Wt.e_touchingFlag;var s=this.m_fixtureA.m_body,n=this.m_fixtureB.m_body,r=this.m_fixtureA.m_aabb.testOverlap(this.m_fixtureB.m_aabb);if(0!=(this.m_flags&Wt.e_sensorFlag))r&&(i=this.m_fixtureA.getShape(),r=this.m_fixtureB.getShape(),s=s.getTransform(),n=n.getTransform(),i=ft.testOverlap(i,s,r,n)),this.m_manifold.m_pointCount=0;else{if(s.getType()!=Mt.b2_dynamicBody||s.isBullet()||n.getType()!=Mt.b2_dynamicBody||n.isBullet()?this.m_flags|=Wt.e_continuousFlag:this.m_flags&=~Wt.e_continuousFlag,r){this.evaluate(),i=0<this.m_manifold.m_pointCount,r=0;for(var a=this.m_manifold.m_pointCount;r<a;){var o=r++;(o=this.m_manifold.m_points[o]).m_normalImpulse=0,o.m_tangentImpulse=0;for(var l=o.m_id,h=0,_=this.m_oldManifold.m_pointCount;h<_;){var c=h++;if((c=this.m_oldManifold.m_points[c]).m_id.get_key()==l.get_key()){o.m_normalImpulse=c.m_normalImpulse,o.m_tangentImpulse=c.m_tangentImpulse;break}}}}else this.m_manifold.m_pointCount=0;i!=e&&(s.setAwake(!0),n.setAwake(!0))}this.m_flags=i?this.m_flags|Wt.e_touchingFlag:this.m_flags&~Wt.e_touchingFlag,0==e&&1==i&&t.beginContact(this),1==e&&0==i&&t.endContact(this),0==(this.m_flags&Wt.e_sensorFlag)&&t.preSolve(this,this.m_oldManifold)},evaluate:function(){},computeTOI:function(t,e){return Wt.s_input.proxyA.set(this.m_fixtureA.getShape()),Wt.s_input.proxyB.set(this.m_fixtureB.getShape()),Wt.s_input.sweepA=t,Wt.s_input.sweepB=e,Wt.s_input.tolerance=wt.b2_linearSlop,mt.timeOfImpact(Wt.s_input)},m_flags:null,m_prev:null,m_next:null,m_nodeA:null,m_nodeB:null,m_fixtureA:null,m_fixtureB:null,m_manifold:null,m_oldManifold:null,m_toi:null,key:null,__class__:Wt};var Xt=function(){Wt.call(this)};r["box2D.dynamics.contacts.B2CircleContact"]=Xt,Xt.__name__="box2D.dynamics.contacts.B2CircleContact",Xt.create=function(t){return new Xt},Xt.destroy=function(t,e){},Xt.__super__=Wt,Xt.prototype=i(Wt.prototype,{reset:function(t,e){Wt.prototype.reset.call(this,t,e)},evaluate:function(){var t=this.m_fixtureA.getBody(),e=this.m_fixtureB.getBody();W.collideCircles(this.m_manifold,vo.__cast(this.m_fixtureA.getShape(),gt),t.m_xf,vo.__cast(this.m_fixtureB.getShape(),gt),e.m_xf)},__class__:Xt});var Yt=function(){this.localPlaneNormal=new G,this.localPoint=new G,this.normal=new G,this.normalMass=new dt,this.K=new dt,this.points=[];for(var t=0,e=wt.b2_maxManifoldPoints;t<e;){var i=t++;this.points[i]=new jt}};r["box2D.dynamics.contacts.B2ContactConstraint"]=Yt,Yt.__name__="box2D.dynamics.contacts.B2ContactConstraint",Yt.prototype={points:null,localPlaneNormal:null,localPoint:null,normal:null,normalMass:null,K:null,bodyA:null,bodyB:null,type:null,radius:null,friction:null,restitution:null,pointCount:null,manifold:null,__class__:Yt};var jt=function(){this.localPoint=new G,this.rA=new G,this.rB=new G};r["box2D.dynamics.contacts.B2ContactConstraintPoint"]=jt,jt.__name__="box2D.dynamics.contacts.B2ContactConstraintPoint",jt.prototype={localPoint:null,rA:null,rB:null,normalImpulse:null,tangentImpulse:null,normalMass:null,tangentMass:null,equalizedMass:null,velocityBias:null,__class__:jt};var Kt=function(){};r["box2D.dynamics.contacts.B2ContactEdge"]=Kt,Kt.__name__="box2D.dynamics.contacts.B2ContactEdge",Kt.prototype={other:null,contact:null,prev:null,next:null,__class__:Kt};var Jt=function(t){this.m_allocator=t,this.initializeRegisters()};r["box2D.dynamics.contacts.B2ContactFactory"]=Jt,Jt.__name__="box2D.dynamics.contacts.B2ContactFactory",Jt.prototype={addType:function(t,e,i,s){this.m_registers[i][s].createFcn=t,this.m_registers[i][s].destroyFcn=e,this.m_registers[i][s].primary=i},initializeRegisters:function(){this.m_registers=[],this.m_registers[0]=[],this.m_registers[0][0]=null,this.m_registers[0][1]=null,this.m_registers[0][2]=null,this.m_registers[1]=[],this.m_registers[1][0]=null,this.m_registers[1][1]=null,this.m_registers[1][2]=null,this.m_registers[2]=[],this.m_registers[2][0]=null,this.m_registers[2][1]=null,this.m_registers[2][2]=null,null==this.m_registers[0][0]&&(this.m_registers[0][0]=new Zt),null==this.m_registers[0][1]&&(this.m_registers[0][1]=new Zt,this.m_registers[1][0]=this.m_registers[0][1]),null==this.m_registers[0][2]&&(this.m_registers[0][2]=new Zt,this.m_registers[2][0]=this.m_registers[0][2]),null==this.m_registers[1][0]&&(this.m_registers[1][0]=new Zt,this.m_registers[0][1]=this.m_registers[1][0]),null==this.m_registers[1][1]&&(this.m_registers[1][1]=new Zt),null==this.m_registers[1][2]&&(this.m_registers[1][2]=new Zt,this.m_registers[2][1]=this.m_registers[1][2]),null==this.m_registers[2][0]&&(this.m_registers[2][0]=new Zt,this.m_registers[0][2]=this.m_registers[2][0]),null==this.m_registers[2][1]&&(this.m_registers[2][1]=new Zt,this.m_registers[1][2]=this.m_registers[2][1]),null==this.m_registers[2][2]&&(this.m_registers[2][2]=new Zt),this.addType(Xt.create,Xt.destroy,0,0),this.addType(te.create,te.destroy,1,0),this.addType(oe.create,oe.destroy,1,1),this.addType($t.create,$t.destroy,2,0),this.addType(re.create,re.destroy,1,2)},create:function(t,e){var i=t.getType(),s=e.getType();if(null!=(s=this.m_registers[i][s]).pool){var n=s.pool;return s.pool=n.m_next,s.poolCount--,s.primary==i?n.reset(t,e):n.reset(e,t),n}return null!=(n=s.createFcn)?(s.primary==i?(n=n(this.m_allocator)).reset(t,e):(n=n(this.m_allocator)).reset(e,t),n):null},destroy:function(t){0<t.m_manifold.m_pointCount&&(t.m_fixtureA.m_body.setAwake(!0),t.m_fixtureB.m_body.setAwake(!0));var e=t.m_fixtureA.getType(),i=t.m_fixtureB.getType();(e=this.m_registers[e][i]).poolCount++,t.m_next=e.pool,e.pool=t,(e=e.destroyFcn)(t,this.m_allocator)},m_registers:null,m_allocator:null,__class__:Jt};var Zt=function(){};r["box2D.dynamics.contacts.B2ContactRegister"]=Zt,Zt.__name__="box2D.dynamics.contacts.B2ContactRegister",Zt.prototype={createFcn:null,destroyFcn:null,primary:null,pool:null,poolCount:null,__class__:Zt};var Qt=function(){this.m_normal=new G,this.m_separations=[],this.m_points=[];for(var t=0,e=wt.b2_maxManifoldPoints;t<e;){var i=t++;this.m_points[i]=new G}};r["box2D.dynamics.contacts.B2PositionSolverManifold"]=Qt,Qt.__name__="box2D.dynamics.contacts.B2PositionSolverManifold",Qt.prototype={initialize:function(t){switch(wt.b2Assert(0<t.pointCount),t.type){case 1:var e=t.bodyA.m_xf.R,i=t.localPoint,s=t.bodyA.m_xf.position.x+(e.col1.x*i.x+e.col2.x*i.y),n=t.bodyA.m_xf.position.y+(e.col1.y*i.x+e.col2.y*i.y);e=t.bodyB.m_xf.R,i=t.points[0].localPoint;var r=t.bodyB.m_xf.position.x+(e.col1.x*i.x+e.col2.x*i.y),a=r-s,o=a*a+(i=(e=t.bodyB.m_xf.position.y+(e.col1.y*i.x+e.col2.y*i.y))-n)*i;o>Number.MIN_VALUE*Number.MIN_VALUE?(o=Math.sqrt(o),this.m_normal.x=a/o,this.m_normal.y=i/o):(this.m_normal.x=1,this.m_normal.y=0),this.m_points[0].x=.5*(s+r),this.m_points[0].y=.5*(n+e),this.m_separations[0]=a*this.m_normal.x+i*this.m_normal.y-t.radius;break;case 2:for(e=t.bodyA.m_xf.R,i=t.localPlaneNormal,this.m_normal.x=e.col1.x*i.x+e.col2.x*i.y,this.m_normal.y=e.col1.y*i.x+e.col2.y*i.y,e=t.bodyA.m_xf.R,i=t.localPoint,s=t.bodyA.m_xf.position.x+(e.col1.x*i.x+e.col2.x*i.y),n=t.bodyA.m_xf.position.y+(e.col1.y*i.x+e.col2.y*i.y),e=t.bodyB.m_xf.R,r=0,a=t.pointCount;r<a;){var l=r++;i=t.points[l].localPoint,o=t.bodyB.m_xf.position.x+(e.col1.x*i.x+e.col2.x*i.y),i=t.bodyB.m_xf.position.y+(e.col1.y*i.x+e.col2.y*i.y),this.m_separations[l]=(o-s)*this.m_normal.x+(i-n)*this.m_normal.y-t.radius,this.m_points[l].x=o,this.m_points[l].y=i}break;case 4:for(e=t.bodyB.m_xf.R,i=t.localPlaneNormal,this.m_normal.x=e.col1.x*i.x+e.col2.x*i.y,this.m_normal.y=e.col1.y*i.x+e.col2.y*i.y,e=t.bodyB.m_xf.R,i=t.localPoint,s=t.bodyB.m_xf.position.x+(e.col1.x*i.x+e.col2.x*i.y),n=t.bodyB.m_xf.position.y+(e.col1.y*i.x+e.col2.y*i.y),e=t.bodyA.m_xf.R,r=0,a=t.pointCount;r<a;)l=r++,i=t.points[l].localPoint,o=t.bodyA.m_xf.position.x+(e.col1.x*i.x+e.col2.x*i.y),i=t.bodyA.m_xf.position.y+(e.col1.y*i.x+e.col2.y*i.y),this.m_separations[l]=(o-s)*this.m_normal.x+(i-n)*this.m_normal.y-t.radius,null==i&&(i=0),null==o&&(o=0),(l=this.m_points[l]).x=o,l.y=i;this.m_normal.x*=-1,this.m_normal.y*=-1}},m_normal:null,m_points:null,m_separations:null,__class__:Qt};var qt=function(){this.m_step=new Vt,this.m_constraints=[]};r["box2D.dynamics.contacts.B2ContactSolver"]=qt,qt.__name__="box2D.dynamics.contacts.B2ContactSolver",qt.prototype={initialize:function(t,e,i,s){for(this.m_step.set(t),this.m_allocator=s,this.m_constraintCount=i;this.m_constraints.length<this.m_constraintCount;)this.m_constraints[this.m_constraints.length]=new Yt;for(t=0;t<i;){var n=e[s=t++],r=n.m_fixtureA,a=n.m_fixtureB,o=r.m_shape.m_radius,l=a.m_shape.m_radius,h=r.m_body,_=a.m_body;n=n.getManifold();var c=wt.b2MixFriction(r.getFriction(),a.getFriction()),u=wt.b2MixRestitution(r.getRestitution(),a.getRestitution()),d=h.m_linearVelocity.x,m=h.m_linearVelocity.y,p=_.m_linearVelocity.x,f=_.m_linearVelocity.y,g=h.m_angularVelocity,y=_.m_angularVelocity;for(wt.b2Assert(0<n.m_pointCount),qt.s_worldManifold.initialize(n,h.m_xf,o,_.m_xf,l),r=qt.s_worldManifold.m_normal.x,a=qt.s_worldManifold.m_normal.y,(s=this.m_constraints[s]).bodyA=h,s.bodyB=_,s.manifold=n,s.normal.x=r,s.normal.y=a,s.pointCount=n.m_pointCount,s.friction=c,s.restitution=u,s.localPlaneNormal.x=n.m_localPlaneNormal.x,s.localPlaneNormal.y=n.m_localPlaneNormal.y,s.localPoint.x=n.m_localPoint.x,s.localPoint.y=n.m_localPoint.y,s.radius=o+l,s.type=n.m_type,o=0,l=s.pointCount;o<l;){var b=o++,v=n.m_points[b];(c=s.points[b]).normalImpulse=v.m_normalImpulse,c.tangentImpulse=v.m_tangentImpulse,u=c.localPoint,v=v.m_localPoint,u.x=v.x,u.y=v.y,u=c.rA.x=qt.s_worldManifold.m_points[b].x-h.m_sweep.c.x,v=c.rA.y=qt.s_worldManifold.m_points[b].y-h.m_sweep.c.y;var x=c.rB.x=qt.s_worldManifold.m_points[b].x-_.m_sweep.c.x,w=u*a-v*r,R=x*a-(b=c.rB.y=qt.s_worldManifold.m_points[b].y-_.m_sweep.c.y)*r;w*=w,R*=R,c.normalMass=1/(h.m_invMass+_.m_invMass+h.m_invI*w+_.m_invI*R);var S=h.m_mass*h.m_invMass+_.m_mass*_.m_invMass;S+=h.m_mass*h.m_invI*w+_.m_mass*_.m_invI*R,c.equalizedMass=1/S,w=u*(S=-r)-v*(R=a),R=x*S-b*R,w*=w,R*=R,c.tangentMass=1/(h.m_invMass+_.m_invMass+h.m_invI*w+_.m_invI*R),c.velocityBias=0,(u=s.normal.x*(p+-y*b-d- -g*v)+s.normal.y*(f+y*x-m-g*u))<-wt.b2_velocityThreshold&&(c.velocityBias+=-s.restitution*u)}2==s.pointCount&&(f=s.points[0],p=s.points[1],n=h.m_invMass,h=h.m_invI,d=_.m_invMass,_=_.m_invI,m=f.rA.x*a-f.rA.y*r,f=f.rB.x*a-f.rB.y*r,g=p.rA.x*a-p.rA.y*r,p=p.rB.x*a-p.rB.y*r,(a=n+d+h*m*m+_*f*f)*a<100*(a*(r=n+d+h*g*g+_*p*p)-(_=n+d+h*m*g+_*f*p)*_)?(null==(n=_)&&(n=0),null==a&&(a=0),(h=s.K.col1).x=a,h.y=n,null==r&&(r=0),null==_&&(_=0),(a=s.K.col2).x=_,a.y=r,s.K.getInverse(s.normalMass)):s.pointCount=1)}},initVelocityConstraints:function(t){for(var e=0,i=this.m_constraintCount;e<i;){var s=e++,n=(s=this.m_constraints[s]).bodyA,r=s.bodyB,a=n.m_invMass,o=n.m_invI,l=r.m_invMass,h=r.m_invI,_=s.normal.x,c=s.normal.y,u=c,d=-_;if(t.warmStarting)for(var m=s.pointCount,p=0;p<m;){var f=p++;(f=s.points[f]).normalImpulse*=t.dtRatio,f.tangentImpulse*=t.dtRatio;var g=f.normalImpulse*_+f.tangentImpulse*u,y=f.normalImpulse*c+f.tangentImpulse*d;n.m_angularVelocity-=o*(f.rA.x*y-f.rA.y*g),n.m_linearVelocity.x-=a*g,n.m_linearVelocity.y-=a*y,r.m_angularVelocity+=h*(f.rB.x*y-f.rB.y*g),r.m_linearVelocity.x+=l*g,r.m_linearVelocity.y+=l*y}else for(n=0,r=m=s.pointCount;n<r;)a=n++,(a=s.points[a]).normalImpulse=0,a.tangentImpulse=0}},solveVelocityConstraints:function(){for(var t,e,i,s,n,r,a,o,l,h,_=0,c=this.m_constraintCount;_<c;){var u=_++;u=(s=this.m_constraints[u]).bodyA;var d=s.bodyB,m=u.m_angularVelocity,p=d.m_angularVelocity,f=u.m_linearVelocity,g=d.m_linearVelocity,y=u.m_invMass,b=u.m_invI,v=d.m_invMass,x=d.m_invI;o=s.normal.x;var w=l=s.normal.y,R=-o;for(h=s.friction,a=0,r=s.pointCount;a<r;)t=a++,t=s.points[t],e=(e=g.x-p*t.rB.y-f.x+m*t.rA.y)*w+(i=g.y+p*t.rB.x-f.y-m*t.rA.x)*R,e=t.tangentMass*-e,i=h*t.normalImpulse,n=(e=(i=Rt.clamp(t.tangentImpulse+e,-i,i))-t.tangentImpulse)*w,e*=R,f.x-=y*n,f.y-=y*e,m-=b*(t.rA.x*e-t.rA.y*n),g.x+=v*n,g.y+=v*e,p+=x*(t.rB.x*e-t.rB.y*n),t.tangentImpulse=i;if(1==s.pointCount)t=s.points[0],s=(e=g.x+-p*t.rB.y-f.x- -m*t.rA.y)*o+(i=g.y+p*t.rB.x-f.y-m*t.rA.x)*l,e=-t.normalMass*(s-t.velocityBias),0<(i=t.normalImpulse+e)||(i=0),n=(e=i-t.normalImpulse)*o,e*=l,f.x-=y*n,f.y-=y*e,m-=b*(t.rA.x*e-t.rA.y*n),g.x+=v*n,g.y+=v*e,p+=x*(t.rB.x*e-t.rB.y*n),t.normalImpulse=i;else{t=s.points[0],w=s.points[1],r=t.normalImpulse,a=w.normalImpulse,n=(g.x-p*t.rB.y-f.x+m*t.rA.y)*o+(g.y+p*t.rB.x-f.y-m*t.rA.x)*l;var S=(g.x-p*w.rB.y-f.x+m*w.rA.y)*o+(g.y+p*w.rB.x-f.y-m*w.rA.x)*l;for(e=n-t.velocityBias,i=S-w.velocityBias,e-=(h=s.K).col1.x*r+h.col2.x*a,i-=h.col1.y*r+h.col2.y*a;;){if(R=-((h=s.normalMass).col1.x*e+h.col2.x*i),h=-(h.col1.y*e+h.col2.y*i),0<=R&&0<=h){s=(r=R-r)*o,r*=l,o*=a=h-a,l*=a,f.x-=y*(s+o),f.y-=y*(r+l),m-=b*(t.rA.x*r-t.rA.y*s+w.rA.x*l-w.rA.y*o),g.x+=v*(s+o),g.y+=v*(r+l),p+=x*(t.rB.x*r-t.rB.y*s+w.rB.x*l-w.rB.y*o),t.normalImpulse=R,w.normalImpulse=h;break}if(R=-t.normalMass*e,h=0,S=s.K.col1.y*R+i,0<=R&&0<=S){s=(r=R-r)*o,r*=l,o*=a=h-a,l*=a,f.x-=y*(s+o),f.y-=y*(r+l),m-=b*(t.rA.x*r-t.rA.y*s+w.rA.x*l-w.rA.y*o),g.x+=v*(s+o),g.y+=v*(r+l),p+=x*(t.rB.x*r-t.rB.y*s+w.rB.x*l-w.rB.y*o),t.normalImpulse=R,w.normalImpulse=h;break}if(R=0,h=-w.normalMass*i,n=s.K.col2.x*h+e,0<=h&&0<=n){s=(r=R-r)*o,r*=l,o*=a=h-a,l*=a,f.x-=y*(s+o),f.y-=y*(r+l),m-=b*(t.rA.x*r-t.rA.y*s+w.rA.x*l-w.rA.y*o),g.x+=v*(s+o),g.y+=v*(r+l),p+=x*(t.rB.x*r-t.rB.y*s+w.rB.x*l-w.rB.y*o),t.normalImpulse=R,w.normalImpulse=h;break}if(h=R=0,S=i,0<=(n=e)&&0<=S){s=(r=R-r)*o,r*=l,o*=a=h-a,l*=a,f.x-=y*(s+o),f.y-=y*(r+l),m-=b*(t.rA.x*r-t.rA.y*s+w.rA.x*l-w.rA.y*o),g.x+=v*(s+o),g.y+=v*(r+l),p+=x*(t.rB.x*r-t.rB.y*s+w.rB.x*l-w.rB.y*o),t.normalImpulse=R,w.normalImpulse=h;break}break}}u.m_angularVelocity=m,d.m_angularVelocity=p}},finalizeVelocityConstraints:function(){for(var t=0,e=this.m_constraintCount;t<e;)for(var i=t++,s=(i=this.m_constraints[i]).manifold,n=0,r=i.pointCount;n<r;){var a=n++,o=s.m_points[a];a=i.points[a],o.m_normalImpulse=a.normalImpulse,o.m_tangentImpulse=a.tangentImpulse}},solvePositionConstraints:function(t){for(var e=0,i=0,s=this.m_constraintCount;i<s;){var n=i++,r=(n=this.m_constraints[n]).bodyA,a=n.bodyB,o=r.m_mass*r.m_invMass,l=r.m_mass*r.m_invI,h=a.m_mass*a.m_invMass,_=a.m_mass*a.m_invI;qt.s_psm.initialize(n);for(var c=qt.s_psm.m_normal,u=0,d=n.pointCount;u<d;){var m=u++,p=n.points[m],f=qt.s_psm.m_points[m],g=qt.s_psm.m_separations[m];m=f.x-r.m_sweep.c.x;var y=f.y-r.m_sweep.c.y,b=f.x-a.m_sweep.c.x;f=f.y-a.m_sweep.c.y,e<g||(e=g),g=Rt.clamp(t*(g+wt.b2_linearSlop),-wt.b2_maxLinearCorrection,0),p=(g*=-p.equalizedMass)*c.x,g*=c.y,r.m_sweep.c.x-=o*p,r.m_sweep.c.y-=o*g,r.m_sweep.a-=l*(m*g-y*p),r.synchronizeTransform(),a.m_sweep.c.x+=h*p,a.m_sweep.c.y+=h*g,a.m_sweep.a+=_*(b*g-f*p),a.synchronizeTransform()}}return e>-1.5*wt.b2_linearSlop},m_step:null,m_allocator:null,m_constraints:null,m_constraintCount:null,__class__:qt};var $t=function(){Wt.call(this)};r["box2D.dynamics.contacts.B2EdgeAndCircleContact"]=$t,$t.__name__="box2D.dynamics.contacts.B2EdgeAndCircleContact",$t.create=function(t){return new $t},$t.destroy=function(t,e){},$t.__super__=Wt,$t.prototype=i(Wt.prototype,{m_v0:null,m_v1:null,m_v2:null,m_v3:null,reset:function(t,e){Wt.prototype.reset.call(this,t,e)},evaluate:function(){var t=this.m_fixtureA.getBody(),e=this.m_fixtureB.getBody();this.b2CollideEdgeAndCircle(this.m_manifold,vo.__cast(this.m_fixtureA.getShape(),yt),t.m_xf,vo.__cast(this.m_fixtureB.getShape(),gt),e.m_xf)},b2CollideEdgeAndCircle:function(t,e,i,s,n){t.m_pointCount=0,this.multiplyTransformVector(n,s.m_p,$t.temp1),n=$t.q;var r=Rt.mulXT(i,$t.temp1);n.x=r.x,n.y=r.y,this.m_v0=e.m_v0,this.m_v1=e.m_v1,this.m_v2=e.m_v2,this.m_v3=e.m_v3,n=$t.e,r=this.m_v2.x-this.m_v1.x;var a=this.m_v2.y-this.m_v1.y;null==a&&(a=0),null==r&&(r=0),n.x=r,n.y=a,n=$t.temp1,r=this.m_v2.x-$t.q.x,null==(a=this.m_v2.y-$t.q.y)&&(a=0),null==r&&(r=0),n.x=r,n.y=a;var o=Rt.dot($t.e,$t.temp1);if(n=$t.temp1,r=$t.q.x-this.m_v1.x,null==(a=$t.q.y-this.m_v1.y)&&(a=0),null==r&&(r=0),n.x=r,n.y=a,r=Rt.dot($t.e,$t.temp1),i=e.m_radius+s.m_radius,0>=r){if(n=$t.p,o=this.m_v1,n.x=o.x,n.y=o.y,n=$t.temp1,r=$t.q.x-$t.p.x,null==(a=$t.q.y-$t.p.y)&&(a=0),null==r&&(r=0),n.x=r,n.y=a,!((n=Rt.dot($t.temp1,$t.temp1))>i*i)){if(e.m_hasVertex0&&(n=$t.temp1,r=this.m_v1.x-this.m_v0.x,null==(a=this.m_v1.y-this.m_v0.y)&&(a=0),null==r&&(r=0),n.x=r,n.y=a,n=$t.temp2,r=this.m_v1.x-$t.q.x,null==(a=this.m_v1.y-$t.q.y)&&(a=0),null==r&&(r=0),n.x=r,n.y=a,0<Rt.dot($t.temp1,$t.temp2)))return;t.m_pointCount=1,t.m_type=1,(n=t.m_localPlaneNormal).x=0,n.y=0,n=t.m_localPoint,o=$t.p,n.x=o.x,n.y=o.y,t.m_points[0].m_id.set_key(0),t.m_points[0].m_id.indexA=0,t.m_points[0].m_id.indexB=0,t.m_points[0].m_id.typeA=z.VERTEX,t.m_points[0].m_id.typeB=z.VERTEX,n=t.m_points[0].m_localPoint,o=s.m_p,n.x=o.x,n.y=o.y}}else if(0>=o){if(n=$t.p,o=this.m_v2,n.x=o.x,n.y=o.y,n=$t.temp1,r=$t.q.x-$t.p.x,null==(a=$t.q.y-$t.p.y)&&(a=0),null==r&&(r=0),n.x=r,n.y=a,!((n=Rt.dot($t.temp1,$t.temp1))>i*i)){if(e.m_hasVertex3&&(n=$t.temp1,r=this.m_v3.x-this.m_v2.x,null==(a=this.m_v3.y-this.m_v2.y)&&(a=0),null==r&&(r=0),n.x=r,n.y=a,n=$t.temp2,r=$t.q.x-this.m_v2.x,null==(a=$t.q.y-this.m_v2.y)&&(a=0),null==r&&(r=0),n.x=r,n.y=a,0<Rt.dot($t.temp1,$t.temp2)))return;t.m_pointCount=1,t.m_type=1,(n=t.m_localPlaneNormal).x=0,n.y=0,n=t.m_localPoint,o=$t.p,n.x=o.x,n.y=o.y,t.m_points[0].m_id.set_key(0),t.m_points[0].m_id.indexA=1,t.m_points[0].m_id.indexB=0,t.m_points[0].m_id.typeA=z.VERTEX,t.m_points[0].m_id.typeB=z.VERTEX,n=t.m_points[0].m_localPoint,o=s.m_p,n.x=o.x,n.y=o.y}}else e=Rt.dot($t.e,$t.e),wt.b2Assert(0<e),$t.p.x=1/e*(this.m_v1.x*o+this.m_v2.x*r),$t.p.y=1/e*(this.m_v1.y*o+this.m_v2.y*r),$t.temp1.x=$t.q.x-$t.p.x,$t.temp1.y=$t.q.y-$t.p.y,(n=Rt.dot($t.temp1,$t.temp1))>i*i||(n=$t.temp1,r=-$t.e.y,null==(a=$t.e.x)&&(a=0),null==r&&(r=0),n.x=r,n.y=a,n=$t.temp2,r=$t.q.x-this.m_v1.x,null==(a=$t.q.y-this.m_v1.y)&&(a=0),null==r&&(r=0),n.x=r,n.y=a,0>Rt.dot($t.temp1,$t.temp2)&&((n=$t.temp1).x=-n.x,n.y=-n.y),$t.temp1.normalize(),t.m_pointCount=1,t.m_type=2,n=t.m_localPlaneNormal,r=$t.temp1,n.x=r.x,n.y=r.y,n=t.m_localPoint,r=this.m_v1,n.x=r.x,n.y=r.y,t.m_points[0].m_id.set_key(0),t.m_points[0].m_id.indexA=0,t.m_points[0].m_id.indexB=0,t.m_points[0].m_id.typeA=z.FACE,t.m_points[0].m_id.typeB=z.VERTEX,n=t.m_points[0].m_localPoint,r=s.m_p,n.x=r.x,n.y=r.y)},multiplyTransformsInverse:function(t,e,i){this.multiplyRotationsInverse(t.R,e.R,$t.mat);var s=$t.temp2;e=e.position,s.x=e.x,s.y=e.y,$t.temp2.subtract(t.position),this.multiplyRotationVectorInverse(t.R,$t.temp2,i.position),s=i.R.col1,e=$t.mat.col1,s.x=e.x,s.y=e.y,s=i.R.col2,e=$t.mat.col2,s.x=e.x,s.y=e.y},multiplyRotationsInverse:function(t,e,i){i.col1.x=t.col1.x*e.col1.x+t.col1.y*e.col1.y,i.col1.y=t.col2.x*e.col1.x+t.col2.y*e.col1.y,i.col2.x=t.col1.x*e.col2.x+t.col1.y*e.col2.y,i.col2.y=t.col2.x*e.col2.x+t.col2.y*e.col2.y},multiplyRotationVector:function(t,e,i){i.x=t.col1.x*e.x+t.col2.x*e.y,i.y=t.col1.y*e.x+t.col2.y*e.y},multiplyRotationVectorInverse:function(t,e,i){i.x=t.col1.x*e.x+t.col1.y*e.y,i.y=t.col2.x*e.x+t.col2.y*e.y},multiplyTransformVector:function(t,e,i){i.x=t.R.col1.x*e.x+t.R.col2.x*e.y+t.position.x,i.y=t.R.col1.y*e.x+t.R.col2.y*e.y+t.position.y},__class__:$t});var te=function(){Wt.call(this)};r["box2D.dynamics.contacts.B2PolyAndCircleContact"]=te,te.__name__="box2D.dynamics.contacts.B2PolyAndCircleContact",te.create=function(t){return new te},te.destroy=function(t,e){},te.__super__=Wt,te.prototype=i(Wt.prototype,{reset:function(t,e){Wt.prototype.reset.call(this,t,e),wt.b2Assert(1==t.getType()),wt.b2Assert(0==e.getType())},evaluate:function(){var t=this.m_fixtureA.m_body,e=this.m_fixtureB.m_body;W.collidePolygonAndCircle(this.m_manifold,vo.__cast(this.m_fixtureA.getShape(),vt),t.m_xf,vo.__cast(this.m_fixtureB.getShape(),gt),e.m_xf)},__class__:te});var ee=function(){this.v=new G,this.id=new z};r["box2D.dynamics.contacts.ClipVertex"]=ee,ee.__name__="box2D.dynamics.contacts.ClipVertex",ee.prototype={v:null,id:null,set:function(t){var e=this.v,i=t.v;e.x=i.x,e.y=i.y,this.id.set(t.id)},__class__:ee};var ie=function(){};r["box2D.dynamics.contacts.EPAxis"]=ie,ie.__name__="box2D.dynamics.contacts.EPAxis",ie.prototype={type:null,index:null,separation:null,__class__:ie};var se=function(){this.vertices=[],this.normals=[];for(var t=0;32>t;)t++,this.vertices.push(new G),this.normals.push(new G)};r["box2D.dynamics.contacts.TempPolygon"]=se,se.__name__="box2D.dynamics.contacts.TempPolygon",se.prototype={vertices:null,normals:null,count:null,__class__:se};var ne=function(){this.v1=new G,this.v2=new G,this.normal=new G,this.sideNormal1=new G,this.sideNormal2=new G};r["box2D.dynamics.contacts.ReferenceFace"]=ne,ne.__name__="box2D.dynamics.contacts.ReferenceFace",ne.prototype={i1:null,i2:null,v1:null,v2:null,normal:null,sideNormal1:null,sideNormal2:null,sideOffset1:null,sideOffset2:null,__class__:ne};var re=function(){Wt.call(this)};r["box2D.dynamics.contacts.B2PolyAndEdgeContact"]=re,re.__name__="box2D.dynamics.contacts.B2PolyAndEdgeContact",re.create=function(t){return new re},re.destroy=function(t,e){},re.clipSegmentToLine=function(t,e,i,s,n){var r=0,a=Rt.dot(i,e[0].v)-s;return i=Rt.dot(i,e[1].v)-s,0>=a&&t[r++].set(e[0]),0>=i&&t[r++].set(e[1]),0>a*i&&(a/=a-i,i=t[r].v,s=e[1].v,i.x=s.x,i.y=s.y,t[r].v.subtract(e[0].v),t[r].v.multiply(a),t[r].v.add(e[0].v),t[r].id.indexA=n,t[r].id.indexB=e[0].id.indexB,t[r].id.typeA=z.VERTEX,t[r].id.typeB=z.FACE,++r),r},re.__super__=Wt,re.prototype=i(Wt.prototype,{m_v0:null,m_v1:null,m_v2:null,m_v3:null,m_front:null,m_radius:null,reset:function(t,e){t.getShape()instanceof vt?(Wt.prototype.reset.call(this,e,t),wt.b2Assert(1==t.getType()),wt.b2Assert(2==e.getType())):(Wt.prototype.reset.call(this,t,e),wt.b2Assert(2==t.getType()),wt.b2Assert(1==e.getType()))},evaluate:function(){var t=this.m_fixtureA.getBody(),e=this.m_fixtureB.getBody();this.b2CollidePolyAndEdge(this.m_manifold,vo.__cast(this.m_fixtureA.getShape(),yt),t.m_xf,vo.__cast(this.m_fixtureB.getShape(),vt),e.m_xf)},b2CollidePolyAndEdge:function(t,e,i,s,n){this.multiplyTransformsInverse(i,n,re.m_xf),this.multiplyTransformVector(re.m_xf,s.m_centroid,re.temp),n=re.m_centroidB;var r=re.temp;n.x=r.x,n.y=r.y,this.m_v0=e.m_v0,this.m_v1=e.m_v1,this.m_v2=e.m_v2,this.m_v3=e.m_v3,i=e.m_hasVertex0,e=e.m_hasVertex3,n=re.edge1,r=this.m_v2,n.x=r.x,n.y=r.y,re.edge1.subtract(this.m_v1),re.edge1.normalize(),n=re.m_normal1,r=re.edge1.y;var a=-re.edge1.x;null==a&&(a=0),null==r&&(r=0),n.x=r,n.y=a,n=re.temp,r=re.m_centroidB,n.x=r.x,n.y=r.y,re.temp.subtract(this.m_v1);var o=Rt.dot(re.m_normal1,re.temp),l=0,h=0,_=!1,c=!1;for(i&&(n=re.edge0,r=this.m_v1,n.x=r.x,n.y=r.y,re.edge0.subtract(this.m_v0),re.edge0.normalize(),n=re.m_normal0,r=re.edge0.y,null==(a=-re.edge0.x)&&(a=0),null==r&&(r=0),n.x=r,n.y=a,_=0<=Rt.crossVV(re.edge0,re.edge1),n=re.temp,r=re.m_centroidB,n.x=r.x,n.y=r.y,re.temp.subtract(this.m_v0),l=Rt.dot(re.m_normal0,re.temp)),e&&(n=re.edge2,r=this.m_v3,n.x=r.x,n.y=r.y,re.edge2.subtract(this.m_v2),re.edge2.normalize(),n=re.m_normal2,r=re.edge2.y,null==(a=-re.edge2.x)&&(a=0),null==r&&(r=0),n.x=r,n.y=a,c=0<Rt.crossVV(re.edge1,re.edge2),n=re.temp,r=re.m_centroidB,n.x=r.x,n.y=r.y,re.temp.subtract(this.m_v2),h=Rt.dot(re.m_normal2,re.temp)),i&&e?_&&c?(this.m_front=0<=l||0<=o||0<=h)?(n=re.m_normal,r=re.m_normal1,n.x=r.x,n.y=r.y,n=re.m_lowerLimit,r=re.m_normal0,n.x=r.x,n.y=r.y,n=re.m_upperLimit,r=re.m_normal2,n.x=r.x,n.y=r.y):(n=re.m_normal,r=re.m_normal1,n.x=r.x,n.y=r.y,(n=re.m_normal).x=-n.x,n.y=-n.y,n=re.m_lowerLimit,r=re.m_normal1,n.x=r.x,n.y=r.y,(n=re.m_lowerLimit).x=-n.x,n.y=-n.y,n=re.m_upperLimit,r=re.m_normal1,n.x=r.x,n.y=r.y,(n=re.m_upperLimit).x=-n.x,n.y=-n.y):_?(this.m_front=0<=l||0<=o&&0<=h)?(n=re.m_normal,r=re.m_normal1,n.x=r.x,n.y=r.y,n=re.m_lowerLimit,r=re.m_normal0,n.x=r.x,n.y=r.y,n=re.m_upperLimit,r=re.m_normal1,n.x=r.x,n.y=r.y):(n=re.m_normal,r=re.m_normal1,n.x=r.x,n.y=r.y,(n=re.m_normal).x=-n.x,n.y=-n.y,n=re.m_lowerLimit,r=re.m_normal2,n.x=r.x,n.y=r.y,(n=re.m_lowerLimit).x=-n.x,n.y=-n.y,n=re.m_upperLimit,r=re.m_normal1,n.x=r.x,n.y=r.y,(n=re.m_upperLimit).x=-n.x,n.y=-n.y):c?(this.m_front=0<=h||0<=l&&0<=o)?(n=re.m_normal,r=re.m_normal1,n.x=r.x,n.y=r.y,n=re.m_lowerLimit,r=re.m_normal1,n.x=r.x,n.y=r.y,n=re.m_upperLimit,r=re.m_normal2,n.x=r.x,n.y=r.y):(n=re.m_normal,r=re.m_normal1,n.x=r.x,n.y=r.y,(n=re.m_normal).x=-n.x,n.y=-n.y,n=re.m_lowerLimit,r=re.m_normal1,n.x=r.x,n.y=r.y,(n=re.m_lowerLimit).x=-n.x,n.y=-n.y,n=re.m_upperLimit,r=re.m_normal0,n.x=r.x,n.y=r.y,(n=re.m_upperLimit).x=-n.x,n.y=-n.y):(this.m_front=0<=l&&0<=o&&0<=h)?(n=re.m_normal,r=re.m_normal1,n.x=r.x,n.y=r.y,n=re.m_lowerLimit,r=re.m_normal1,n.x=r.x,n.y=r.y,n=re.m_upperLimit,r=re.m_normal1,n.x=r.x,n.y=r.y):(n=re.m_normal,r=re.m_normal1,n.x=r.x,n.y=r.y,(n=re.m_normal).x=-n.x,n.y=-n.y,n=re.m_lowerLimit,r=re.m_normal2,n.x=r.x,n.y=r.y,(n=re.m_lowerLimit).x=-n.x,n.y=-n.y,n=re.m_upperLimit,r=re.m_normal0,n.x=r.x,n.y=r.y,(n=re.m_upperLimit).x=-n.x,n.y=-n.y):i?(_?((this.m_front=0<=l||0<=o)?(n=re.m_normal,r=re.m_normal1,n.x=r.x,n.y=r.y,n=re.m_lowerLimit,r=re.m_normal0):(n=re.m_normal,r=re.m_normal1,n.x=r.x,n.y=r.y,(n=re.m_normal).x=-n.x,n.y=-n.y,n=re.m_lowerLimit,r=re.m_normal1),n.x=r.x,n.y=r.y,n=re.m_upperLimit,r=re.m_normal1):(this.m_front=0<=l&&0<=o)?(n=re.m_normal,r=re.m_normal1,n.x=r.x,n.y=r.y,n=re.m_lowerLimit,r=re.m_normal1,n.x=r.x,n.y=r.y,n=re.m_upperLimit,r=re.m_normal1):(n=re.m_normal,r=re.m_normal1,n.x=r.x,n.y=r.y,(n=re.m_normal).x=-n.x,n.y=-n.y,n=re.m_lowerLimit,r=re.m_normal1,n.x=r.x,n.y=r.y,n=re.m_upperLimit,r=re.m_normal0),n.x=r.x,n.y=r.y,(n=re.m_upperLimit).x=-n.x,n.y=-n.y):e?(c?(this.m_front=0<=o||0<=h)?(n=re.m_normal,r=re.m_normal1,n.x=r.x,n.y=r.y,n=re.m_lowerLimit,r=re.m_normal1,n.x=r.x,n.y=r.y,(n=re.m_lowerLimit).x=-n.x,n.y=-n.y,n=re.m_upperLimit,r=re.m_normal2):(n=re.m_normal,r=re.m_normal1,n.x=r.x,n.y=r.y,(n=re.m_normal).x=-n.x,n.y=-n.y,n=re.m_lowerLimit,r=re.m_normal1,n.x=r.x,n.y=r.y,(n=re.m_lowerLimit).x=-n.x,n.y=-n.y,n=re.m_upperLimit,r=re.m_normal1):((this.m_front=0<=o&&0<=h)?(n=re.m_normal,r=re.m_normal1,n.x=r.x,n.y=r.y,n=re.m_lowerLimit,r=re.m_normal1):(n=re.m_normal,r=re.m_normal1,n.x=r.x,n.y=r.y,(n=re.m_normal).x=-n.x,n.y=-n.y,n=re.m_lowerLimit,r=re.m_normal2),n.x=r.x,n.y=r.y,(n=re.m_lowerLimit).x=-n.x,n.y=-n.y,n=re.m_upperLimit,r=re.m_normal1),n.x=r.x,n.y=r.y):(this.m_front=0<=o)?(n=re.m_normal,r=re.m_normal1,n.x=r.x,n.y=r.y,n=re.m_lowerLimit,r=re.m_normal1,n.x=r.x,n.y=r.y,(n=re.m_lowerLimit).x=-n.x,n.y=-n.y,n=re.m_upperLimit,r=re.m_normal1,n.x=r.x,n.y=r.y,(n=re.m_upperLimit).x=-n.x,n.y=-n.y):(n=re.m_normal,r=re.m_normal1,n.x=r.x,n.y=r.y,(n=re.m_normal).x=-n.x,n.y=-n.y,n=re.m_lowerLimit,r=re.m_normal1,n.x=r.x,n.y=r.y,n=re.m_upperLimit,r=re.m_normal1,n.x=r.x,n.y=r.y),re.m_polygonB.count=s.m_vertexCount,e=0,a=s.m_vertexCount;e<a;)o=e++,this.multiplyTransformVector(re.m_xf,s.m_vertices[o],re.temp),n=re.m_polygonB.vertices[o],r=re.temp,n.x=r.x,n.y=r.y,this.multiplyRotationVector(re.m_xf.R,s.m_normals[o],re.temp),r=re.m_polygonB.normals[o],l=re.temp,r.x=l.x,r.y=l.y;if(this.m_radius=2*wt.b2_polygonRadius,t.m_pointCount=0,this.computeEdgeSeparation(re.edgeAxis),!(re.edgeAxis.type==ae.UNKNOWN||re.edgeAxis.separation>this.m_radius||(this.computePolygonSeparation(re.polygonAxis),re.polygonAxis.type!=ae.UNKNOWN&&re.polygonAxis.separation>this.m_radius))){if((i=re.polygonAxis.type==ae.UNKNOWN?re.edgeAxis:re.polygonAxis.separation>.98*re.edgeAxis.separation+.001?re.polygonAxis:re.edgeAxis).type==ae.EDGE_A){for(t.m_type=2,n=0,r=Rt.dot(re.m_normal,re.m_polygonB.normals[0]),e=1,a=re.m_polygonB.count;e<a;)o=e++,(l=Rt.dot(re.m_normal,re.m_polygonB.normals[o]))<r&&(r=l,n=o);a=(e=n)+1<re.m_polygonB.count?e+1:0,n=re.ie[0].v,r=re.m_polygonB.vertices[e],n.x=r.x,n.y=r.y,re.ie[0].id.indexA=0,re.ie[0].id.indexB=e,re.ie[0].id.typeA=z.FACE,re.ie[0].id.typeB=z.VERTEX,n=re.ie[1].v,r=re.m_polygonB.vertices[a],n.x=r.x,n.y=r.y,re.ie[1].id.indexA=0,re.ie[1].id.indexB=a,re.ie[1].id.typeA=z.FACE,re.ie[1].id.typeB=z.VERTEX,this.m_front?(re.rf.i1=0,re.rf.i2=1,n=re.rf.v1,r=this.m_v1,n.x=r.x,n.y=r.y,n=re.rf.v2,r=this.m_v2,n.x=r.x,n.y=r.y,n=re.rf.normal,r=re.m_normal1,n.x=r.x,n.y=r.y):(re.rf.i1=1,re.rf.i2=0,n=re.rf.v1,r=this.m_v2,n.x=r.x,n.y=r.y,n=re.rf.v2,r=this.m_v1,n.x=r.x,n.y=r.y,n=re.rf.normal,r=re.m_normal1,n.x=r.x,n.y=r.y,(n=re.rf.normal).x=-n.x,n.y=-n.y)}else t.m_type=4,n=re.ie[0].v,r=this.m_v1,n.x=r.x,n.y=r.y,re.ie[0].id.indexA=0,re.ie[0].id.indexB=i.index,re.ie[0].id.typeA=z.VERTEX,re.ie[0].id.typeB=z.FACE,n=re.ie[1].v,r=this.m_v2,n.x=r.x,n.y=r.y,re.ie[1].id.indexA=0,re.ie[1].id.indexB=i.index,re.ie[1].id.typeA=z.VERTEX,re.ie[1].id.typeB=z.FACE,re.rf.i1=i.index,re.rf.i2=re.rf.i1+1<re.m_polygonB.count?re.rf.i1+1:0,n=re.rf.v1,r=re.m_polygonB.vertices[re.rf.i1],n.x=r.x,n.y=r.y,n=re.rf.v2,r=re.m_polygonB.vertices[re.rf.i2],n.x=r.x,n.y=r.y,n=re.rf.normal,r=re.m_polygonB.normals[re.rf.i1],n.x=r.x,n.y=r.y;if(n=re.rf.sideNormal1,r=re.rf.normal.y,null==(a=-re.rf.normal.x)&&(a=0),null==r&&(r=0),n.x=r,n.y=a,n=re.rf.sideNormal2,r=re.rf.sideNormal1,n.x=r.x,n.y=r.y,(n=re.rf.sideNormal2).x=-n.x,n.y=-n.y,re.rf.sideOffset1=Rt.dot(re.rf.sideNormal1,re.rf.v1),re.rf.sideOffset2=Rt.dot(re.rf.sideNormal2,re.rf.v2),!((n=re.clipSegmentToLine(re.clipPoints1,re.ie,re.rf.sideNormal1,re.rf.sideOffset1,re.rf.i1))<wt.b2_maxManifoldPoints||(n=re.clipSegmentToLine(re.clipPoints2,re.clipPoints1,re.rf.sideNormal2,re.rf.sideOffset2,re.rf.i2),n<wt.b2_maxManifoldPoints))){for(i.type==ae.EDGE_A?(n=t.m_localPlaneNormal,r=re.rf.normal,n.x=r.x,n.y=r.y,n=t.m_localPoint,r=re.rf.v1):(n=t.m_localPlaneNormal,r=s.m_normals[re.rf.i1],n.x=r.x,n.y=r.y,n=t.m_localPoint,r=s.m_vertices[re.rf.i1]),n.x=r.x,n.y=r.y,e=s=0,a=wt.b2_maxManifoldPoints;e<a;)o=e++,n=re.temp,r=re.clipPoints2[o].v,n.x=r.x,n.y=r.y,re.temp.subtract(re.rf.v1),Rt.dot(re.rf.normal,re.temp)<=this.m_radius&&(n=t.m_points[s],i.type==ae.EDGE_A?(r=n.m_localPoint,l=Rt.mulXT(re.m_xf,re.clipPoints2[o].v),r.x=l.x,r.y=l.y,n.m_id.set(re.clipPoints2[o].id)):(r=n.m_localPoint,l=re.clipPoints2[o].v,r.x=l.x,r.y=l.y,n.m_id.typeA=re.clipPoints2[o].id.typeB,n.m_id.typeB=re.clipPoints2[o].id.typeA,n.m_id.indexA=re.clipPoints2[o].id.indexB,n.m_id.indexB=re.clipPoints2[o].id.indexA),++s);t.m_pointCount=s}}},computeEdgeSeparation:function(t){t.type=ae.EDGE_A,t.index=this.m_front?0:1,t.separation=Number.MAX_VALUE;for(var e=0,i=re.m_polygonB.count;e<i;){var s=e++,n=re.temp;s=re.m_polygonB.vertices[s],n.x=s.x,n.y=s.y,re.temp.subtract(this.m_v1),(n=Rt.dot(re.m_normal,re.temp))<t.separation&&(t.separation=n)}},computePolygonSeparation:function(t){t.type=ae.UNKNOWN,t.index=-1,t.separation=-Number.MAX_VALUE;var e=re.perp,i=-re.m_normal.y,s=re.m_normal.x;for(null==s&&(s=0),null==i&&(i=0),e.x=i,e.y=s,i=0,s=re.m_polygonB.count;i<s;){var n=i++;e=re.n;var r=re.m_polygonB.normals[n];e.x=r.x,e.y=r.y,(e=re.n).x=-e.x,e.y=-e.y,e=re.temp,r=re.m_polygonB.vertices[n],e.x=r.x,e.y=r.y,re.temp.subtract(this.m_v1),e=Rt.dot(re.n,re.temp),r=re.temp;var a=re.m_polygonB.vertices[n];if(r.x=a.x,r.y=a.y,re.temp.subtract(this.m_v2),r=Rt.dot(re.n,re.temp),(e=Math.min(e,r))>this.m_radius){t.type=ae.EDGE_B,t.index=n,t.separation=e;break}0<=Rt.dot(re.n,re.perp)?(r=re.temp,a=re.n,r.x=a.x,r.y=a.y,re.temp.subtract(re.m_upperLimit)):(r=re.temp,a=re.n,r.x=a.x,r.y=a.y,re.temp.subtract(re.m_lowerLimit)),!(Rt.dot(re.temp,re.m_normal)<-wt.b2_angularSlop)&&e>t.separation&&(t.type=ae.EDGE_B,t.index=n,t.separation=e)}},multiplyTransformsInverse:function(t,e,i){this.multiplyRotationsInverse(t.R,e.R,re.mat);var s=re.temp2;e=e.position,s.x=e.x,s.y=e.y,re.temp2.subtract(t.position),this.multiplyRotationVectorInverse(t.R,re.temp2,i.position),s=i.R.col1,e=re.mat.col1,s.x=e.x,s.y=e.y,s=i.R.col2,e=re.mat.col2,s.x=e.x,s.y=e.y},multiplyRotationsInverse:function(t,e,i){i.col1.x=t.col1.x*e.col1.x+t.col1.y*e.col1.y,i.col1.y=t.col2.x*e.col1.x+t.col2.y*e.col1.y,i.col2.x=t.col1.x*e.col2.x+t.col1.y*e.col2.y,i.col2.y=t.col2.x*e.col2.x+t.col2.y*e.col2.y},multiplyRotationVector:function(t,e,i){i.x=t.col1.x*e.x+t.col2.x*e.y,i.y=t.col1.y*e.x+t.col2.y*e.y},multiplyRotationVectorInverse:function(t,e,i){i.x=t.col1.x*e.x+t.col1.y*e.y,i.y=t.col2.x*e.x+t.col2.y*e.y},multiplyTransformVector:function(t,e,i){i.x=t.R.col1.x*e.x+t.R.col2.x*e.y+t.position.x,i.y=t.R.col1.y*e.x+t.R.col2.y*e.y+t.position.y},__class__:re});var ae=o["box2D.dynamics.contacts.Type"]={__ename__:"box2D.dynamics.contacts.Type",__constructs__:null,UNKNOWN:{_hx_name:"UNKNOWN",_hx_index:0,__enum__:"box2D.dynamics.contacts.Type",toString:a},EDGE_A:{_hx_name:"EDGE_A",_hx_index:1,__enum__:"box2D.dynamics.contacts.Type",toString:a},EDGE_B:{_hx_name:"EDGE_B",_hx_index:2,__enum__:"box2D.dynamics.contacts.Type",toString:a}};ae.__constructs__=[ae.UNKNOWN,ae.EDGE_A,ae.EDGE_B];var oe=function(){Wt.call(this)};r["box2D.dynamics.contacts.B2PolygonContact"]=oe,oe.__name__="box2D.dynamics.contacts.B2PolygonContact",oe.create=function(t){return new oe},oe.destroy=function(t,e){},oe.__super__=Wt,oe.prototype=i(Wt.prototype,{reset:function(t,e){Wt.prototype.reset.call(this,t,e)},evaluate:function(){var t=this.m_fixtureA.getBody(),e=this.m_fixtureB.getBody();W.collidePolygons(this.m_manifold,vo.__cast(this.m_fixtureA.getShape(),vt),t.m_xf,vo.__cast(this.m_fixtureB.getShape(),vt),e.m_xf)},__class__:oe});var le=function(){};r["box2D.dynamics.controllers.B2Controller"]=le,le.__name__="box2D.dynamics.controllers.B2Controller",le.prototype={step:function(t){},draw:function(t){},addBody:function(t){var e=new he;e.controller=this,e.body=t,e.nextBody=this.m_bodyList,e.prevBody=null,this.m_bodyList=e,null!=e.nextBody&&(e.nextBody.prevBody=e),this.m_bodyCount++,e.nextController=t.m_controllerList,e.prevController=null,t.m_controllerList=e,null!=e.nextController&&(e.nextController.prevController=e),t.m_controllerCount++},removeBody:function(t){for(var e=t.m_controllerList;null!=e&&e.controller!=this;)e=e.nextController;null!=e.prevBody&&(e.prevBody.nextBody=e.nextBody),null!=e.nextBody&&(e.nextBody.prevBody=e.prevBody),null!=e.nextController&&(e.nextController.prevController=e.prevController),null!=e.prevController&&(e.prevController.nextController=e.nextController),this.m_bodyList==e&&(this.m_bodyList=e.nextBody),t.m_controllerList==e&&(t.m_controllerList=e.nextController),t.m_controllerCount--,this.m_bodyCount--},clear:function(){for(;null!=this.m_bodyList;)this.removeBody(this.m_bodyList.body)},getNext:function(){return this.m_next},getWorld:function(){return this.m_world},getBodyList:function(){return this.m_bodyList},m_next:null,m_prev:null,m_bodyList:null,m_bodyCount:null,m_world:null,__class__:le};var he=function(){};r["box2D.dynamics.controllers.B2ControllerEdge"]=he,he.__name__="box2D.dynamics.controllers.B2ControllerEdge",he.prototype={controller:null,body:null,prevBody:null,nextBody:null,prevController:null,nextController:null,__class__:he};var _e=function(t){this.m_edgeA=new be,this.m_edgeB=new be,this.m_localCenterA=new G,this.m_localCenterB=new G,wt.b2Assert(t.bodyA!=t.bodyB),this.m_type=t.type,this.m_next=this.m_prev=null,this.m_bodyA=t.bodyA,this.m_bodyB=t.bodyB,this.m_collideConnected=t.collideConnected,this.m_islandFlag=!1,this.m_userData=t.userData};r["box2D.dynamics.joints.B2Joint"]=_e,_e.__name__="box2D.dynamics.joints.B2Joint",_e.create=function(t,e){return e=null,3==t.type?e=new ce(vo.__cast(t,de)):5==t.type?e=new we(vo.__cast(t,Se)):2==t.type?e=new Re(vo.__cast(t,Ae)):1==t.type?e=new Pe(vo.__cast(t,Ce)):4==t.type?e=new Te(vo.__cast(t,Me)):6==t.type?e=new fe(vo.__cast(t,ge)):7==t.type?e=new ve(vo.__cast(t,xe)):8==t.type?e=new Ie(vo.__cast(t,Ee)):9==t.type&&(e=new me(vo.__cast(t,pe))),e},_e.destroy=function(t,e){},_e.prototype={getType:function(){return this.m_type},getAnchorA:function(){return null},getAnchorB:function(){return null},getReactionForce:function(t){return null},getReactionTorque:function(t){return 0},getBodyA:function(){return this.m_bodyA},getBodyB:function(){return this.m_bodyB},getNext:function(){return this.m_next},getUserData:function(){return this.m_userData},setUserData:function(t){this.m_userData=t},isActive:function(){return!!this.m_bodyA.isActive()&&this.m_bodyB.isActive()},initVelocityConstraints:function(t){},solveVelocityConstraints:function(t){},finalizeVelocityConstraints:function(){},solvePositionConstraints:function(t){return!1},m_type:null,m_prev:null,m_next:null,m_edgeA:null,m_edgeB:null,m_bodyA:null,m_bodyB:null,m_islandFlag:null,m_collideConnected:null,m_userData:null,m_localCenterA:null,m_localCenterB:null,m_invMassA:null,m_invMassB:null,m_invIA:null,m_invIB:null,ID:null,__class__:_e};var ce=function(t){_e.call(this,t),this.m_localAnchor1=new G,this.m_localAnchor2=new G,this.m_u=new G;var e=this.m_localAnchor1,i=t.localAnchorA;e.x=i.x,e.y=i.y,e=this.m_localAnchor2,i=t.localAnchorB,e.x=i.x,e.y=i.y,this.m_length=t.length,this.m_frequencyHz=t.frequencyHz,this.m_dampingRatio=t.dampingRatio,this.m_bias=this.m_gamma=this.m_impulse=0};r["box2D.dynamics.joints.B2DistanceJoint"]=ce,ce.__name__="box2D.dynamics.joints.B2DistanceJoint",ce.__super__=_e,ce.prototype=i(_e.prototype,{getAnchorA:function(){return this.m_bodyA.getWorldPoint(this.m_localAnchor1)},getAnchorB:function(){return this.m_bodyB.getWorldPoint(this.m_localAnchor2)},getReactionForce:function(t){return new G(t*this.m_impulse*this.m_u.x,t*this.m_impulse*this.m_u.y)},getReactionTorque:function(t){return 0},getLength:function(){return this.m_length},setLength:function(t){this.m_length=t},getFrequency:function(){return this.m_frequencyHz},setFrequency:function(t){this.m_frequencyHz=t},getDampingRatio:function(){return this.m_dampingRatio},setDampingRatio:function(t){this.m_dampingRatio=t},initVelocityConstraints:function(t){var e=this.m_bodyA,i=this.m_bodyB,s=e.m_xf.R,n=this.m_localAnchor1.x-e.m_sweep.localCenter.x,r=this.m_localAnchor1.y-e.m_sweep.localCenter.y,a=s.col1.x*n+s.col2.x*r;r=s.col1.y*n+s.col2.y*r,n=a,s=i.m_xf.R;var o=this.m_localAnchor2.x-i.m_sweep.localCenter.x,l=this.m_localAnchor2.y-i.m_sweep.localCenter.y;a=s.col1.x*o+s.col2.x*l,l=s.col1.y*o+s.col2.y*l,o=a,this.m_u.x=i.m_sweep.c.x+o-e.m_sweep.c.x-n,this.m_u.y=i.m_sweep.c.y+l-e.m_sweep.c.y-r,(s=Math.sqrt(this.m_u.x*this.m_u.x+this.m_u.y*this.m_u.y))>wt.b2_linearSlop?this.m_u.multiply(1/s):((a=this.m_u).x=0,a.y=0),a=n*this.m_u.y-r*this.m_u.x;var h=o*this.m_u.y-l*this.m_u.x;if(a=e.m_invMass+e.m_invI*a*a+i.m_invMass+i.m_invI*h*h,this.m_mass=0!=a?1/a:0,0<this.m_frequencyHz){s-=this.m_length,h=2*Math.PI*this.m_frequencyHz;var _=this.m_mass*h*h;this.m_gamma=t.dt*(2*this.m_mass*this.m_dampingRatio*h+t.dt*_),this.m_gamma=0!=this.m_gamma?1/this.m_gamma:0,this.m_bias=s*t.dt*_*this.m_gamma,this.m_mass=a+this.m_gamma,this.m_mass=0!=this.m_mass?1/this.m_mass:0}t.warmStarting?(this.m_impulse*=t.dtRatio,t=this.m_impulse*this.m_u.x,s=this.m_impulse*this.m_u.y,e.m_linearVelocity.x-=e.m_invMass*t,e.m_linearVelocity.y-=e.m_invMass*s,e.m_angularVelocity-=e.m_invI*(n*s-r*t),i.m_linearVelocity.x+=i.m_invMass*t,i.m_linearVelocity.y+=i.m_invMass*s,i.m_angularVelocity+=i.m_invI*(o*s-l*t)):this.m_impulse=0},solveVelocityConstraints:function(t){t=this.m_bodyA;var e=this.m_bodyB,i=t.m_xf.R,s=this.m_localAnchor1.x-t.m_sweep.localCenter.x,n=this.m_localAnchor1.y-t.m_sweep.localCenter.y,r=i.col1.x*s+i.col2.x*n;n=i.col1.y*s+i.col2.y*n,s=r,i=e.m_xf.R;var a=this.m_localAnchor2.x-e.m_sweep.localCenter.x,o=this.m_localAnchor2.y-e.m_sweep.localCenter.y;r=i.col1.x*a+i.col2.x*o,o=i.col1.y*a+i.col2.y*o,a=r,r=-this.m_mass*(this.m_u.x*(e.m_linearVelocity.x+-e.m_angularVelocity*o-(t.m_linearVelocity.x+-t.m_angularVelocity*n))+this.m_u.y*(e.m_linearVelocity.y+e.m_angularVelocity*a-(t.m_linearVelocity.y+t.m_angularVelocity*s))+this.m_bias+this.m_gamma*this.m_impulse),this.m_impulse+=r,i=r*this.m_u.x,r*=this.m_u.y,t.m_linearVelocity.x-=t.m_invMass*i,t.m_linearVelocity.y-=t.m_invMass*r,t.m_angularVelocity-=t.m_invI*(s*r-n*i),e.m_linearVelocity.x+=e.m_invMass*i,e.m_linearVelocity.y+=e.m_invMass*r,e.m_angularVelocity+=e.m_invI*(a*r-o*i)},solvePositionConstraints:function(t){if(0<this.m_frequencyHz)return!0;t=this.m_bodyA;var e=this.m_bodyB,i=t.m_xf.R,s=this.m_localAnchor1.x-t.m_sweep.localCenter.x,n=this.m_localAnchor1.y-t.m_sweep.localCenter.y,r=i.col1.x*s+i.col2.x*n;n=i.col1.y*s+i.col2.y*n,s=r,i=e.m_xf.R;var a=this.m_localAnchor2.x-e.m_sweep.localCenter.x,o=this.m_localAnchor2.y-e.m_sweep.localCenter.y;r=i.col1.x*a+i.col2.x*o,o=i.col1.y*a+i.col2.y*o,a=r;var l=e.m_sweep.c.x+a-t.m_sweep.c.x-s,h=e.m_sweep.c.y+o-t.m_sweep.c.y-n;l/=i=Math.sqrt(l*l+h*h),h/=i,i-=this.m_length,i=Rt.clamp(i,-wt.b2_maxLinearCorrection,wt.b2_maxLinearCorrection),r=-this.m_mass*i;var _=this.m_u;return null==h&&(h=0),null==l&&(l=0),_.x=l,_.y=h,h=r*this.m_u.x,r*=this.m_u.y,t.m_sweep.c.x-=t.m_invMass*h,t.m_sweep.c.y-=t.m_invMass*r,t.m_sweep.a-=t.m_invI*(s*r-n*h),e.m_sweep.c.x+=e.m_invMass*h,e.m_sweep.c.y+=e.m_invMass*r,e.m_sweep.a+=e.m_invI*(a*r-o*h),t.synchronizeTransform(),e.synchronizeTransform(),Rt.abs(i)<wt.b2_linearSlop},m_localAnchor1:null,m_localAnchor2:null,m_u:null,m_frequencyHz:null,m_dampingRatio:null,m_gamma:null,m_bias:null,m_impulse:null,m_mass:null,m_length:null,__class__:ce});var ue=function(){this.type=0,this.bodyB=this.bodyA=this.userData=null,this.collideConnected=!1};r["box2D.dynamics.joints.B2JointDef"]=ue,ue.__name__="box2D.dynamics.joints.B2JointDef",ue.prototype={type:null,userData:null,bodyA:null,bodyB:null,collideConnected:null,ID:null,actor1:null,actor2:null,__class__:ue};var de=function(){ue.call(this),this.localAnchorA=new G,this.localAnchorB=new G,this.type=3,this.length=1,this.dampingRatio=this.frequencyHz=0};r["box2D.dynamics.joints.B2DistanceJointDef"]=de,de.__name__="box2D.dynamics.joints.B2DistanceJointDef",de.__super__=ue,de.prototype=i(ue.prototype,{initialize:function(t,e,i,s){this.bodyA=t,this.bodyB=e,t=this.localAnchorA,e=this.bodyA.getLocalPoint(i),t.x=e.x,t.y=e.y,t=this.localAnchorB,e=this.bodyB.getLocalPoint(s),t.x=e.x,t.y=e.y,t=s.x-i.x,i=s.y-i.y,this.length=Math.sqrt(t*t+i*i),this.dampingRatio=this.frequencyHz=0},localAnchorA:null,localAnchorB:null,length:null,frequencyHz:null,dampingRatio:null,__class__:de});var me=function(t){_e.call(this,t),this.m_localAnchorA=new G,this.m_localAnchorB=new G,this.m_linearMass=new dt,this.m_linearImpulse=new G;var e=this.m_localAnchorA,i=t.localAnchorA;e.x=i.x,e.y=i.y,e=this.m_localAnchorB,i=t.localAnchorB,e.x=i.x,e.y=i.y,this.m_linearMass.setZero(),this.m_angularMass=0,(e=this.m_linearImpulse).x=0,this.m_angularImpulse=e.y=0,this.m_maxForce=t.maxForce,this.m_maxTorque=t.maxTorque};r["box2D.dynamics.joints.B2FrictionJoint"]=me,me.__name__="box2D.dynamics.joints.B2FrictionJoint",me.__super__=_e,me.prototype=i(_e.prototype,{getAnchorA:function(){return this.m_bodyA.getWorldPoint(this.m_localAnchorA)},getAnchorB:function(){return this.m_bodyB.getWorldPoint(this.m_localAnchorB)},getReactionForce:function(t){return new G(t*this.m_linearImpulse.x,t*this.m_linearImpulse.y)},getReactionTorque:function(t){return t*this.m_angularImpulse},setMaxForce:function(t){this.m_maxForce=t},getMaxForce:function(){return this.m_maxForce},setMaxTorque:function(t){this.m_maxTorque=t},getMaxTorque:function(){return this.m_maxTorque},initVelocityConstraints:function(t){var e=this.m_bodyA,i=this.m_bodyB,s=e.m_xf.R,n=this.m_localAnchorA.x-e.m_sweep.localCenter.x,r=this.m_localAnchorA.y-e.m_sweep.localCenter.y,a=s.col1.x*n+s.col2.x*r;r=s.col1.y*n+s.col2.y*r,n=a,s=i.m_xf.R;var o=this.m_localAnchorB.x-i.m_sweep.localCenter.x,l=this.m_localAnchorB.y-i.m_sweep.localCenter.y;a=s.col1.x*o+s.col2.x*l,l=s.col1.y*o+s.col2.y*l,o=a,s=e.m_invMass,a=i.m_invMass;var h=e.m_invI,_=i.m_invI,c=new dt;c.col1.x=s+a,c.col2.x=0,c.col1.y=0,c.col2.y=s+a,c.col1.x+=h*r*r,c.col2.x+=-h*n*r,c.col1.y+=-h*n*r,c.col2.y+=h*n*n,c.col1.x+=_*l*l,c.col2.x+=-_*o*l,c.col1.y+=-_*o*l,c.col2.y+=_*o*o,c.getInverse(this.m_linearMass),this.m_angularMass=h+_,0<this.m_angularMass&&(this.m_angularMass=1/this.m_angularMass),t.warmStarting?(this.m_linearImpulse.x*=t.dtRatio,this.m_linearImpulse.y*=t.dtRatio,this.m_angularImpulse*=t.dtRatio,t=this.m_linearImpulse,e.m_linearVelocity.x-=s*t.x,e.m_linearVelocity.y-=s*t.y,e.m_angularVelocity-=h*(n*t.y-r*t.x+this.m_angularImpulse),i.m_linearVelocity.x+=a*t.x,i.m_linearVelocity.y+=a*t.y,i.m_angularVelocity+=_*(o*t.y-l*t.x+this.m_angularImpulse)):((e=this.m_linearImpulse).x=0,this.m_angularImpulse=e.y=0)},solveVelocityConstraints:function(t){var e=this.m_bodyA,i=this.m_bodyB,s=e.m_linearVelocity,n=e.m_angularVelocity,r=i.m_linearVelocity,a=i.m_angularVelocity,o=e.m_invMass,l=i.m_invMass,h=e.m_invI,_=i.m_invI,c=e.m_xf.R,u=this.m_localAnchorA.x-e.m_sweep.localCenter.x,d=this.m_localAnchorA.y-e.m_sweep.localCenter.y,m=c.col1.x*u+c.col2.x*d;d=c.col1.y*u+c.col2.y*d,u=m,c=i.m_xf.R;var p=this.m_localAnchorB.x-i.m_sweep.localCenter.x,f=this.m_localAnchorB.y-i.m_sweep.localCenter.y;m=c.col1.x*p+c.col2.x*f,f=c.col1.y*p+c.col2.y*f,p=m,m=-this.m_angularMass*(a-n);var g=this.m_angularImpulse;c=t.dt*this.m_maxTorque,this.m_angularImpulse=Rt.clamp(this.m_angularImpulse+m,-c,c),n-=h*(m=this.m_angularImpulse-g),a+=_*m,c=Rt.mulMV(this.m_linearMass,new G(-(r.x-a*f-s.x+n*d),-(r.y+a*p-s.y-n*u))),m=this.m_linearImpulse.copy(),this.m_linearImpulse.add(c),c=t.dt*this.m_maxForce,this.m_linearImpulse.lengthSquared()>c*c&&(this.m_linearImpulse.normalize(),this.m_linearImpulse.multiply(c)),c=Rt.subtractVV(this.m_linearImpulse,m),s.x-=o*c.x,s.y-=o*c.y,n-=h*(u*c.y-d*c.x),r.x+=l*c.x,r.y+=l*c.y,a+=_*(p*c.y-f*c.x),e.m_angularVelocity=n,i.m_angularVelocity=a},solvePositionConstraints:function(t){return!0},m_localAnchorA:null,m_localAnchorB:null,m_linearMass:null,m_angularMass:null,m_linearImpulse:null,m_angularImpulse:null,m_maxForce:null,m_maxTorque:null,__class__:me});var pe=function(){ue.call(this),this.localAnchorA=new G,this.localAnchorB=new G,this.type=9,this.maxTorque=this.maxForce=0};r["box2D.dynamics.joints.B2FrictionJointDef"]=pe,pe.__name__="box2D.dynamics.joints.B2FrictionJointDef",pe.__super__=ue,pe.prototype=i(ue.prototype,{initialize:function(t,e,i){this.bodyA=t,this.bodyB=e,t=this.localAnchorA,e=this.bodyA.getLocalPoint(i),t.x=e.x,t.y=e.y,t=this.localAnchorB,e=this.bodyB.getLocalPoint(i),t.x=e.x,t.y=e.y},localAnchorA:null,localAnchorB:null,maxForce:null,maxTorque:null,__class__:pe});var fe=function(t){_e.call(this,t),this.m_groundAnchor1=new G,this.m_groundAnchor2=new G,this.m_localAnchor1=new G,this.m_localAnchor2=new G,this.m_J=new ye;var e=t.joint1.m_type,i=t.joint2.m_type;if(this.m_prismatic2=this.m_revolute2=this.m_prismatic1=this.m_revolute1=null,this.m_ground1=t.joint1.getBodyA(),this.m_bodyA=t.joint1.getBodyB(),1==e){this.m_revolute1=vo.__cast(t.joint1,Pe);var s=this.m_groundAnchor1,n=this.m_revolute1.m_localAnchor1;s.x=n.x,s.y=n.y,s=this.m_localAnchor1,n=this.m_revolute1.m_localAnchor2,s.x=n.x,s.y=n.y,e=this.m_revolute1.getJointAngle()}else this.m_prismatic1=vo.__cast(t.joint1,Re),s=this.m_groundAnchor1,n=this.m_prismatic1.m_localAnchor1,s.x=n.x,s.y=n.y,s=this.m_localAnchor1,n=this.m_prismatic1.m_localAnchor2,s.x=n.x,s.y=n.y,e=this.m_prismatic1.getJointTranslation();this.m_ground2=t.joint2.getBodyA(),this.m_bodyB=t.joint2.getBodyB(),1==i?(this.m_revolute2=vo.__cast(t.joint2,Pe),s=this.m_groundAnchor2,n=this.m_revolute2.m_localAnchor1,s.x=n.x,s.y=n.y,s=this.m_localAnchor2,n=this.m_revolute2.m_localAnchor2,s.x=n.x,s.y=n.y,i=this.m_revolute2.getJointAngle()):(this.m_prismatic2=vo.__cast(t.joint2,Re),s=this.m_groundAnchor2,n=this.m_prismatic2.m_localAnchor1,s.x=n.x,s.y=n.y,s=this.m_localAnchor2,n=this.m_prismatic2.m_localAnchor2,s.x=n.x,s.y=n.y,i=this.m_prismatic2.getJointTranslation()),this.m_ratio=t.ratio,this.m_constant=e+this.m_ratio*i,this.m_impulse=0};r["box2D.dynamics.joints.B2GearJoint"]=fe,fe.__name__="box2D.dynamics.joints.B2GearJoint",fe.__super__=_e,fe.prototype=i(_e.prototype,{getAnchorA:function(){return this.m_bodyA.getWorldPoint(this.m_localAnchor1)},getAnchorB:function(){return this.m_bodyB.getWorldPoint(this.m_localAnchor2)},getReactionForce:function(t){return new G(t*this.m_impulse*this.m_J.linearB.x,t*this.m_impulse*this.m_J.linearB.y)},getReactionTorque:function(t){var e=this.m_bodyB.m_xf.R,i=this.m_localAnchor1.x-this.m_bodyB.m_sweep.localCenter.x,s=this.m_localAnchor1.y-this.m_bodyB.m_sweep.localCenter.y,n=e.col1.x*i+e.col2.x*s;return s=e.col1.y*i+e.col2.y*s,t*(this.m_impulse*this.m_J.angularB-n*this.m_impulse*this.m_J.linearB.y+s*this.m_impulse*this.m_J.linearB.x)},getRatio:function(){return this.m_ratio},setRatio:function(t){this.m_ratio=t},initVelocityConstraints:function(t){var e=this.m_ground1,i=this.m_ground2,s=this.m_bodyA,n=this.m_bodyB,r=0;if(this.m_J.setZero(),null!=this.m_revolute1)this.m_J.angularA=-1,r+=s.m_invI;else{var a=e.m_xf.R,o=this.m_prismatic1.m_localXAxis1;e=a.col1.x*o.x+a.col2.x*o.y,o=a.col1.y*o.x+a.col2.y*o.y,a=s.m_xf.R;var l=this.m_localAnchor1.x-s.m_sweep.localCenter.x,h=this.m_localAnchor1.y-s.m_sweep.localCenter.y,_=a.col1.x*l+a.col2.x*h;a=_*o-(h=a.col1.y*l+a.col2.y*h)*e,null==(o=-o)&&(o=0),null==(e=-e)&&(e=0),(l=this.m_J.linearA).x=e,l.y=o,this.m_J.angularA=-a,r+=s.m_invMass+s.m_invI*a*a}null!=this.m_revolute2?(this.m_J.angularB=-this.m_ratio,r+=this.m_ratio*this.m_ratio*n.m_invI):(a=i.m_xf.R,o=this.m_prismatic2.m_localXAxis1,e=a.col1.x*o.x+a.col2.x*o.y,o=a.col1.y*o.x+a.col2.y*o.y,a=n.m_xf.R,l=this.m_localAnchor2.x-n.m_sweep.localCenter.x,h=this.m_localAnchor2.y-n.m_sweep.localCenter.y,a=(_=a.col1.x*l+a.col2.x*h)*o-(h=a.col1.y*l+a.col2.y*h)*e,l=this.m_J.linearB,e*=-this.m_ratio,null==(o*=-this.m_ratio)&&(o=0),null==e&&(e=0),l.x=e,l.y=o,this.m_J.angularB=-this.m_ratio*a,r+=this.m_ratio*this.m_ratio*(n.m_invMass+n.m_invI*a*a)),this.m_mass=0<r?1/r:0,t.warmStarting?(s.m_linearVelocity.x+=s.m_invMass*this.m_impulse*this.m_J.linearA.x,s.m_linearVelocity.y+=s.m_invMass*this.m_impulse*this.m_J.linearA.y,s.m_angularVelocity+=s.m_invI*this.m_impulse*this.m_J.angularA,n.m_linearVelocity.x+=n.m_invMass*this.m_impulse*this.m_J.linearB.x,n.m_linearVelocity.y+=n.m_invMass*this.m_impulse*this.m_J.linearB.y,n.m_angularVelocity+=n.m_invI*this.m_impulse*this.m_J.angularB):this.m_impulse=0},solveVelocityConstraints:function(t){t=this.m_bodyA;var e=this.m_bodyB,i=this.m_J.compute(t.m_linearVelocity,t.m_angularVelocity,e.m_linearVelocity,e.m_angularVelocity);i*=-this.m_mass,this.m_impulse+=i,t.m_linearVelocity.x+=t.m_invMass*i*this.m_J.linearA.x,t.m_linearVelocity.y+=t.m_invMass*i*this.m_J.linearA.y,t.m_angularVelocity+=t.m_invI*i*this.m_J.angularA,e.m_linearVelocity.x+=e.m_invMass*i*this.m_J.linearB.x,e.m_linearVelocity.y+=e.m_invMass*i*this.m_J.linearB.y,e.m_angularVelocity+=e.m_invI*i*this.m_J.angularB},solvePositionConstraints:function(t){t=this.m_bodyA;var e=this.m_bodyB,i=null!=this.m_revolute1?this.m_revolute1.getJointAngle():this.m_prismatic1.getJointTranslation(),s=null!=this.m_revolute2?this.m_revolute2.getJointAngle():this.m_prismatic2.getJointTranslation();return i=-this.m_mass*(this.m_constant-(i+this.m_ratio*s)),t.m_sweep.c.x+=t.m_invMass*i*this.m_J.linearA.x,t.m_sweep.c.y+=t.m_invMass*i*this.m_J.linearA.y,t.m_sweep.a+=t.m_invI*i*this.m_J.angularA,e.m_sweep.c.x+=e.m_invMass*i*this.m_J.linearB.x,e.m_sweep.c.y+=e.m_invMass*i*this.m_J.linearB.y,e.m_sweep.a+=e.m_invI*i*this.m_J.angularB,t.synchronizeTransform(),e.synchronizeTransform(),0<wt.b2_linearSlop},m_ground1:null,m_ground2:null,m_revolute1:null,m_prismatic1:null,m_revolute2:null,m_prismatic2:null,m_groundAnchor1:null,m_groundAnchor2:null,m_localAnchor1:null,m_localAnchor2:null,m_J:null,m_constant:null,m_ratio:null,m_mass:null,m_impulse:null,__class__:fe});var ge=function(){ue.call(this),this.type=6,this.joint2=this.joint1=null,this.ratio=1};r["box2D.dynamics.joints.B2GearJointDef"]=ge,ge.__name__="box2D.dynamics.joints.B2GearJointDef",ge.__super__=ue,ge.prototype=i(ue.prototype,{joint1:null,joint2:null,ratio:null,__class__:ge});var ye=function(){this.linearA=new G,this.linearB=new G};r["box2D.dynamics.joints.B2Jacobian"]=ye,ye.__name__="box2D.dynamics.joints.B2Jacobian",ye.prototype={linearA:null,angularA:null,linearB:null,angularB:null,setZero:function(){var t=this.linearA;t.x=0,this.angularA=t.y=0,(t=this.linearB).x=0,this.angularB=t.y=0},set:function(t,e,i,s){var n=this.linearA;n.x=t.x,n.y=t.y,this.angularA=e,(n=this.linearB).x=i.x,n.y=i.y,this.angularB=s},compute:function(t,e,i,s){return this.linearA.x*t.x+this.linearA.y*t.y+this.angularA*e+(this.linearB.x*i.x+this.linearB.y*i.y)+this.angularB*s},__class__:ye};var be=function(){};r["box2D.dynamics.joints.B2JointEdge"]=be,be.__name__="box2D.dynamics.joints.B2JointEdge",be.prototype={other:null,joint:null,prev:null,next:null,__class__:be};var ve=function(t){_e.call(this,t),this.m_localAnchor1=new G,this.m_localAnchor2=new G,this.m_localXAxis1=new G,this.m_localYAxis1=new G,this.m_axis=new G,this.m_perp=new G,this.m_K=new dt,this.m_impulse=new G;var e=this.m_localAnchor1,i=t.localAnchorA;e.x=i.x,e.y=i.y,e=this.m_localAnchor2,i=t.localAnchorB,e.x=i.x,e.y=i.y,e=this.m_localXAxis1,i=t.localAxisA,e.x=i.x,e.y=i.y,this.m_localYAxis1.x=-this.m_localXAxis1.y,this.m_localYAxis1.y=this.m_localXAxis1.x,(e=this.m_impulse).x=0,this.m_motorImpulse=this.m_motorMass=e.y=0,this.m_lowerTranslation=t.lowerTranslation,this.m_upperTranslation=t.upperTranslation,this.m_maxMotorForce=t.maxMotorForce,this.m_motorSpeed=t.motorSpeed,this.m_enableLimit=t.enableLimit,this.m_enableMotor=t.enableMotor,this.m_limitState=0,(e=this.m_axis).x=0,e.y=0,(e=this.m_perp).x=0,e.y=0};r["box2D.dynamics.joints.B2LineJoint"]=ve,ve.__name__="box2D.dynamics.joints.B2LineJoint",ve.__super__=_e,ve.prototype=i(_e.prototype,{getAnchorA:function(){return this.m_bodyA.getWorldPoint(this.m_localAnchor1)},getAnchorB:function(){return this.m_bodyB.getWorldPoint(this.m_localAnchor2)},getReactionForce:function(t){return new G(t*(this.m_impulse.x*this.m_perp.x+(this.m_motorImpulse+this.m_impulse.y)*this.m_axis.x),t*(this.m_impulse.x*this.m_perp.y+(this.m_motorImpulse+this.m_impulse.y)*this.m_axis.y))},getReactionTorque:function(t){return t*this.m_impulse.y},getJointTranslation:function(){var t=this.m_bodyA,e=this.m_bodyB,i=t.getWorldPoint(this.m_localAnchor1),s=e.getWorldPoint(this.m_localAnchor2);return e=s.x-i.x,i=s.y-i.y,(t=t.getWorldVector(this.m_localXAxis1)).x*e+t.y*i},getJointSpeed:function(){var t=this.m_bodyA,e=this.m_bodyB,i=t.m_xf.R,s=this.m_localAnchor1.x-t.m_sweep.localCenter.x,n=this.m_localAnchor1.y-t.m_sweep.localCenter.y,r=i.col1.x*s+i.col2.x*n;n=i.col1.y*s+i.col2.y*n,s=r,i=e.m_xf.R;var a=this.m_localAnchor2.x-e.m_sweep.localCenter.x,o=this.m_localAnchor2.y-e.m_sweep.localCenter.y;r=i.col1.x*a+i.col2.x*o,o=i.col1.y*a+i.col2.y*o,a=r,i=e.m_sweep.c.x+a-(t.m_sweep.c.x+s),r=e.m_sweep.c.y+o-(t.m_sweep.c.y+n);var l=t.getWorldVector(this.m_localXAxis1),h=t.m_linearVelocity,_=e.m_linearVelocity;return t=t.m_angularVelocity,e=e.m_angularVelocity,i*-t*l.y+r*t*l.x+(l.x*(_.x+-e*o-h.x- -t*n)+l.y*(_.y+e*a-h.y-t*s))},isLimitEnabled:function(){return this.m_enableLimit},enableLimit:function(t){this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_enableLimit=t},getLowerLimit:function(){return this.m_lowerTranslation},getUpperLimit:function(){return this.m_upperTranslation},setLimits:function(t,e){this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_lowerTranslation=t,this.m_upperTranslation=e},isMotorEnabled:function(){return this.m_enableMotor},enableMotor:function(t){this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_enableMotor=t},setMotorSpeed:function(t){this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_motorSpeed=t},getMotorSpeed:function(){return this.m_motorSpeed},setMaxMotorForce:function(t){this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_maxMotorForce=t},getMaxMotorForce:function(){return this.m_maxMotorForce},getMotorForce:function(){return this.m_motorImpulse},initVelocityConstraints:function(t){var e=this.m_bodyA,i=this.m_bodyB,s=this.m_localCenterA,n=e.getLocalCenter();s.x=n.x,s.y=n.y,s=this.m_localCenterB,n=i.getLocalCenter(),s.x=n.x,s.y=n.y;var r=e.getTransform();i.getTransform();var a=e.m_xf.R,o=this.m_localAnchor1.x-this.m_localCenterA.x,l=this.m_localAnchor1.y-this.m_localCenterA.y,h=a.col1.x*o+a.col2.x*l;l=a.col1.y*o+a.col2.y*l,o=h,a=i.m_xf.R;var _=this.m_localAnchor2.x-this.m_localCenterB.x,c=this.m_localAnchor2.y-this.m_localCenterB.y;h=a.col1.x*_+a.col2.x*c,c=a.col1.y*_+a.col2.y*c,_=h,a=i.m_sweep.c.x+_-e.m_sweep.c.x-o,h=i.m_sweep.c.y+c-e.m_sweep.c.y-l,this.m_invMassA=e.m_invMass,this.m_invMassB=i.m_invMass,this.m_invIA=e.m_invI,this.m_invIB=i.m_invI,s=this.m_axis,n=Rt.mulMV(r.R,this.m_localXAxis1),s.x=n.x,s.y=n.y,this.m_a1=(a+o)*this.m_axis.y-(h+l)*this.m_axis.x,this.m_a2=_*this.m_axis.y-c*this.m_axis.x,this.m_motorMass=this.m_invMassA+this.m_invMassB+this.m_invIA*this.m_a1*this.m_a1+this.m_invIB*this.m_a2*this.m_a2,this.m_motorMass=this.m_motorMass>Number.MIN_VALUE?1/this.m_motorMass:0,s=this.m_perp,n=Rt.mulMV(r.R,this.m_localYAxis1),s.x=n.x,s.y=n.y,this.m_s1=(a+o)*this.m_perp.y-(h+l)*this.m_perp.x,this.m_s2=_*this.m_perp.y-c*this.m_perp.x,r=this.m_invMassA,o=this.m_invMassB,l=this.m_invIA,_=this.m_invIB,this.m_K.col1.x=r+o+l*this.m_s1*this.m_s1+_*this.m_s2*this.m_s2,this.m_K.col1.y=l*this.m_s1*this.m_a1+_*this.m_s2*this.m_a2,this.m_K.col2.x=this.m_K.col1.y,this.m_K.col2.y=r+o+l*this.m_a1*this.m_a1+_*this.m_a2*this.m_a2,this.m_enableLimit?(a=this.m_axis.x*a+this.m_axis.y*h,Rt.abs(this.m_upperTranslation-this.m_lowerTranslation)<2*wt.b2_linearSlop?this.m_limitState=3:a<=this.m_lowerTranslation?1!=this.m_limitState&&(this.m_limitState=1,this.m_impulse.y=0):a>=this.m_upperTranslation?2!=this.m_limitState&&(this.m_limitState=2,this.m_impulse.y=0):(this.m_limitState=0,this.m_impulse.y=0)):this.m_limitState=0,0==this.m_enableMotor&&(this.m_motorImpulse=0),t.warmStarting?(this.m_impulse.x*=t.dtRatio,this.m_impulse.y*=t.dtRatio,this.m_motorImpulse*=t.dtRatio,t=this.m_impulse.x*this.m_perp.x+(this.m_motorImpulse+this.m_impulse.y)*this.m_axis.x,a=this.m_impulse.x*this.m_perp.y+(this.m_motorImpulse+this.m_impulse.y)*this.m_axis.y,h=this.m_impulse.x*this.m_s1+(this.m_motorImpulse+this.m_impulse.y)*this.m_a1,r=this.m_impulse.x*this.m_s2+(this.m_motorImpulse+this.m_impulse.y)*this.m_a2,e.m_linearVelocity.x-=this.m_invMassA*t,e.m_linearVelocity.y-=this.m_invMassA*a,e.m_angularVelocity-=this.m_invIA*h,i.m_linearVelocity.x+=this.m_invMassB*t,i.m_linearVelocity.y+=this.m_invMassB*a,i.m_angularVelocity+=this.m_invIB*r):((s=this.m_impulse).x=0,this.m_motorImpulse=s.y=0)},solveVelocityConstraints:function(t){var e=this.m_bodyA,i=this.m_bodyB,s=e.m_linearVelocity,n=e.m_angularVelocity,r=i.m_linearVelocity,a=i.m_angularVelocity;if(this.m_enableMotor&&3!=this.m_limitState){var o=this.m_motorMass*(this.m_motorSpeed-(this.m_axis.x*(r.x-s.x)+this.m_axis.y*(r.y-s.y)+this.m_a2*a-this.m_a1*n)),l=this.m_motorImpulse;t=t.dt*this.m_maxMotorForce,this.m_motorImpulse=Rt.clamp(this.m_motorImpulse+o,-t,t),l=(o=this.m_motorImpulse-l)*this.m_axis.x,t=o*this.m_axis.y;var h=o*this.m_a1;o*=this.m_a2,s.x-=this.m_invMassA*l,s.y-=this.m_invMassA*t,n-=this.m_invIA*h,r.x+=this.m_invMassB*l,r.y+=this.m_invMassB*t,a+=this.m_invIB*o}t=this.m_perp.x*(r.x-s.x)+this.m_perp.y*(r.y-s.y)+this.m_s2*a-this.m_s1*n,this.m_enableLimit&&0!=this.m_limitState?(h=this.m_axis.x*(r.x-s.x)+this.m_axis.y*(r.y-s.y)+this.m_a2*a-this.m_a1*n,l=this.m_impulse.copy(),o=this.m_K.solve(new G,-t,-h),this.m_impulse.add(o),1==this.m_limitState?this.m_impulse.y=Rt.max(this.m_impulse.y,0):2==this.m_limitState&&(this.m_impulse.y=Rt.min(this.m_impulse.y,0)),t=-t-(this.m_impulse.y-l.y)*this.m_K.col2.x,this.m_impulse.x=0!=this.m_K.col1.x?t/this.m_K.col1.x+l.x:l.x,o.x=this.m_impulse.x-l.x,o.y=this.m_impulse.y-l.y,l=o.x*this.m_perp.x+o.y*this.m_axis.x,t=o.x*this.m_perp.y+o.y*this.m_axis.y,h=o.x*this.m_s1+o.y*this.m_a1,o=o.x*this.m_s2+o.y*this.m_a2):(o=0!=this.m_K.col1.x?-t/this.m_K.col1.x:0,this.m_impulse.x+=o,l=o*this.m_perp.x,t=o*this.m_perp.y,h=o*this.m_s1,o*=this.m_s2),s.x-=this.m_invMassA*l,s.y-=this.m_invMassA*t,n-=this.m_invIA*h,r.x+=this.m_invMassB*l,r.y+=this.m_invMassB*t,a+=this.m_invIB*o,(l=e.m_linearVelocity).x=s.x,l.y=s.y,e.m_angularVelocity=n,(l=i.m_linearVelocity).x=r.x,l.y=r.y,i.m_angularVelocity=a},solvePositionConstraints:function(t){t=this.m_bodyA;var e=this.m_bodyB,i=t.m_sweep.c,s=t.m_sweep.a,n=e.m_sweep.c,r=e.m_sweep.a,a=0,o=!1,l=0,h=dt.fromAngle(s),_=dt.fromAngle(r),c=h,u=this.m_localAnchor1.x-this.m_localCenterA.x,d=this.m_localAnchor1.y-this.m_localCenterA.y,m=c.col1.x*u+c.col2.x*d;d=c.col1.y*u+c.col2.y*d,u=m,c=_,_=this.m_localAnchor2.x-this.m_localCenterB.x;var p=this.m_localAnchor2.y-this.m_localCenterB.y;if(m=c.col1.x*_+c.col2.x*p,p=c.col1.y*_+c.col2.y*p,_=m,c=n.x+_-i.x-u,m=n.y+p-i.y-d,this.m_enableLimit){this.m_axis=Rt.mulMV(h,this.m_localXAxis1),this.m_a1=(c+u)*this.m_axis.y-(m+d)*this.m_axis.x,this.m_a2=_*this.m_axis.y-p*this.m_axis.x;var f=this.m_axis.x*c+this.m_axis.y*m;Rt.abs(this.m_upperTranslation-this.m_lowerTranslation)<2*wt.b2_linearSlop?(l=Rt.clamp(f,-wt.b2_maxLinearCorrection,wt.b2_maxLinearCorrection),a=Rt.abs(f),o=!0):f<=this.m_lowerTranslation?(l=Rt.clamp(f-this.m_lowerTranslation+wt.b2_linearSlop,-wt.b2_maxLinearCorrection,0),a=this.m_lowerTranslation-f,o=!0):f>=this.m_upperTranslation&&(l=Rt.clamp(f-this.m_upperTranslation+wt.b2_linearSlop,0,wt.b2_maxLinearCorrection),a=f-this.m_upperTranslation,o=!0)}return this.m_perp=Rt.mulMV(h,this.m_localYAxis1),this.m_s1=(c+u)*this.m_perp.y-(m+d)*this.m_perp.x,this.m_s2=_*this.m_perp.y-p*this.m_perp.x,h=new G,u=this.m_perp.x*c+this.m_perp.y*m,a=Rt.max(a,Rt.abs(u)),o?(o=this.m_invMassA,d=this.m_invMassB,_=this.m_invIA,p=this.m_invIB,this.m_K.col1.x=o+d+_*this.m_s1*this.m_s1+p*this.m_s2*this.m_s2,this.m_K.col1.y=_*this.m_s1*this.m_a1+p*this.m_s2*this.m_a2,this.m_K.col2.x=this.m_K.col1.y,this.m_K.col2.y=o+d+_*this.m_a1*this.m_a1+p*this.m_a2*this.m_a2,this.m_K.solve(h,-u,-l)):(o=this.m_invMassA,d=this.m_invMassB,_=this.m_invIA,p=this.m_invIB,l=o+d+_*this.m_s1*this.m_s1+p*this.m_s2*this.m_s2,h.x=0!=l?-u/l:0,h.y=0),l=h.x*this.m_perp.x+h.y*this.m_axis.x,o=h.x*this.m_perp.y+h.y*this.m_axis.y,u=h.x*this.m_s1+h.y*this.m_a1,h=h.x*this.m_s2+h.y*this.m_a2,i.x-=this.m_invMassA*l,i.y-=this.m_invMassA*o,s-=this.m_invIA*u,n.x+=this.m_invMassB*l,n.y+=this.m_invMassB*o,r+=this.m_invIB*h,t.m_sweep.a=s,e.m_sweep.a=r,t.synchronizeTransform(),e.synchronizeTransform(),a<=wt.b2_linearSlop&&0<=wt.b2_angularSlop},m_localAnchor1:null,m_localAnchor2:null,m_localXAxis1:null,m_localYAxis1:null,m_axis:null,m_perp:null,m_s1:null,m_s2:null,m_a1:null,m_a2:null,m_K:null,m_impulse:null,m_motorMass:null,m_motorImpulse:null,m_lowerTranslation:null,m_upperTranslation:null,m_maxMotorForce:null,m_motorSpeed:null,m_enableLimit:null,m_enableMotor:null,m_limitState:null,__class__:ve});var xe=function(){ue.call(this),this.localAnchorA=new G,this.localAnchorB=new G,this.localAxisA=new G,this.type=7;var t=this.localAxisA,e=1,i=0;null==i&&(i=0),null==e&&(e=0),t.x=e,t.y=i,this.enableLimit=!1,this.upperTranslation=this.lowerTranslation=0,this.enableMotor=!1,this.motorSpeed=this.maxMotorForce=0};r["box2D.dynamics.joints.B2LineJointDef"]=xe,xe.__name__="box2D.dynamics.joints.B2LineJointDef",xe.__super__=ue,xe.prototype=i(ue.prototype,{initialize:function(t,e,i,s){this.bodyA=t,this.bodyB=e,this.localAnchorA=this.bodyA.getLocalPoint(i),this.localAnchorB=this.bodyB.getLocalPoint(i),this.localAxisA=this.bodyA.getLocalVector(s)},localAnchorA:null,localAnchorB:null,localAxisA:null,enableLimit:null,lowerTranslation:null,upperTranslation:null,enableMotor:null,maxMotorForce:null,motorSpeed:null,__class__:xe});var we=function(t){_e.call(this,t),this.K=new dt,this.K1=new dt,this.K2=new dt,this.m_localAnchor=new G,this.m_target=new G,this.m_impulse=new G,this.m_mass=new dt,this.m_C=new G;var e=this.m_target,i=t.target;e.x=i.x,e.y=i.y,e=this.m_target.x-this.m_bodyB.m_xf.position.x,i=this.m_target.y-this.m_bodyB.m_xf.position.y;var s=this.m_bodyB.m_xf.R;this.m_localAnchor.x=e*s.col1.x+i*s.col1.y,this.m_localAnchor.y=e*s.col2.x+i*s.col2.y,this.m_maxForce=t.maxForce,(e=this.m_impulse).x=0,e.y=0,this.m_frequencyHz=t.frequencyHz,this.m_dampingRatio=t.dampingRatio,this.m_gamma=this.m_beta=0};r["box2D.dynamics.joints.B2MouseJoint"]=we,we.__name__="box2D.dynamics.joints.B2MouseJoint",we.__super__=_e,we.prototype=i(_e.prototype,{getAnchorA:function(){return this.m_target},getAnchorB:function(){return this.m_bodyB.getWorldPoint(this.m_localAnchor)},getReactionForce:function(t){return new G(t*this.m_impulse.x,t*this.m_impulse.y)},getReactionTorque:function(t){return 0},getTarget:function(){return this.m_target},setTarget:function(t){0==this.m_bodyB.isAwake()&&this.m_bodyB.setAwake(!0),this.m_target=t},getMaxForce:function(){return this.m_maxForce},setMaxForce:function(t){this.m_maxForce=t},getFrequency:function(){return this.m_frequencyHz},setFrequency:function(t){this.m_frequencyHz=t},getDampingRatio:function(){return this.m_dampingRatio},setDampingRatio:function(t){this.m_dampingRatio=t},K:null,K1:null,K2:null,initVelocityConstraints:function(t){var e=this.m_bodyB,i=e.getMass(),s=2*Math.PI*this.m_frequencyHz,n=i*s*s;this.m_gamma=t.dt*(2*i*this.m_dampingRatio*s+t.dt*n),this.m_gamma=0!=this.m_gamma?1/this.m_gamma:0,this.m_beta=t.dt*n*this.m_gamma,n=e.m_xf.R,i=this.m_localAnchor.x-e.m_sweep.localCenter.x,s=this.m_localAnchor.y-e.m_sweep.localCenter.y;var r=n.col1.x*i+n.col2.x*s;s=n.col1.y*i+n.col2.y*s,i=r,n=e.m_invMass,r=e.m_invI,this.K1.col1.x=n,this.K1.col2.x=0,this.K1.col1.y=0,this.K1.col2.y=n,this.K2.col1.x=r*s*s,this.K2.col2.x=-r*i*s,this.K2.col1.y=-r*i*s,this.K2.col2.y=r*i*i,this.K.setM(this.K1),this.K.addM(this.K2),this.K.col1.x+=this.m_gamma,this.K.col2.y+=this.m_gamma,this.K.getInverse(this.m_mass),this.m_C.x=e.m_sweep.c.x+i-this.m_target.x,this.m_C.y=e.m_sweep.c.y+s-this.m_target.y,e.m_angularVelocity*=.98,this.m_impulse.x*=t.dtRatio,this.m_impulse.y*=t.dtRatio,e.m_linearVelocity.x+=n*this.m_impulse.x,e.m_linearVelocity.y+=n*this.m_impulse.y,e.m_angularVelocity+=r*(i*this.m_impulse.y-s*this.m_impulse.x)},solveVelocityConstraints:function(t){var e=this.m_bodyB,i=e.m_xf.R,s=this.m_localAnchor.x-e.m_sweep.localCenter.x,n=this.m_localAnchor.y-e.m_sweep.localCenter.y,r=i.col1.x*s+i.col2.x*n;n=i.col1.y*s+i.col2.y*n,s=r,r=e.m_linearVelocity.x+-e.m_angularVelocity*n;var a=e.m_linearVelocity.y+e.m_angularVelocity*s;i=this.m_mass,r=r+this.m_beta*this.m_C.x+this.m_gamma*this.m_impulse.x;var o=a+this.m_beta*this.m_C.y+this.m_gamma*this.m_impulse.y;a=-(i.col1.x*r+i.col2.x*o),o=-(i.col1.y*r+i.col2.y*o),i=this.m_impulse.x,r=this.m_impulse.y,this.m_impulse.x+=a,this.m_impulse.y+=o,t=t.dt*this.m_maxForce,this.m_impulse.lengthSquared()>t*t&&this.m_impulse.multiply(t/this.m_impulse.length()),a=this.m_impulse.x-i,o=this.m_impulse.y-r,e.m_linearVelocity.x+=e.m_invMass*a,e.m_linearVelocity.y+=e.m_invMass*o,e.m_angularVelocity+=e.m_invI*(s*o-n*a)},solvePositionConstraints:function(t){return!0},m_localAnchor:null,m_target:null,m_impulse:null,m_mass:null,m_C:null,m_maxForce:null,m_frequencyHz:null,m_dampingRatio:null,m_beta:null,m_gamma:null,__class__:we});var Se=function(){ue.call(this),this.target=new G,this.type=5,this.maxForce=0,this.frequencyHz=5,this.dampingRatio=.7};r["box2D.dynamics.joints.B2MouseJointDef"]=Se,Se.__name__="box2D.dynamics.joints.B2MouseJointDef",Se.__super__=ue,Se.prototype=i(ue.prototype,{target:null,maxForce:null,frequencyHz:null,dampingRatio:null,__class__:Se});var Re=function(t){_e.call(this,t),this.m_localAnchor1=new G,this.m_localAnchor2=new G,this.m_localXAxis1=new G,this.m_localYAxis1=new G,this.m_axis=new G,this.m_perp=new G,this.m_K=new St,this.m_impulse=new Tt;var e=this.m_localAnchor1,i=t.localAnchorA;e.x=i.x,e.y=i.y,e=this.m_localAnchor2,i=t.localAnchorB,e.x=i.x,e.y=i.y,e=this.m_localXAxis1,i=t.localAxisA,e.x=i.x,e.y=i.y,this.m_localYAxis1.x=-this.m_localXAxis1.y,this.m_localYAxis1.y=this.m_localXAxis1.x,this.m_refAngle=t.referenceAngle,this.m_impulse.setZero(),this.m_motorImpulse=this.m_motorMass=0,this.m_lowerTranslation=t.lowerTranslation,this.m_upperTranslation=t.upperTranslation,this.m_maxMotorForce=t.maxMotorForce,this.m_motorSpeed=t.motorSpeed,this.m_enableLimit=t.enableLimit,this.m_enableMotor=t.enableMotor,this.m_limitState=0,(e=this.m_axis).x=0,e.y=0,(e=this.m_perp).x=0,e.y=0};r["box2D.dynamics.joints.B2PrismaticJoint"]=Re,Re.__name__="box2D.dynamics.joints.B2PrismaticJoint",Re.__super__=_e,Re.prototype=i(_e.prototype,{getAnchorA:function(){return this.m_bodyA.getWorldPoint(this.m_localAnchor1)},getAnchorB:function(){return this.m_bodyB.getWorldPoint(this.m_localAnchor2)},getReactionForce:function(t){return new G(t*(this.m_impulse.x*this.m_perp.x+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.x),t*(this.m_impulse.x*this.m_perp.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.y))},getReactionTorque:function(t){return t*this.m_impulse.y},getJointTranslation:function(){var t=this.m_bodyA,e=this.m_bodyB,i=t.getWorldPoint(this.m_localAnchor1),s=e.getWorldPoint(this.m_localAnchor2);return e=s.x-i.x,i=s.y-i.y,(t=t.getWorldVector(this.m_localXAxis1)).x*e+t.y*i},getJointSpeed:function(){var t=this.m_bodyA,e=this.m_bodyB,i=t.m_xf.R,s=this.m_localAnchor1.x-t.m_sweep.localCenter.x,n=this.m_localAnchor1.y-t.m_sweep.localCenter.y,r=i.col1.x*s+i.col2.x*n;n=i.col1.y*s+i.col2.y*n,s=r,i=e.m_xf.R;var a=this.m_localAnchor2.x-e.m_sweep.localCenter.x,o=this.m_localAnchor2.y-e.m_sweep.localCenter.y;r=i.col1.x*a+i.col2.x*o,o=i.col1.y*a+i.col2.y*o,a=r,i=e.m_sweep.c.x+a-(t.m_sweep.c.x+s),r=e.m_sweep.c.y+o-(t.m_sweep.c.y+n);var l=t.getWorldVector(this.m_localXAxis1),h=t.m_linearVelocity,_=e.m_linearVelocity;return t=t.m_angularVelocity,e=e.m_angularVelocity,i*-t*l.y+r*t*l.x+(l.x*(_.x+-e*o-h.x- -t*n)+l.y*(_.y+e*a-h.y-t*s))},isLimitEnabled:function(){return this.m_enableLimit},enableLimit:function(t){this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_enableLimit=t},getLowerLimit:function(){return this.m_lowerTranslation},getUpperLimit:function(){return this.m_upperTranslation},setLimits:function(t,e){this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_lowerTranslation=t,this.m_upperTranslation=e},isMotorEnabled:function(){return this.m_enableMotor},enableMotor:function(t){this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_enableMotor=t},setMotorSpeed:function(t){this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_motorSpeed=t},getMotorSpeed:function(){return this.m_motorSpeed},setMaxMotorForce:function(t){this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_maxMotorForce=t},getMotorForce:function(){return this.m_motorImpulse},initVelocityConstraints:function(t){var e=this.m_bodyA,i=this.m_bodyB,s=this.m_localCenterA,n=e.getLocalCenter();s.x=n.x,s.y=n.y,s=this.m_localCenterB,n=i.getLocalCenter(),s.x=n.x,s.y=n.y;var r=e.getTransform();i.getTransform();var a=e.m_xf.R,o=this.m_localAnchor1.x-this.m_localCenterA.x,l=this.m_localAnchor1.y-this.m_localCenterA.y,h=a.col1.x*o+a.col2.x*l;l=a.col1.y*o+a.col2.y*l,o=h,a=i.m_xf.R;var _=this.m_localAnchor2.x-this.m_localCenterB.x,c=this.m_localAnchor2.y-this.m_localCenterB.y;h=a.col1.x*_+a.col2.x*c,c=a.col1.y*_+a.col2.y*c,_=h,a=i.m_sweep.c.x+_-e.m_sweep.c.x-o,h=i.m_sweep.c.y+c-e.m_sweep.c.y-l,this.m_invMassA=e.m_invMass,this.m_invMassB=i.m_invMass,this.m_invIA=e.m_invI,this.m_invIB=i.m_invI,s=this.m_axis,n=Rt.mulMV(r.R,this.m_localXAxis1),s.x=n.x,s.y=n.y,this.m_a1=(a+o)*this.m_axis.y-(h+l)*this.m_axis.x,this.m_a2=_*this.m_axis.y-c*this.m_axis.x,this.m_motorMass=this.m_invMassA+this.m_invMassB+this.m_invIA*this.m_a1*this.m_a1+this.m_invIB*this.m_a2*this.m_a2,this.m_motorMass>Number.MIN_VALUE&&(this.m_motorMass=1/this.m_motorMass),s=this.m_perp,n=Rt.mulMV(r.R,this.m_localYAxis1),s.x=n.x,s.y=n.y,this.m_s1=(a+o)*this.m_perp.y-(h+l)*this.m_perp.x,this.m_s2=_*this.m_perp.y-c*this.m_perp.x,r=this.m_invMassA,o=this.m_invMassB,l=this.m_invIA,_=this.m_invIB,this.m_K.col1.x=r+o+l*this.m_s1*this.m_s1+_*this.m_s2*this.m_s2,this.m_K.col1.y=l*this.m_s1+_*this.m_s2,this.m_K.col1.z=l*this.m_s1*this.m_a1+_*this.m_s2*this.m_a2,this.m_K.col2.x=this.m_K.col1.y,this.m_K.col2.y=l+_,this.m_K.col2.z=l*this.m_a1+_*this.m_a2,this.m_K.col3.x=this.m_K.col1.z,this.m_K.col3.y=this.m_K.col2.z,this.m_K.col3.z=r+o+l*this.m_a1*this.m_a1+_*this.m_a2*this.m_a2,this.m_enableLimit?(a=this.m_axis.x*a+this.m_axis.y*h,Rt.abs(this.m_upperTranslation-this.m_lowerTranslation)<2*wt.b2_linearSlop?this.m_limitState=3:a<=this.m_lowerTranslation?1!=this.m_limitState&&(this.m_limitState=1,this.m_impulse.z=0):a>=this.m_upperTranslation?2!=this.m_limitState&&(this.m_limitState=2,this.m_impulse.z=0):(this.m_limitState=0,this.m_impulse.z=0)):this.m_limitState=0,0==this.m_enableMotor&&(this.m_motorImpulse=0),t.warmStarting?(this.m_impulse.x*=t.dtRatio,this.m_impulse.y*=t.dtRatio,this.m_motorImpulse*=t.dtRatio,t=this.m_impulse.x*this.m_perp.x+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.x,a=this.m_impulse.x*this.m_perp.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.y,h=this.m_impulse.x*this.m_s1+this.m_impulse.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_a1,r=this.m_impulse.x*this.m_s2+this.m_impulse.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_a2,e.m_linearVelocity.x-=this.m_invMassA*t,e.m_linearVelocity.y-=this.m_invMassA*a,e.m_angularVelocity-=this.m_invIA*h,i.m_linearVelocity.x+=this.m_invMassB*t,i.m_linearVelocity.y+=this.m_invMassB*a,i.m_angularVelocity+=this.m_invIB*r):(this.m_impulse.setZero(),this.m_motorImpulse=0)},solveVelocityConstraints:function(t){var e=this.m_bodyA,i=this.m_bodyB,s=e.m_linearVelocity,n=e.m_angularVelocity,r=i.m_linearVelocity,a=i.m_angularVelocity;if(this.m_enableMotor&&3!=this.m_limitState){var o=this.m_motorMass*(this.m_motorSpeed-(this.m_axis.x*(r.x-s.x)+this.m_axis.y*(r.y-s.y)+this.m_a2*a-this.m_a1*n)),l=this.m_motorImpulse;t=t.dt*this.m_maxMotorForce,this.m_motorImpulse=Rt.clamp(this.m_motorImpulse+o,-t,t),l=(o=this.m_motorImpulse-l)*this.m_axis.x,t=o*this.m_axis.y;var h=o*this.m_a1;o*=this.m_a2,s.x-=this.m_invMassA*l,s.y-=this.m_invMassA*t,n-=this.m_invIA*h,r.x+=this.m_invMassB*l,r.y+=this.m_invMassB*t,a+=this.m_invIB*o}h=this.m_perp.x*(r.x-s.x)+this.m_perp.y*(r.y-s.y)+this.m_s2*a-this.m_s1*n,t=a-n,this.m_enableLimit&&0!=this.m_limitState?(o=this.m_axis.x*(r.x-s.x)+this.m_axis.y*(r.y-s.y)+this.m_a2*a-this.m_a1*n,l=this.m_impulse.copy(),o=this.m_K.solve33(new Tt,-h,-t,-o),this.m_impulse.add(o),1==this.m_limitState?this.m_impulse.z=Rt.max(this.m_impulse.z,0):2==this.m_limitState&&(this.m_impulse.z=Rt.min(this.m_impulse.z,0)),h=-h-(this.m_impulse.z-l.z)*this.m_K.col3.x,t=-t-(this.m_impulse.z-l.z)*this.m_K.col3.y,(t=this.m_K.solve22(new G,h,t)).x+=l.x,t.y+=l.y,this.m_impulse.x=t.x,this.m_impulse.y=t.y,o.x=this.m_impulse.x-l.x,o.y=this.m_impulse.y-l.y,o.z=this.m_impulse.z-l.z,l=o.x*this.m_perp.x+o.z*this.m_axis.x,t=o.x*this.m_perp.y+o.z*this.m_axis.y,h=o.x*this.m_s1+o.y+o.z*this.m_a1,o=o.x*this.m_s2+o.y+o.z*this.m_a2):(o=this.m_K.solve22(new G,-h,-t),this.m_impulse.x+=o.x,this.m_impulse.y+=o.y,l=o.x*this.m_perp.x,t=o.x*this.m_perp.y,h=o.x*this.m_s1+o.y,o=o.x*this.m_s2+o.y),s.x-=this.m_invMassA*l,s.y-=this.m_invMassA*t,n-=this.m_invIA*h,r.x+=this.m_invMassB*l,r.y+=this.m_invMassB*t,a+=this.m_invIB*o,(o=e.m_linearVelocity).x=s.x,o.y=s.y,e.m_angularVelocity=n,(o=i.m_linearVelocity).x=r.x,o.y=r.y,i.m_angularVelocity=a},solvePositionConstraints:function(t){t=this.m_bodyA;var e=this.m_bodyB,i=t.m_sweep.c,s=t.m_sweep.a,n=e.m_sweep.c,r=e.m_sweep.a,a=0,o=!1,l=0,h=dt.fromAngle(s),_=dt.fromAngle(r),c=h,u=this.m_localAnchor1.x-this.m_localCenterA.x,d=this.m_localAnchor1.y-this.m_localCenterA.y,m=c.col1.x*u+c.col2.x*d;d=c.col1.y*u+c.col2.y*d,u=m,c=_,_=this.m_localAnchor2.x-this.m_localCenterB.x;var p=this.m_localAnchor2.y-this.m_localCenterB.y;if(m=c.col1.x*_+c.col2.x*p,p=c.col1.y*_+c.col2.y*p,_=m,c=n.x+_-i.x-u,m=n.y+p-i.y-d,this.m_enableLimit){this.m_axis=Rt.mulMV(h,this.m_localXAxis1),this.m_a1=(c+u)*this.m_axis.y-(m+d)*this.m_axis.x,this.m_a2=_*this.m_axis.y-p*this.m_axis.x;var f=this.m_axis.x*c+this.m_axis.y*m;Rt.abs(this.m_upperTranslation-this.m_lowerTranslation)<2*wt.b2_linearSlop?(l=Rt.clamp(f,-wt.b2_maxLinearCorrection,wt.b2_maxLinearCorrection),a=Rt.abs(f),o=!0):f<=this.m_lowerTranslation?(l=Rt.clamp(f-this.m_lowerTranslation+wt.b2_linearSlop,-wt.b2_maxLinearCorrection,0),a=this.m_lowerTranslation-f,o=!0):f>=this.m_upperTranslation&&(l=Rt.clamp(f-this.m_upperTranslation+wt.b2_linearSlop,0,wt.b2_maxLinearCorrection),a=f-this.m_upperTranslation,o=!0)}return this.m_perp=Rt.mulMV(h,this.m_localYAxis1),this.m_s1=(c+u)*this.m_perp.y-(m+d)*this.m_perp.x,this.m_s2=_*this.m_perp.y-p*this.m_perp.x,h=new Tt,d=this.m_perp.x*c+this.m_perp.y*m,_=r-s-this.m_refAngle,a=Rt.max(a,Rt.abs(d)),u=Rt.abs(_),o?(o=this.m_invMassA,p=this.m_invMassB,c=this.m_invIA,m=this.m_invIB,this.m_K.col1.x=o+p+c*this.m_s1*this.m_s1+m*this.m_s2*this.m_s2,this.m_K.col1.y=c*this.m_s1+m*this.m_s2,this.m_K.col1.z=c*this.m_s1*this.m_a1+m*this.m_s2*this.m_a2,this.m_K.col2.x=this.m_K.col1.y,this.m_K.col2.y=c+m,this.m_K.col2.z=c*this.m_a1+m*this.m_a2,this.m_K.col3.x=this.m_K.col1.z,this.m_K.col3.y=this.m_K.col2.z,this.m_K.col3.z=o+p+c*this.m_a1*this.m_a1+m*this.m_a2*this.m_a2,this.m_K.solve33(h,-d,-_,-l)):(o=this.m_invMassA,p=this.m_invMassB,c=this.m_invIA,m=this.m_invIB,l=c*this.m_s1+m*this.m_s2,f=c+m,this.m_K.col1.set(o+p+c*this.m_s1*this.m_s1+m*this.m_s2*this.m_s2,l,0),this.m_K.col2.set(l,f,0),l=this.m_K.solve22(new G,-d,-_),h.x=l.x,h.y=l.y,h.z=0),l=h.x*this.m_perp.x+h.z*this.m_axis.x,o=h.x*this.m_perp.y+h.z*this.m_axis.y,d=h.x*this.m_s1+h.y+h.z*this.m_a1,h=h.x*this.m_s2+h.y+h.z*this.m_a2,i.x-=this.m_invMassA*l,i.y-=this.m_invMassA*o,s-=this.m_invIA*d,n.x+=this.m_invMassB*l,n.y+=this.m_invMassB*o,r+=this.m_invIB*h,t.m_sweep.a=s,e.m_sweep.a=r,t.synchronizeTransform(),e.synchronizeTransform(),a<=wt.b2_linearSlop&&u<=wt.b2_angularSlop},m_localAnchor1:null,m_localAnchor2:null,m_localXAxis1:null,m_localYAxis1:null,m_refAngle:null,m_axis:null,m_perp:null,m_s1:null,m_s2:null,m_a1:null,m_a2:null,m_K:null,m_impulse:null,m_motorMass:null,m_motorImpulse:null,m_lowerTranslation:null,m_upperTranslation:null,m_maxMotorForce:null,m_motorSpeed:null,m_enableLimit:null,m_enableMotor:null,m_limitState:null,__class__:Re});var Ae=function(){ue.call(this),this.localAnchorA=new G,this.localAnchorB=new G,this.localAxisA=new G,this.type=2;var t=this.localAxisA,e=1,i=0;null==i&&(i=0),null==e&&(e=0),t.x=e,t.y=i,this.referenceAngle=0,this.enableLimit=!1,this.upperTranslation=this.lowerTranslation=0,this.enableMotor=!1,this.motorSpeed=this.maxMotorForce=0};r["box2D.dynamics.joints.B2PrismaticJointDef"]=Ae,Ae.__name__="box2D.dynamics.joints.B2PrismaticJointDef",Ae.__super__=ue,Ae.prototype=i(ue.prototype,{initialize:function(t,e,i,s){this.bodyA=t,this.bodyB=e,this.localAnchorA=this.bodyA.getLocalPoint(i),this.localAnchorB=this.bodyB.getLocalPoint(i),this.localAxisA=this.bodyA.getLocalVector(s),this.referenceAngle=this.bodyB.getAngle()-this.bodyA.getAngle()},localAnchorA:null,localAnchorB:null,localAxisA:null,referenceAngle:null,enableLimit:null,lowerTranslation:null,upperTranslation:null,enableMotor:null,maxMotorForce:null,motorSpeed:null,__class__:Ae});var Te=function(t){_e.call(this,t),this.m_groundAnchor1=new G,this.m_groundAnchor2=new G,this.m_localAnchor1=new G,this.m_localAnchor2=new G,this.m_u1=new G,this.m_u2=new G,this.m_ground=this.m_bodyA.m_world.m_groundBody,this.m_groundAnchor1.x=t.groundAnchorA.x-this.m_ground.m_xf.position.x,this.m_groundAnchor1.y=t.groundAnchorA.y-this.m_ground.m_xf.position.y,this.m_groundAnchor2.x=t.groundAnchorB.x-this.m_ground.m_xf.position.x,this.m_groundAnchor2.y=t.groundAnchorB.y-this.m_ground.m_xf.position.y;var e=this.m_localAnchor1,i=t.localAnchorA;e.x=i.x,e.y=i.y,e=this.m_localAnchor2,i=t.localAnchorB,e.x=i.x,e.y=i.y,this.m_ratio=t.ratio,this.m_constant=t.lengthA+this.m_ratio*t.lengthB,this.m_maxLength1=Rt.min(t.maxLengthA,this.m_constant-this.m_ratio*Te.b2_minPulleyLength),this.m_maxLength2=Rt.min(t.maxLengthB,(this.m_constant-Te.b2_minPulleyLength)/this.m_ratio),this.m_limitImpulse2=this.m_limitImpulse1=this.m_impulse=0};r["box2D.dynamics.joints.B2PulleyJoint"]=Te,Te.__name__="box2D.dynamics.joints.B2PulleyJoint",Te.__super__=_e,Te.prototype=i(_e.prototype,{getAnchorA:function(){return this.m_bodyA.getWorldPoint(this.m_localAnchor1)},getAnchorB:function(){return this.m_bodyB.getWorldPoint(this.m_localAnchor2)},getReactionForce:function(t){return new G(t*this.m_impulse*this.m_u2.x,t*this.m_impulse*this.m_u2.y)},getReactionTorque:function(t){return 0},getGroundAnchorA:function(){var t=this.m_ground.m_xf.position.copy();return t.add(this.m_groundAnchor1),t},getGroundAnchorB:function(){var t=this.m_ground.m_xf.position.copy();return t.add(this.m_groundAnchor2),t},getLength1:function(){var t=this.m_bodyA.getWorldPoint(this.m_localAnchor1),e=t.x-(this.m_ground.m_xf.position.x+this.m_groundAnchor1.x);return t=t.y-(this.m_ground.m_xf.position.y+this.m_groundAnchor1.y),Math.sqrt(e*e+t*t)},getLength2:function(){var t=this.m_bodyB.getWorldPoint(this.m_localAnchor2),e=t.x-(this.m_ground.m_xf.position.x+this.m_groundAnchor2.x);return t=t.y-(this.m_ground.m_xf.position.y+this.m_groundAnchor2.y),Math.sqrt(e*e+t*t)},getRatio:function(){return this.m_ratio},initVelocityConstraints:function(t){var e=this.m_bodyA,i=this.m_bodyB,s=e.m_xf.R,n=this.m_localAnchor1.x-e.m_sweep.localCenter.x,r=this.m_localAnchor1.y-e.m_sweep.localCenter.y,a=s.col1.x*n+s.col2.x*r;r=s.col1.y*n+s.col2.y*r,n=a,s=i.m_xf.R;var o=this.m_localAnchor2.x-i.m_sweep.localCenter.x,l=this.m_localAnchor2.y-i.m_sweep.localCenter.y;a=s.col1.x*o+s.col2.x*l,l=s.col1.y*o+s.col2.y*l,o=a,a=i.m_sweep.c.x+o;var h=i.m_sweep.c.y+l,_=this.m_ground.m_xf.position.x+this.m_groundAnchor2.x,c=this.m_ground.m_xf.position.y+this.m_groundAnchor2.y;s=this.m_u1;var u=e.m_sweep.c.x+n-(this.m_ground.m_xf.position.x+this.m_groundAnchor1.x),d=e.m_sweep.c.y+r-(this.m_ground.m_xf.position.y+this.m_groundAnchor1.y);null==d&&(d=0),null==u&&(u=0),s.x=u,s.y=d,null==(d=h-c)&&(d=0),null==(u=a-_)&&(u=0),(s=this.m_u2).x=u,s.y=d,a=this.m_u1.length(),h=this.m_u2.length(),a>wt.b2_linearSlop?this.m_u1.multiply(1/a):((s=this.m_u1).x=0,s.y=0),h>wt.b2_linearSlop?this.m_u2.multiply(1/h):((s=this.m_u2).x=0,s.y=0),0<this.m_constant-a-this.m_ratio*h?this.m_impulse=this.m_state=0:this.m_state=2,a<this.m_maxLength1?this.m_limitImpulse1=this.m_limitState1=0:this.m_limitState1=2,h<this.m_maxLength2?this.m_limitImpulse2=this.m_limitState2=0:this.m_limitState2=2,s=n*this.m_u1.y-r*this.m_u1.x,a=o*this.m_u2.y-l*this.m_u2.x,this.m_limitMass1=e.m_invMass+e.m_invI*s*s,this.m_limitMass2=i.m_invMass+i.m_invI*a*a,this.m_pulleyMass=this.m_limitMass1+this.m_ratio*this.m_ratio*this.m_limitMass2,this.m_limitMass1=1/this.m_limitMass1,this.m_limitMass2=1/this.m_limitMass2,this.m_pulleyMass=1/this.m_pulleyMass,t.warmStarting?(this.m_impulse*=t.dtRatio,this.m_limitImpulse1*=t.dtRatio,this.m_limitImpulse2*=t.dtRatio,t=(-this.m_impulse-this.m_limitImpulse1)*this.m_u1.x,s=(-this.m_impulse-this.m_limitImpulse1)*this.m_u1.y,a=(-this.m_ratio*this.m_impulse-this.m_limitImpulse2)*this.m_u2.x,h=(-this.m_ratio*this.m_impulse-this.m_limitImpulse2)*this.m_u2.y,e.m_linearVelocity.x+=e.m_invMass*t,e.m_linearVelocity.y+=e.m_invMass*s,e.m_angularVelocity+=e.m_invI*(n*s-r*t),i.m_linearVelocity.x+=i.m_invMass*a,i.m_linearVelocity.y+=i.m_invMass*h,i.m_angularVelocity+=i.m_invI*(o*h-l*a)):this.m_limitImpulse2=this.m_limitImpulse1=this.m_impulse=0},solveVelocityConstraints:function(t){t=this.m_bodyA;var e=this.m_bodyB,i=t.m_xf.R,s=this.m_localAnchor1.x-t.m_sweep.localCenter.x,n=this.m_localAnchor1.y-t.m_sweep.localCenter.y,r=i.col1.x*s+i.col2.x*n;n=i.col1.y*s+i.col2.y*n,s=r,i=e.m_xf.R;var a=this.m_localAnchor2.x-e.m_sweep.localCenter.x,o=this.m_localAnchor2.y-e.m_sweep.localCenter.y;if(r=i.col1.x*a+i.col2.x*o,o=i.col1.y*a+i.col2.y*o,a=r,2==this.m_state){i=t.m_linearVelocity.x+-t.m_angularVelocity*n,r=t.m_linearVelocity.y+t.m_angularVelocity*s;var l=e.m_linearVelocity.x+-e.m_angularVelocity*o,h=e.m_linearVelocity.y+e.m_angularVelocity*a;i=-(this.m_u1.x*i+this.m_u1.y*r)-this.m_ratio*(this.m_u2.x*l+this.m_u2.y*h),h=this.m_pulleyMass*-i,i=this.m_impulse,this.m_impulse=Rt.max(0,this.m_impulse+h),i=-(h=this.m_impulse-i)*this.m_u1.x,r=-h*this.m_u1.y,l=-this.m_ratio*h*this.m_u2.x,h=-this.m_ratio*h*this.m_u2.y,t.m_linearVelocity.x+=t.m_invMass*i,t.m_linearVelocity.y+=t.m_invMass*r,t.m_angularVelocity+=t.m_invI*(s*r-n*i),e.m_linearVelocity.x+=e.m_invMass*l,e.m_linearVelocity.y+=e.m_invMass*h,e.m_angularVelocity+=e.m_invI*(a*h-o*l)}2==this.m_limitState1&&(i=t.m_linearVelocity.x+-t.m_angularVelocity*n,r=t.m_linearVelocity.y+t.m_angularVelocity*s,i=-(this.m_u1.x*i+this.m_u1.y*r),h=-this.m_limitMass1*i,i=this.m_limitImpulse1,this.m_limitImpulse1=Rt.max(0,this.m_limitImpulse1+h),i=-(h=this.m_limitImpulse1-i)*this.m_u1.x,r=-h*this.m_u1.y,t.m_linearVelocity.x+=t.m_invMass*i,t.m_linearVelocity.y+=t.m_invMass*r,t.m_angularVelocity+=t.m_invI*(s*r-n*i)),2==this.m_limitState2&&(l=e.m_linearVelocity.x+-e.m_angularVelocity*o,h=e.m_linearVelocity.y+e.m_angularVelocity*a,i=-(this.m_u2.x*l+this.m_u2.y*h),h=-this.m_limitMass2*i,i=this.m_limitImpulse2,this.m_limitImpulse2=Rt.max(0,this.m_limitImpulse2+h),l=-(h=this.m_limitImpulse2-i)*this.m_u2.x,h=-h*this.m_u2.y,e.m_linearVelocity.x+=e.m_invMass*l,e.m_linearVelocity.y+=e.m_invMass*h,e.m_angularVelocity+=e.m_invI*(a*h-o*l))},solvePositionConstraints:function(t){t=this.m_bodyA;var e=this.m_bodyB,i=this.m_ground.m_xf.position.x+this.m_groundAnchor1.x,s=this.m_ground.m_xf.position.y+this.m_groundAnchor1.y,n=this.m_ground.m_xf.position.x+this.m_groundAnchor2.x,r=this.m_ground.m_xf.position.y+this.m_groundAnchor2.y,a=0;if(2==this.m_state){var o=t.m_xf.R,l=this.m_localAnchor1.x-t.m_sweep.localCenter.x,h=this.m_localAnchor1.y-t.m_sweep.localCenter.y,_=o.col1.x*l+o.col2.x*h;h=o.col1.y*l+o.col2.y*h,l=_,o=e.m_xf.R;var c=this.m_localAnchor2.x-e.m_sweep.localCenter.x,u=this.m_localAnchor2.y-e.m_sweep.localCenter.y;_=o.col1.x*c+o.col2.x*u,u=o.col1.y*c+o.col2.y*u,c=_;var d=t.m_sweep.c.x+l,m=t.m_sweep.c.y+h;_=e.m_sweep.c.x+c;var p=e.m_sweep.c.y+u;null==(m-=s)&&(m=0),null==(d-=i)&&(d=0),(o=this.m_u1).x=d,o.y=m,null==(m=p-r)&&(m=0),null==(d=_-n)&&(d=0),(o=this.m_u2).x=d,o.y=m,_=this.m_u1.length(),m=this.m_u2.length(),_>wt.b2_linearSlop?this.m_u1.multiply(1/_):((o=this.m_u1).x=0,o.y=0),m>wt.b2_linearSlop?this.m_u2.multiply(1/m):((o=this.m_u2).x=0,o.y=0),o=this.m_constant-_-this.m_ratio*m,a=Rt.max(a,-o),o=Rt.clamp(o+wt.b2_linearSlop,-wt.b2_maxLinearCorrection,0),d=-(o*=-this.m_pulleyMass)*this.m_u1.x,m=-o*this.m_u1.y,_=-this.m_ratio*o*this.m_u2.x,p=-this.m_ratio*o*this.m_u2.y,t.m_sweep.c.x+=t.m_invMass*d,t.m_sweep.c.y+=t.m_invMass*m,t.m_sweep.a+=t.m_invI*(l*m-h*d),e.m_sweep.c.x+=e.m_invMass*_,e.m_sweep.c.y+=e.m_invMass*p,e.m_sweep.a+=e.m_invI*(c*p-u*_),t.synchronizeTransform(),e.synchronizeTransform()}return 2==this.m_limitState1&&(o=t.m_xf.R,l=this.m_localAnchor1.x-t.m_sweep.localCenter.x,h=this.m_localAnchor1.y-t.m_sweep.localCenter.y,_=o.col1.x*l+o.col2.x*h,h=o.col1.y*l+o.col2.y*h,l=_,d=t.m_sweep.c.x+l,m=t.m_sweep.c.y+h,null==(m-=s)&&(m=0),null==(d-=i)&&(d=0),(o=this.m_u1).x=d,o.y=m,(_=this.m_u1.length())>wt.b2_linearSlop?(this.m_u1.x*=1/_,this.m_u1.y*=1/_):((o=this.m_u1).x=0,o.y=0),o=this.m_maxLength1-_,a=Rt.max(a,-o),o=Rt.clamp(o+wt.b2_linearSlop,-wt.b2_maxLinearCorrection,0),d=-(o*=-this.m_limitMass1)*this.m_u1.x,m=-o*this.m_u1.y,t.m_sweep.c.x+=t.m_invMass*d,t.m_sweep.c.y+=t.m_invMass*m,t.m_sweep.a+=t.m_invI*(l*m-h*d),t.synchronizeTransform()),2==this.m_limitState2&&(o=e.m_xf.R,c=this.m_localAnchor2.x-e.m_sweep.localCenter.x,u=this.m_localAnchor2.y-e.m_sweep.localCenter.y,_=o.col1.x*c+o.col2.x*u,u=o.col1.y*c+o.col2.y*u,c=_,_=e.m_sweep.c.x+c,null==(m=(p=e.m_sweep.c.y+u)-r)&&(m=0),null==(d=_-n)&&(d=0),(o=this.m_u2).x=d,o.y=m,(m=this.m_u2.length())>wt.b2_linearSlop?(this.m_u2.x*=1/m,this.m_u2.y*=1/m):((o=this.m_u2).x=0,o.y=0),o=this.m_maxLength2-m,a=Rt.max(a,-o),o=Rt.clamp(o+wt.b2_linearSlop,-wt.b2_maxLinearCorrection,0),_=-(o*=-this.m_limitMass2)*this.m_u2.x,p=-o*this.m_u2.y,e.m_sweep.c.x+=e.m_invMass*_,e.m_sweep.c.y+=e.m_invMass*p,e.m_sweep.a+=e.m_invI*(c*p-u*_),e.synchronizeTransform()),a<wt.b2_linearSlop},m_ground:null,m_groundAnchor1:null,m_groundAnchor2:null,m_localAnchor1:null,m_localAnchor2:null,m_u1:null,m_u2:null,m_constant:null,m_ratio:null,m_maxLength1:null,m_maxLength2:null,m_pulleyMass:null,m_limitMass1:null,m_limitMass2:null,m_impulse:null,m_limitImpulse1:null,m_limitImpulse2:null,m_state:null,m_limitState1:null,m_limitState2:null,__class__:Te});var Me=function(){ue.call(this),this.groundAnchorA=new G,this.groundAnchorB=new G,this.localAnchorA=new G,this.localAnchorB=new G,this.type=4;var t=this.groundAnchorA,e=-1,i=1;null==i&&(i=0),null==e&&(e=0),t.x=e,t.y=i,null==(i=e=1)&&(i=0),null==e&&(e=0),(t=this.groundAnchorB).x=e,t.y=i,null==(i=0)&&(i=0),null==(e=-1)&&(e=0),(t=this.localAnchorA).x=e,t.y=i,null==(i=0)&&(i=0),null==(e=1)&&(e=0),(t=this.localAnchorB).x=e,t.y=i,this.maxLengthB=this.lengthB=this.maxLengthA=this.lengthA=0,this.ratio=1,this.collideConnected=!0};r["box2D.dynamics.joints.B2PulleyJointDef"]=Me,Me.__name__="box2D.dynamics.joints.B2PulleyJointDef",Me.__super__=ue,Me.prototype=i(ue.prototype,{initialize:function(t,e,i,s,n,r,a){this.bodyA=t,this.bodyB=e,(t=this.groundAnchorA).x=i.x,t.y=i.y,(t=this.groundAnchorB).x=s.x,t.y=s.y,this.localAnchorA=this.bodyA.getLocalPoint(n),this.localAnchorB=this.bodyB.getLocalPoint(r),t=n.x-i.x,i=n.y-i.y,this.lengthA=Math.sqrt(t*t+i*i),i=r.x-s.x,s=r.y-s.y,this.lengthB=Math.sqrt(i*i+s*s),this.ratio=a,a=this.lengthA+this.ratio*this.lengthB,this.maxLengthA=a-this.ratio*Te.b2_minPulleyLength,this.maxLengthB=(a-Te.b2_minPulleyLength)/this.ratio},groundAnchorA:null,groundAnchorB:null,localAnchorA:null,localAnchorB:null,lengthA:null,maxLengthA:null,lengthB:null,maxLengthB:null,ratio:null,__class__:Me});var Pe=function(t){_e.call(this,t),this.K=new dt,this.K1=new dt,this.K2=new dt,this.K3=new dt,this.impulse3=new Tt,this.impulse2=new G,this.reduced=new G,this.m_localAnchor1=new G,this.m_localAnchor2=new G,this.m_impulse=new Tt,this.m_mass=new St;var e=this.m_localAnchor1,i=t.localAnchorA;e.x=i.x,e.y=i.y,e=this.m_localAnchor2,i=t.localAnchorB,e.x=i.x,e.y=i.y,this.m_referenceAngle=t.referenceAngle,this.m_impulse.setZero(),this.m_motorImpulse=0,this.m_lowerAngle=t.lowerAngle,this.m_upperAngle=t.upperAngle,this.m_maxMotorTorque=t.maxMotorTorque,this.m_motorSpeed=t.motorSpeed,this.m_enableLimit=t.enableLimit,this.m_enableMotor=t.enableMotor,this.m_limitState=0};r["box2D.dynamics.joints.B2RevoluteJoint"]=Pe,Pe.__name__="box2D.dynamics.joints.B2RevoluteJoint",Pe.__super__=_e,Pe.prototype=i(_e.prototype,{getAnchorA:function(){return this.m_bodyA.getWorldPoint(this.m_localAnchor1)},getAnchorB:function(){return this.m_bodyB.getWorldPoint(this.m_localAnchor2)},getReactionForce:function(t){return new G(t*this.m_impulse.x,t*this.m_impulse.y)},getReactionTorque:function(t){return t*this.m_impulse.z},getJointAngle:function(){return this.m_bodyB.m_sweep.a-this.m_bodyA.m_sweep.a-this.m_referenceAngle},getJointSpeed:function(){return this.m_bodyB.m_angularVelocity-this.m_bodyA.m_angularVelocity},isLimitEnabled:function(){return this.m_enableLimit},enableLimit:function(t){this.m_enableLimit=t},getLowerLimit:function(){return this.m_lowerAngle},getUpperLimit:function(){return this.m_upperAngle},setLimits:function(t,e){this.m_lowerAngle=t,this.m_upperAngle=e},isMotorEnabled:function(){return this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_enableMotor},enableMotor:function(t){this.m_enableMotor=t},setMotorSpeed:function(t){this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_motorSpeed=t},getMotorSpeed:function(){return this.m_motorSpeed},setMaxMotorTorque:function(t){this.m_maxMotorTorque=t},getMotorTorque:function(){return this.m_maxMotorTorque},K:null,K1:null,K2:null,K3:null,initVelocityConstraints:function(t){var e=this.m_bodyA,i=this.m_bodyB,s=e.m_xf.R,n=this.m_localAnchor1.x-e.m_sweep.localCenter.x,r=this.m_localAnchor1.y-e.m_sweep.localCenter.y,a=s.col1.x*n+s.col2.x*r;r=s.col1.y*n+s.col2.y*r,n=a,s=i.m_xf.R;var o=this.m_localAnchor2.x-i.m_sweep.localCenter.x,l=this.m_localAnchor2.y-i.m_sweep.localCenter.y;a=s.col1.x*o+s.col2.x*l,l=s.col1.y*o+s.col2.y*l,o=a,s=e.m_invMass,a=i.m_invMass;var h=e.m_invI,_=i.m_invI;if(this.m_mass.col1.x=s+a+r*r*h+l*l*_,this.m_mass.col2.x=-r*n*h-l*o*_,this.m_mass.col3.x=-r*h-l*_,this.m_mass.col1.y=this.m_mass.col2.x,this.m_mass.col2.y=s+a+n*n*h+o*o*_,this.m_mass.col3.y=n*h+o*_,this.m_mass.col1.z=this.m_mass.col3.x,this.m_mass.col2.z=this.m_mass.col3.y,this.m_mass.col3.z=h+_,this.m_motorMass=1/(h+_),0==this.m_enableMotor&&(this.m_motorImpulse=0),this.m_enableLimit){var c=i.m_sweep.a-e.m_sweep.a-this.m_referenceAngle;Rt.abs(this.m_upperAngle-this.m_lowerAngle)<2*wt.b2_angularSlop?this.m_limitState=3:c<=this.m_lowerAngle?(1!=this.m_limitState&&(this.m_impulse.z=0),this.m_limitState=1):c>=this.m_upperAngle?(2!=this.m_limitState&&(this.m_impulse.z=0),this.m_limitState=2):(this.m_limitState=0,this.m_impulse.z=0)}else this.m_limitState=0;t.warmStarting?(this.m_impulse.x*=t.dtRatio,this.m_impulse.y*=t.dtRatio,this.m_motorImpulse*=t.dtRatio,t=this.m_impulse.x,c=this.m_impulse.y,e.m_linearVelocity.x-=s*t,e.m_linearVelocity.y-=s*c,e.m_angularVelocity-=h*(n*c-r*t+this.m_motorImpulse+this.m_impulse.z),i.m_linearVelocity.x+=a*t,i.m_linearVelocity.y+=a*c,i.m_angularVelocity+=_*(o*c-l*t+this.m_motorImpulse+this.m_impulse.z)):(this.m_impulse.setZero(),this.m_motorImpulse=0)},impulse3:null,impulse2:null,reduced:null,solveVelocityConstraints:function(t){var e=this.m_bodyA,i=this.m_bodyB,s=e.m_linearVelocity,n=e.m_angularVelocity,r=i.m_linearVelocity,a=i.m_angularVelocity,o=e.m_invMass,l=i.m_invMass,h=e.m_invI,_=i.m_invI;if(this.m_enableMotor&&3!=this.m_limitState){var c=this.m_motorMass*-(a-n-this.m_motorSpeed),u=this.m_motorImpulse;t=t.dt*this.m_maxMotorTorque,this.m_motorImpulse=Rt.clamp(this.m_motorImpulse+c,-t,t),n-=h*(c=this.m_motorImpulse-u),a+=_*c}if(this.m_enableLimit&&0!=this.m_limitState){var d=e.m_xf.R;c=this.m_localAnchor1.x-e.m_sweep.localCenter.x,u=this.m_localAnchor1.y-e.m_sweep.localCenter.y;var m=d.col1.x*c+d.col2.x*u;u=d.col1.y*c+d.col2.y*u,c=m,d=i.m_xf.R,t=this.m_localAnchor2.x-i.m_sweep.localCenter.x;var p=this.m_localAnchor2.y-i.m_sweep.localCenter.y;m=d.col1.x*t+d.col2.x*p,p=d.col1.y*t+d.col2.y*p,t=m,m=r.x+-a*p-s.x- -n*u;var f=r.y+a*t-s.y-n*c;this.m_mass.solve33(this.impulse3,-m,-f,-(a-n)),3==this.m_limitState?this.m_impulse.add(this.impulse3):1==this.m_limitState?0>(d=this.m_impulse.z+this.impulse3.z)&&(this.m_mass.solve22(this.reduced,-m,-f),this.impulse3.x=this.reduced.x,this.impulse3.y=this.reduced.y,this.impulse3.z=-this.m_impulse.z,this.m_impulse.x+=this.reduced.x,this.m_impulse.y+=this.reduced.y,this.m_impulse.z=0):2==this.m_limitState&&0<(d=this.m_impulse.z+this.impulse3.z)&&(this.m_mass.solve22(this.reduced,-m,-f),this.impulse3.x=this.reduced.x,this.impulse3.y=this.reduced.y,this.impulse3.z=-this.m_impulse.z,this.m_impulse.x+=this.reduced.x,this.m_impulse.y+=this.reduced.y,this.m_impulse.z=0),s.x-=o*this.impulse3.x,s.y-=o*this.impulse3.y,n-=h*(c*this.impulse3.y-u*this.impulse3.x+this.impulse3.z),r.x+=l*this.impulse3.x,r.y+=l*this.impulse3.y,a+=_*(t*this.impulse3.y-p*this.impulse3.x+this.impulse3.z)}else d=e.m_xf.R,c=this.m_localAnchor1.x-e.m_sweep.localCenter.x,u=this.m_localAnchor1.y-e.m_sweep.localCenter.y,m=d.col1.x*c+d.col2.x*u,u=d.col1.y*c+d.col2.y*u,c=m,d=i.m_xf.R,t=this.m_localAnchor2.x-i.m_sweep.localCenter.x,p=this.m_localAnchor2.y-i.m_sweep.localCenter.y,m=d.col1.x*t+d.col2.x*p,p=d.col1.y*t+d.col2.y*p,t=m,this.m_mass.solve22(this.impulse2,-(r.x+-a*p-s.x- -n*u),-(r.y+a*t-s.y-n*c)),this.m_impulse.x+=this.impulse2.x,this.m_impulse.y+=this.impulse2.y,s.x-=o*this.impulse2.x,s.y-=o*this.impulse2.y,n-=h*(c*this.impulse2.y-u*this.impulse2.x),r.x+=l*this.impulse2.x,r.y+=l*this.impulse2.y,a+=_*(t*this.impulse2.y-p*this.impulse2.x);(o=e.m_linearVelocity).x=s.x,o.y=s.y,e.m_angularVelocity=n,(o=i.m_linearVelocity).x=r.x,o.y=r.y,i.m_angularVelocity=a},solvePositionConstraints:function(t){t=this.m_bodyA;var e=this.m_bodyB,i=0;if(this.m_enableLimit&&0!=this.m_limitState){var s=e.m_sweep.a-t.m_sweep.a-this.m_referenceAngle,n=0;3==this.m_limitState?(s=Rt.clamp(s-this.m_lowerAngle,-wt.b2_maxAngularCorrection,wt.b2_maxAngularCorrection),n=-this.m_motorMass*s,i=Rt.abs(s)):1==this.m_limitState?(i=-(s-=this.m_lowerAngle),s=Rt.clamp(s+wt.b2_angularSlop,-wt.b2_maxAngularCorrection,0),n=-this.m_motorMass*s):2==this.m_limitState&&(i=s-=this.m_upperAngle,s=Rt.clamp(s-wt.b2_angularSlop,0,wt.b2_maxAngularCorrection),n=-this.m_motorMass*s),t.m_sweep.a-=t.m_invI*n,e.m_sweep.a+=e.m_invI*n,t.synchronizeTransform(),e.synchronizeTransform()}var r=t.m_xf.R;n=this.m_localAnchor1.x-t.m_sweep.localCenter.x,s=this.m_localAnchor1.y-t.m_sweep.localCenter.y;var a=r.col1.x*n+r.col2.x*s;s=r.col1.y*n+r.col2.y*s,n=a,r=e.m_xf.R;var o=this.m_localAnchor2.x-e.m_sweep.localCenter.x,l=this.m_localAnchor2.y-e.m_sweep.localCenter.y;a=r.col1.x*o+r.col2.x*l,l=r.col1.y*o+r.col2.y*l,o=a;var h=e.m_sweep.c.x+o-t.m_sweep.c.x-n,_=e.m_sweep.c.y+l-t.m_sweep.c.y-s,c=h*h+_*_;r=Math.sqrt(c),a=t.m_invMass;var u=e.m_invMass,d=t.m_invI,m=e.m_invI,p=10*wt.b2_linearSlop;return c>p*p&&(h=(c=1/(a+u))*-h,_=c*-_,t.m_sweep.c.x-=.5*a*h,t.m_sweep.c.y-=.5*a*_,e.m_sweep.c.x+=.5*u*h,e.m_sweep.c.y+=.5*u*_,h=e.m_sweep.c.x+o-t.m_sweep.c.x-n,_=e.m_sweep.c.y+l-t.m_sweep.c.y-s),this.K1.col1.x=a+u,this.K1.col2.x=0,this.K1.col1.y=0,this.K1.col2.y=a+u,this.K2.col1.x=d*s*s,this.K2.col2.x=-d*n*s,this.K2.col1.y=-d*n*s,this.K2.col2.y=d*n*n,this.K3.col1.x=m*l*l,this.K3.col2.x=-m*o*l,this.K3.col1.y=-m*o*l,this.K3.col2.y=m*o*o,this.K.setM(this.K1),this.K.addM(this.K2),this.K.addM(this.K3),this.K.solve(Pe.tImpulse,-h,-_),h=Pe.tImpulse.x,_=Pe.tImpulse.y,t.m_sweep.c.x-=t.m_invMass*h,t.m_sweep.c.y-=t.m_invMass*_,t.m_sweep.a-=t.m_invI*(n*_-s*h),e.m_sweep.c.x+=e.m_invMass*h,e.m_sweep.c.y+=e.m_invMass*_,e.m_sweep.a+=e.m_invI*(o*_-l*h),t.synchronizeTransform(),e.synchronizeTransform(),r<=wt.b2_linearSlop&&i<=wt.b2_angularSlop},m_localAnchor1:null,m_localAnchor2:null,m_impulse:null,m_motorImpulse:null,m_mass:null,m_motorMass:null,m_enableMotor:null,m_maxMotorTorque:null,m_motorSpeed:null,m_enableLimit:null,m_referenceAngle:null,m_lowerAngle:null,m_upperAngle:null,m_limitState:null,__class__:Pe});var Ce=function(){ue.call(this),this.localAnchorA=new G,this.localAnchorB=new G,this.type=1;var t=this.localAnchorA,e=0,i=0;null==i&&(i=0),null==e&&(e=0),t.x=e,t.y=i,null==(i=e=0)&&(i=0),null==e&&(e=0),(t=this.localAnchorB).x=e,t.y=i,this.motorSpeed=this.maxMotorTorque=this.upperAngle=this.lowerAngle=this.referenceAngle=0,this.enableMotor=this.enableLimit=!1};r["box2D.dynamics.joints.B2RevoluteJointDef"]=Ce,Ce.__name__="box2D.dynamics.joints.B2RevoluteJointDef",Ce.__super__=ue,Ce.prototype=i(ue.prototype,{initialize:function(t,e,i){this.bodyA=t,this.bodyB=e,this.localAnchorA=this.bodyA.getLocalPoint(i),this.localAnchorB=this.bodyB.getLocalPoint(i),this.referenceAngle=this.bodyB.getAngle()-this.bodyA.getAngle()},localAnchorA:null,localAnchorB:null,referenceAngle:null,enableLimit:null,lowerAngle:null,upperAngle:null,enableMotor:null,motorSpeed:null,maxMotorTorque:null,__class__:Ce});var Ie=function(t){_e.call(this,t),this.m_localAnchorA=new G,this.m_localAnchorB=new G,this.m_impulse=new Tt,this.m_mass=new St;var e=this.m_localAnchorA,i=t.localAnchorA;e.x=i.x,e.y=i.y,e=this.m_localAnchorB,i=t.localAnchorB,e.x=i.x,e.y=i.y,this.m_referenceAngle=t.referenceAngle,this.m_impulse.setZero(),this.m_mass=new St};r["box2D.dynamics.joints.B2WeldJoint"]=Ie,Ie.__name__="box2D.dynamics.joints.B2WeldJoint",Ie.__super__=_e,Ie.prototype=i(_e.prototype,{getAnchorA:function(){return this.m_bodyA.getWorldPoint(this.m_localAnchorA)},getAnchorB:function(){return this.m_bodyB.getWorldPoint(this.m_localAnchorB)},getReactionForce:function(t){return new G(t*this.m_impulse.x,t*this.m_impulse.y)},getReactionTorque:function(t){return t*this.m_impulse.z},initVelocityConstraints:function(t){var e=this.m_bodyA,i=this.m_bodyB,s=e.m_xf.R,n=this.m_localAnchorA.x-e.m_sweep.localCenter.x,r=this.m_localAnchorA.y-e.m_sweep.localCenter.y,a=s.col1.x*n+s.col2.x*r;r=s.col1.y*n+s.col2.y*r,n=a,s=i.m_xf.R;var o=this.m_localAnchorB.x-i.m_sweep.localCenter.x,l=this.m_localAnchorB.y-i.m_sweep.localCenter.y;a=s.col1.x*o+s.col2.x*l,l=s.col1.y*o+s.col2.y*l,o=a,s=e.m_invMass,a=i.m_invMass;var h=e.m_invI,_=i.m_invI;this.m_mass.col1.x=s+a+r*r*h+l*l*_,this.m_mass.col2.x=-r*n*h-l*o*_,this.m_mass.col3.x=-r*h-l*_,this.m_mass.col1.y=this.m_mass.col2.x,this.m_mass.col2.y=s+a+n*n*h+o*o*_,this.m_mass.col3.y=n*h+o*_,this.m_mass.col1.z=this.m_mass.col3.x,this.m_mass.col2.z=this.m_mass.col3.y,this.m_mass.col3.z=h+_,t.warmStarting?(this.m_impulse.x*=t.dtRatio,this.m_impulse.y*=t.dtRatio,this.m_impulse.z*=t.dtRatio,e.m_linearVelocity.x-=s*this.m_impulse.x,e.m_linearVelocity.y-=s*this.m_impulse.y,e.m_angularVelocity-=h*(n*this.m_impulse.y-r*this.m_impulse.x+this.m_impulse.z),i.m_linearVelocity.x+=a*this.m_impulse.x,i.m_linearVelocity.y+=a*this.m_impulse.y,i.m_angularVelocity+=_*(o*this.m_impulse.y-l*this.m_impulse.x+this.m_impulse.z)):this.m_impulse.setZero()},solveVelocityConstraints:function(t){t=this.m_bodyA;var e=this.m_bodyB,i=t.m_linearVelocity,s=t.m_angularVelocity,n=e.m_linearVelocity,r=e.m_angularVelocity,a=t.m_invMass,o=e.m_invMass,l=t.m_invI,h=e.m_invI,_=t.m_xf.R,c=this.m_localAnchorA.x-t.m_sweep.localCenter.x,u=this.m_localAnchorA.y-t.m_sweep.localCenter.y,d=_.col1.x*c+_.col2.x*u;u=_.col1.y*c+_.col2.y*u,c=d,_=e.m_xf.R;var m=this.m_localAnchorB.x-e.m_sweep.localCenter.x,p=this.m_localAnchorB.y-e.m_sweep.localCenter.y;d=_.col1.x*m+_.col2.x*p,p=_.col1.y*m+_.col2.y*p,m=d,_=n.x-r*p-i.x+s*u,d=n.y+r*m-i.y-s*c;var f=r-s,g=new Tt;this.m_mass.solve33(g,-_,-d,-f),this.m_impulse.add(g),i.x-=a*g.x,i.y-=a*g.y,s-=l*(c*g.y-u*g.x+g.z),n.x+=o*g.x,n.y+=o*g.y,r+=h*(m*g.y-p*g.x+g.z),t.m_angularVelocity=s,e.m_angularVelocity=r},solvePositionConstraints:function(t){t=this.m_bodyA;var e=this.m_bodyB,i=t.m_xf.R,s=this.m_localAnchorA.x-t.m_sweep.localCenter.x,n=this.m_localAnchorA.y-t.m_sweep.localCenter.y,r=i.col1.x*s+i.col2.x*n;n=i.col1.y*s+i.col2.y*n,s=r,i=e.m_xf.R;var a=this.m_localAnchorB.x-e.m_sweep.localCenter.x,o=this.m_localAnchorB.y-e.m_sweep.localCenter.y;r=i.col1.x*a+i.col2.x*o,o=i.col1.y*a+i.col2.y*o,a=r,i=t.m_invMass,r=e.m_invMass;var l=t.m_invI,h=e.m_invI,_=e.m_sweep.c.x+a-t.m_sweep.c.x-s,c=e.m_sweep.c.y+o-t.m_sweep.c.y-n,u=e.m_sweep.a-t.m_sweep.a-this.m_referenceAngle,d=10*wt.b2_linearSlop,m=Math.sqrt(_*_+c*c),p=Rt.abs(u);return m>d&&(l*=1,h*=1),this.m_mass.col1.x=i+r+n*n*l+o*o*h,this.m_mass.col2.x=-n*s*l-o*a*h,this.m_mass.col3.x=-n*l-o*h,this.m_mass.col1.y=this.m_mass.col2.x,this.m_mass.col2.y=i+r+s*s*l+a*a*h,this.m_mass.col3.y=s*l+a*h,this.m_mass.col1.z=this.m_mass.col3.x,this.m_mass.col2.z=this.m_mass.col3.y,this.m_mass.col3.z=l+h,d=new Tt,this.m_mass.solve33(d,-_,-c,-u),t.m_sweep.c.x-=i*d.x,t.m_sweep.c.y-=i*d.y,t.m_sweep.a-=l*(s*d.y-n*d.x+d.z),e.m_sweep.c.x+=r*d.x,e.m_sweep.c.y+=r*d.y,e.m_sweep.a+=h*(a*d.y-o*d.x+d.z),t.synchronizeTransform(),e.synchronizeTransform(),m<=wt.b2_linearSlop&&p<=wt.b2_angularSlop},m_localAnchorA:null,m_localAnchorB:null,m_referenceAngle:null,m_impulse:null,m_mass:null,__class__:Ie});var Ee=function(){ue.call(this),this.localAnchorA=new G,this.localAnchorB=new G,this.type=8,this.referenceAngle=0};r["box2D.dynamics.joints.B2WeldJointDef"]=Ee,Ee.__name__="box2D.dynamics.joints.B2WeldJointDef",Ee.__super__=ue,Ee.prototype=i(ue.prototype,{initialize:function(t,e,i){this.bodyA=t,this.bodyB=e,t=this.localAnchorA,e=this.bodyA.getLocalPoint(i),t.x=e.x,t.y=e.y,t=this.localAnchorB,e=this.bodyB.getLocalPoint(i),t.x=e.x,t.y=e.y,this.referenceAngle=this.bodyB.getAngle()-this.bodyA.getAngle()},localAnchorA:null,localAnchorB:null,referenceAngle:null,__class__:Ee});var ke=function(){this.stringMapCloner=new Fe(this,pr),this.intMapCloner=new Fe(this,fr),this.classHandles=new pr,this.classHandles.h.String=n(this,this.returnString),this.classHandles.h.Array=n(this,this.cloneArray),this.classHandles.h["haxe.ds.StringMap"]=n(l=this.stringMapCloner,l.clone),this.classHandles.h["haxe.ds.IntMap"]=n(l=this.intMapCloner,l.clone)};r["cloner.Cloner"]=ke,ke.__name__="cloner.Cloner",ke.prototype={cache:null,classHandles:null,stringMapCloner:null,intMapCloner:null,depth:null,returnString:function(t){return t},clone:function(t){return this.cache=new I,this.depth=0,++this.depth,t=this.__clone(t),--this.depth,this.cache=null,t},_clone:function(t){return++this.depth,t=this.__clone(t),--this.depth,t},__clone:function(t){if(30<this.depth)throw wa.thrown("deep clone");if("string"==typeof t)return t;try{if(null!=t.__name__)return t}catch(t){Ma.lastError=t}var e=w.typeof(t);switch(e._hx_index){case 0:case 5:case 8:return null;case 1:case 2:case 3:case 7:return t;case 4:return this.handleAnonymous(t);case 6:return e=e.c,null==this.cache.h.__keys__[t.__id__]&&this.cache.set(t,this.handleClass(e,t)),this.cache.h[t.__id__]}},handleAnonymous:function(t){for(var e=f.fields(t),i={},s=0,n=e.length;s<n;){var r=s++;r=e[r];var a=f.getProperty(t,r);++this.depth,a=this.__clone(a),--this.depth,i[r]=a}return i},handleClass:function(t,e){return null==(t=this.classHandles.h[t.__name__])&&(t=n(this,this.cloneClass)),t(e)},cloneArray:function(t){for(var e=0,i=(t=t.slice()).length;e<i;){var s=e++;++this.depth;var n=this.__clone(t[s]);--this.depth,t[s]=n}return t},cloneClass:function(t){for(var e=Object.create(vo.getClass(t).prototype),i=f.fields(t),s=0,n=i.length;s<n;){var r=s++;r=i[r];var a=f.getProperty(t,r);++this.depth,a=this.__clone(a),--this.depth,e[r]=a}return e},__class__:ke};var Fe=function(t,e){this.cloner=t,this.type=e,this.noArgs=[]};r["cloner.MapCloner"]=Fe,Fe.__name__="cloner.MapCloner",Fe.prototype={cloner:null,type:null,noArgs:null,clone:function(t){for(var e=w.createInstance(this.type,this.noArgs),i=t.keys();i.hasNext();){var s=i.next(),n=this.cloner,r=t.get(s);++n.depth,r=n.__clone(r),--n.depth,e.set(s,r)}return e},__class__:Fe};var Be=function(t){null==t&&(t=!0),D.call(this),this.alignRight=t,this.start=!0,this.fps=this.mem_max=0,this.text=new nm,this.text.set_defaultTextFormat(new rm("_sans",10,16777215)),this.text.set_wordWrap(!0),this.text.set_multiline(!0),this.text.set_width(70),this.text.set_height(50),this.text.set_selectable(!1),this.text.mouseEnabled=!1,this.rectangle=new je(69,0,1,50),this.addEventListener("addedToStage",n(this,this.init),!1,0,!0),this.addEventListener("removedFromStage",n(this,this.destroy),!1,0,!0)};r["com.nmefermmmtools.debug.Stats"]=Be,Be.__name__="com.nmefermmmtools.debug.Stats",Be.__super__=D,Be.prototype=i(D.prototype,{text:null,timer:null,fps:null,ms:null,ms_prev:null,mem:null,mem_max:null,graph:null,rectangle:null,alignRight:null,start:null,fps_graph:null,mem_graph:null,ms_graph:null,mem_max_graph:null,_stage:null,fpsStr:null,memStr:null,memMaxStr:null,msStr:null,init:function(t){this._stage=I_.get_current().stage,this.get_graphics().beginFill(51),this.get_graphics().drawRect(0,0,70,50),this.get_graphics().endFill(),this.addChild(this.text),this.graph=new O_(70,50,!1,51),this.addEventListener("enterFrame",n(this,this.update))},destroy:function(t){for(this.get_graphics().clear();0<this.get_numChildren();)this.removeChildAt(0);this.graph.dispose(),this.removeEventListener("enterFrame",n(this,this.update))},update:function(t){this.start&&this.alignRight&&(this.set_x(this._stage.stageWidth-this.get_width()),this.start=!1),this.timer=I_.getTimer(),this.timer-1e3>this.ms_prev?(this.mem=954e-9*em.get_totalMemory(),this.mem_max=this.mem_max>this.mem?this.mem_max:this.mem,this.fps_graph=50-(0|Math.min(50,this.fps/this._stage.get_frameRate()*50)),this.mem_graph=50-this.normalizeMem(this.mem),this.mem_max_graph=50-this.normalizeMem(this.mem_max),this.ms_graph=50-(this.timer-this.ms>>1)|0,this.graph.scroll(-1,0),this.get_graphics().clear(),this.get_graphics().beginFill(51),this.get_graphics().drawRect(0,0,70,50),this.get_graphics().endFill(),this.get_graphics().beginBitmapFill(this.graph,new yr(1,0,0,1,0,50)),this.get_graphics().drawRect(0,50,70,50),this.get_graphics().endFill(),this.graph.fillRect(this.rectangle,51),this.graph.lock(),this.graph.setPixel(69,this.fps_graph,16776960),this.graph.setPixel(69,this.mem_graph,65535),this.graph.setPixel(69,this.mem_max_graph,16711792),this.graph.setPixel(69,this.ms_graph,65280),this.graph.unlock(),60<this.fps&&(this.fps=60),this.fpsStr="FPS: "+this.fps+" / 60",this.memStr="MEM: "+Math.round(this.mem),this.memMaxStr="MAX: "+Math.round(this.mem_max),this.fps=0,this.ms_prev=this.timer,this.text.set_htmlText("<font color='#ffff00'>"+this.fpsStr+"</font><br><font color='#00ffff'>"+this.memStr+"</font><br><font color='#ff0070'>"+this.memMaxStr+"</font>")):(this.fps++,this.ms=this.timer)},normalizeMem:function(t){return Math.min(50,Math.sqrt(Math.sqrt(5e3*t)))-2|0},__class__:Be});var De=function(){};r["com.nmefermmmtools.debug.Colors"]=De,De.__name__="com.nmefermmmtools.debug.Colors";var Le=function(){};r["com.stencyl.APIKeys"]=Le,Le.__name__="com.stencyl.APIKeys";var Ne=function(){};r["com.stencyl.Config"]=Ne,Ne.__name__="com.stencyl.Config",Ne.load=function(){var t=vr.getConfigText("config/game-config.json");Ne.loadFromString(t)},Ne.loadMap=function(t,e){for(var i=0,s=f.fields(t);i<s.length;){var n=s[i];++i,v.startsWith(n,"config-")?Object.prototype.hasOwnProperty.call(Ne.defines.h,c.substr(n,7,null))&&Ne.loadMap(f.field(t,n),e):e[n]=f.field(t,n)}return e},Ne.loadFromString=function(t,e){if(null==e&&(e=!0),null!=Ne.data&&e){e=Ne.data,Ne.data=Ne.loadMap(JSON.parse(t),{}),Ne.setStaticFields();for(var i=t=!1,s=0,n=f.fields(e);s<n.length;){var r=n[s];if(++s,f.field(e,r)!=f.field(Ne.data,r))switch(r){case"debugDraw":(Ge.DEBUG_DRAW=Ne.debugDraw)||null!=Ge.debugDrawer&&null!=Ge.debugDrawer.m_sprite&&Ge.debugDrawer.m_sprite.get_graphics().clear();break;case"disposeImages":case"physicsMode":i=!0;break;case"antialias":case"forceHiResAssets":case"gameScale":case"scaleMode":case"scales":case"stageHeight":case"stageWidth":t=!0;break;case"keys":ze.loadInputConfig();break;case"releaseMode":case"useGciLogging":L.setupTracing(!Ne.releaseMode);break;case"showConsole":Ge.engine.setStatsVisible(Ne.showConsole)}}i?L.reloadGame():t&&Ge.engine.reloadScreen()}else Ne.data=Ne.loadMap(JSON.parse(t),{}),Ne.setStaticFields()},Ne.setStaticFields=function(){Ne.landscape=Ne.data.landscape,Ne.autorotate=Ne.data.autorotate,Ne.scaleMode=Si.fromString(Ne.data.scaleMode),Ne.stageWidth=Ne.data.stageWidth,Ne.stageHeight=Ne.data.stageHeight,Ne.initSceneID=Ne.data.initSceneID,Ne.physicsMode=xn.fromString(Ne.data.physicsMode),Ne.gameScale=Ne.data.gameScale,Ne.forceHiResAssets=Ne.data.forceHiResAssets,Ne.antialias=Ne.data.antialias,Ne.pixelsnap=Ne.data.pixelsnap,Ne.startInFullScreen=Ne.data.startInFullScreen,Ne.disposeImages=Ne.data.disposeImages,Ne.adPositionBottom=Ne.data.adPositionBottom,Ne.testAds=Ne.data.testAds,Ne.releaseMode=Ne.data.releaseMode,Ne.showConsole=Ne.data.showConsole,Ne.debugDraw=Ne.data.debugDraw,Ne.disableBackButton=Ne.data.disableBackButton,Ne.useGciLogging=Ne.data.useGciLogging,Ne.keys=Ne.asMap(Ne.data.keys);for(var t=Ne.data.scales,e=wi.fromString,i=Array(t.length),s=0,n=t.length;s<n;){var r=s++;i[r]=e(t[r])}Ne.scales=d.array(i),Ne.toolsetInterfaceHost=Ne.data.toolsetInterfaceHost,Ne.toolsetInterfacePort=Ne.data.toolsetInterfacePort,Ne.projectName=Ne.data.projectName,Ne.buildConfig=Ne.data.buildConfig},Ne.asMap=function(t){for(var e=new pr,i=0,s=f.fields(t);i<s.length;){var n=s[i];++i,e.h[n]=f.field(t,n)}return e};var Oe=function(){if(this.actorTypesLoaded=!1,this.resourceLookup=this.resourceNameLookup=this.behaviorLookup=this.behaviorReader=this.resourceReaderPool=null,null==km.getBytes("assets/data/game.mbs"))throw wa.thrown("Data.hx - Could not load game. Check your logs for a possible cause.")};r["com.stencyl.Data"]=Oe,Oe.__name__="com.stencyl.Data",Oe.get=function(){return null==Oe.instance&&(Oe.instance=new Oe,Oe.instance.loadAll()),Oe.instance},Oe.resetStatics=function(){Oe.instance=null},Oe.prototype={readers:null,gameMbs:null,resourceListMbs:null,sceneListMbs:null,behaviorListMbs:null,resources:null,resourceMap:null,behaviors:null,resourceLookup:null,resourceNameLookup:null,behaviorLookup:null,behaviorReader:null,resourceReaderPool:null,loadAll:function(){this.gameMbs=new C_(Rs.get(),!1,!0),this.gameMbs.readData(Fm.toBytes(km.getBytes("assets/data/game.mbs"))),this.sceneListMbs=new C_(Rs.get(),!1,!0),this.sceneListMbs.readData(Fm.toBytes(km.getBytes("assets/data/scenes.mbs"))),this.resourceListMbs=new C_(Rs.get(),!1,!1),this.resourceListMbs.readData(Fm.toBytes(km.getBytes("assets/data/resources.mbs"))),this.behaviorListMbs=new C_(Rs.get(),!1,!1),this.behaviorListMbs.readData(Fm.toBytes(km.getBytes("assets/data/behaviors.mbs"))),this.behaviors=new hr(new fr,n(this,this.loadBehaviorFromMbs)),this.resources=new hr(new fr,n(this,this.loadResourceFromMbs)),this.resourceMap=new _r(new pr,n(this,this.loadResourceFromMbsByName)),this.loadReaders(),this.scanBehaviorMbs(),this.scanResourceMbs()},readGameMbs:function(){var t=new C_(Rs.get(),!1,!0);return t.readData(Fm.toBytes(km.getBytes("assets/data/game.mbs"))),t.getRoot()},loadReaders:function(){this.readers=[],this.readers.push(new ss),this.readers.push(new os),this.readers.push(new hs),this.readers.push(new es),this.readers.push(new ls),this.readers.push(new rs)},scanBehaviorMbs:function(){this.behaviorLookup=new fr;for(var t=this.behaviorListMbs.getRoot(),e=0,i=t.length();e<i;){e++;var s=t.elementAddress;this.behaviorReader=t.getNextObject();var n=this.behaviorLookup,r=this.behaviorReader.getId();n.h[r]=s}},scanResourceMbs:function(){this.resourceLookup=new fr,this.resourceNameLookup=new pr;var t=this.resourceListMbs.getRoot();this.resourceReaderPool=b_.createObjectPool(this.resourceListMbs);for(var e=new cs(this.resourceListMbs),i=ys.INTEGER.getSize(),s=0,n=t.length();s<n;){s++;var r=t.elementAddress,a=this.resourceListMbs.readInt(r+i);t.elementAddress+=t.elementSize,e.setAddress(a),a=this.resourceLookup;var o=e.getId();a.h[o]=r,this.resourceListMbs.readTypecode(r)==Ps.MBS_SPRITE?(r=this.resourceNameLookup,a="Sprite_"+e.getName(),o=e.getId(),r.h[a]=o):(r=this.resourceNameLookup,a=e.getName(),o=e.getId(),r.h[a]=o)}},loadResourceFromMbsByName:function(t){return null==(t=this.resourceNameLookup.h[t])?null:this.loadResourceFromMbs(t)},loadResourceFromMbs:function(t){return null==(t=this.resourceLookup.h[t])?null:(t=b_.readDynamicUsingPool(this.resourceListMbs,t,this.resourceReaderPool),null!=(t=this.readResource(t.getMbsType().getName(),t))&&(this.resources.map.h[t.ID]=t,t instanceof Fn?this.resourceMap.map.h["Sprite_"+t.name]=t:this.resourceMap.map.h[t.name]=t),t)},loadAllResourcesOfType:function(t){var e=this.resourceListMbs.getRoot(),i=new cs(this.resourceListMbs),s=ys.INTEGER.getSize();e.elementAddress=e.getAddress()+2*s;for(var n=0,r=e.length();n<r;){n++;var a=e.elementAddress;this.resourceListMbs.readTypecode(a)==t&&(a=this.resourceListMbs.readInt(a+s),i.setAddress(a),this.loadResourceFromMbs(i.getId())),e.elementAddress+=e.elementSize}},loadBehaviorFromMbs:function(t){return null==(t=this.behaviorLookup.h[t])?null:(this.behaviorReader.setAddress(t),ns.readBehavior(this.behaviorReader))},readResource:function(t,e){for(var i=0,s=this.readers;i<s.length;){var n=s[i];if(++i,n.accepts(t))return n.read(e)}return null},actorTypesLoaded:null,getAllActorTypes:function(){this.actorTypesLoaded||(this.loadAllResourcesOfType(As.MBS_ACTOR_TYPE),this.actorTypesLoaded=!0);for(var t=[],e=this.resources.map.iterator();e.hasNext();){var i=e.next();i instanceof Pn&&t.push(vo.__cast(i,Pn))}return t},loadAtlas:function(t){var e=yn.get().atlases.h[t];if(null!=e&&!e.active)for(e.active=!0,t=0,e=e.members;t<e.length;){var i=e[t];++t,null!=(i=this.resources.get(i))&&i.loadGraphics()}},unloadAtlas:function(t){},reloadScaledResources:function(){for(var t=this.resources.map.iterator();t.hasNext();){var e=t.next();null!=e&&(e instanceof Rn||e instanceof Pn||e.isAtlasActive()&&e.reloadGraphics(-1))}},__class__:Oe};var Ve=function(){var t=this.eventTable=new fr,e=Ve.TYPE_ADS,i=[];t.h[e]=i,t=this.eventTable,e=Ve.TYPE_PURCHASES,i=[],t.h[e]=i,t=this.eventTable,e=Ve.TYPE_GAMECENTER,i=[],t.h[e]=i,t=this.eventTable,e=Ve.TYPE_KEYBOARD,i=[],t.h[e]=i};r["com.stencyl.event.EventMaster"]=Ve,Ve.__name__="com.stencyl.event.EventMaster",Ve.prototype={eventTable:null,addAdEvent:function(t){this.eventTable.h[Ve.TYPE_ADS].push(t)},addPurchaseEvent:function(t){this.eventTable.h[Ve.TYPE_PURCHASES].push(t)},addGameCenterEvent:function(t){this.eventTable.h[Ve.TYPE_GAMECENTER].push(t)},addKeyboardEvent:function(t){this.eventTable.h[Ve.TYPE_KEYBOARD].push(t)},clear:function(){this.eventTable.h[Ve.TYPE_ADS].length=0,this.eventTable.h[Ve.TYPE_PURCHASES].length=0,this.eventTable.h[Ve.TYPE_GAMECENTER].length=0,this.eventTable.h[Ve.TYPE_KEYBOARD].length=0},__class__:Ve};var Ge=function(t){this.isHUDZoomable=this.sceneInitialized=this.keyPollOccurred=this.isFullScreen=this.ignoreResize=!1,this.zoomMultiplier=1,"opengl"!=Ge.stage.window.context.type&&"opengles"!=Ge.stage.window.context.type&&"webgl"!=Ge.stage.window.context.type||xi.initialize(),Oi.get_isSupported()&&(this.shaderLayer=new D,this.shaderLayer.set_name("Shader Layer")),t.mouseChildren=!1,t.mouseEnabled=!1,Ne.debugDraw&&(Ge.DEBUG_DRAW=!0),Ge.engine=this,Ke.engine=this,this.root=t,this.isFullScreen=Ne.startInFullScreen,Ge.screenScaleX=Ge.unzoomedScaleX=t.get_scaleX(),Ge.screenScaleY=Ge.unzoomedScaleY=t.get_scaleY(),Ge.screenOffsetX=0|t.get_x(),Ge.screenOffsetY=0|t.get_y(),Ge.NO_PHYSICS=1==Ne.physicsMode,Ge.stage.addEventListener("enterFrame",n(this,this.onUpdate)),Ge.stage.addEventListener("deactivate",n(this,this.onFocusLost)),Ge.stage.addEventListener("activate",n(this,this.onFocus)),Ge.stage.addEventListener("resize",n(this,this.onWindowResize)),Ge.stage.window.onRestore.add(n(this,this.onWindowRestore)),Ge.stage.window.onMaximize.add(n(this,this.onWindowMaximize)),Ge.stage.window.onFullscreen.add(n(this,this.onWindowFullScreen)),this.isFullScreen&&!Ge.stage.window.__fullscreen&&(Ge.stage.window.__fullscreen=!0),this.begin(Ne.initSceneID)};r["com.stencyl.Engine"]=Ge,Ge.__name__="com.stencyl.Engine",Ge.resetStatics=function(){Ge.stage.removeEventListener("enterFrame",n(l=Ge.engine,l.onUpdate)),Ge.stage.removeEventListener("deactivate",n(l=Ge.engine,l.onFocusLost)),Ge.stage.removeEventListener("activate",n(l=Ge.engine,l.onFocus)),Ge.stage.removeEventListener("resize",n(l=Ge.engine,l.onWindowResize)),Ge.stage.window.onRestore.remove(n(l=Ge.engine,l.onWindowRestore)),Ge.stage.window.onMaximize.remove(n(l=Ge.engine,l.onWindowMaximize)),Ge.stage.window.onFullscreen.remove(n(l=Ge.engine,l.onWindowFullScreen)),null!=Ge.engine.stats&&Ge.stage.removeChild(Ge.engine.stats),Ge.NO_PHYSICS=!1,Ge.DEBUG_DRAW=!1,Ge.IMG_BASE="",Ge.SCALE=1,Ge.checkedWideScreen=!1,Ge.isStandardIOS=!1,Ge.isExtendedIOS=!1,Ge.isIPhone6=!1,Ge.isIPhone6Plus=!1,Ge.isTabletIOS=!1,Ge.engine=null,Ge.landscape=!1,Ge.cameraX=0,Ge.cameraY=0,Ge.screenScaleX=0,Ge.screenScaleY=0,Ge.unzoomedScaleX=0,Ge.unzoomedScaleY=0,Ge.screenOffsetX=0,Ge.screenOffsetY=0,Ge.screenWidth=0,Ge.screenHeight=0,Ge.sceneWidth=0,Ge.sceneHeight=0,Ge.screenWidthHalf=0,Ge.screenHeightHalf=0,Ge.paused=!1,Ge.started=!1,Ge.events=new Ve,Ge.ITERATIONS=3,Ge.physicsScale=10,Ge.preservePadding=!1,Ge.paddingLeft=0,Ge.paddingRight=0,Ge.paddingTop=0,Ge.paddingBottom=0,Ge.ngID="",Ge.ngKey="",Ge.movieClip=null,Ge.stage=null,Ge.STEP_SIZE=10,Ge.MS_PER_SEC=1e3,Ge.elapsedTime=0,Ge.timeScale=1,Ge.totalElapsedTime=0,Ge.debug=!1,Ge.debugDrawer=null},Ge.initBehaviors=function(t,e,i,s,n){if(null!=e){var r=e.h;e=r;for(var a=Object.keys(r),o=a.length,l=0;l<o;){var h=e[a[l++]];if(null!=h&&h.enabled){var _=Oe.get().behaviors.get(h.behaviorID),c=new pr;if(null!=_){if(_.isEvent){r=_.attributes.h;for(var u=(r=Object.keys(r)).length,d=0;d<u;){var m=r[d++],p=_.attributes.h[m];if(null!=p){var f=p.type,g=p.ID;"list"==f?(p=new Ze(g,p.fieldName,p.fullName,[],f,null,p.hidden),c.h[m]=p):"map"==f&&(p=new Ze(g,p.fieldName,p.fullName,new pr,f,null,p.hidden),c.h[m]=p)}}}for(u=(r=Object.keys(h.values.h)).length,d=0;d<u;)m=r[d++],null!=(p=_.attributes.h[m])&&(p=new Ze(p.ID,p.fieldName,p.fullName,h.values.h[m],p.type,null,p.hidden),c.h[m]=p);h=new Qe(i,s,_.ID,_.name,_.classname,!0,!1,c,_.type,_.isEvent),t.add(h)}}}n&&t.initScripts()}},Ge.toPhysicalUnits=function(t){return t/Ge.physicsScale},Ge.toPixelUnits=function(t){return t*Ge.physicsScale},Ge.vToPhysicalUnits=function(t){return t.x=Ge.toPhysicalUnits(t.x),t.y=Ge.toPhysicalUnits(t.y),t},Ge.vToPixelUnits=function(t){return t.x=Ge.toPixelUnits(t.x),t.y=Ge.toPixelUnits(t.y),t},Ge.prototype={zoomMultiplier:null,isHUDZoomable:null,world:null,gravityX:null,gravityY:null,physicalWidth:null,physicalHeight:null,leave:null,enter:null,sceneToEnter:null,shakeTimer:null,shakeIntensity:null,isShaking:null,scene:null,camera:null,sceneInitialized:null,channels:null,tasks:null,regions:null,terrainRegions:null,joints:null,root:null,colorLayer:null,maskLayer:null,master:null,hudLayer:null,transitionLayer:null,debugLayer:null,g:null,groups:null,reverseGroups:null,allActors:null,nextID:null,actorsOfType:null,recycledActorsOfType:null,actorsToCreateInNextScene:null,layers:null,layersByName:null,interactiveLayers:null,backgroundLayers:null,dynamicTiles:null,animatedTiles:null,topLayer:null,bottomLayer:null,middleLayer:null,layersToDraw:null,tileUpdated:null,loadedAtlases:null,atlasesToLoad:null,atlasesToUnload:null,actorsToCreate:null,gameAttributes:null,savableAttributes:null,behaviors:null,lastTime:null,acc:null,mx:null,my:null,collisionPairs:null,disableCollisionList:null,keyPollOccurred:null,whenKeyPressedEvents:null,whenAnyKeyPressed:null,whenAnyKeyReleased:null,whenAnyGamepadPressed:null,whenAnyGamepadReleased:null,whenTypeGroupCreatedEvents:null,whenTypeGroupKilledEvents:null,whenTypeGroupPositionStateChangedEvents:null,whenCollidedEvents:null,whenSoundEndedEvents:null,whenChannelEndedEvents:null,whenUpdated:null,whenDrawing:null,whenMousePressed:null,whenMouseReleased:null,whenMouseMoved:null,whenMouseDragged:null,whenPaused:null,whenFullscreenChanged:null,whenScreenSizeChanged:null,whenGameScaleChanged:null,whenSwiped:null,whenMTStarted:null,whenMTDragged:null,whenMTEnded:null,whenFocusChanged:null,nativeListeners:null,shader:null,shaderLayer:null,shaders:null,isFullScreen:null,ignoreResize:null,stats:null,onKeyDown:function(t){this.isFullScreen&&27==t.keyCode&&this.setFullScreen(!1)},onWindowResize:function(t){!this.isFullScreen||Ge.stage.window.__fullscreen||Ge.stage.window.__minimized||this.ignoreResize||this.setFullScreen(!1)},onWindowRestore:function(){this.isFullScreen&&!Ge.stage.window.__fullscreen&&(Ge.stage.window.__fullscreen=!0)},onWindowMaximize:function(){this.isFullScreen&&!Ge.stage.window.__fullscreen&&(Ge.stage.window.__fullscreen=!0)},onWindowFullScreen:function(){this.isFullScreen||this.setFullScreen(!0)},isInFullScreen:function(){return 1==I_.get_current().stage.get_displayState()},setFullScreen:function(t){if(this.isFullScreen!=t){if(this.ignoreResize=!0,this.isFullScreen=t,this.reloadScreen(),0<this.whenFullscreenChanged.length)for(this.whenFullscreenChanged._dispatchIndex=0;this.whenFullscreenChanged._dispatchIndex<this.whenFullscreenChanged.length;){try{this.whenFullscreenChanged.listeners[this.whenFullscreenChanged._dispatchIndex]()}catch(t){Ma.lastError=t}++this.whenFullscreenChanged._dispatchIndex}this.ignoreResize=!1}},toggleFullScreen:function(){this.setFullScreen(!this.isFullScreen)},reloadScreen:function(){var t=Ge.IMG_BASE,e=Ge.SCALE,i=Ge.screenWidth,s=Ge.screenHeight;if(this.root.initScreen(this.isFullScreen),Ge.screenWidth=0|L.logicalWidth,Ge.screenWidthHalf=Ge.screenWidth/2|0,Ge.screenHeight=0|L.logicalHeight,Ge.screenHeightHalf=Ge.screenHeight/2|0,this.setColorBackground(this.scene.colorBackground),i=Ge.screenWidth!=i||Ge.screenHeight!=s,s=e!=Ge.SCALE,t!=Ge.IMG_BASE&&Oe.get().reloadScaledResources(),e!=Ge.SCALE){for(null!=Ge.debugDrawer&&Ge.debugDrawer.setDrawScale(10*Ge.SCALE),this.g.scaleX=this.g.scaleY=Ge.SCALE,vr.applyToAllChildren(this.root,function(t){vo.__implements(t,pi)&&vo.__cast(t,pi).updateScale()}),t=this.allActors.iterator();t.hasNext();)null==(e=t.next())||e.dead||e.recycled||(e.updateMatrix=!0);for(e=this.recycledActorsOfType.iterator();e.hasNext();)for(var n=e.next(),r=0;r<n.length;)t=n[r],++r,null!=t.currAnimation&&t.currAnimation.framesUpdated(),t.updateMatrix=!0;this.g.resetFont(),this.moveCamera(this.camera.realX,this.camera.realY)}if(Ge.unzoomedScaleX=Ge.screenScaleX=this.root.get_scaleX(),Ge.unzoomedScaleY=Ge.screenScaleY=this.root.get_scaleY(),Ge.screenOffsetX=0|this.root.get_x(),Ge.screenOffsetY=0|this.root.get_y(),null!=this.stats&&(this.stats.set_x(Ge.stage.stageWidth-this.stats.get_width()),this.stats.set_y(0)),this.resetShaders(),s&&0<this.whenGameScaleChanged.length)for(this.whenGameScaleChanged._dispatchIndex=0;this.whenGameScaleChanged._dispatchIndex<this.whenGameScaleChanged.length;){try{this.whenGameScaleChanged.listeners[this.whenGameScaleChanged._dispatchIndex]()}catch(t){Ma.lastError=t}++this.whenGameScaleChanged._dispatchIndex}if(i&&0<this.whenScreenSizeChanged.length)for(this.whenScreenSizeChanged._dispatchIndex=0;this.whenScreenSizeChanged._dispatchIndex<this.whenScreenSizeChanged.length;){try{this.whenScreenSizeChanged.listeners[this.whenScreenSizeChanged._dispatchIndex]()}catch(t){Ma.lastError=t}++this.whenScreenSizeChanged._dispatchIndex}},addShader:function(t){if(Oi.get_isSupported()){for(t=t.basicShader,null!=this.shaders&&this.clearShaders(),this.shaders=[t.model],t=t.multipassParent;null!=t;)this.shaders.splice(0,0,t.model),t=t.multipassParent;t=0;for(var e=this.shaders;t<e.length;){var i=e[t];++t,this.shaderLayer.addChild(i)}}},clearShaders:function(){vr.removeAllChildren(this.shaderLayer),Ge.stage.context3D.setRenderToBackBuffer(),this.shaders=[]},toggleShadersForHUD:function(){null!=this.shaderLayer&&null!=this.hudLayer&&null!=this.root&&this.root.swapChildren(this.shaderLayer,this.hudLayer)},resetShaders:function(){if(null!=this.shaders)for(var t=0,e=this.shaders;t<e.length;){var i=e[t];++t,i.rebuild()}},begin:function(t){this.loadedAtlases=new fr,this.atlasesToLoad=new fr,this.atlasesToUnload=new fr,ze.enable(),ze.define("iSHIFT",[16]),ze.define("iCTRL",[17]),ze.define("iCOMMAND",[15]),Ge.landscape=Ne.landscape;var e=L.logicalWidth,i=L.logicalHeight;Ge.screenWidth=0|e,Ge.screenHeight=0|i,Ge.screenWidthHalf=e/2|0,Ge.screenHeightHalf=i/2|0,Oe.get(),yn.get().loadScenes(),this.g=new bi,Ge.started=!0,this.tileUpdated=!1,this.shakeTimer=0,this.shakeIntensity=.01,this.isShaking=!1,this.enter=this.leave=null,Ge.cameraX=0,this.acc=Ge.cameraY=0,this.lastTime=I_.getTimer(),Ge.sceneWidth=0|e,Ge.sceneHeight=0|i,this.colorLayer=new Rc,this.colorLayer.set_name("Color Layer"),this.root.addChild(this.colorLayer),this.master=new D,this.master.set_name("Master"),this.root.addChild(this.master),this.hudLayer=new Zn(-1,"__hud__",-1,0,0,1,10,null),this.hudLayer.set_name("HUD Layer"),this.root.addChild(this.hudLayer),this.transitionLayer=new D,this.transitionLayer.set_name("Transition Layer"),this.root.addChild(this.transitionLayer),this.debugLayer=new D,this.debugLayer.set_name("Debug Layer"),this.root.addChild(this.debugLayer),Oi.get_isSupported()&&this.root.addChild(this.shaderLayer),this.root.addChild(this.root.maskLayer),this.actorsToCreateInNextScene=[],this.gameAttributes=new pr,this.savableAttributes=new pr,this.setStatsVisible(Ne.showConsole),e=yn.get().gameAttributes.h,i=(e=Object.keys(e)).length;for(var s=0;s<i;){var n=e[s++],r=yn.get().gameAttributes.h[n];this.gameAttributes.h[n]=r}this.channels=[],this.channels.push(new An(this,0)),this.channels.push(new An(this,1)),this.channels.push(new An(this,2)),this.channels.push(new An(this,3)),this.channels.push(new An(this,4)),this.channels.push(new An(this,5)),this.channels.push(new An(this,6)),this.channels.push(new An(this,7)),this.channels.push(new An(this,8)),this.channels.push(new An(this,9)),this.channels.push(new An(this,10)),this.channels.push(new An(this,11)),this.channels.push(new An(this,12)),this.channels.push(new An(this,13)),this.channels.push(new An(this,14)),this.channels.push(new An(this,15)),this.channels.push(new An(this,16)),this.channels.push(new An(this,17)),this.channels.push(new An(this,18)),this.channels.push(new An(this,19)),this.channels.push(new An(this,20)),this.channels.push(new An(this,21)),this.channels.push(new An(this,22)),this.channels.push(new An(this,23)),this.channels.push(new An(this,24)),this.channels.push(new An(this,25)),this.channels.push(new An(this,26)),this.channels.push(new An(this,27)),this.channels.push(new An(this,28)),this.channels.push(new An(this,29)),this.channels.push(new An(this,30)),this.channels.push(new An(this,31)),this.sceneToEnter=t,this.loadScene(t),this.sceneInitialized=!0},setStatsVisible:function(t){t!=(null!=this.stats)&&(t?(this.stats=new Be,Ge.stage.addChild(this.stats),this.stats.set_x(Ge.stage.stageWidth-this.stats.get_width()),this.stats.set_y(0)):(Ge.stage.removeChild(this.stats),this.stats=null))},loadScene:function(t){if(this.collisionPairs=new ap(32),Ge.preservePadding||(Ge.paddingTop=0,Ge.paddingLeft=0,Ge.paddingBottom=0,Ge.paddingRight=0),this.tasks=[],this.scene=yn.get().scenes.h[t],-1!=t&&null!=this.scene||(this.scene=yn.get().scenes.h[Ne.initSceneID],null!=this.scene)){if(this.scene.load(),t=new fr,this.scene.retainsAtlases)for(var e=this.loadedAtlases.iterator();e.hasNext();){var i=e.next();t.h[i]=i}else{for(e=this.loadedAtlases.iterator();e.hasNext();)i=e.next(),yn.get().atlases.h[i].allScenes&&(t.h[i]=i);i=0;for(var s=this.scene.atlases;i<s.length;)e=s[i],++i,t.h[e]=e}for(i=this.atlasesToLoad.iterator();i.hasNext();)s=i.next(),t.h[s]=s;for(i=this.atlasesToUnload.iterator();i.hasNext();)s=i.next(),t.remove(s);for(i=this.loadedAtlases.iterator();i.hasNext();)s=i.next(),t.h.hasOwnProperty(s)||(Oe.get().unloadAtlas(s),this.loadedAtlases.remove(s));for(i=t.iterator();i.hasNext();)s=i.next(),this.loadedAtlases.h.hasOwnProperty(s)||(Oe.get().loadAtlas(s),this.loadedAtlases.h[s]=s);for(this.atlasesToLoad=new fr,this.atlasesToUnload=new fr,Ge.sceneWidth=this.scene.sceneWidth,Ge.sceneHeight=this.scene.sceneHeight,this.behaviors=new $e,this.groups=new fr,this.reverseGroups=new pr,i=0,s=yn.get().groups;i<s.length;)t=s[i],++i,e=new kn(t.ID,t.name),this.groups.h[t.ID]=e,this.reverseGroups.h[t.name]=e,e.name=t.name;t=new kn(-2,"Regions"),this.groups.h[-2]=t,this.reverseGroups.h.Regions=t,this.disableCollisionList=[],this.actorsOfType=new fr,this.recycledActorsOfType=new fr,this.regions=new ap(32),this.regions.reuseIterator=!0,this.terrainRegions=new fr,this.joints=new fr,this.dynamicTiles=new pr,this.animatedTiles=[],this.allActors=new ap(256),this.allActors.reuseIterator=!0,this.nextID=0,this.whenKeyPressedEvents=new ri,this.whenAnyKeyPressed=new si,this.whenAnyKeyReleased=new si,this.whenAnyGamepadPressed=new si,this.whenAnyGamepadReleased=new si,this.whenTypeGroupCreatedEvents=new I,this.whenTypeGroupKilledEvents=new I,this.whenTypeGroupPositionStateChangedEvents=new fr,this.whenCollidedEvents=new fr,this.whenSoundEndedEvents=new I,this.whenChannelEndedEvents=new fr,this.nativeListeners=[],this.whenUpdated=new si,this.whenDrawing=new si,this.whenMousePressed=new si,this.whenMouseReleased=new si,this.whenMouseMoved=new si,this.whenMouseDragged=new si,this.whenPaused=new si,this.whenSwiped=new si,this.whenMTStarted=new si,this.whenMTDragged=new si,this.whenMTEnded=new si,this.whenFocusChanged=new si,this.whenFullscreenChanged=new si,this.whenScreenSizeChanged=new si,this.whenGameScaleChanged=new si,Ge.NO_PHYSICS||this.initPhysics(),this.gravityX=this.scene.gravityX,this.gravityY=this.scene.gravityY,this.loadTerrain(),this.loadRegions(),this.loadTerrainRegions(),this.loadActors(),this.loadCamera(),this.loadJoints(),this.loadDeferredActors(),Ge.initBehaviors(this.behaviors,this.scene.behaviorValues,this,this,!0),this.initActorScripts()}else Ge.stage.removeEventListener("enterFrame",n(this,this.onUpdate))},initPhysics:function(){var t=new G(this.scene.gravityX,this.scene.gravityY);this.world=new Gt(t,!1),Gt.m_continuousPhysics=!1,Gt.m_warmStarting=!0,(t=new V).lowerBound.x=0,t.lowerBound.y=0,t.upperBound.x=Ge.screenWidth/Ge.physicsScale,t.upperBound.y=Ge.screenHeight/Ge.physicsScale,this.world.setScreenBounds(t),Ge.debugDrawer=new Ft,Ge.debugDrawer.setSprite(this.debugLayer),Ge.debugDrawer.setLineThickness(3),Ge.debugDrawer.setDrawScale(10*Ge.SCALE),Ge.debugDrawer.setFillAlpha(0),Ge.debugDrawer.setFlags(Ft.e_shapeBit|Ft.e_jointBit),this.world.setDebugDraw(Ge.debugDrawer)},loadActors:function(){this.actorsToCreate=[];for(var t=this.scene.actors.iterator();t.hasNext();){var e=t.next();this.actorsToCreate.push(this.createActor(e,!0))}for(t=0,e=this.interactiveLayers;t<e.length;){var i=e[t];++t;for(var s=0,n=i.actorContainer.get_numChildren();s<n;){var r=s++,a=i.actorContainer.getChildAt(r);for(a=this.scene.actors.h[a.ID];a.orderInLayer!=r;)i.actorContainer.swapChildrenAt(r,a.orderInLayer),a=i.actorContainer.getChildAt(r),a=this.scene.actors.h[a.ID]}}},loadDeferredActors:function(){for(var t=0,e=this.actorsToCreateInNextScene;t<e.length;){var i=e[t];++t,Ke.lastCreatedActor=this.createActorOfType(i.type,i.x,i.y,i.layer)}this.actorsToCreateInNextScene=[]},initActorScripts:function(){for(var t=0,e=this.actorsToCreate;t<e.length;){var i=e[t];++t,i.initScripts()}this.actorsToCreate=null},loadCamera:function(){this.camera=new un(this,-1,2,0,0,-1,2,2,null,null,null,null,!0,!1,!0,!1,null,!0,!1),this.camera.set_name("Camera"),this.camera.isCamera=!0,Ge.cameraX=0,Ge.cameraY=0},loadRegions:function(){this.regions=new ap(32),this.regions.reuseIterator=!0;for(var t=this.scene.regions.iterator();t.hasNext();){var e=t.next(),i=new wn(this,e.x,e.y,e.shapes,e.simpleBounds);i.set_name(e.name),Ge.NO_PHYSICS||i.setXY(e.x+i.regionWidth/2,e.y+i.regionHeight/2),i.ID=e.ID,this.addRegion(i)}},loadTerrainRegions:function(){if(this.terrainRegions=new fr,!Ge.NO_PHYSICS)for(var t=this.scene.terrainRegions.iterator();t.hasNext();){var e=t.next(),i=new Tn(this,e.x,e.y,e.shapes,e.groupID,e.fillColor);i.set_name(e.name),i.setX(Ge.toPixelUnits(e.x)+i.regionWidth/2),i.setY(Ge.toPixelUnits(e.y)+i.regionHeight/2),i.ID=e.ID,this.addTerrainRegion(i)}},loadJoints:function(){if(!Ge.NO_PHYSICS)for(var t=this.scene.joints.iterator();t.hasNext();){var e=t.next(),i=e.actor1,s=e.actor2,n=e.collideConnected;if(3==e.type){var r=this.joints,a=e.ID;e=this.createStickJoint(this.getActor(i).body,this.getActor(s).body,e.ID,n),r.h[a]=e}else if(1==e.type){a=vo.__cast(e,Ce),(r=this.getActor(i).body.getLocalCenter().copy()).x=Ge.toPixelUnits(r.x),r.y=Ge.toPixelUnits(r.y),i=this.getActor(i).body,s=-1==s?this.world.m_groundBody:this.getActor(s).body;var o=this.joints,l=e.ID;e=this.createHingeJoint(i,s,r,e.ID,n,a.enableLimit,a.enableMotor,a.lowerAngle,a.upperAngle,a.maxMotorTorque,-a.motorSpeed),o.h[l]=e}else 2!=e.type&&7!=e.type||(a=vo.__cast(e,xe),(r=this.getActor(i).body.getLocalCenter().copy()).x=Ge.toPixelUnits(r.x),r.y=Ge.toPixelUnits(r.y),i=this.getActor(i).body,s=-1==s?this.world.m_groundBody:this.getActor(s).body,r=this.joints,o=e.ID,e=this.createSlidingJoint(i,s,a.localAxisA,e.ID,n,a.enableLimit,a.enableMotor,a.lowerTranslation,a.upperTranslation,a.maxMotorForce,a.motorSpeed),r.h[o]=e)}},loadTerrain:function(){this.initLayers();for(var t=0,e=this.scene.wireframes;t<e.length;){var i=e[t];++t;var s=null;Ge.NO_PHYSICS||(s=new un(this,1e8,1,i.x,i.y,-1,0|i.width,0|i.height,null,new pr,null,null,!1,!0,!1,!1,i.shape)),s.set_name("Terrain"),s.typeID=-1,s.set_visible(!1),this.getGroup(1).addChild(s)}},initLayers:function(){if(this.setColorBackground(this.scene.colorBackground),this.animatedTiles=this.scene.animatedTiles,null!=this.animatedTiles)for(var t=0,e=this.animatedTiles;t<e.length;){var i=e[t];++t,i.currFrame=0,i.currTime=0,i.updateSource=!0}this.layers=this.scene.layers,this.layersToDraw=new fr,this.layersByName=new pr,this.interactiveLayers=[],this.backgroundLayers=[];var s=i=!1,n=0,r=-1,a={};if(0==this.layers.mSize){t=new er(0,this.scene,this.scene.sceneWidth/this.scene.tileWidth|0,this.scene.sceneHeight/this.scene.tileHeight|0);var o=new Zn(0,"default",0,1,1,1,10,t);this.layers.set(o.ID,o)}for(o=this.layers.iterator();o.hasNext();)t=o.next(),r=0|Math.max(r,t.order),a[t.order]=t,this.layersByName.h[t.layerName]=t,t instanceof Zn?this.interactiveLayers.push(vo.__cast(t,Zn)):t instanceof nr&&this.backgroundLayers.push(vo.__cast(t,nr));for(t=0,e=r+1;t<e;){var l=r-(o=t++);(o=a[o]).order=l,this.layersToDraw.h[l]=o}for(t=0,e=r+1;t<e;)o=t++,(o=this.layersToDraw.h[o])instanceof nr?((o=vo.__cast(o,nr)).load(),this.master.addChild(o)):o instanceof Zn&&(r=vo.__cast(o,Zn),i||(i=!0,this.bottomLayer=r),s||n!=Math.floor(this.interactiveLayers.length/2)||(s=!0,this.middleLayer=r),this.master.addChild(r),this.topLayer=r,r.tiles.mountGrid(),++n)},setColorBackground:function(t){t.draw(this.colorLayer.get_graphics(),0,0,Ge.screenWidth*Ge.SCALE|0,Ge.screenHeight*Ge.SCALE|0)},optimizePool:function(){for(var t=this.recycledActorsOfType.iterator();t.hasNext();){for(var e=t.next(),i=[],s=0;s<e.length;){var n=e[s];++s,null!=n&&n.recycled&&i.push(n)}for(s=0;s<i.length;)n=i[s],++s,c.remove(e,n),this.removeActor(n)}},cleanup:function(){null!=Ge.debugDrawer&&null!=Ge.debugDrawer.m_sprite&&Ge.debugDrawer.m_sprite.get_graphics().clear();for(var t=0,e=this.interactiveLayers;t<e.length;){var i=e[t];++t,i.clear()}if(this.hudLayer.clear(),vr.removeAllChildren(this.master),this.behaviors.destroy(),this.camera.destroy(),this.camera=null,null!=this.world){for(t=this.world.getBodyList(),e=this.world.getJointList();null!=e;)this.world.destroyJoint(e),e=e.getNext();for(;null!=t;)this.world.destroyBody(t),t=t.getNext()}for(t=this.actorsOfType.iterator();t.hasNext();)(e=t.next()).length=0;for(e=this.recycledActorsOfType.iterator();e.hasNext();)for(i=e.next(),t=0;t<i.length;){var s=i[t];++t,s.destroyed||s.destroy()}for(t=this.recycledActorsOfType.iterator();t.hasNext();)(e=t.next()).length=0;for(s=this.allActors.iterator();s.hasNext();)s.next().destroy();for(;0<d.count(this.allActors);)for(t=this.allActors.keys();t.hasNext();)e=t.next(),this.allActors.unset(e);this.scene.unload(),this.nativeListeners=this.whenFocusChanged=this.whenMTEnded=this.whenMTDragged=this.whenMTStarted=this.whenSwiped=this.whenGameScaleChanged=this.whenScreenSizeChanged=this.whenFullscreenChanged=this.whenPaused=this.whenMouseDragged=this.whenMouseMoved=this.whenMouseReleased=this.whenMousePressed=this.whenDrawing=this.whenUpdated=this.whenChannelEndedEvents=this.whenSoundEndedEvents=this.whenCollidedEvents=this.whenTypeGroupPositionStateChangedEvents=this.whenTypeGroupKilledEvents=this.whenTypeGroupCreatedEvents=this.whenAnyGamepadReleased=this.whenAnyGamepadPressed=this.whenAnyKeyReleased=this.whenAnyKeyPressed=this.whenKeyPressedEvents=this.disableCollisionList=this.collisionPairs=this.tasks=this.scene=this.allActors=this.reverseGroups=this.groups=this.joints=this.terrainRegions=this.regions=this.animatedTiles=this.dynamicTiles=this.layersToDraw=this.backgroundLayers=this.interactiveLayers=this.layersByName=this.layers=this.recycledActorsOfType=this.actorsOfType=null,Ke.lastCreatedActor=null,Ke.lastCreatedJoint=null,Ke.lastCreatedRegion=null,Ke.lastCreatedTerrainRegion=null,ze.update(),this.world=null},switchScene:function(t,e,i){this.isTransitioning()||(null!=e&&e.isComplete()&&e.reset(),null!=e&&0!=e.duration||(e=new Wi(0)),null!=i&&0!=i.duration||(i=new Wi(1)),this.leave=e,this.enter=i,this.leave.isComplete()||this.leave.start(),this.sceneToEnter=t)},enterScene:function(){this.enter.isComplete()||(this.enter.start(),null!=this.leave&&this.leave.cleanup()),this.leave=null,this.sceneInitialized=!1,this.cleanup(),this.loadScene(this.sceneToEnter),this.sceneInitialized=!0},isTransitioning:function(){return!!(null!=this.enter&&this.enter.isActive()||null!=this.leave&&this.leave.isActive())},isTransitioningOut:function(){return!(null==this.leave||!this.leave.isActive())},createActorInNextScene:function(t,e,i,s){this.actorsToCreateInNextScene.push(new Kn(t,e,i,s))},createActor:function(t,e){if(e=vo.__cast(Oe.get().resources.get(t.actorType.spriteID),Fn),e=new un(this,t.elementID,t.groupID,t.x,t.y,t.layerID,-1,-1,e,t.behaviorValues,t.actorType,Ge.NO_PHYSICS?null:t.actorType.bodyDef,!1,!1,!1,!1,null,t.actorType.autoScale,t.actorType.ignoreGravity,t.actorType.physicsMode),0!=t.angle)if(0!=e.currOffset.x||0!=e.currOffset.y){var i=0|e.currOrigin.x,s=0|e.currOrigin.y;e.setOriginPoint(e.cacheWidth/2|0,e.cacheHeight/2|0),e.setAngle(t.angle,!1),e.setOriginPoint(i,s)}else e.setAngle(t.angle,!1);if(1!=t.scaleX||1!=t.scaleY){var n=e.cacheWidth/2|0,r=e.cacheHeight/2|0;e.currOrigin.x==n&&e.currOrigin.y==r||(i=Math.sin(.01745329251994278*t.angle),s=Math.cos(.01745329251994278*t.angle),n=(e.currOrigin.x-n)*t.scaleX-e.currOffset.x,r=(e.currOrigin.y-r)*t.scaleY-e.currOffset.y,e.setX(e.getX(!1)+n*s-r*i),e.setY(e.getY(!1)+n*i+r*s)),e.growTo(t.scaleX,t.scaleY,0)}return e.set_name(t.actorType.name),null==this.recycledActorsOfType.h[t.actorType.ID]&&(this.recycledActorsOfType.h[t.actorType.ID]=[]),(i=this.recycledActorsOfType.h[t.actorType.ID]).push(e),2!=t.actorType.physicsMode&&null!=(i=this.groups.h[t.groupID])&&i.addChild(e),1e8==t.elementID?(this.nextID++,e.ID=this.nextID,this.allActors.set(e.ID,e)):(this.allActors.set(e.ID,e),this.nextID=0|Math.max(e.ID,this.nextID)),e.internalUpdate(0,!1),e.updateDrawingMatrix(),null!=t.actorType&&-1!=t.actorType.ID&&(null==(i=this.actorsOfType.h[t.actorType.ID])&&(i=[],this.actorsOfType.h[t.actorType.ID]=i),null!=i&&i.push(e)),Ke.lastCreatedActor=e},removeActor:function(t){this.allActors.unset(t.ID),this.removeActorFromLayer(t,t.layer);var e=this.groups,i=t.getGroupID();e.h[i].removeChild(t),t.destroy(),null!=t.type&&-1!=t.typeID&&null!=(e=this.actorsOfType.h[t.typeID])&&c.remove(e,t)},removeActorFromLayer:function(t,e){null!=e&&t.layer==e&&(e==this.hudLayer&&(0==t.physicsMode&&t.body.setAlwaysActive(t.alwaysSimulate),t.isHUD=!1,t.cachedLayer=null),e.actorContainer.contains(t)&&(e.actorContainer.removeChild(t),t.layer=null))},moveActorToLayer:function(t,e){t.layer!=e&&null!=e&&(null!=t.layer&&t.layer.scrollFactorX==e.scrollFactorX&&t.layer.scrollFactorY==e.scrollFactorY||(t.updateMatrix=!0),e==this.hudLayer&&(0==t.physicsMode&&t.body.setAlwaysActive(!0),t.isHUD=!0,t.cachedLayer=t.layer),null!=t.layer&&this.removeActorFromLayer(t,t.layer),e.actorContainer.addChild(t),t.layer=e)},recycleActor:function(t){if(null!=t&&!t.recycled){var e=Ge.engine.whenTypeGroupKilledEvents,i=t.getType(),s=e.h[i.__id__];if(e=Ge.engine.whenTypeGroupKilledEvents,i=t.getGroup(),e=e.h[i.__id__],0<t.whenKilled.length)for(t.whenKilled._dispatchIndex=0;t.whenKilled._dispatchIndex<t.whenKilled.length;){try{t.whenKilled.listeners[t.whenKilled._dispatchIndex]()}catch(t){Ma.lastError=t}++t.whenKilled._dispatchIndex}if(null!=s&&0<s.length)for(s._dispatchIndex=0;s._dispatchIndex<s.length;){try{s.listeners[s._dispatchIndex](t)}catch(t){Ma.lastError=t}++s._dispatchIndex}if(null!=e&&0<e.length)for(e._dispatchIndex=0;e._dispatchIndex<e.length;){try{e.listeners[e._dispatchIndex](t)}catch(t){Ma.lastError=t}++e._dispatchIndex}if(t.isHUD&&t.unanchorFromScreen(),t.alwaysSimulate&&t.makeSometimesSimulate(!1),t.firstMove=!1,t.setXY(1e6,1e6,!1,!0),t.colX=1e6,t.colY=1e6,t.recycled=!0,t.killLeaveScreen=!1,t.lastScreenState=!1,t.lastSceneState=!1,t.cancelTweens(),t.clearFilters(),t.resetBlendMode(),t.set_alpha(1),t.realScaleX=1,t.realScaleY=1,t.switchToDefaultAnimation(),t.disableActorDrawing(),t.removeAttachedImages(),0==t.physicsMode&&null!=t.body)for(s=t.body.getContactList();null!=s;)Ge.engine.world.m_contactManager.m_contactListener.endContact(s.contact),s=s.next;for(t.removeAllListeners(),t.resetListeners(),this.removeActorFromLayer(t,t.layer),0==t.physicsMode&&(t.body.setActive(!1),t.body.setAwake(!1),t.body.setBullet(t.type.bodyDef.bullet),null!=t.body.m_prev&&(t.body.m_prev.m_next=t.body.m_next),null!=t.body.m_next&&(t.body.m_next.m_prev=t.body.m_prev),t.body==this.world.m_bodyList&&(this.world.m_bodyList=t.body.m_next),t.body.m_prev=null,t.body.m_next=null,--this.world.m_bodyCount),t.xSpeed=0,t.ySpeed=0,t.rSpeed=0,t.continuousCollision=!1,s=0,e=this.tasks;s<e.length;)i=e[s],++s,i.actor==t&&this.removeTask(i);this.allActors.unset(t.ID)}},getRecycledActorOfType:function(t,e,i,s){return t=this.getRecycledActorOfTypeOnLayer(t,e,i,this.getLayerByOrder(s).ID),Ge.paused&&(t.updateDrawingMatrix(),t.pause()),t},getRecycledActorOfTypeOnLayer:function(t,e,i,s){var n=null;if(null==this.recycledActorsOfType.h[t.ID]){var r=t.ID;this.recycledActorsOfType.h[r]=[]}if(null!=(r=this.recycledActorsOfType.h[t.ID])){for(var a=0;a<r.length;)if(n=r[a],++a,null!=n&&n.recycled){if(n.createTime=I_.getTimer(),this.allActors.set(n.ID,n),n.dead=!1,n.dying=!1,n.recycled=!1,n.killLeaveScreen=!1,n.switchToDefaultAnimation(),n.customizedBehaviors?(n.customizedBehaviors=!1,n.behaviors=new $e,Ge.initBehaviors(n.behaviors,t.behaviorValues,n,this,!1)):n.enableAllBehaviors(),0==n.physicsMode&&(n.body.setActive(!0),n.body.setAwake(!0),n.body.m_prev=null,n.body.m_next=this.world.m_bodyList,null!=this.world.m_bodyList&&(this.world.m_bodyList.m_prev=n.body),this.world.m_bodyList=n.body,++this.world.m_bodyCount),n.registry=new pr,n.enableActorDrawing(),n.setXY(e,i,!1,!0),0==n.physicsMode&&(n.colX=e,n.colY=i),n.setAngle(0,!1),n.setIgnoreGravity(n.defaultGravity),n.set_alpha(1),n.realScaleX=1,n.realScaleY=1,null!=n.bodyDef&&(n.continuousCollision=n.bodyDef.bullet),n.updateDrawingMatrix(!0),this.moveActorToLayer(n,this.getLayerById(s)),n.initScripts(),t=this.whenTypeGroupCreatedEvents.h[t.__id__],e=this.whenTypeGroupCreatedEvents,r=n.getGroup(),e=e.h[r.__id__],null!=t&&0<t.length)for(t._dispatchIndex=0;t._dispatchIndex<t.length;){try{t.listeners[t._dispatchIndex](n)}catch(t){Ma.lastError=t}++t._dispatchIndex}if(null!=e&&0<e.length)for(e._dispatchIndex=0;e._dispatchIndex<e.length;){try{e.listeners[e._dispatchIndex](n)}catch(t){Ma.lastError=t}++e._dispatchIndex}return n}n=this.createActorOfType(t,e,i,s)}return n},createActorOfType:function(t,e,i,s){if(null==t)return null;if(e=new Wn(1e8,0|e,0|i,1,1,s,-1,0,t.groupID,t.ID,null,!1),(e=this.createActor(e,!0)).initScripts(),t=this.whenTypeGroupCreatedEvents.h[t.__id__],i=this.whenTypeGroupCreatedEvents,s=e.getGroup(),i=i.h[s.__id__],null!=t&&0<t.length)for(t._dispatchIndex=0;t._dispatchIndex<t.length;){try{t.listeners[t._dispatchIndex](e)}catch(t){Ma.lastError=t}++t._dispatchIndex}if(null!=i&&0<i.length)for(i._dispatchIndex=0;i._dispatchIndex<i.length;){try{i.listeners[i._dispatchIndex](e)}catch(t){Ma.lastError=t}++i._dispatchIndex}return e},getTopLayer:function(){return this.topLayer.ID},getBottomLayer:function(){return this.bottomLayer.ID},getMiddleLayer:function(){return this.middleLayer.ID},update:function(t){if(null!=this.scene){if(ya.update(0|t),!Ge.NO_PHYSICS){var e=this.world.getScreenBounds();e.lowerBound.x=(Ge.cameraX/Ge.SCALE-Ge.paddingLeft)/Ge.physicsScale,e.lowerBound.y=(Ge.cameraY/Ge.SCALE-Ge.paddingTop)/Ge.physicsScale,e.upperBound.x=e.lowerBound.x+(Ge.screenWidth+Ge.paddingRight+Ge.paddingLeft)/Ge.physicsScale,e.upperBound.y=e.lowerBound.y+(Ge.screenHeight+Ge.paddingBottom+Ge.paddingTop)/Ge.physicsScale}e=ze.mouseX/Ge.SCALE|0;var i=ze.mouseY/Ge.SCALE|0;if(ze.mousePressed&&(Ke.mpx=e,Ke.mpy=i,0<this.whenMousePressed.length))for(this.whenMousePressed._dispatchIndex=0;this.whenMousePressed._dispatchIndex<this.whenMousePressed.length;){try{this.whenMousePressed.listeners[this.whenMousePressed._dispatchIndex]()}catch(t){Ma.lastError=t}++this.whenMousePressed._dispatchIndex}if(ze.mouseReleased&&(Ke.mrx=e,Ke.mry=i,0<this.whenMouseReleased.length))for(this.whenMouseReleased._dispatchIndex=0;this.whenMouseReleased._dispatchIndex<this.whenMouseReleased.length;){try{this.whenMouseReleased.listeners[this.whenMouseReleased._dispatchIndex]()}catch(t){Ma.lastError=t}++this.whenMouseReleased._dispatchIndex}if(this.mx!=e||this.my!=i){if(this.mx=e,this.my=i,0<this.whenMouseMoved.length)for(this.whenMouseMoved._dispatchIndex=0;this.whenMouseMoved._dispatchIndex<this.whenMouseMoved.length;){try{this.whenMouseMoved.listeners[this.whenMouseMoved._dispatchIndex]()}catch(t){Ma.lastError=t}++this.whenMouseMoved._dispatchIndex}if(ze.mouseDown&&!ze.mousePressed&&0<this.whenMouseDragged.length)for(this.whenMouseDragged._dispatchIndex=0;this.whenMouseDragged._dispatchIndex<this.whenMouseDragged.length;){try{this.whenMouseDragged.listeners[this.whenMouseDragged._dispatchIndex]()}catch(t){Ma.lastError=t}++this.whenMouseDragged._dispatchIndex}}for(var s=0;s<this.tasks.length;)(e=this.tasks[s]).done||e.update(Ge.STEP_SIZE),e.done&&(c.remove(this.tasks,e),--s),++s;if(0<this.whenKeyPressedEvents.keys.length){for(e=0,i=this.whenKeyPressedEvents.keys.length;e<i;){s=e++;var n=this.whenKeyPressedEvents.keys[s];s=ze.pressed(n);var r=ze.released(n);if((s||r)&&0<(n=this.whenKeyPressedEvents.map.get(n)).length)for(n._dispatchIndex=0;n._dispatchIndex<n.length;){try{n.listeners[n._dispatchIndex](s,r)}catch(t){Ma.lastError=t}++n._dispatchIndex}}this.keyPollOccurred=!0}if(0<this.whenUpdated.length)for(this.whenUpdated._dispatchIndex=0;this.whenUpdated._dispatchIndex<this.whenUpdated.length;){try{this.whenUpdated.listeners[this.whenUpdated._dispatchIndex](t)}catch(t){Ma.lastError=t}++this.whenUpdated._dispatchIndex}if(Ge.NO_PHYSICS||(this.world.step(.01,3,3),this.world.clearForces(),Ge.DEBUG_DRAW&&this.world.drawDebugData()),0!=this.regions.mSize)for(e=this.regions.iterator();e.hasNext();)null!=(i=e.next())&&i.innerUpdate(t,!0);for(;0<this.disableCollisionList.length;)this.disableCollisionList.pop();if(0!=this.collisionPairs.mSize)for(e=this.collisionPairs.keys();e.hasNext();)i=e.next(),this.collisionPairs.unset(i);if(Cn.updateAll(t),0!=this.allActors.mSize)for(s=this.allActors.iterator();s.hasNext();)null==(e=s.next())||e.dead||e.recycled||(i=(0!=e.physicsMode||e.body.isActive())&&e.colX+e.cacheWidth*e.realScaleX>=Ge.cameraX/Ge.SCALE-Ge.paddingLeft&&e.colY+e.cacheHeight*e.realScaleY>=Ge.cameraY/Ge.SCALE-Ge.paddingTop&&e.colX<Ge.cameraX/Ge.SCALE+Ge.screenWidth+Ge.paddingRight&&e.colY<Ge.cameraY/Ge.SCALE+Ge.screenHeight+Ge.paddingBottom,e.isOnScreenCache=i||e.isHUD,0==e.physicsMode&&null!=e.body?e.killLeaveScreen&&!i?this.recycleActor(e):(e.body.isActive()||e.alwaysSimulate||e.isHUD)&&e.innerUpdate(t,!1):0!=e.physicsMode&&(e.killLeaveScreen&&!i?this.recycleActor(e):(i||e.alwaysSimulate||e.isHUD)&&e.innerUpdate(t,!1)),e.dead&&this.disableCollisionList.push(e));for(this.keyPollOccurred=!1,e=0,i=this.disableCollisionList.length;e<i;)s=e++,null!=(s=this.disableCollisionList[s])&&(s.handlesCollisions=!1);for(e=0,i=this.animatedTiles.length;e<i;)s=e++,(s=this.animatedTiles[s]).update(t),this.tileUpdated=this.tileUpdated||s.updateSource;for(null!=this.leave&&this.leave.isActive()?this.leave.update(t):null!=this.enter&&this.enter.isActive()&&this.enter.update(t),e=this.layers.iterator();e.hasNext();)e.next().updatePosition(Ge.cameraX,Ge.cameraY,t);!Ge.NO_PHYSICS&&Ge.DEBUG_DRAW&&(this.debugLayer.set_x(-Ge.cameraX),this.debugLayer.set_y(-Ge.cameraY)),this.isShaking&&(this.shakeTimer-=Ge.STEP_SIZE,0>=this.shakeTimer?this.stopShakingScreen():(t=-this.shakeIntensity*Ge.screenHeight+2*Math.random()*this.shakeIntensity*Ge.screenHeight,this.master.set_x((-this.shakeIntensity*Ge.screenWidth+2*Math.random()*this.shakeIntensity*Ge.screenWidth)*Ge.SCALE),this.master.set_y(t*Ge.SCALE)))}},onUpdate:function(t){var e=(t=I_.getTimer())-this.lastTime;200<=e&&(e=200),this.acc+=e,Ge.elapsedTime=e,Ge.totalElapsedTime+=0|e,null!=this.leave?(this.leave.isComplete()&&(this.leave.deactivate(),this.enterScene()),this.postUpdate(t)):(null!=this.enter&&this.enter.isComplete()&&(this.enter.deactivate(),this.enter.cleanup(),this.enter=null),this.sceneInitialized&&this.postUpdate(t))},postUpdate:function(t){for(;this.acc>Ge.STEP_SIZE;)this.update(Ge.STEP_SIZE),this.acc-=Ge.STEP_SIZE,ze.update();if(this.lastTime=t,0!=this.allActors.mSize)for(t=this.allActors.iterator();t.hasNext();){var e=t.next();null==e||0==e.physicsMode&&null==e.body||(e.dead||e.dying?this.removeActor(e):e.updateMatrix||e.resetOrigin?(e.updateDrawingMatrix(),e.updateMatrix=!1,e.resetOrigin=!1):e.smoothMove&&(e.drawX!=e.realX||e.drawY!=e.realY)&&e.updateDrawingMatrix())}this.draw()},onFocus:function(t){Ge.inFocus||(Ge.inFocus=!0,this.focusChanged(!1))},onFocusLost:function(t){Ge.inFocus&&(Ge.inFocus=!1,this.focusChanged(!0))},focusChanged:function(t){if(null!=this.whenFocusChanged&&0<this.whenFocusChanged.length)for(this.whenFocusChanged._dispatchIndex=0;this.whenFocusChanged._dispatchIndex<this.whenFocusChanged.length;){try{this.whenFocusChanged.listeners[this.whenFocusChanged._dispatchIndex](t)}catch(t){Ma.lastError=t}++this.whenFocusChanged._dispatchIndex}},handleCollision:function(t,e){var i=t.typeID,s=e.otherActor.typeID;if(Ge.NO_PHYSICS)var n=1e6+e.thisActor.groupID,r=1e6+e.otherActor.groupID;else{if(null!=e.thisShape){if(-1e3==(r=e.thisShape.groupID)){var a=e.thisShape.getBody();null!=a&&(r=a.getUserData().groupID)}n=1e6+r}else n=1e6+e.thisActor.groupID;null!=e.otherShape?(-1e3==(r=e.otherShape.groupID)&&null!=(a=e.otherShape.getBody())&&(r=a.getUserData().groupID),r=1e6+r):r=1e6+e.otherActor.groupID}if(null!=this.collisionPairs){a=t.ID;var o=this.collisionPairs.mH,l=o.mHash[73856093*a&o.mMask];if(-1==l)a=!1;else{var h=o.mData;if(h[l]==a)a=!0;else{for(o=!1,l=h[l+2];-1!=l;){if(h[l]==a){o=!0;break}l=h[l+2]}a=o}}if(a||this.collisionPairs.set(t.ID,new fr),a=e.otherActor.ID,-1==(l=(o=this.collisionPairs.mH).mHash[73856093*a&o.mMask]))a=!1;else if((h=o.mData)[l]==a)a=!0;else{for(o=!1,l=h[l+2];-1!=l;){if(h[l]==a){o=!0;break}l=h[l+2]}a=o}if(a||this.collisionPairs.set(e.otherActor.ID,new fr),o=this.collisionPairs,a=t.ID,-1==(l=(h=o.mH).mHash[73856093*a&h.mMask]))a=-2147483648;else if((h=h.mData)[l]==a)a=h[l+1];else{var _=-2147483648;for(l=h[l+2];-1!=l;){if(h[l]==a){_=h[l+1];break}l=h[l+2]}a=_}if((-2147483648==a?null:o.mVals[a]).h.hasOwnProperty(e.otherActor.ID))a=!0;else{if(o=this.collisionPairs,a=e.otherActor.ID,-1==(l=(h=o.mH).mHash[73856093*a&h.mMask]))a=-2147483648;else if((h=h.mData)[l]==a)a=h[l+1];else{for(_=-2147483648,l=h[l+2];-1!=l;){if(h[l]==a){_=h[l+1];break}l=h[l+2]}a=_}a=(-2147483648==a?null:o.mVals[a]).h.hasOwnProperty(t.ID)}if(a)return}if(-1<i||-1<s){if(!e.otherCollidedWithTerrain&&this.whenCollidedEvents.h.hasOwnProperty(i)&&this.whenCollidedEvents.h[i].h.hasOwnProperty(s)){if(0<(a=this.whenCollidedEvents.h[i].h[s]).length)for(a._dispatchIndex=0;a._dispatchIndex<a.length;){try{a.listeners[a._dispatchIndex](e)}catch(t){Ma.lastError=t}++a._dispatchIndex}0==a.length&&this.whenCollidedEvents.h[i].remove(s)}if(i!=s&&this.whenCollidedEvents.h.hasOwnProperty(s)&&this.whenCollidedEvents.h[s].h.hasOwnProperty(i)){if(a=this.whenCollidedEvents.h[s].h[i],o=e.switchData(In.get()),0<a.length)for(a._dispatchIndex=0;a._dispatchIndex<a.length;){try{a.listeners[a._dispatchIndex](o)}catch(t){Ma.lastError=t}++a._dispatchIndex}0==a.length&&this.whenCollidedEvents.h[s].remove(i)}}if(0<n&&0<r){if(this.whenCollidedEvents.h.hasOwnProperty(n)&&this.whenCollidedEvents.h[n].h.hasOwnProperty(r)){if(0<(a=this.whenCollidedEvents.h[n].h[r]).length)for(a._dispatchIndex=0;a._dispatchIndex<a.length;){try{a.listeners[a._dispatchIndex](e)}catch(t){Ma.lastError=t}++a._dispatchIndex}0==a.length&&this.whenCollidedEvents.h[n].remove(r)}if(n!=r&&this.whenCollidedEvents.h.hasOwnProperty(r)&&this.whenCollidedEvents.h[r].h.hasOwnProperty(n)){if(a=this.whenCollidedEvents.h[r].h[n],o=e.switchData(In.get()),0<a.length)for(a._dispatchIndex=0;a._dispatchIndex<a.length;){try{a.listeners[a._dispatchIndex](o)}catch(t){Ma.lastError=t}++a._dispatchIndex}0==a.length&&this.whenCollidedEvents.h[r].remove(n)}}if(null!=this.collisionPairs){if(o=this.collisionPairs,a=t.ID,-1==(l=(h=o.mH).mHash[73856093*a&h.mMask]))a=-2147483648;else if((h=h.mData)[l]==a)a=h[l+1];else{for(_=-2147483648,l=h[l+2];-1!=l;){if(h[l]==a){_=h[l+1];break}l=h[l+2]}a=_}if((-2147483648==a?null:o.mVals[a]).h[e.otherActor.ID]=!1,o=this.collisionPairs,a=e.otherActor.ID,-1==(l=(h=o.mH).mHash[73856093*a&h.mMask]))a=-2147483648;else if((h=h.mData)[l]==a)a=h[l+1];else{for(_=-2147483648,l=h[l+2];-1!=l;){if(h[l]==a){_=h[l+1];break}l=h[l+2]}a=_}(-2147483648==a?null:o.mVals[a]).h[t.ID]=!1}},soundFinished:function(t){var e=vo.__cast(this.channels[t],An);if(null!=this.whenSoundEndedEvents){var i=this.whenSoundEndedEvents.h[e.currentClip.__id__];if(e.currentSound=null,null!=i&&0<i.length)for(i._dispatchIndex=0;i._dispatchIndex<i.length;){try{i.listeners[i._dispatchIndex]()}catch(t){Ma.lastError=t}++i._dispatchIndex}}else e.currentSound=null;if(null!=this.whenChannelEndedEvents&&null!=(t=this.whenChannelEndedEvents.h[t])&&0<t.length)for(t._dispatchIndex=0;t._dispatchIndex<t.length;){try{t.listeners[t._dispatchIndex]()}catch(t){Ma.lastError=t}++t._dispatchIndex}},addTask:function(t){this.tasks.push(t)},removeTask:function(t){c.remove(this.tasks,t)},shakeScreen:function(t,e){this.shakeTimer=Ge.MS_PER_SEC*e|0,this.isShaking=!0,this.shakeIntensity=t},stopShakingScreen:function(){this.shakeTimer=0,this.isShaking=!1,this.master.set_x(0),this.master.set_y(0)},cameraFollow:function(t,e,i){this.moveCamera(t.colX+t.cacheWidth/2,t.colY+t.cacheHeight/2)},moveCamera:function(t,e){this.camera.setLocation(t,e),Ge.cameraX=this.camera.realX-Ge.screenWidthHalf,Ge.cameraY=this.camera.realY-Ge.screenHeightHalf,Ge.limitCameraToScene&&(Ge.cameraX=Math.max(0,Math.min(Ge.sceneWidth-Ge.screenWidth,Ge.cameraX)),Ge.cameraY=Math.max(0,Math.min(Ge.sceneHeight-Ge.screenHeight,Ge.cameraY))),Ge.cameraX*=Ge.SCALE,Ge.cameraY*=Ge.SCALE,1!=this.zoomMultiplier&&this.isHUDZoomable&&(this.hudLayer.set_x(-Ke.getScreenX()),this.hudLayer.set_y(-Ke.getScreenY()))},setZoom:function(t,e){null==e&&(e=!0),0>=t||this.zoomMultiplier==t||(this.zoomMultiplier=t,this.root.set_scaleX(Ge.screenScaleX=t*Ge.unzoomedScaleX),this.root.set_scaleY(Ge.screenScaleY=t*Ge.unzoomedScaleY),e&&(Ge.screenWidth=1/t*L.logicalWidth|0,Ge.screenWidthHalf=Ge.screenWidth/2|0,Ge.screenHeight=1/t*L.logicalHeight|0,Ge.screenHeightHalf=Ge.screenHeight/2|0),this.setColorBackground(this.scene.colorBackground),this.root.set_scrollRect(new je(0,0,Ge.screenWidth*Ge.SCALE,Ge.screenHeight*Ge.SCALE)),this.moveCamera(this.camera.realX,this.camera.realY),this.isHUDZoomable||(this.hudLayer.set_scaleX(1/t),this.hudLayer.set_scaleY(1/t)))},pause:function(){if(!this.isTransitioning()){if(Ge.paused=!0,0!=this.allActors.mSize)for(var t=this.allActors.keys();t.hasNext();){var e=t.next(),i=this.allActors,s=i.mH,n=s.mHash[73856093*e&s.mMask];if(-1==n)e=-2147483648;else if((s=s.mData)[n]==e)e=s[n+1];else{var r=-2147483648;for(n=s[n+2];-1!=n;){if(s[n]==e){r=s[n+1];break}n=s[n+2]}e=r}null!=(i=-2147483648==e?null:i.mVals[e])&&i.pause()}if(0<this.whenPaused.length)for(this.whenPaused._dispatchIndex=0;this.whenPaused._dispatchIndex<this.whenPaused.length;){try{this.whenPaused.listeners[this.whenPaused._dispatchIndex](!0)}catch(t){Ma.lastError=t}++this.whenPaused._dispatchIndex}}},unpause:function(){if(Ge.paused=!1,0!=this.allActors.mSize)for(var t=this.allActors.keys();t.hasNext();){var e=t.next(),i=this.allActors,s=i.mH,n=s.mHash[73856093*e&s.mMask];if(-1==n)e=-2147483648;else if((s=s.mData)[n]==e)e=s[n+1];else{var r=-2147483648;for(n=s[n+2];-1!=n;){if(s[n]==e){r=s[n+1];break}n=s[n+2]}e=r}null!=(i=-2147483648==e?null:i.mVals[e])&&i.unpause()}if(0<this.whenPaused.length)for(this.whenPaused._dispatchIndex=0;this.whenPaused._dispatchIndex<this.whenPaused.length;){try{this.whenPaused.listeners[this.whenPaused._dispatchIndex](!1)}catch(t){Ma.lastError=t}++this.whenPaused._dispatchIndex}},isPaused:function(){return Ge.paused},draw:function(){for(var t=0,e=this.interactiveLayers;t<e.length;){var i=e[t];++t,i.overlay.get_graphics().clear()}if(this.hudLayer.overlay.get_graphics().clear(),this.g.graphics=this.transitionLayer.get_graphics(),this.g.graphics.clear(),this.g.resetGraphicsSettings(),0!=this.allActors.mSize)for(t=this.allActors.iterator();t.hasNext();)if(0<(e=t.next()).whenDrawing.length&&null!=e.layer&&(this.g.graphics=e.layer.overlay.get_graphics(),this.g.translateToActor(e),this.g.resetGraphicsSettings(),0<e.whenDrawing.length))for(e.whenDrawing._dispatchIndex=0;e.whenDrawing._dispatchIndex<e.whenDrawing.length;){try{e.whenDrawing.listeners[e.whenDrawing._dispatchIndex](this.g,0,0)}catch(t){Ma.lastError=t}++e.whenDrawing._dispatchIndex}for(t=0,e=this.interactiveLayers;t<e.length;)i=e[t],++t,(i.cameraMoved||this.tileUpdated)&&(i.tiles.draw(Ge.cameraX*i.scrollFactorX|0,Ge.cameraY*i.scrollFactorY|0),i.cameraMoved=!1);if(this.tileUpdated=!1,this.g.graphics=this.transitionLayer.get_graphics(),this.g.translateToScreen(),this.g.resetGraphicsSettings(),0<this.whenDrawing.length)for(this.whenDrawing._dispatchIndex=0;this.whenDrawing._dispatchIndex<this.whenDrawing.length;){try{this.whenDrawing.listeners[this.whenDrawing._dispatchIndex](this.g,0,0)}catch(t){Ma.lastError=t}++this.whenDrawing._dispatchIndex}bi.visitStringCache(),null!=this.leave&&this.leave.isActive()?this.leave.draw(null):null!=this.enter&&this.enter.isActive()&&this.enter.draw(null),null!=this.shaders&&0<this.shaders.length&&this.shaders[0].capture()},getValue:function(t,e){return this.behaviors.getAttribute(t,e)},setValue:function(t,e,i){this.behaviors.setAttribute(t,e,i)},say:function(t,e,i){return this.behaviors.call2(t,e,i)},shout:function(t,e){return this.behaviors.call(t,e)},getActor:function(t){var e=this.allActors,i=e.mH,s=i.mHash[73856093*t&i.mMask];if(-1==s)t=-2147483648;else if((i=i.mData)[s]==t)t=i[s+1];else{var n=-2147483648;for(s=i[s+2];-1!=s;){if(i[s]==t){n=i[s+1];break}s=i[s+2]}t=n}return-2147483648==t?null:e.mVals[t]},getActorsOfType:function(t){return null==t?[]:null!=this.actorsOfType.h[t.ID]?this.actorsOfType.h[t.ID]:[]},getRecycledActorsOfType:function(t){return this.recycledActorsOfType.h[t.ID]},getLayer:function(t,e){return 0==t?this.getLayerById(g.parseInt(e)):this.getLayerByName(e)},getLayerById:function(t,e){if(null==e&&(e=!0),-1==t)return null;var i=Ge.engine.layers,s=i.mH,n=s.mHash[73856093*t&s.mMask];if(-1==n)t=-2147483648;else if((s=s.mData)[n]==t)t=s[n+1];else{var r=-2147483648;for(n=s[n+2];-1!=n;){if(s[n]==t){r=s[n+1];break}n=s[n+2]}t=r}return null==(i=-2147483648==t?null:i.mVals[t])&&e&&(i=this.topLayer),i},getLayerByName:function(t,e){return null==e&&(e=!0),null==(t=Ge.engine.layersByName.h[t])&&e&&(t=this.topLayer),t},getLayerByOrder:function(t){switch(t){case 0:default:return this.topLayer;case 1:return this.middleLayer;case 2:return this.bottomLayer}},sendToBack:function(t){t.isHUD||this.moveActorToLayer(t,this.bottomLayer)},sendBackward:function(t){if(!t.isHUD)for(var e=t.layer.order;this.layersToDraw.h.hasOwnProperty(--e);)if(this.layersToDraw.h[e]instanceof Zn){this.moveActorToLayer(t,this.layersToDraw.h[e]);break}},bringToFront:function(t){t.isHUD||this.moveActorToLayer(t,this.topLayer)},bringForward:function(t){if(!t.isHUD)for(var e=t.layer.order;this.layersToDraw.h.hasOwnProperty(++e);)if(this.layersToDraw.h[e]instanceof Zn){this.moveActorToLayer(t,this.layersToDraw.h[e]);break}},getNumberOfActorsWithinLayer:function(t){return t instanceof Zn?vo.__cast(t,Zn).actorContainer.get_numChildren():0},getNumberOfLayers:function(){return this.master.get_numChildren()},getOrderOfLayer:function(t){return t.order},moveLayerToOrder:function(t,e){0>e&&(e=0),e>this.master.get_numChildren()-1&&(e=this.master.get_numChildren()-1),t.order!=e&&(this.master.setChildIndex(t,e),this.refreshLayers())},getNextLayerID:function(){for(var t=-1,e=this.layers.iterator();e.hasNext();){var i=e.next();t=0|Math.max(t,i.ID)}return t+1},insertLayer:function(t,e){this.master.addChildAt(t,e),t instanceof nr?this.backgroundLayers.push(vo.__cast(t,nr)):t instanceof Zn&&this.interactiveLayers.push(vo.__cast(t,Zn)),this.layers.set(t.ID,t),this.layersByName.h[t.layerName]=t,this.refreshLayers()},removeLayer:function(t){this.master.removeChild(t),t instanceof nr?c.remove(this.backgroundLayers,vo.__cast(t,nr)):t instanceof Zn&&c.remove(this.interactiveLayers,vo.__cast(t,Zn)),this.layers.unset(t.ID),t=t.layerName;var e=this.layersByName;Object.prototype.hasOwnProperty.call(e.h,t)&&delete e.h[t],this.refreshLayers()},refreshLayers:function(){for(var t=!1,e=!1,i=0,s=0,n=this.master.get_numChildren();s<n;){var r=s++,a=vo.__cast(this.master.getChildAt(r),Jn);this.layersToDraw.h[r]=a,a.order=r,a instanceof Zn&&(t||(t=!0,this.bottomLayer=a),e||i!=Math.floor(this.interactiveLayers.length/2)||(e=!0,this.middleLayer=a),this.topLayer=a,++i)}},getPhysicalWidth:function(){return this.physicalWidth},getPhysicalHeight:function(){return this.physicalHeight},enableGlobalSleeping:function(){this.world.m_allowSleep=!0},disableGlobalSleeping:function(){this.world.m_allowSleep=!1},getGroup:function(t,e){return-1e3==t&&null!=e?(t=this.groups,e=e.getGroupID(),t.h[e]):this.groups.h[t]},getGroupByName:function(t){return null==(t=this.reverseGroups.h[t])?this.groups.h[3]:t},nextJointID:function(){for(var t=-1,e=this.joints.iterator();e.hasNext();){var i=e.next();null!=i&&(t=0|Math.max(t,i.ID))}return t+1},addJoint:function(t){var e=this.nextJointID();t.ID=e,this.joints.h[e]=t},getJoint:function(t){return this.joints.h[t]},destroyJoint:function(t){this.joints.remove(t.ID),this.world.destroyJoint(t)},createStickJoint:function(t,e,i,s,n,r){null==r&&(r=0),null==n&&(n=0),null==s&&(s=!1),null==i&&(i=-1);var a=t.getLocalCenter(),o=e.getLocalCenter();0==t.getType()&&(a.x=t.getUserData().getPhysicsWidth()/2,a.y=t.getUserData().getPhysicsHeight()/2),0==e.getType()&&(o.x=e.getUserData().getPhysicsWidth()/2,o.y=e.getUserData().getPhysicsHeight()/2),a=t.getWorldPoint(a),o=e.getWorldPoint(o);var l=new de;return l.initialize(t,e,a,o),l.collideConnected=s,l.dampingRatio=n,l.frequencyHz=r,t=this.world.createJoint(l),-1==i?this.addJoint(t):(this.joints.h[i]=t,t.ID=i),vo.__cast(t,ce)},createCustomStickJoint:function(t,e,i,s,n,r){return e=new G(e,i),n=new G(n,r),e.x=Ge.toPhysicalUnits(e.x),e.y=Ge.toPhysicalUnits(e.y),n.x=Ge.toPhysicalUnits(n.x),n.y=Ge.toPhysicalUnits(n.y),e=t.getWorldPoint(e),n=s.getWorldPoint(n),(r=new de).initialize(t,s,e,n),t=this.world.createJoint(r),this.addJoint(t),vo.__cast(t,ce)},createHingeJoint:function(t,e,i,s,n,r,a,o,l,h,_){null==_&&(_=0),null==h&&(h=0),null==l&&(l=0),null==o&&(o=0),null==a&&(a=!1),null==r&&(r=!1),null==n&&(n=!1),null==s&&(s=-1),null==e&&(e=this.world.m_groundBody),null==i&&(i=t.getLocalCenter());var c=new Ce;return c.bodyA=t,c.bodyB=e,i.x=Ge.toPhysicalUnits(i.x),i.y=Ge.toPhysicalUnits(i.y),c.localAnchorA=i,c.localAnchorB=e.getLocalPoint(t.getWorldPoint(i)),c.collideConnected=n,c.enableLimit=r,c.enableMotor=a,c.lowerAngle=o,c.upperAngle=l,c.maxMotorTorque=h,c.motorSpeed=_,t=this.world.createJoint(c),-1==s?this.addJoint(t):(this.joints.h[s]=t,t.ID=s),vo.__cast(t,Pe)},createSlidingJoint:function(t,e,i,s,n,r,a,o,l,h,_){null==_&&(_=0),null==h&&(h=0),null==l&&(l=0),null==o&&(o=0),null==a&&(a=!1),null==r&&(r=!1),null==n&&(n=!1),null==s&&(s=-1),null==e&&(e=this.world.m_groundBody),null==i&&(i=new G(1,0)),i.normalize();var c=t.getWorldCenter(),u=e.getWorldCenter();return 0==t.getType()&&null!=t.getUserData()&&(c.x=t.getUserData().getPhysicsWidth()/2,c.y=t.getUserData().getPhysicsHeight()/2,c=t.getWorldPoint(c)),0==e.getType()&&null!=e.getUserData()&&(u.x=e.getUserData().getPhysicsWidth()/2,u.y=e.getUserData().getPhysicsHeight()/2,e.getWorldPoint(u)),(u=new xe).initialize(t,e,c,i),u.collideConnected=n,u.enableLimit=r,u.enableMotor=a,u.lowerTranslation=Ge.toPhysicalUnits(o),u.upperTranslation=Ge.toPhysicalUnits(l),u.maxMotorForce=h,u.motorSpeed=Ge.toPhysicalUnits(_),t=this.world.createJoint(u),-1==s?this.addJoint(t):(this.joints.h[s]=t,t.ID=s),vo.__cast(t,ve)},createRegion:function(t,e,i,s){null==s&&(s=!1);var n=[];return n.push(i),i=new wn(this,t,e,n),s&&i.setXY(t+i.regionWidth/2,e+i.regionHeight/2),this.addRegion(i),i},createBoxRegion:function(t,e,i,s){if(Ge.NO_PHYSICS)return t=new wn(this,t,e,[],new je(0,0,i,s)),this.addRegion(t),t;i=Ge.toPhysicalUnits(i),s=Ge.toPhysicalUnits(s);var n=new vt;return n.setAsBox(i/2,s/2),this.createRegion(t,e,n,!0)},createCircularRegion:function(t,e,i){if(Ge.NO_PHYSICS)return t=new wn(this,t,e,[],new je(0,0,2*i,2*i)),this.addRegion(t),t;i=Ge.toPhysicalUnits(i);var s=new gt;return s.m_radius=i,this.createRegion(t,e,s,!0)},addRegion:function(t){-1==t.ID&&(t.ID=this.nextRegionID()),this.regions.set(t.ID,t),Ge.NO_PHYSICS&&this.groups.h[-2].addChild(t)},removeRegion:function(t){t=this.getRegion(t),this.regions.unset(t.ID),t.destroy(),Ge.NO_PHYSICS&&this.groups.h[-2].removeChild(t)},getRegion:function(t){var e=this.regions,i=e.mH,s=i.mHash[73856093*t&i.mMask];if(-1==s)t=-2147483648;else if((i=i.mData)[s]==t)t=i[s+1];else{var n=-2147483648;for(s=i[s+2];-1!=s;){if(i[s]==t){n=i[s+1];break}s=i[s+2]}t=n}return-2147483648==t?null:e.mVals[t]},getRegions:function(){return this.regions},nextRegionID:function(){for(var t=-1,e=this.regions.iterator();e.hasNext();){var i=e.next();null!=i&&(t=0|Math.max(t,i.ID))}return t+1},isInRegion:function(t,e){if(null!=e){var i=this.regions,s=e.getID(),n=i.mH,r=n.mHash[73856093*s&n.mMask];if(-1==r)s=-2147483648;else if((n=n.mData)[r]==s)s=n[r+1];else{var a=-2147483648;for(r=n[r+2];-1!=r;){if(n[r]==s){a=n[r+1];break}r=n[r+2]}s=a}i=null!=(-2147483648==s?null:i.mVals[s])}else i=!1;return!!i&&e.containsActor(t)},createTerrainRegion:function(t,e,i,s,n){null==n&&(n=1),null==s&&(s=!1);var r=[];return r.push(i),i=new Tn(this,t,e,r,n),s&&i.setXY(t+i.regionWidth/2,e+i.regionHeight/2),this.addTerrainRegion(i),i},createBoxTerrainRegion:function(t,e,i,s,n){null==n&&(n=1),i=Ge.toPhysicalUnits(i),s=Ge.toPhysicalUnits(s);var r=new vt;return r.setAsBox(i/2,s/2),this.createTerrainRegion(t,e,r,!0,n)},createCircularTerrainRegion:function(t,e,i,s){null==s&&(s=1),i=Ge.toPhysicalUnits(i);var n=new gt;return n.m_radius=i,this.createTerrainRegion(t,e,n,!0,s)},addTerrainRegion:function(t){-1==t.ID&&(t.ID=this.nextTerrainRegionID()),this.terrainRegions.h[t.ID]=t},removeTerrainRegion:function(t){var e=this.getTerrainRegion(t);this.terrainRegions.remove(t),e.destroy()},getTerrainRegion:function(t){return this.terrainRegions.h[t]},getTerrainRegions:function(){return this.terrainRegions},nextTerrainRegionID:function(){for(var t=-1,e=this.terrainRegions.iterator();e.hasNext();){var i=e.next();null!=i&&(t=0|Math.max(t,i.ID))}return t+1},setGameAttribute:function(t,e){this.gameAttributes.h[t]=e},getGameAttribute:function(t){return this.gameAttributes.h[t]},restoreGameAttributes:function(){var t=Oe.get().readGameMbs();t=is.readMap(t.getGameAttributes()),this.gameAttributes.h=Object.create(null);for(var e=Object.keys(t.h),i=e.length,s=0;s<i;){var n=e[s++];this.gameAttributes.h[n]=t.h[n]}},setOffscreenTolerance:function(t,e,i,s){Ge.paddingTop=t,Ge.paddingLeft=e,Ge.paddingBottom=i,Ge.paddingRight=s},setScrollFactor:function(t,e,i){this.setLayerScrollFactor(this.getLayerById(t),e,i)},setLayerScrollFactor:function(t,e,i){null==i&&(i=e),t.scrollFactorX=e,t.scrollFactorY=i},__class__:Ge};var Ue=function(t,e){this.inputControlMap=t,this.getInputs=e};r["com.stencyl.InputMethod_Int"]=Ue,Ue.__name__="com.stencyl.InputMethod_Int",Ue.prototype={inputControlMap:null,getInputs:null,mapInputToControl:function(t,e){this.inputControlMap.exists(t)||this.inputControlMap.set(t,[]);for(var i=this.inputControlMap.get(t),s=0;s<i.length;){var n=i[s];++s,n!=e&&(c.remove(this.getInputs(n),t),ze.controlStateUpdated(n))}-1==this.getInputs(e).indexOf(t)&&(this.getInputs(e).push(t),i.push(e),ze.controlStateUpdated(e))},unmapInput:function(t){var e=this.inputControlMap.get(t);if(null!=e)for(var i=0;i<e.length;){var s=e[i];++i,c.remove(this.getInputs(s),t),ze.controlStateUpdated(s)}this.inputControlMap.remove(t)},addInputToControl:function(t,e){-1==this.getInputs(e).indexOf(t)&&(this.getInputs(e).push(t),ze.controlStateUpdated(e),this.inputControlMap.exists(t)||this.inputControlMap.set(t,[]),this.inputControlMap.get(t).push(e))},removeInputFromControl:function(t,e){if(-1!=this.getInputs(e).indexOf(t)){c.remove(this.getInputs(e),t),ze.controlStateUpdated(e);var i=this.inputControlMap.get(t);c.remove(i,e),0==i.length&&this.inputControlMap.remove(t)}},getInputsForControl:function(t){return null!=t?this.getInputs(t):null},removeAllInputsFromControl:function(t){for(var e=this.getInputs(t);0<e.length;){var i=e.pop(),s=this.inputControlMap.get(i);c.remove(s,t),0==s.length&&this.inputControlMap.remove(i)}ze.controlStateUpdated(t)},__class__:Ue};var ze=function(){};r["com.stencyl.Input"]=ze,ze.__name__="com.stencyl.Input",ze.resetStatics=function(){Ge.stage.removeEventListener("keyDown",ze.onKeyDown),Ge.stage.removeEventListener("keyUp",ze.onKeyUp),Ge.stage.removeEventListener("mouseDown",ze.onMouseDown),Ge.stage.removeEventListener("mouseUp",ze.onMouseUp),Ge.stage.removeEventListener("mouseWheel",ze.onMouseWheel),Ge.stage.removeEventListener("rightMouseDown",ze.onRightMouseDown),Ge.stage.removeEventListener("rightMouseUp",ze.onRightMouseUp),Ge.stage.removeEventListener("middleMouseDown",ze.onMiddleMouseDown),Ge.stage.removeEventListener("middleMouseUp",ze.onMiddleMouseUp),Rm.get_supportsTouchEvents()&&(Ge.stage.removeEventListener("touchBegin",ze.onTouchBegin),Ge.stage.removeEventListener("touchMove",ze.onTouchMove),Ge.stage.removeEventListener("touchEnd",ze.onTouchEnd)),ze._roxAgent.detach(),Ge.engine.root.removeEventListener("rox_gesture_swipe",ze.onSwipe),ze.mouseX=0,ze.mouseY=0,ze.mouseDown=ze.mousePressed=ze.mouseReleased=ze.mouseWheel=!1,ze.rightMouseDown=ze.rightMousePressed=ze.rightMouseReleased=!1,ze.middleMouseDown=ze.middleMousePressed=ze.middleMouseReleased=!1,ze.mouseWheelDelta=0,ze.accelX=ze.accelY=ze.accelZ=0,ze.multiTouchPoints=null,ze.numTouches=0,ze._swipeDirection=0,ze.swipedUp=ze.swipedDown=ze.swipedRight=ze.swipedLeft=!1,ze._roxAgent=null,ze._enabled=!1,ze._key=[],ze._keyInput.inputControlMap=new fr,ze._controlMap=new pr,ze._controlsToReset=[]},ze.define=function(t,e){if(null==ze._controlMap.h[t]){var i=ze._controlMap,s=new He(t);i.h[t]=s}else ze.unmapControl(t);for(i=0;i<e.length;)s=e[i],++i,ze.addKeyToControl(s,t)},ze.mapKey=function(t,e){ze._keyInput.mapInputToControl(t,ze._controlMap.h[e])},ze.unmapKey=function(t){ze._keyInput.unmapInput(t)},ze.addKeyToControl=function(t,e){ze._keyInput.addInputToControl(t,ze._controlMap.h[e])},ze.removeKeyFromControl=function(t,e){ze._keyInput.removeInputFromControl(t,ze._controlMap.h[e])},ze.getKeys=function(t){return ze._keyInput.getInputsForControl(ze._controlMap.h[t])},ze.mapJoystickButton=function(t,e){},ze.unmapJoystickButton=function(t){},ze.addJoystickButtonToControl=function(t,e){},ze.removeJoystickButtonFromControl=function(t,e){},ze.getJoystickButtons=function(t){return null},ze.unmapControl=function(t){ze._keyInput.removeAllInputsFromControl(ze._controlMap.h[t])},ze.unmapKeyboardFromControl=function(t){ze._keyInput.removeAllInputsFromControl(ze._controlMap.h[t])},ze.unmapJoystickFromControl=function(t){},ze.setJoySensitivity=function(t){},ze.saveJoystickConfig=function(t){},ze.loadJoystickConfig=function(t){},ze.clearJoystickConfig=function(){},ze.loadInputConfig=function(){for(var t=Object.keys(Ne.keys.h),e=t.length,i=0;i<e;){for(var s=t[i++],n=Ne.keys.h[s],r=[],a=0;a<n.length;){var o=n[a];++a,r.push(Xe.keyFromName(o))}for(n=r,r=new He(s),ze._controlMap.h[s]=r,s=0;s<n.length;)a=n[s],++s,ze._keyInput.addInputToControl(a,r)}},ze.check=function(t){return null!=(t=ze._controlMap.h[t])&&t.down},ze.pressed=function(t){return null!=(t=ze._controlMap.h[t])&&t.pressed},ze.released=function(t){return null!=(t=ze._controlMap.h[t])&&t.released},ze.getButtonPressure=function(t){return null!=(t=ze._controlMap.h[t])?t.pressure:0},ze.simulateKeyPress=function(t){ze.controlPressed(ze._controlMap.h[t],1)},ze.simulateKeyRelease=function(t){ze.controlReleased(ze._controlMap.h[t])},ze.enableJoystick=function(){},ze.enable=function(){ze._enabled||null==Ge.stage||(Ge.stage.addEventListener("keyDown",ze.onKeyDown,!1,2),Ge.stage.addEventListener("keyUp",ze.onKeyUp,!1,2),Ge.stage.addEventListener("mouseDown",ze.onMouseDown,!1,2),Ge.stage.addEventListener("mouseUp",ze.onMouseUp,!1,2),Ge.stage.addEventListener("mouseWheel",ze.onMouseWheel,!1,2),Ge.stage.addEventListener("rightMouseDown",ze.onRightMouseDown,!1,2),Ge.stage.addEventListener("rightMouseUp",ze.onRightMouseUp,!1,2),Ge.stage.addEventListener("middleMouseDown",ze.onMiddleMouseDown,!1,2),Ge.stage.addEventListener("middleMouseUp",ze.onMiddleMouseUp,!1,2),Rm.get_supportsTouchEvents()&&(ze.multiTouchPoints=new pr,Rm.inputMode=2,Ge.stage.addEventListener("touchBegin",ze.onTouchBegin),Ge.stage.addEventListener("touchMove",ze.onTouchMove),Ge.stage.addEventListener("touchEnd",ze.onTouchEnd)),ze._roxAgent=new li(Ge.engine.root,2),Ge.engine.root.addEventListener("rox_gesture_swipe",ze.onSwipe),ze._swipeDirection=-1,ze.swipedLeft=!1,ze.swipedRight=!1,ze.swipedUp=!1,ze.swipedDown=!1,ze.mouseX=0,ze.mouseY=0,ze.accelX=0,ze.accelY=0,ze.accelZ=0,ze.numTouches=0,ze._enabled=!0)},ze.update=function(){if(ze.swipedLeft=!1,ze.swipedRight=!1,ze.swipedUp=!1,ze.swipedDown=!1,-1<ze._swipeDirection){switch(ze._swipeDirection){case 0:ze.swipedLeft=!0;break;case 1:ze.swipedRight=!0;break;case 2:ze.swipedUp=!0;break;case 3:ze.swipedDown=!0}if(null!=Ge.engine.whenSwiped&&0<Ge.engine.whenSwiped.length)for(Ge.engine.whenSwiped._dispatchIndex=0;Ge.engine.whenSwiped._dispatchIndex<Ge.engine.whenSwiped.length;){try{Ge.engine.whenSwiped.listeners[Ge.engine.whenSwiped._dispatchIndex]()}catch(t){Ma.lastError=t}++Ge.engine.whenSwiped._dispatchIndex}ze._swipeDirection=-1}ze.mouseX=(Ge.stage.get_mouseX()-Ge.screenOffsetX)/Ge.screenScaleX,ze.mouseY=(Ge.stage.get_mouseY()-Ge.screenOffsetY)/Ge.screenScaleY;for(var t=ze._controlsToReset.length;0<=--t;){var e=ze._controlsToReset.pop();e.pressed=!1,e.released=!1}ze.mousePressed&&(ze.mousePressed=!1),ze.mouseReleased&&(ze.mouseReleased=!1),ze.rightMousePressed&&(ze.rightMousePressed=!1),ze.rightMouseReleased&&(ze.rightMouseReleased=!1),ze.middleMousePressed&&(ze.middleMousePressed=!1),ze.middleMouseReleased&&(ze.middleMouseReleased=!1),ze.mouseWheelDelta=0},ze.onSwipe=function(t){t=vo.__cast(t.extra,Ye),Math.abs(t.x)<=Math.abs(t.y)?ze._swipeDirection=0>=t.y?2:3:Math.abs(t.x)>Math.abs(t.y)&&(ze._swipeDirection=0>=t.x?0:1)},ze.controlsPressed=function(t,e){if(null!=t)for(var i=0;i<t.length;){var s=t[i];++i,ze.controlPressed(s,e)}},ze.controlsReleased=function(t){if(null!=t)for(var e=0;e<t.length;){var i=t[e];++e,ze.controlReleased(i)}},ze.controlPressed=function(t,e){if(null!=t)if(t.down)t.pressure=e;else if(t.down=!0,t.pressed=!0,t.pressure=e,ze._controlsToReset.push(t),Ge.engine.keyPollOccurred&&null!=(t=Ge.engine.whenKeyPressedEvents.map.get(t.name))&&0<t.length)for(t._dispatchIndex=0;t._dispatchIndex<t.length;){try{t.listeners[t._dispatchIndex](!0,!1)}catch(t){Ma.lastError=t}++t._dispatchIndex}},ze.controlReleased=function(t){if(null!=t&&t.down&&(t.down=!1,t.released=!0,t.pressure=0,ze._controlsToReset.push(t),Ge.engine.keyPollOccurred&&null!=(t=Ge.engine.whenKeyPressedEvents.map.get(t.name))&&0<t.length))for(t._dispatchIndex=0;t._dispatchIndex<t.length;){try{t.listeners[t._dispatchIndex](!1,!0)}catch(t){Ma.lastError=t}++t._dispatchIndex}},ze.controlStateUpdated=function(t){for(var e=0,i=0,s=t.keys;i<s.length;){var n=s[i];++i,ze._key[n]&&(e=1)}t.pressure=e,0<e&&!t.down?ze.controlPressed(t,e):0==e&&t.down&&ze.controlReleased(t)},ze.onKeyDown=function(t){var e=t.keyCode;if(!(7e3<e)){if(!ze._key[e]&&(ze._key[e]=!0,null!=(e=ze._keyInput.inputControlMap.h[e])))for(var i=0;i<e.length;){var s=e[i];++i,ze.controlPressed(s,1)}if(0<Ge.engine.whenAnyKeyPressed.length)for(Ge.engine.whenAnyKeyPressed._dispatchIndex=0;Ge.engine.whenAnyKeyPressed._dispatchIndex<Ge.engine.whenAnyKeyPressed.length;){try{Ge.engine.whenAnyKeyPressed.listeners[Ge.engine.whenAnyKeyPressed._dispatchIndex](t)}catch(t){Ma.lastError=t}++Ge.engine.whenAnyKeyPressed._dispatchIndex}}},ze.onKeyUp=function(t){var e=t.keyCode;if(!(7e3<e)){if(ze._key[e]&&(ze._key[e]=!1,null!=(e=ze._keyInput.inputControlMap.h[e])))for(var i=0;i<e.length;){var s=e[i];++i,ze.controlReleased(s)}if(0<Ge.engine.whenAnyKeyReleased.length)for(Ge.engine.whenAnyKeyReleased._dispatchIndex=0;Ge.engine.whenAnyKeyReleased._dispatchIndex<Ge.engine.whenAnyKeyReleased.length;){try{Ge.engine.whenAnyKeyReleased.listeners[Ge.engine.whenAnyKeyReleased._dispatchIndex](t)}catch(t){Ma.lastError=t}++Ge.engine.whenAnyKeyReleased._dispatchIndex}}},ze.onMouseDown=function(t){ze.mouseX=(Ge.stage.get_mouseX()-Ge.screenOffsetX)/Ge.screenScaleX,ze.mouseY=(Ge.stage.get_mouseY()-Ge.screenOffsetY)/Ge.screenScaleY,ze.mouseDown||(ze.mouseDown=!0,ze.mousePressed=!0)},ze.onMouseUp=function(t){ze.mouseX=(Ge.stage.get_mouseX()-Ge.screenOffsetX)/Ge.screenScaleX,ze.mouseY=(Ge.stage.get_mouseY()-Ge.screenOffsetY)/Ge.screenScaleY,ze.mouseDown=!1,ze.mouseReleased=!0},ze.onRightMouseDown=function(t){ze.rightMouseDown||(ze.rightMouseDown=!0,ze.rightMousePressed=!0)},ze.onRightMouseUp=function(t){ze.rightMouseDown=!1,ze.rightMouseReleased=!0},ze.onMiddleMouseDown=function(t){ze.middleMouseDown||(ze.middleMouseDown=!0,ze.middleMousePressed=!0)},ze.onMiddleMouseUp=function(t){ze.middleMouseDown=!1,ze.middleMouseReleased=!0},ze.onMouseWheel=function(t){ze.mouseWheel=!0,ze.mouseWheelDelta=t.delta},ze.onTouchBegin=function(t){if(0<Ge.engine.whenMTStarted.length)for(Ge.engine.whenMTStarted._dispatchIndex=0;Ge.engine.whenMTStarted._dispatchIndex<Ge.engine.whenMTStarted.length;){try{Ge.engine.whenMTStarted.listeners[Ge.engine.whenMTStarted._dispatchIndex](t)}catch(t){Ma.lastError=t}++Ge.engine.whenMTStarted._dispatchIndex}ze.multiTouchPoints.h[null==t.touchPointID?"null":""+t.touchPointID]=t,ze.numTouches++},ze.onTouchMove=function(t){if(0<Ge.engine.whenMTDragged.length)for(Ge.engine.whenMTDragged._dispatchIndex=0;Ge.engine.whenMTDragged._dispatchIndex<Ge.engine.whenMTDragged.length;){try{Ge.engine.whenMTDragged.listeners[Ge.engine.whenMTDragged._dispatchIndex](t)}catch(t){Ma.lastError=t}++Ge.engine.whenMTDragged._dispatchIndex}ze.multiTouchPoints.h[null==t.touchPointID?"null":""+t.touchPointID]=t},ze.onTouchEnd=function(t){if(0<Ge.engine.whenMTEnded.length)for(Ge.engine.whenMTEnded._dispatchIndex=0;Ge.engine.whenMTEnded._dispatchIndex<Ge.engine.whenMTEnded.length;){try{Ge.engine.whenMTEnded.listeners[Ge.engine.whenMTEnded._dispatchIndex](t)}catch(t){Ma.lastError=t}++Ge.engine.whenMTEnded._dispatchIndex}t=null==t.touchPointID?"null":""+t.touchPointID;var e=ze.multiTouchPoints;Object.prototype.hasOwnProperty.call(e.h,t)&&delete e.h[t],ze.numTouches--};var He=function(t){this.pressure=0,this.name=t,this.keys=[]};r["com.stencyl.Control"]=He,He.__name__="com.stencyl.Control",He.prototype={name:null,keys:null,pressed:null,released:null,down:null,pressure:null,__class__:He};var We=function(t,e){this.inputControlMap=t,this.getInputs=e};r["com.stencyl.InputMethod"]=We,We.__name__="com.stencyl.InputMethod",We.prototype={inputControlMap:null,getInputs:null,mapInputToControl:function(t,e){this.inputControlMap.exists(t)||this.inputControlMap.set(t,[]);for(var i=this.inputControlMap.get(t),s=0;s<i.length;){var n=i[s];++s,n!=e&&(c.remove(this.getInputs(n),t),ze.controlStateUpdated(n))}-1==this.getInputs(e).indexOf(t)&&(this.getInputs(e).push(t),i.push(e),ze.controlStateUpdated(e))},unmapInput:function(t){var e=this.inputControlMap.get(t);if(null!=e)for(var i=0;i<e.length;){var s=e[i];++i,c.remove(this.getInputs(s),t),ze.controlStateUpdated(s)}this.inputControlMap.remove(t)},addInputToControl:function(t,e){-1==this.getInputs(e).indexOf(t)&&(this.getInputs(e).push(t),ze.controlStateUpdated(e),this.inputControlMap.exists(t)||this.inputControlMap.set(t,[]),this.inputControlMap.get(t).push(e))},removeInputFromControl:function(t,e){if(-1!=this.getInputs(e).indexOf(t)){c.remove(this.getInputs(e),t),ze.controlStateUpdated(e);var i=this.inputControlMap.get(t);c.remove(i,e),0==i.length&&this.inputControlMap.remove(t)}},getInputsForControl:function(t){return null!=t?this.getInputs(t):null},removeAllInputsFromControl:function(t){for(var e=this.getInputs(t);0<e.length;){var i=e.pop(),s=this.inputControlMap.get(i);c.remove(s,t),0==s.length&&this.inputControlMap.remove(i)}ze.controlStateUpdated(t)},__class__:We};var Xe=function(){};r["com.stencyl.Key"]=Xe,Xe.__name__="com.stencyl.Key",Xe.nameOfKey=function(t){if(97<=t&&122>=t)return String.fromCodePoint(t);if(112<=t&&126>=t)return"F"+g.string(t-111);if(96<=t&&105>=t)return"NUMPAD "+g.string(t-96);switch(t){case 8:return"BACKSPACE";case 9:return"TAB";case 13:return"ENTER";case 15:return"COMMAND";case 16:return"SHIFT";case 17:return"CONTROL";case 20:return"CAPS LOCK";case 27:return"ESCAPE";case 32:return"SPACE";case 33:return"PAGE UP";case 34:return"PAGE DOWN";case 35:return"END";case 36:return"HOME";case 37:return"LEFT";case 38:return"UP";case 39:return"RIGHT";case 40:return"DOWN";case 45:return"INSERT";case 46:return"DELETE";case 106:return"NUMPAD MULTIPLY";case 107:return"NUMPAD ADD";case 108:return"NUMPAD ENTER";case 109:return"NUMPAD SUBTRACT";case 110:return"NUMPAD DECIMAL";case 111:return"NUMPAD DIVIDE";default:return String.fromCodePoint(t)}},Xe.keyFromName=function(t){return Xe.keyboardNameMap.h[t]};var Ye=function(t,e){null==e&&(e=0),null==t&&(t=0),this.x=t,this.y=e};r["openfl.geom.Point"]=Ye,Ye.__name__="openfl.geom.Point",Ye.distance=function(t,e){var i=t.x-e.x;return t=t.y-e.y,Math.sqrt(i*i+t*t)},Ye.interpolate=function(t,e,i){return new Ye(e.x+i*(t.x-e.x),e.y+i*(t.y-e.y))},Ye.polar=function(t,e){return new Ye(t*Math.cos(e),t*Math.sin(e))},Ye.prototype={x:null,y:null,add:function(t){return new Ye(t.x+this.x,t.y+this.y)},clone:function(){return new Ye(this.x,this.y)},copyFrom:function(t){this.x=t.x,this.y=t.y},equals:function(t){return null!=t&&t.x==this.x&&t.y==this.y},normalize:function(t){0==this.x&&0==this.y||(t/=Math.sqrt(this.x*this.x+this.y*this.y),this.x*=t,this.y*=t)},offset:function(t,e){this.x+=t,this.y+=e},setTo:function(t,e){this.x=t,this.y=e},subtract:function(t){return new Ye(this.x-t.x,this.y-t.y)},toString:function(){return"(x="+this.x+", y="+this.y+")"},__toLimeVector2:function(){null==Ye.__limeVector2&&(Ye.__limeVector2=new Zl);var t=Ye.__limeVector2;return t.x=this.x,t.y=this.y,Ye.__limeVector2},get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},__class__:Ye,__properties__:{get_length:"get_length"}};var je=function(t,e,i,s){null==s&&(s=0),null==i&&(i=0),null==e&&(e=0),null==t&&(t=0),this.x=t,this.y=e,this.width=i,this.height=s};r["openfl.geom.Rectangle"]=je,je.__name__="openfl.geom.Rectangle",je.prototype={height:null,width:null,x:null,y:null,clone:function(){return new je(this.x,this.y,this.width,this.height)},contains:function(t,e){return t>=this.x&&e>=this.y&&t<this.get_right()&&e<this.get_bottom()},containsPoint:function(t){return this.contains(t.x,t.y)},containsRect:function(t){return 0>=t.width||0>=t.height?t.x>this.x&&t.y>this.y&&t.get_right()<this.get_right()&&t.get_bottom()<this.get_bottom():t.x>=this.x&&t.y>=this.y&&t.get_right()<=this.get_right()&&t.get_bottom()<=this.get_bottom()},copyFrom:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},equals:function(t){return t==this||null!=t&&this.x==t.x&&this.y==t.y&&this.width==t.width&&this.height==t.height},inflate:function(t,e){this.x-=t,this.width+=2*t,this.y-=e,this.height+=2*e},inflatePoint:function(t){this.inflate(t.x,t.y)},intersection:function(t){var e=this.x<t.x?t.x:this.x,i=this.get_right()>t.get_right()?t.get_right():this.get_right();if(i<=e)return new je;var s=this.y<t.y?t.y:this.y;return(t=this.get_bottom()>t.get_bottom()?t.get_bottom():this.get_bottom())<=s?new je:new je(e,s,i-e,t-s)},intersects:function(t){var e=this.x<t.x?t.x:this.x;return!((this.get_right()>t.get_right()?t.get_right():this.get_right())<=e)&&(e=this.y<t.y?t.y:this.y,(this.get_bottom()>t.get_bottom()?t.get_bottom():this.get_bottom())>e)},isEmpty:function(){return 0>=this.width||0>=this.height},offset:function(t,e){this.x+=t,this.y+=e},offsetPoint:function(t){this.x+=t.x,this.y+=t.y},setEmpty:function(){this.x=this.y=this.width=this.height=0},setTo:function(t,e,i,s){this.x=t,this.y=e,this.width=i,this.height=s},toString:function(){return"(x="+this.x+", y="+this.y+", width="+this.width+", height="+this.height+")"},union:function(t){if(0==this.width||0==this.height)return t.clone();if(0==t.width||0==t.height)return this.clone();var e=this.x>t.x?t.x:this.x,i=this.get_right()<t.get_right()?t.get_right():this.get_right(),s=this.y>t.y?t.y:this.y;return t=this.get_bottom()<t.get_bottom()?t.get_bottom():this.get_bottom(),new je(e,s,i-e,t-s)},__contract:function(t,e,i,s){if(0!=this.width||0!=this.height){var n=0,r=0,a=0,o=0;this.x<t&&(n=t-this.x),this.y<e&&(r=e-this.y),this.get_right()>t+i&&(a=t+i-this.get_right()),this.get_bottom()>e+s&&(o=e+s-this.get_bottom()),this.x+=n,this.y+=r,this.width+=a-n,this.height+=o-r}},__expand:function(t,e,i,s){if(0==this.width&&0==this.height)this.x=t,this.y=e,this.width=i,this.height=s;else{var n=this.get_right(),r=this.get_bottom();this.x>t&&(this.x=t,this.width=n-t),this.y>e&&(this.y=e,this.height=r-e),n<t+i&&(this.width=t+i-this.x),r<e+s&&(this.height=e+s-this.y)}},__toLimeRectangle:function(){return null==je.__limeRectangle&&(je.__limeRectangle=new Jl),je.__limeRectangle.setTo(this.x,this.y,this.width,this.height),je.__limeRectangle},__transform:function(t,e){var i=e.a*this.x+e.c*this.y,s=i,n=e.b*this.x+e.d*this.y,r=n,a=e.a*(this.x+this.width)+e.c*this.y,o=e.b*(this.x+this.width)+e.d*this.y;a<i&&(i=a),o<n&&(n=o),a>s&&(s=a),o>r&&(r=o),(a=e.a*(this.x+this.width)+e.c*(this.y+this.height))<i&&(i=a),(o=e.b*(this.x+this.width)+e.d*(this.y+this.height))<n&&(n=o),a>s&&(s=a),o>r&&(r=o),(a=e.a*this.x+e.c*(this.y+this.height))<i&&(i=a),(o=e.b*this.x+e.d*(this.y+this.height))<n&&(n=o),a>s&&(s=a),o>r&&(r=o),t.setTo(i+e.tx,n+e.ty,s-i,r-n)},get_bottom:function(){return this.y+this.height},set_bottom:function(t){return this.height=t-this.y,t},get_bottomRight:function(){return new Ye(this.x+this.width,this.y+this.height)},set_bottomRight:function(t){return this.width=t.x-this.x,this.height=t.y-this.y,t.clone()},get_left:function(){return this.x},set_left:function(t){return this.width-=t-this.x,this.x=t},get_right:function(){return this.x+this.width},set_right:function(t){return this.width=t-this.x,t},get_size:function(){return new Ye(this.width,this.height)},set_size:function(t){return this.width=t.x,this.height=t.y,t.clone()},get_top:function(){return this.y},set_top:function(t){return this.height-=t-this.y,this.y=t},get_topLeft:function(){return new Ye(this.x,this.y)},set_topLeft:function(t){return this.x=t.x,this.y=t.y,t.clone()},__class__:je,__properties__:{set_topLeft:"set_topLeft",get_topLeft:"get_topLeft",set_top:"set_top",get_top:"get_top",set_size:"set_size",get_size:"get_size",set_right:"set_right",get_right:"get_right",set_left:"set_left",get_left:"get_left",set_bottomRight:"set_bottomRight",get_bottomRight:"get_bottomRight",set_bottom:"set_bottom",get_bottom:"get_bottom"}};var Ke=function(){this.checkProperties=this.scriptInit=!1,this.nameMap=new pr,this.propertyChangeEvents=new pr,this.equalityPairs=new I,this.attributeTweens=new pr};r["com.stencyl.behavior.Script"]=Ke,Ke.__name__="com.stencyl.behavior.Script",Ke.resetStatics=function(){Ke.engine=null,Ke.lastCreatedActor=null,Ke.lastCreatedJoint=null,Ke.lastCreatedRegion=null,Ke.lastCreatedTerrainRegion=null,Ke.mpx=0,Ke.mpy=0,Ke.mrx=0,Ke.mry=0,Ke.imageApiAutoscale=!0},Ke.sameAs=function(t,e){return t==e},Ke.sameAsAny=function(t,e,i){return t==e||t==i},Ke.asBoolean=function(t){return 1==t||"true"==t},Ke.strCompare=function(t,e,i){return 0>i?t<e:t>e},Ke.strCompareBefore=function(t,e){return t<e},Ke.strCompareAfter=function(t,e){return t>e},Ke.asNumber=function(t){return null==t?0:"number"==typeof t?vo.__cast(t,Lb):"number"==typeof t&&(0|t)===t?vo.__cast(t,Bb):"boolean"==typeof t?vo.__cast(t,Nb)?1:0:"string"==typeof t?parseFloat(t):parseFloat(g.string(t))},Ke.hasValue=function(t){return!!Ke.isPrimitive(t)||("string"==typeof t?""!=vo.__cast(t,String):null!=t)},Ke.isPrimitive=function(t){return"boolean"==typeof t||"number"==typeof t||"number"==typeof t&&(0|t)===t},Ke.getDefaultValue=function(t){return"boolean"!=typeof t&&("number"==typeof t||"number"==typeof t&&(0|t)===t?0:"string"==typeof t?"":null)},Ke.getGroupByName=function(t){return Ke.engine.getGroupByName(t)},Ke.getLastCreatedRegion=function(){return Ke.lastCreatedRegion},Ke.getAllRegions=function(){for(var t=[],e=Ke.engine.regions.iterator();e.hasNext();){var i=e.next();null!=i&&t.push(i)}return t},Ke.getRegion=function(t){return Ke.engine.getRegion(t)},Ke.removeRegion=function(t){Ke.engine.removeRegion(t)},Ke.createBoxRegion=function(t,e,i,s){return Ke.lastCreatedRegion=Ke.engine.createBoxRegion(t,e,i,s)},Ke.createCircularRegion=function(t,e,i){return Ke.lastCreatedRegion=Ke.engine.createCircularRegion(t,e,i)},Ke.isInRegion=function(t,e){return Ke.engine.isInRegion(t,e)},Ke.getActorsInRegion=function(t){var e=[];for(t=t.getContainedActors().iterator();t.hasNext();){var i=t.next();e.push(Ke.engine.getActor(i))}return e},Ke.sceneHasBehavior=function(t){return Ke.engine.behaviors.hasBehavior(t)},Ke.enableBehaviorForScene=function(t){Ke.engine.behaviors.enableBehavior(t)},Ke.disableBehaviorForScene=function(t){Ke.engine.behaviors.disableBehavior(t)},Ke.isBehaviorEnabledForScene=function(t){return Ke.engine.behaviors.isBehaviorEnabled(t)},Ke.getValueForScene=function(t,e){return Ke.engine.getValue(t,e)},Ke.setValueForScene=function(t,e,i){Ke.engine.setValue(t,e,i)},Ke.shoutToScene=function(t,e){return Ke.engine.shout(t,e)},Ke.sayToScene=function(t,e,i){return Ke.engine.say(t,e,i)},Ke.setGameAttribute=function(t,e){Ke.engine.gameAttributes.h[t]=e},Ke.getGameAttribute=function(t){return Ke.engine.getGameAttribute(t)},Ke.setSavable=function(t,e){Ke.engine.savableAttributes.h[t]=e},Ke.runLater=function(t,e,i){return t=new ii(e,0|t,!1,i),Ke.engine.addTask(t),t},Ke.runPeriodically=function(t,e,i){return t=new ii(e,0|t,!0,i),Ke.engine.addTask(t),t},Ke.getStepSize=function(){return Ge.STEP_SIZE},Ke.getScene=function(){return Ke.engine.scene},Ke.getCurrentScene=function(){return Ke.getScene().ID},Ke.getIDForScene=function(t){for(var e=yn.get().scenes.iterator();e.hasNext();){var i=e.next();if(t==i.name)return i.ID}return-1},Ke.getCurrentSceneName=function(){return Ke.getScene().name},Ke.getSceneWidth=function(){return Ke.getScene().sceneWidth},Ke.getSceneHeight=function(){return Ke.getScene().sceneHeight},Ke.getTileWidth=function(){return Ke.getScene().tileWidth},Ke.getTileHeight=function(){return Ke.getScene().tileHeight},Ke.reloadCurrentScene=function(t,e){Ke.engine.switchScene(Ke.getCurrentScene(),t,e)},Ke.switchScene=function(t,e,i){Ke.engine.switchScene(t,e,i)},Ke.createPixelizeOut=function(t,e){return new Qi(t,1,15)},Ke.createPixelizeIn=function(t,e){return new Qi(t,15,1)},Ke.createBubblesOut=function(t,e){return null==e&&(e=-16777216),new Yi(Wi.OUT,t,50,e)},Ke.createBubblesIn=function(t,e){return null==e&&(e=-16777216),new Yi(Wi.IN,t,50,e)},Ke.createBlindsOut=function(t,e){return null==e&&(e=-16777216),new Xi(Wi.OUT,t,10,e)},Ke.createBlindsIn=function(t,e){return null==e&&(e=-16777216),new Xi(Wi.IN,t,10,e)},Ke.createRectangleOut=function(t,e){return null==e&&(e=-16777216),new qi(Wi.OUT,t,e)},Ke.createRectangleIn=function(t,e){return null==e&&(e=-16777216),new qi(Wi.IN,t,e)},Ke.createSlideTransition=function(t,e){return new $i(Ke.engine.master,Ke.engine.colorLayer,t,e)},Ke.createSlideUpTransition=function(t){return Ke.createSlideTransition(t,$i.SLIDE_UP)},Ke.createSlideDownTransition=function(t){return Ke.createSlideTransition(t,$i.SLIDE_DOWN)},Ke.createSlideLeftTransition=function(t){return Ke.createSlideTransition(t,$i.SLIDE_LEFT)},Ke.createSlideRightTransition=function(t){return Ke.createSlideTransition(t,$i.SLIDE_RIGHT)},Ke.createCrossfadeTransition=function(t){return new Ki(Ke.engine.root,t)},Ke.createFadeOut=function(t,e){return null==e&&(e=-16777216),new Zi(t,e)},Ke.createFadeIn=function(t,e){return null==e&&(e=-16777216),new Ji(t,e)},Ke.createCircleOut=function(t,e){return null==e&&(e=-16777216),new ji(Wi.OUT,t,e)},Ke.createCircleIn=function(t,e){return null==e&&(e=-16777216),new ji(Wi.IN,t,e)},Ke.setBlendModeForLayer=function(t,e){t.set_blendMode(e),t instanceof Zn&&vo.__cast(t,Zn).tiles.set_blendMode(e)},Ke.showTileLayer=function(t){t.set_alpha(1)},Ke.hideTileLayer=function(t){t.set_alpha(0)},Ke.fadeTileLayerTo=function(t,e,i,s){null==t.alphaTween&&(t.alphaTween=(new fa).doOnUpdate(function(){t.set_alpha(t.alphaTween.value)})),t.alphaTween.tween(t.get_alpha(),e,s,1e3*i|0)},Ke.getTileLayerOpacity=function(t){return 100*t.get_alpha()},Ke.setDrawingLayer=function(t){t instanceof Zn&&(Ge.engine.g.graphics=t.overlay.get_graphics())},Ke.setDrawingLayerToActorLayer=function(t){null!=t&&(Ge.engine.g.graphics=t.layer.overlay.get_graphics())},Ke.setDrawingLayerToSceneLayer=function(){Ge.engine.g.graphics=Ge.engine.transitionLayer.get_graphics()},Ke.getScreenX=function(){return Ge.cameraX/Ge.SCALE},Ke.getScreenY=function(){return Ge.cameraY/Ge.SCALE},Ke.getScreenXCenter=function(){return Ge.cameraX/Ge.SCALE+Ge.screenWidth/2},Ke.getScreenYCenter=function(){return Ge.cameraY/Ge.SCALE+Ge.screenHeight/2},Ke.getCamera=function(){return Ke.engine.camera},Ke.isCtrlDown=function(){return!!ze.check("iCTRL")||ze.check("iCOMMAND")},Ke.isShiftDown=function(){return ze.check("iSHIFT")},Ke.simulateKeyPress=function(t){ze.simulateKeyPress(t)},Ke.simulateKeyRelease=function(t){ze.simulateKeyRelease(t)},Ke.isKeyDown=function(t){return ze.check(t)},Ke.isKeyPressed=function(t){return ze.pressed(t)},Ke.isKeyReleased=function(t){return ze.released(t)},Ke.isMouseDown=function(){return ze.mouseDown},Ke.isMousePressed=function(){return ze.mousePressed},Ke.isMouseReleased=function(){return ze.mouseReleased},Ke.getMouseX=function(){return ze.mouseX/Ge.SCALE},Ke.getMouseY=function(){return ze.mouseY/Ge.SCALE},Ke.getMouseWorldX=function(){return ze.mouseX/Ge.SCALE+Ge.cameraX},Ke.getMouseWorldY=function(){return ze.mouseY/Ge.SCALE+Ge.cameraY},Ke.getMousePressedX=function(){return Ke.mpx},Ke.getMousePressedY=function(){return Ke.mpy},Ke.getMouseReleasedX=function(){return Ke.mrx},Ke.getMouseReleasedY=function(){return Ke.mry},Ke.showCursor=function(){wm.show()},Ke.hideCursor=function(){wm.hide()},Ke.charFromCharCode=function(t){return 32>t||126<t&&160>t?"":String.fromCodePoint(t)},Ke.getLastCreatedActor=function(){return Ke.lastCreatedActor},Ke.createActor=function(t,e,i,s){return t=Ke.engine.createActorOfType(t,e,i,s),Ke.lastCreatedActor=t},Ke.createRecycledActor=function(t,e,i,s){return t=Ke.engine.getRecycledActorOfType(t,e,i,s),Ke.lastCreatedActor=t},Ke.createRecycledActorOnLayer=function(t,e,i,s){return t=Ke.engine.getRecycledActorOfTypeOnLayer(t,e,i,s.ID),Ke.lastCreatedActor=t},Ke.recycleActor=function(t){Ke.engine.recycleActor(t)},Ke.createActorInNextScene=function(t,e,i,s){Ke.engine.createActorInNextScene(t,e,i,s)},Ke.getActorTypeByName=function(t){return Oe.get().resourceMap.get(t)},Ke.getActorType=function(t){return Oe.get().resources.get(t)},Ke.getAllActorTypes=function(){return Oe.get().getAllActorTypes()},Ke.getActorsOfType=function(t){return Ke.engine.getActorsOfType(t)},Ke.getActor=function(t){return Ke.engine.getActor(t)},Ke.getActorGroup=function(t){return Ke.engine.getGroup(t)},Ke.setGravity=function(t,e){Ke.engine.gravityX=t,Ke.engine.gravityY=e,null!=Ke.engine.world&&Ke.engine.world.setGravity(new G(t,e))},Ke.getGravity=function(){return null==Ke.engine.world?(Ke.dummyVec.x=Ke.engine.gravityX,Ke.dummyVec.y=Ke.engine.gravityY,Ke.dummyVec):Ke.engine.world.getGravity()},Ke.enableContinuousCollisions=function(){Gt.m_continuousPhysics=!0},Ke.toPhysicalUnits=function(t){return Ge.toPhysicalUnits(t)},Ke.toPixelUnits=function(t){return Ge.toPixelUnits(t)},Ke.makeActorNotPassThroughTerrain=function(t){Ge.NO_PHYSICS?null!=t&&1==t.physicsMode&&(t.continuousCollision=!0):(Gt.m_continuousPhysics=!0,null!=t&&0==t.physicsMode&&t.body.setBullet(!0))},Ke.makeActorPassThroughTerrain=function(t){if(Ge.NO_PHYSICS)null!=t&&1==t.physicsMode&&(t.continuousCollision=!1);else if(null!=t&&0==t.physicsMode){t.body.setBullet(!1),t=!1;for(var e=Ke.engine.allActors.iterator();e.hasNext();){var i=e.next();if(null!=i.body&&i.body.isBullet()){t=!0;break}}t||(Gt.m_continuousPhysics=!1)}},Ke.mute=function(){},Ke.unmute=function(){},Ke.getSound=function(t){return Oe.get().resources.get(t)},Ke.getSoundByName=function(t){return Oe.get().resourceMap.get(t)},Ke.playSound=function(t){if(null!=t)for(var e=0;32>e;){var i=e++;if(null==(i=Ke.engine.channels[i]).currentSound){i.playSound(t),i.setVolume(1),i.setPanning(0);break}}},Ke.loopSound=function(t){if(null!=t)for(var e=0;32>e;){var i=e++;if(null==(i=Ke.engine.channels[i]).currentSound){i.loopSound(t),i.setVolume(1),i.setPanning(0);break}}},Ke.playSoundOnChannel=function(t,e){(e=Ke.engine.channels[e]).playSound(t),e.setVolume(1),e.setPanning(0)},Ke.loopSoundOnChannel=function(t,e){(e=Ke.engine.channels[e]).loopSound(t),e.setVolume(1),e.setPanning(0)},Ke.stopSoundOnChannel=function(t){Ke.engine.channels[t].stopSound()},Ke.pauseSoundOnChannel=function(t){Ke.engine.channels[t].setPause(!0)},Ke.resumeSoundOnChannel=function(t){Ke.engine.channels[t].setPause(!1)},Ke.setVolumeForChannel=function(t,e){Ke.engine.channels[e].setVolume(t)},Ke.setPanningForChannel=function(t,e){Ke.engine.channels[e].setPanning(t)},Ke.stopAllSounds=function(){for(var t=0;32>t;){var e=t++;Ke.engine.channels[e].stopSound()}},Ke.setVolumeForAllSounds=function(t){for(An.masterVolume=t,t=0;32>t;){var e=t++;(e=Ke.engine.channels[e]).setVolume(e.volume)}},Ke.fadeInSoundOnChannel=function(t,e){Ke.engine.channels[t].fadeInSound(e)},Ke.fadeOutSoundOnChannel=function(t,e){Ke.engine.channels[t].fadeOutSound(e)},Ke.fadeSoundOnChannel=function(t,e,i){Ke.engine.channels[t].fadeSound(e,i/100)},Ke.fadeInForAllSounds=function(t){for(var e=0;32>e;){var i=e++;Ke.engine.channels[i].fadeInSound(t)}},Ke.fadeOutForAllSounds=function(t){for(var e=0;32>e;){var i=e++;Ke.engine.channels[i].fadeOutSound(t)}},Ke.fadeForAllSounds=function(t,e){for(var i=0;32>i;){var s=i++;Ke.engine.channels[s].fadeSound(t,e/100)}},Ke.getPositionForChannel=function(t){return null!=(t=Ke.engine.channels[t])&&null!=t.currentSound?t.paused?t.position:t.currentSound.get_position():0},Ke.setPositionForChannel=function(t,e){null!=(t=Ke.engine.channels[t])&&null!=t.currentSound&&(t.paused?t.position=e:t.looping?t.loopSound(t.currentClip,e):t.playSound(t.currentClip,e))},Ke.getSoundLengthForChannel=function(t){return null!=(t=Ke.engine.channels[t])&&null!=t.currentSource?t.currentSource.get_length():0},Ke.getSoundLength=function(t){return null!=t&&null!=t.src?t.src.get_length():0},Ke.setColorBackground=function(t,e){null==e&&(e=-2),Ke.engine.colorLayer.get_graphics().clear(),t!=Bn.TRANSPARENT&&(e==Bn.TRANSPARENT?Ke.engine.setColorBackground(new Bn(t)):Ke.engine.setColorBackground(new Dn(t,e)))},Ke.setScrollSpeedForBackground=function(t,e,i){if(null==t){t=0;for(var s=Ge.engine.backgroundLayers;t<s.length;){var n=s[t];++t,n.setScrollSpeed(e,i)}}else t instanceof nr&&vo.__cast(t,nr).setScrollSpeed(e,i)},Ke.setScrollFactorForLayer=function(t,e,i){t instanceof nr?vo.__cast(t,nr).setScrollFactor(e,i):t instanceof Zn&&(t.scrollFactorX=e,t.scrollFactorY=i)},Ke.changeBackground=function(t,e){null!=(e=Oe.get().resourceMap.get(e))&&t instanceof nr&&vo.__cast(t,nr).reload(e.ID)},Ke.changeBackgroundImage=function(t,e){null!=e&&t instanceof nr&&vo.__cast(t,nr).setImage(e)},Ke.addBackground=function(t,e,i){t=Oe.get().resourceMap.get(t),(e=new nr(Ke.engine.getNextLayerID(),e,i,0,0,1,10,t.ID,!1)).load(),Ke.engine.insertLayer(e,i)},Ke.addBackgroundFromImage=function(t,e,i,s){(i=new nr(Ke.engine.getNextLayerID(),i,s,0,0,1,10,-1,!1)).loadFromImg(t,e),Ke.engine.insertLayer(i,s)},Ke.addTileLayer=function(t,e){var i=Ke.engine.scene.sceneWidth/Ke.engine.scene.tileWidth|0,s=Ke.engine.scene.sceneHeight/Ke.engine.scene.tileHeight|0,n=Ke.engine.getNextLayerID();(i=new er(n,Ke.engine.scene,i,s)).set_name(t),t=new Zn(n,t,e,1,1,1,10,i),Ke.engine.insertLayer(t,e)},Ke.newImage=function(t,e){return Ke.imageApiAutoscale?new O_(t*Ge.SCALE|0,e*Ge.SCALE|0,!0,0):new O_(t,e,!0,0)},Ke.captureScreenshot=function(){var t=new O_(0|Ke.getStageWidth(),0|Ke.getStageHeight());return t.draw(I_.get_current().stage,null,null,null,null,Ne.antialias),t},Ke.getImageForActor=function(t){return t.getCurrentImage()},Ke.getExternalImage=function(t){return km.getBitmapData("assets/data/"+t,!1)},Ke.loadImageFromURL=function(t,e){var i=new dc;i.contentLoaderInfo.addEventListener("complete",function(t){t=vo.__cast(vo.__cast(t.currentTarget,mc).content,di).get_bitmapData(),e(t)}),i.load(new jd(t))},Ke.getSubImage=function(t,e,i,s,n){if(Ke.imageApiAutoscale&&(e=e*Ge.SCALE|0,i=i*Ge.SCALE|0,s=s*Ge.SCALE|0,n=n*Ge.SCALE|0),null!=t&&0<=e&&0<=i&&0<s&&0<n&&e<t.width&&i<t.height){var r=new O_(s,n);return Ke.dummyRect.x=e,Ke.dummyRect.y=i,Ke.dummyRect.width=s,Ke.dummyRect.height=n,Ke.dummyPoint.x=0,Ke.dummyPoint.y=0,r.copyPixels(t,Ke.dummyRect,Ke.dummyPoint),r}return new O_(1,1)},Ke.setOrderForImage=function(t,e){null!=t&&null!=t.parent&&0<=e&&e<t.parent.get_numChildren()&&t.parent.setChildIndex(t,e)},Ke.getOrderForImage=function(t){return null!=t&&null!=t.parent?t.parent.getChildIndex(t):-1},Ke.bringImageBack=function(t){null!=t&&null!=t.parent&&Ke.setOrderForImage(t,t.parent.getChildIndex(t)-1)},Ke.bringImageForward=function(t){null!=t&&null!=t.parent&&Ke.setOrderForImage(t,t.parent.getChildIndex(t)+1)},Ke.bringImageToBack=function(t){null!=t&&null!=t.parent&&Ke.setOrderForImage(t,0)},Ke.bringImageToFront=function(t){null!=t&&null!=t.parent&&Ke.setOrderForImage(t,t.parent.get_numChildren()-1)},Ke.attachImageToActor=function(t,e,i,s,n){null==n&&(n=1),null!=t&&(null!=t.parent&&Ke.removeImage(t),2==n?(e.addChild(t),e.setChildIndex(t,0)):e.addChild(t),t.cacheParentAnchor=e.cacheAnchor,t.set_imgX(i),t.set_imgY(s),t.set_smoothing(Ne.antialias),e.attachedImages.push(t))},Ke.attachImageToHUD=function(t,e,i){null!=t&&(null!=t.parent&&Ke.removeImage(t),Ke.engine.hudLayer.addChild(t),Ke.engine.hudLayer.attachedImages.push(t),t.set_imgX(e),t.set_imgY(i),t.set_smoothing(Ne.antialias))},Ke.attachImageToLayer=function(t,e,i,s,n){null==n&&(n=1),null!=t&&(null!=t.parent&&Ke.removeImage(t),2==n?e.addChildAt(t,0):e.addChild(t),-1==e.attachedImages.indexOf(t)&&e.attachedImages.push(t),t.set_imgX(i),t.set_imgY(s),t.set_smoothing(Ne.antialias))},Ke.removeImage=function(t){null!=t&&null!=t.parent&&(t.parent instanceof un?c.remove(vo.__cast(t.parent,un).attachedImages,t):t.parent instanceof Zn&&c.remove(vo.__cast(t.parent,Zn).attachedImages,t),t.parent.removeChild(t))},Ke.resizeImage=function(t,e,i,s){null==s&&(s=!0),null==i&&(i=1),null==e&&(e=1);var n=new yr;return n.scale(e,i),(e=new O_(t.width*e|0,t.height*i|0,!0,0)).draw(t,n,null,null,null,s),e},Ke.drawImageOnImage=function(t,e,i,s,n){if(Ke.imageApiAutoscale&&(i=i*Ge.SCALE|0,s=s*Ge.SCALE|0),null!=t&&null!=e)if(Ke.dummyPoint.x=i,Ke.dummyPoint.y=s,10==n)e.copyPixels(t,t.rect,Ke.dummyPoint,null,null,!0);else{var r=new yr;r.identity(),r.translate(i,s),e.draw(t,r,null,n)}},Ke.drawTextOnImage=function(t,e,i,s,n){Ke.imageApiAutoscale&&(i=i*Ge.SCALE|0,s=s*Ge.SCALE|0),null!=t&&n.font.renderToImg(t,e,0,1,i,s,n.fontScale,0,!1)},Ke.clearImagePartially=function(t,e,i,s,n){Ke.imageApiAutoscale&&(e=e*Ge.SCALE|0,i=i*Ge.SCALE|0,s=s*Ge.SCALE|0,n=n*Ge.SCALE|0),null!=t&&(Ke.dummyRect.x=e,Ke.dummyRect.y=i,Ke.dummyRect.width=s,Ke.dummyRect.height=n,t.fillRect(Ke.dummyRect,0))},Ke.clearImage=function(t){null!=t&&t.fillRect(t.rect,0)},Ke.clearImageUsingMask=function(t,e,i,s){Ke.imageApiAutoscale&&(i=i*Ge.SCALE|0,s=s*Ge.SCALE|0);var n=e.width,r=e.height,a=0,o=0;if(0>i?(n=i>t.width-n?t.width:n+i,a-=i,i=0):i>t.width-n&&(n-=i-(t.width-n),i=t.width-n),0>s?(r=s>t.height-r?t.height:r+s,o-=s,s=0):s>t.height-r&&(r-=s-(t.height-r),s=t.height-r),!(0>=n||0>=r)){for(a=new je(a,o,n,r),e=e.getPixels(a),i=new je(i,s,n,r),s=t.getPixels(i),a=0,n*=r;a<n;)r=a++,e.position=4*r,s.position=4*r,o=(256-(o=e.readUnsignedByte()))*s.readUnsignedByte()>>8,s.position=4*r,s.writeByte(o);e.position=0,s.position=0,t.setPixels(i,s)}},Ke.retainImageUsingMask=function(t,e,i,s){Ke.imageApiAutoscale&&(i=i*Ge.SCALE|0,s=s*Ge.SCALE|0),Ke.dummyPoint.x=i,Ke.dummyPoint.y=s,t.copyChannel(e,e.rect,Ke.dummyPoint,8,8)},Ke.fillImage=function(t,e){null!=t&&t.fillRect(t.rect,-16777216|e)},Ke.filterImage=function(t,e){null!=t&&(Ke.dummyPoint.x=0,Ke.dummyPoint.y=0,t.applyFilter(t,t.rect,Ke.dummyPoint,e))},Ke.imageSetPixel=function(t,e,i,s){if(null!=t)if(Ke.imageApiAutoscale&&1!=Ge.SCALE){var n=(e+1)*Ge.SCALE|0,r=(i+1)*Ge.SCALE|0;for(e=e*Ge.SCALE|0,i=i*Ge.SCALE|0;e<n;)for(var a=e++,o=i,l=r;o<l;){var h=o++;t.setPixel32(a,h,-16777216|s)}}else t.setPixel32(e,i,-16777216|s)},Ke.imageGetPixel=function(t,e,i){return null!=t?(Ke.imageApiAutoscale&&(e=e*Ge.SCALE|0,i=i*Ge.SCALE|0),t.getPixel(e,i)):0},Ke.imageSwapColor=function(t,e,i){null!=t&&(Ke.dummyPoint.x=0,Ke.dummyPoint.y=0,t.threshold(t,t.rect,Ke.dummyPoint,"==",-16777216|e,-16777216|i,-1,!0))},Ke.flipImageHorizontal=function(t){var e=new yr;e.scale(-1,1),e.translate(t.width,0);var i=new O_(t.width,t.height,!0,0);i.draw(t,e),Ke.dummyPoint.x=0,Ke.dummyPoint.y=0,t.copyPixels(i,i.rect,Ke.dummyPoint)},Ke.flipImageVertical=function(t){var e=new yr;e.scale(1,-1),e.translate(0,t.height);var i=new O_(t.width,t.height,!0,0);i.draw(t,e),Ke.dummyPoint.x=0,Ke.dummyPoint.y=0,t.copyPixels(i,i.rect,Ke.dummyPoint)},Ke.setXForImage=function(t,e){null!=t&&t.set_imgX(e)},Ke.setYForImage=function(t,e){null!=t&&t.set_imgY(e)},Ke.fadeImageTo=function(t,e,i,s){null==i&&(i=1),t.get_tweenProps().alpha.tween(t.get_alpha(),e,s,1e3*i|0)},Ke.setOriginForImage=function(t,e,i){t.setOrigin(e,i)},Ke.growImageTo=function(t,e,i,s,n){null==s&&(s=1),null==i&&(i=1),null==e&&(e=1),t.get_tweenProps().scaleXY.tween(t.get_scaleX(),e,t.get_scaleY(),i,n,1e3*s|0)},Ke.spinImageTo=function(t,e,i,s){null==i&&(i=1),t.get_tweenProps().angle.tween(t.get_rotation(),e,s,1e3*i|0)},Ke.moveImageTo=function(t,e,i,s,n){null==s&&(s=1),t.get_tweenProps().xy.tween(t.get_imgX(),e,t.get_imgY(),i,n,1e3*s|0)},Ke.spinImageBy=function(t,e,i,s){null==i&&(i=1),Ke.spinImageTo(t,t.get_rotation()+e,i,s)},Ke.moveImageBy=function(t,e,i,s,n){null==s&&(s=1),Ke.moveImageTo(t,t.get_imgX()+e,t.get_imgY()+i,s,n)},Ke.setFilterForImage=function(t,e){null!=t&&t.set_filters(t.get_filters().concat([e]))},Ke.clearFiltersForImage=function(t){null!=t&&t.set_filters([])},Ke.imageToText=function(t){var e=t.getPixels(t.rect);return t.width+";"+t.height+";"+Ke.toBase64(La.ofData(Fm.toArrayBuffer(e)))},Ke.imageFromText=function(t){var e=t.split(";");t=g.parseInt(e[0]);var i=g.parseInt(e[1]),s=Ke.fromBase64(e[2]);e=new Lm(0);for(var n=0,r=s.length;n<r;){var a=n++;e.writeByte(s.b[a])}return e.position=0,e.__endian=0,(t=new O_(t,i,!0,0)).setPixels(t.rect,e),t},Ke.toBase64=function(t){var e=La.ofString("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");return 1<(e=(t=new Oa(e).encodeBytes(t).toString()).length%4)&&(t+="="),2==e&&(t+="="),t},Ke.fromBase64=function(t){var e=-1;return"="==t.charAt(t.length-2)?e=2:"="==t.charAt(t.length-1)&&(e=1),-1!=e&&(t=c.substr(t,0,t.length-e)),e=La.ofString("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),new Oa(e).decodeBytes(La.ofString(t))},Ke.startShakingScreen=function(t,e){null==e&&(e=.5),null==t&&(t=.05),Ke.engine.shakeScreen(t,e)},Ke.stopShakingScreen=function(){Ke.engine.stopShakingScreen()},Ke.getTopLayer=function(){return Ke.engine.getTopLayer()},Ke.getBottomLayer=function(){return Ke.engine.getBottomLayer()},Ke.getMiddleLayer=function(){return Ke.engine.getMiddleLayer()},Ke.getTileLayerAt=function(t){return null!=t&&t instanceof Zn?vo.__cast(t,Zn).tiles:null},Ke.getTilesetIDByName=function(t){return(t=Oe.get().resourceMap.get(t))instanceof ir?t.ID:-1},Ke.setTileAt=function(t,e,i,s,n){if(null!=i&&i instanceof Zn){Ke.removeTileAt(t,e,i);var r=vo.__cast(i,Zn).tiles;if(s=Oe.get().resources.get(s).tiles[n],r.setTileAt(t,e,s),null==s||null==s.pixels||vr.contains(Ke.engine.animatedTiles,s)||1<s.durations.length&&Ke.engine.animatedTiles.push(s),null!=s&&-1!=s.collisionID){for(r=(s=yn.get().shapes.h[s.collisionID]).getVertices(),s=s.getVertexCount(),r=vt.asArray(r,s),s=0,n=r.getVertices();s<n.length;){var a=n[s];++s,a.x*=Ke.engine.scene.tileWidth/32,a.y*=Ke.engine.scene.tileHeight/32}s=e*Ke.engine.scene.tileWidth,n=t*Ke.engine.scene.tileHeight,Ge.NO_PHYSICS||null==r?null!=r&&Ke.getTileLayerAt(i).grid.setTile(e,t):Ke.createDynamicTile(r,s,n,i.ID,Ke.engine.scene.tileWidth,Ke.engine.scene.tileHeight)}Ke.engine.tileUpdated=!0}},Ke.tileExistsAt=function(t,e,i){return null!=Ke.getTileAt(t,e,i)},Ke.tileCollisionAt=function(t,e,i){if(null==i){i=0;for(var s=Ke.engine.interactiveLayers;i<s.length;){var n=s[i];if(++i,null!=(n=n.tiles.getTileAt(t,e))&&-1!=n.collisionID)return!0}return!1}return null!=(n=Ke.getTileAt(t,e,i))&&-1!=n.collisionID},Ke.getTilePosition=function(t,e){var i=Ke.engine.scene.tileHeight,s=Ke.engine.scene.tileWidth;return 0==t?Math.floor(e/s):Math.floor(e/i)},Ke.getTileIDAt=function(t,e,i){return null==(t=Ke.getTileAt(t,e,i))?-1:t.tileID},Ke.getTileColIDAt=function(t,e,i){return null==(t=Ke.getTileAt(t,e,i))?-1:t.collisionID},Ke.getTileDataAt=function(t,e,i){return null==(t=Ke.getTileAt(t,e,i))?"":t.metadata},Ke.getTilesetIDAt=function(t,e,i){return null==(t=Ke.getTileAt(t,e,i))?-1:t.parent.ID},Ke.getTileAt=function(t,e,i){return null==(i=Ke.getTileLayerAt(i))?null:i.getTileAt(t,e)},Ke.removeTileAt=function(t,e,i){if(null!=i&&i instanceof Zn){var s=vo.__cast(i,Zn).tiles,n=Ke.getTileAt(t,e,i);null!=n&&(Ge.NO_PHYSICS||-1==n.collisionID?-1!=n.collisionID&&(null==(n=t)&&(n=0),null==(i=e)&&(i=0),s.grid.setTile(i,n,!1)):(i="ID-"+e*Ke.engine.scene.tileWidth+"-"+t*Ke.engine.scene.tileHeight+"-"+i.ID,null!=(n=Ke.engine.dynamicTiles.h[i])&&(Ke.engine.removeActor(n),n=Ke.engine.dynamicTiles,Object.prototype.hasOwnProperty.call(n.h,i)&&delete n.h[i])),s.setTileAt(t,e,null),Ke.engine.tileUpdated=!0)}},Ke.getTileForCollision=function(t,e){if(t.thisCollidedWithTile||t.otherCollidedWithTile){var i=Math.round(Ge.toPixelUnits(e.normalX)),s=Math.round(Ge.toPixelUnits(e.normalY)),n=Math.round(Ge.toPixelUnits(e.x));for(e=Math.round(Ge.toPixelUnits(e.y)),t.thisCollidedWithTile&&(i=-i,s=-s),0>i&&0==n%Ke.engine.scene.tileWidth&&--n,0>s&&0==e%Ke.engine.scene.tileHeight&&--e,n=Ke.getTilePosition(0,n),e=Ke.getTilePosition(1,e),t=0,i=Ke.engine.interactiveLayers;t<i.length;)if(s=i[t],++t,null!=(s=s.tiles.getTileAt(e,n))&&-1!=s.collisionID)return s}return null},Ke.getTileDataForCollision=function(t,e){return null!=(t=Ke.getTileForCollision(t,e))?t.metadata:""},Ke.getTilePositionForCollision=function(t,e,i){if(e.thisCollidedWithTile||e.otherCollidedWithTile){var s=Math.round(Ge.toPixelUnits(i.normalX)),n=Math.round(Ge.toPixelUnits(i.normalY)),r=Math.round(Ge.toPixelUnits(i.x));return i=Math.round(Ge.toPixelUnits(i.y)),e.thisCollidedWithTile&&(s=-s,n=-n),0>s&&0==r%Ke.engine.scene.tileWidth&&--r,0>n&&0==i%Ke.engine.scene.tileHeight&&--i,r=Ke.getTilePosition(0,r),i=Ke.getTilePosition(1,i),0==t?r:i}return-1},Ke.createDynamicTile=function(t,e,i,s,n,r){(t=new un(Ke.engine,1e8,1,e,i,s,n,r,null,null,null,null,!1,!0,!1,!1,t,!1,!1)).set_name("Terrain"),t.set_visible(!1),Ke.engine.dynamicTiles.h["ID-"+e+"-"+i+"-"+s]=t},Ke.getFont=function(t){return Oe.get().resources.get(t)},Ke.pause=function(){Ke.engine.pause()},Ke.unpause=function(){Ke.engine.unpause()},Ke.toggleFullScreen=function(){Ge.engine.toggleFullScreen()},Ke.pauseAll=function(){Ge.paused=!0},Ke.unpauseAll=function(){Ge.paused=!1},Ke.getScreenWidth=function(){return Ge.screenWidth},Ke.getScreenHeight=function(){return Ge.screenHeight},Ke.getStageWidth=function(){return Ge.stage.stageWidth},Ke.getStageHeight=function(){return Ge.stage.stageHeight},Ke.setOffscreenTolerance=function(t,e,i,s){Ge.paddingTop=t,Ge.paddingLeft=e,Ge.paddingBottom=i,Ge.paddingRight=s},Ke.isTransitioning=function(){return Ke.engine.isTransitioning()},Ke.setTimeScale=function(t){Ge.timeScale=t},Ke.randomFloat=function(){return Math.random()},Ke.randomFloatBetween=function(t,e){return t<=e?t+Math.random()*(e-t):e+Math.random()*(t-e)},Ke.randomInt=function(t,e){return t<=e?t+Math.floor(Math.random()*(e-t+1)):e+Math.floor(Math.random()*(t-e+1))},Ke.saveGame=function(t,e){t=Xd.getLocal(t,sl.current.meta.h.localSavePath);for(var i=Object.keys(Ke.engine.gameAttributes.h),s=i.length,n=0;n<s;){var r=i[n++];0!=Ke.engine.savableAttributes.h[r]&&vr.saveToSharedObject(t,r,Ke.engine.gameAttributes.h[r])}vr.flushSharedObject(t,e)},Ke.loadGame=function(t,e){t=Xd.getLocal(t,sl.current.meta.h.localSavePath);for(var i=0,s=f.fields(t.data);i<s.length;){var n=s[i];++i;var r=Ke.engine.gameAttributes,a=vr.loadFromSharedObject(t,n);r.h[n]=a}null!=e&&e(!0)},Ke.saveData=function(t,e,i,s){t=Xd.getLocal(t,sl.current.meta.h.localSavePath),vr.saveToSharedObject(t,e,i),vr.flushSharedObject(t,s)},Ke.loadData=function(t,e,i){return t=Xd.getLocal(t,sl.current.meta.h.localSavePath),e=vr.loadFromSharedObject(t,e),null!=i&&i(!0),e},Ke.checkData=function(t,e){return t=Xd.getLocal(t,sl.current.meta.h.localSavePath),null!=f.field(t.data,e)},Ke.defaultURLHandler=function(t){new Yd(t.target)},Ke.openURLInBrowser=function(t){I_.getURL(new jd(t))},Ke.visitURL=function(t,e){null==e&&(e=Ke.defaultURLHandler);try{var i=new jd(t);i.method="GET",new Yd(i).addEventListener("complete",e)}catch(t){if(Ma.lastError=t,"string"!=typeof wa.caught(t).unwrap())throw t}},Ke.postToURL=function(t,e,i){null==i&&(i=Ke.defaultURLHandler),(t=new jd(t)).method="POST",null!=e&&(t.data=Zd._new(e));try{var s=new Yd(t);s.addEventListener("complete",i),Ke.runLater(500,function(t){s.close()})}catch(t){if(Ma.lastError=t,"string"!=typeof wa.caught(t).unwrap())throw t}},Ke.convertToPseudoUnicode=function(t){return t},Ke.simpleTweet=function(t,e){Ke.openURLInBrowser("http://twitter.com/home?status="+encodeURIComponent(t+" "+e))},Ke.newgroundsShowAd=function(){},Ke.newgroundsSetMedalPosition=function(t,e){},Ke.newgroundsUnlockMedal=function(t){},Ke.newgroundsSubmitScore=function(t,e){},Ke.newgroundsShowScore=function(t){},Ke.newgroundsHelper=function(t){},Ke.kongregateInitAPI=function(){},Ke.kongregateSubmitStat=function(t,e){},Ke.kongregateIsGuest=function(){return!0},Ke.kongregateGetUsername=function(){return"Guest"},Ke.kongregateGetUserID=function(){return 0},Ke.loadAtlas=function(t){Ke.engine.atlasesToLoad.h[t]=t},Ke.unloadAtlas=function(t){Ke.engine.atlasesToUnload.h[t]=t},Ke.atlasIsLoaded=function(t){return null!=(t=yn.get().atlases.h[t])&&t.active},Ke.initGooglePlayGames=function(){},Ke.stopGooglePlayGames=function(){},Ke.getGPGConnectionInfo=function(t){return!1},Ke.showGPGAchievements=function(){},Ke.showGPGLeaderboards=function(){},Ke.showGPGLeaderboard=function(t){},Ke.showGPGQuests=function(){},Ke.unlockGPGAchievement=function(t){},Ke.incrementGPGAchievement=function(t,e){},Ke.submitGPGScore=function(t,e){},Ke.updateGPGEvent=function(t,e){},Ke.getCompletedGPGQuests=function(){return[]},Ke.gameCenterInitialize=function(){},Ke.gameCenterIsAuthenticated=function(){return!1},Ke.gameCenterGetPlayerName=function(){return"None"},Ke.gameCenterGetPlayerID=function(){return"None"},Ke.gameCenterShowLeaderboard=function(t){},Ke.gameCenterShowAchievements=function(){},Ke.gameCenterSubmitScore=function(t,e){},Ke.gameCenterSubmitAchievement=function(t,e){},Ke.gameCenterResetAchievements=function(){},Ke.gameCenterShowBanner=function(t,e){},Ke.purchasesAreInitialized=function(){return!1},Ke.purchasesRestore=function(){},Ke.purchasesBuy=function(t){},Ke.purchasesHasBought=function(t){return!1},Ke.purchasesGetTitle=function(t){return""},Ke.purchasesGetDescription=function(t){return""},Ke.purchasesGetPrice=function(t){return""},Ke.purchasesRequestProductInfo=function(t){},Ke.purchasesUse=function(t){},Ke.purchasesGetQuantity=function(t){return 0},Ke.showAlert=function(t,e){},Ke.vibrate=function(t){},Ke.showKeyboard=function(){},Ke.hideKeyboard=function(){},Ke.setKeyboardText=function(t){},Ke.setIconBadgeNumber=function(t){},Ke.enableDebugDrawing=function(){Ge.DEBUG_DRAW=!0,Ge.NO_PHYSICS||Ge.debugDrawer.m_sprite.get_graphics().clear()},Ke.disableDebugDrawing=function(){Ge.DEBUG_DRAW=!1,Ge.NO_PHYSICS||Ge.debugDrawer.m_sprite.get_graphics().clear()},Ke.gameURL=function(){return""},Ke.exitGame=function(){},Ke.createGrayscaleFilter=function(){var t=[];return t=(t=(t=(t=t.concat([.5,.5,.5,0,0])).concat([.5,.5,.5,0,0])).concat([.5,.5,.5,0,0])).concat([0,0,0,1,0]),new Ed(t)},Ke.createSepiaFilter=function(){var t=[];return t=(t=(t=(t=t.concat([.34,.33,.33,0,30])).concat([.33,.34,.33,0,20])).concat([.33,.33,.34,0,0])).concat([0,0,0,1,0]),new Ed(t)},Ke.createNegativeFilter=function(){var t=[];return t=(t=(t=(t=t.concat([-1,0,0,0,255])).concat([0,-1,0,0,255])).concat([0,0,-1,0,255])).concat([0,0,0,1,0]),new Ed(t)},Ke.createTintFilter=function(t,e){null==e&&(e=1);var i=new or;return i.colorize(t,e),i.getFilter()},Ke.createHueFilter=function(t){var e=new or;return e.adjustHue(t),e.adjustSaturation(1),e.getFilter()},Ke.createSaturationFilter=function(t){var e=new or;return e.adjustSaturation(t/100),e.getFilter()},Ke.createBrightnessFilter=function(t){var e=new or;return e.adjustBrightness(t/100),e.getFilter()},Ke.prototype={wrapper:null,propertyChangeEvents:null,equalityPairs:null,checkProperties:null,nameMap:null,attributeTweens:null,scriptInit:null,toInternalName:function(t){if(null==this.nameMap)return t;var e=this.nameMap.h[t];return null==e?t:e},forwardMessage:function(t){},clearListeners:function(){this.propertyChangeEvents=new pr},internalGetGroup:function(t,e,i){return Ge.NO_PHYSICS?t==(e=vo.__cast(i,In)).actorA?Ke.engine.getGroup(e.groupA):Ke.engine.getGroup(e.groupB):null==(e=vo.__cast(e,Lt))?vo.__cast(t,un).getGroup():-1e3==(t=e.groupID)&&null!=(e=e.getBody())?Ke.engine.getGroup(e.getUserData().groupID):Ke.engine.getGroup(t)},init:function(){},addMobileKeyboardListener:function(t,e){t=new ai(Ve.TYPE_KEYBOARD,t,e),Ke.engine.nativeListeners.push(t)},addMobileAdListener:function(t,e){t=new ai(Ve.TYPE_ADS,t,e),Ke.engine.nativeListeners.push(t)},addGameCenterListener:function(t,e){t=new ai(Ve.TYPE_GAMECENTER,t,e),Ke.engine.nativeListeners.push(t)},addPurchaseListener:function(t,e){t=new ai(Ve.TYPE_PURCHASES,t,e),Ke.engine.nativeListeners.push(t)},addListener:function(t,e){t.add(e),this instanceof Je&&vo.__cast(this,Je).actor.registerListener(t,e)},addListenerWithKey:function(t,e,i){t.exists(e)||t.set(e,new si),(t=t.get(e)).add(i),this instanceof Je&&vo.__cast(this,Je).actor.registerListener(t,i)},addListenerWithKey2:function(t,e,i,s){if(!t.h.hasOwnProperty(e)){var n=new fr;t.h[e]=n}if(!t.h[e].h.hasOwnProperty(i)){var r=t.h[e];n=new si,r.h[i]=n}(t=t.h[e].h[i]).add(s),this instanceof Je&&vo.__cast(this,Je).actor.registerListener(t,s)},addWhenCreatedListener:function(t,e){null!=t&&this.addListener(t.whenCreated,function(){e(null)})},addWhenKilledListener:function(t,e){null!=t&&this.addListener(t.whenKilled,function(){e(null)})},addWhenUpdatedListener:function(t,e){var i=this instanceof Je;null==t&&i&&(t=vo.__cast(this,Je).actor),null!=t?(i=function(t){e(t,null)},this.addListener(t.whenUpdated,i)):(i=function(t){e(t,null)},this.addListener(Ke.engine.whenUpdated,i))},addWhenDrawingListener:function(t,e){var i=this instanceof Je;null==t&&i&&(t=vo.__cast(this,Je).actor),null!=t?(i=function(t,i,s){e(t,i,s,null)},this.addListener(t.whenDrawing,i)):(i=function(t,i,s){e(t,i,s,null)},this.addListener(Ke.engine.whenDrawing,i))},addActorEntersRegionListener:function(t,e){null!=t&&this.addListener(t.whenActorEntered,function(t){e(t,null)})},addActorExitsRegionListener:function(t,e){null!=t&&this.addListener(t.whenActorExited,function(t){e(t,null)})},addActorPositionListener:function(t,e){null!=t&&this.addListener(t.whenPositionStateChanged,function(t,i,s,n){e(t,i,s,n,null)})},addActorTypeGroupPositionListener:function(t,e){this.addListenerWithKey(Ke.engine.whenTypeGroupPositionStateChangedEvents,t,function(t,i,s,n,r){e(t,i,s,n,r,null)})},addSwipeListener:function(t){this.addListener(Ke.engine.whenSwiped,function(){t(null)})},addMultiTouchStartListener:function(t){this.addListener(Ke.engine.whenMTStarted,function(e){t(e,null)})},addMultiTouchMoveListener:function(t){this.addListener(Ke.engine.whenMTDragged,function(e){t(e,null)})},addMultiTouchEndListener:function(t){this.addListener(Ke.engine.whenMTEnded,function(e){t(e,null)})},addKeyStateListener:function(t,e){this.addListener(Ke.engine.whenKeyPressedEvents.getOrCreateEvent(t),function(t,i){e(t,i,null)})},addAnyKeyPressedListener:function(t){this.addListener(Ke.engine.whenAnyKeyPressed,function(e){t(e,null)})},addAnyKeyReleasedListener:function(t){this.addListener(Ke.engine.whenAnyKeyReleased,function(e){t(e,null)})},addAnyGamepadPressedListener:function(t){this.addListener(Ke.engine.whenAnyGamepadPressed,function(e){t(e,null)})},addAnyGamepadReleasedListener:function(t){this.addListener(Ke.engine.whenAnyGamepadReleased,function(e){t(e,null)})},addMousePressedListener:function(t){this.addListener(Ke.engine.whenMousePressed,function(){t(null)})},addMouseReleasedListener:function(t){this.addListener(Ke.engine.whenMouseReleased,function(){t(null)})},addMouseMovedListener:function(t){this.addListener(Ke.engine.whenMouseMoved,function(){t(null)})},addMouseDraggedListener:function(t){this.addListener(Ke.engine.whenMouseDragged,function(){t(null)})},addMouseOverActorListener:function(t,e){null!=t&&this.addListener(t.whenMousedOver,function(t){e(t,null)})},addPropertyChangeListener:function(t,e,i){var s=function(){i(null,null)};this.addListenerWithKey(this.propertyChangeEvents,t,s),null!=e&&this.addListenerWithKey(this.propertyChangeEvents,e,s),this.checkProperties=!0},propertyChanged:function(t){if(this.checkProperties&&null!=(t=this.propertyChangeEvents.h[t])&&0<t.length)for(t._dispatchIndex=0;t._dispatchIndex<t.length;){try{t.listeners[t._dispatchIndex]()}catch(t){Ma.lastError=t}++t._dispatchIndex}},addCollisionListener:function(t,e){null!=t&&this.addListener(t.whenCollided,function(t){e(t,null)})},addSceneCollisionListener:function(t,e,i){this.addListenerWithKey2(Ke.engine.whenCollidedEvents,t,e,function(t){i(t,null)})},addWhenTypeGroupCreatedListener:function(t,e){this.addListenerWithKey(Ke.engine.whenTypeGroupCreatedEvents,t,function(t){e(t,null)})},addWhenTypeGroupKilledListener:function(t,e){this.addListenerWithKey(Ke.engine.whenTypeGroupKilledEvents,t,function(t){e(t,null)})},addSoundListener:function(t,e){t instanceof Rn?this.addListenerWithKey(Ke.engine.whenSoundEndedEvents,t,function(){e(null)}):this.addListenerWithKey(Ke.engine.whenChannelEndedEvents,t,function(){e(null)})},addFocusChangeListener:function(t){this.addListener(Ke.engine.whenFocusChanged,function(e){t(e,null)})},addPauseListener:function(t){this.addListener(Ke.engine.whenPaused,function(e){t(e,null)})},addFullscreenListener:function(t){this.addListener(Ke.engine.whenFullscreenChanged,function(){t(null)})},addGameScaleListener:function(t){this.addListener(Ke.engine.whenGameScaleChanged,function(){t(null)})},addScreenSizeListener:function(t){this.addListener(Ke.engine.whenScreenSizeChanged,function(){t(null)})},disableThisBehavior:function(){Ke.engine.behaviors.disableBehavior(this.wrapper.name)},tweenNumber:function(t,e,i,s){null==i&&(i=1);var n=this,r=this.attributeTweens.h[t];null==r&&((r=new fa).doOnUpdate(function(){n[t]=r.value}),this.attributeTweens.h[t]=r),r.tween(f.field(this,t),e,s,1e3*i|0)},abortTweenNumber:function(t){null!=(t=this.attributeTweens.h[t])&&ya.cancel(t)},pauseTweens:function(){for(var t=this.attributeTweens.h,e=Object.keys(t),i=e.length,s=0;s<i;)t[e[s++]].paused=!0},unpauseTweens:function(){for(var t=this.attributeTweens.h,e=Object.keys(t),i=e.length,s=0;s<i;)t[e[s++]].paused=!1},__class__:Ke};var Je=function(t){Ke.call(this),this.actor=t};r["com.stencyl.behavior.ActorScript"]=Je,Je.__name__="com.stencyl.behavior.ActorScript",Je.__super__=Ke,Je.prototype=i(Ke.prototype,{actor:null,getValue:function(t,e){return this.actor.getValue(t,e)},setValue:function(t,e,i){this.actor.setValue(t,e,i)},shout:function(t,e){return this.actor.shout(t,e)},disableThisBehavior:function(){this.actor.disableBehavior(this.wrapper.name)},__class__:Je});var Ze=function(t,e,i,s,n,r,a){this.ID=t,this.fieldName=e,this.fullName=i,this.type=n,this.value=s,this.realValue=null,this.hidden=a};r["com.stencyl.behavior.Attribute"]=Ze,Ze.__name__="com.stencyl.behavior.Attribute",Ze.prototype={ID:null,fieldName:null,fullName:null,type:null,defaultValue:null,value:null,realValue:null,hidden:null,getRealValue:function(){return null==this.realValue&&("int"==this.type||"float"==this.type||"number"==this.type||"bool"==this.type||"boolean"==this.type||"color"==this.type?this.realValue=this.value:"sound"==this.type||"actortype"==this.type||"font"==this.type?(this.realValue=-1==this.value?null:Oe.get().resources.get(this.value),"font"!=this.type||this.realValue instanceof gn||(this.realValue=null),"sound"!=this.type||this.realValue instanceof Rn||(this.realValue=null),"actortype"!=this.type||this.realValue instanceof Pn||(this.realValue=null)):"actorgroup"==this.type||"control"==this.type||"animation"==this.type||"game-attribute"==this.type?this.realValue=this.value:"scene"==this.type?this.realValue=yn.get().scenes.h[this.value]:"text"==this.type?this.realValue=this.value:"list"==this.type?(this.realValue=this.value,null==this.value&&(this.realValue=[])):"map"==this.type?(this.realValue=this.value,null==this.value&&(this.realValue=new pr)):(null!=this.value&&"actor"==this.type||null!=this.value&&"joint"==this.type||null!=this.value&&"region"==this.type)&&(this.realValue=this.value)),this.realValue},__class__:Ze};var Qe=function(t,e,i,s,n,a,o,l,h,_){if(this.isEvent=_,this.parent=t,this.engine=e,this.classname=n,null!=e)try{this.cls=r[n]}catch(t){if(Ma.lastError=t,"string"!=typeof wa.caught(t).unwrap())throw t}this.enabled=a,this.drawable=o,this.ID=i,this.name=s,this.type=h,this.attributes=l};r["com.stencyl.behavior.Behavior"]=Qe,Qe.__name__="com.stencyl.behavior.Behavior",Qe.prototype={parent:null,engine:null,enabled:null,drawable:null,isEvent:null,ID:null,name:null,type:null,classname:null,cls:null,script:null,attributes:null,initScript:function(t){if(null==t&&(t=!1),null==this.cls)this.script=new ei;else{if("actor"==this.type){if(vo.getClass(this.parent)==Ge)return void(this.script=new ei);this.script=w.createInstance(this.cls,[0,this.parent,null])}else{if(vo.getClass(this.parent)==un)return void(this.script=new ei);this.script=w.createInstance(this.cls,[0,null])}if(this.script.wrapper=this,this.initAttributes(),!t)try{this.script.init(),this.script.scriptInit=!0}catch(t){if(Ma.lastError=t,"string"!=typeof wa.caught(t).unwrap())throw t}}},initAttributes:function(){for(var t=this.attributes.h,e=Object.keys(t),i=e.length,s=0;s<i;){var n=t[e[s++]];try{if(!(n.hidden||"actor"==n.type&&"actor"==n.fieldName&&this.script instanceof Je)){var r=this.script.toInternalName(n.fieldName);if("actor"==n.type||"joint"==n.type||"region"==n.type){var a=n.getRealValue();"actor"==n.type?this.script[r]=this.engine.getActor(a):"joint"!=n.type&&"region"==n.type&&(this.script[r]=this.engine.getRegion(a))}else if("actorgroup"==n.type){var o=n.getRealValue();this.script[r]=this.engine.getGroup(o)}else{var l=n.getRealValue();if("list"==n.type){if(n=null,null!=l){n=vo.__cast(l,Array);for(var h=[],_=0;_<n.length;){var c=n[_];++_,h.push(c)}n=h}else n=[];this.script[r]=n}else if("map"==n.type){if(n=null,null!=l){h=l,n=new pr;for(var u=h.keys();u.hasNext();){var d=u.next(),m=h.get(d);n.h[d]=m}}else n=new pr;this.script[r]=n}else this.script[r]=l}}}catch(t){if(Ma.lastError=t,"string"!=typeof wa.caught(t).unwrap())throw t}}},__class__:Qe};var qe=function(t,e){this.behaviorID=t,this.values=e,this.enabled=!0};r["com.stencyl.behavior.BehaviorInstance"]=qe,qe.__name__="com.stencyl.behavior.BehaviorInstance",qe.prototype={behaviorID:null,values:null,enabled:null,__class__:qe};var $e=function(){this.behaviors=[],this.cache=new pr};r["com.stencyl.behavior.BehaviorManager"]=$e,$e.__name__="com.stencyl.behavior.BehaviorManager",$e.prototype={behaviors:null,cache:null,destroy:function(){this.cache=this.behaviors=null},add:function(t){this.cache.h[t.name]=t,this.behaviors.push(t)},hasBehavior:function(t){return null!=this.cache&&null!=this.cache.h[t]},enableBehavior:function(t){if(this.hasBehavior(t)){if(null!=(t=this.cache.h[t]).script&&!t.script.scriptInit)try{t.script.init(),t.script.scriptInit=!0}catch(t){if(Ma.lastError=t,"string"!=typeof wa.caught(t).unwrap())throw t}t.enabled=!0}},disableBehavior:function(t){this.hasBehavior(t)&&(this.cache.h[t].enabled=!1)},isBehaviorEnabled:function(t){return!!this.hasBehavior(t)&&this.cache.h[t].enabled},initScripts:function(){for(var t=0,e=this.behaviors.length;t<e;){var i=t++;(i=this.behaviors[i]).initScript(!i.enabled)}},getAttribute:function(t,e){if(null!=(t=this.cache.h[t])&&null!=t.script){e=t.script.toInternalName(e);var i=f.field(t.script,e);return null!=i||ti.hasField(t.script.wrapper.classname,e),i}return null},setAttribute:function(t,e,i){null!=(t=this.cache.h[t])&&null!=t.script&&ti.hasField(t.script.wrapper.classname,e)&&(t.script[e]=i,t.script.propertyChanged(e))},call:function(t,e){if(null==this.cache)return null;for(var i=null,s=0,n=this.behaviors.length;s<n;){var r=s++;if((r=this.behaviors[r]).enabled&&null!=r.script)try{var a=f.field(r.script,t);null!=a?i=a.apply(r.script,e):r.script.forwardMessage(t)}catch(e){if(Ma.lastError=e,"string"!=typeof wa.caught(e).unwrap())throw e;r.script.forwardMessage(t)}}return i},call2:function(t,e,i){if(null==this.cache)return null;var s=null;if(null!=(t=this.cache.h[t])){if(!t.enabled||null==t.script)return s;try{var n=f.field(t.script,e);null!=n?s=n.apply(t.script,i):t.script.forwardMessage(e)}catch(i){if(Ma.lastError=i,"string"!=typeof wa.caught(i).unwrap())throw i;t.script.forwardMessage(e)}}return s},__class__:$e};var ti=function(){};r["com.stencyl.behavior.ReflectionHelper"]=ti,ti.__name__="com.stencyl.behavior.ReflectionHelper",ti.getFieldMap=function(t){var e=ti.fieldMaps.h[t];if(null==e)try{for(var i=w.getInstanceFields(r[t]),s=new pr,n=0;n<i.length;){var a=i[n];++n,s.h[a]=!0}e=s,ti.fieldMaps.h[t]=e}catch(t){if(Ma.lastError=t,"string"!=typeof wa.caught(t).unwrap())throw t}return e},ti.hasField=function(t,e){return null!=(t=ti.getFieldMap(t))&&Object.prototype.hasOwnProperty.call(t.h,e)};var ei=function(){Ke.call(this)};r["com.stencyl.behavior.SceneScript"]=ei,ei.__name__="com.stencyl.behavior.SceneScript",ei.__super__=Ke,ei.prototype=i(Ke.prototype,{__class__:ei});var ii=function(t,e,i,s){this.toExecute=t,this.interval=e,this.repeats=i,this.actor=s,this.done=!1,this.timer=e};r["com.stencyl.behavior.TimedTask"]=ii,ii.__name__="com.stencyl.behavior.TimedTask",ii.prototype={toExecute:null,interval:null,repeats:null,actor:null,timer:null,done:null,actorCreateTime:null,update:function(t){null==this.actor||this.actor.isAlive()?null==this.actor&&Ge.engine.isPaused()||null!=this.actor&&this.actor.isPaused()||(this.timer-=t,0>=this.timer&&(this.toExecute(this),this.done=!this.repeats,this.repeats&&(this.timer+=this.interval))):this.done=!0},__class__:ii};var si=function(){this._dispatchIndex=-1,this.listeners=[],this.length=0};r["com.stencyl.event.Event"]=si,si.__name__="com.stencyl.event.Event",si.prototype={listeners:null,length:null,_dispatchIndex:null,add:function(t){this.listeners.push(t),++this.length},has:function(t){for(var e=0,i=this.listeners;e<i.length;){var s=i[e];if(++e,f.compareMethods(s,t))return!0}return!1},remove:function(t){for(var e=this.listeners.length;0<=--e;)f.compareMethods(this.listeners[e],t)&&(this.listeners.splice(e,1),--this.length,this._dispatchIndex>=e&&--this._dispatchIndex)},removeAll:function(){this.listeners.splice(0,this.length),this._dispatchIndex=this.length=0},__class__:si};var ni=function(){};r["com.stencyl.event.EventDispatcher"]=ni,ni.__name__="com.stencyl.event.EventDispatcher";var ri=function(){this.keys=[],this.map=new pr};r["com.stencyl.event.EventMap_String_func_Bool_Bool_Void"]=ri,ri.__name__="com.stencyl.event.EventMap_String_func_Bool_Bool_Void",ri.prototype={keys:null,map:null,hasEvents:function(){return 0<this.keys.length},getOrCreateEvent:function(t){var e=this.map.get(t);return null==e&&(e=new si,this.map.set(t,e),this.keys.push(t)),e},getEvent:function(t){return this.map.get(t)},__class__:ri};var ai=function(t,e,i){this.metaType=t,this.type=e,this.fn=i};r["com.stencyl.event.NativeListener"]=ai,ai.__name__="com.stencyl.event.NativeListener",ai.prototype={metaType:null,type:null,fn:null,checkEvents:function(t){if(null!=(t=t.eventTable.h[this.metaType]))for(var e=0;e<t.length;){var i=t[e];++e,i.type==this.type&&(this.metaType==Ve.TYPE_ADS?this.fn():(this.metaType==Ve.TYPE_PURCHASES||this.metaType==Ve.TYPE_GAMECENTER||this.metaType==Ve.TYPE_KEYBOARD)&&this.fn(i.data1))}},__class__:ai};var oi=function(t,e){null==e&&(e=""),this.type=t,this.data1=e};r["com.stencyl.event.StencylEvent"]=oi,oi.__name__="com.stencyl.event.StencylEvent",oi.prototype={type:null,data1:null,__class__:oi};var li=function(t,e){null==e&&(e=2),this.swipeTimeout=.1,this.longPressDelay=1;var i=this;if(!li.initialized){li.initialized=!0;var s=I_.get_current().stage;li.moveToleSqr=.008*new Ye(s.stageWidth,s.stageHeight).get_length(),li.moveToleSqr*=li.moveToleSqr,Rm.get_supportsTouchEvents()&&(Rm.inputMode=2)}for(this.owner=t,this.mode=e,t=Rm.get_supportsTouchEvents(),this.owner.mouseEnabled=!0,this.listenEvents=1==this.mode?t?li.touchEvents:li.mouseEvents:t?li.geTouchEvents:li.geMouseEvents,this.handler=1==this.mode?n(this,t?this.convertTouch:this.convertMouse):n(this,t?this.onTouch:this.onMouse),t=0,e=this.listenEvents;t<e.length;)s=e[t],++t,this.owner.addEventListener(s,this.handler);3==this.mode&&I_.get_current().stage.addEventListener("resize",function(t){i.overlay=null}),this.touchList=new E,this.setReady()};r["com.stencyl.gestures.RoxGestureAgent"]=li,li.__name__="com.stencyl.gestures.RoxGestureAgent",li.__properties__={get_multitouchSupported:"get_multitouchSupported"},li.init=function(){if(!li.initialized){li.initialized=!0;var t=I_.get_current().stage;li.moveToleSqr=.008*new Ye(t.stageWidth,t.stageHeight).get_length(),li.moveToleSqr*=li.moveToleSqr,Rm.get_supportsTouchEvents()&&(Rm.inputMode=2)}},li.localOffset=function(t,e){var i=t.parent.localToGlobal(new Ye(t.get_x(),t.get_y()));return i.offset(e.x,e.y),(i=t.parent.globalToLocal(i)).offset(-t.get_x(),-t.get_y()),i},li.get_multitouchSupported=function(){return!!Rm.get_supportsTouchEvents()&&1<Rm.maxTouchPoints},li.initTypeMap=function(){for(var t=new pr,e=0,i=li.MAP.length>>1;e<i;){var s=e++;t.h[li.MAP[s<<1]]=li.MAP[1+(s<<1)]}return t},li.prototype={mode:null,longPressDelay:null,swipeTimeout:null,owner:null,touch0:null,touch1:null,touchList:null,listenEvents:null,handler:null,longPressTimer:null,tweener:null,overlay:null,state:null,detach:function(){null!=this.tweener&&(ya.cancel(this.tweener),this.tweener=null),this.setReady();for(var t=0,e=this.listenEvents;t<e.length;){var i=e[t];++t,this.owner.removeEventListener(i,this.handler)}this.overlay=this.owner=null},getHandler:function(t){null==t&&(t=3);var e=n(this,this.handleEvent),i=t;return function(t){e(i,t)}},startTweenXY:function(t,e,i,s){var n=this;this.tweener=new ga,this.tweener.tween(t.get_x(),i,t.get_y(),s,da.linear,1e3*e|0).doOnUpdate(function(){t.set_x(n.tweener.value1),t.set_y(n.tweener.value2)})},stopTween:function(){null!=this.tweener&&(ya.cancel(this.tweener),this.tweener=null)},handleEvent:function(t,e){var i=e.target;if(i==this.owner)switch(e.type){case"rox_gesture_pan":e=e.extra;var s=i.parent.localToGlobal(new Ye(i.get_x(),i.get_y()));s.offset(e.x,e.y),(s=i.parent.globalToLocal(s)).offset(-i.get_x(),-i.get_y()),e=s,1&t&&i.set_x(i.get_x()+e.x),2&t&&i.set_y(i.get_y()+e.y);break;case"rox_gesture_pinch":s=e.extra;var n=i.parent.localToGlobal(new Ye(i.get_x(),i.get_y())),r=n.x-e.stageX;n=n.y-e.stageY,t=Math.atan2(n,r),r=new Ye(r,n).get_length(),(r=Ye.polar(r*s,t)).offset(e.stageX,e.stageY),r=i.parent.globalToLocal(r),i.set_scaleX(i.get_scaleX()*s),i.set_scaleY(i.get_scaleY()*s),i.set_x(r.x),i.set_y(r.y);break;case"rox_gesture_rotation":t=e.extra,r=(n=i.parent.localToGlobal(new Ye(i.get_x(),i.get_y()))).x-e.stageX,n=n.y-e.stageY,s=Math.atan2(n,r),r=new Ye(r,n).get_length(),(r=Ye.polar(r,s+t)).offset(e.stageX,e.stageY),r=i.parent.globalToLocal(r),i.set_rotation(i.get_rotation()+li.R2D*t),i.set_x(r.x),i.set_y(r.y);break;case"rox_gesture_swipe":e=new Ye(2*e.extra.x,2*e.extra.y),(s=i.parent.localToGlobal(new Ye(i.get_x(),i.get_y()))).offset(e.x,e.y),(s=i.parent.globalToLocal(s)).offset(-i.get_x(),-i.get_y()),e=s,t=i.get_x()+e.x,e=i.get_y()+e.y;var a=this;this.tweener=new ga,this.tweener.tween(i.get_x(),t,i.get_y(),e,da.linear,2e3).doOnUpdate(function(){i.set_x(a.tweener.value1),i.set_y(a.tweener.value2)})}},convertTouch:function(t){this.owner.dispatchEvent(new ci(li.typeMap.h[t.type],t.bubbles,t.cancelable,t.localX,t.localY,t.stageX,t.stageY,t.touchPointID,this))},convertMouse:function(t){var e=t.type;("mouseDown"==e||"mouseUp"==e||"click"==e||t.buttonDown)&&this.owner.dispatchEvent(new ci(li.typeMap.h[e],t.bubbles,t.cancelable,t.localX,t.localY,t.stageX,t.stageY,0,this))},onTouch:function(t){var e=t.touchPointID,i=null==this.touch0||this.touch0.tid==e;(i||null!=this.touch1&&this.touch1.tid==e||null!=this.touch0&&null==this.touch1&&this.touch0.tid!=e)&&this.handleTouch(li.typeMap.h[t.type],t,i,e)},onMouse:function(t){var e=t.type;("mouseDown"==e||"mouseUp"==e||t.buttonDown)&&this.handleTouch(li.typeMap.h[e],t,!0,0)},handleTouch:function(t,e,i,s){var r=new hi(this.owner,e,s);if(s=i?this.touch0:this.touch1,"rox_touch_move"==t&&null!=s){var a=s.sx-r.sx,o=s.sy-r.sy;a=a*a+o*o<li.moveToleSqr}else a=!1;if(a)return!1;switch(s=!0,this.state){case 0:if(i&&"rox_touch_begin"==t){this.state=1,this.touch0=r;var l=n(this,this.sendLongPress);if(a=function(){l(r)},this.longPressTimer=ya.timer(1e3*this.longPressDelay|0).doOnComplete(a),null!=this.tweener&&(ya.cancel(this.tweener),this.tweener=null),3==this.mode)for(i=I_.get_current().stage,null==this.overlay&&(this.overlay=new D,this.overlay.set_name("overlay"),this.overlay.get_graphics().beginFill(16777215,.00392156862745098),this.overlay.get_graphics().drawRect(0,0,i.stageWidth,i.stageHeight)),i.addChild(this.overlay),i=0,t=this.listenEvents;i<t.length;)a=t[i],++i,this.overlay.addEventListener(a,this.handler)}else s=!1;break;case 1:i&&"rox_touch_end"==t?(this.owner.dispatchEvent(new ci("rox_gesture_tap",null,null,r.lx,r.ly,r.sx,r.sy,null,this)),this.setReady()):i&&"rox_touch_move"==t?(i=new Ye(r.sx-this.touch0.sx,r.sy-this.touch0.sy),this.owner.dispatchEvent(new ci("rox_gesture_pan",null,null,r.lx,r.ly,r.sx,r.sy,null,this,i)),this.state=4,null!=this.touch0&&this.touchList.push(this.touch0),this.touch0=r,null!=this.longPressTimer&&(ya.cancel(this.longPressTimer),this.longPressTimer=null)):i||"rox_touch_begin"!=t?s=!1:(this.state=2,this.touch1=r,null!=this.longPressTimer&&(ya.cancel(this.longPressTimer),this.longPressTimer=null));break;case 2:"rox_touch_end"==t?(this.owner.dispatchEvent(new ci("rox_gesture_end",null,null,r.lx,r.ly,r.sx,r.sy,null,this)),this.setReady()):"rox_touch_move"==t?(e=i?this.touch1:this.touch0,o=i?this.touch0:this.touch1,a=Ye.distance(r.spt,e.spt)/Ye.distance(o.spt,e.spt),t=Math.atan2(r.sy-e.sy,r.sx-e.sx)-Math.atan2(o.sy-e.sy,o.sx-e.sx),e=Ye.interpolate(e.lpt,o.lpt,.5),o=this.owner.localToGlobal(e),1!=a&&this.owner.dispatchEvent(new ci("rox_gesture_pinch",null,null,e.x,e.y,o.x,o.y,null,this,a)),0!=t&&this.owner.dispatchEvent(new ci("rox_gesture_rotation",null,null,e.x,e.y,o.x,o.y,null,this,t)),i?this.touch0=r:this.touch1=r):s=!1;break;case 4:if(i&&"rox_touch_move"==t)i=new Ye(r.sx-this.touch0.sx,r.sy-this.touch0.sy),this.owner.dispatchEvent(new ci("rox_gesture_pan",null,null,r.lx,r.ly,r.sx,r.sy,null,this,i)),this.state=4,null!=this.touch0&&this.touchList.push(this.touch0),this.touch0=r,null!=this.longPressTimer&&(ya.cancel(this.longPressTimer),this.longPressTimer=null);else if(i&&("rox_touch_end"==t||3!=this.mode&&"rox_touch_out"==t&&e.target==this.owner)){if(0>=this.swipeTimeout||r.time-this.touch0.time<this.swipeTimeout){for(i=this.touchList.pop(),e=null,t=this.touchList.h;null!=t&&(a=t.item,t=t.next,!(.2<i.time-a.time));)e=a;null!=e&&(o=i.sy-e.sy,a=i.sx-e.sx,t=Math.atan2(o,a),i=Ye.polar(new Ye(a,o).get_length()/(i.time-e.time)*.25,t),this.owner.dispatchEvent(new ci("rox_gesture_swipe",null,null,r.lx,r.ly,r.sx,r.sy,null,this,i)))}this.setReady()}else i||"rox_touch_begin"!=t?s=!1:(this.owner.dispatchEvent(new ci("rox_gesture_begin",null,null,r.lx,r.ly,r.sx,r.sy,null,this)),this.state=2,this.touch1=r,null!=this.longPressTimer&&(ya.cancel(this.longPressTimer),this.longPressTimer=null))}return s},sendLongPress:function(t){this.owner.dispatchEvent(new ci("rox_gesture_long_press",null,null,t.lx,t.ly,t.sx,t.sy,null,this)),this.setReady()},setReady:function(){if(this.state=0,this.touch0=this.touch1=null,this.touchList.clear(),null!=this.longPressTimer&&(ya.cancel(this.longPressTimer),this.longPressTimer=null),null!=this.overlay&&3==this.mode){for(var t=0,e=this.listenEvents;t<e.length;){var i=e[t];++t,this.overlay.removeEventListener(i,this.handler)}I_.get_current().stage.removeChild(this.overlay)}},setMove:function(t){this.state=4,null!=this.touch0&&this.touchList.push(this.touch0),this.touch0=t,null!=this.longPressTimer&&(ya.cancel(this.longPressTimer),this.longPressTimer=null)},setTwoFingerMove:function(t){this.state=2,this.touch1=t,null!=this.longPressTimer&&(ya.cancel(this.longPressTimer),this.longPressTimer=null)},cancelLongPress:function(){null!=this.longPressTimer&&(ya.cancel(this.longPressTimer),this.longPressTimer=null)},__class__:li};var hi=function(t,e,i){this.tid=i,this.sx=e.stageX,this.sy=e.stageY,this.spt=new Ye(this.sx,this.sy),this.lpt=t.globalToLocal(this.spt),this.lx=this.lpt.x,this.ly=this.lpt.y,this.time=(new Date).getTime()/1e3};r["com.stencyl.gestures._RoxGestureAgent.TouchPoint"]=hi,hi.__name__="com.stencyl.gestures._RoxGestureAgent.TouchPoint",hi.prototype={tid:null,lx:null,ly:null,sx:null,sy:null,lpt:null,spt:null,time:null,distSqr:function(t){var e=t.sx-this.sx;return e*e+(t=t.sy-this.sy)*t},__class__:hi};var _i=function(t,e,i){null==i&&(i=!1),null==e&&(e=!1),this.type=t,this.bubbles=e,this.cancelable=i,this.eventPhase=2};r["openfl.events.Event"]=_i,_i.__name__="openfl.events.Event",_i.prototype={bubbles:null,cancelable:null,currentTarget:null,eventPhase:null,target:null,type:null,__isCanceled:null,__isCanceledNow:null,__preventDefault:null,clone:function(){var t=new _i(this.type,this.bubbles,this.cancelable);return t.eventPhase=this.eventPhase,t.target=this.target,t.currentTarget=this.currentTarget,t},formatToString:function(t,e,i,s,r,a){var o=[];return null!=e&&o.push(e),null!=i&&o.push(i),null!=s&&o.push(s),null!=r&&o.push(r),null!=a&&o.push(a),n(this,this.__formatToString).apply(this,[t,o])},isDefaultPrevented:function(){return this.__preventDefault},preventDefault:function(){this.cancelable&&(this.__preventDefault=!0)},stopImmediatePropagation:function(){this.__isCanceledNow=this.__isCanceled=!0},stopPropagation:function(){this.__isCanceled=!0},toString:function(){return this.__formatToString("Event",["type","bubbles","cancelable"])},__formatToString:function(t,e){t="["+t;for(var i,s=0;s<e.length;){var n=e[s];++s,t="string"==typeof(i=f.field(this,n))?t+" "+n+'="'+g.string(i)+'"':t+" "+n+"="+g.string(i)}return t+"]"},__init:function(){this.currentTarget=this.target=null,this.cancelable=this.bubbles=!1,this.eventPhase=2,this.__preventDefault=this.__isCanceledNow=this.__isCanceled=!1},__class__:_i};var ci=function(t,e,i,s,n,r,a,o,l,h){null==o&&(o=0),null==i&&(i=!1),null==e&&(e=!0),_i.call(this,t,e,i),this.localX=s,this.localY=n,this.stageX=r,this.stageY=a,this.touchPointID=o,this.agent=l,this.extra=h};r["com.stencyl.gestures.RoxGestureEvent"]=ci,ci.__name__="com.stencyl.gestures.RoxGestureEvent",ci.__super__=_i,ci.prototype=i(_i.prototype,{localX:null,localY:null,stageX:null,stageY:null,touchPointID:null,agent:null,extra:null,toString:function(){return this.type+"("+this.touchPointID+"): local=("+this.localX+","+this.localY+"), stage=("+this.stageX+","+this.stageY+"), extra="+(this.extra instanceof Ye?"Point("+g.string(this.extra.x)+","+g.string(this.extra.y)+")":this.extra)},__class__:ci});var ui=function(){};r["com.stencyl.graphics.AbstractAnimation"]=ui,ui.__name__="com.stencyl.graphics.AbstractAnimation",ui.__isInterface__=!0,ui.prototype={update:null,getCurrentFrame:null,getNumFrames:null,setFrame:null,isFinished:null,activate:null,reset:null,draw:null,getFrameDurations:null,setFrameDurations:null,setFrameDuration:null,getCurrentImage:null,__class__:ui};var di=function(t,e,i){null==i&&(i=!1),k.call(this),this.__drawableType=2,this.__bitmapData=t,this.pixelSnapping=e,this.smoothing=i,null==e&&(this.pixelSnapping=1)};r["openfl.display.Bitmap"]=di,di.__name__="openfl.display.Bitmap",di.__super__=k,di.prototype=i(k.prototype,{pixelSnapping:null,smoothing:null,__image:null,__bitmapData:null,__imageVersion:null,__enterFrame:function(t){null==this.__bitmapData||null==this.__bitmapData.image||this.__bitmapData.image.version==this.__imageVersion||this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())},__getBounds:function(t,e){var i=je.__pool.get();null!=this.__bitmapData?i.setTo(0,0,this.__bitmapData.width,this.__bitmapData.height):i.setTo(0,0,0,0),i.__transform(i,e),t.__expand(i.x,i.y,i.width,i.height),je.__pool.release(i)},__hitTest:function(t,e,i,s,n,r){if(!r.get_visible()||this.__isMask||null==this.__bitmapData||null!=this.get_mask()&&!this.get_mask().__hitTestMask(t,e))return!1;this.__getRenderTransform();var a=this.__renderTransform,o=a.a*a.d-a.b*a.c;return i=0==o?-a.tx:1/o*(a.c*(a.ty-e)+a.d*(t-a.tx)),t=0==(o=(a=this.__renderTransform).a*a.d-a.b*a.c)?-a.ty:1/o*(a.a*(e-a.ty)+a.b*(a.tx-t)),0<i&&0<t&&i<=this.__bitmapData.width&&t<=this.__bitmapData.height&&!(null!=this.__scrollRect&&!this.__scrollRect.contains(i,t))&&(null==s||n||s.push(r),!0)},__hitTestMask:function(t,e){if(null==this.__bitmapData)return!1;this.__getRenderTransform();var i=this.__renderTransform,s=i.a*i.d-i.b*i.c,n=0==s?-i.tx:1/s*(i.c*(i.ty-e)+i.d*(t-i.tx));return t=0==(s=(i=this.__renderTransform).a*i.d-i.b*i.c)?-i.ty:1/s*(i.a*(e-i.ty)+i.b*(i.tx-t)),0<n&&0<t&&n<=this.__bitmapData.width&&t<=this.__bitmapData.height},get_bitmapData:function(){return this.__bitmapData},set_bitmapData:function(t){return this.__bitmapData=t,this.smoothing=!1,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),this.__imageVersion=-1,this.__bitmapData},set_height:function(t){return null!=this.__bitmapData?this.set_scaleY(t/this.__bitmapData.height):this.set_scaleY(0),t},set_width:function(t){return null!=this.__bitmapData?this.set_scaleX(t/this.__bitmapData.width):this.set_scaleX(0),t},__class__:di,__properties__:i(k.prototype.__properties__,{set_bitmapData:"set_bitmapData",get_bitmapData:"get_bitmapData"})});var mi=function(t){di.call(this,t.frames[0]),this.model=t,this.set_x(Math.round(-t.frameWidth/2*Ge.SCALE)),this.set_y(Math.round(-t.frameHeight/2*Ge.SCALE)),this.frameIndex=this.timer=0,this.individualDurations=!1,this.durations=t.durations,this.numFrames=this.durations.length,this.smoothing=Ne.antialias,this.finished=1>=this.numFrames,null!=this.filter?(this.filteredFrames[this.frameIndex]||(this.frames[this.frameIndex]=this.applyFilters(this.frames[this.frameIndex],this.model.frames[this.frameIndex],this.filter),this.filteredFrames[this.frameIndex]=!0),this.set_bitmapData(this.frames[this.frameIndex])):this.set_bitmapData(this.model.frames[this.frameIndex]),this.smoothing=Ne.antialias};r["com.stencyl.graphics.BitmapAnimation"]=mi,mi.__name__="com.stencyl.graphics.BitmapAnimation",mi.__interfaces__=[ui],mi.__super__=di,mi.prototype=i(di.prototype,{model:null,frameIndex:null,timer:null,finished:null,durations:null,individualDurations:null,frames:null,numFrames:null,filter:null,filteredFrames:null,update:function(t){this.model.sync&&this.model.looping?(t=this.frameIndex,this.timer=this.model.sharedTimer,this.frameIndex=this.model.sharedFrameIndex,t!=this.frameIndex&&(null!=this.filter?(this.filteredFrames[this.frameIndex]||(this.frames[this.frameIndex]=this.applyFilters(this.frames[this.frameIndex],this.model.frames[this.frameIndex],this.filter),this.filteredFrames[this.frameIndex]=!0),this.set_bitmapData(this.frames[this.frameIndex])):this.set_bitmapData(this.model.frames[this.frameIndex]),this.smoothing=Ne.antialias)):(this.timer+=t,0<this.numFrames&&this.timer>this.durations[this.frameIndex]&&(t=this.frameIndex,this.timer-=this.durations[this.frameIndex],this.frameIndex++,this.frameIndex>=this.numFrames&&(this.model.looping?this.frameIndex=0:(this.finished=!0,this.frameIndex--)),t!=this.frameIndex&&(null!=this.filter?(this.filteredFrames[this.frameIndex]||(this.frames[this.frameIndex]=this.applyFilters(this.frames[this.frameIndex],this.model.frames[this.frameIndex],this.filter),this.filteredFrames[this.frameIndex]=!0),this.set_bitmapData(this.frames[this.frameIndex])):this.set_bitmapData(this.model.frames[this.frameIndex]),this.smoothing=Ne.antialias)))},getCurrentFrame:function(){return this.frameIndex},getNumFrames:function(){return this.numFrames},setFrame:function(t){(0>t||t>=this.numFrames)&&(t=0),t!=this.frameIndex&&(this.frameIndex=t,null!=this.filter?(this.filteredFrames[this.frameIndex]||(this.frames[this.frameIndex]=this.applyFilters(this.frames[this.frameIndex],this.model.frames[this.frameIndex],this.filter),this.filteredFrames[this.frameIndex]=!0),this.set_bitmapData(this.frames[this.frameIndex])):this.set_bitmapData(this.model.frames[this.frameIndex]),this.smoothing=Ne.antialias),this.timer=0,this.finished=!1},isFinished:function(){return this.finished},reset:function(){this.frameIndex=this.timer=0,this.finished=!1,null!=this.filter?(this.filteredFrames[this.frameIndex]||(this.frames[this.frameIndex]=this.applyFilters(this.frames[this.frameIndex],this.model.frames[this.frameIndex],this.filter),this.filteredFrames[this.frameIndex]=!0),this.set_bitmapData(this.frames[this.frameIndex])):this.set_bitmapData(this.model.frames[this.frameIndex]),this.smoothing=Ne.antialias},updateBitmap:function(){null!=this.filter?(this.filteredFrames[this.frameIndex]||(this.frames[this.frameIndex]=this.applyFilters(this.frames[this.frameIndex],this.model.frames[this.frameIndex],this.filter),this.filteredFrames[this.frameIndex]=!0),this.set_bitmapData(this.frames[this.frameIndex])):this.set_bitmapData(this.model.frames[this.frameIndex]),this.smoothing=Ne.antialias},set_filter:function(t){this.filter=t;for(var e=[],i=0,s=this.numFrames;i<s;)i++,e.push(!1);for(this.filteredFrames=e,e=[],i=0,s=this.numFrames;i<s;)i++,e.push(null);return this.frames=e,null!=this.filter?(this.filteredFrames[this.frameIndex]||(this.frames[this.frameIndex]=this.applyFilters(this.frames[this.frameIndex],this.model.frames[this.frameIndex],this.filter),this.filteredFrames[this.frameIndex]=!0),this.set_bitmapData(this.frames[this.frameIndex])):this.set_bitmapData(this.model.frames[this.frameIndex]),this.smoothing=Ne.antialias,t},applyFilters:function(t,e,i){null==t&&(t=new O_(e.width,e.height));for(var s=0;s<i.length;){var n=i[s];++s,e=n.__applyFilter(t,e,e.rect,vr.zero)}return t},draw:function(t,e,i,s,n){Ne.disposeImages&&!this.model.checkImageReadable()||t.drawImage(this.get_bitmapData(),e,i,s)},getFrameDurations:function(){return this.durations},setFrameDurations:function(t){if(null!=this.durations){for(var e=[],i=0,s=this.durations.length;i<s;)i++,e.push(t);this.durations=e,this.individualDurations=!0}},setFrameDuration:function(t,e){if(!this.individualDurations){for(var i=[],s=0,n=this.durations.length;s<n;){var r=s++;i.push(this.durations[r])}this.durations=i,this.individualDurations=!0}0<=t&&t<this.durations.length&&(this.durations[t]=e)},framesUpdated:function(){this.set_x(Math.round(-this.model.frameWidth/2*Ge.SCALE)),this.set_y(Math.round(-this.model.frameHeight/2*Ge.SCALE)),null!=this.filter?(this.filteredFrames[this.frameIndex]||(this.frames[this.frameIndex]=this.applyFilters(this.frames[this.frameIndex],this.model.frames[this.frameIndex],this.filter),this.filteredFrames[this.frameIndex]=!0),this.set_bitmapData(this.frames[this.frameIndex])):this.set_bitmapData(this.model.frames[this.frameIndex]),this.smoothing=Ne.antialias},getCurrentImage:function(){return Ne.disposeImages&&!this.model.checkImageReadable()?Cn.UNLOADED:this.get_bitmapData()},getCurrentImageInstance:function(){return new fi(null,this.get_bitmapData())},activate:function(){},__class__:mi,__properties__:i(di.prototype.__properties__,{set_filter:"set_filter"})});var pi=function(){};r["com.stencyl.graphics.EngineScaleUpdateListener"]=pi,pi.__name__="com.stencyl.graphics.EngineScaleUpdateListener",pi.__isInterface__=!0,pi.prototype={updateScale:null,__class__:pi};var fi=function(t,e){this.cacheParentAnchor=vr.zero,D.call(this),this.offsetY=this.offsetX=0,null!=t?this.initializeFromBitmap(t):null!=e&&this.initializeFromBitmapData(e)};r["com.stencyl.graphics.BitmapWrapper"]=fi,fi.__name__="com.stencyl.graphics.BitmapWrapper",fi.__interfaces__=[pi],fi.__super__=D,fi.prototype=i(D.prototype,{img:null,offsetX:null,offsetY:null,cacheParentAnchor:null,smoothing:null,imgX:null,imgY:null,tweenProps:null,initializeFromBitmap:function(t){this.img=t,this.addChild(t)},initializeFromBitmapData:function(t){this.initializeFromBitmap(new di(t))},set_imgX:function(t){return this.set_x((t+this.offsetX)*Ge.SCALE-this.cacheParentAnchor.x),this.imgX=t},get_imgX:function(){return this.imgX},set_imgY:function(t){return this.set_y((t+this.offsetY)*Ge.SCALE-this.cacheParentAnchor.y),this.imgY=t},get_imgY:function(){return this.imgY},set_smoothing:function(t){return this.img.smoothing=t},get_smoothing:function(){return this.img.smoothing},setOrigin:function(t,e){this.set_x(this.get_x()+(t-this.offsetX)*Ge.SCALE),this.set_y(this.get_y()+(e-this.offsetY)*Ge.SCALE),this.offsetX=t,this.offsetY=e,this.img.set_x(-t*Ge.SCALE),this.img.set_y(-e*Ge.SCALE)},updateScale:function(){this.updatePosition()},updatePosition:function(){this.set_x((this.get_imgX()+this.offsetX)*Ge.SCALE-this.cacheParentAnchor.x),this.set_y((this.get_imgY()+this.offsetY)*Ge.SCALE-this.cacheParentAnchor.y)},get_tweenProps:function(){return null==this.tweenProps&&(this.tweenProps=new gi(this)),this.tweenProps},__class__:fi,__properties__:i(D.prototype.__properties__,{get_tweenProps:"get_tweenProps",set_imgY:"set_imgY",get_imgY:"get_imgY",set_imgX:"set_imgX",get_imgX:"get_imgX",set_smoothing:"set_smoothing",get_smoothing:"get_smoothing"})});var gi=function(t){this.bmp=t,this.xy=(new ga).doOnUpdate(n(this,this.onUpdateXY)),this.angle=(new fa).doOnUpdate(n(this,this.onUpdateAngle)),this.alpha=(new fa).doOnUpdate(n(this,this.onUpdateAlpha)),this.scaleXY=(new ga).doOnUpdate(n(this,this.onUpdateScaleXY))};r["com.stencyl.graphics.BitmapTweenProperties"]=gi,gi.__name__="com.stencyl.graphics.BitmapTweenProperties",gi.prototype={xy:null,angle:null,alpha:null,scaleXY:null,bmp:null,pause:function(){this.xy.paused=!0,this.angle.paused=!0,this.alpha.paused=!0,this.scaleXY.paused=!0},unpause:function(){this.xy.paused=!1,this.angle.paused=!1,this.alpha.paused=!1,this.scaleXY.paused=!1},cancel:function(){this.xy.active&&ya.cancel(this.xy),this.angle.active&&ya.cancel(this.angle),this.alpha.active&&ya.cancel(this.alpha),this.scaleXY.active&&ya.cancel(this.scaleXY)},onUpdateXY:function(){this.bmp.set_imgX(this.xy.value1),this.bmp.set_imgY(this.xy.value2)},onUpdateAngle:function(){this.bmp.set_rotation(this.angle.value)},onUpdateAlpha:function(){this.bmp.set_alpha(this.alpha.value)},onUpdateScaleXY:function(){this.bmp.set_scaleX(this.scaleXY.value1),this.bmp.set_scaleY(this.scaleXY.value2)},__class__:gi};var yi=function(){};r["com.stencyl.graphics.BlendModes"]=yi,yi.__name__="com.stencyl.graphics.BlendModes",yi.get=function(t){return yi.stringBlendMap.h[t]};var bi=function(){this.drawActor=!1,this.x=this.y=0,this.scaleX=this.scaleY=Ge.SCALE,this.alpha=1,this.blendMode=10,this.strokeColor=this.fillColor=this.strokeSize=0,this.rect=new je,this.rect2=new je,this.point=new Ye,this.point2=new Ye,this.data=[0,0,0],this.drawPoly=!1,this.firstY=this.firstX=this.pointCounter=0,this.font=this.defaultFont=new gn(-1,0,"",!0),this.mtx=new yr};r["com.stencyl.graphics.G"]=bi,bi.__name__="com.stencyl.graphics.G",bi.resetStatics=function(){bi.fontCache=null},bi.visitStringCache=function(){for(var t=bi.drawnStringCacheKeys.length;0<t--;){var e=bi.drawnStringCache.h[bi.drawnStringCacheKeys[t]];if(--e.lifetime,0==e.lifetime){e.img.dispose(),e=bi.drawnStringCacheKeys[t];var i=bi.drawnStringCache;Object.prototype.hasOwnProperty.call(i.h,e)&&delete i.h[e],bi.drawnStringCacheKeys[t]=bi.drawnStringCacheKeys[bi.drawnStringCacheKeys.length-1],bi.drawnStringCacheKeys.pop()}}},bi.prototype={defaultFont:null,graphics:null,x:null,y:null,scaleX:null,scaleY:null,alpha:null,blendMode:null,strokeSize:null,fillColor:null,strokeColor:null,font:null,fontData:null,mtx:null,rect:null,rect2:null,point:null,point2:null,data:null,drawPoly:null,pointCounter:null,firstX:null,firstY:null,drawActor:null,actor:null,resetGraphicsSettings:function(){this.alpha=1,this.strokeColor=this.fillColor=this.strokeSize=0,this.font=this.defaultFont},setFont:function(t){null!=t&&t!=this.font&&(this.font=t)},startGraphics:function(){!this.drawActor||null!=this.actor&&this.actor.isHUD||(this.x-=Ge.cameraX,this.y-=Ge.cameraY),0==this.strokeSize?this.graphics.lineStyle():this.graphics.lineStyle(this.strokeSize*Ge.SCALE,this.strokeColor,this.alpha)},endGraphics:function(){this.drawActor&&!this.actor.isHUD&&(this.x+=Ge.cameraX,this.y+=Ge.cameraY),this.graphics.lineStyle()},translate:function(t,e){this.x+=t*this.scaleX,this.y+=e*this.scaleY},moveTo:function(t,e){this.drawActor?(null!=this.actor&&this.translateToActor(this.actor),this.x+=t*this.scaleX,this.y+=e*this.scaleY):(this.x=t*this.scaleX,this.y=e*this.scaleY)},translateToScreen:function(){this.drawActor=!1,this.actor=null,this.y=this.x=0},translateToActor:function(t){if(this.drawActor=!0,this.actor=t,t.smoothMove){var e=t.drawY-Math.floor(t.cacheHeight/2)-t.currOffset.y;this.x=(t.drawX-Math.floor(t.cacheWidth/2)-t.currOffset.x)*this.scaleX,this.y=e*this.scaleY}else this.x=t.colX*this.scaleX,this.y=t.colY*this.scaleY},getCacheKey:function(t,e,i){return t+":"+e.ID+":"+i+":"+Ge.SCALE+":"+e.get_letterSpacing()},drawString:function(t,e,i){null==this.font&&this.resetFont(),this.drawActor?null!=this.actor&&this.actor.isHUD?(e=this.x+e*this.scaleX,i=this.y+i*this.scaleY):(e=this.x+e*this.scaleX-Ge.cameraX,i=this.y+i*this.scaleY-Ge.cameraY):(e=this.x+e*this.scaleX,i=this.y+i*this.scaleY),this.mtx.identity(),this.mtx.translate(e,i);var s=null,n=this.font;if(n=t+":"+n.ID+":"+this.alpha+":"+Ge.SCALE+":"+n.get_letterSpacing(),Object.prototype.hasOwnProperty.call(bi.drawnStringCache.h,n))(t=bi.drawnStringCache.h[n]).lifetime=5,s=t.img;else{var r=this.font.font.getTextWidth(t,this.font.fontScale),a=this.font.font.getFontHeight()*this.font.fontScale|0;0<r&&0<a&&(s=new O_(r,a,!0,0),this.font.font.renderToImg(s,t,0,this.alpha,0,0,this.font.fontScale,0,!1),(t=new vi).img=s,t.lifetime=5,bi.drawnStringCache.h[n]=t,bi.drawnStringCacheKeys.push(n))}null!=s&&(this.graphics.beginBitmapFill(s,this.mtx,!1,Ne.antialias),this.graphics.drawRect(e,i,s.width,s.height),this.graphics.endFill())},drawLine:function(t,e,i,s){t*=this.scaleX,e*=this.scaleY,i*=this.scaleX,s*=this.scaleY,this.startGraphics(),this.graphics.moveTo(this.x+t,this.y+e),this.graphics.lineTo(this.x+i,this.y+s),this.endGraphics()},fillPixel:function(t,e){this.startGraphics(),this.graphics.lineStyle(),this.graphics.beginFill(this.fillColor,this.alpha),this.graphics.drawRect(this.x+(t*Ge.SCALE|0),this.y+(e*Ge.SCALE|0),0|Ge.SCALE,0|Ge.SCALE),this.graphics.endFill(),this.endGraphics()},drawRect:function(t,e,i,s){t*=this.scaleX,e*=this.scaleY,i*=this.scaleX,s*=this.scaleY,this.startGraphics(),this.graphics.drawRect(this.x+t,this.y+e,i,s),this.endGraphics()},fillRect:function(t,e,i,s){t*=this.scaleX,e*=this.scaleY,i*=this.scaleX,s*=this.scaleY,this.startGraphics(),this.graphics.beginFill(this.fillColor,this.alpha),this.graphics.drawRect(this.x+t,this.y+e,i,s),this.graphics.endFill(),this.endGraphics()},drawRoundRect:function(t,e,i,s,n){t*=this.scaleX,e*=this.scaleY,i*=this.scaleX,s*=this.scaleY,this.startGraphics(),this.graphics.drawRoundRect(this.x+t,this.y+e,i,s,n,n),this.endGraphics()},fillRoundRect:function(t,e,i,s,n){t*=this.scaleX,e*=this.scaleY,i*=this.scaleX,s*=this.scaleY,this.startGraphics(),this.graphics.beginFill(this.fillColor,this.alpha),this.graphics.drawRoundRect(this.x+t,this.y+e,i,s,n,n),this.graphics.endFill(),this.endGraphics()},drawCircle:function(t,e,i){t*=this.scaleX,e*=this.scaleY,i*=this.scaleX,this.startGraphics(),this.graphics.drawCircle(this.x+t,this.y+e,i),this.endGraphics()},fillCircle:function(t,e,i){t*=this.scaleX,e*=this.scaleY,i*=this.scaleX,this.startGraphics(),this.graphics.beginFill(this.fillColor,this.alpha),this.graphics.drawCircle(this.x+t,this.y+e,i),this.graphics.endFill(),this.endGraphics()},beginFillPolygon:function(){this.drawPoly=!1,this.startGraphics(),this.graphics.moveTo(this.x,this.y),this.pointCounter=0},endDrawingPolygon:function(){2<=this.pointCounter&&(this.drawPoly?this.graphics.lineTo(this.x+this.firstX,this.y+this.firstY):(this.graphics.lineTo(this.x+this.firstX,this.y+this.firstY),this.graphics.endFill()),this.endGraphics())},beginDrawPolygon:function(){this.drawPoly=!0,this.startGraphics(),this.graphics.moveTo(this.x,this.y),this.pointCounter=0},addPointToPolygon:function(t,e){t*=this.scaleX,e*=this.scaleY,0==this.pointCounter&&(this.firstX=t,this.firstY=e,this.graphics.moveTo(this.x+t,this.y+e),this.drawPoly||this.graphics.beginFill(this.fillColor,this.alpha)),this.pointCounter++,this.graphics.lineTo(this.x+t,this.y+e)},drawImage:function(t,e,i,s,n){null==s&&(s=0),e*=this.scaleX,i*=this.scaleY,this.rect.x=0,this.rect.y=0,this.rect.width=t.width,this.rect.height=t.height,this.drawActor?null!=this.actor&&this.actor.isHUD?(this.point.x=this.x+e,this.point.y=this.y+i):(this.point.x=this.x+e-Ge.cameraX,this.point.y=this.y+i-Ge.cameraY):(this.point.x=this.x+e,this.point.y=this.y+i),this.mtx.identity(),this.mtx.rotate(s),this.mtx.translate(this.point.x,this.point.y),0==s?(1!=this.alpha&&(this.point2.x=0,this.point2.y=0,this.rect2.width=t.width,this.rect2.height=t.height,e=new O_(t.width,t.height,!0,this.toARGB(0,255*this.alpha|0)),(i=new O_(t.width,t.height,!0,0)).copyPixels(t,this.rect2,this.point2,e,null,!0),t=i),this.graphics.beginBitmapFill(t,this.mtx),this.graphics.drawRect(this.point.x,this.point.y,t.width,t.height)):(1!=this.alpha&&(this.point2.x=0,this.point2.y=0,this.rect2.width=t.width,this.rect2.height=t.height,e=new O_(t.width,t.height,!0,this.toARGB(0,255*this.alpha|0)),(i=new O_(t.width,t.height,!0,0)).copyPixels(t,this.rect2,this.point2,e,null,!0),t=i),e=new O_(t.width+2,t.height+2,!0,0),i=0|Math.sqrt(Math.pow(e.width,2)+Math.pow(e.height,2)),s=new je(0,0,t.width,t.height),n=new Ye(1,1),e.copyPixels(t,s,n),this.graphics.beginBitmapFill(e,this.mtx,!1,Ne.antialias),this.graphics.drawRect(this.x-(i-t.width)/2,this.y-(i-t.height)/2,i,i)),this.graphics.endFill()},toARGB:function(t,e){return t+(e<<24)},resetFont:function(){this.font=this.defaultFont,this.font.fontScale!=Ge.SCALE&&(this.font.fontScale=Ge.SCALE)},__class__:bi};var vi=function(){};r["com.stencyl.graphics._G.TemporaryImage"]=vi,vi.__name__="com.stencyl.graphics._G.TemporaryImage",vi.prototype={lifetime:null,img:null,__class__:vi};var xi=function(){};r["com.stencyl.graphics.GLUtil"]=xi,xi.__name__="com.stencyl.graphics.GLUtil",xi.initialize=function(){null==xi.gl&&(xi.context=Ge.stage.window.context,xi.context3D=Ge.stage.context3D,xi.gl=Ol.fromRenderContext(xi.context),xi.renderer=Ge.stage.__renderer,xi.textureMaxSize=xi.gl.getParameter(xi.gl.MAX_TEXTURE_SIZE),xi.textureMaxSize=xi.textureMaxSize/2|0,xi.textureMaxSize>xi.MAX_TEXTURE_CAP&&(xi.textureMaxSize=xi.MAX_TEXTURE_CAP),null==Zu.__supportsBGRA&&new O_(1,1,!0,0).getTexture(xi.context3D))},xi.uploadTexture=function(t,e){t.getTexture(xi.context3D),e&&xi.disposeSoftwareBuffer(t)},xi.disposeSoftwareBuffer=function(t){t.image.buffer.__srcCanvas=null,t.image.buffer.__srcContext=null,t.image=null,t.readable=!1,t.__surface=null,t.__vertexBuffer=null,t.__framebuffer=null,t.__framebufferContext=null},xi.createNewTexture=function(t){var e=xi.context3D.createRectangleTexture(t,t,1,!1);e.uploadFromTypedArray(null);var i=new O_(0,0,!0,0);return i.__resize(t,t),i.readable=!1,i.__texture=e,i.__textureContext=xi.context,i.__isValid=!0,i.image=null,i},xi.clearTexture=function(t){t.__texture.uploadFromTypedArray(null)};var wi=function(t){this.value=t};r["com.stencyl.graphics.Scale"]=wi,wi.__name__="com.stencyl.graphics.Scale",wi.fromString=function(t){switch(t){case"1.5x":return wi._1_5X;case"1x":default:return wi._1X;case"2x":return wi._2X;case"3x":return wi._3X;case"4x":return wi._4X}},wi.prototype={value:null,toString:function(){return 1==this.value?"1x":1.5==this.value?"1.5x":2==this.value?"2x":3==this.value?"3x":4==this.value?"4x":""},__class__:wi};var Si={_new:function(t){return t},fromString:function(t){switch(t){case"FULLSCREEN":return 1;case"NO_SCALING":default:return 0;case"SCALE_TO_FIT_FILL":return 4;case"SCALE_TO_FIT_FULLSCREEN":return 5;case"SCALE_TO_FIT_LETTERBOX":return 3;case"STRETCH_TO_FIT":return 2}},toString:function(t){switch(t){case 0:default:return"NO_SCALING";case 1:return"FULLSCREEN";case 2:return"STRETCH_TO_FIT";case 3:return"SCALE_TO_FIT_LETTERBOX";case 4:return"SCALE_TO_FIT_FILL";case 5:return"SCALE_TO_FIT_FULLSCREEN"}}},Ri=function(){this.xSpacing=this.ySpacing=this.lineHeight=this.baseline=0,this.isDefault=!1,this._point=new Ye,this._glyphs=new fr,this._num_letters=0};r["com.stencyl.graphics.fonts.BitmapFont"]=Ri,Ri.__name__="com.stencyl.graphics.fonts.BitmapFont",Ri.store=function(t,e){Ri._storedFonts.h[t]=e},Ri.fetch=function(t){return Ri._storedFonts.h[t]},Ri.prototype={_glyphs:null,_num_letters:null,_tileset:null,_glyphString:null,_point:null,isDefault:null,xSpacing:null,ySpacing:null,lineHeight:null,baseline:null,loadAngelCode:function(t,e){if(this.reset(),null!=t){this._glyphString="";var i=new je,s=0;for(this._tileset=new Ec(t),t=null,e=e.elements();e.hasNext();){var n=e.next();if(n.nodeType!=O.Element)throw wa.thrown("Bad node type, expected Element but found "+(null==n.nodeType?"null":N.toString(n.nodeType)));if("font"==n.nodeName)for(n=n.elements();n.hasNext();){var r=n.next();if(r.nodeType!=O.Element)throw wa.thrown("Bad node type, expected Element but found "+(null==r.nodeType?"null":N.toString(r.nodeType)));if("info"==r.nodeName){var a=[],o=0;for(r=r.get("spacing").split(",");o<r.length;){var l=r[o];++o,a.push(g.parseInt(l))}this.xSpacing=a[0],this.ySpacing=a[1]}else{if(r.nodeType!=O.Element)throw wa.thrown("Bad node type, expected Element but found "+(null==r.nodeType?"null":N.toString(r.nodeType)));if("common"==r.nodeName)this.lineHeight=g.parseInt(r.get("lineHeight")),this.baseline=g.parseInt(r.get("base"));else{if(r.nodeType!=O.Element)throw wa.thrown("Bad node type, expected Element but found "+(null==r.nodeType?"null":N.toString(r.nodeType)));"chars"==r.nodeName&&(t=r)}}}}if(null!=t)for(e=t.elements();e.hasNext();){if((n=e.next()).nodeType!=O.Element)throw wa.thrown("Bad node type, expected Element but found "+(null==n.nodeType?"null":N.toString(n.nodeType)));"char"==n.nodeName&&((t=new Ai).tileID=s,t.xoffset=g.parseInt(n.get("xoffset")),t.yoffset=g.parseInt(n.get("yoffset")),t.xadvance=g.parseInt(n.get("xadvance")),i.x=g.parseInt(n.get("x")),i.y=g.parseInt(n.get("y")),i.width=g.parseInt(n.get("width")),i.height=g.parseInt(n.get("height")),n=g.parseInt(n.get("id")),a=String.fromCodePoint(n),this._glyphString+=a,t.tileID=" "!=a&&""!=a&&0<i.width&&0<i.height?this._tileset.addRect(i):-1,this._glyphs.h[n]=t,this._num_letters++,++s)}}return this},reset:function(){this.dispose(),this._glyphs=new fr,this._num_letters=0,this._glyphString=""},prepareBitmapData:function(t,e){for(var i,s=t.getPixel(0,0),n=0;n<t.height;){var r=0;for(i=0;i<t.width;){if((0|t.getPixel(i,n))!=s){for(var a=i,o=n;(0|t.getPixel(a,n))!=s;)++a;for(;(0|t.getPixel(i,o))!=s;)++o;a-=i,o-=n,e.push(new je(i,n,a,o)),o>r&&(r=o),i+=a}++i}n+=r+1}for(e=t.clone(),r=t.getPixel32(0,0),n=0;n<t.height;){for(i=0;i<t.width;)(s=t.getPixel32(i,n))==r&&e.setPixel32(i,n,0),++i;++n}return e},dispose:function(){this._tileset=null,this._num_letters=0,this._glyphs=null},render:function(t,e,i,s,n,r,a){a=0;for(var o=e.length;a<o;){var l=a++;if(l=c.cca(e,l),null!=(l=this._glyphs.h[l])){if(this._point.x=s+l.xoffset*r,this._point.y=n+l.yoffset*r,-1!=l.tileID){var h=new Pc(l.tileID,this._point.x,this._point.y);h.set_scaleX(r),h.set_scaleY(r),h.set_alpha(i),t.addTile(h)}s+=(l.xadvance+this.xSpacing)*r}}},renderToImg:function(t,e,i,s,n,r,a,o,l){null==l&&(l=!0),null==o&&(o=0);var h=new Ic(t.width,t.height,this._tileset,Ne.antialias);this.render(h,e,s,n,r,a,o),l?t.draw(h,null,new br((i>>16&255)/255,(i>>8&255)/255,(255&i)/255)):t.draw(h),h.removeTiles()},toARGB:function(t,e){return t+(e<<24)},getTextWidth:function(t,e){null==e&&(e=1);for(var i=0,s=t.length,n=0;n<s;){var r=n++;r=c.cca(t,r),null!=(r=this._glyphs.h[r])&&(i+=r.xadvance)}return 1<s&&(i+=(s-1)*this.xSpacing),i*e|0},getFontHeight:function(t){return null==t&&(t=1),this.lineHeight*t|0},numLetters:null,get_numLetters:function(){return this._num_letters},containsCharacter:function(t){return 0<=this._glyphString.indexOf(t)},getTileset:function(){return this._tileset},__class__:Ri,__properties__:{get_numLetters:"get_numLetters"}};var Ai=function(){};r["com.stencyl.graphics.fonts.FontSymbol"]=Ai,Ai.__name__="com.stencyl.graphics.fonts.FontSymbol",Ai.prototype={tileID:null,xoffset:null,yoffset:null,xadvance:null,__class__:Ai};var Ti=function(t){this.cacheParentAnchor=vr.zero,D.call(this),this._text="",this._color=0,this._useColor=!0,this._outline=!1,this._outlineColor=0,this._shadow=!1,this._shadowColor=0,this._background=!1,this._backgroundColor=16777215,this._alignment=1,this._padding=0,this._pendingTextChange=!1,this._fieldWidth=1,this._multiLine=!1,this._fontScale=1,this._autoUpperCase=!1,this._wordWrap=this._fixedWidth=!0,this._alpha=1,null==t||t==gn.defaultFont?(this._font=gn.defaultFont,this._fontScale=Ge.SCALE):this._font=t,this.set_cacheAsBitmap(!0),this._pendingTextChange=!0,this.update()};r["com.stencyl.graphics.fonts.Label"]=Ti,Ti.__name__="com.stencyl.graphics.fonts.Label",Ti.__interfaces__=[pi],Ti.__super__=D,Ti.prototype=i(D.prototype,{_stencylFont:null,_font:null,_text:null,_color:null,_useColor:null,_outline:null,_outlineColor:null,_shadow:null,_shadowColor:null,_background:null,_backgroundColor:null,_alignment:null,_padding:null,_fontScale:null,_autoUpperCase:null,_wordWrap:null,_fixedWidth:null,_pendingTextChange:null,_fieldWidth:null,_multiLine:null,_alpha:null,labelX:null,labelY:null,_shadowTilemap:null,_outlineTilemap:null,_characterTilemap:null,cacheParentAnchor:null,destroy:function(){this._font=this._stencylFont=null,this.removeChildren(),this._characterTilemap=this._shadowTilemap=this._outlineTilemap=null},get_text:function(){return this._text},set_text:function(t){return t.split("\\n").join("\n")!=this._text&&(this._text=t,this._text=this._text.split("\\n").join("\n"),this._autoUpperCase&&(this._text=this._text.toUpperCase()),this._pendingTextChange=!0,this.update()),this._text},updateBitmapData:function(){if(null!=this._font){var t,e,i=this._fieldWidth*Ge.SCALE|0,s=this._padding*Ge.SCALE|0,n=i,r=[],a=this._alignment,o=this._text.split("\n"),l=-1;for(this._multiLine||(o=[o[0]]);++l<o.length;)if(this._fixedWidth){var h=!1,_=o[l].split(" ");if(0<_.length)for(var u=0,d="";!h;){var m=d+(e=_[u])+" ",p=!1;if(this._wordWrap)this._font.getTextWidth(m,this._fontScale)>i?(""==d?_.splice(0,1):r.push(c.substr(d,0,d.length-1)),d="",this._multiLine?_.splice(0,u):_.splice(0,_.length),u=0,p=!0):(d+=e+" ",++u);else if(this._font.getTextWidth(m,this._fontScale)>i){var f=0;for(t=e.length;f<t;)m=d+e.charAt(f),this._font.getTextWidth(m,this._fontScale)>i?(r.push(c.substr(d,0,d.length-1)),e=d="",u=_.length,f=t,p=!0):d+=e.charAt(f),++f}else d+=e+" ",++u;u>=_.length&&(p||(h=c.substr(d,0,d.length-1),n=Math.floor(Math.max(n,this._font.getTextWidth(h,this._fontScale))),r.push(h)),h=!0)}else r.push("")}else n=Math.floor(Math.max(n,this._font.getTextWidth(o[l],this._fontScale))),r.push(o[l]);for(n=n+2*s+(this._outline?2:0),o=Math.floor(2*s+Math.max(1,r.length*this._font.lineHeight*this._fontScale+(this._shadow?1:0)+(this._outline?2:0))+(1<=r.length?this._font.ySpacing*(r.length-1)*this._fontScale:0)),this.get_graphics().clear(),1==this._background&&(this.get_graphics().beginFill(this._backgroundColor,this._alpha),this.get_graphics().drawRect(0,0,n,o),this.get_graphics().endFill()),this.removeChildren(),this._outline&&(this._outlineTilemap=new Ic(n,o,this._font.getTileset(),Ne.antialias),this.tint(this._outlineTilemap,this._outlineColor),this.addChild(this._outlineTilemap)),this._shadow&&(this._shadowTilemap=new Ic(n,o,this._font.getTileset(),Ne.antialias),this.tint(this._shadowTilemap,this._shadowColor),this.addChild(this._shadowTilemap)),this._characterTilemap=new Ic(n,o,this._font.getTileset(),Ne.antialias),this._useColor&&this.tint(this._characterTilemap,this._color),this.addChild(this._characterTilemap),l=o=0;l<r.length;){if(_=r[l],++l,d=u=0,3==a&&(u=this._fixedWidth?Math.floor((i-this._font.getTextWidth(_,this._fontScale))/2):Math.floor((n-this._font.getTextWidth(_,this._fontScale))/2)),2==a&&(u=this._fixedWidth?i-Math.floor(this._font.getTextWidth(_,this._fontScale)):n-Math.floor(this._font.getTextWidth(_,this._fontScale))-2*s),u+=s,d+=s+(o*(this._font.lineHeight+this._font.ySpacing)*this._fontScale|0),this._outline){for(h=0;3>h;)for(f=h++,t=0;3>t;)e=t++,this._font.render(this._outlineTilemap,_,this._alpha,u+e,d+f,this._fontScale);++u,++d}this._shadow&&this._font.render(this._shadowTilemap,_,this._alpha,u+1,d+1,this._fontScale),this._font.render(this._characterTilemap,_,this._alpha,u,d,this._fontScale),++o}this._pendingTextChange=!1}},update:function(){this._pendingTextChange&&this.updateBitmapData()},get_background:function(){return this._background},set_background:function(t){return this._background!=t&&(this._background=t,this._pendingTextChange=!0,this.update()),t},get_backgroundColor:function(){return this._backgroundColor},set_backgroundColor:function(t){return this._backgroundColor!=t&&(this._backgroundColor=t,this._background&&(this._pendingTextChange=!0,this.update())),t},get_shadow:function(){return this._shadow},set_shadow:function(t){return this._shadow!=t&&(this._shadow=t,this._outline=!1,this.updateGlyphs(!1,this._shadow,!1),this._pendingTextChange=!0,this.update()),t},get_shadowColor:function(){return this._shadowColor},set_shadowColor:function(t){return this._shadowColor!=t&&(this._shadowColor=t,this.updateGlyphs(!1,this._shadow,!1),this._pendingTextChange=!0,this.update()),t},get_padding:function(){return this._padding},set_padding:function(t){return this._padding!=t&&(this._padding=t,this._pendingTextChange=!0,this.update()),t},get_color:function(){return this._color},set_color:function(t){return this._color!=t&&(this._color=t,this.updateGlyphs(!0,!1,!1),this._pendingTextChange=!0,this.update()),t},get_useColor:function(){return this._useColor},set_useColor:function(t){return this._useColor!=t&&(this._useColor=t,this.updateGlyphs(!0,!1,!1),this._pendingTextChange=!0,this.update()),t},setWidth:function(t){return 1>t&&(t=1),t!=this._fieldWidth&&(this._fieldWidth=t,this._pendingTextChange=!0,this.update()),t},get_alignment:function(){return this._alignment},set_alignment:function(t){return this._alignment!=t&&(this._alignment=t,this._pendingTextChange=!0,this.update()),t},get_multiLine:function(){return this._multiLine},set_multiLine:function(t){return this._multiLine!=t&&(this._multiLine=t,this._pendingTextChange=!0,this.update()),t},get_outline:function(){return this._outline},set_outline:function(t){return this._outline!=t&&(this._outline=t,this._shadow=!1,this.updateGlyphs(!1,!1,!0),this._pendingTextChange=!0,this.update()),t},get_outlineColor:function(){return this._outlineColor},set_outlineColor:function(t){return this._outlineColor!=t&&(this._outlineColor=t,this.updateGlyphs(!1,!1,this._outline),this._pendingTextChange=!0,this.update()),t},get_font:function(){return this._font},set_font:function(t){return this._font!=t&&(this._font=t,this.updateGlyphs(!0,this._shadow,this._outline),this._pendingTextChange=!0,this.update()),t},get_stencylFont:function(){return this._stencylFont},set_stencylFont:function(t){return this._stencylFont!=t&&(this._stencylFont=t,null==t?(this._font=gn.defaultFont,this._fontScale=Ge.SCALE):(this._font=t.font,this._fontScale=t.fontScale),this.updateGlyphs(!0,this._shadow,this._outline),this._pendingTextChange=!0,this.update()),t},setAlpha:function(t){this._alpha!=t&&(this._alpha=t,this._pendingTextChange=!0,this.update())},getAlpha:function(){return this._alpha},get_fontScale:function(){return this._fontScale},set_fontScale:function(t){var e=Math.abs(t);return e!=this._fontScale&&(this._fontScale=e,this.updateGlyphs(!0,this._shadow,this._outline),this._pendingTextChange=!0,this.update()),t},get_autoUpperCase:function(){return this._autoUpperCase},set_autoUpperCase:function(t){return this._autoUpperCase!=t&&(this._autoUpperCase=t)&&this.set_text(this._text.toUpperCase()),this._autoUpperCase},get_wordWrap:function(){return this._wordWrap},set_wordWrap:function(t){return this._wordWrap!=t&&(this._wordWrap=t,this._pendingTextChange=!0,this.update()),this._wordWrap},get_fixedWidth:function(){return this._fixedWidth},set_fixedWidth:function(t){return this._fixedWidth!=t&&(this._fixedWidth=t,this._pendingTextChange=!0,this.update()),this._fixedWidth},set_labelX:function(t){return this.set_x(t*Ge.SCALE),this.labelX=t},get_labelX:function(){return this.labelX},set_labelY:function(t){return this.set_y(t*Ge.SCALE),this.labelY=t},get_labelY:function(){return this.labelY},updatePosition:function(){this.set_x(this.get_labelX()*Ge.SCALE-this.cacheParentAnchor.x),this.set_y(this.get_labelY()*Ge.SCALE-this.cacheParentAnchor.y)},updateScale:function(){this.updatePosition(),null!=this._stencylFont?this.set_font(this._stencylFont.font):this._font==gn.defaultFont&&this.set_fontScale(Ge.SCALE)},updateGlyphs:function(t,e,i){},tint:function(t,e){var i=new or;i.colorize(e,1),t.set_filters([i.getFilter()])},__class__:Ti,__properties__:i(D.prototype.__properties__,{set_fixedWidth:"set_fixedWidth",get_fixedWidth:"get_fixedWidth",set_wordWrap:"set_wordWrap",get_wordWrap:"get_wordWrap",set_autoUpperCase:"set_autoUpperCase",get_autoUpperCase:"get_autoUpperCase",set_fontScale:"set_fontScale",get_fontScale:"get_fontScale",set_stencylFont:"set_stencylFont",get_stencylFont:"get_stencylFont",set_font:"set_font",get_font:"get_font",set_outlineColor:"set_outlineColor",get_outlineColor:"get_outlineColor",set_outline:"set_outline",get_outline:"get_outline",set_multiLine:"set_multiLine",get_multiLine:"get_multiLine",set_alignment:"set_alignment",get_alignment:"get_alignment",set_useColor:"set_useColor",get_useColor:"get_useColor",set_color:"set_color",get_color:"get_color",set_padding:"set_padding",get_padding:"get_padding",set_shadowColor:"set_shadowColor",get_shadowColor:"get_shadowColor",set_shadow:"set_shadow",get_shadow:"get_shadow",set_backgroundColor:"set_backgroundColor",get_backgroundColor:"get_backgroundColor",set_background:"set_background",get_background:"get_background",set_text:"set_text",get_text:"get_text",set_labelY:"set_labelY",get_labelY:"get_labelY",set_labelX:"set_labelX",get_labelX:"get_labelX"})});var Mi=function(){};r["com.stencyl.graphics.fonts.TextAlign"]=Mi,Mi.__name__="com.stencyl.graphics.fonts.TextAlign";var Pi=function(){};r["com.stencyl.graphics.shaders.BasicShader"]=Pi,Pi.__name__="com.stencyl.graphics.shaders.BasicShader",Pi.prototype={multipassParent:null,multipassTarget:null,model:null,setProperty:function(t,e){this.model.setUniform(t,e)},getProperty:function(t){return this.model.getUniform(t)},tweenProperty:function(t,e,i,s){null==i&&(i=1),this.model.tweenUniform(t,e,i,s)},enable:function(){Ge.engine.addShader(this.model)},disable:function(){Ge.engine.clearShaders()},setTimeScale:function(t){this.model.timeScale=t},combine:function(t){return this.multipassTarget=t,t.multipassParent=this,t},__class__:Pi};var Ci=function(t,e,i,s,n,r,a,o,l){null==l&&(l=.0075),null==o&&(o=.009),null==a&&(a=.012),null==r&&(r=.6),null==n&&(n=.4),null==s&&(s=3),null==i&&(i=4),null==e&&(e=.004),null==t&&(t=.25),this.model=new Oi(this,"\n\t\t\t#ifdef GL_ES\n\t\t\t\tprecision mediump float;\n\t\t\t#endif\n\t\t\t\n\t\t\tvarying vec2 vTexCoord;\n\t\t\tuniform vec2 uResolution;\n\t\t\tuniform sampler2D uImage0;\n\t\t\t\n\t\t\tuniform float currPixelWeight;\n\t\t\tuniform float neighborPixelWeight;\n\t\t\tuniform float lowThreshold;\n\t\t\tuniform float mediumThreshold;\n\t\t\tuniform float lowMultiplier;\n\t\t\tuniform float mediumMultiplier;\n\t\t\tuniform float highMultiplier;\n\n\t\t\tvoid main(void)\n\t\t\t{\n\t\t\t\tvec4 sum = vec4(0.0);\n\t\t\t\tvec2 q1 = vTexCoord;\n\t\t\t\tvec4 oricol = texture2D(uImage0, vec2(q1.x, q1.y));\n\t\t\t\tvec3 col;\n\t\t\t\t\n\t\t\t\tfor(int i = -3; i < 3; i++) \n\t\t\t\t{\n\t\t\t\t\tfor(int j = -3; j < 3; j++) \n\t\t\t\t\t{\n\t\t\t\t\t\tsum += texture2D(uImage0, vec2(j, i) * neighborPixelWeight + vec2(q1.x, q1.y)) * currPixelWeight;\n\t\t\t\t\t}\n\t\t\t   \t}\n\t\t\t \n\t\t\t  \tif(oricol.r < lowThreshold) \n\t\t\t  \t{\n\t\t\t\t\tgl_FragColor = sum * sum * lowMultiplier + oricol;\n\t\t\t  \t} \n\t\t\t  \n\t\t\t  \telse \n\t\t\t  \t{\n\t\t\t\t\tif(oricol.r < mediumThreshold) \n\t\t\t\t\t{\n\t\t\t\t\t\tgl_FragColor = sum * sum * mediumMultiplier + oricol;\n\t\t\t\t   \t} \n\t\t\t\t   \t\n\t\t\t\t   \telse \n\t\t\t\t   \t{\n\t\t\t\t\t\tgl_FragColor = sum * sum * highMultiplier + oricol;\n\t\t\t\t   \t}\n\t\t\t   }\n\t\t\t}\n\t\t",!0),this.setProperty("currPixelWeight",t),this.setProperty("neighborPixelWeight",e),this.setProperty("sampleX",i),this.setProperty("sampleY",s),this.setProperty("lowThreshold",n),this.setProperty("mediumThreshold",r),this.setProperty("lowMultiplier",a),this.setProperty("mediumMultiplier",o),this.setProperty("highMultiplier",l)};r["com.stencyl.graphics.shaders.BloomShader"]=Ci,Ci.__name__="com.stencyl.graphics.shaders.BloomShader",Ci.__super__=Pi,Ci.prototype=i(Pi.prototype,{__class__:Ci});var Ii=function(t,e,i){null==i&&(i=1),null==e&&(e=1),null==t&&(t=2),this.model=new Oi(this,"\n\t\t\t#ifdef GL_ES\n\t\t\t\tprecision mediump float;\n\t\t\t#endif\n\t\t\t\n\t\t\t//in attributes from our vertex shader\n\t\t\tvarying vec2 vTexCoord;\n\t\t\t\n\t\t\t//declare uniforms\n\t\t\tuniform sampler2D uImage0;\n\t\t\tuniform vec2 uResolution;\n\t\t\t\n\t\t\tuniform float radius;\n\t\t\tuniform float dirx;\n\t\t\tuniform float diry;\n\t\t\t\n\t\t\tvoid main()\n\t\t\t{\n\t\t\t\t//this will be our RGBA sum\n\t\t\t\tvec4 sum = vec4(0.0);\n\t\t\t\n\t\t\t\t//our original texcoord for this fragment\n\t\t\t\tvec2 tc = vTexCoord;\n\t\t\t\n\t\t\t\t//the amount to blur, i.e. how far off center to sample from\n\t\t\t\t//1.0 -> blur by one pixel\n\t\t\t\t//2.0 -> blur by two pixels, etc.\n\t\t\t\tfloat blur = radius / uResolution.x;\n\t\t\t\n\t\t\t\t//the direction of our blur\n\t\t\t\t//(1.0, 0.0) -> x-axis blur\n\t\t\t\t//(0.0, 1.0) -> y-axis blur\n\t\t\t\tfloat hstep = dirx;\n\t\t\t\tfloat vstep = diry;\n\t\t\t\n\t\t\t\t//apply blurring, using a 9-tap filter with predefined gaussian weights\n\t\t\t\n\t\t\t\tsum += texture2D(uImage0, vec2(tc.x - 4.0*blur*hstep, tc.y - 4.0*blur*vstep)) * 0.0162162162;\n\t\t\t\tsum += texture2D(uImage0, vec2(tc.x - 3.0*blur*hstep, tc.y - 3.0*blur*vstep)) * 0.0540540541;\n\t\t\t\tsum += texture2D(uImage0, vec2(tc.x - 2.0*blur*hstep, tc.y - 2.0*blur*vstep)) * 0.1216216216;\n\t\t\t\tsum += texture2D(uImage0, vec2(tc.x - 1.0*blur*hstep, tc.y - 1.0*blur*vstep)) * 0.1945945946;\n\t\t\t\n\t\t\t\tsum += texture2D(uImage0, vec2(tc.x, tc.y)) * 0.2270270270;\n\t\t\t\n\t\t\t\tsum += texture2D(uImage0, vec2(tc.x + 1.0*blur*hstep, tc.y + 1.0*blur*vstep)) * 0.1945945946;\n\t\t\t\tsum += texture2D(uImage0, vec2(tc.x + 2.0*blur*hstep, tc.y + 2.0*blur*vstep)) * 0.1216216216;\n\t\t\t\tsum += texture2D(uImage0, vec2(tc.x + 3.0*blur*hstep, tc.y + 3.0*blur*vstep)) * 0.0540540541;\n\t\t\t\tsum += texture2D(uImage0, vec2(tc.x + 4.0*blur*hstep, tc.y + 4.0*blur*vstep)) * 0.0162162162;\n\t\t\t\n\t\t\t\t//discard alpha for our simple demo, multiply by vertex color and return\n\t\t\t\tgl_FragColor = vec4(sum.rgb, 1.0);\n\t\t\t}\n\t\t",!0),this.setRadius(t),this.setDirectionX(e),this.setDirectionY(i)};r["com.stencyl.graphics.shaders.BlurShader"]=Ii,Ii.__name__="com.stencyl.graphics.shaders.BlurShader",Ii.__super__=Pi,Ii.prototype=i(Pi.prototype,{setRadius:function(t){this.setProperty("radius",t)},setDirectionX:function(t){this.setProperty("dirx",t)},setDirectionY:function(t){this.setProperty("diry",t)},__class__:Ii});var Ei=function(t,e,i){null==i&&(i=1),null==e&&(e=1),null==t&&(t=1),this.model=new Oi(this,"\n\t\t\t#ifdef GL_ES\n\t\t\t\tprecision mediump float;\n\t\t\t#endif\n\n\t\t\tvarying vec2 vTexCoord;\n\t\t\tuniform sampler2D uImage0;\n\t\t\tuniform float contrast;\n\t\t\tuniform float brightness;\n\t\t\tuniform float saturation;\n\n\t\t\tvec3 _mix(vec3 a, vec3 b, float amount) \n\t\t\t{ \n\t\t\t\treturn vec3(a.x * (1.0 - amount) + b.x * amount, a.y * (1.0 - amount) + b.y * amount, a.z * (1.0 - amount) + b.z * amount); \n\t\t\t}\n\n\t\t\tvoid main() \n\t\t\t{\n\t\t\t\tvec3 color = texture2D(uImage0, vTexCoord).rgb;\n\t\t\t\tconst vec3 luminanceCoefficient = vec3(0.2125, 0.7154, 0.0721);\n\t\t\t\tvec3 avgLuminance = vec3(0.5, 0.5, 0.5);\n\t\t\n\t\t\t\tvec3 brtColor = vec3(color.x * brightness, color.y * brightness, color.z * brightness);\n\t\t\t\tvec3 intensity = vec3(dot(brtColor, luminanceCoefficient));\n\t\t\t\tvec3 satColor = _mix(intensity, brtColor, saturation);\n\t\t\t\tvec3 conColor = _mix(avgLuminance, satColor, contrast);\n\t\t\n\t\t\t\tgl_FragColor = vec4(conColor, 1);\n\t\t\t}\n\t\t",!0),this.setContrast(t),this.setBrightness(e),this.setSaturation(i)};r["com.stencyl.graphics.shaders.CSBShader"]=Ei,Ei.__name__="com.stencyl.graphics.shaders.CSBShader",Ei.create=function(t,e){return null==e&&(e=1),null==t&&(t="contrast"),"contrast"==t?new Ei(e,1,1):"saturation"==t?new Ei(1,1,e):new Ei(1,e,1)},Ei.__super__=Pi,Ei.prototype=i(Pi.prototype,{setContrast:function(t){this.setProperty("contrast",t)},setBrightness:function(t){this.setProperty("brightness",t)},setSaturation:function(t){this.setProperty("saturation",t)},__class__:Ei});var ki=function(t){this.model=new Oi(this,"assets/data/"+t)};r["com.stencyl.graphics.shaders.ExternalShader"]=ki,ki.__name__="com.stencyl.graphics.shaders.ExternalShader",ki.__super__=Pi,ki.prototype=i(Pi.prototype,{__class__:ki});var Fi=function(t,e,i,s,n){null==n&&(n=1),null==s&&(s=1.6),null==i&&(i=.6),null==e&&(e=!1),null==t&&(t=.05),this.model=new Oi(this,"\n\t\t\t/*\n\t\t\t\tFilm Grain post-process shader v1.1\n\t\t\t\tMartins Upitis (martinsh) devlog-martinsh.blogspot.com\n\t\t\t*/\n\n\t\t\t#ifdef GL_ES\n\t\t\t\tprecision mediump float;\n\t\t\t#endif\n\t\t\t\n\t\t\tuniform sampler2D uImage0; //rendered scene sampler\n\t\t\tuniform vec2 uResolution; //scene sampler resolution\n\t\t\tuniform float uTime;\n\t\t\t\n\t\t\tvarying vec2 vTexCoord;\n\t\t\t\n\t\t\tconst float permTexUnit = 1.0/256.0;        // Perm texture texel-size\n\t\t\tconst float permTexUnitHalf = 0.5/256.0;    // Half perm texture texel-size\n\t\t\t\n\t\t\tfloat width;\n\t\t\tfloat height;\n\t\t\t\n\t\t\tuniform float grainamount; //grain amount\n\t\t\tuniform float colored; //colored noise?\n\t\t\tuniform float coloramount;\n\t\t\tuniform float grainsize; //grain particle size (1.5 - 2.5)\n\t\t\tuniform float lumamount; //\n\t\t\t\n\t\t\t//a random texture generator, but you can also use a pre-computed perturbation texture\n\t\t\tvec4 rnm(in vec2 tc)\n\t\t\t{\n\t\t\t\tfloat noise =  sin(dot(tc + vec2(uTime,uTime),vec2(12.9898,78.233))) * 43758.5453;\n\t\t\t\n\t\t\t\tfloat noiseR =  fract(noise)*2.0-1.0;\n\t\t\t\tfloat noiseG =  fract(noise*1.2154)*2.0-1.0;\n\t\t\t\tfloat noiseB =  fract(noise*1.3453)*2.0-1.0;\n\t\t\t\tfloat noiseA =  fract(noise*1.3647)*2.0-1.0;\n\t\t\t\n\t\t\t\treturn vec4(noiseR,noiseG,noiseB,noiseA);\n\t\t\t}\n\t\t\t\n\t\t\tfloat fade(in float t) {\n\t\t\t\treturn t*t*t*(t*(t*6.0-15.0)+10.0);\n\t\t\t}\n\t\t\t\n\t\t\tfloat pnoise3D(in vec3 p)\n\t\t\t{\n\t\t\t\tvec3 pi = permTexUnit*floor(p)+permTexUnitHalf; // Integer part, scaled so +1 moves permTexUnit texel\n\t\t\t\t// and offset 1/2 texel to sample texel centers\n\t\t\t\tvec3 pf = fract(p);     // Fractional part for interpolation\n\t\t\t\n\t\t\t\t// Noise contributions from (x=0, y=0), z=0 and z=1\n\t\t\t\tfloat perm00 = rnm(pi.xy).a ;\n\t\t\t\tvec3  grad000 = rnm(vec2(perm00, pi.z)).rgb * 4.0 - 1.0;\n\t\t\t\tfloat n000 = dot(grad000, pf);\n\t\t\t\tvec3  grad001 = rnm(vec2(perm00, pi.z + permTexUnit)).rgb * 4.0 - 1.0;\n\t\t\t\tfloat n001 = dot(grad001, pf - vec3(0.0, 0.0, 1.0));\n\t\t\t\n\t\t\t\t// Noise contributions from (x=0, y=1), z=0 and z=1\n\t\t\t\tfloat perm01 = rnm(pi.xy + vec2(0.0, permTexUnit)).a ;\n\t\t\t\tvec3  grad010 = rnm(vec2(perm01, pi.z)).rgb * 4.0 - 1.0;\n\t\t\t\tfloat n010 = dot(grad010, pf - vec3(0.0, 1.0, 0.0));\n\t\t\t\tvec3  grad011 = rnm(vec2(perm01, pi.z + permTexUnit)).rgb * 4.0 - 1.0;\n\t\t\t\tfloat n011 = dot(grad011, pf - vec3(0.0, 1.0, 1.0));\n\t\t\t\n\t\t\t\t// Noise contributions from (x=1, y=0), z=0 and z=1\n\t\t\t\tfloat perm10 = rnm(pi.xy + vec2(permTexUnit, 0.0)).a ;\n\t\t\t\tvec3  grad100 = rnm(vec2(perm10, pi.z)).rgb * 4.0 - 1.0;\n\t\t\t\tfloat n100 = dot(grad100, pf - vec3(1.0, 0.0, 0.0));\n\t\t\t\tvec3  grad101 = rnm(vec2(perm10, pi.z + permTexUnit)).rgb * 4.0 - 1.0;\n\t\t\t\tfloat n101 = dot(grad101, pf - vec3(1.0, 0.0, 1.0));\n\t\t\t\n\t\t\t\t// Noise contributions from (x=1, y=1), z=0 and z=1\n\t\t\t\tfloat perm11 = rnm(pi.xy + vec2(permTexUnit, permTexUnit)).a ;\n\t\t\t\tvec3  grad110 = rnm(vec2(perm11, pi.z)).rgb * 4.0 - 1.0;\n\t\t\t\tfloat n110 = dot(grad110, pf - vec3(1.0, 1.0, 0.0));\n\t\t\t\tvec3  grad111 = rnm(vec2(perm11, pi.z + permTexUnit)).rgb * 4.0 - 1.0;\n\t\t\t\tfloat n111 = dot(grad111, pf - vec3(1.0, 1.0, 1.0));\n\t\t\t\n\t\t\t\t// Blend contributions along x\n\t\t\t\tvec4 n_x = mix(vec4(n000, n001, n010, n011), vec4(n100, n101, n110, n111), fade(pf.x));\n\t\t\t\n\t\t\t\t// Blend contributions along y\n\t\t\t\tvec2 n_xy = mix(n_x.xy, n_x.zw, fade(pf.y));\n\t\t\t\n\t\t\t\t// Blend contributions along z\n\t\t\t\tfloat n_xyz = mix(n_xy.x, n_xy.y, fade(pf.z));\n\t\t\t\n\t\t\t\t// We're done, return the final noise value.\n\t\t\t\treturn n_xyz;\n\t\t\t}\n\t\t\t\n\t\t\t//2d coordinate orientation thing\n\t\t\tvec2 coordRot(in vec2 tc, in float angle)\n\t\t\t{\n\t\t\t\tfloat aspect = width/height;\n\t\t\t\tfloat rotX = ((tc.x*2.0-1.0)*aspect*cos(angle)) - ((tc.y*2.0-1.0)*sin(angle));\n\t\t\t\tfloat rotY = ((tc.y*2.0-1.0)*cos(angle)) + ((tc.x*2.0-1.0)*aspect*sin(angle));\n\t\t\t\trotX = ((rotX/aspect)*0.5+0.5);\n\t\t\t\trotY = rotY*0.5+0.5;\n\t\t\t\treturn vec2(rotX,rotY);\n\t\t\t}\n\t\t\t\n\t\t\tvoid main()\n\t\t\t{\n\t\t\t\twidth = uResolution.x;\n\t\t\t\theight = uResolution.y;\n\t\t\t\t\n\t\t\t\tvec2 texCoord = vTexCoord.st;\n\t\t\t\n\t\t\t\tvec3 rotOffset = vec3(1.425,3.892,5.835); //rotation offset values\n\t\t\t\tvec2 rotCoordsR = coordRot(texCoord, uTime + rotOffset.x);\n\t\t\t\tvec3 noise = vec3(pnoise3D(vec3(rotCoordsR*vec2(width/grainsize,height/grainsize),0.0)));\n\t\t\t\n\t\t\t\tif (colored == 1.0)\n\t\t\t\t{\n\t\t\t\t\tvec2 rotCoordsG = coordRot(texCoord, uTime + rotOffset.y);\n\t\t\t\t\tvec2 rotCoordsB = coordRot(texCoord, uTime + rotOffset.z);\n\t\t\t\t\tnoise.g = mix(noise.r,pnoise3D(vec3(rotCoordsG*vec2(width/grainsize,height/grainsize),1.0)),coloramount);\n\t\t\t\t\tnoise.b = mix(noise.r,pnoise3D(vec3(rotCoordsB*vec2(width/grainsize,height/grainsize),2.0)),coloramount);\n\t\t\t\t}\n\t\t\t\n\t\t\t\tvec3 col = texture2D(uImage0, texCoord).rgb;\n\t\t\t\n\t\t\t\t//noisiness response curve based on scene luminance\n\t\t\t\tvec3 lumcoeff = vec3(0.299,0.587,0.114);\n\t\t\t\tfloat luminance = mix(0.0,dot(col, lumcoeff),lumamount);\n\t\t\t\tfloat lum = smoothstep(0.2,0.0,luminance);\n\t\t\t\tlum += luminance;\n\t\t\t\n\t\t\t\n\t\t\t\tnoise = mix(noise,vec3(0.0),pow(lum,4.0));\n\t\t\t\tcol = col+noise*grainamount;\n\t\t\t\n\t\t\t\tgl_FragColor =  vec4(col,1.0);\n\t\t\t}\n\t\t",!0),this.setGrainAmount(t),this.setColorAmount(i),this.setGrainSize(s),this.setLuminance(n),e?this.enableColor():this.disableColor()};r["com.stencyl.graphics.shaders.GrainShader"]=Fi,Fi.__name__="com.stencyl.graphics.shaders.GrainShader",Fi.__super__=Pi,Fi.prototype=i(Pi.prototype,{enableColor:function(){this.setProperty("colored",1)},disableColor:function(){this.setProperty("colored",0)},setGrainAmount:function(t){this.setProperty("grainamount",t)},setColorAmount:function(t){this.setProperty("coloramount",t)},setGrainSize:function(t){this.setProperty("grainsize",t)},setLuminance:function(t){this.setProperty("lumamount",t)},__class__:Fi});var Bi=function(){this.model=new Oi(this,"\n\t\t\t#ifdef GL_ES\n\t\t\t\tprecision mediump float;\n\t\t\t#endif\n\t\t\t\n\t\t\tvarying vec2 vTexCoord;\n\t\t\tuniform sampler2D uImage0;\n\t\t\t\n\t\t\tvoid main(void)\n\t\t\t{\n\t\t\t\tvec4 color = texture2D(uImage0, vTexCoord);\n\t\t\t\tfloat gray = dot(color.rgb, vec3(0.299, 0.587, 0.114));\n\t\t\t\tgl_FragColor = vec4(gray, gray, gray, 1.0);\n\t\t\t}\n\t\t",!0)};r["com.stencyl.graphics.shaders.GrayscaleShader"]=Bi,Bi.__name__="com.stencyl.graphics.shaders.GrayscaleShader",Bi.__super__=Pi,Bi.prototype=i(Pi.prototype,{__class__:Bi});var Di=function(t,e){null==e&&(e=!0),null==t&&(t=0),e&&(t*=Math.PI/180),this.model=new Oi(this,"\n\t\t\t#ifdef GL_ES\n\t\t\t\tprecision mediump float;\n\t\t\t#endif\n\t\t\t\n\t\t\tvarying vec2 vTexCoord;\n\t\t\tuniform sampler2D uImage0;\n\t\t\t\n\t\t\tuniform float hue;\n\t\t\tconst mat3 rgb2yiq = mat3(0.299, 0.587, 0.114, 0.595716, -0.274453, -0.321263, 0.211456, -0.522591, 0.311135);\n\t\t\tconst mat3 yiq2rgb = mat3(1.0, 0.9563, 0.6210, 1.0, -0.2721, -0.6474, 1.0, -1.1070, 1.7046);\n\n\t\t\tvoid main() \n\t\t\t{\n\t\t\t\tvec3 color = texture2D(uImage0, vTexCoord).rgb;\n\t\t\t\tvec3 yColor = rgb2yiq * color; \n\n\t\t\t\tfloat originalHue = atan(yColor.b, yColor.g);\n\t\t\t\tfloat finalHue = originalHue + hue;\n\t\t\t\tfloat chroma = sqrt(yColor.b * yColor.b + yColor.g * yColor.g);\n\t\t\t\t\n\t\t\t\tvec3 yFinalColor = vec3(yColor.r, chroma * cos(finalHue), chroma * sin(finalHue));\n\t\t\t\tgl_FragColor = vec4(yiq2rgb * yFinalColor, 1.0);\n\t\t\t}\n\t\t",!0),this.setHue(t,!1)};r["com.stencyl.graphics.shaders.HueShader"]=Di,Di.__name__="com.stencyl.graphics.shaders.HueShader",Di.__super__=Pi,Di.prototype=i(Pi.prototype,{setHue:function(t,e){null==e&&(e=!0),e&&(t*=Math.PI/180),this.setProperty("hue",t)},__class__:Di});var Li=function(t){this.model=new Oi(this,t,!0)};r["com.stencyl.graphics.shaders.InlineShader"]=Li,Li.__name__="com.stencyl.graphics.shaders.InlineShader",Li.__super__=Pi,Li.prototype=i(Pi.prototype,{__class__:Li});var Ni=function(){this.model=new Oi(this,"\n\t\t\t#ifdef GL_ES\n\t\t\t\tprecision mediump float;\n\t\t\t#endif\n\t\t\t\n\t\t\tvarying vec2 vTexCoord;\n\t\t\tuniform sampler2D uImage0;\n\t\t\t\n\t\t\tvoid main(void)\n\t\t\t{\n\t\t\t\tvec4 color = texture2D(uImage0, vTexCoord);\n\t\t\t\tgl_FragColor = vec4(vec3(1.0, 1.0, 1.0) - color.rgb, color.a);\n\t\t\t}\n\t\t",!0)};r["com.stencyl.graphics.shaders.InvertShader"]=Ni,Ni.__name__="com.stencyl.graphics.shaders.InvertShader",Ni.__super__=Pi,Ni.prototype=i(Pi.prototype,{__class__:Ni});var Oi=function(t,e,i){if(null==i&&(i=!1),this.timeScale=1,this.time=0,k.call(this),this.__drawableType=3,this.basicShader=t,this.gl=Ge.stage.__renderer.gl,this.uniforms=new pr,this.changedUniforms=[],this.uniformTweens=new pr,this.rebuild(),this.gl.checkFramebufferStatus(36160),this.buffer=this.gl.createBuffer(),this.gl.bindBuffer(34962,this.buffer),t=null!=(t=[-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,-1,1,0,1,1,1,1,-1,1,0,1])?new Float32Array(t):null,Ol.bufferData(this.gl,34962,t,35044),this.gl.bindBuffer(34962,null),i)this.fullScreenShader=new Ui([{src:"\n#ifdef GL_ES\n\tprecision mediump float;\n#endif\n\nattribute vec4 aVertex;\n\nattribute vec2 aTexCoord;\nvarying vec2 vTexCoord;\n\nvoid main() {\n\tvTexCoord = aTexCoord;\n\tgl_Position = vec4(aVertex.x, aVertex.y, 0.0, 1.0);\n}",fragment:!1},{src:e,fragment:!0}]);else if(6<e.length&&".glslx"==c.substr(e,-6,null)){if((i=O.parse(km.getText(e)).firstElement()).nodeType!=O.Document&&i.nodeType!=O.Element)throw wa.thrown("Invalid nodeType "+(null==i.nodeType?"null":N.toString(i.nodeType)));e=oo.resolve(i,"vertex")?lo.get_innerData(ao.resolve(i,"vertex")):"\n#ifdef GL_ES\n\tprecision mediump float;\n#endif\n\nattribute vec4 aVertex;\n\nattribute vec2 aTexCoord;\nvarying vec2 vTexCoord;\n\nvoid main() {\n\tvTexCoord = aTexCoord;\n\tgl_Position = vec4(aVertex.x, aVertex.y, 0.0, 1.0);\n}",i=lo.get_innerData(ao.resolve(i,"fragment")),this.fullScreenShader=new Ui([{src:e,fragment:!1},{src:i,fragment:!0}])}else e=km.getText(e),this.fullScreenShader=new Ui([{src:"\n#ifdef GL_ES\n\tprecision mediump float;\n#endif\n\nattribute vec4 aVertex;\n\nattribute vec2 aTexCoord;\nvarying vec2 vTexCoord;\n\nvoid main() {\n\tvTexCoord = aTexCoord;\n\tgl_Position = vec4(aVertex.x, aVertex.y, 0.0, 1.0);\n}",fragment:!1},{src:e,fragment:!0}]);this.imageUniform=Wl.context.getUniformLocation(this.fullScreenShader.program,"uImage0"),this.timeUniform=Wl.context.getUniformLocation(this.fullScreenShader.program,"uTime"),this.resolutionUniform=Wl.context.getUniformLocation(this.fullScreenShader.program,"uResolution"),this.resolutionUsUniform=Wl.context.getUniformLocation(this.fullScreenShader.program,"uResolutionUs"),this.vertexSlot=Wl.context.getAttribLocation(this.fullScreenShader.program,"aVertex"),this.texCoordSlot=Wl.context.getAttribLocation(this.fullScreenShader.program,"aTexCoord"),this.addEventListener("renderOpenGL",n(this,this.renderGL))};r["com.stencyl.graphics.shaders.PostProcess"]=Oi,Oi.__name__="com.stencyl.graphics.shaders.PostProcess",Oi.__properties__={get_vertices:"get_vertices",get_isSupported:"get_isSupported"},Oi.get_isSupported=function(){if(!window.WebGLRenderingContext)return!1;if(null!=Wl.context)return!0;var t=window.document.createElement("canvas"),e=t.getContext("webgl");return null==e&&(e=t.getContext("experimental-webgl")),null!=e},Oi.get_vertices=function(){return[-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,-1,1,0,1,1,1,1,-1,1,0,1]},Oi.__super__=k,Oi.prototype=i(k.prototype,{__added:null,__initialized:null,gl:null,__enterFrame:function(t){this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())},renderGL:function(t){var e=t.renderer;if(null!=this.stage&&this.__renderable){var i=(t=Ge.stage).context3D;for(e.__setBlendMode(null),null==this.basicShader.multipassTarget?i.setRenderToBackBuffer():i.setRenderToTexture(this.basicShader.multipassTarget.model.texture),i.clear(),this.time+=Ge.elapsedTime*this.timeScale,Wl.context.useProgram(this.fullScreenShader.program),this.gl.enableVertexAttribArray(this.vertexSlot),this.gl.enableVertexAttribArray(this.texCoordSlot),this.gl.activeTexture(33984),this.gl.bindTexture(3553,this.texture.__getTexture()),"opengl"==t.window.context.type&&this.gl.enable(3553),this.gl.bindBuffer(34962,this.buffer),this.gl.vertexAttribPointer(this.vertexSlot,2,5126,!1,16,0),this.gl.vertexAttribPointer(this.texCoordSlot,2,5126,!1,16,8),this.gl.uniform1i(this.imageUniform,0),this.gl.uniform1f(this.timeUniform,this.time),this.gl.uniform2f(this.resolutionUniform,0|t.stageWidth,0|t.stageHeight),this.gl.uniform2f(this.resolutionUsUniform,t.stageWidth/(Ge.SCALE*Ge.screenScaleX)|0,t.stageHeight/(Ge.SCALE*Ge.screenScaleY)|0),e=this.changedUniforms.length;0<e--;){var s=this.changedUniforms.pop();if(s.value instanceof Array){if(0!=s.value.length){var n=this.gl,r=s.id;s=null!=(s=s.value)?new Float32Array(s):null,n.uniform1fv(r,s)}}else this.gl.uniform1f(s.id,s.value)}this.gl.drawArrays(4,0,6),this.gl.bindBuffer(34962,null),"opengl"==t.window.context.type&&this.gl.disable(3553),this.gl.bindTexture(3553,null),this.gl.disableVertexAttribArray(this.vertexSlot),this.gl.disableVertexAttribArray(this.texCoordSlot),i.__contextState.program=null,i.__flushGLProgram(),i.__contextState.__currentGLElementArrayBuffer=null}},setUniform:function(t,e){if(Object.prototype.hasOwnProperty.call(this.uniforms.h,t))(t=this.uniforms.h[t]).value=e,this.changedUniforms.push(t);else{var i=Wl.context.getUniformLocation(this.fullScreenShader.program,t);i!=Oi.UNIFORM_NOT_FOUND&&(e={id:i,value:e},this.uniforms.h[t]=e,this.changedUniforms.push(e))}},getUniform:function(t){return Object.prototype.hasOwnProperty.call(this.uniforms.h,t)?this.uniforms.h[t].value:-1},tweenUniform:function(t,e,i,s){null==i&&(i=1);var n=this;if(Object.prototype.hasOwnProperty.call(this.uniforms.h,t)){var r=this.uniforms.h[t],a=this.uniformTweens.h[t];null==a&&((a=new fa).doOnUpdate(function(){r.value=a.value,n.changedUniforms.push(r)}),this.uniformTweens.h[t]=a),a.tween(r.value,e,s,1e3*i|0)}},rebuild:function(){null!=this.texture&&this.texture.dispose(),this.texture=Ge.stage.context3D.createRectangleTexture(0|L.windowWidth,0|L.windowHeight,1,!0),this.texture.__context.__bindGLTexture2D(this.texture.__textureID),this.texture.__setSamplerState(new Cu),Ol.texImage2D(this.gl,this.texture.__textureTarget,0,this.texture.__internalFormat,this.texture.__width,this.texture.__height,0,this.gl.RGB,this.gl.UNSIGNED_BYTE,null),this.texture.__context.__bindGLTexture2D(null)},createTexture:function(t,e){this.texture=Ge.stage.context3D.createRectangleTexture(t,e,1,!0),this.texture.__context.__bindGLTexture2D(this.texture.__textureID),this.texture.__setSamplerState(new Cu),Ol.texImage2D(this.gl,this.texture.__textureTarget,0,this.texture.__internalFormat,this.texture.__width,this.texture.__height,0,this.gl.RGB,this.gl.UNSIGNED_BYTE,null),this.texture.__context.__bindGLTexture2D(null)},capture:function(){Ge.stage.context3D.setRenderToTexture(this.texture);var t=this.texture.__getGLFramebuffer(!1,0,0);this.gl.bindFramebuffer(36160,t),this.gl.clear(16640),null!=Ge.stage&&null!=Ge.stage.__renderer&&(Ge.stage.__renderer.__cleared=!0)},texture:null,fullScreenShader:null,buffer:null,basicShader:null,time:null,timeScale:null,vertexSlot:null,texCoordSlot:null,imageUniform:null,resolutionUniform:null,resolutionUsUniform:null,timeUniform:null,uniforms:null,changedUniforms:null,uniformTweens:null,__class__:Oi});var Vi=function(t){null==t&&(t=1),this.model=new Oi(this,"\n\t\t\t#ifdef GL_ES\n\t\t\t\tprecision mediump float;\n\t\t\t#endif\n\t\t\t\n\t\t\tvarying vec2 vTexCoord;\n\t\t\tuniform vec2 uResolution;\n\t\t\tuniform sampler2D uImage0;\n\t\t\t\n\t\t\tuniform float scale;\n\t\t\t\n\t\t\tvoid main()\n\t\t\t{\n\t\t\t\tif (mod(floor(vTexCoord.y * uResolution.y / scale), 2.0) == 0.0)\n\t\t\t\t\tgl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n\t\t\t\telse\n\t\t\t\t\tgl_FragColor = texture2D(uImage0, vTexCoord);\n\t\t\t}\n\t\t",!0),this.setScale(t)};r["com.stencyl.graphics.shaders.ScanlineShader"]=Vi,Vi.__name__="com.stencyl.graphics.shaders.ScanlineShader",Vi.__super__=Pi,Vi.prototype=i(Pi.prototype,{setScale:function(t){this.setProperty("scale",t)},__class__:Vi});var Gi=function(){this.model=new Oi(this,"\n\t\t\t#ifdef GL_ES\n\t\t\t\tprecision mediump float;\n\t\t\t#endif\n\t\t\t\n\t\t\tvarying vec2 vTexCoord;\n\t\t\tuniform sampler2D uImage0;\n\t\t\t\n\t\t\tvoid main(void)\n\t\t\t{\n\t\t\t\tvec4 color = texture2D(uImage0, vTexCoord);\n\t\t\t\tgl_FragColor.r = dot(color, vec4(0.393,0.769,0.189,0));\n\t\t\t\tgl_FragColor.g = dot(color, vec4(0.349,0.686,0.168,0));\n\t\t\t\tgl_FragColor.b = dot(color, vec4(0.272,0.534,0.131,0));\n\t\t\t\tgl_FragColor.a = color.a;\n\t\t\t}\n\t\t",!0)};r["com.stencyl.graphics.shaders.SepiaShader"]=Gi,Gi.__name__="com.stencyl.graphics.shaders.SepiaShader",Gi.__super__=Pi,Gi.prototype=i(Pi.prototype,{__class__:Gi});var Ui=function(t){this.program=Wl.context.createProgram();for(var e=0;e<t.length;){var i=t[e];if(++e,null==(i=this.compile(i.src,i.fragment?35632:35633)))return;Wl.context.attachShader(this.program,i),Wl.context.deleteShader(i)}Wl.context.linkProgram(this.program),Wl.context.getProgramParameter(this.program,35714)};r["com.stencyl.graphics.shaders.Shader"]=Ui,Ui.__name__="com.stencyl.graphics.shaders.Shader",Ui.prototype={compile:function(t,e){return e=Wl.context.createShader(e),Wl.context.shaderSource(e,t),Wl.context.compileShader(e),0==Wl.context.getShaderParameter(e,35713)?null:e},attribute:function(t){return Wl.context.getAttribLocation(this.program,t)},uniform:function(t){return Wl.context.getUniformLocation(this.program,t)},bind:function(){Wl.context.useProgram(this.program)},program:null,__class__:Ui};var zi=function(t){null==t&&(t=2),this.model=new Oi(this,"\n\t\t\t#ifdef GL_ES\n\t\t\t\tprecision mediump float;\n\t\t\t#endif\n\t\t\t\n\t\t\tvarying vec2 vTexCoord;\n\t\t\tuniform sampler2D uImage0;\n\t\t\tuniform vec2 uResolution;\n\t\t\t\n\t\t\tuniform float amount;\n\t\t\t\n\t\t\tvoid main()\n\t\t\t{\n\t\t\t\t//this will be our RGBA sum\n\t\t\t\tvec4 sum = vec4(0.0);\n\t\t\t\t\n\t\t\t\t//our original texcoord for this fragment\n\t\t\t\tvec2 tc = vTexCoord;\n\t\t\t\t\n\t\t\t\tfloat reach = 1.0 / uResolution.x;\n\n\t\t\t\t//current pixel\n\t\t\t\tsum += texture2D(uImage0, vec2(tc.x, tc.y));\n\t\t\t\t\n\t\t\t\t//sharpen\n\t\t\t\tsum += (texture2D(uImage0, vec2(tc.x, tc.y)) - texture2D(uImage0, vec2(tc.x + 1.0 * reach, tc.y))) * amount;\n\t\t\t\tsum += (texture2D(uImage0, vec2(tc.x, tc.y)) - texture2D(uImage0, vec2(tc.x - 1.0 * reach, tc.y))) * amount;\n\t\t\t\tsum += (texture2D(uImage0, vec2(tc.x, tc.y)) - texture2D(uImage0, vec2(tc.x, tc.y + 1.0 * reach))) * amount;\n\t\t\t\tsum += (texture2D(uImage0, vec2(tc.x, tc.y)) - texture2D(uImage0, vec2(tc.x, tc.y - 1.0 * reach))) * amount;\n\t\t\t\t\n\t\t\t\tgl_FragColor = vec4(sum.rgb, 1.0);\n\t\t\t}\n\t\t",!0),this.setAmount(t)};r["com.stencyl.graphics.shaders.SharpenShader"]=zi,zi.__name__="com.stencyl.graphics.shaders.SharpenShader",zi.__super__=Pi,zi.prototype=i(Pi.prototype,{setAmount:function(t){this.setProperty("amount",t)},__class__:zi});var Hi=function(t,e){null==e&&(e=1),this.model=new Oi(this,"\n\t\t\t#ifdef GL_ES\n\t\t\t\tprecision mediump float;\n\t\t\t#endif\n\n\t\t\tvarying vec2 vTexCoord;\n\t\t\tuniform sampler2D uImage0;\n\t\t\tuniform float amount;\n\t\t\tuniform float red;\n\t\t\tuniform float green;\n\t\t\tuniform float blue;\n\n\t\t\tvec3 _mix(vec3 a, vec3 b, float amount) \n\t\t\t{ \n\t\t\t\treturn vec3(a.x * (1.0 - amount) + b.x * amount, a.y * (1.0 - amount) + b.y * amount, a.z * (1.0 - amount) + b.z * amount); \n\t\t\t}\n\n\t\t\tvoid main() \n\t\t\t{\n\t\t\t\tvec3 color = texture2D(uImage0, vTexCoord).rgb;\n\t\t\t\tvec3 endColor = _mix(color, vec3(red, green, blue), amount);\n\t\t\t\tgl_FragColor = vec4(endColor.x, endColor.y, endColor.z, 1);\n\t\t\t}\n\t\t",!0),this.setColor(t),this.setAmount(e)};r["com.stencyl.graphics.shaders.TintShader"]=Hi,Hi.__name__="com.stencyl.graphics.shaders.TintShader",Hi.__super__=Pi,Hi.prototype=i(Pi.prototype,{setAmount:function(t){this.setProperty("amount",t)},setColor:function(t){this.setProperty("red",(t>>16&255)/255),this.setProperty("green",(t>>8&255)/255),this.setProperty("blue",(255&t)/255)},__class__:Hi});var Wi=function(t){this.duration=t,this.complete=this.active=!1,0==t&&(this.active=this.complete=!0)};r["com.stencyl.graphics.transitions.Transition"]=Wi,Wi.__name__="com.stencyl.graphics.transitions.Transition",Wi.prototype={duration:null,direction:null,active:null,complete:null,start:function(){},reset:function(){this.complete=!1},stop:function(){this.complete=!0},deactivate:function(){this.active=!1},cleanup:function(){},isActive:function(){return this.active},isComplete:function(){return this.complete},update:function(t){},draw:function(t){},getDuration:function(){return this.duration},__class__:Wi};var Xi=function(t,e,i,s){null==i&&(i=10),Wi.call(this,e),this.color=s,this.direction=t,this.numBlinds=i,t==Wi.IN?(this.beginBlindWidth=Ge.screenWidth*Ge.SCALE/i,this.endBlindWidth=0):t==Wi.OUT?(this.beginBlindWidth=0,this.endBlindWidth=Ge.screenWidth*Ge.SCALE/i):this.complete=!0};r["com.stencyl.graphics.transitions.BlindsTransition"]=Xi,Xi.__name__="com.stencyl.graphics.transitions.BlindsTransition",Xi.__super__=Wi,Xi.prototype=i(Wi.prototype,{color:null,numBlinds:null,blindWidth:null,beginBlindWidth:null,endBlindWidth:null,blindRect:null,rect:null,graphics:null,start:function(){this.active=!0,this.blindRect=new je(0,0,this.beginBlindWidth,Ge.screenHeight*Ge.SCALE),this.blindWidth=new fa,this.rect=new Rc,this.graphics=this.rect.get_graphics(),this.direction==Wi.IN&&(this.graphics.beginFill(this.color),this.graphics.drawRect(0,0,Ge.screenWidth*Ge.SCALE,Ge.screenHeight*Ge.SCALE),this.graphics.endFill()),Ge.engine.transitionLayer.addChild(this.rect),this.blindWidth.tween(this.beginBlindWidth,this.endBlindWidth,da.linear,1e3*this.duration|0).doOnComplete(n(this,this.stop))},draw:function(t){this.graphics.clear(),this.graphics.beginFill(this.color),this.blindRect.x=0,this.blindRect.width=this.blindWidth.value,this.direction==Wi.IN&&(this.blindRect.x+=Ge.screenWidth*Ge.SCALE/this.numBlinds-this.blindWidth.value),t=0;for(var e=this.numBlinds;t<e;)t++,this.graphics.drawRect(this.blindRect.x,this.blindRect.y,this.blindRect.width,this.blindRect.height),this.blindRect.x+=Ge.screenWidth*Ge.SCALE/this.numBlinds;this.graphics.endFill()},cleanup:function(){null!=this.rect&&(Ge.engine.transitionLayer.removeChild(this.rect),this.rect=null)},__class__:Xi});var Yi=function(t,e,i,s){null==s&&(s=-16777216),null==i&&(i=50),Wi.call(this,e),this.color=s,this.direction=t,this.numBubbles=i};r["com.stencyl.graphics.transitions.BubblesTransition"]=Yi,Yi.__name__="com.stencyl.graphics.transitions.BubblesTransition",Yi.__super__=Wi,Yi.prototype=i(Wi.prototype,{color:null,numBubbles:null,radius:null,beginRadius:null,endRadius:null,rect:null,graphics:null,drawBitmap:null,bubblePositions:null,bubbleRect:null,screenWidth:null,screenHeight:null,start:function(){this.active=!0,this.rect=new Rc,this.graphics=this.rect.get_graphics(),this.screenWidth=Ge.screenWidth*Ge.SCALE|0,this.screenHeight=Ge.screenHeight*Ge.SCALE|0,this.direction==Wi.IN&&(this.graphics.beginFill(this.color),this.graphics.drawRect(0,0,this.screenWidth,this.screenHeight),this.graphics.endFill()),this.drawBitmap=new O_(this.screenWidth,this.screenHeight);var t=this.screenWidth/this.screenHeight,e=0|Math.sqrt(this.numBubbles/t),i=this.screenHeight/e;t=Math.ceil(e*t|0),e=Math.ceil(e);var s=t*i-this.screenWidth|0,r=new je(-s/2,-(e*i-this.screenHeight|0)/2,i,i);this.bubblePositions=[];for(var a=0;a<e;){a++;for(var o=0,l=t;o<l;)o++,this.bubblePositions.push(new Ye(r.x+Math.floor(Math.random()*(i+1)),r.y+Math.floor(Math.random()*(i+1)))),r.x+=i;r.x=-s/2,r.y+=i}this.beginRadius=0,this.endRadius=Math.ceil(Ye.distance(new Ye(0,0),new Ye(i,i))),this.radius=new fa,Ge.engine.transitionLayer.addChild(this.rect),this.radius.tween(this.beginRadius,this.endRadius,da.linear,1e3*this.duration|0).doOnComplete(n(this,this.stop))},draw:function(t){if(this.graphics.clear(),this.direction==Wi.IN){this.drawBitmap.draw(Ge.engine.colorLayer),this.drawBitmap.draw(Ge.engine.master),this.graphics.beginFill(this.color),this.graphics.drawRect(0,0,this.screenWidth,this.screenHeight),this.graphics.endFill(),t=0;for(var e=this.bubblePositions;t<e.length;){var i=e[t];++t,this.graphics.beginBitmapFill(this.drawBitmap),this.graphics.drawCircle(i.x,i.y,this.radius.value),this.graphics.endFill()}}else if(this.direction==Wi.OUT)for(t=0,e=this.bubblePositions;t<e.length;)i=e[t],++t,this.graphics.beginFill(this.color),this.graphics.drawCircle(i.x,i.y,this.radius.value),this.graphics.endFill()},cleanup:function(){null!=this.rect&&(Ge.engine.transitionLayer.removeChild(this.rect),this.rect=null)},__class__:Yi});var ji=function(t,e,i){null==i&&(i=-16777216),Wi.call(this,e),this.color=i,this.direction=t,t==Wi.IN?(this.beginRadius=0,this.endRadius=0|Math.ceil(Ye.distance(new Ye(0,0),new Ye(Ge.screenWidthHalf*Ge.SCALE,Ge.screenHeightHalf*Ge.SCALE)))):t==Wi.OUT&&(this.beginRadius=0|Math.ceil(Ye.distance(new Ye(0,0),new Ye(Ge.screenWidthHalf*Ge.SCALE,Ge.screenHeightHalf*Ge.SCALE))),this.endRadius=0)};r["com.stencyl.graphics.transitions.CircleTransition"]=ji,ji.__name__="com.stencyl.graphics.transitions.CircleTransition",ji.__super__=Wi,ji.prototype=i(Wi.prototype,{color:null,radius:null,beginRadius:null,endRadius:null,circleImg:null,s:null,start:function(){if(this.active=!0,this.s=new Rc,this.circleImg=new O_(Ge.screenWidth*Ge.SCALE|0,Ge.screenHeight*Ge.SCALE|0),this.radius=new fa,this.direction==Wi.IN){var t=this.s.get_graphics();t.beginFill(this.color),t.drawRect(0,0,Ge.screenWidth*Ge.SCALE,Ge.screenHeight*Ge.SCALE),t.endFill()}Ge.engine.transitionLayer.addChild(this.s),this.radius.tween(this.beginRadius,this.endRadius,da.linear,1e3*this.duration|0).doOnComplete(n(this,this.stop))},draw:function(t){this.s.get_graphics().clear(),this.s.get_graphics().beginFill(this.color),this.s.get_graphics().drawRect(0,0,Ge.screenWidth*Ge.SCALE,Ge.screenHeight*Ge.SCALE),this.s.get_graphics().endFill(),this.circleImg.draw(Ge.engine.colorLayer),this.circleImg.draw(Ge.engine.master),this.s.get_graphics().beginBitmapFill(this.circleImg),this.s.get_graphics().drawCircle(Ge.screenWidthHalf*Ge.SCALE,Ge.screenHeightHalf*Ge.SCALE,this.radius.value),this.s.get_graphics().endFill()},cleanup:function(){null!=this.s&&(Ge.engine.transitionLayer.removeChild(this.s),this.s=null)},__class__:ji});var Ki=function(t,e){Wi.call(this,e),this.oldImg=t};r["com.stencyl.graphics.transitions.CrossfadeTransition"]=Ki,Ki.__name__="com.stencyl.graphics.transitions.CrossfadeTransition",Ki.__super__=Wi,Ki.prototype=i(Wi.prototype,{oldImg:null,bitmap:null,rect:null,rectAlpha:null,start:function(){this.active=!0,this.bitmap=new O_(Ge.screenWidth*Ge.SCALE|0,Ge.screenHeight*Ge.SCALE|0),this.bitmap.draw(this.oldImg),this.rect=new Rc;var t=this.rect.get_graphics();t.beginBitmapFill(this.bitmap),t.drawRect(0,0,Ge.screenWidth*Ge.SCALE,Ge.screenHeight*Ge.SCALE),t.endFill(),Ge.engine.transitionLayer.addChild(this.rect),this.rectAlpha=new fa,this.rectAlpha.tween(1,0,da.linear,1e3*this.duration|0).doOnComplete(n(this,this.stop))},update:function(t){this.rect.set_alpha(this.rectAlpha.value)},draw:function(t){},cleanup:function(){this.bitmap=this.oldImg=null,null!=this.rect&&(Ge.engine.transitionLayer.removeChild(this.rect),this.rect=null)},__class__:Ki});var Ji=function(t,e){null==e&&(e=-16777216),Wi.call(this,t),this.color=e,this.direction=Wi.IN};r["com.stencyl.graphics.transitions.FadeInTransition"]=Ji,Ji.__name__="com.stencyl.graphics.transitions.FadeInTransition",Ji.__super__=Wi,Ji.prototype=i(Wi.prototype,{color:null,rect:null,rectAlpha:null,start:function(){this.active=!0,this.rect=new Rc;var t=this.rect.get_graphics();t.beginFill(this.color),t.drawRect(0,0,Ge.screenWidth*Ge.SCALE+4,Ge.screenHeight*Ge.SCALE+4),t.endFill(),t.drawCircle(1,1,1),Ge.engine.transitionLayer.addChild(this.rect),this.rectAlpha=new fa,this.rectAlpha.tween(1,0,da.linear,1e3*this.duration|0).doOnComplete(n(this,this.stop))},update:function(t){this.rect.set_alpha(this.rectAlpha.value)},cleanup:function(){null!=this.rect&&(Ge.engine.transitionLayer.removeChild(this.rect),this.rect=null)},__class__:Ji});var Zi=function(t,e){null==e&&(e=-16777216),Wi.call(this,t),this.color=e,this.direction=Wi.IN};r["com.stencyl.graphics.transitions.FadeOutTransition"]=Zi,Zi.__name__="com.stencyl.graphics.transitions.FadeOutTransition",Zi.__super__=Wi,Zi.prototype=i(Wi.prototype,{color:null,rect:null,rectAlpha:null,start:function(){this.active=!0,this.rect=new Rc,this.rect.set_alpha(0);var t=this.rect.get_graphics();t.beginFill(this.color),t.drawRect(0,0,Ge.screenWidth*Ge.SCALE+4,Ge.screenHeight*Ge.SCALE+4),t.endFill(),t.drawCircle(1,1,1),Ge.engine.transitionLayer.addChild(this.rect),this.rectAlpha=new fa,this.rectAlpha.tween(0,1,da.linear,1e3*this.duration|0).doOnComplete(n(this,this.stop))},update:function(t){this.rect.set_alpha(this.rectAlpha.value)},cleanup:function(){null!=this.rect&&(Ge.engine.transitionLayer.removeChild(this.rect),this.rect=null)},__class__:Zi});var Qi=function(t,e,i){Wi.call(this,t),this.beginPixelSize=e,this.endPixelSize=i};r["com.stencyl.graphics.transitions.PixelizeTransition"]=Qi,Qi.__name__="com.stencyl.graphics.transitions.PixelizeTransition",Qi.__super__=Wi,Qi.prototype=i(Wi.prototype,{pixelSizeTween:null,beginPixelSize:null,endPixelSize:null,srcImg:null,displayImg:null,displayBitmap:null,c:null,r:null,xOverflow:null,yOverflow:null,pixelRect:null,halfSize:null,start:function(){this.active=!0,this.srcImg=new O_(Ge.screenWidth*Ge.SCALE|0,Ge.screenHeight*Ge.SCALE|0),this.displayImg=new O_(Ge.screenWidth*Ge.SCALE|0,Ge.screenHeight*Ge.SCALE|0),this.pixelRect=new je(0,0,0,0),Ge.engine.transitionLayer.addChild(this.displayBitmap=new di(this.displayImg)),this.pixelSizeTween=new fa,this.pixelSizeTween.tween(this.beginPixelSize,this.endPixelSize,da.linear,1e3*this.duration|0).doOnComplete(n(this,this.stop))},draw:function(t){if(1==(t=0|this.pixelSizeTween.value))this.displayImg.draw(Ge.engine.colorLayer),this.displayImg.draw(Ge.engine.master);else{this.srcImg.draw(Ge.engine.colorLayer),this.srcImg.draw(Ge.engine.master),this.c=Math.ceil(Ge.screenWidth*Ge.SCALE/t),this.r=Math.ceil(Ge.screenHeight*Ge.SCALE/t),this.xOverflow=this.c*t-Ge.screenWidth*Ge.SCALE|0,this.yOverflow=this.r*t-Ge.screenHeight*Ge.SCALE|0,this.pixelRect.x=-this.xOverflow/2,this.pixelRect.y=-this.yOverflow/2,this.pixelRect.height=this.pixelRect.width=t,this.halfSize=t/2|0,this.displayImg.lock();for(var e=0,i=this.r;e<i;){e++;for(var s=0,n=this.c;s<n;){s++;for(var r=this.srcImg.getPixel32(this.pixelRect.x+this.halfSize|0,this.pixelRect.y+this.halfSize|0),a=0|this.pixelRect.x,o=this.pixelRect.x+this.pixelRect.width|0;a<o;)for(var l=a++,h=0|this.pixelRect.y,_=this.pixelRect.y+this.pixelRect.height|0;h<_;){var c=h++;this.displayImg.setPixel32(l,c,r)}this.pixelRect.x+=t}this.pixelRect.x=-this.xOverflow/2,this.pixelRect.y+=t}this.displayImg.unlock()}},cleanup:function(){null!=this.displayBitmap&&Ge.engine.transitionLayer.removeChild(this.displayBitmap)},__class__:Qi});var qi=function(t,e,i){Wi.call(this,e),this.color=i,this.direction=t,t==Wi.IN?(this.beginHeight=this.beginWidth=0,this.endWidth=Ge.screenWidth*Ge.SCALE|0,this.endHeight=Ge.screenHeight*Ge.SCALE|0):t==Wi.OUT?(this.beginWidth=Ge.screenWidth*Ge.SCALE|0,this.beginHeight=Ge.screenHeight*Ge.SCALE|0,this.endHeight=this.endWidth=0):this.complete=!0};r["com.stencyl.graphics.transitions.RectangleTransition"]=qi,qi.__name__="com.stencyl.graphics.transitions.RectangleTransition",qi.__super__=Wi,qi.prototype=i(Wi.prototype,{rectangleImg:null,graphics:null,color:null,size:null,beginWidth:null,endWidth:null,beginHeight:null,endHeight:null,rect:null,start:function(){this.active=!0,this.size=new ga,this.rectangleImg=new O_(Ge.screenWidth*Ge.SCALE|0,Ge.screenHeight*Ge.SCALE|0),this.rect=new Rc,this.graphics=this.rect.get_graphics(),this.direction==Wi.IN&&(this.graphics.beginFill(this.color),this.graphics.drawRect(0,0,Ge.screenWidth*Ge.SCALE,Ge.screenHeight*Ge.SCALE),this.graphics.endFill()),Ge.engine.transitionLayer.addChild(this.rect),this.size.onComplete=n(this,this.stop),this.size.tween(this.beginWidth,this.endWidth,this.beginHeight,this.endHeight,da.linear,1e3*this.duration|0)},draw:function(t){this.graphics.clear(),this.graphics.beginFill(this.color),this.graphics.drawRect(0,0,Ge.screenWidth*Ge.SCALE,Ge.screenHeight*Ge.SCALE),this.graphics.endFill(),this.rectangleImg.draw(Ge.engine.colorLayer),this.rectangleImg.draw(Ge.engine.master),this.graphics.beginBitmapFill(this.rectangleImg),this.graphics.drawRect((Ge.screenWidth*Ge.SCALE-this.size.value1)/2,(Ge.screenHeight*Ge.SCALE-this.size.value2)/2,this.size.value1,this.size.value2),this.graphics.endFill()},cleanup:function(){null!=this.rect&&(Ge.engine.transitionLayer.removeChild(this.rect),this.rect=null)},__class__:qi});var $i=function(t,e,i,s){Wi.call(this,i),this.sceneSpr=t,this.sceneCol=e,this.oldSceneMatrix=new yr,this.newSceneMatrix=new yr,this.ty=this.tx=0,s==$i.SLIDE_UP?(this.newSceneMatrix.ty=-Ge.screenHeight*Ge.SCALE,this.ty=Ge.screenHeight*Ge.SCALE):s==$i.SLIDE_DOWN?(this.newSceneMatrix.ty=Ge.screenHeight*Ge.SCALE,this.ty=-Ge.screenHeight*Ge.SCALE):s==$i.SLIDE_LEFT?(this.newSceneMatrix.tx=-Ge.screenWidth*Ge.SCALE,this.tx=Ge.screenWidth*Ge.SCALE):s==$i.SLIDE_RIGHT?(this.newSceneMatrix.tx=Ge.screenWidth*Ge.SCALE,this.tx=-Ge.screenWidth*Ge.SCALE):this.complete=!0};r["com.stencyl.graphics.transitions.SlideTransition"]=$i,$i.__name__="com.stencyl.graphics.transitions.SlideTransition",$i.__super__=Wi,$i.prototype=i(Wi.prototype,{sceneSpr:null,sceneCol:null,oldBitmap:null,newBitmap:null,drawBitmap:null,graphics:null,oldSceneMatrix:null,newSceneMatrix:null,osm_xy:null,nsm_xy:null,tx:null,ty:null,rect:null,start:function(){this.active=!0,this.oldBitmap=new O_(Ge.screenWidth*Ge.SCALE|0,Ge.screenHeight*Ge.SCALE|0),this.oldBitmap.draw(this.sceneCol),this.oldBitmap.draw(this.sceneSpr),this.newBitmap=new O_(Ge.screenWidth*Ge.SCALE|0,Ge.screenHeight*Ge.SCALE|0),this.drawBitmap=new O_(Ge.screenWidth*Ge.SCALE|0,Ge.screenHeight*Ge.SCALE|0),this.rect=new Rc,this.graphics=this.rect.get_graphics(),this.graphics.beginBitmapFill(this.oldBitmap),this.graphics.drawRect(0,0,Ge.screenWidth*Ge.SCALE,Ge.screenHeight*Ge.SCALE),this.graphics.endFill(),Ge.engine.transitionLayer.addChild(this.rect),this.osm_xy=new ga,this.nsm_xy=new ga,this.osm_xy.tween(this.oldSceneMatrix.tx,this.tx,this.oldSceneMatrix.ty,this.ty,da.linear,1e3*this.duration|0),this.nsm_xy.tween(this.newSceneMatrix.tx,0,this.newSceneMatrix.ty,0,da.linear,1e3*this.duration|0),this.nsm_xy.doOnComplete(n(this,this.stop))},update:function(t){this.oldSceneMatrix.tx=this.osm_xy.value1,this.oldSceneMatrix.ty=this.osm_xy.value2,this.newSceneMatrix.tx=this.nsm_xy.value1,this.newSceneMatrix.ty=this.nsm_xy.value2},draw:function(t){this.graphics.clear(),this.newBitmap.draw(this.sceneCol),this.newBitmap.draw(this.sceneSpr),this.drawBitmap.draw(this.newBitmap,this.newSceneMatrix),this.drawBitmap.draw(this.oldBitmap,this.oldSceneMatrix),this.graphics.beginBitmapFill(this.drawBitmap),this.graphics.drawRect(0,0,Ge.screenWidth*Ge.SCALE,Ge.screenHeight*Ge.SCALE),this.graphics.endFill()},cleanup:function(){this.sceneSpr=null,null!=this.rect&&(Ge.engine.transitionLayer.removeChild(this.rect),this.rect=null)},__class__:$i});var ts=function(){};r["com.stencyl.io.AbstractReader"]=ts,ts.__name__="com.stencyl.io.AbstractReader",ts.__isInterface__=!0,ts.prototype={accepts:null,read:null,__class__:ts};var es=function(){};r["com.stencyl.io.ActorTypeReader"]=es,es.__name__="com.stencyl.io.ActorTypeReader",es.__interfaces__=[ts],es.prototype={accepts:function(t){return t==As.MBS_ACTOR_TYPE.getName()},read:function(t){var e=t.getId(),i=t.getAtlasID(),s=t.getName(),n=new Pt;switch(n.fixedRotation=t.getFixedRotation(),t.getBodyType()){case 0:var r=Mt.b2_staticBody;break;case 1:r=Mt.b2_kinematicBody;break;default:r=Mt.b2_dynamicBody}n.type=r,n.linearDamping=t.getLinearDamping(),n.angularDamping=t.getAngularDamping(),n.friction=t.getFriction(),n.bounciness=t.getRestitution(),n.mass=t.getMass(),n.aMass=t.getInertia(),n.active=!0,n.bullet=!1,n.allowSleep=!1,n.awake=!0,n.ignoreGravity=t.getIgnoreGravity(),n.bullet=t.getContinuous(),r=t.getSprite();var a=t.getGroupID(),o=t.getPhysicsMode(),l=t.getAutoScale(),h=t.getPausable(),_=n.ignoreGravity||n.type==Mt.b2_staticBody||n.type==Mt.b2_kinematicBody,c=is.readBehaviors(t.getSnippets());if(-1<(t=t.getEventSnippetID())){var u=new qe(t,new pr);c.h[""+t]=u}return new Pn(e,i,s,a,r,c,n,o,l,h,_)},__class__:es};var is=function(){};r["com.stencyl.io.AttributeValues"]=is,is.__name__="com.stencyl.io.AttributeValues",is.readBehaviors=function(t){for(var e=new pr,i=0,s=t.length();i<s;){i++;var n=t.getNextObject();if(n.getEnabled()){var r=n.getId();n=is.readBehaviorProperties(n.getProperties()),n=new qe(r,n),e.h[""+r]=n}}return e},is.readBehaviorProperties=function(t){for(var e=new pr,i=0,s=t.length();i<s;){i++;var n=t.getNextObject(),r=n.getId(),a=n.getType();n=is.readAttribute(a,n),e.h[""+r]=n}return e},is.readAttribute=function(t,e){switch(t){case"list":return is.readList(e.getValue());case"map":return is.readMap(e.getValue());default:return e.getValue()}},is.readAttributeDef=function(t,e){switch(t){case"list":return is.readList(e.getDefaultValue());case"map":return is.readMap(e.getDefaultValue());default:return e.getDefaultValue()}},is.readList=function(t){if(null==t)return null;for(var e=[],i=0,s=t.length();i<s;)e[i++]=t.readObject();return e},is.readMap=function(t){if(null==t)return null;for(var e=new pr,i=0,s=t.length();i<s;){i++;var n=t.getNextObject(),r=n.getKey();if((n=n.getValue())instanceof P_){for(var a=[],o=0,l=n.length();o<l;)o++,a.push(n.readObject());n=a}else n instanceof S_&&(n=is.readMap(n));e.h[r]=n}return e};var ss=function(){};r["com.stencyl.io.BackgroundReader"]=ss,ss.__name__="com.stencyl.io.BackgroundReader",ss.__interfaces__=[ts],ss.prototype={accepts:function(t){return t==us.MBS_BACKGROUND.getName()},read:function(t){var e=t.getId(),i=t.getAtlasID(),s=t.getName(),n=t.getXVelocity(),r=t.getYVelocity(),a=t.getXParallaxFactor(),o=t.getYParallaxFactor(),l=[];if(0<t.getNumFrames())for(var h=t.getDurations(),_=0,c=h.length();_<c;)_++,l.push(h.readInt());return t=t.getRepeats(),0!=n||0!=r?new Nn(e,i,s,l,a,o,t,n,r):new Ln(e,i,s,l,a,o,t)},__class__:ss};var ns=function(){};r["com.stencyl.io.BehaviorReader"]=ns,ns.__name__="com.stencyl.io.BehaviorReader",ns.readBehavior=function(t){for(var e=t.getId(),i=t.getName(),s=t.getClassname(),n=t.getAttachedEvent(),r=new pr,a=t.getType(),o=0,l=(t=t.getAttributes()).length();o<l;){o++;var h=t.getNextObject(),_=""+h.getId();h=ns.readAttribute(h,n),r.h[_]=h}return new Qe(null,null,e,i,s,!0,!0,r,a,n)},ns.readAttribute=function(t,e){var i=t.getId(),s=t.getName(),n=t.getFullname();e=e||t.getHidden();var r=t.getType();return t=is.readAttributeDef(r,t),new Ze(i,s,n,t,r,null,e)},ns.prototype={__class__:ns};var rs=function(){};r["com.stencyl.io.FontReader"]=rs,rs.__name__="com.stencyl.io.FontReader",rs.__interfaces__=[ts],rs.prototype={accepts:function(t){return t==ps.MBS_FONT.getName()},read:function(t){return new gn(t.getId(),t.getAtlasID(),t.getName(),!1)},__class__:rs};var as=function(){};r["com.stencyl.io.ShapeReader"]=as,as.__name__="com.stencyl.io.ShapeReader",as.readPoint=function(t){return new Ye(t.getX(),t.getY())},as.readPoints=function(t){for(var e=Array(t.length()),i=0,s=t.length();i<s;){var n=i++,r=t.getNextObject();e[n]=new Ye(r.getX(),r.getY())}return e},as.createCircle=function(t,e,i,s,n){null==n&&(n=-1),null==s&&(s=-1);var r=2*t,a=new gt;return a.m_radius=Ge.toPhysicalUnits(t),a.m_p.x=Ge.toPhysicalUnits(e-(s-r)/2),a.m_p.y=Ge.toPhysicalUnits(i-(n-r)/2),a},as.createPolygon=function(t,e,i,s){null==s&&(s=0),null==i&&(i=0);var n=[],r=e.length,a=0;if(i=-i/2|0,s=-s/2|0,"MbsPolygon"==t||"MbsPolyRegion"==t){for(a=0;a<r;){var o=e[a];t=Ge.toPhysicalUnits(o.x+i),o=Ge.toPhysicalUnits(o.y+s),n[a]=new G(t,o),++a}return as.EnsureCorrectVertexDirection(n),vt.asArray(n,n.length)}if("MbsWireframe"==t){for(;a<r;)o=e[a],n.push(new G(Ge.toPhysicalUnits(o.x),Ge.toPhysicalUnits(o.y))),++a;for(e=as.getWidth(n),r=as.getHeight(n),a=[],i=0,s=n.length+1;i<s;){var l=i++;t=new yt(n[l%n.length],n[(l+1)%n.length]),a.push(t),t.m_hasVertex0=!0,t.m_hasVertex3=!0,o=n[(l-1)%n.length],l=n[(l+2)%n.length],null==o&&(o=n[n.length-1]),null==l&&(l=n[0]),t.m_v0=o,t.m_v3=l}return(n=new fr).h[0]=a,n.h[1]=e,n.h[2]=r,n}return null},as.CheckVertexDirection=function(t){if(2<t.length){for(var e=0,i=0;0==e&&i<t.length-2;)e=t[i].winding(t[i+1],t[i+2]),++i;if(0>e)return!1}return!0},as.EnsureCorrectVertexDirection=function(t){return!!as.CheckVertexDirection(t)||(as.ReverseVertices(t),!1)},as.ReverseVertices=function(t){for(var e,i=0,s=t.length-1;s>i;)e=t[i].x,t[i].x=t[s].x,t[s].x=e,e=t[i].y,t[i].y=t[s].y,t[s].y=e,++i,--s},as.getWidth=function(t){for(var e=1e7,i=0,s=0;s<t.length;){var n=t[s];++s,e=Math.min(e,n.x),i=Math.max(i,n.x)}return i-e},as.getHeight=function(t){for(var e=1e7,i=0,s=0;s<t.length;){var n=t[s];++s,e=Math.min(e,n.y),i=Math.max(i,n.y)}return i-e};var os=function(){};r["com.stencyl.io.SoundReader"]=os,os.__name__="com.stencyl.io.SoundReader",os.__interfaces__=[ts],os.prototype={accepts:function(t){return t==fs.MBS_MUSIC.getName()},read:function(t){var e=t.getStream(),i=t.getLoop(),s=t.getPan(),n=t.getVolume(),r=t.getType();return new Rn(t.getId(),t.getName(),e,i,s,n,r,t.getAtlasID())},__class__:os};var ls=function(){};r["com.stencyl.io.SpriteReader"]=ls,ls.__name__="com.stencyl.io.SpriteReader",ls.__interfaces__=[ts],ls.prototype={accepts:function(t){return t==Ps.MBS_SPRITE.getName()},read:function(t){var e=t.getDefaultAnimation(),i=t.getReadableImages();e=new Fn(t.getId(),t.getAtlasID(),t.getName(),e,i),i=0;for(var s=(t=t.getAnimations()).length();i<s;){i++;var n=t.getNextObject();n=this.readAnimation(n,e),e.animations.h[n.animID]=n}return e},readAnimation:function(t,e){for(var i=t.getId(),s=t.getName(),n=t.getWidth(),r=t.getHeight(),a=t.getOriginX(),o=t.getOriginY(),l=t.getNumFrames(),h=t.getAcross(),_=t.getDown(),c=this.readSimpleShapes(t,n/h|0,r/_|0),u=this.readShapes(t,n/h|0,r/_|0),d=t.getLoop(),m=t.getSync(),p=[],f=t.getDurations(),g=0,y=f.length();g<y;)p[t=g++]=f.readInt(),p[t]=Math.floor(p[t]/10),p[t]*=10;return new Cn(i,s,e,c,u,d,m,n,r,a,o,p,l,h,_)},readSimpleShapes:function(t,e,i){e=new fr,i=0;for(var s=(t=t.getShapes()).length();i<s;){i++;var n=t.getNextObject(),r=n.getId(),a=n.getGroupID(),o=n.getSensor();if((n=n.getShape())instanceof en&&4==(n=n.getPoints()).length()){for(var l=n.getNextObject(),h=0,_=1e7,c=1e7,u=0,d=0,m=0|l.getX(),p=0|l.getY();h<n.length();)_=0|Math.min(_,l.getX()),c=0|Math.min(c,l.getY()),u=0|Math.max(u,l.getX()),d=0|Math.max(d,l.getY()),++h<n.length()&&(l=n.getNextObject());a=new Gn(u-_,d-c,m,p,!o,a),e.h[r]=a}}return e},readShapes:function(t,e,i){for(var s=new fr,n=0,r=(t=t.getShapes()).length();n<r;){n++;var a=t.getNextObject(),o=a.getId();a.getGroupID();var l=a.getSensor(),h=a.getShape();if(h instanceof $s)h=as.createCircle(h.getRadius(),h.getPosition().getX(),h.getPosition().getY(),e,i);else{var _=h;h=as.createPolygon(h.getMbsType().getName(),as.readPoints(_.getPoints()).slice(0),e,i)}(_=new Nt).shape=h,_.density=a.getDensity(),_.friction=a.getFriction(),_.restitution=a.getRestitution(),_.isSensor=l,_.groupID=a.getGroupID(),s.h[o]=_}return s},__class__:ls};var hs=function(){};r["com.stencyl.io.TilesetReader"]=hs,hs.__name__="com.stencyl.io.TilesetReader",hs.__interfaces__=[ts],hs.prototype={accepts:function(t){return t==Gs.MBS_TILESET.getName()},read:function(t){var e=t.getAcross(),i=t.getDown(),s=t.getTileWidth(),n=t.getTileHeight(),r=t.getReadableImages(),a=[];for(e=new ir(t.getId(),t.getAtlasID(),t.getName(),e,i,s,n,r,a),i=0,s=(t=t.getTiles()).length();i<s;)i++,a[(n=t.getNextObject()).getId()]=this.readTile(n,e);return e.isAtlasActive()&&e.loadGraphics(),e},readTile:function(t,e){for(var i=t.getId(),s=t.getCollision(),n=t.getMetadata(),r=t.getFrames(),a=[],o=0,l=t.getDurations(),h=0,_=l.length();h<_;)h++,a[o]=l.readInt(),a[o]=Math.floor(a[o]/10),a[o]*=10,++o;if(o=null,-1!=t.getAutotile()&&(h=yn.get().autotileFormats,_=t.getAutotile(),o=h.h[_]),l=null,0!=t.getAutotileMerge().length())for(l=new fr,h=0,_=(t=t.getAutotileMerge()).length();h<_;){h++;var c=t.readInt();l.h[c]=c}return new tr(i,s,n,r,a,o,l,e)},__class__:hs};var _s=function(t){this.data=t};r["mbs.core.MbsObject"]=_s,_s.__name__="mbs.core.MbsObject",_s.prototype={data:null,address:null,getMbs:function(){return this.data},getAddress:function(){return this.address},setAddress:function(t){this.address=t},getMbsType:function(){throw wa.thrown("Must override getMbsType in MbsObject subclasses")},__class__:_s};var cs=function(t){this.data=t};r["com.stencyl.io.mbs.MbsResource"]=cs,cs.__name__="com.stencyl.io.mbs.MbsResource",cs.initializeType=function(){null==cs.MBS_RESOURCE&&(cs.MBS_RESOURCE=new vs("MbsResource"),cs.MBS_RESOURCE.setInstantiator(function(t){return new cs(t)}),cs.atlasID=cs.MBS_RESOURCE.createField("atlasID",ys.INTEGER),cs.description=cs.MBS_RESOURCE.createField("description",ys.STRING),cs.id=cs.MBS_RESOURCE.createField("id",ys.INTEGER),cs.$name=cs.MBS_RESOURCE.createField("name",ys.STRING))},cs.new_MbsResource_list=function(t){return new S_(t,cs.MBS_RESOURCE,new cs(t))},cs.__super__=_s,cs.prototype=i(_s.prototype,{getMbsType:function(){return cs.MBS_RESOURCE},allocateNew:function(){this.setAddress(this.data.allocate(cs.MBS_RESOURCE.getSize()))},getAtlasID:function(){return this.data.readInt(this.address+cs.atlasID.address)},setAtlasID:function(t){this.data.writeInt(this.address+cs.atlasID.address,t)},getDescription:function(){return this.data.readString(this.address+cs.description.address)},setDescription:function(t){this.data.writeString(this.address+cs.description.address,t)},getId:function(){return this.data.readInt(this.address+cs.id.address)},setId:function(t){this.data.writeInt(this.address+cs.id.address,t)},getName:function(){return this.data.readString(this.address+cs.$name.address)},setName:function(t){this.data.writeString(this.address+cs.$name.address,t)},__class__:cs});var us=function(t){this.data=t,this._durations=new T_(t)};r["com.stencyl.io.mbs.MbsBackground"]=us,us.__name__="com.stencyl.io.mbs.MbsBackground",us.initializeType=function(){null==us.MBS_BACKGROUND&&(cs.initializeType(),us.MBS_BACKGROUND=new vs("MbsBackground"),us.MBS_BACKGROUND.setInstantiator(function(t){return new us(t)}),us.MBS_BACKGROUND.inherit(cs.MBS_RESOURCE),us.readableImages=us.MBS_BACKGROUND.createField("readableImages",ys.BOOLEAN),us.durations=us.MBS_BACKGROUND.createField("durations",ys.LIST),us.height=us.MBS_BACKGROUND.createField("height",ys.INTEGER),us.numFrames=us.MBS_BACKGROUND.createField("numFrames",ys.INTEGER),us.repeats=us.MBS_BACKGROUND.createField("repeats",ys.BOOLEAN),us.resized=us.MBS_BACKGROUND.createField("resized",ys.BOOLEAN),us.width=us.MBS_BACKGROUND.createField("width",ys.INTEGER),us.xParallaxFactor=us.MBS_BACKGROUND.createField("xParallaxFactor",ys.FLOAT),us.xVelocity=us.MBS_BACKGROUND.createField("xVelocity",ys.FLOAT),us.yParallaxFactor=us.MBS_BACKGROUND.createField("yParallaxFactor",ys.FLOAT),us.yVelocity=us.MBS_BACKGROUND.createField("yVelocity",ys.FLOAT))},us.new_MbsBackground_list=function(t){return new S_(t,us.MBS_BACKGROUND,new us(t))},us.__super__=cs,us.prototype=i(cs.prototype,{getMbsType:function(){return us.MBS_BACKGROUND},_durations:null,allocateNew:function(){this.setAddress(this.data.allocate(us.MBS_BACKGROUND.getSize()))},getReadableImages:function(){return this.data.readBool(this.address+us.readableImages.address)},setReadableImages:function(t){this.data.writeBool(this.address+us.readableImages.address,t)},getDurations:function(){return this._durations.setAddress(this.data.readInt(this.address+us.durations.address)),this._durations},createDurations:function(t){return this._durations.allocateNew(t),this.data.writeInt(this.address+us.durations.address,this._durations.getAddress()),this._durations},getHeight:function(){return this.data.readInt(this.address+us.height.address)},setHeight:function(t){this.data.writeInt(this.address+us.height.address,t)},getNumFrames:function(){return this.data.readInt(this.address+us.numFrames.address)},setNumFrames:function(t){this.data.writeInt(this.address+us.numFrames.address,t)},getRepeats:function(){return this.data.readBool(this.address+us.repeats.address)},setRepeats:function(t){this.data.writeBool(this.address+us.repeats.address,t)},getResized:function(){return this.data.readBool(this.address+us.resized.address)},setResized:function(t){this.data.writeBool(this.address+us.resized.address,t)},getWidth:function(){return this.data.readInt(this.address+us.width.address)},setWidth:function(t){this.data.writeInt(this.address+us.width.address,t)},getXParallaxFactor:function(){return this.data.readFloat(this.address+us.xParallaxFactor.address)},setXParallaxFactor:function(t){this.data.writeFloat(this.address+us.xParallaxFactor.address,t)},getXVelocity:function(){return this.data.readFloat(this.address+us.xVelocity.address)},setXVelocity:function(t){this.data.writeFloat(this.address+us.xVelocity.address,t)},getYParallaxFactor:function(){return this.data.readFloat(this.address+us.yParallaxFactor.address)},setYParallaxFactor:function(t){this.data.writeFloat(this.address+us.yParallaxFactor.address,t)},getYVelocity:function(){return this.data.readFloat(this.address+us.yVelocity.address)},setYVelocity:function(t){this.data.writeFloat(this.address+us.yVelocity.address,t)},__class__:us});var ds=function(t){this.data=t};r["com.stencyl.io.mbs.MbsBlank"]=ds,ds.__name__="com.stencyl.io.mbs.MbsBlank",ds.initializeType=function(){null==ds.MBS_BLANK&&(ds.MBS_BLANK=new vs("MbsBlank"),ds.MBS_BLANK.setInstantiator(function(t){return new ds(t)}),ds.$name=ds.MBS_BLANK.createField("name",ys.STRING),ds.type=ds.MBS_BLANK.createField("type",ys.STRING))},ds.new_MbsBlank_list=function(t){return new S_(t,ds.MBS_BLANK,new ds(t))},ds.__super__=_s,ds.prototype=i(_s.prototype,{getMbsType:function(){return ds.MBS_BLANK},allocateNew:function(){this.setAddress(this.data.allocate(ds.MBS_BLANK.getSize()))},getName:function(){return this.data.readString(this.address+ds.$name.address)},setName:function(t){this.data.writeString(this.address+ds.$name.address,t)},getType:function(){return this.data.readString(this.address+ds.type.address)},setType:function(t){this.data.writeString(this.address+ds.type.address,t)},__class__:ds});var ms=function(t){this.data=t,this._blanks=new S_(t,ds.MBS_BLANK,new ds(t))};r["com.stencyl.io.mbs.MbsCustomBlock"]=ms,ms.__name__="com.stencyl.io.mbs.MbsCustomBlock",ms.initializeType=function(){null==ms.MBS_CUSTOM_BLOCK&&(cs.initializeType(),ms.MBS_CUSTOM_BLOCK=new vs("MbsCustomBlock"),ms.MBS_CUSTOM_BLOCK.setInstantiator(function(t){return new ms(t)}),ms.MBS_CUSTOM_BLOCK.inherit(cs.MBS_RESOURCE),ms.blocktag=ms.MBS_CUSTOM_BLOCK.createField("blocktag",ys.STRING),ms.blocktype=ms.MBS_CUSTOM_BLOCK.createField("blocktype",ys.STRING),ms.code=ms.MBS_CUSTOM_BLOCK.createField("code",ys.STRING),ms.global=ms.MBS_CUSTOM_BLOCK.createField("global",ys.BOOLEAN),ms.gui=ms.MBS_CUSTOM_BLOCK.createField("gui",ys.STRING),ms.message=ms.MBS_CUSTOM_BLOCK.createField("message",ys.STRING),ms.returnType=ms.MBS_CUSTOM_BLOCK.createField("returnType",ys.STRING),ms.snippetID=ms.MBS_CUSTOM_BLOCK.createField("snippetID",ys.INTEGER),ms.blanks=ms.MBS_CUSTOM_BLOCK.createField("blanks",ys.LIST))},ms.new_MbsCustomBlock_list=function(t){return new S_(t,ms.MBS_CUSTOM_BLOCK,new ms(t))},ms.__super__=cs,ms.prototype=i(cs.prototype,{getMbsType:function(){return ms.MBS_CUSTOM_BLOCK},_blanks:null,allocateNew:function(){this.setAddress(this.data.allocate(ms.MBS_CUSTOM_BLOCK.getSize()))},getBlocktag:function(){return this.data.readString(this.address+ms.blocktag.address)},setBlocktag:function(t){this.data.writeString(this.address+ms.blocktag.address,t)},getBlocktype:function(){return this.data.readString(this.address+ms.blocktype.address)},setBlocktype:function(t){this.data.writeString(this.address+ms.blocktype.address,t)},getCode:function(){return this.data.readString(this.address+ms.code.address)},setCode:function(t){this.data.writeString(this.address+ms.code.address,t)},getGlobal:function(){return this.data.readBool(this.address+ms.global.address)},setGlobal:function(t){this.data.writeBool(this.address+ms.global.address,t)},getGui:function(){return this.data.readString(this.address+ms.gui.address)},setGui:function(t){this.data.writeString(this.address+ms.gui.address,t)},getMessage:function(){return this.data.readString(this.address+ms.message.address)},setMessage:function(t){this.data.writeString(this.address+ms.message.address,t)},getReturnType:function(){return this.data.readString(this.address+ms.returnType.address)},setReturnType:function(t){this.data.writeString(this.address+ms.returnType.address,t)},getSnippetID:function(){return this.data.readInt(this.address+ms.snippetID.address)},setSnippetID:function(t){this.data.writeInt(this.address+ms.snippetID.address,t)},getBlanks:function(){return this._blanks.setAddress(this.data.readInt(this.address+ms.blanks.address)),this._blanks},createBlanks:function(t){return this._blanks.allocateNew(t),this.data.writeInt(this.address+ms.blanks.address,this._blanks.getAddress()),this._blanks},__class__:ms});var ps=function(t){this.data=t};r["com.stencyl.io.mbs.MbsFont"]=ps,ps.__name__="com.stencyl.io.mbs.MbsFont",ps.initializeType=function(){null==ps.MBS_FONT&&(cs.initializeType(),ps.MBS_FONT=new vs("MbsFont"),ps.MBS_FONT.setInstantiator(function(t){return new ps(t)}),ps.MBS_FONT.inherit(cs.MBS_RESOURCE),ps.alphabet=ps.MBS_FONT.createField("alphabet",ys.STRING),ps.readableImages=ps.MBS_FONT.createField("readableImages",ys.BOOLEAN),ps.height=ps.MBS_FONT.createField("height",ys.INTEGER),ps.offsets=ps.MBS_FONT.createField("offsets",ys.STRING),ps.prerendered=ps.MBS_FONT.createField("prerendered",ys.BOOLEAN),ps.rowHeight=ps.MBS_FONT.createField("rowHeight",ys.INTEGER))},ps.new_MbsFont_list=function(t){return new S_(t,ps.MBS_FONT,new ps(t))},ps.__super__=cs,ps.prototype=i(cs.prototype,{getMbsType:function(){return ps.MBS_FONT},allocateNew:function(){this.setAddress(this.data.allocate(ps.MBS_FONT.getSize()))},getAlphabet:function(){return this.data.readString(this.address+ps.alphabet.address)},setAlphabet:function(t){this.data.writeString(this.address+ps.alphabet.address,t)},getReadableImages:function(){return this.data.readBool(this.address+ps.readableImages.address)},setReadableImages:function(t){this.data.writeBool(this.address+ps.readableImages.address,t)},getHeight:function(){return this.data.readInt(this.address+ps.height.address)},setHeight:function(t){this.data.writeInt(this.address+ps.height.address,t)},getOffsets:function(){return this.data.readString(this.address+ps.offsets.address)},setOffsets:function(t){this.data.writeString(this.address+ps.offsets.address,t)},getPrerendered:function(){return this.data.readBool(this.address+ps.prerendered.address)},setPrerendered:function(t){this.data.writeBool(this.address+ps.prerendered.address,t)},getRowHeight:function(){return this.data.readInt(this.address+ps.rowHeight.address)},setRowHeight:function(t){this.data.writeInt(this.address+ps.rowHeight.address,t)},__class__:ps});var fs=function(t){this.data=t};r["com.stencyl.io.mbs.MbsMusic"]=fs,fs.__name__="com.stencyl.io.mbs.MbsMusic",fs.initializeType=function(){null==fs.MBS_MUSIC&&(cs.initializeType(),fs.MBS_MUSIC=new vs("MbsMusic"),fs.MBS_MUSIC.setInstantiator(function(t){return new fs(t)}),fs.MBS_MUSIC.inherit(cs.MBS_RESOURCE),fs.loop=fs.MBS_MUSIC.createField("loop",ys.BOOLEAN),fs.pan=fs.MBS_MUSIC.createField("pan",ys.INTEGER),fs.stream=fs.MBS_MUSIC.createField("stream",ys.BOOLEAN),fs.type=fs.MBS_MUSIC.createField("type",ys.STRING),fs.volume=fs.MBS_MUSIC.createField("volume",ys.INTEGER))},fs.new_MbsMusic_list=function(t){return new S_(t,fs.MBS_MUSIC,new fs(t))},fs.__super__=cs,fs.prototype=i(cs.prototype,{getMbsType:function(){return fs.MBS_MUSIC},allocateNew:function(){this.setAddress(this.data.allocate(fs.MBS_MUSIC.getSize()))},getLoop:function(){return this.data.readBool(this.address+fs.loop.address)},setLoop:function(t){this.data.writeBool(this.address+fs.loop.address,t)},getPan:function(){return this.data.readInt(this.address+fs.pan.address)},setPan:function(t){this.data.writeInt(this.address+fs.pan.address,t)},getStream:function(){return this.data.readBool(this.address+fs.stream.address)},setStream:function(t){this.data.writeBool(this.address+fs.stream.address,t)},getType:function(){return this.data.readString(this.address+fs.type.address)},setType:function(t){this.data.writeString(this.address+fs.type.address,t)},getVolume:function(){return this.data.readInt(this.address+fs.volume.address)},setVolume:function(t){this.data.writeInt(this.address+fs.volume.address,t)},__class__:fs});var gs=function(t,e){this.name=t,this.size=e};r["mbs.core.MbsType"]=gs,gs.__name__="mbs.core.MbsType",gs.prototype={name:null,size:null,getName:function(){return this.name},getSize:function(){return this.size},toString:function(){return"MbsType [name="+this.getName()+"]"},createInstance:function(t){throw wa.thrown("Can't create an instance of type "+this.name)},__class__:gs};var ys=function(){};r["mbs.core.MbsTypes"]=ys,ys.__name__="mbs.core.MbsTypes";var bs=function(t){this.data=t};r["mbs.core.header.MbsHeader"]=bs,bs.__name__="mbs.core.header.MbsHeader",bs.initializeType=function(){null==bs.MBS_HEADER&&(bs.MBS_HEADER=new vs("MbsHeader"),bs.MBS_HEADER.setInstantiator(function(t){return new bs(t)}),bs.version=bs.MBS_HEADER.createField("version",ys.INTEGER),bs.typeTableHash=bs.MBS_HEADER.createField("typeTableHash",ys.INTEGER),bs.typeTablePointer=bs.MBS_HEADER.createField("typeTablePointer",ys.INTEGER),bs.stringTablePointer=bs.MBS_HEADER.createField("stringTablePointer",ys.INTEGER),bs.root=bs.MBS_HEADER.createField("root",ys.DYNAMIC))},bs.new_MbsHeader_list=function(t){return new S_(t,bs.MBS_HEADER,new bs(t))},bs.__super__=_s,bs.prototype=i(_s.prototype,{getMbsType:function(){return bs.MBS_HEADER},allocateNew:function(){this.setAddress(this.data.allocate(bs.MBS_HEADER.getSize()))},getVersion:function(){return this.data.readInt(this.address+bs.version.address)},setVersion:function(t){this.data.writeInt(this.address+bs.version.address,t)},getTypeTableHash:function(){return this.data.readInt(this.address+bs.typeTableHash.address)},setTypeTableHash:function(t){this.data.writeInt(this.address+bs.typeTableHash.address,t)},getTypeTablePointer:function(){return this.data.readInt(this.address+bs.typeTablePointer.address)},setTypeTablePointer:function(t){this.data.writeInt(this.address+bs.typeTablePointer.address,t)},getStringTablePointer:function(){return this.data.readInt(this.address+bs.stringTablePointer.address)},setStringTablePointer:function(t){this.data.writeInt(this.address+bs.stringTablePointer.address,t)},getRoot:function(){return b_.readDynamic(this.data,this.address+bs.root.address)},setRoot:function(t){b_.writeDynamic(this.data,this.address+bs.root.address,t)},__class__:bs});var vs=function(t){gs.call(this,t,0),this.fields=[]};r["mbs.core.ComposedType"]=vs,vs.__name__="mbs.core.ComposedType",vs.__super__=gs,vs.prototype=i(gs.prototype,{parent:null,fields:null,inherit:function(t){this.parent=t,this.size=t.getSize()},createField:function(t,e){return t=new f_(t,e,this.size),this.fields.push(t),this.size+=e.getSize(),t},getParent:function(){return this.parent},getFields:function(){return this.fields},instantiator:null,setInstantiator:function(t){this.instantiator=t},createInstance:function(t){return null!=this.instantiator?this.instantiator(t):gs.prototype.createInstance.call(this,t)},createList:function(t){return new S_(t,this,this.createInstance(t))},__class__:vs});var xs=function(t){this.data=t};r["mbs.core.header.MbsTypeInfo"]=xs,xs.__name__="mbs.core.header.MbsTypeInfo",xs.initializeType=function(){null==xs.MBS_TYPE_INFO&&(xs.MBS_TYPE_INFO=new vs("MbsTypeInfo"),xs.MBS_TYPE_INFO.setInstantiator(function(t){return new xs(t)}),xs.$name=xs.MBS_TYPE_INFO.createField("name",ys.STRING),xs.parent=xs.MBS_TYPE_INFO.createField("parent",ys.STRING),xs.fieldsPointer=xs.MBS_TYPE_INFO.createField("fieldsPointer",ys.INTEGER),xs.size=xs.MBS_TYPE_INFO.createField("size",ys.INTEGER))},xs.new_MbsTypeInfo_list=function(t){return new S_(t,xs.MBS_TYPE_INFO,new xs(t))},xs.__super__=_s,xs.prototype=i(_s.prototype,{getMbsType:function(){return xs.MBS_TYPE_INFO},allocateNew:function(){this.setAddress(this.data.allocate(xs.MBS_TYPE_INFO.getSize()))},getName:function(){return this.data.readString(this.address+xs.$name.address)},setName:function(t){this.data.writeString(this.address+xs.$name.address,t)},getParent:function(){return this.data.readString(this.address+xs.parent.address)},setParent:function(t){this.data.writeString(this.address+xs.parent.address,t)},getFieldsPointer:function(){return this.data.readInt(this.address+xs.fieldsPointer.address)},setFieldsPointer:function(t){this.data.writeInt(this.address+xs.fieldsPointer.address,t)},getSize:function(){return this.data.readInt(this.address+xs.size.address)},setSize:function(t){this.data.writeInt(this.address+xs.size.address,t)},__class__:xs});var ws=function(t){this.data=t};r["mbs.core.header.MbsFieldInfo"]=ws,ws.__name__="mbs.core.header.MbsFieldInfo",ws.initializeType=function(){null==ws.MBS_FIELD_INFO&&(ws.MBS_FIELD_INFO=new vs("MbsFieldInfo"),ws.MBS_FIELD_INFO.setInstantiator(function(t){return new ws(t)}),ws.$name=ws.MBS_FIELD_INFO.createField("name",ys.STRING),ws.type=ws.MBS_FIELD_INFO.createField("type",ys.STRING),ws.fieldAddress=ws.MBS_FIELD_INFO.createField("fieldAddress",ys.INTEGER))},ws.new_MbsFieldInfo_list=function(t){return new S_(t,ws.MBS_FIELD_INFO,new ws(t))},ws.__super__=_s,ws.prototype=i(_s.prototype,{getMbsType:function(){return ws.MBS_FIELD_INFO},allocateNew:function(){this.setAddress(this.data.allocate(ws.MBS_FIELD_INFO.getSize()))},getName:function(){return this.data.readString(this.address+ws.$name.address)},setName:function(t){this.data.writeString(this.address+ws.$name.address,t)},getType:function(){return this.data.readString(this.address+ws.type.address)},setType:function(t){this.data.writeString(this.address+ws.type.address,t)},getFieldAddress:function(){return this.data.readInt(this.address+ws.fieldAddress.address)},setFieldAddress:function(t){this.data.writeInt(this.address+ws.fieldAddress.address,t)},__class__:ws});var Ss=function(){this.types=Ss.basicTypes.slice(),this.typecodes=new I,this.addTypes();for(var t=0,e=0,i=this.types;e<i.length;){var s=i[e];++e,this.typecodes.set(s,t++)}};r["mbs.core.MbsTypedefSet"]=Ss,Ss.__name__="mbs.core.MbsTypedefSet",Ss.prototype={types:null,typecodes:null,getTypes:function(){return this.types},addTypes:function(){},getHash:function(){return 0},getTypecode:function(t){return this.typecodes.h[t.__id__]},getType:function(t){return this.types[t]},__class__:Ss};var Rs=function(){Ss.call(this)};r["com.stencyl.io.mbs.Typedefs"]=Rs,Rs.__name__="com.stencyl.io.mbs.Typedefs",Rs.get=function(){return null==Rs.instance&&(Rs.instance=new Rs),Rs.instance},Rs.__super__=Ss,Rs.prototype=i(Ss.prototype,{addTypes:function(){cs.initializeType(),this.types.push(cs.MBS_RESOURCE),us.initializeType(),this.types.push(us.MBS_BACKGROUND),ms.initializeType(),this.types.push(ms.MBS_CUSTOM_BLOCK),ds.initializeType(),this.types.push(ds.MBS_BLANK),ps.initializeType(),this.types.push(ps.MBS_FONT),fs.initializeType(),this.types.push(fs.MBS_MUSIC),As.initializeType(),this.types.push(As.MBS_ACTOR_TYPE),Ps.initializeType(),this.types.push(Ps.MBS_SPRITE),Ms.initializeType(),this.types.push(Ms.MBS_ANIMATION),Ts.initializeType(),this.types.push(Ts.MBS_ANIM_SHAPE),Fs.initializeType(),this.types.push(Fs.MBS_GAME),Cs.initializeType(),this.types.push(Cs.MBS_ATLAS),ks.initializeType(),this.types.push(ks.MBS_COLLISION_SHAPE),Is.initializeType(),this.types.push(Is.MBS_COLLISION_GROUP),Es.initializeType(),this.types.push(Es.MBS_COLLISION_PAIR),Os.initializeType(),this.types.push(Os.MBS_SCENE_HEADER),Gs.initializeType(),this.types.push(Gs.MBS_TILESET),Vs.initializeType(),this.types.push(Vs.MBS_TILE),Ns.initializeType(),this.types.push(Ns.MBS_SCENE),Ls.initializeType(),this.types.push(Ls.MBS_ACTOR_INSTANCE),Us.initializeType(),this.types.push(Us.MBS_COLOR_BACKGROUND),zs.initializeType(),this.types.push(zs.MBS_GRADIENT_BACKGROUND),Hs.initializeType(),this.types.push(Hs.MBS_LAYER),Xs.initializeType(),this.types.push(Xs.MBS_INTERACTIVE_LAYER),Ws.initializeType(),this.types.push(Ws.MBS_IMAGE_BACKGROUND),Ys.initializeType(),this.types.push(Ys.MBS_JOINT),Zs.initializeType(),this.types.push(Zs.MBS_STICK_JOINT),js.initializeType(),this.types.push(js.MBS_HINGE_JOINT),Js.initializeType(),this.types.push(Js.MBS_SLIDING_JOINT),Ks.initializeType(),this.types.push(Ks.MBS_REGION),Qs.initializeType(),this.types.push(Qs.MBS_TERRAIN_REGION),tn.initializeType(),this.types.push(tn.MBS_POINT),qs.initializeType(),this.types.push(qs.MBS_SHAPE),$s.initializeType(),this.types.push($s.MBS_CIRCLE),en.initializeType(),this.types.push(en.MBS_POLYGON),sn.initializeType(),this.types.push(sn.MBS_POLY_REGION),nn.initializeType(),this.types.push(nn.MBS_WIREFRAME),cn.initializeType(),this.types.push(cn.MBS_SNIPPET_DEF),an.initializeType(),this.types.push(an.MBS_ATTRIBUTE_DEF),on.initializeType(),this.types.push(on.MBS_BLOCK),ln.initializeType(),this.types.push(ln.MBS_EVENT),_n.initializeType(),this.types.push(_n.MBS_SNIPPET),rn.initializeType(),this.types.push(rn.MBS_ATTRIBUTE),hn.initializeType(),this.types.push(hn.MBS_MAP_ELEMENT),Bs.initializeType(),this.types.push(Bs.MBS_AUTOTILE_FORMAT),Ds.initializeType(),this.types.push(Ds.MBS_CORNERS)},getHash:function(){return-1349349184},__class__:Rs});var As=function(t){this.data=t,this._snippets=new S_(t,_n.MBS_SNIPPET,new _n(t))};r["com.stencyl.io.mbs.actortype.MbsActorType"]=As,As.__name__="com.stencyl.io.mbs.actortype.MbsActorType",As.initializeType=function(){null==As.MBS_ACTOR_TYPE&&(cs.initializeType(),As.MBS_ACTOR_TYPE=new vs("MbsActorType"),As.MBS_ACTOR_TYPE.setInstantiator(function(t){return new As(t)}),As.MBS_ACTOR_TYPE.inherit(cs.MBS_RESOURCE),As.angularDamping=As.MBS_ACTOR_TYPE.createField("angularDamping",ys.FLOAT),As.autoScale=As.MBS_ACTOR_TYPE.createField("autoScale",ys.BOOLEAN),As.bodyType=As.MBS_ACTOR_TYPE.createField("bodyType",ys.INTEGER),As.continuous=As.MBS_ACTOR_TYPE.createField("continuous",ys.BOOLEAN),As.eventSnippetID=As.MBS_ACTOR_TYPE.createField("eventSnippetID",ys.INTEGER),As.fixedRotation=As.MBS_ACTOR_TYPE.createField("fixedRotation",ys.BOOLEAN),As.friction=As.MBS_ACTOR_TYPE.createField("friction",ys.FLOAT),As.groupID=As.MBS_ACTOR_TYPE.createField("groupID",ys.INTEGER),As.ignoreGravity=As.MBS_ACTOR_TYPE.createField("ignoreGravity",ys.BOOLEAN),As.inertia=As.MBS_ACTOR_TYPE.createField("inertia",ys.FLOAT),As.linearDamping=As.MBS_ACTOR_TYPE.createField("linearDamping",ys.FLOAT),As.mass=As.MBS_ACTOR_TYPE.createField("mass",ys.FLOAT),As.pausable=As.MBS_ACTOR_TYPE.createField("pausable",ys.BOOLEAN),As.physicsMode=As.MBS_ACTOR_TYPE.createField("physicsMode",ys.INTEGER),As.restitution=As.MBS_ACTOR_TYPE.createField("restitution",ys.FLOAT),As.sprite=As.MBS_ACTOR_TYPE.createField("sprite",ys.INTEGER),As.isStatic=As.MBS_ACTOR_TYPE.createField("isStatic",ys.BOOLEAN),As.snippets=As.MBS_ACTOR_TYPE.createField("snippets",ys.LIST))},As.new_MbsActorType_list=function(t){return new S_(t,As.MBS_ACTOR_TYPE,new As(t))},As.__super__=cs,As.prototype=i(cs.prototype,{getMbsType:function(){return As.MBS_ACTOR_TYPE},_snippets:null,allocateNew:function(){this.setAddress(this.data.allocate(As.MBS_ACTOR_TYPE.getSize()))},getAngularDamping:function(){return this.data.readFloat(this.address+As.angularDamping.address)},setAngularDamping:function(t){this.data.writeFloat(this.address+As.angularDamping.address,t)},getAutoScale:function(){return this.data.readBool(this.address+As.autoScale.address)},setAutoScale:function(t){this.data.writeBool(this.address+As.autoScale.address,t)},getBodyType:function(){return this.data.readInt(this.address+As.bodyType.address)},setBodyType:function(t){this.data.writeInt(this.address+As.bodyType.address,t)},getContinuous:function(){return this.data.readBool(this.address+As.continuous.address)},setContinuous:function(t){this.data.writeBool(this.address+As.continuous.address,t)},getEventSnippetID:function(){return this.data.readInt(this.address+As.eventSnippetID.address)},setEventSnippetID:function(t){this.data.writeInt(this.address+As.eventSnippetID.address,t)},getFixedRotation:function(){return this.data.readBool(this.address+As.fixedRotation.address)},setFixedRotation:function(t){this.data.writeBool(this.address+As.fixedRotation.address,t)},getFriction:function(){return this.data.readFloat(this.address+As.friction.address)},setFriction:function(t){this.data.writeFloat(this.address+As.friction.address,t)},getGroupID:function(){return this.data.readInt(this.address+As.groupID.address)},setGroupID:function(t){this.data.writeInt(this.address+As.groupID.address,t)},getIgnoreGravity:function(){return this.data.readBool(this.address+As.ignoreGravity.address)},setIgnoreGravity:function(t){this.data.writeBool(this.address+As.ignoreGravity.address,t)},getInertia:function(){return this.data.readFloat(this.address+As.inertia.address)},setInertia:function(t){this.data.writeFloat(this.address+As.inertia.address,t)},getLinearDamping:function(){return this.data.readFloat(this.address+As.linearDamping.address)},setLinearDamping:function(t){this.data.writeFloat(this.address+As.linearDamping.address,t)},getMass:function(){return this.data.readFloat(this.address+As.mass.address)},setMass:function(t){this.data.writeFloat(this.address+As.mass.address,t)},getPausable:function(){return this.data.readBool(this.address+As.pausable.address)},setPausable:function(t){this.data.writeBool(this.address+As.pausable.address,t)},getPhysicsMode:function(){return this.data.readInt(this.address+As.physicsMode.address)},setPhysicsMode:function(t){this.data.writeInt(this.address+As.physicsMode.address,t)},getRestitution:function(){return this.data.readFloat(this.address+As.restitution.address)},setRestitution:function(t){this.data.writeFloat(this.address+As.restitution.address,t)},getSprite:function(){return this.data.readInt(this.address+As.sprite.address)},setSprite:function(t){this.data.writeInt(this.address+As.sprite.address,t)},getIsStatic:function(){return this.data.readBool(this.address+As.isStatic.address)},setIsStatic:function(t){this.data.writeBool(this.address+As.isStatic.address,t)},getSnippets:function(){return this._snippets.setAddress(this.data.readInt(this.address+As.snippets.address)),this._snippets},createSnippets:function(t){return this._snippets.allocateNew(t),this.data.writeInt(this.address+As.snippets.address,this._snippets.getAddress()),this._snippets},__class__:As});var Ts=function(t){this.data=t};r["com.stencyl.io.mbs.actortype.MbsAnimShape"]=Ts,Ts.__name__="com.stencyl.io.mbs.actortype.MbsAnimShape",Ts.initializeType=function(){null==Ts.MBS_ANIM_SHAPE&&(Ts.MBS_ANIM_SHAPE=new vs("MbsAnimShape"),Ts.MBS_ANIM_SHAPE.setInstantiator(function(t){return new Ts(t)}),Ts.shape=Ts.MBS_ANIM_SHAPE.createField("shape",ys.DYNAMIC),Ts.density=Ts.MBS_ANIM_SHAPE.createField("density",ys.FLOAT),Ts.friction=Ts.MBS_ANIM_SHAPE.createField("friction",ys.FLOAT),Ts.groupID=Ts.MBS_ANIM_SHAPE.createField("groupID",ys.INTEGER),Ts.id=Ts.MBS_ANIM_SHAPE.createField("id",ys.INTEGER),Ts.$name=Ts.MBS_ANIM_SHAPE.createField("name",ys.STRING),Ts.restitution=Ts.MBS_ANIM_SHAPE.createField("restitution",ys.FLOAT),Ts.sensor=Ts.MBS_ANIM_SHAPE.createField("sensor",ys.BOOLEAN))},Ts.new_MbsAnimShape_list=function(t){return new S_(t,Ts.MBS_ANIM_SHAPE,new Ts(t))},Ts.__super__=_s,Ts.prototype=i(_s.prototype,{getMbsType:function(){return Ts.MBS_ANIM_SHAPE},allocateNew:function(){this.setAddress(this.data.allocate(Ts.MBS_ANIM_SHAPE.getSize()))},getShape:function(){return b_.readDynamic(this.data,this.address+Ts.shape.address)},setShape:function(t){b_.writeDynamic(this.data,this.address+Ts.shape.address,t)},getDensity:function(){return this.data.readFloat(this.address+Ts.density.address)},setDensity:function(t){this.data.writeFloat(this.address+Ts.density.address,t)},getFriction:function(){return this.data.readFloat(this.address+Ts.friction.address)},setFriction:function(t){this.data.writeFloat(this.address+Ts.friction.address,t)},getGroupID:function(){return this.data.readInt(this.address+Ts.groupID.address)},setGroupID:function(t){this.data.writeInt(this.address+Ts.groupID.address,t)},getId:function(){return this.data.readInt(this.address+Ts.id.address)},setId:function(t){this.data.writeInt(this.address+Ts.id.address,t)},getName:function(){return this.data.readString(this.address+Ts.$name.address)},setName:function(t){this.data.writeString(this.address+Ts.$name.address,t)},getRestitution:function(){return this.data.readFloat(this.address+Ts.restitution.address)},setRestitution:function(t){this.data.writeFloat(this.address+Ts.restitution.address,t)},getSensor:function(){return this.data.readBool(this.address+Ts.sensor.address)},setSensor:function(t){this.data.writeBool(this.address+Ts.sensor.address,t)},__class__:Ts});var Ms=function(t){this.data=t,this._durations=new T_(t),this._shapes=new S_(t,Ts.MBS_ANIM_SHAPE,new Ts(t))};r["com.stencyl.io.mbs.actortype.MbsAnimation"]=Ms,Ms.__name__="com.stencyl.io.mbs.actortype.MbsAnimation",Ms.initializeType=function(){null==Ms.MBS_ANIMATION&&(Ms.MBS_ANIMATION=new vs("MbsAnimation"),Ms.MBS_ANIMATION.setInstantiator(function(t){return new Ms(t)}),Ms.across=Ms.MBS_ANIMATION.createField("across",ys.INTEGER),Ms.down=Ms.MBS_ANIMATION.createField("down",ys.INTEGER),Ms.durations=Ms.MBS_ANIMATION.createField("durations",ys.LIST),Ms.height=Ms.MBS_ANIMATION.createField("height",ys.INTEGER),Ms.id=Ms.MBS_ANIMATION.createField("id",ys.INTEGER),Ms.loop=Ms.MBS_ANIMATION.createField("loop",ys.BOOLEAN),Ms.$name=Ms.MBS_ANIMATION.createField("name",ys.STRING),Ms.numFrames=Ms.MBS_ANIMATION.createField("numFrames",ys.INTEGER),Ms.originX=Ms.MBS_ANIMATION.createField("originX",ys.INTEGER),Ms.originY=Ms.MBS_ANIMATION.createField("originY",ys.INTEGER),Ms.sync=Ms.MBS_ANIMATION.createField("sync",ys.BOOLEAN),Ms.version=Ms.MBS_ANIMATION.createField("version",ys.INTEGER),Ms.width=Ms.MBS_ANIMATION.createField("width",ys.INTEGER),Ms.shapes=Ms.MBS_ANIMATION.createField("shapes",ys.LIST))},Ms.new_MbsAnimation_list=function(t){return new S_(t,Ms.MBS_ANIMATION,new Ms(t))},Ms.__super__=_s,Ms.prototype=i(_s.prototype,{getMbsType:function(){return Ms.MBS_ANIMATION},_durations:null,_shapes:null,allocateNew:function(){this.setAddress(this.data.allocate(Ms.MBS_ANIMATION.getSize()))},getAcross:function(){return this.data.readInt(this.address+Ms.across.address)},setAcross:function(t){this.data.writeInt(this.address+Ms.across.address,t)},getDown:function(){return this.data.readInt(this.address+Ms.down.address)},setDown:function(t){this.data.writeInt(this.address+Ms.down.address,t)},getDurations:function(){return this._durations.setAddress(this.data.readInt(this.address+Ms.durations.address)),this._durations},createDurations:function(t){return this._durations.allocateNew(t),this.data.writeInt(this.address+Ms.durations.address,this._durations.getAddress()),this._durations},getHeight:function(){return this.data.readInt(this.address+Ms.height.address)},setHeight:function(t){this.data.writeInt(this.address+Ms.height.address,t)},getId:function(){return this.data.readInt(this.address+Ms.id.address)},setId:function(t){this.data.writeInt(this.address+Ms.id.address,t)},getLoop:function(){return this.data.readBool(this.address+Ms.loop.address)},setLoop:function(t){this.data.writeBool(this.address+Ms.loop.address,t)},getName:function(){return this.data.readString(this.address+Ms.$name.address)},setName:function(t){this.data.writeString(this.address+Ms.$name.address,t)},getNumFrames:function(){return this.data.readInt(this.address+Ms.numFrames.address)},setNumFrames:function(t){this.data.writeInt(this.address+Ms.numFrames.address,t)},getOriginX:function(){return this.data.readInt(this.address+Ms.originX.address)},setOriginX:function(t){this.data.writeInt(this.address+Ms.originX.address,t)},getOriginY:function(){return this.data.readInt(this.address+Ms.originY.address)},setOriginY:function(t){this.data.writeInt(this.address+Ms.originY.address,t)},getSync:function(){return this.data.readBool(this.address+Ms.sync.address)},setSync:function(t){this.data.writeBool(this.address+Ms.sync.address,t)},getVersion:function(){return this.data.readInt(this.address+Ms.version.address)},setVersion:function(t){this.data.writeInt(this.address+Ms.version.address,t)},getWidth:function(){return this.data.readInt(this.address+Ms.width.address)},setWidth:function(t){this.data.writeInt(this.address+Ms.width.address,t)},getShapes:function(){return this._shapes.setAddress(this.data.readInt(this.address+Ms.shapes.address)),this._shapes},createShapes:function(t){return this._shapes.allocateNew(t),this.data.writeInt(this.address+Ms.shapes.address,this._shapes.getAddress()),this._shapes},__class__:Ms});var Ps=function(t){this.data=t,this._animations=new S_(t,Ms.MBS_ANIMATION,new Ms(t))};r["com.stencyl.io.mbs.actortype.MbsSprite"]=Ps,Ps.__name__="com.stencyl.io.mbs.actortype.MbsSprite",Ps.initializeType=function(){null==Ps.MBS_SPRITE&&(cs.initializeType(),Ps.MBS_SPRITE=new vs("MbsSprite"),Ps.MBS_SPRITE.setInstantiator(function(t){return new Ps(t)}),Ps.MBS_SPRITE.inherit(cs.MBS_RESOURCE),Ps.defaultAnimation=Ps.MBS_SPRITE.createField("defaultAnimation",ys.INTEGER),Ps.readableImages=Ps.MBS_SPRITE.createField("readableImages",ys.BOOLEAN),Ps.height=Ps.MBS_SPRITE.createField("height",ys.INTEGER),Ps.width=Ps.MBS_SPRITE.createField("width",ys.INTEGER),Ps.animations=Ps.MBS_SPRITE.createField("animations",ys.LIST))},Ps.new_MbsSprite_list=function(t){return new S_(t,Ps.MBS_SPRITE,new Ps(t))},Ps.__super__=cs,Ps.prototype=i(cs.prototype,{getMbsType:function(){return Ps.MBS_SPRITE},_animations:null,allocateNew:function(){this.setAddress(this.data.allocate(Ps.MBS_SPRITE.getSize()))},getDefaultAnimation:function(){return this.data.readInt(this.address+Ps.defaultAnimation.address)},setDefaultAnimation:function(t){this.data.writeInt(this.address+Ps.defaultAnimation.address,t)},getReadableImages:function(){return this.data.readBool(this.address+Ps.readableImages.address)},setReadableImages:function(t){this.data.writeBool(this.address+Ps.readableImages.address,t)},getHeight:function(){return this.data.readInt(this.address+Ps.height.address)},setHeight:function(t){this.data.writeInt(this.address+Ps.height.address,t)},getWidth:function(){return this.data.readInt(this.address+Ps.width.address)},setWidth:function(t){this.data.writeInt(this.address+Ps.width.address,t)},getAnimations:function(){return this._animations.setAddress(this.data.readInt(this.address+Ps.animations.address)),this._animations},createAnimations:function(t){return this._animations.allocateNew(t),this.data.writeInt(this.address+Ps.animations.address,this._animations.getAddress()),this._animations},__class__:Ps});var Cs=function(t){this.data=t,this._members=new T_(t)};r["com.stencyl.io.mbs.game.MbsAtlas"]=Cs,Cs.__name__="com.stencyl.io.mbs.game.MbsAtlas",Cs.initializeType=function(){null==Cs.MBS_ATLAS&&(Cs.MBS_ATLAS=new vs("MbsAtlas"),Cs.MBS_ATLAS.setInstantiator(function(t){return new Cs(t)}),Cs.id=Cs.MBS_ATLAS.createField("id",ys.INTEGER),Cs.$name=Cs.MBS_ATLAS.createField("name",ys.STRING),Cs.members=Cs.MBS_ATLAS.createField("members",ys.LIST),Cs.allScenes=Cs.MBS_ATLAS.createField("allScenes",ys.BOOLEAN))},Cs.new_MbsAtlas_list=function(t){return new S_(t,Cs.MBS_ATLAS,new Cs(t))},Cs.__super__=_s,Cs.prototype=i(_s.prototype,{getMbsType:function(){return Cs.MBS_ATLAS},_members:null,allocateNew:function(){this.setAddress(this.data.allocate(Cs.MBS_ATLAS.getSize()))},getId:function(){return this.data.readInt(this.address+Cs.id.address)},setId:function(t){this.data.writeInt(this.address+Cs.id.address,t)},getName:function(){return this.data.readString(this.address+Cs.$name.address)},setName:function(t){this.data.writeString(this.address+Cs.$name.address,t)},getMembers:function(){return this._members.setAddress(this.data.readInt(this.address+Cs.members.address)),this._members},createMembers:function(t){return this._members.allocateNew(t),this.data.writeInt(this.address+Cs.members.address,this._members.getAddress()),this._members},getAllScenes:function(){return this.data.readBool(this.address+Cs.allScenes.address)},setAllScenes:function(t){this.data.writeBool(this.address+Cs.allScenes.address,t)},__class__:Cs});var Is=function(t){this.data=t};r["com.stencyl.io.mbs.game.MbsCollisionGroup"]=Is,Is.__name__="com.stencyl.io.mbs.game.MbsCollisionGroup",Is.initializeType=function(){null==Is.MBS_COLLISION_GROUP&&(Is.MBS_COLLISION_GROUP=new vs("MbsCollisionGroup"),Is.MBS_COLLISION_GROUP.setInstantiator(function(t){return new Is(t)}),Is.id=Is.MBS_COLLISION_GROUP.createField("id",ys.INTEGER),Is.$name=Is.MBS_COLLISION_GROUP.createField("name",ys.STRING))},Is.new_MbsCollisionGroup_list=function(t){return new S_(t,Is.MBS_COLLISION_GROUP,new Is(t))},Is.__super__=_s,Is.prototype=i(_s.prototype,{getMbsType:function(){return Is.MBS_COLLISION_GROUP},allocateNew:function(){this.setAddress(this.data.allocate(Is.MBS_COLLISION_GROUP.getSize()))},getId:function(){return this.data.readInt(this.address+Is.id.address)},setId:function(t){this.data.writeInt(this.address+Is.id.address,t)},getName:function(){return this.data.readString(this.address+Is.$name.address)},setName:function(t){this.data.writeString(this.address+Is.$name.address,t)},__class__:Is});var Es=function(t){this.data=t};r["com.stencyl.io.mbs.game.MbsCollisionPair"]=Es,Es.__name__="com.stencyl.io.mbs.game.MbsCollisionPair",Es.initializeType=function(){null==Es.MBS_COLLISION_PAIR&&(Es.MBS_COLLISION_PAIR=new vs("MbsCollisionPair"),Es.MBS_COLLISION_PAIR.setInstantiator(function(t){return new Es(t)}),Es.group1=Es.MBS_COLLISION_PAIR.createField("group1",ys.INTEGER),Es.group2=Es.MBS_COLLISION_PAIR.createField("group2",ys.INTEGER))},Es.new_MbsCollisionPair_list=function(t){return new S_(t,Es.MBS_COLLISION_PAIR,new Es(t))},Es.__super__=_s,Es.prototype=i(_s.prototype,{getMbsType:function(){return Es.MBS_COLLISION_PAIR},allocateNew:function(){this.setAddress(this.data.allocate(Es.MBS_COLLISION_PAIR.getSize()))},getGroup1:function(){return this.data.readInt(this.address+Es.group1.address)},setGroup1:function(t){this.data.writeInt(this.address+Es.group1.address,t)},getGroup2:function(){return this.data.readInt(this.address+Es.group2.address)},setGroup2:function(t){this.data.writeInt(this.address+Es.group2.address,t)},__class__:Es});var ks=function(t){this.data=t,this._points=new S_(t,tn.MBS_POINT,new tn(t))};r["com.stencyl.io.mbs.game.MbsCollisionShape"]=ks,ks.__name__="com.stencyl.io.mbs.game.MbsCollisionShape",ks.initializeType=function(){null==ks.MBS_COLLISION_SHAPE&&(ks.MBS_COLLISION_SHAPE=new vs("MbsCollisionShape"),ks.MBS_COLLISION_SHAPE.setInstantiator(function(t){return new ks(t)}),ks.id=ks.MBS_COLLISION_SHAPE.createField("id",ys.INTEGER),ks.points=ks.MBS_COLLISION_SHAPE.createField("points",ys.LIST))},ks.new_MbsCollisionShape_list=function(t){return new S_(t,ks.MBS_COLLISION_SHAPE,new ks(t))},ks.__super__=_s,ks.prototype=i(_s.prototype,{getMbsType:function(){return ks.MBS_COLLISION_SHAPE},_points:null,allocateNew:function(){this.setAddress(this.data.allocate(ks.MBS_COLLISION_SHAPE.getSize()))},getId:function(){return this.data.readInt(this.address+ks.id.address)},setId:function(t){this.data.writeInt(this.address+ks.id.address,t)},getPoints:function(){return this._points.setAddress(this.data.readInt(this.address+ks.points.address)),this._points},createPoints:function(t){return this._points.allocateNew(t),this.data.writeInt(this.address+ks.points.address,this._points.getAddress()),this._points},__class__:ks});var Fs=function(t){this.data=t,this._shapes=new S_(t,ks.MBS_COLLISION_SHAPE,new ks(t)),this._atlases=new S_(t,Cs.MBS_ATLAS,new Cs(t)),this._autotileFormats=new S_(t,Bs.MBS_AUTOTILE_FORMAT,new Bs(t)),this._groups=new S_(t,Is.MBS_COLLISION_GROUP,new Is(t)),this._cgroups=new S_(t,Es.MBS_COLLISION_PAIR,new Es(t)),this._gameAttributes=new S_(t,hn.MBS_MAP_ELEMENT,new hn(t))};r["com.stencyl.io.mbs.game.MbsGame"]=Fs,Fs.__name__="com.stencyl.io.mbs.game.MbsGame",Fs.initializeType=function(){null==Fs.MBS_GAME&&(Fs.MBS_GAME=new vs("MbsGame"),Fs.MBS_GAME.setInstantiator(function(t){return new Fs(t)}),Fs.shapes=Fs.MBS_GAME.createField("shapes",ys.LIST),Fs.atlases=Fs.MBS_GAME.createField("atlases",ys.LIST),Fs.autotileFormats=Fs.MBS_GAME.createField("autotileFormats",ys.LIST),Fs.groups=Fs.MBS_GAME.createField("groups",ys.LIST),Fs.cgroups=Fs.MBS_GAME.createField("cgroups",ys.LIST),Fs.gameAttributes=Fs.MBS_GAME.createField("gameAttributes",ys.LIST))},Fs.new_MbsGame_list=function(t){return new S_(t,Fs.MBS_GAME,new Fs(t))},Fs.__super__=_s,Fs.prototype=i(_s.prototype,{getMbsType:function(){return Fs.MBS_GAME},_shapes:null,_atlases:null,_autotileFormats:null,_groups:null,_cgroups:null,_gameAttributes:null,allocateNew:function(){this.setAddress(this.data.allocate(Fs.MBS_GAME.getSize()))},getShapes:function(){return this._shapes.setAddress(this.data.readInt(this.address+Fs.shapes.address)),this._shapes},createShapes:function(t){return this._shapes.allocateNew(t),this.data.writeInt(this.address+Fs.shapes.address,this._shapes.getAddress()),this._shapes},getAtlases:function(){return this._atlases.setAddress(this.data.readInt(this.address+Fs.atlases.address)),this._atlases},createAtlases:function(t){return this._atlases.allocateNew(t),this.data.writeInt(this.address+Fs.atlases.address,this._atlases.getAddress()),this._atlases},getAutotileFormats:function(){return this._autotileFormats.setAddress(this.data.readInt(this.address+Fs.autotileFormats.address)),this._autotileFormats},createAutotileFormats:function(t){return this._autotileFormats.allocateNew(t),this.data.writeInt(this.address+Fs.autotileFormats.address,this._autotileFormats.getAddress()),this._autotileFormats},getGroups:function(){return this._groups.setAddress(this.data.readInt(this.address+Fs.groups.address)),this._groups},createGroups:function(t){return this._groups.allocateNew(t),this.data.writeInt(this.address+Fs.groups.address,this._groups.getAddress()),this._groups},getCgroups:function(){return this._cgroups.setAddress(this.data.readInt(this.address+Fs.cgroups.address)),this._cgroups},createCgroups:function(t){return this._cgroups.allocateNew(t),this.data.writeInt(this.address+Fs.cgroups.address,this._cgroups.getAddress()),this._cgroups},getGameAttributes:function(){return this._gameAttributes.setAddress(this.data.readInt(this.address+Fs.gameAttributes.address)),this._gameAttributes},createGameAttributes:function(t){return this._gameAttributes.allocateNew(t),this.data.writeInt(this.address+Fs.gameAttributes.address,this._gameAttributes.getAddress()),this._gameAttributes},__class__:Fs});var Bs=function(t){this.data=t,this._corners=new S_(t,Ds.MBS_CORNERS,new Ds(t)),this._flags=new T_(t)};r["com.stencyl.io.mbs.game.autotile.MbsAutotileFormat"]=Bs,Bs.__name__="com.stencyl.io.mbs.game.autotile.MbsAutotileFormat",Bs.initializeType=function(){null==Bs.MBS_AUTOTILE_FORMAT&&(Bs.MBS_AUTOTILE_FORMAT=new vs("MbsAutotileFormat"),Bs.MBS_AUTOTILE_FORMAT.setInstantiator(function(t){return new Bs(t)}),Bs.id=Bs.MBS_AUTOTILE_FORMAT.createField("id",ys.INTEGER),Bs.$name=Bs.MBS_AUTOTILE_FORMAT.createField("name",ys.STRING),Bs.across=Bs.MBS_AUTOTILE_FORMAT.createField("across",ys.INTEGER),Bs.down=Bs.MBS_AUTOTILE_FORMAT.createField("down",ys.INTEGER),Bs.corners=Bs.MBS_AUTOTILE_FORMAT.createField("corners",ys.LIST),Bs.flags=Bs.MBS_AUTOTILE_FORMAT.createField("flags",ys.LIST))},Bs.new_MbsAutotileFormat_list=function(t){return new S_(t,Bs.MBS_AUTOTILE_FORMAT,new Bs(t))},Bs.__super__=_s,Bs.prototype=i(_s.prototype,{getMbsType:function(){return Bs.MBS_AUTOTILE_FORMAT},_corners:null,_flags:null,allocateNew:function(){this.setAddress(this.data.allocate(Bs.MBS_AUTOTILE_FORMAT.getSize()))},getId:function(){return this.data.readInt(this.address+Bs.id.address)},setId:function(t){this.data.writeInt(this.address+Bs.id.address,t)},getName:function(){return this.data.readString(this.address+Bs.$name.address)},setName:function(t){this.data.writeString(this.address+Bs.$name.address,t)},getAcross:function(){return this.data.readInt(this.address+Bs.across.address)},setAcross:function(t){this.data.writeInt(this.address+Bs.across.address,t)},getDown:function(){return this.data.readInt(this.address+Bs.down.address)},setDown:function(t){this.data.writeInt(this.address+Bs.down.address,t)},getCorners:function(){return this._corners.setAddress(this.data.readInt(this.address+Bs.corners.address)),this._corners},createCorners:function(t){return this._corners.allocateNew(t),this.data.writeInt(this.address+Bs.corners.address,this._corners.getAddress()),this._corners},getFlags:function(){return this._flags.setAddress(this.data.readInt(this.address+Bs.flags.address)),this._flags},createFlags:function(t){return this._flags.allocateNew(t),this.data.writeInt(this.address+Bs.flags.address,this._flags.getAddress()),this._flags},__class__:Bs});var Ds=function(t){this.data=t,this._topLeft=new tn(t),this._topRight=new tn(t),this._bottomLeft=new tn(t),this._bottomRight=new tn(t)};r["com.stencyl.io.mbs.game.autotile.MbsCorners"]=Ds,Ds.__name__="com.stencyl.io.mbs.game.autotile.MbsCorners",Ds.initializeType=function(){null==Ds.MBS_CORNERS&&(Ds.MBS_CORNERS=new vs("MbsCorners"),Ds.MBS_CORNERS.setInstantiator(function(t){return new Ds(t)}),Ds.topLeft=Ds.MBS_CORNERS.createField("topLeft",tn.MBS_POINT),Ds.topRight=Ds.MBS_CORNERS.createField("topRight",tn.MBS_POINT),Ds.bottomLeft=Ds.MBS_CORNERS.createField("bottomLeft",tn.MBS_POINT),Ds.bottomRight=Ds.MBS_CORNERS.createField("bottomRight",tn.MBS_POINT))},Ds.new_MbsCorners_list=function(t){return new S_(t,Ds.MBS_CORNERS,new Ds(t))},Ds.__super__=_s,Ds.prototype=i(_s.prototype,{getMbsType:function(){return Ds.MBS_CORNERS},_topLeft:null,_topRight:null,_bottomLeft:null,_bottomRight:null,allocateNew:function(){this.setAddress(this.data.allocate(Ds.MBS_CORNERS.getSize()))},getTopLeft:function(){return this._topLeft.setAddress(this.address+Ds.topLeft.address),this._topLeft},getTopRight:function(){return this._topRight.setAddress(this.address+Ds.topRight.address),this._topRight},getBottomLeft:function(){return this._bottomLeft.setAddress(this.address+Ds.bottomLeft.address),this._bottomLeft},getBottomRight:function(){return this._bottomRight.setAddress(this.address+Ds.bottomRight.address),this._bottomRight},__class__:Ds});var Ls=function(t){this.data=t,this._snippets=new S_(t,_n.MBS_SNIPPET,new _n(t))};r["com.stencyl.io.mbs.scene.MbsActorInstance"]=Ls,Ls.__name__="com.stencyl.io.mbs.scene.MbsActorInstance",Ls.initializeType=function(){null==Ls.MBS_ACTOR_INSTANCE&&(Ls.MBS_ACTOR_INSTANCE=new vs("MbsActorInstance"),Ls.MBS_ACTOR_INSTANCE.setInstantiator(function(t){return new Ls(t)}),Ls.angle=Ls.MBS_ACTOR_INSTANCE.createField("angle",ys.FLOAT),Ls.aid=Ls.MBS_ACTOR_INSTANCE.createField("aid",ys.INTEGER),Ls.customized=Ls.MBS_ACTOR_INSTANCE.createField("customized",ys.BOOLEAN),Ls.groupID=Ls.MBS_ACTOR_INSTANCE.createField("groupID",ys.INTEGER),Ls.id=Ls.MBS_ACTOR_INSTANCE.createField("id",ys.INTEGER),Ls.$name=Ls.MBS_ACTOR_INSTANCE.createField("name",ys.STRING),Ls.scaleX=Ls.MBS_ACTOR_INSTANCE.createField("scaleX",ys.FLOAT),Ls.scaleY=Ls.MBS_ACTOR_INSTANCE.createField("scaleY",ys.FLOAT),Ls.x=Ls.MBS_ACTOR_INSTANCE.createField("x",ys.INTEGER),Ls.y=Ls.MBS_ACTOR_INSTANCE.createField("y",ys.INTEGER),Ls.z=Ls.MBS_ACTOR_INSTANCE.createField("z",ys.INTEGER),Ls.orderInLayer=Ls.MBS_ACTOR_INSTANCE.createField("orderInLayer",ys.INTEGER),Ls.snippets=Ls.MBS_ACTOR_INSTANCE.createField("snippets",ys.LIST))},Ls.new_MbsActorInstance_list=function(t){return new S_(t,Ls.MBS_ACTOR_INSTANCE,new Ls(t))},Ls.__super__=_s,Ls.prototype=i(_s.prototype,{getMbsType:function(){return Ls.MBS_ACTOR_INSTANCE},_snippets:null,allocateNew:function(){this.setAddress(this.data.allocate(Ls.MBS_ACTOR_INSTANCE.getSize()))},getAngle:function(){return this.data.readFloat(this.address+Ls.angle.address)},setAngle:function(t){this.data.writeFloat(this.address+Ls.angle.address,t)},getAid:function(){return this.data.readInt(this.address+Ls.aid.address)},setAid:function(t){this.data.writeInt(this.address+Ls.aid.address,t)},getCustomized:function(){return this.data.readBool(this.address+Ls.customized.address)},setCustomized:function(t){this.data.writeBool(this.address+Ls.customized.address,t)},getGroupID:function(){return this.data.readInt(this.address+Ls.groupID.address)},setGroupID:function(t){this.data.writeInt(this.address+Ls.groupID.address,t)},getId:function(){return this.data.readInt(this.address+Ls.id.address)},setId:function(t){this.data.writeInt(this.address+Ls.id.address,t)},getName:function(){return this.data.readString(this.address+Ls.$name.address)},setName:function(t){this.data.writeString(this.address+Ls.$name.address,t)},getScaleX:function(){return this.data.readFloat(this.address+Ls.scaleX.address)},setScaleX:function(t){this.data.writeFloat(this.address+Ls.scaleX.address,t)},getScaleY:function(){return this.data.readFloat(this.address+Ls.scaleY.address)},setScaleY:function(t){this.data.writeFloat(this.address+Ls.scaleY.address,t)},getX:function(){return this.data.readInt(this.address+Ls.x.address)},setX:function(t){this.data.writeInt(this.address+Ls.x.address,t)},getY:function(){return this.data.readInt(this.address+Ls.y.address)},setY:function(t){this.data.writeInt(this.address+Ls.y.address,t)},getZ:function(){return this.data.readInt(this.address+Ls.z.address)},setZ:function(t){this.data.writeInt(this.address+Ls.z.address,t)},getOrderInLayer:function(){return this.data.readInt(this.address+Ls.orderInLayer.address)},setOrderInLayer:function(t){this.data.writeInt(this.address+Ls.orderInLayer.address,t)},getSnippets:function(){return this._snippets.setAddress(this.data.readInt(this.address+Ls.snippets.address)),this._snippets},createSnippets:function(t){return this._snippets.allocateNew(t),this.data.writeInt(this.address+Ls.snippets.address,this._snippets.getAddress()),this._snippets},__class__:Ls});var Ns=function(t){this.data=t,this._actorInstances=new S_(t,Ls.MBS_ACTOR_INSTANCE,new Ls(t)),this._atlasMembers=new T_(t),this._layers=new P_(t),this._joints=new P_(t),this._regions=new S_(t,Ks.MBS_REGION,new Ks(t)),this._snippets=new S_(t,_n.MBS_SNIPPET,new _n(t)),this._terrain=new S_(t,nn.MBS_WIREFRAME,new nn(t)),this._terrainRegions=new S_(t,Qs.MBS_TERRAIN_REGION,new Qs(t))};r["com.stencyl.io.mbs.scene.MbsScene"]=Ns,Ns.__name__="com.stencyl.io.mbs.scene.MbsScene",Ns.initializeType=function(){null==Ns.MBS_SCENE&&(Ns.MBS_SCENE=new vs("MbsScene"),Ns.MBS_SCENE.setInstantiator(function(t){return new Ns(t)}),Ns.retainAtlases=Ns.MBS_SCENE.createField("retainAtlases",ys.BOOLEAN),Ns.depth=Ns.MBS_SCENE.createField("depth",ys.INTEGER),Ns.description=Ns.MBS_SCENE.createField("description",ys.STRING),Ns.eventSnippetID=Ns.MBS_SCENE.createField("eventSnippetID",ys.INTEGER),Ns.extendedHeight=Ns.MBS_SCENE.createField("extendedHeight",ys.INTEGER),Ns.extendedWidth=Ns.MBS_SCENE.createField("extendedWidth",ys.INTEGER),Ns.extendedX=Ns.MBS_SCENE.createField("extendedX",ys.INTEGER),Ns.extendedY=Ns.MBS_SCENE.createField("extendedY",ys.INTEGER),Ns.format=Ns.MBS_SCENE.createField("format",ys.STRING),Ns.gravityX=Ns.MBS_SCENE.createField("gravityX",ys.FLOAT),Ns.gravityY=Ns.MBS_SCENE.createField("gravityY",ys.FLOAT),Ns.height=Ns.MBS_SCENE.createField("height",ys.INTEGER),Ns.id=Ns.MBS_SCENE.createField("id",ys.INTEGER),Ns.$name=Ns.MBS_SCENE.createField("name",ys.STRING),Ns.revision=Ns.MBS_SCENE.createField("revision",ys.STRING),Ns.savecount=Ns.MBS_SCENE.createField("savecount",ys.INTEGER),Ns.tileDepth=Ns.MBS_SCENE.createField("tileDepth",ys.INTEGER),Ns.tileHeight=Ns.MBS_SCENE.createField("tileHeight",ys.INTEGER),Ns.tileWidth=Ns.MBS_SCENE.createField("tileWidth",ys.INTEGER),Ns.type=Ns.MBS_SCENE.createField("type",ys.STRING),Ns.width=Ns.MBS_SCENE.createField("width",ys.INTEGER),Ns.actorInstances=Ns.MBS_SCENE.createField("actorInstances",ys.LIST),Ns.atlasMembers=Ns.MBS_SCENE.createField("atlasMembers",ys.LIST),Ns.layers=Ns.MBS_SCENE.createField("layers",ys.LIST),Ns.joints=Ns.MBS_SCENE.createField("joints",ys.LIST),Ns.regions=Ns.MBS_SCENE.createField("regions",ys.LIST),Ns.snippets=Ns.MBS_SCENE.createField("snippets",ys.LIST),Ns.terrain=Ns.MBS_SCENE.createField("terrain",ys.LIST),Ns.terrainRegions=Ns.MBS_SCENE.createField("terrainRegions",ys.LIST))},Ns.new_MbsScene_list=function(t){return new S_(t,Ns.MBS_SCENE,new Ns(t))},Ns.__super__=_s,Ns.prototype=i(_s.prototype,{getMbsType:function(){return Ns.MBS_SCENE},_actorInstances:null,_atlasMembers:null,_layers:null,_joints:null,_regions:null,_snippets:null,_terrain:null,_terrainRegions:null,allocateNew:function(){this.setAddress(this.data.allocate(Ns.MBS_SCENE.getSize()))},getRetainAtlases:function(){return this.data.readBool(this.address+Ns.retainAtlases.address)},setRetainAtlases:function(t){this.data.writeBool(this.address+Ns.retainAtlases.address,t)},getDepth:function(){return this.data.readInt(this.address+Ns.depth.address)},setDepth:function(t){this.data.writeInt(this.address+Ns.depth.address,t)},getDescription:function(){return this.data.readString(this.address+Ns.description.address)},setDescription:function(t){this.data.writeString(this.address+Ns.description.address,t)},getEventSnippetID:function(){return this.data.readInt(this.address+Ns.eventSnippetID.address)},setEventSnippetID:function(t){this.data.writeInt(this.address+Ns.eventSnippetID.address,t)},getExtendedHeight:function(){return this.data.readInt(this.address+Ns.extendedHeight.address)},setExtendedHeight:function(t){this.data.writeInt(this.address+Ns.extendedHeight.address,t)},getExtendedWidth:function(){return this.data.readInt(this.address+Ns.extendedWidth.address)},setExtendedWidth:function(t){this.data.writeInt(this.address+Ns.extendedWidth.address,t)},getExtendedX:function(){return this.data.readInt(this.address+Ns.extendedX.address)},setExtendedX:function(t){this.data.writeInt(this.address+Ns.extendedX.address,t)},getExtendedY:function(){return this.data.readInt(this.address+Ns.extendedY.address)},setExtendedY:function(t){this.data.writeInt(this.address+Ns.extendedY.address,t)},getFormat:function(){return this.data.readString(this.address+Ns.format.address)},setFormat:function(t){this.data.writeString(this.address+Ns.format.address,t)},getGravityX:function(){return this.data.readFloat(this.address+Ns.gravityX.address)},setGravityX:function(t){this.data.writeFloat(this.address+Ns.gravityX.address,t)},getGravityY:function(){return this.data.readFloat(this.address+Ns.gravityY.address)},setGravityY:function(t){this.data.writeFloat(this.address+Ns.gravityY.address,t)},getHeight:function(){return this.data.readInt(this.address+Ns.height.address)},setHeight:function(t){this.data.writeInt(this.address+Ns.height.address,t)},getId:function(){return this.data.readInt(this.address+Ns.id.address)},setId:function(t){this.data.writeInt(this.address+Ns.id.address,t)},getName:function(){return this.data.readString(this.address+Ns.$name.address)},setName:function(t){this.data.writeString(this.address+Ns.$name.address,t)},getRevision:function(){return this.data.readString(this.address+Ns.revision.address)},setRevision:function(t){this.data.writeString(this.address+Ns.revision.address,t)},getSavecount:function(){return this.data.readInt(this.address+Ns.savecount.address)},setSavecount:function(t){this.data.writeInt(this.address+Ns.savecount.address,t)},getTileDepth:function(){return this.data.readInt(this.address+Ns.tileDepth.address)},setTileDepth:function(t){this.data.writeInt(this.address+Ns.tileDepth.address,t)},getTileHeight:function(){return this.data.readInt(this.address+Ns.tileHeight.address)},setTileHeight:function(t){this.data.writeInt(this.address+Ns.tileHeight.address,t)},getTileWidth:function(){return this.data.readInt(this.address+Ns.tileWidth.address)},setTileWidth:function(t){this.data.writeInt(this.address+Ns.tileWidth.address,t)},getType:function(){return this.data.readString(this.address+Ns.type.address)},setType:function(t){this.data.writeString(this.address+Ns.type.address,t)},getWidth:function(){return this.data.readInt(this.address+Ns.width.address)},setWidth:function(t){this.data.writeInt(this.address+Ns.width.address,t)},getActorInstances:function(){return this._actorInstances.setAddress(this.data.readInt(this.address+Ns.actorInstances.address)),this._actorInstances},createActorInstances:function(t){return this._actorInstances.allocateNew(t),this.data.writeInt(this.address+Ns.actorInstances.address,this._actorInstances.getAddress()),this._actorInstances},getAtlasMembers:function(){return this._atlasMembers.setAddress(this.data.readInt(this.address+Ns.atlasMembers.address)),this._atlasMembers},createAtlasMembers:function(t){return this._atlasMembers.allocateNew(t),this.data.writeInt(this.address+Ns.atlasMembers.address,this._atlasMembers.getAddress()),this._atlasMembers},getLayers:function(){return this._layers.setAddress(this.data.readInt(this.address+Ns.layers.address)),this._layers},createLayers:function(t){return this._layers.allocateNew(t),this.data.writeInt(this.address+Ns.layers.address,this._layers.getAddress()),this._layers},getJoints:function(){return this._joints.setAddress(this.data.readInt(this.address+Ns.joints.address)),this._joints},createJoints:function(t){return this._joints.allocateNew(t),this.data.writeInt(this.address+Ns.joints.address,this._joints.getAddress()),this._joints},getRegions:function(){return this._regions.setAddress(this.data.readInt(this.address+Ns.regions.address)),this._regions},createRegions:function(t){return this._regions.allocateNew(t),this.data.writeInt(this.address+Ns.regions.address,this._regions.getAddress()),this._regions},getSnippets:function(){return this._snippets.setAddress(this.data.readInt(this.address+Ns.snippets.address)),this._snippets},createSnippets:function(t){return this._snippets.allocateNew(t),this.data.writeInt(this.address+Ns.snippets.address,this._snippets.getAddress()),this._snippets},getTerrain:function(){return this._terrain.setAddress(this.data.readInt(this.address+Ns.terrain.address)),this._terrain},createTerrain:function(t){return this._terrain.allocateNew(t),this.data.writeInt(this.address+Ns.terrain.address,this._terrain.getAddress()),this._terrain},getTerrainRegions:function(){return this._terrainRegions.setAddress(this.data.readInt(this.address+Ns.terrainRegions.address)),this._terrainRegions},createTerrainRegions:function(t){return this._terrainRegions.allocateNew(t),this.data.writeInt(this.address+Ns.terrainRegions.address,this._terrainRegions.getAddress()),this._terrainRegions},__class__:Ns});var Os=function(t){this.data=t};r["com.stencyl.io.mbs.scene.MbsSceneHeader"]=Os,Os.__name__="com.stencyl.io.mbs.scene.MbsSceneHeader",Os.initializeType=function(){null==Os.MBS_SCENE_HEADER&&(Os.MBS_SCENE_HEADER=new vs("MbsSceneHeader"),Os.MBS_SCENE_HEADER.setInstantiator(function(t){return new Os(t)}),Os.id=Os.MBS_SCENE_HEADER.createField("id",ys.INTEGER),Os.$name=Os.MBS_SCENE_HEADER.createField("name",ys.STRING),Os.description=Os.MBS_SCENE_HEADER.createField("description",ys.STRING))},Os.new_MbsSceneHeader_list=function(t){return new S_(t,Os.MBS_SCENE_HEADER,new Os(t))},Os.__super__=_s,Os.prototype=i(_s.prototype,{getMbsType:function(){return Os.MBS_SCENE_HEADER},allocateNew:function(){this.setAddress(this.data.allocate(Os.MBS_SCENE_HEADER.getSize()))},getId:function(){return this.data.readInt(this.address+Os.id.address)},setId:function(t){this.data.writeInt(this.address+Os.id.address,t)},getName:function(){return this.data.readString(this.address+Os.$name.address)},setName:function(t){this.data.writeString(this.address+Os.$name.address,t)},getDescription:function(){return this.data.readString(this.address+Os.description.address)},setDescription:function(t){this.data.writeString(this.address+Os.description.address,t)},__class__:Os});var Vs=function(t){this.data=t,this._durations=new T_(t),this._autotileMerge=new T_(t)};r["com.stencyl.io.mbs.scene.MbsTile"]=Vs,Vs.__name__="com.stencyl.io.mbs.scene.MbsTile",Vs.initializeType=function(){null==Vs.MBS_TILE&&(Vs.MBS_TILE=new vs("MbsTile"),Vs.MBS_TILE.setInstantiator(function(t){return new Vs(t)}),Vs.collision=Vs.MBS_TILE.createField("collision",ys.INTEGER),Vs.metadata=Vs.MBS_TILE.createField("metadata",ys.STRING),Vs.durations=Vs.MBS_TILE.createField("durations",ys.LIST),Vs.frames=Vs.MBS_TILE.createField("frames",ys.INTEGER),Vs.id=Vs.MBS_TILE.createField("id",ys.INTEGER),Vs.order=Vs.MBS_TILE.createField("order",ys.INTEGER),Vs.autotile=Vs.MBS_TILE.createField("autotile",ys.INTEGER),Vs.autotileMerge=Vs.MBS_TILE.createField("autotileMerge",ys.LIST))},Vs.new_MbsTile_list=function(t){return new S_(t,Vs.MBS_TILE,new Vs(t))},Vs.__super__=_s,Vs.prototype=i(_s.prototype,{getMbsType:function(){return Vs.MBS_TILE},_durations:null,_autotileMerge:null,allocateNew:function(){this.setAddress(this.data.allocate(Vs.MBS_TILE.getSize()))},getCollision:function(){return this.data.readInt(this.address+Vs.collision.address)},setCollision:function(t){this.data.writeInt(this.address+Vs.collision.address,t)},getMetadata:function(){return this.data.readString(this.address+Vs.metadata.address)},setMetadata:function(t){this.data.writeString(this.address+Vs.metadata.address,t)},getDurations:function(){return this._durations.setAddress(this.data.readInt(this.address+Vs.durations.address)),this._durations},createDurations:function(t){return this._durations.allocateNew(t),this.data.writeInt(this.address+Vs.durations.address,this._durations.getAddress()),this._durations},getFrames:function(){return this.data.readInt(this.address+Vs.frames.address)},setFrames:function(t){this.data.writeInt(this.address+Vs.frames.address,t)},getId:function(){return this.data.readInt(this.address+Vs.id.address)},setId:function(t){this.data.writeInt(this.address+Vs.id.address,t)},getOrder:function(){return this.data.readInt(this.address+Vs.order.address)},setOrder:function(t){this.data.writeInt(this.address+Vs.order.address,t)},getAutotile:function(){return this.data.readInt(this.address+Vs.autotile.address)},setAutotile:function(t){this.data.writeInt(this.address+Vs.autotile.address,t)},getAutotileMerge:function(){return this._autotileMerge.setAddress(this.data.readInt(this.address+Vs.autotileMerge.address)),this._autotileMerge},createAutotileMerge:function(t){return this._autotileMerge.allocateNew(t),this.data.writeInt(this.address+Vs.autotileMerge.address,this._autotileMerge.getAddress()),this._autotileMerge},__class__:Vs});var Gs=function(t){this.data=t,this._tiles=new S_(t,Vs.MBS_TILE,new Vs(t))};r["com.stencyl.io.mbs.scene.MbsTileset"]=Gs,Gs.__name__="com.stencyl.io.mbs.scene.MbsTileset",Gs.initializeType=function(){null==Gs.MBS_TILESET&&(cs.initializeType(),Gs.MBS_TILESET=new vs("MbsTileset"),Gs.MBS_TILESET.setInstantiator(function(t){return new Gs(t)}),Gs.MBS_TILESET.inherit(cs.MBS_RESOURCE),Gs.across=Gs.MBS_TILESET.createField("across",ys.INTEGER),Gs.down=Gs.MBS_TILESET.createField("down",ys.INTEGER),Gs.readableImages=Gs.MBS_TILESET.createField("readableImages",ys.BOOLEAN),Gs.tileWidth=Gs.MBS_TILESET.createField("tileWidth",ys.INTEGER),Gs.tileHeight=Gs.MBS_TILESET.createField("tileHeight",ys.INTEGER),Gs.tiles=Gs.MBS_TILESET.createField("tiles",ys.LIST))},Gs.new_MbsTileset_list=function(t){return new S_(t,Gs.MBS_TILESET,new Gs(t))},Gs.__super__=cs,Gs.prototype=i(cs.prototype,{getMbsType:function(){return Gs.MBS_TILESET},_tiles:null,allocateNew:function(){this.setAddress(this.data.allocate(Gs.MBS_TILESET.getSize()))},getAcross:function(){return this.data.readInt(this.address+Gs.across.address)},setAcross:function(t){this.data.writeInt(this.address+Gs.across.address,t)},getDown:function(){return this.data.readInt(this.address+Gs.down.address)},setDown:function(t){this.data.writeInt(this.address+Gs.down.address,t)},getReadableImages:function(){return this.data.readBool(this.address+Gs.readableImages.address)},setReadableImages:function(t){this.data.writeBool(this.address+Gs.readableImages.address,t)},getTileWidth:function(){return this.data.readInt(this.address+Gs.tileWidth.address)},setTileWidth:function(t){this.data.writeInt(this.address+Gs.tileWidth.address,t)},getTileHeight:function(){return this.data.readInt(this.address+Gs.tileHeight.address)},setTileHeight:function(t){this.data.writeInt(this.address+Gs.tileHeight.address,t)},getTiles:function(){return this._tiles.setAddress(this.data.readInt(this.address+Gs.tiles.address)),this._tiles},createTiles:function(t){return this._tiles.allocateNew(t),this.data.writeInt(this.address+Gs.tiles.address,this._tiles.getAddress()),this._tiles},__class__:Gs});var Us=function(t){this.data=t};r["com.stencyl.io.mbs.scene.layers.MbsColorBackground"]=Us,Us.__name__="com.stencyl.io.mbs.scene.layers.MbsColorBackground",Us.initializeType=function(){null==Us.MBS_COLOR_BACKGROUND&&(Us.MBS_COLOR_BACKGROUND=new vs("MbsColorBackground"),Us.MBS_COLOR_BACKGROUND.setInstantiator(function(t){return new Us(t)}),Us.color=Us.MBS_COLOR_BACKGROUND.createField("color",ys.INTEGER))},Us.new_MbsColorBackground_list=function(t){return new S_(t,Us.MBS_COLOR_BACKGROUND,new Us(t))},Us.__super__=_s,Us.prototype=i(_s.prototype,{getMbsType:function(){return Us.MBS_COLOR_BACKGROUND},allocateNew:function(){this.setAddress(this.data.allocate(Us.MBS_COLOR_BACKGROUND.getSize()))},getColor:function(){return this.data.readInt(this.address+Us.color.address)},setColor:function(t){this.data.writeInt(this.address+Us.color.address,t)},__class__:Us});var zs=function(t){this.data=t};r["com.stencyl.io.mbs.scene.layers.MbsGradientBackground"]=zs,zs.__name__="com.stencyl.io.mbs.scene.layers.MbsGradientBackground",zs.initializeType=function(){null==zs.MBS_GRADIENT_BACKGROUND&&(zs.MBS_GRADIENT_BACKGROUND=new vs("MbsGradientBackground"),zs.MBS_GRADIENT_BACKGROUND.setInstantiator(function(t){return new zs(t)}),zs.color1=zs.MBS_GRADIENT_BACKGROUND.createField("color1",ys.INTEGER),zs.color2=zs.MBS_GRADIENT_BACKGROUND.createField("color2",ys.INTEGER))},zs.new_MbsGradientBackground_list=function(t){return new S_(t,zs.MBS_GRADIENT_BACKGROUND,new zs(t))},zs.__super__=_s,zs.prototype=i(_s.prototype,{getMbsType:function(){return zs.MBS_GRADIENT_BACKGROUND},allocateNew:function(){this.setAddress(this.data.allocate(zs.MBS_GRADIENT_BACKGROUND.getSize()))},getColor1:function(){return this.data.readInt(this.address+zs.color1.address)},setColor1:function(t){this.data.writeInt(this.address+zs.color1.address,t)},getColor2:function(){return this.data.readInt(this.address+zs.color2.address)},setColor2:function(t){this.data.writeInt(this.address+zs.color2.address,t)},__class__:zs});var Hs=function(t){this.data=t};r["com.stencyl.io.mbs.scene.layers.MbsLayer"]=Hs,Hs.__name__="com.stencyl.io.mbs.scene.layers.MbsLayer",Hs.initializeType=function(){null==Hs.MBS_LAYER&&(Hs.MBS_LAYER=new vs("MbsLayer"),Hs.MBS_LAYER.setInstantiator(function(t){return new Hs(t)}),Hs.id=Hs.MBS_LAYER.createField("id",ys.INTEGER),Hs.$name=Hs.MBS_LAYER.createField("name",ys.STRING),Hs.order=Hs.MBS_LAYER.createField("order",ys.INTEGER),Hs.opacity=Hs.MBS_LAYER.createField("opacity",ys.INTEGER),Hs.blendmode=Hs.MBS_LAYER.createField("blendmode",ys.STRING),Hs.scrollFactorX=Hs.MBS_LAYER.createField("scrollFactorX",ys.FLOAT),Hs.scrollFactorY=Hs.MBS_LAYER.createField("scrollFactorY",ys.FLOAT),Hs.visible=Hs.MBS_LAYER.createField("visible",ys.BOOLEAN),Hs.locked=Hs.MBS_LAYER.createField("locked",ys.BOOLEAN))},Hs.new_MbsLayer_list=function(t){return new S_(t,Hs.MBS_LAYER,new Hs(t))},Hs.__super__=_s,Hs.prototype=i(_s.prototype,{getMbsType:function(){return Hs.MBS_LAYER},allocateNew:function(){this.setAddress(this.data.allocate(Hs.MBS_LAYER.getSize()))},getId:function(){return this.data.readInt(this.address+Hs.id.address)},setId:function(t){this.data.writeInt(this.address+Hs.id.address,t)},getName:function(){return this.data.readString(this.address+Hs.$name.address)},setName:function(t){this.data.writeString(this.address+Hs.$name.address,t)},getOrder:function(){return this.data.readInt(this.address+Hs.order.address)},setOrder:function(t){this.data.writeInt(this.address+Hs.order.address,t)},getOpacity:function(){return this.data.readInt(this.address+Hs.opacity.address)},setOpacity:function(t){this.data.writeInt(this.address+Hs.opacity.address,t)},getBlendmode:function(){return this.data.readString(this.address+Hs.blendmode.address)},setBlendmode:function(t){this.data.writeString(this.address+Hs.blendmode.address,t)},getScrollFactorX:function(){return this.data.readFloat(this.address+Hs.scrollFactorX.address)},setScrollFactorX:function(t){this.data.writeFloat(this.address+Hs.scrollFactorX.address,t)},getScrollFactorY:function(){return this.data.readFloat(this.address+Hs.scrollFactorY.address)},setScrollFactorY:function(t){this.data.writeFloat(this.address+Hs.scrollFactorY.address,t)},getVisible:function(){return this.data.readBool(this.address+Hs.visible.address)},setVisible:function(t){this.data.writeBool(this.address+Hs.visible.address,t)},getLocked:function(){return this.data.readBool(this.address+Hs.locked.address)},setLocked:function(t){this.data.writeBool(this.address+Hs.locked.address,t)},__class__:Hs});var Ws=function(t){this.data=t};r["com.stencyl.io.mbs.scene.layers.MbsImageBackground"]=Ws,Ws.__name__="com.stencyl.io.mbs.scene.layers.MbsImageBackground",Ws.initializeType=function(){null==Ws.MBS_IMAGE_BACKGROUND&&(Hs.initializeType(),Ws.MBS_IMAGE_BACKGROUND=new vs("MbsImageBackground"),Ws.MBS_IMAGE_BACKGROUND.setInstantiator(function(t){return new Ws(t)}),Ws.MBS_IMAGE_BACKGROUND.inherit(Hs.MBS_LAYER),Ws.resourceID=Ws.MBS_IMAGE_BACKGROUND.createField("resourceID",ys.INTEGER),Ws.customScroll=Ws.MBS_IMAGE_BACKGROUND.createField("customScroll",ys.BOOLEAN))},Ws.new_MbsImageBackground_list=function(t){return new S_(t,Ws.MBS_IMAGE_BACKGROUND,new Ws(t))},Ws.__super__=Hs,Ws.prototype=i(Hs.prototype,{getMbsType:function(){return Ws.MBS_IMAGE_BACKGROUND},allocateNew:function(){this.setAddress(this.data.allocate(Ws.MBS_IMAGE_BACKGROUND.getSize()))},getResourceID:function(){return this.data.readInt(this.address+Ws.resourceID.address)},setResourceID:function(t){this.data.writeInt(this.address+Ws.resourceID.address,t)},getCustomScroll:function(){return this.data.readBool(this.address+Ws.customScroll.address)},setCustomScroll:function(t){this.data.writeBool(this.address+Ws.customScroll.address,t)},__class__:Ws});var Xs=function(t){this.data=t};r["com.stencyl.io.mbs.scene.layers.MbsInteractiveLayer"]=Xs,Xs.__name__="com.stencyl.io.mbs.scene.layers.MbsInteractiveLayer",Xs.initializeType=function(){null==Xs.MBS_INTERACTIVE_LAYER&&(Hs.initializeType(),Xs.MBS_INTERACTIVE_LAYER=new vs("MbsInteractiveLayer"),Xs.MBS_INTERACTIVE_LAYER.setInstantiator(function(t){return new Xs(t)}),Xs.MBS_INTERACTIVE_LAYER.inherit(Hs.MBS_LAYER),Xs.color=Xs.MBS_INTERACTIVE_LAYER.createField("color",ys.INTEGER))},Xs.new_MbsInteractiveLayer_list=function(t){return new S_(t,Xs.MBS_INTERACTIVE_LAYER,new Xs(t))},Xs.__super__=Hs,Xs.prototype=i(Hs.prototype,{getMbsType:function(){return Xs.MBS_INTERACTIVE_LAYER},allocateNew:function(){this.setAddress(this.data.allocate(Xs.MBS_INTERACTIVE_LAYER.getSize()))},getColor:function(){return this.data.readInt(this.address+Xs.color.address)},setColor:function(t){this.data.writeInt(this.address+Xs.color.address,t)},__class__:Xs});var Ys=function(t){this.data=t};r["com.stencyl.io.mbs.scene.physics.MbsJoint"]=Ys,Ys.__name__="com.stencyl.io.mbs.scene.physics.MbsJoint",Ys.initializeType=function(){null==Ys.MBS_JOINT&&(Ys.MBS_JOINT=new vs("MbsJoint"),Ys.MBS_JOINT.setInstantiator(function(t){return new Ys(t)}),Ys.id=Ys.MBS_JOINT.createField("id",ys.INTEGER),Ys.$name=Ys.MBS_JOINT.createField("name",ys.STRING),Ys.actor1=Ys.MBS_JOINT.createField("actor1",ys.INTEGER),Ys.actor2=Ys.MBS_JOINT.createField("actor2",ys.INTEGER),Ys.collide=Ys.MBS_JOINT.createField("collide",ys.BOOLEAN))},Ys.new_MbsJoint_list=function(t){return new S_(t,Ys.MBS_JOINT,new Ys(t))},Ys.__super__=_s,Ys.prototype=i(_s.prototype,{getMbsType:function(){return Ys.MBS_JOINT},allocateNew:function(){this.setAddress(this.data.allocate(Ys.MBS_JOINT.getSize()))},getId:function(){return this.data.readInt(this.address+Ys.id.address)},setId:function(t){this.data.writeInt(this.address+Ys.id.address,t)},getName:function(){return this.data.readString(this.address+Ys.$name.address)},setName:function(t){this.data.writeString(this.address+Ys.$name.address,t)},getActor1:function(){return this.data.readInt(this.address+Ys.actor1.address)},setActor1:function(t){this.data.writeInt(this.address+Ys.actor1.address,t)},getActor2:function(){return this.data.readInt(this.address+Ys.actor2.address)},setActor2:function(t){this.data.writeInt(this.address+Ys.actor2.address,t)},getCollide:function(){return this.data.readBool(this.address+Ys.collide.address)},setCollide:function(t){this.data.writeBool(this.address+Ys.collide.address,t)},__class__:Ys});var js=function(t){this.data=t};r["com.stencyl.io.mbs.scene.physics.MbsHingeJoint"]=js,js.__name__="com.stencyl.io.mbs.scene.physics.MbsHingeJoint",js.initializeType=function(){null==js.MBS_HINGE_JOINT&&(Ys.initializeType(),js.MBS_HINGE_JOINT=new vs("MbsHingeJoint"),js.MBS_HINGE_JOINT.setInstantiator(function(t){return new js(t)}),js.MBS_HINGE_JOINT.inherit(Ys.MBS_JOINT),js.limit=js.MBS_HINGE_JOINT.createField("limit",ys.BOOLEAN),js.motor=js.MBS_HINGE_JOINT.createField("motor",ys.BOOLEAN),js.lower=js.MBS_HINGE_JOINT.createField("lower",ys.FLOAT),js.upper=js.MBS_HINGE_JOINT.createField("upper",ys.FLOAT),js.torque=js.MBS_HINGE_JOINT.createField("torque",ys.FLOAT),js.speed=js.MBS_HINGE_JOINT.createField("speed",ys.FLOAT))},js.new_MbsHingeJoint_list=function(t){return new S_(t,js.MBS_HINGE_JOINT,new js(t))},js.__super__=Ys,js.prototype=i(Ys.prototype,{getMbsType:function(){return js.MBS_HINGE_JOINT},allocateNew:function(){this.setAddress(this.data.allocate(js.MBS_HINGE_JOINT.getSize()))},getLimit:function(){return this.data.readBool(this.address+js.limit.address)},setLimit:function(t){this.data.writeBool(this.address+js.limit.address,t)},getMotor:function(){return this.data.readBool(this.address+js.motor.address)},setMotor:function(t){this.data.writeBool(this.address+js.motor.address,t)},getLower:function(){return this.data.readFloat(this.address+js.lower.address)},setLower:function(t){this.data.writeFloat(this.address+js.lower.address,t)},getUpper:function(){return this.data.readFloat(this.address+js.upper.address)},setUpper:function(t){this.data.writeFloat(this.address+js.upper.address,t)},getTorque:function(){return this.data.readFloat(this.address+js.torque.address)},setTorque:function(t){this.data.writeFloat(this.address+js.torque.address,t)},getSpeed:function(){return this.data.readFloat(this.address+js.speed.address)},setSpeed:function(t){this.data.writeFloat(this.address+js.speed.address,t)},__class__:js});var Ks=function(t){this.data=t};r["com.stencyl.io.mbs.scene.physics.MbsRegion"]=Ks,Ks.__name__="com.stencyl.io.mbs.scene.physics.MbsRegion",Ks.initializeType=function(){null==Ks.MBS_REGION&&(Ks.MBS_REGION=new vs("MbsRegion"),Ks.MBS_REGION.setInstantiator(function(t){return new Ks(t)}),Ks.color=Ks.MBS_REGION.createField("color",ys.INTEGER),Ks.id=Ks.MBS_REGION.createField("id",ys.INTEGER),Ks.$name=Ks.MBS_REGION.createField("name",ys.STRING),Ks.shape=Ks.MBS_REGION.createField("shape",ys.DYNAMIC),Ks.x=Ks.MBS_REGION.createField("x",ys.INTEGER),Ks.y=Ks.MBS_REGION.createField("y",ys.INTEGER))},Ks.new_MbsRegion_list=function(t){return new S_(t,Ks.MBS_REGION,new Ks(t))},Ks.__super__=_s,Ks.prototype=i(_s.prototype,{getMbsType:function(){return Ks.MBS_REGION},allocateNew:function(){this.setAddress(this.data.allocate(Ks.MBS_REGION.getSize()))},getColor:function(){return this.data.readInt(this.address+Ks.color.address)},setColor:function(t){this.data.writeInt(this.address+Ks.color.address,t)},getId:function(){return this.data.readInt(this.address+Ks.id.address)},setId:function(t){this.data.writeInt(this.address+Ks.id.address,t)},getName:function(){return this.data.readString(this.address+Ks.$name.address)},setName:function(t){this.data.writeString(this.address+Ks.$name.address,t)},getShape:function(){return b_.readDynamic(this.data,this.address+Ks.shape.address)},setShape:function(t){b_.writeDynamic(this.data,this.address+Ks.shape.address,t)},getX:function(){return this.data.readInt(this.address+Ks.x.address)},setX:function(t){this.data.writeInt(this.address+Ks.x.address,t)},getY:function(){return this.data.readInt(this.address+Ks.y.address)},setY:function(t){this.data.writeInt(this.address+Ks.y.address,t)},__class__:Ks});var Js=function(t){this.data=t};r["com.stencyl.io.mbs.scene.physics.MbsSlidingJoint"]=Js,Js.__name__="com.stencyl.io.mbs.scene.physics.MbsSlidingJoint",Js.initializeType=function(){null==Js.MBS_SLIDING_JOINT&&(Ys.initializeType(),Js.MBS_SLIDING_JOINT=new vs("MbsSlidingJoint"),Js.MBS_SLIDING_JOINT.setInstantiator(function(t){return new Js(t)}),Js.MBS_SLIDING_JOINT.inherit(Ys.MBS_JOINT),Js.limit=Js.MBS_SLIDING_JOINT.createField("limit",ys.BOOLEAN),Js.motor=Js.MBS_SLIDING_JOINT.createField("motor",ys.BOOLEAN),Js.lower=Js.MBS_SLIDING_JOINT.createField("lower",ys.FLOAT),Js.upper=Js.MBS_SLIDING_JOINT.createField("upper",ys.FLOAT),Js.force=Js.MBS_SLIDING_JOINT.createField("force",ys.FLOAT),Js.speed=Js.MBS_SLIDING_JOINT.createField("speed",ys.FLOAT),Js.x=Js.MBS_SLIDING_JOINT.createField("x",ys.FLOAT),Js.y=Js.MBS_SLIDING_JOINT.createField("y",ys.FLOAT))},Js.new_MbsSlidingJoint_list=function(t){return new S_(t,Js.MBS_SLIDING_JOINT,new Js(t))},Js.__super__=Ys,Js.prototype=i(Ys.prototype,{getMbsType:function(){return Js.MBS_SLIDING_JOINT},allocateNew:function(){this.setAddress(this.data.allocate(Js.MBS_SLIDING_JOINT.getSize()))},getLimit:function(){return this.data.readBool(this.address+Js.limit.address)},setLimit:function(t){this.data.writeBool(this.address+Js.limit.address,t)},getMotor:function(){return this.data.readBool(this.address+Js.motor.address)},setMotor:function(t){this.data.writeBool(this.address+Js.motor.address,t)},getLower:function(){return this.data.readFloat(this.address+Js.lower.address)},setLower:function(t){this.data.writeFloat(this.address+Js.lower.address,t)},getUpper:function(){return this.data.readFloat(this.address+Js.upper.address)},setUpper:function(t){this.data.writeFloat(this.address+Js.upper.address,t)},getForce:function(){return this.data.readFloat(this.address+Js.force.address)},setForce:function(t){this.data.writeFloat(this.address+Js.force.address,t)},getSpeed:function(){return this.data.readFloat(this.address+Js.speed.address)},setSpeed:function(t){this.data.writeFloat(this.address+Js.speed.address,t)},getX:function(){return this.data.readFloat(this.address+Js.x.address)},setX:function(t){this.data.writeFloat(this.address+Js.x.address,t)},getY:function(){return this.data.readFloat(this.address+Js.y.address)},setY:function(t){this.data.writeFloat(this.address+Js.y.address,t)},__class__:Js});var Zs=function(t){this.data=t};r["com.stencyl.io.mbs.scene.physics.MbsStickJoint"]=Zs,Zs.__name__="com.stencyl.io.mbs.scene.physics.MbsStickJoint",Zs.initializeType=function(){null==Zs.MBS_STICK_JOINT&&(Ys.initializeType(),Zs.MBS_STICK_JOINT=new vs("MbsStickJoint"),Zs.MBS_STICK_JOINT.setInstantiator(function(t){return new Zs(t)}),Zs.MBS_STICK_JOINT.inherit(Ys.MBS_JOINT),Zs.damping=Zs.MBS_STICK_JOINT.createField("damping",ys.FLOAT),Zs.frequency=Zs.MBS_STICK_JOINT.createField("frequency",ys.FLOAT))},Zs.new_MbsStickJoint_list=function(t){return new S_(t,Zs.MBS_STICK_JOINT,new Zs(t))},Zs.__super__=Ys,Zs.prototype=i(Ys.prototype,{getMbsType:function(){return Zs.MBS_STICK_JOINT},allocateNew:function(){this.setAddress(this.data.allocate(Zs.MBS_STICK_JOINT.getSize()))},getDamping:function(){return this.data.readFloat(this.address+Zs.damping.address)},setDamping:function(t){this.data.writeFloat(this.address+Zs.damping.address,t)},getFrequency:function(){return this.data.readFloat(this.address+Zs.frequency.address)},setFrequency:function(t){this.data.writeFloat(this.address+Zs.frequency.address,t)},__class__:Zs});var Qs=function(t){this.data=t};r["com.stencyl.io.mbs.scene.physics.MbsTerrainRegion"]=Qs,Qs.__name__="com.stencyl.io.mbs.scene.physics.MbsTerrainRegion",Qs.initializeType=function(){null==Qs.MBS_TERRAIN_REGION&&(Ks.initializeType(),Qs.MBS_TERRAIN_REGION=new vs("MbsTerrainRegion"),Qs.MBS_TERRAIN_REGION.setInstantiator(function(t){return new Qs(t)}),Qs.MBS_TERRAIN_REGION.inherit(Ks.MBS_REGION),Qs.groupID=Qs.MBS_TERRAIN_REGION.createField("groupID",ys.INTEGER))},Qs.new_MbsTerrainRegion_list=function(t){return new S_(t,Qs.MBS_TERRAIN_REGION,new Qs(t))},Qs.__super__=Ks,Qs.prototype=i(Ks.prototype,{getMbsType:function(){return Qs.MBS_TERRAIN_REGION},allocateNew:function(){this.setAddress(this.data.allocate(Qs.MBS_TERRAIN_REGION.getSize()))},getGroupID:function(){return this.data.readInt(this.address+Qs.groupID.address)},setGroupID:function(t){this.data.writeInt(this.address+Qs.groupID.address,t)},__class__:Qs});var qs=function(t){this.data=t};r["com.stencyl.io.mbs.shape.MbsShape"]=qs,qs.__name__="com.stencyl.io.mbs.shape.MbsShape",qs.initializeType=function(){null==qs.MBS_SHAPE&&(qs.MBS_SHAPE=new vs("MbsShape"),qs.MBS_SHAPE.setInstantiator(function(t){return new qs(t)}))},qs.new_MbsShape_list=function(t){return new S_(t,qs.MBS_SHAPE,new qs(t))},qs.__super__=_s,qs.prototype=i(_s.prototype,{getMbsType:function(){return qs.MBS_SHAPE},allocateNew:function(){this.setAddress(this.data.allocate(qs.MBS_SHAPE.getSize()))},__class__:qs});var $s=function(t){this.data=t,this._position=new tn(t)};r["com.stencyl.io.mbs.shape.MbsCircle"]=$s,$s.__name__="com.stencyl.io.mbs.shape.MbsCircle",$s.initializeType=function(){null==$s.MBS_CIRCLE&&(qs.initializeType(),$s.MBS_CIRCLE=new vs("MbsCircle"),$s.MBS_CIRCLE.setInstantiator(function(t){return new $s(t)}),$s.MBS_CIRCLE.inherit(qs.MBS_SHAPE),$s.position=$s.MBS_CIRCLE.createField("position",tn.MBS_POINT),$s.radius=$s.MBS_CIRCLE.createField("radius",ys.FLOAT))},$s.new_MbsCircle_list=function(t){return new S_(t,$s.MBS_CIRCLE,new $s(t))},$s.__super__=qs,$s.prototype=i(qs.prototype,{getMbsType:function(){return $s.MBS_CIRCLE},_position:null,allocateNew:function(){this.setAddress(this.data.allocate($s.MBS_CIRCLE.getSize()))},getPosition:function(){return this._position.setAddress(this.address+$s.position.address),this._position},getRadius:function(){return this.data.readFloat(this.address+$s.radius.address)},setRadius:function(t){this.data.writeFloat(this.address+$s.radius.address,t)},__class__:$s});var tn=function(t){this.data=t};r["com.stencyl.io.mbs.shape.MbsPoint"]=tn,tn.__name__="com.stencyl.io.mbs.shape.MbsPoint",tn.initializeType=function(){null==tn.MBS_POINT&&(tn.MBS_POINT=new vs("MbsPoint"),tn.MBS_POINT.setInstantiator(function(t){return new tn(t)}),tn.x=tn.MBS_POINT.createField("x",ys.FLOAT),tn.y=tn.MBS_POINT.createField("y",ys.FLOAT))},tn.new_MbsPoint_list=function(t){return new S_(t,tn.MBS_POINT,new tn(t))},tn.__super__=_s,tn.prototype=i(_s.prototype,{getMbsType:function(){return tn.MBS_POINT},allocateNew:function(){this.setAddress(this.data.allocate(tn.MBS_POINT.getSize()))},getX:function(){return this.data.readFloat(this.address+tn.x.address)},setX:function(t){this.data.writeFloat(this.address+tn.x.address,t)},getY:function(){return this.data.readFloat(this.address+tn.y.address)},setY:function(t){this.data.writeFloat(this.address+tn.y.address,t)},__class__:tn});var en=function(t){this.data=t,this._points=new S_(t,tn.MBS_POINT,new tn(t))};r["com.stencyl.io.mbs.shape.MbsPolygon"]=en,en.__name__="com.stencyl.io.mbs.shape.MbsPolygon",en.initializeType=function(){null==en.MBS_POLYGON&&(qs.initializeType(),en.MBS_POLYGON=new vs("MbsPolygon"),en.MBS_POLYGON.setInstantiator(function(t){return new en(t)}),en.MBS_POLYGON.inherit(qs.MBS_SHAPE),en.points=en.MBS_POLYGON.createField("points",ys.LIST))},en.new_MbsPolygon_list=function(t){return new S_(t,en.MBS_POLYGON,new en(t))},en.__super__=qs,en.prototype=i(qs.prototype,{getMbsType:function(){return en.MBS_POLYGON},_points:null,allocateNew:function(){this.setAddress(this.data.allocate(en.MBS_POLYGON.getSize()))},getPoints:function(){return this._points.setAddress(this.data.readInt(this.address+en.points.address)),this._points},createPoints:function(t){return this._points.allocateNew(t),this.data.writeInt(this.address+en.points.address,this._points.getAddress()),this._points},__class__:en});var sn=function(t){en.call(this,t)};r["com.stencyl.io.mbs.shape.MbsPolyRegion"]=sn,sn.__name__="com.stencyl.io.mbs.shape.MbsPolyRegion",sn.initializeType=function(){null==sn.MBS_POLY_REGION&&(en.initializeType(),sn.MBS_POLY_REGION=new vs("MbsPolyRegion"),sn.MBS_POLY_REGION.setInstantiator(function(t){return new sn(t)}),sn.MBS_POLY_REGION.inherit(en.MBS_POLYGON),sn.width=sn.MBS_POLY_REGION.createField("width",ys.INTEGER),sn.height=sn.MBS_POLY_REGION.createField("height",ys.INTEGER))},sn.new_MbsPolyRegion_list=function(t){return new S_(t,sn.MBS_POLY_REGION,new sn(t))},sn.__super__=en,sn.prototype=i(en.prototype,{getMbsType:function(){return sn.MBS_POLY_REGION},allocateNew:function(){this.setAddress(this.data.allocate(sn.MBS_POLY_REGION.getSize()))},getWidth:function(){return this.data.readInt(this.address+sn.width.address)},setWidth:function(t){this.data.writeInt(this.address+sn.width.address,t)},getHeight:function(){return this.data.readInt(this.address+sn.height.address)},setHeight:function(t){this.data.writeInt(this.address+sn.height.address,t)},__class__:sn});var nn=function(t){en.call(this,t),this._position=new tn(t)};r["com.stencyl.io.mbs.shape.MbsWireframe"]=nn,nn.__name__="com.stencyl.io.mbs.shape.MbsWireframe",nn.initializeType=function(){null==nn.MBS_WIREFRAME&&(en.initializeType(),nn.MBS_WIREFRAME=new vs("MbsWireframe"),nn.MBS_WIREFRAME.setInstantiator(function(t){return new nn(t)}),nn.MBS_WIREFRAME.inherit(en.MBS_POLYGON),nn.position=nn.MBS_WIREFRAME.createField("position",tn.MBS_POINT))},nn.new_MbsWireframe_list=function(t){return new S_(t,nn.MBS_WIREFRAME,new nn(t))},nn.__super__=en,nn.prototype=i(en.prototype,{getMbsType:function(){return nn.MBS_WIREFRAME},_position:null,allocateNew:function(){this.setAddress(this.data.allocate(nn.MBS_WIREFRAME.getSize()))},getPosition:function(){return this._position.setAddress(this.address+nn.position.address),this._position},__class__:nn});var rn=function(t){this.data=t};r["com.stencyl.io.mbs.snippet.MbsAttribute"]=rn,rn.__name__="com.stencyl.io.mbs.snippet.MbsAttribute",rn.initializeType=function(){null==rn.MBS_ATTRIBUTE&&(rn.MBS_ATTRIBUTE=new vs("MbsAttribute"),rn.MBS_ATTRIBUTE.setInstantiator(function(t){return new rn(t)}),rn.id=rn.MBS_ATTRIBUTE.createField("id",ys.INTEGER),rn.type=rn.MBS_ATTRIBUTE.createField("type",ys.STRING),rn.value=rn.MBS_ATTRIBUTE.createField("value",ys.DYNAMIC))},rn.new_MbsAttribute_list=function(t){return new S_(t,rn.MBS_ATTRIBUTE,new rn(t))},rn.__super__=_s,rn.prototype=i(_s.prototype,{getMbsType:function(){return rn.MBS_ATTRIBUTE},allocateNew:function(){this.setAddress(this.data.allocate(rn.MBS_ATTRIBUTE.getSize()))},getId:function(){return this.data.readInt(this.address+rn.id.address)},setId:function(t){this.data.writeInt(this.address+rn.id.address,t)},getType:function(){return this.data.readString(this.address+rn.type.address)},setType:function(t){this.data.writeString(this.address+rn.type.address,t)},getValue:function(){return b_.readDynamic(this.data,this.address+rn.value.address)},setValue:function(t){b_.writeDynamic(this.data,this.address+rn.value.address,t)},__class__:rn});var an=function(t){this.data=t};r["com.stencyl.io.mbs.snippet.MbsAttributeDef"]=an,an.__name__="com.stencyl.io.mbs.snippet.MbsAttributeDef",an.initializeType=function(){null==an.MBS_ATTRIBUTE_DEF&&(an.MBS_ATTRIBUTE_DEF=new vs("MbsAttributeDef"),an.MBS_ATTRIBUTE_DEF.setInstantiator(function(t){return new an(t)}),an.type=an.MBS_ATTRIBUTE_DEF.createField("type",ys.STRING),an.defaultValue=an.MBS_ATTRIBUTE_DEF.createField("defaultValue",ys.DYNAMIC),an.description=an.MBS_ATTRIBUTE_DEF.createField("description",ys.STRING),an.dropdown=an.MBS_ATTRIBUTE_DEF.createField("dropdown",ys.STRING),an.fullname=an.MBS_ATTRIBUTE_DEF.createField("fullname",ys.STRING),an.hidden=an.MBS_ATTRIBUTE_DEF.createField("hidden",ys.BOOLEAN),an.id=an.MBS_ATTRIBUTE_DEF.createField("id",ys.INTEGER),an.$name=an.MBS_ATTRIBUTE_DEF.createField("name",ys.STRING),an.order=an.MBS_ATTRIBUTE_DEF.createField("order",ys.INTEGER))},an.new_MbsAttributeDef_list=function(t){return new S_(t,an.MBS_ATTRIBUTE_DEF,new an(t))},an.__super__=_s,an.prototype=i(_s.prototype,{getMbsType:function(){return an.MBS_ATTRIBUTE_DEF},allocateNew:function(){this.setAddress(this.data.allocate(an.MBS_ATTRIBUTE_DEF.getSize()))},getType:function(){return this.data.readString(this.address+an.type.address)},setType:function(t){this.data.writeString(this.address+an.type.address,t)},getDefaultValue:function(){return b_.readDynamic(this.data,this.address+an.defaultValue.address)},setDefaultValue:function(t){b_.writeDynamic(this.data,this.address+an.defaultValue.address,t)},getDescription:function(){return this.data.readString(this.address+an.description.address)},setDescription:function(t){this.data.writeString(this.address+an.description.address,t)},getDropdown:function(){return this.data.readString(this.address+an.dropdown.address)},setDropdown:function(t){this.data.writeString(this.address+an.dropdown.address,t)},getFullname:function(){return this.data.readString(this.address+an.fullname.address)},setFullname:function(t){this.data.writeString(this.address+an.fullname.address,t)},getHidden:function(){return this.data.readBool(this.address+an.hidden.address)},setHidden:function(t){this.data.writeBool(this.address+an.hidden.address,t)},getId:function(){return this.data.readInt(this.address+an.id.address)},setId:function(t){this.data.writeInt(this.address+an.id.address,t)},getName:function(){return this.data.readString(this.address+an.$name.address)},setName:function(t){this.data.writeString(this.address+an.$name.address,t)},getOrder:function(){return this.data.readInt(this.address+an.order.address)},setOrder:function(t){this.data.writeInt(this.address+an.order.address,t)},__class__:an});var on=function(t){this.data=t};r["com.stencyl.io.mbs.snippet.MbsBlock"]=on,on.__name__="com.stencyl.io.mbs.snippet.MbsBlock",on.initializeType=function(){null==on.MBS_BLOCK&&(on.MBS_BLOCK=new vs("MbsBlock"),on.MBS_BLOCK.setInstantiator(function(t){return new on(t)}),on.type=on.MBS_BLOCK.createField("type",ys.STRING),on.id=on.MBS_BLOCK.createField("id",ys.INTEGER),on.blockID=on.MBS_BLOCK.createField("blockID",ys.INTEGER))},on.new_MbsBlock_list=function(t){return new S_(t,on.MBS_BLOCK,new on(t))},on.__super__=_s,on.prototype=i(_s.prototype,{getMbsType:function(){return on.MBS_BLOCK},allocateNew:function(){this.setAddress(this.data.allocate(on.MBS_BLOCK.getSize()))},getType:function(){return this.data.readString(this.address+on.type.address)},setType:function(t){this.data.writeString(this.address+on.type.address,t)},getId:function(){return this.data.readInt(this.address+on.id.address)},setId:function(t){this.data.writeInt(this.address+on.id.address,t)},getBlockID:function(){return this.data.readInt(this.address+on.blockID.address)},setBlockID:function(t){this.data.writeInt(this.address+on.blockID.address,t)},__class__:on});var ln=function(t){this.data=t};r["com.stencyl.io.mbs.snippet.MbsEvent"]=ln,ln.__name__="com.stencyl.io.mbs.snippet.MbsEvent",ln.initializeType=function(){null==ln.MBS_EVENT&&(ln.MBS_EVENT=new vs("MbsEvent"),ln.MBS_EVENT.setInstantiator(function(t){return new ln(t)}),ln.displayName=ln.MBS_EVENT.createField("displayName",ys.STRING),ln.enabled=ln.MBS_EVENT.createField("enabled",ys.BOOLEAN),ln.id=ln.MBS_EVENT.createField("id",ys.INTEGER),ln.$name=ln.MBS_EVENT.createField("name",ys.STRING),ln.order=ln.MBS_EVENT.createField("order",ys.INTEGER),ln.repeats=ln.MBS_EVENT.createField("repeats",ys.BOOLEAN))},ln.new_MbsEvent_list=function(t){return new S_(t,ln.MBS_EVENT,new ln(t))},ln.__super__=_s,ln.prototype=i(_s.prototype,{getMbsType:function(){return ln.MBS_EVENT},allocateNew:function(){this.setAddress(this.data.allocate(ln.MBS_EVENT.getSize()))},getDisplayName:function(){return this.data.readString(this.address+ln.displayName.address)},setDisplayName:function(t){this.data.writeString(this.address+ln.displayName.address,t)},getEnabled:function(){return this.data.readBool(this.address+ln.enabled.address)},setEnabled:function(t){this.data.writeBool(this.address+ln.enabled.address,t)},getId:function(){return this.data.readInt(this.address+ln.id.address)},setId:function(t){this.data.writeInt(this.address+ln.id.address,t)},getName:function(){return this.data.readString(this.address+ln.$name.address)},setName:function(t){this.data.writeString(this.address+ln.$name.address,t)},getOrder:function(){return this.data.readInt(this.address+ln.order.address)},setOrder:function(t){this.data.writeInt(this.address+ln.order.address,t)},getRepeats:function(){return this.data.readBool(this.address+ln.repeats.address)},setRepeats:function(t){this.data.writeBool(this.address+ln.repeats.address,t)},__class__:ln});var hn=function(t){this.data=t};r["com.stencyl.io.mbs.snippet.MbsMapElement"]=hn,hn.__name__="com.stencyl.io.mbs.snippet.MbsMapElement",hn.initializeType=function(){null==hn.MBS_MAP_ELEMENT&&(hn.MBS_MAP_ELEMENT=new vs("MbsMapElement"),hn.MBS_MAP_ELEMENT.setInstantiator(function(t){return new hn(t)}),hn.key=hn.MBS_MAP_ELEMENT.createField("key",ys.STRING),hn.value=hn.MBS_MAP_ELEMENT.createField("value",ys.DYNAMIC))},hn.new_MbsMapElement_list=function(t){return new S_(t,hn.MBS_MAP_ELEMENT,new hn(t))},hn.__super__=_s,hn.prototype=i(_s.prototype,{getMbsType:function(){return hn.MBS_MAP_ELEMENT},allocateNew:function(){this.setAddress(this.data.allocate(hn.MBS_MAP_ELEMENT.getSize()))},getKey:function(){return this.data.readString(this.address+hn.key.address)},setKey:function(t){this.data.writeString(this.address+hn.key.address,t)},getValue:function(){return b_.readDynamic(this.data,this.address+hn.value.address)},setValue:function(t){b_.writeDynamic(this.data,this.address+hn.value.address,t)},__class__:hn});var _n=function(t){this.data=t,this._properties=new S_(t,rn.MBS_ATTRIBUTE,new rn(t))};r["com.stencyl.io.mbs.snippet.MbsSnippet"]=_n,_n.__name__="com.stencyl.io.mbs.snippet.MbsSnippet",_n.initializeType=function(){null==_n.MBS_SNIPPET&&(_n.MBS_SNIPPET=new vs("MbsSnippet"),_n.MBS_SNIPPET.setInstantiator(function(t){return new _n(t)}),_n.enabled=_n.MBS_SNIPPET.createField("enabled",ys.BOOLEAN),_n.id=_n.MBS_SNIPPET.createField("id",ys.INTEGER),_n.properties=_n.MBS_SNIPPET.createField("properties",ys.LIST))},_n.new_MbsSnippet_list=function(t){return new S_(t,_n.MBS_SNIPPET,new _n(t))},_n.__super__=_s,_n.prototype=i(_s.prototype,{getMbsType:function(){return _n.MBS_SNIPPET},_properties:null,allocateNew:function(){this.setAddress(this.data.allocate(_n.MBS_SNIPPET.getSize()))},getEnabled:function(){return this.data.readBool(this.address+_n.enabled.address)},setEnabled:function(t){this.data.writeBool(this.address+_n.enabled.address,t)},getId:function(){return this.data.readInt(this.address+_n.id.address)},setId:function(t){this.data.writeInt(this.address+_n.id.address,t)},getProperties:function(){return this._properties.setAddress(this.data.readInt(this.address+_n.properties.address)),this._properties},createProperties:function(t){return this._properties.allocateNew(t),this.data.writeInt(this.address+_n.properties.address,this._properties.getAddress()),this._properties},__class__:_n});var cn=function(t){this.data=t,this._attributes=new S_(t,an.MBS_ATTRIBUTE_DEF,new an(t)),this._blocks=new S_(t,on.MBS_BLOCK,new on(t)),this._events=new S_(t,ln.MBS_EVENT,new ln(t))};r["com.stencyl.io.mbs.snippet.MbsSnippetDef"]=cn,cn.__name__="com.stencyl.io.mbs.snippet.MbsSnippetDef",cn.initializeType=function(){null==cn.MBS_SNIPPET_DEF&&(cn.MBS_SNIPPET_DEF=new vs("MbsSnippetDef"),cn.MBS_SNIPPET_DEF.setInstantiator(function(t){return new cn(t)}),cn.attachedEvent=cn.MBS_SNIPPET_DEF.createField("attachedEvent",ys.BOOLEAN),cn.actorID=cn.MBS_SNIPPET_DEF.createField("actorID",ys.INTEGER),cn.classname=cn.MBS_SNIPPET_DEF.createField("classname",ys.STRING),cn.description=cn.MBS_SNIPPET_DEF.createField("description",ys.STRING),cn.design=cn.MBS_SNIPPET_DEF.createField("design",ys.BOOLEAN),cn.drawOrder=cn.MBS_SNIPPET_DEF.createField("drawOrder",ys.INTEGER),cn.id=cn.MBS_SNIPPET_DEF.createField("id",ys.INTEGER),cn.$name=cn.MBS_SNIPPET_DEF.createField("name",ys.STRING),cn.packageName=cn.MBS_SNIPPET_DEF.createField("packageName",ys.STRING),cn.sceneID=cn.MBS_SNIPPET_DEF.createField("sceneID",ys.INTEGER),cn.type=cn.MBS_SNIPPET_DEF.createField("type",ys.STRING),cn.attributes=cn.MBS_SNIPPET_DEF.createField("attributes",ys.LIST),cn.blocks=cn.MBS_SNIPPET_DEF.createField("blocks",ys.LIST),cn.events=cn.MBS_SNIPPET_DEF.createField("events",ys.LIST))},cn.new_MbsSnippetDef_list=function(t){return new S_(t,cn.MBS_SNIPPET_DEF,new cn(t))},cn.__super__=_s,cn.prototype=i(_s.prototype,{getMbsType:function(){return cn.MBS_SNIPPET_DEF},_attributes:null,_blocks:null,_events:null,allocateNew:function(){this.setAddress(this.data.allocate(cn.MBS_SNIPPET_DEF.getSize()))},getAttachedEvent:function(){return this.data.readBool(this.address+cn.attachedEvent.address)},setAttachedEvent:function(t){this.data.writeBool(this.address+cn.attachedEvent.address,t)},getActorID:function(){return this.data.readInt(this.address+cn.actorID.address)},setActorID:function(t){this.data.writeInt(this.address+cn.actorID.address,t)},getClassname:function(){return this.data.readString(this.address+cn.classname.address)},setClassname:function(t){this.data.writeString(this.address+cn.classname.address,t)},getDescription:function(){return this.data.readString(this.address+cn.description.address)},setDescription:function(t){this.data.writeString(this.address+cn.description.address,t)},getDesign:function(){return this.data.readBool(this.address+cn.design.address)},setDesign:function(t){this.data.writeBool(this.address+cn.design.address,t)},getDrawOrder:function(){return this.data.readInt(this.address+cn.drawOrder.address)},setDrawOrder:function(t){this.data.writeInt(this.address+cn.drawOrder.address,t)},getId:function(){return this.data.readInt(this.address+cn.id.address)},setId:function(t){this.data.writeInt(this.address+cn.id.address,t)},getName:function(){return this.data.readString(this.address+cn.$name.address)},setName:function(t){this.data.writeString(this.address+cn.$name.address,t)},getPackageName:function(){return this.data.readString(this.address+cn.packageName.address)},setPackageName:function(t){this.data.writeString(this.address+cn.packageName.address,t)},getSceneID:function(){return this.data.readInt(this.address+cn.sceneID.address)},setSceneID:function(t){this.data.writeInt(this.address+cn.sceneID.address,t)},getType:function(){return this.data.readString(this.address+cn.type.address)},setType:function(t){this.data.writeString(this.address+cn.type.address,t)},getAttributes:function(){return this._attributes.setAddress(this.data.readInt(this.address+cn.attributes.address)),this._attributes},createAttributes:function(t){return this._attributes.allocateNew(t),this.data.writeInt(this.address+cn.attributes.address,this._attributes.getAddress()),this._attributes},getBlocks:function(){return this._blocks.setAddress(this.data.readInt(this.address+cn.blocks.address)),this._blocks},createBlocks:function(t){return this._blocks.allocateNew(t),this.data.writeInt(this.address+cn.blocks.address,this._blocks.getAddress()),this._blocks},getEvents:function(){return this._events.setAddress(this.data.readInt(this.address+cn.events.address)),this._events},createEvents:function(t){return this._events.allocateNew(t),this.data.writeInt(this.address+cn.events.address,this._events.getAddress()),this._events},__class__:cn});var un=function(t,e,i,s,r,a,o,l,h,_,c,u,d,m,p,f,g,y,b,v){if(null==v&&(v=0),null==b&&(b=!1),null==y&&(y=!0),null==f&&(f=!1),null==p&&(p=!1),null==m&&(m=!1),null==d&&(d=!1),null==l&&(l=32),null==o&&(o=32),null==a&&(a=-1),null==r&&(r=0),null==s&&(s=0),this.customizedBehaviors=!1,this.maxMove=99999,this.minMove=3,this.moveXDistance=this.moveYDistance=0,this.moveMultiplier=.33,this.drawX=this.drawY=0,this.smoothMove=this.firstMove=this.snapOnSet=!1,this.attachedImages=null,D.call(this),Ge.NO_PHYSICS&&0==v&&(this.physicsMode=v=1),this.dummy=new G,this.zero=new G(0,0),this._point=vr.point,this._moveX=this._moveY=0,this.HITBOX=new Vn,this.set_shape(this.HITBOX),this instanceof wn&&Ge.NO_PHYSICS&&(g=this.HITBOX=new Gn(0|o,0|l,0,0,!1,-2),this.set_shape(g)),this.set_x(0),this.set_y(0),this.set_rotation(0),this.realAngle=this.realY=this.realX=0,this.realScaleY=this.realScaleX=1,this.collidable=!0,this.solid=!d,this.updateMatrix=!0,this.colY=this.colX=0,this.lastScale=new Ye(1,1),this.lastY=this.lastX=-1e3,this.lastAngle=0,this.tweenProps=new Mn,this.tweenProps.xy.doOnUpdate(n(this,this.updateTweenXY)),this.tweenProps.angle.doOnUpdate(n(this,this.updateTweenAngle)),this.tweenProps.alpha.doOnUpdate(n(this,this.updateTweenAlpha)),this.tweenProps.realScaleXY.doOnUpdate(n(this,this.updateTweenScaleXY)),this.transformPoint=new Ye(0,0),this.transformMatrix=new yr,this.drawMatrix=new yr,this.currOrigin=new Ye(0,0),this.currOffset=new Ye(0,0),this.registry=new pr,this.attachedImages=[],this.physicsMode=v,this.autoScale=y,this.mouseState=this.rSpeed=this.ySpeed=this.xSpeed=0,this.isTerrainRegion=this.isRegion=this.isCamera=this.isOnScreenCache=this.lastSceneState=this.lastScreenState=!1,this.drawActor=!0,this.fixedRotation=this.continuousCollision=this.isHUD=this.alwaysSimulate=this.killLeaveScreen=!1,this.defaultGravity=this.ignoreGravity=b,this.resetOrigin=!0,this.allListeners=new fr,this.allEventReferences=[],this.whenCreated=new si,this.whenUpdated=new si,this.whenDrawing=new si,this.whenKilled=new si,this.whenMousedOver=new si,this.whenPositionStateChanged=new si,this.whenCollided=new si,this.destroyed=this.paused=this.recycled=!1,this.set_name("Unknown"),this.ID=e,this.groupID=i,this.typeID=null!=c?c.ID:-1,this.engine=t,this.collidedList=[],this.collisions=new ap(16),this.simpleCollisions=new ap(16),this.contacts=new ap(16),this.regionContacts=new ap(16),this.collisions.reuseIterator=!0,this.simpleCollisions.reuseIterator=!0,this.contacts.reuseIterator=!0,this.regionContacts.reuseIterator=!0,this.collisionsCount=this.contactCount=0,this.handlesCollisions=!0,this.behaviors=new $e,this.currAnimationName="",this.animationMap=new pr,this.shapeMap=new pr,this.originMap=new pr,this.sprite=h,this.type=c,null!=h)for(e=h.animations.iterator();e.hasNext();)y=e.next(),this.addAnim(y),y.animID==h.defaultAnimation&&(this.defaultAnim=y.animName);null==un.recycledAnimation&&(un.recycledAnimation=new Cn(-1,"recyclingDefault",null,null,null,!1,!1,1,1,0,0,[10],1,1,1)),this.addAnim(un.recycledAnimation),null!=u&&0==v?(u.bullet&&(Gt.m_continuousPhysics=!0),u.groupID=i,this.initFromBody(u),(i=new vt).setAsBox(1,1),this.body.createFixture2(i,.1),this.md=new bt,this.md.mass=u.mass,this.md.I=u.aMass,this.md.center.x=0,this.md.center.y=0,this.body.setMassData(this.md),this.bodyScale=new Ye(1,1)):(null!=g&&w.typeof(g)!=x.TFloat||(g=un.createBox(o,l)),null!=u&&(this.continuousCollision=u.bullet),this instanceof wn&&(d=!0,f=!1),this instanceof Tn&&(f=!1),null!=g&&g instanceof Vn?(this.set_shape(g),this.isTerrain=!0):0==v&&this.initBody(i,d,m,p,f,g)),this.cacheAnchor=new Ye(0,0),this.switchToDefaultAnimation(),null!=h?this.setLocation(s,r):null!=g&&g instanceof Vn?((s=new di(new O_(1,1,!0,0))).set_x(o),s.set_y(l),this.addChild(s),this.cacheWidth=this.set_width(o),this.cacheHeight=this.set_height(l)):0==v&&this.body.setPosition(new G(Ge.toPhysicalUnits(s),Ge.toPhysicalUnits(r))),null!=_?this.customizedBehaviors=!0:null!=c&&(_=c.behaviorValues),-1!=a&&t.moveActorToLayer(this,t.getLayerById(a)),Ge.initBehaviors(this.behaviors,_,this,t,!1)};r["com.stencyl.models.Actor"]=un,un.__name__="com.stencyl.models.Actor",un.resetStatics=function(){un.lastCollided=null,un.manifold=new pt},un.createBox=function(t,e){var i=new vt;return i.setAsBox(Ge.toPhysicalUnits(t/2),Ge.toPhysicalUnits(e/2)),i},un.scaleShape=function(t,e,i){if(t instanceof gt)t.m_radius*=i;else if(t instanceof vt){for(var s=t.m_vertices,n=[],r=0;r<s.length;){var a=s[r];++r,a.subtract(e),a.multiply(i),a.add(e),n.push(a)}t.setAsArray(n)}},un.__super__=D,un.prototype=i(D.prototype,{engine:null,createTime:null,ID:null,groupID:null,cachedLayer:null,layer:null,typeID:null,type:null,recycled:null,paused:null,isRegion:null,isTerrainRegion:null,isTerrain:null,destroyed:null,drawActor:null,isHUD:null,alwaysSimulate:null,isCamera:null,killLeaveScreen:null,physicsMode:null,autoScale:null,dead:null,dying:null,fixedRotation:null,ignoreGravity:null,defaultGravity:null,collidable:null,solid:null,resetOrigin:null,realX:null,realY:null,realAngle:null,realScaleX:null,realScaleY:null,lastX:null,lastY:null,lastAngle:null,lastScale:null,colX:null,colY:null,xSpeed:null,ySpeed:null,rSpeed:null,continuousCollision:null,tweenProps:null,cacheWidth:null,cacheHeight:null,currAnimation:null,currAnimationName:null,animationMap:null,bitmapFilters:null,sprite:null,shapeMap:null,originMap:null,defaultAnim:null,currOrigin:null,currOffset:null,cacheAnchor:null,transformObj:null,transformPoint:null,transformMatrix:null,updateMatrix:null,drawMatrix:null,label:null,attachedImages:null,smoothMove:null,firstMove:null,snapOnSet:null,drawX:null,drawY:null,moveMultiplier:null,moveXDistance:null,moveYDistance:null,minMove:null,maxMove:null,behaviors:null,customizedBehaviors:null,registry:null,allListeners:null,allEventReferences:null,whenCreated:null,whenUpdated:null,whenDrawing:null,whenKilled:null,whenMousedOver:null,whenPositionStateChanged:null,whenCollided:null,mouseState:null,lastScreenState:null,lastSceneState:null,isOnScreenCache:null,body:null,bodyDef:null,md:null,bodyScale:null,handlesCollisions:null,contacts:null,regionContacts:null,collisions:null,dummy:null,zero:null,destroy:function(){if(!this.destroyed){this.destroyed=!0;for(var t=this.animationMap.h,e=Object.keys(t),i=e.length,s=0;s<i;)t[e[s++]].set_visible(!1);if(vr.removeAllChildren(this),null!=this.body&&0==this.physicsMode){for(t=this.body.getContactList();null!=t;)Ge.engine.world.m_contactManager.m_contactListener.endContact(t.contact),t=t.next;Ge.engine.world.destroyBody(this.body)}for(this.cancelTweens(),this.regionContacts=this.contacts=this.sprite=this.body=this.currOrigin=this.currOffset=this.currAnimation=this.animationMap=this.defaultAnim=this.originMap=this.shapeMap=un.lastCollided=null,this.collisionsCount=this.contactCount=0,this.registry=this.allEventReferences=this.allListeners=this.whenCollided=this.whenPositionStateChanged=this.whenMousedOver=this.whenKilled=this.whenDrawing=this.whenUpdated=this.whenCreated=this.transformMatrix=this.transformPoint=null,t=this.collisions.keys();t.hasNext();){i=t.next();var n=(e=this.collisions).mH;if(-1==(s=n.mHash[73856093*i&n.mMask]))i=-2147483648;else if((n=n.mData)[s]==i)i=n[s+1];else{var r=-2147483648;for(s=n[s+2];-1!=s;){if(n[s]==i){r=n[s+1];break}s=n[s+2]}i=r}for(e=-2147483648==i?null:e.mVals[i];0<e.points.length;)En.free(e.points.pop())}this.simpleCollisions=this.collisions=null,null!=this.bodyDef&&(this.bodyDef=this.bodyDef.userData=null),this.behaviors.destroy()}},resetListeners:function(){for(var t=this.allListeners.keys();t.hasNext();){var e=t.next();this.allListeners.remove(e)}for(;0<this.allEventReferences.length;)this.allEventReferences.pop();0<this.whenUpdated.length&&this.whenUpdated.removeAll(),0<this.whenDrawing.length&&this.whenDrawing.removeAll(),0<this.whenKilled.length&&this.whenKilled.removeAll(),0<this.whenMousedOver.length&&this.whenMousedOver.removeAll(),0<this.whenPositionStateChanged.length&&this.whenPositionStateChanged.removeAll(),0<this.whenCollided.length&&this.whenCollided.removeAll()},defaultHitbox:null,defaultMasklist:null,addAnim:function(t){var e=0==this.physicsMode?t.physicsShapes:t.simpleShapes;if(null!=e){var i=[];if(1==this.physicsMode)for(e=e.iterator();e.hasNext();){var s=e.next();s instanceof Gn&&0!=this.physicsMode&&(s=vo.__cast(s,Gn).clone()).assignTo(this),i.push(s)}else if(2!=this.physicsMode)for(e=e.iterator();e.hasNext();)s=e.next(),i.push(s);0!=this.physicsMode?(e=this.shapeMap,s=t.animName,i=new zn(i,this),e.h[s]=i):this.shapeMap.h[t.animName]=i}e=this.animationMap,s=t.animName,i=new mi(t),e.h[s]=i,e=this.originMap,s=t.animName,i=new G(t.originX,t.originY),e.h[s]=i},reloadAnimationGraphics:function(t){if(-1==t){for(t=this.sprite.animations.iterator();t.hasNext();){var e=t.next();(e=this.animationMap.h[e.animName]).framesUpdated()}this.updateChildrenPositions()}else t=this.sprite.animations.h[t],(e=this.animationMap.h[t.animName]).framesUpdated(),e==this.currAnimation&&this.updateChildrenPositions()},initScripts:function(){if(2==this.physicsMode)this.handlesCollisions=!1;else if(this.handlesCollisions=!0,this.behaviors.initScripts(),0<this.whenCreated.length)for(this.whenCreated._dispatchIndex=0;this.whenCreated._dispatchIndex<this.whenCreated.length;){try{this.whenCreated.listeners[this.whenCreated._dispatchIndex]()}catch(t){Ma.lastError=t}++this.whenCreated._dispatchIndex}},initFromBody:function(t){t.allowSleep=!1,t.userData=this,this.bodyDef=t,this.body=Ge.engine.world.createBody(t)},initBody:function(t,e,i,s,n,r){var a=new Pt;if(a.groupID=t,t=this.get_x(),a.position.x=Ge.toPhysicalUnits(t),t=this.get_y(),a.position.y=Ge.toPhysicalUnits(t),a.angle=0,a.fixedRotation=!n,a.allowSleep=!1,a.type=i?Mt.b2_staticBody:s?Mt.b2_kinematicBody:Mt.b2_dynamicBody,r instanceof Array)for(a.userData=this,this.body=Ge.engine.world.createBody(a),e=vo.__cast(r,Array),r=0;r<e.length;)s=e[r],++r,(i=new Nt).shape=s,i.friction=1,i.density=.1,i.restitution=0,i.isSensor=!1,i.groupID=1,i.userData=this,this.body.createFixture(i);else(i=new Nt).shape=r,i.friction=1,i.density=.1,i.restitution=0,i.isSensor=e,i.groupID=-1e3,i.userData=this,a.userData=this,this.body=Ge.engine.world.createBody(a),this.body.createFixture(i);this.bodyDef=a},addAnimation:function(t,e){this.animationMap.h[t]=e},getAnimation:function(){return this.currAnimationName},setAnimation:function(t){this.switchAnimation(t)},switchToDefaultAnimation:function(){null!=this.defaultAnim&&(this.switchAnimation(this.defaultAnim,this.defaultShapeChanged()),this.setCurrentFrame(0))},isAnimationPlaying:function(){return!this.currAnimation.isFinished()},getCurrentFrame:function(){return this.currAnimation.getCurrentFrame()},setCurrentFrame:function(t){this.currAnimation.setFrame(t)},getNumFrames:function(){return this.currAnimation.getNumFrames()},defaultShapeChanged:function(){if(0!=this.physicsMode)return!0;var t=this.shapeMap.h[this.defaultAnim];if(null==this.getBody()||null==this.getBody().getFixtureList()||null==this.getBody().getFixtureList().getShape()){if(null!=t&&0<t.length)return!0}else{if(null==t||0==t.length||1<t.length)return!0;var e=t[0];if(null==e)return!0;var i=this.getBody().getFixtureList();t=this.getBody().getFixtureList().getShape();var s=e.shape;if(i.groupID!=e.groupID||this.getBody().getFixtureList().isSensor()!=e.isSensor||vo.getClass(t)!=vo.getClass(s))return!0;if(vo.getClass(t)==vt){if(t.m_vertexCount!=s.m_vertexCount)return!0;for(e=0,i=t.m_vertexCount;e<i;){var n=e++;if(t.m_vertices[n].x!=s.m_vertices[n].x||t.m_vertices[n].y!=s.m_vertices[n].y)return!0}}else if(vo.getClass(t)==gt&&(t.m_radius!=s.m_radius||t.m_p.x!=s.m_p.x||t.m_p.y!=s.m_p.y))return!0}return!1},switchAnimation:function(t,e){if(null==e&&(e=!1),t!=this.currAnimationName||e){var i=this.animationMap.h[t];if(null!=i){if(null!=this.currAnimation&&this.removeChild(this.currAnimation),null!=this.body&&0==this.physicsMode&&!e){var s=this.shapeMap.h[this.currAnimationName],n=this.shapeMap.h[t];if(null==s||null==n)e=!0;else if(s.length!=n.length||1<s.length)e=!0;else{var r=s[0],a=n[0];if(null==r||null==a)e=!0;else if(n=r.shape,s=a.shape,r.isSensor!=a.isSensor)e=!0;else if(r.groupID!=a.groupID)e=!0;else if(vo.getClass(n)==vo.getClass(s))if(vo.getClass(n)==vt)if(n.m_vertexCount!=s.m_vertexCount)e=!0;else for(r=0,a=n.m_vertexCount;r<a;){var o=r++;if(n.m_vertices[o].x!=s.m_vertices[o].x){e=!0;break}if(n.m_vertices[o].y!=s.m_vertices[o].y){e=!0;break}}else vo.getClass(n)!=gt||n.m_radius==s.m_radius&&n.m_p.x==s.m_p.x&&n.m_p.y==s.m_p.y||(e=!0);else e=!0}}if(this.currAnimationName=t,this.currAnimation=i,this.currAnimation.set_filter(this.bitmapFilters),this.currAnimation.set_visible(this.drawActor),this.addChild(i),i=this.originMap.h[t],n=this.currAnimation.get_width()/Ge.SCALE/2-i.x,s=this.currAnimation.get_height()/Ge.SCALE/2-i.y,null!=this.body&&e&&0==this.physicsMode){for(e=[],r=this.body.getContactList();null!=r;)r.other.getUserData()instanceof wn&&r.contact.isTouching()&&e.push(r.other.getUserData()),Ge.engine.world.m_contactManager.m_contactListener.endContact(r.contact),r=r.next;for(r=this.collisions.keys();r.hasNext();){a=r.next();var l=this.collisions,h=l.mH;if(-1==(o=h.mHash[73856093*a&h.mMask]))o=-2147483648;else if((h=h.mData)[o]==a)o=h[o+1];else{var _=-2147483648;for(o=h[o+2];-1!=o;){if(h[o]==a){_=h[o+1];break}o=h[o+2]}o=_}for(o=-2147483648==o?null:l.mVals[o];0<o.points.length;)En.free(o.points.pop());this.collisions.unset(a)}for(this.collisions=new ap(16),this.simpleCollisions=new ap(16),this.contacts=new ap(16),this.regionContacts=new ap(16),this.collisions.reuseIterator=!0,this.simpleCollisions.reuseIterator=!0,this.contacts.reuseIterator=!0,this.regionContacts.reuseIterator=!0,this.collisionsCount=this.contactCount=0;0<this.body.m_fixtureCount;)this.body.DestroyFixture(this.body.getFixtureList());for(r=0,a=vo.__cast(this.shapeMap.h[t],Array);r<a.length;){if(o=a[r],++r,t=new Nt,179769313486231e294>this.bodyDef.friction&&(t.friction=this.bodyDef.friction,t.restitution=this.bodyDef.bounciness,0<this.bodyDef.mass&&(t.density=.1)),t.density=o.density,t.isSensor=o.isSensor,t.groupID=o.groupID,t.shape=o.shape,null!=i)if(this.body.origin.x=Ge.toPhysicalUnits(-i.x),this.body.origin.y=Ge.toPhysicalUnits(-i.y),o.shape instanceof vt){h=new ut,o=o.shape,(_=new vt).setAsArray(o.m_vertices,o.m_vertices.length);var c=_.m_vertices,u=_.m_normals;l=h.position,o=Ge.toPhysicalUnits(n);var d=Ge.toPhysicalUnits(s);for(null==d&&(d=0),null==o&&(o=0),l.x=o,l.y=d,h.R.setAngle(0),l=0,d=_.m_vertexCount;l<d;)c[o=l++]=h.multiply(c[o]),u[o]=h.R.multiplyV(u[o]);_.setAsArray(c,c.length),_.m_normals=u,t.shape=_}else o.shape instanceof gt&&(l=o.shape,(o=new gt).setRadius(l.getRadius()),h=l.m_p.x,_=Ge.toPhysicalUnits(n),o.m_p.x=h+_,l=l.m_p.y,h=Ge.toPhysicalUnits(s),o.m_p.y=l+h,t.shape=o);this.body.createFixture(t).SetUserData(this)}if(null!=this.body.getFixtureList())for(this.bodyScale.x=1,this.bodyScale.y=1,r=0;r<e.length;)n=e[r],++r,s=this.body.getFixtureList().m_aabb,n.getBody().getFixtureList().m_aabb.testOverlap(s)&&n.addActor(this);null!=this.md&&this.body.setMassData(this.md)}else null!=this.shapeMap.h[t]&&1==this.physicsMode&&(this.set_shape(this.shapeMap.h[t]),this.HITBOX=this._mask);this.cacheWidth=this.currAnimation.get_width()/Ge.SCALE,this.cacheHeight=this.currAnimation.get_height()/Ge.SCALE,null!=this.body&&(this.body.size.x=Ge.toPhysicalUnits(this.cacheWidth),this.body.size.y=Ge.toPhysicalUnits(this.cacheHeight)),0==this.physicsMode&&(this.realX=this.getX(!1),this.realY=this.getY(!1),this.updateBodyScale()),null!=i&&this.setOriginPoint(0|i.x,0|i.y),this.updateChildrenPositions(),this.updateMatrix=!0,(l=this.currAnimation).timer=0,l.frameIndex=0,l.finished=!1,null!=l.filter?(l.filteredFrames[l.frameIndex]||(l.frames[l.frameIndex]=l.applyFilters(l.frames[l.frameIndex],l.model.frames[l.frameIndex],l.filter),l.filteredFrames[l.frameIndex]=!0),l.set_bitmapData(l.frames[l.frameIndex])):l.set_bitmapData(l.model.frames[l.frameIndex]),l.smoothing=Ne.antialias}}},updateChildrenPositions:function(){var t=null!=this.currAnimation?new Ye(-this.currAnimation.get_x(),-this.currAnimation.get_y()):new Ye(0,0);if(!t.equals(this.cacheAnchor)){this.cacheAnchor.copyFrom(t),t=0;for(var e=this.attachedImages;t<e.length;){var i=e[t];++t,i.updatePosition()}null!=this.label&&this.label.updatePosition()}},removeAttachedImages:function(){for(var t=0,e=this.attachedImages;t<e.length;){var i=e[t];++t,i.cacheParentAnchor=vr.zero,this.removeChild(i)}this.attachedImages=[]},update:function(t){this.innerUpdate(t,!0)},innerUpdate:function(t,e){if(!(this.paused||this.isCamera||this.dying||this.dead||this.destroyed||e&&(this.isHUD||this.alwaysSimulate))){if(0<this.whenMousedOver.length)if(this.isMouseOver()){if(0>=this.mouseState){if(this.mouseState=1,0<this.whenMousedOver.length)for(this.whenMousedOver._dispatchIndex=0;this.whenMousedOver._dispatchIndex<this.whenMousedOver.length;){try{this.whenMousedOver.listeners[this.whenMousedOver._dispatchIndex](this.mouseState)}catch(t){Ma.lastError=t}++this.whenMousedOver._dispatchIndex}}else this.mouseState=2;if(ze.mousePressed){if(this.mouseState=3,0<this.whenMousedOver.length)for(this.whenMousedOver._dispatchIndex=0;this.whenMousedOver._dispatchIndex<this.whenMousedOver.length;){try{this.whenMousedOver.listeners[this.whenMousedOver._dispatchIndex](this.mouseState)}catch(t){Ma.lastError=t}++this.whenMousedOver._dispatchIndex}}else if(ze.mouseDown&&(this.mouseState=4,0<this.whenMousedOver.length))for(this.whenMousedOver._dispatchIndex=0;this.whenMousedOver._dispatchIndex<this.whenMousedOver.length;){try{this.whenMousedOver.listeners[this.whenMousedOver._dispatchIndex](this.mouseState)}catch(t){Ma.lastError=t}++this.whenMousedOver._dispatchIndex}if(ze.mouseReleased&&(this.mouseState=5,0<this.whenMousedOver.length))for(this.whenMousedOver._dispatchIndex=0;this.whenMousedOver._dispatchIndex<this.whenMousedOver.length;){try{this.whenMousedOver.listeners[this.whenMousedOver._dispatchIndex](this.mouseState)}catch(t){Ma.lastError=t}++this.whenMousedOver._dispatchIndex}}else if(0<this.mouseState){if(this.mouseState=-1,0<this.whenMousedOver.length)for(this.whenMousedOver._dispatchIndex=0;this.whenMousedOver._dispatchIndex<this.whenMousedOver.length;){try{this.whenMousedOver.listeners[this.whenMousedOver._dispatchIndex](this.mouseState)}catch(t){Ma.lastError=t}++this.whenMousedOver._dispatchIndex}}else-1==this.mouseState&&(this.mouseState=0);e=this.type.ID;var i=1e6+this.groupID,s=this.engine.whenCollidedEvents,n=this.engine.whenTypeGroupPositionStateChangedEvents;if(0==this.physicsMode&&(0<this.whenCollided.length||null!=s.h[e]||null!=s.h[i])){if(0<this.contactCount)for(var r,a=0,o=this.contacts.iterator();o.hasNext();){var l=(r=o.next()).key,h=this.collisions.mH,_=h.mHash[73856093*l&h.mMask];if(-1==_)_=!1;else if((h=h.mData)[_]==l)_=!0;else{var c=!1;for(_=h[_+2];-1!=_;){if(h[_]==l){c=!0;break}_=h[_+2]}_=c}if(_){if(-1==(h=(c=(_=this.collisions).mH).mHash[73856093*l&c.mMask]))l=-2147483648;else if((c=c.mData)[h]==l)l=c[h+1];else{var u=-2147483648;for(h=c[h+2];-1!=h;){if(c[h]==l){u=c[h+1];break}h=c[h+2]}l=u}for(l=-2147483648==l?null:_.mVals[l],r.getWorldManifold(un.manifold),_=0,h=un.manifold.m_points;_<h.length;)c=h[_],++_,0!=c.x&&0!=c.y&&(null==(r=l.points[a])?l.points[a]=En.get(c.x,c.y,un.manifold.m_normal.x,un.manifold.m_normal.y):((r=l.points[a]).x=c.x,r.y=c.y,r.normalX=un.manifold.m_normal.x,r.normalY=un.manifold.m_normal.y),++a);for(;l.points.length>a;)En.free(l.points.pop());a=0}else{var d=r.getFixtureA().getUserData(),m=r.getFixtureB().getUserData();d==this?(_=m,h=r.getFixtureB(),c=r.getFixtureA()):(_=d,h=r.getFixtureA(),c=r.getFixtureB()),(u=new In).otherActor=_,u.otherShape=h,u.thisActor=this,u.thisShape=c,u.actorA=d,u.actorB=m,r.getWorldManifold(un.manifold),this.collisions.set(l,u),this.collisionsCount++,l=this.getBody(),d=_.getBody(),m=r.getFixtureA().getBody();for(var p=r.getFixtureB().getBody(),f=0,g=un.manifold.m_points;f<g.length;)r=g[f],++f,0==r.x||0==r.y||c.isSensor()?c.isSensor()&&(null!=_&&(u.thisCollidedWithActor=u.thisCollidedWithActor||1!=_.groupID&&-2!=_.groupID&&!_.isTerrainRegion,u.thisCollidedWithTerrain=u.thisCollidedWithTerrain||_.isTerrainRegion,u.thisCollidedWithTile=u.thisCollidedWithTile||1==_.groupID),u.otherCollidedWithActor=u.otherCollidedWithActor||1!=this.groupID&&-2!=this.groupID&&!this.isTerrainRegion,u.otherCollidedWithTerrain=u.otherCollidedWithTerrain||this.isTerrainRegion,u.otherCollidedWithTile=u.otherCollidedWithTile||1==this.groupID,u.thisCollidedWithSensor=u.thisCollidedWithSensor||h.isSensor(),u.otherCollidedWithSensor=u.otherCollidedWithSensor||c.isSensor()):(r=En.get(r.x,r.y,un.manifold.m_normal.x,un.manifold.m_normal.y),u.points.push(r),m==l?(u.thisFromBottom=u.thisFromBottom||0<r.normalY,u.thisFromTop=u.thisFromTop||0>r.normalY,u.thisFromLeft=u.thisFromLeft||0>r.normalX,u.thisFromRight=u.thisFromRight||0<r.normalX):p==l&&(u.thisFromBottom=u.thisFromBottom||0>r.normalY,u.thisFromTop=u.thisFromTop||0<r.normalY,u.thisFromLeft=u.thisFromLeft||0<r.normalX,u.thisFromRight=u.thisFromRight||0>r.normalX),m==d?(u.otherFromBottom=u.otherFromBottom||0<r.normalY,u.otherFromTop=u.otherFromTop||0>r.normalY,u.otherFromLeft=u.otherFromLeft||0>r.normalX,u.otherFromRight=u.otherFromRight||0<r.normalX):p==d&&(u.otherFromBottom=u.otherFromBottom||0>r.normalY,u.otherFromTop=u.otherFromTop||0<r.normalY,u.otherFromLeft=u.otherFromLeft||0<r.normalX,u.otherFromRight=u.otherFromRight||0>r.normalX),null!=_&&(u.thisCollidedWithActor=u.thisCollidedWithActor||1!=_.groupID&&-2!=_.groupID&&!_.isTerrainRegion,u.thisCollidedWithTerrain=u.thisCollidedWithTerrain||_.isTerrainRegion,u.thisCollidedWithTile=u.thisCollidedWithTile||1==_.groupID),u.otherCollidedWithActor=u.otherCollidedWithActor||1!=this.groupID&&-2!=this.groupID&&!this.isTerrainRegion,u.otherCollidedWithTerrain=u.otherCollidedWithTerrain||this.isTerrainRegion,u.otherCollidedWithTile=u.otherCollidedWithTile||1==this.groupID,u.thisCollidedWithSensor=u.thisCollidedWithSensor||h.isSensor(),u.otherCollidedWithSensor=u.otherCollidedWithSensor||c.isSensor())}}if(0<this.collisionsCount)for(a=this.collisions.iterator();a.hasNext();)if(null!=(o=a.next())&&null!=o.thisActor&&null!=o.otherActor&&o.thisActor.handlesCollisions&&o.otherActor.handlesCollisions){if(un.lastCollided=o.otherActor,0<this.whenCollided.length)for(this.whenCollided._dispatchIndex=0;this.whenCollided._dispatchIndex<this.whenCollided.length;){try{this.whenCollided.listeners[this.whenCollided._dispatchIndex](o)}catch(t){Ma.lastError=t}++this.whenCollided._dispatchIndex}this.engine.handleCollision(this,o)}}if(this.internalUpdate(t,!0),1==this.physicsMode&&((0<this.whenCollided.length||null!=s.h[e]||null!=s.h[i])&&this.handleCollisionsSimple(),this.disposeRemovedCollisionInfo()),2!=this.physicsMode&&0<this.whenUpdated.length)for(this.whenUpdated._dispatchIndex=0;this.whenUpdated._dispatchIndex<this.whenUpdated.length;){try{this.whenUpdated.listeners[this.whenUpdated._dispatchIndex](t)}catch(t){Ma.lastError=t}++this.whenUpdated._dispatchIndex}(0<this.whenPositionStateChanged.length||null!=n.h[e]||null!=n.h[i])&&this.checkScreenState(),null!=this.label&&this.label.setAlpha(this.get_alpha())}},internalUpdate:function(t,e){if(!this.paused){if(0!=this.physicsMode)1!=this.physicsMode||this.ignoreGravity||this.isHUD||(this.xSpeed+=t*this.engine.gravityX*.001,this.ySpeed+=t*this.engine.gravityY*.001),0==this.xSpeed&&0==this.ySpeed||(this.resetReal(this.realX,this.realY),this.moveActorBy(10/Ge.STEP_SIZE*this.xSpeed*t*.01,10/Ge.STEP_SIZE*this.ySpeed*t*.01,!1)),0!=this.rSpeed&&(this.realAngle+=t*this.rSpeed*.001),this.fixedRotation&&(this.rSpeed=this.realAngle=0);else{var i=this.body.getPosition();this.realX=i.x*Ge.physicsScale,this.realY=i.y*Ge.physicsScale,this.resetReal(this.realX,this.realY),this.realAngle=57.29577951308402*this.body.getAngle()}this.lastX==this.realX&&this.lastY==this.realY&&this.lastAngle==this.realAngle&&this.lastScale.x==this.realScaleX&&this.lastScale.y==this.realScaleY||(this.updateMatrix=!0),this.lastX=this.realX,this.lastY=this.realY,this.lastAngle=this.realAngle,this.lastScale.x=this.realScaleX,this.lastScale.y=this.realScaleY,e&&null!=this.currAnimation&&this.currAnimation.update(t)}},updateDrawingMatrix:function(t){null==t&&(t=!1),this.paused&&!t||(this.smoothMove?(this.firstMove||(this.drawX=this.realX,this.drawY=this.realY,this.firstMove=!0),this.moveXDistance=this.realX-this.drawX,this.moveYDistance=this.realY-this.drawY,this.drawX=this.moveXDistance>this.minMove?this.moveXDistance*this.moveMultiplier>this.minMove?this.moveXDistance>this.maxMove?this.realX:this.drawX+this.moveXDistance*this.moveMultiplier:this.drawX+this.minMove:this.moveXDistance<-1*this.minMove?this.moveXDistance*this.moveMultiplier<-1*this.minMove?this.moveXDistance<-1*this.maxMove?this.realX:this.drawX+this.moveXDistance*this.moveMultiplier:this.drawX-this.minMove:this.realX,this.drawY=this.moveYDistance>this.minMove?this.moveYDistance*this.moveMultiplier>this.minMove?this.moveYDistance>this.maxMove?this.realY:this.drawY+this.moveYDistance*this.moveMultiplier:this.drawY+this.minMove:this.moveYDistance<-1*this.minMove?this.moveYDistance*this.moveMultiplier<-1*this.minMove?this.moveYDistance<-1*this.maxMove?this.realY:this.drawY+this.moveYDistance*this.moveMultiplier:this.drawY-this.minMove:this.realY):0!=this.physicsMode?(this.drawX=this.realX,this.drawY=this.realY):(t=this.body.getPosition(),this.drawX=t.x*Ge.physicsScale,this.drawY=t.y*Ge.physicsScale),this.transformPoint.x=(this.currOrigin.x-this.cacheWidth/2)*Ge.SCALE,this.transformPoint.y=(this.currOrigin.y-this.cacheHeight/2)*Ge.SCALE,this.transformMatrix.identity(),this.transformMatrix.translate(-this.transformPoint.x,-this.transformPoint.y),this.transformMatrix.scale(this.realScaleX,this.realScaleY),0!=this.realAngle&&this.transformMatrix.rotate(.01745329251994278*this.realAngle),Ne.pixelsnap?this.transformMatrix.translate(Math.round(this.drawX)*Ge.SCALE,Math.round(this.drawY)*Ge.SCALE):this.transformMatrix.translate(this.drawX*Ge.SCALE,this.drawY*Ge.SCALE),null==this.transformObj&&(this.transformObj=this.get_transform()),this.transformObj.set_matrix(this.transformMatrix))},updateTweenAlpha:function(){this.set_alpha(this.tweenProps.alpha.value)},updateTweenScaleXY:function(){this.realScaleX=this.tweenProps.realScaleXY.value1,this.realScaleY=this.tweenProps.realScaleXY.value2,this.updateBodyScale()},updateTweenAngle:function(){this.setAngle(this.tweenProps.angle.value,!1)},updateTweenXY:function(){0==this.physicsMode?this.setXY(this.tweenProps.xy.value1,this.tweenProps.xy.value2):(this.moveActorBy(this.tweenProps.xy.value1-this.getX(!1),this.tweenProps.xy.value2-this.getY(!1),!1),this.updateMatrix=!0),this.tweenProps.xy.finished&&null!=this.currOffset&&this.resetReal(this.realX,this.realY)},updateBodyScale:function(){this.autoScale&&0==this.physicsMode&&null!=this.body&&this.bodyDef.type!=Mt.b2_staticBody&&0!=this.realScaleX&&0!=this.realScaleY&&this.scaleBody(this.realScaleX,this.realScaleY)},scaleBody:function(t,e){for(var i=[],s=this.body.getFixtureList();null!=s;)i.push(s),s=s.getNext();for(s=0;s<i.length;){var n=i[s];++s;var r=n.getShape();if(n=this.body.getLocalCenter(),r instanceof gt){var a=r,o=1/this.bodyScale.x*t,l=1/this.bodyScale.y*e,h=a.m_p;h.subtract(n),h.x*=o,h.y*=l,a.m_p=n.copy(),a.m_p.add(h),r.m_radius*=Math.abs(o)}else if(r instanceof vt){a=r.m_vertices,o=[],l=0<this.bodyScale.x&&0>t||0>this.bodyScale.x&&0<t,h=0<this.bodyScale.y&&0>e||0>this.bodyScale.y&&0<e;for(var _=0;_<a.length;){var c=a[_];++_,c.subtract(n),c.x=1/Math.abs(this.bodyScale.x)*c.x*Math.abs(t),c.y=1/Math.abs(this.bodyScale.y)*c.y*Math.abs(e),l&&(c.x=-c.x),h&&(c.y=-c.y);var u=n.copy();u.add(c),o.push(u)}l&&h||!l&&!h||o.reverse(),r.setAsArray(o,o.length)}}this.bodyScale.x=t,this.bodyScale.y=e,this.body.size.x=Ge.toPhysicalUnits(this.cacheWidth*t),this.body.size.y=Ge.toPhysicalUnits(this.cacheHeight*e)},checkScreenState:function(){var t=this.isOnScreen(),e=t||this.isInScene(),i=!this.lastScreenState&&t,s=!this.lastSceneState&&e,n=this.lastScreenState&&!t,r=this.lastSceneState&&!e;if(0<this.whenPositionStateChanged.length)for(this.whenPositionStateChanged._dispatchIndex=0;this.whenPositionStateChanged._dispatchIndex<this.whenPositionStateChanged.length;){try{this.whenPositionStateChanged.listeners[this.whenPositionStateChanged._dispatchIndex](i,n,s,r)}catch(t){Ma.lastError=t}++this.whenPositionStateChanged._dispatchIndex}var a=this.engine.whenTypeGroupPositionStateChangedEvents.h[this.groupID+1e6],o=this.engine.whenTypeGroupPositionStateChangedEvents.h[this.typeID];if(null!=a&&0<a.length)for(a._dispatchIndex=0;a._dispatchIndex<a.length;){try{a.listeners[a._dispatchIndex](this,i,n,s,r)}catch(t){Ma.lastError=t}++a._dispatchIndex}if(null!=o&&0<o.length)for(o._dispatchIndex=0;o._dispatchIndex<o.length;){try{o.listeners[o._dispatchIndex](this,i,n,s,r)}catch(t){Ma.lastError=t}++o._dispatchIndex}this.lastScreenState=t,this.lastSceneState=e},contactCount:null,collisionsCount:null,handleCollisions:function(){if(0<this.contactCount)for(var t,e=0,i=this.contacts.iterator();i.hasNext();){var s=(t=i.next()).key,n=this.collisions.mH,r=n.mHash[73856093*s&n.mMask];if(-1==r)r=!1;else if((n=n.mData)[r]==s)r=!0;else{var a=!1;for(r=n[r+2];-1!=r;){if(n[r]==s){a=!0;break}r=n[r+2]}r=a}if(r){if(-1==(n=(a=(r=this.collisions).mH).mHash[73856093*s&a.mMask]))s=-2147483648;else if((a=a.mData)[n]==s)s=a[n+1];else{var o=-2147483648;for(n=a[n+2];-1!=n;){if(a[n]==s){o=a[n+1];break}n=a[n+2]}s=o}for(s=-2147483648==s?null:r.mVals[s],t.getWorldManifold(un.manifold),r=0,n=un.manifold.m_points;r<n.length;)a=n[r],++r,0!=a.x&&0!=a.y&&(null==(t=s.points[e])?s.points[e]=En.get(a.x,a.y,un.manifold.m_normal.x,un.manifold.m_normal.y):((t=s.points[e]).x=a.x,t.y=a.y,t.normalX=un.manifold.m_normal.x,t.normalY=un.manifold.m_normal.y),++e);for(;s.points.length>e;)En.free(s.points.pop());e=0}else{var l=t.getFixtureA().getUserData(),h=t.getFixtureB().getUserData();l==this?(r=h,n=t.getFixtureB(),a=t.getFixtureA()):(r=l,n=t.getFixtureA(),a=t.getFixtureB()),(o=new In).otherActor=r,o.otherShape=n,o.thisActor=this,o.thisShape=a,o.actorA=l,o.actorB=h,t.getWorldManifold(un.manifold),this.collisions.set(s,o),this.collisionsCount++,s=this.getBody(),l=r.getBody(),h=t.getFixtureA().getBody();for(var _=t.getFixtureB().getBody(),c=0,u=un.manifold.m_points;c<u.length;)t=u[c],++c,0==t.x||0==t.y||a.isSensor()?a.isSensor()&&(null!=r&&(o.thisCollidedWithActor=o.thisCollidedWithActor||1!=r.groupID&&-2!=r.groupID&&!r.isTerrainRegion,o.thisCollidedWithTerrain=o.thisCollidedWithTerrain||r.isTerrainRegion,o.thisCollidedWithTile=o.thisCollidedWithTile||1==r.groupID),o.otherCollidedWithActor=o.otherCollidedWithActor||1!=this.groupID&&-2!=this.groupID&&!this.isTerrainRegion,o.otherCollidedWithTerrain=o.otherCollidedWithTerrain||this.isTerrainRegion,o.otherCollidedWithTile=o.otherCollidedWithTile||1==this.groupID,o.thisCollidedWithSensor=o.thisCollidedWithSensor||n.isSensor(),o.otherCollidedWithSensor=o.otherCollidedWithSensor||a.isSensor()):(t=En.get(t.x,t.y,un.manifold.m_normal.x,un.manifold.m_normal.y),o.points.push(t),h==s?(o.thisFromBottom=o.thisFromBottom||0<t.normalY,o.thisFromTop=o.thisFromTop||0>t.normalY,o.thisFromLeft=o.thisFromLeft||0>t.normalX,o.thisFromRight=o.thisFromRight||0<t.normalX):_==s&&(o.thisFromBottom=o.thisFromBottom||0>t.normalY,o.thisFromTop=o.thisFromTop||0<t.normalY,o.thisFromLeft=o.thisFromLeft||0<t.normalX,o.thisFromRight=o.thisFromRight||0>t.normalX),h==l?(o.otherFromBottom=o.otherFromBottom||0<t.normalY,o.otherFromTop=o.otherFromTop||0>t.normalY,o.otherFromLeft=o.otherFromLeft||0>t.normalX,o.otherFromRight=o.otherFromRight||0<t.normalX):_==l&&(o.otherFromBottom=o.otherFromBottom||0>t.normalY,o.otherFromTop=o.otherFromTop||0<t.normalY,o.otherFromLeft=o.otherFromLeft||0<t.normalX,o.otherFromRight=o.otherFromRight||0>t.normalX),null!=r&&(o.thisCollidedWithActor=o.thisCollidedWithActor||1!=r.groupID&&-2!=r.groupID&&!r.isTerrainRegion,o.thisCollidedWithTerrain=o.thisCollidedWithTerrain||r.isTerrainRegion,o.thisCollidedWithTile=o.thisCollidedWithTile||1==r.groupID),o.otherCollidedWithActor=o.otherCollidedWithActor||1!=this.groupID&&-2!=this.groupID&&!this.isTerrainRegion,o.otherCollidedWithTerrain=o.otherCollidedWithTerrain||this.isTerrainRegion,o.otherCollidedWithTile=o.otherCollidedWithTile||1==this.groupID,o.thisCollidedWithSensor=o.thisCollidedWithSensor||n.isSensor(),o.otherCollidedWithSensor=o.otherCollidedWithSensor||a.isSensor())}}if(0<this.collisionsCount)for(e=this.collisions.iterator();e.hasNext();)if(null!=(i=e.next())&&null!=i.thisActor&&null!=i.otherActor&&i.thisActor.handlesCollisions&&i.otherActor.handlesCollisions){if(un.lastCollided=i.otherActor,0<this.whenCollided.length)for(this.whenCollided._dispatchIndex=0;this.whenCollided._dispatchIndex<this.whenCollided.length;){try{this.whenCollided.listeners[this.whenCollided._dispatchIndex](i)}catch(t){Ma.lastError=t}++this.whenCollided._dispatchIndex}this.engine.handleCollision(this,i)}},addContact:function(t){null!=this.contacts&&(this.contacts.set(t.key,t),this.contactCount++)},removeContact:function(t){if(null!=this.collisions){var e=this.collisions,i=t.key,s=e.mH,n=s.mHash[73856093*i&s.mMask];if(-1==n)i=-2147483648;else if((s=s.mData)[n]==i)i=s[n+1];else{var r=-2147483648;for(n=s[n+2];-1!=n;){if(s[n]==i){r=s[n+1];break}n=s[n+2]}i=r}if(null!=(s=-2147483648==i?null:e.mVals[i]))for(this.collisions.unset(t.key),this.collisionsCount--;0<s.points.length;)En.free(s.points.pop())}null!=this.contacts&&this.contacts.unset(t.key)&&this.contactCount--},addRegionContact:function(t){null!=this.regionContacts&&this.regionContacts.set(t.key,t)},removeRegionContact:function(t){null!=this.regionContacts&&this.regionContacts.unset(t.key)},getID:function(){return this.ID},getName:function(){return this.get_name()},getGroupID:function(){return 0!=this.physicsMode?this.groupID:this.body.groupID},getLayerID:function(){return this.layer.ID},getLayer:function(){return this.layer},getLayerName:function(){return this.layer.layerName},getLayerOrder:function(){return this.layer.order},getType:function(){return this.type},isPausable:function(){return this.getType().pausable},isPaused:function(){return this.paused},pause:function(){if(this.isPausable()){this.tweenProps.pause();for(var t=0,e=this.behaviors.behaviors;t<e.length;){var i=e[t];++t,null!=i.script&&i.script.pauseTweens()}this.paused=!0,0==this.physicsMode&&this.body.setPaused(!0)}},unpause:function(){if(this.isPausable()){this.tweenProps.unpause();for(var t=0,e=this.behaviors.behaviors;t<e.length;){var i=e[t];++t,null!=i.script&&i.script.unpauseTweens()}this.paused=!1,0==this.physicsMode&&this.body.setPaused(!1)}},getGroup:function(){var t=this.engine.groups,e=this.getGroupID();return t.h[e]},getIsRegion:function(){return this.isRegion},getIsTerrainRegion:function(){return this.isTerrainRegion},moveToLayer:function(t){!this.isHUD&&t instanceof Zn&&this.engine.moveActorToLayer(this,t)},bringToFront:function(){this.isHUD||(this.engine.bringToFront(this),this.moveToTop())},bringForward:function(){this.isHUD||this.engine.bringForward(this)},sendToBack:function(){this.isHUD||(this.engine.sendToBack(this),this.moveToBottom())},sendBackward:function(){this.isHUD||this.engine.sendBackward(this)},moveToBottom:function(){this.parent.setChildIndex(this,0)},moveToTop:function(){this.parent.setChildIndex(this,this.parent.get_numChildren()-1)},moveDown:function(){var t=this.parent.getChildIndex(this);0<t&&this.parent.setChildIndex(this,t-1)},moveUp:function(){var t=this.parent.getChildIndex(this);t<this.parent.get_numChildren()-1&&this.parent.setChildIndex(this,t+1)},getZIndex:function(){return this.parent.getChildIndex(this)},setZIndex:function(t){var e=this.parent.get_numChildren()-1;t>e&&(t=e),0>t&&(t=0),this.parent.setChildIndex(this,t)},enableSmoothMotion:function(){this.smoothMove=!0},getX:function(t){null==t&&(t=!0);var e=-1;return Ge.NO_PHYSICS||(this.isRegion||this.isTerrainRegion?e=Ge.toPixelUnits(this.body.getPosition().x)-this.cacheWidth/2:0==this.physicsMode&&(e=this.body.getPosition().x*Ge.physicsScale-Math.floor(this.cacheWidth/2)-this.currOffset.x)),(Ge.NO_PHYSICS||0!=this.physicsMode)&&(e=this.realX-Math.floor(this.cacheWidth/2)-this.currOffset.x),t?Math.round(e):e},getY:function(t){null==t&&(t=!0);var e=-1;return Ge.NO_PHYSICS||(this.isRegion||this.isTerrainRegion?e=Ge.toPixelUnits(this.body.getPosition().y)-this.cacheHeight/2:0==this.physicsMode&&(e=this.body.getPosition().y*Ge.physicsScale-Math.floor(this.cacheHeight/2)-this.currOffset.y)),(Ge.NO_PHYSICS||0!=this.physicsMode)&&(e=this.realY-Math.floor(this.cacheHeight/2)-this.currOffset.y),t?Math.round(e):e},getXCenter:function(){return 0==this.physicsMode?Math.round(Ge.toPixelUnits(this.body.getWorldCenter().x)-this.currOffset.x):this.realX-this.currOffset.x},getYCenter:function(){return 0==this.physicsMode?Math.round(Ge.toPixelUnits(this.body.getWorldCenter().y)-this.currOffset.y):this.realY-this.currOffset.y},getScreenX:function(){return this.isHUD?this.getX(!0):this.getX(!0)-Ge.cameraX/Ge.SCALE},getScreenY:function(){return this.isHUD?this.getY(!0):this.getY(!0)-Ge.cameraY/Ge.SCALE},setX:function(t,e,i){null==i&&(i=!1),null==e&&(e=!1),1==this.physicsMode?(null==(e=i||!this.continuousCollision)&&(e=!0),this.moveActorBy(t+Math.floor(this.cacheWidth/2)+this.currOffset.x-this.realX,this.realY-this.realY,e,!1)):2==this.physicsMode?this.resetReal(t+Math.floor(this.cacheWidth/2)+this.currOffset.x,this.realY):(this.dummy.x=this.isRegion||this.isTerrainRegion?Ge.toPhysicalUnits(t):Ge.toPhysicalUnits(t+Math.floor(this.cacheWidth/2)+this.currOffset.x),this.dummy.y=this.body.getPosition().y,this.body.setPosition(this.dummy),e&&this.body.setLinearVelocity(this.zero)),this.snapOnSet&&(this.drawX=this.realX,this.drawY=this.realY),this.updateMatrix=!0},setY:function(t,e,i){null==i&&(i=!1),null==e&&(e=!1),1==this.physicsMode?(null==(e=i||!this.continuousCollision)&&(e=!0),this.moveActorBy(this.realX-this.realX,t+Math.floor(this.cacheHeight/2)+this.currOffset.y-this.realY,e,!1)):2==this.physicsMode?this.resetReal(this.realX,t+Math.floor(this.cacheHeight/2)+this.currOffset.y):(this.dummy.y=this.isRegion||this.isTerrainRegion?Ge.toPhysicalUnits(t):Ge.toPhysicalUnits(t+Math.floor(this.cacheHeight/2)+this.currOffset.y),this.dummy.x=this.body.getPosition().x,this.body.setPosition(this.dummy),e&&this.body.setLinearVelocity(this.zero)),this.snapOnSet&&(this.drawX=this.realX,this.drawY=this.realY),this.updateMatrix=!0},setXY:function(t,e,i,s){null==s&&(s=!1),null==i&&(i=!1),1==this.physicsMode?(null==(i=s||!this.continuousCollision)&&(i=!0),this.moveActorBy(t+Math.floor(this.cacheWidth/2)+this.currOffset.x-this.realX,e+Math.floor(this.cacheHeight/2)+this.currOffset.y-this.realY,i,!1),0==this.colX&&0==this.colY&&this.resetReal(this.realX,this.realY)):2==this.physicsMode?this.resetReal(t+Math.floor(this.cacheWidth/2)+this.currOffset.x,e+Math.floor(this.cacheHeight/2)+this.currOffset.y):(this.isRegion||this.isTerrainRegion?(this.dummy.x=Ge.toPhysicalUnits(t),this.dummy.y=Ge.toPhysicalUnits(e)):(this.dummy.x=Ge.toPhysicalUnits(t+Math.floor(this.cacheWidth/2)+this.currOffset.x),this.dummy.y=Ge.toPhysicalUnits(e+Math.floor(this.cacheHeight/2)+this.currOffset.y)),this.body.setPosition(this.dummy),i&&this.body.setLinearVelocity(this.zero)),this.snapOnSet&&(this.drawX=this.realX,this.drawY=this.realY),this.updateMatrix=!0},setXCenter:function(t){this.setX(t-this.getWidth()/2)},setYCenter:function(t){this.setY(t-this.getHeight()/2)},setScreenX:function(t){this.isHUD?this.setX(t):this.setX(t+Ge.cameraX/Ge.SCALE)},setScreenY:function(t){this.isHUD?this.setY(t):this.setY(t+Ge.cameraY/Ge.SCALE)},follow:function(t){if(null!=t)if(0!=this.physicsMode){var e=t.getXCenter();t=t.getYCenter(),this.moveActorBy(e-this.realX,t-this.realY,!0,!1)}else this.body.setPosition(t.body.getWorldCenter())},followWithOffset:function(t,e,i){0!=this.physicsMode?(e=t.getXCenter()+e,i=t.getYCenter()+i,this.moveActorBy(e-this.realX,i-this.realY,!0,!1)):((t=t.body.getWorldCenter()).x+=Ge.toPhysicalUnits(e),t.y+=Ge.toPhysicalUnits(i),this.body.setPosition(t))},setOriginPoint:function(t,e){var i=0==this.physicsMode?this.body.getPosition():new G(Ge.toPhysicalUnits(this.realX),Ge.toPhysicalUnits(this.realY)),s=new G(this.currOffset.x,this.currOffset.y),n=this.getAngle(),r=t-this.cacheWidth/2|0,a=e-this.cacheHeight/2|0;if(null!=this.currOrigin&&((0|this.currOffset.x)!=r||(0|this.currOffset.y)!=a)&&57.29577951308402*n|0){var o=n+Math.atan2(-this.currOffset.y,-this.currOffset.x);n+=Math.atan2(-a,-r);var l=Math.sqrt(Math.pow(this.currOffset.x,2)+Math.pow(this.currOffset.y,2)),h=Math.sqrt(Math.pow(r,2)+Math.pow(a,2)),_=Math.round(this.currOrigin.y+Math.sin(o)*l),c=Math.round(e+Math.sin(n)*h);i.x+=Ge.toPhysicalUnits(Math.round(this.currOrigin.x+Math.cos(o)*l)-Math.round(t+Math.cos(n)*h)),i.y+=Ge.toPhysicalUnits(_-c)}this.currOrigin.x=t,this.currOrigin.y=e,this.currOffset.x=r,this.currOffset.y=a,s.x=this.currOffset.x-s.x,s.y=this.currOffset.y-s.y,i.x+=Ge.toPhysicalUnits(s.x),i.y+=Ge.toPhysicalUnits(s.y),0==this.physicsMode?this.body.setPosition(i):(this.realX=Ge.toPixelUnits(i.x),this.realY=Ge.toPixelUnits(i.y)),this.resetOrigin=!0},getXVelocity:function(){return 0!=this.physicsMode?this.xSpeed:this.body.getLinearVelocity().x},getYVelocity:function(){return 0!=this.physicsMode?this.ySpeed:this.body.getLinearVelocity().y},setXVelocity:function(t){if(0!=this.physicsMode)this.xSpeed=t;else{var e=this.body.getLinearVelocity();e.x=t,this.body.setLinearVelocity(e),this.body.setAwake(!0)}},setYVelocity:function(t){if(0!=this.physicsMode)this.ySpeed=t;else{var e=this.body.getLinearVelocity();e.y=t,this.body.setLinearVelocity(e),this.body.setAwake(!0)}},setVelocity:function(t,e){this.setXVelocity(e*Math.cos(.01745329251994278*t)),this.setYVelocity(e*Math.sin(.01745329251994278*t))},accelerateX:function(t){this.setXVelocity(this.getXVelocity()+t)},accelerateY:function(t){this.setYVelocity(this.getYVelocity()+t)},accelerate:function(t,e){this.setXVelocity(this.getXVelocity()+e*Math.cos(.01745329251994278*t)),this.setYVelocity(this.getYVelocity()+e*Math.sin(.01745329251994278*t))},getAngle:function(){return 0!=this.physicsMode?.01745329251994278*this.realAngle:this.body.getAngle()},getAngleInDegrees:function(){return 0!=this.physicsMode?this.realAngle:57.29577951308402*this.body.getAngle()},setAngle:function(t,e){null==e&&(e=!0),e?0!=this.physicsMode?this.realAngle=57.29577951308402*t:this.body.setAngle(t):0!=this.physicsMode?this.realAngle=t:this.body.setAngle(.01745329251994278*t),this.updateMatrix=!0},rotate:function(t,e){null==e&&(e=!0),e?0!=this.physicsMode?this.realAngle+=57.29577951308402*t:this.body.setAngle(this.body.getAngle()+t):0!=this.physicsMode?this.realAngle+=t:this.body.setAngle(this.body.getAngle()+.01745329251994278*t)},getAngularVelocity:function(){return 0!=this.physicsMode?.01745329251994278*this.rSpeed:this.body.getAngularVelocity()},setAngularVelocity:function(t){0!=this.physicsMode?this.rSpeed=57.29577951308402*t:(this.body.setAngularVelocity(t),this.body.setAwake(!0))},changeAngularVelocity:function(t){0!=this.physicsMode?this.rSpeed+=57.29577951308402*t:(this.body.setAngularVelocity(this.body.getAngularVelocity()+t),this.body.setAwake(!0))},push:function(t,e,i){0!=this.physicsMode?(this.dummy.x=t,this.dummy.y=e,this.dummy.normalize(),this.accelerateX(this.dummy.x*i*.01),this.accelerateY(this.dummy.y*i*.01)):0==t&&0==e||(this.dummy.x=t,this.dummy.y=e,this.dummy.normalize(),this.dummy.multiply(i),this.body.applyForce(this.dummy,this.body.getWorldCenter()))},pushInDirection:function(t,e){this.push(Math.cos(.01745329251994278*t),Math.sin(.01745329251994278*t),e)},applyImpulse:function(t,e,i){0!=this.physicsMode?(this.dummy.x=t,this.dummy.y=e,this.dummy.normalize(),this.accelerateX(this.dummy.x*i),this.accelerateY(this.dummy.y*i)):0==t&&0==e||(this.dummy.x=t,this.dummy.y=e,this.dummy.normalize(),this.dummy.multiply(i),this.body.applyImpulse(this.dummy,this.body.getWorldCenter()))},applyImpulseInDirection:function(t,e){this.applyImpulse(Math.cos(.01745329251994278*t),Math.sin(.01745329251994278*t),e)},applyTorque:function(t){0!=this.physicsMode?this.fixedRotation||(this.rSpeed-=t):(this.body.applyTorque(t),this.body.setAwake(!0))},getWidth:function(){return this.cacheWidth},getHeight:function(){return this.cacheHeight},getPhysicsWidth:function(){return this.cacheWidth/Ge.physicsScale},getPhysicsHeight:function(){return this.cacheHeight/Ge.physicsScale},getBody:function(){return this.body},enableRotation:function(){0!=this.physicsMode?this.fixedRotation=!1:this.body.setFixedRotation(!1)},disableRotation:function(){0!=this.physicsMode?this.fixedRotation=!0:this.body.setFixedRotation(!0)},setIgnoreGravity:function(t){this.ignoreGravity=t,0==this.physicsMode&&this.body.setIgnoreGravity(t)},ignoresGravity:function(){return 0!=this.physicsMode?this.ignoreGravity:this.body.isIgnoringGravity()},getFriction:function(){return 0==this.physicsMode&&null!=this.body.m_fixtureList?this.body.m_fixtureList.m_friction:0},getBounciness:function(){return 0==this.physicsMode&&null!=this.body.m_fixtureList?this.body.m_fixtureList.m_restitution:0},getMass:function(){return 0==this.physicsMode?this.md.mass:0},getAngularMass:function(){return 0==this.physicsMode?this.md.I:0},getLinearDamping:function(){return 0==this.physicsMode?this.body.getLinearDamping():0},getAngularDamping:function(){return 0==this.physicsMode?this.body.getAngularDamping():0},setFriction:function(t){0==this.physicsMode&&this.body.setFriction(t)},setBounciness:function(t){0==this.physicsMode&&this.body.setBounciness(t)},setMass:function(t){0==this.physicsMode&&(this.md.mass=t,this.body.setMassData(this.md))},setAngularMass:function(t){0==this.physicsMode&&(this.md.I=t,this.body.setMassData(this.md))},setLinearDamping:function(t){0==this.physicsMode&&this.body.setLinearDamping(t)},setAngularDamping:function(t){0==this.physicsMode&&this.body.setAngularDamping(t)},isMouseOver:function(){if(this.isHUD)var t=(ze.mouseX-Ge.engine.hudLayer.get_x())/Ge.SCALE,e=(ze.mouseY-Ge.engine.hudLayer.get_y())/Ge.SCALE;else t=(ze.mouseX+Ge.cameraX*this.layer.scrollFactorX)/Ge.SCALE,e=(ze.mouseY+Ge.cameraY*this.layer.scrollFactorY)/Ge.SCALE;var i=Math.abs(this.realScaleX),s=Math.abs(this.realScaleY),n=this.currOrigin.x*(i-1),r=(this.cacheWidth-this.currOrigin.x)*(i-1),a=this.currOrigin.y*(s-1),o=(this.cacheHeight-this.currOrigin.y)*(s-1);0==this.physicsMode||this.currOrigin.x==this.cacheWidth/2&&this.currOrigin.y==this.cacheHeight/2||this.resetReal(this.realX,this.realY);var l=this.colX-n,h=this.colY-a;if(0!=this.get_rotation()){t-=i=l+this.currOrigin.x*i,e-=s=h+this.currOrigin.y*s;var _=.01745329251994278*this.get_rotation();s=s-t*Math.sin(_)+e*Math.cos(_),t=i+t*Math.cos(_)+e*Math.sin(_),e=s}return this.isHUD&&!Ge.engine.isHUDZoomable?t>=l/Ge.engine.zoomMultiplier&&e>=h/Ge.engine.zoomMultiplier&&t<(l+this.cacheWidth+n+r)/Ge.engine.zoomMultiplier&&e<(h+this.cacheHeight+a+o)/Ge.engine.zoomMultiplier:t>=l&&e>=h&&t<l+this.cacheWidth+n+r&&e<h+this.cacheHeight+a+o},isMouseHover:function(){return!!this.isMouseOver()&&!ze.mouseDown},isMouseDown:function(){return!!this.isMouseOver()&&ze.mouseDown},isMousePressed:function(){return!!this.isMouseOver()&&ze.mousePressed},isMouseReleased:function(){return!!this.isMouseOver()&&ze.mouseReleased},cancelTweens:function(){this.tweenProps.cancel()},fadeTo:function(t,e,i){null==e&&(e=1),this.tweenProps.alpha.tween(this.get_alpha(),t,i,1e3*e|0)},growTo:function(t,e,i,s){null==i&&(i=1),null==e&&(e=1),null==t&&(t=1),this.tweenProps.realScaleXY.tween(this.realScaleX,t,this.realScaleY,e,s,1e3*i|0)},spinTo:function(t,e,i){null==e&&(e=1),this.tweenProps.angle.tween(this.getAngleInDegrees(),t,i,1e3*e|0)},moveTo:function(t,e,i,s){null==i&&(i=1),this.tweenProps.xy.tween(this.getX(!1),t,this.getY(!1),e,s,1e3*i|0)},spinBy:function(t,e,i){null==e&&(e=1),this.spinTo(this.getAngleInDegrees()+t,e,i)},moveBy:function(t,e,i,s){null==i&&(i=1),this.moveTo(this.getX(!1)+t,this.getY(!1)+e,i,s)},drawImage:function(t){if(null!=this.currAnimation){var e=0,i=0;0<this.realAngle&&(this.drawMatrix.identity(),this.transformPoint.x=-this.cacheWidth/2*Ge.SCALE,this.transformPoint.y=-this.cacheHeight/2*Ge.SCALE,this.drawMatrix.translate(-this.transformPoint.x,-this.transformPoint.y),this.drawMatrix.scale(this.realScaleX,this.realScaleY),this.drawMatrix.rotate(.01745329251994278*this.realAngle),this.drawMatrix.translate(this.colX*Ge.SCALE,this.colY*Ge.SCALE),e+=this.transformMatrix.tx-this.drawMatrix.tx,i+=this.transformMatrix.ty-this.drawMatrix.ty);var s=this.currAnimation.get_visible();this.currAnimation.set_visible(!0);var n=this.currAnimation,r=.01745329251994278*this.realAngle;Ne.disposeImages&&!n.model.checkImageReadable()||t.drawImage(n.get_bitmapData(),e,i,r),this.currAnimation.set_visible(s)}},getCurrentImage:function(){return this.currAnimation.getCurrentImage()},enableActorDrawing:function(){this.drawActor=!0,null!=this.currAnimation&&this.currAnimation.set_visible(!0)},disableActorDrawing:function(){this.drawActor=!1,null!=this.currAnimation&&this.currAnimation.set_visible(!1)},drawsImage:function(){return this.drawActor},setFilter:function(t){null==this.bitmapFilters&&(this.bitmapFilters=[]),this.bitmapFilters=this.bitmapFilters.concat(t),null!=this.currAnimation&&this.currAnimation.set_filter(this.bitmapFilters)},clearFilters:function(){this.bitmapFilters=null,null!=this.currAnimation&&this.currAnimation.set_filter(null)},setBlendMode:function(t){this.set_blendMode(t)},resetBlendMode:function(){this.set_blendMode(10)},addBehavior:function(t){null!=this.behaviors&&this.behaviors.add(t)},hasBehavior:function(t){return null!=this.behaviors&&this.behaviors.hasBehavior(t)},enableBehavior:function(t){null!=this.behaviors&&this.behaviors.enableBehavior(t)},disableBehavior:function(t){null!=this.behaviors&&this.behaviors.disableBehavior(t)},isBehaviorEnabled:function(t){return null!=this.behaviors&&this.behaviors.isBehaviorEnabled(t)},enableAllBehaviors:function(){if(null!=this.behaviors)for(var t=0,e=this.behaviors.behaviors;t<e.length;){var i=e[t];++t,i.enabled=!0}},getValue:function(t,e){return this.behaviors.getAttribute(t,e)},setValue:function(t,e,i){this.behaviors.setAttribute(t,e,i)},shout:function(t,e){return this.behaviors.call(t,e)},say:function(t,e,i){return this.behaviors.call2(t,e,i)},setActorValue:function(t,e){null!=this.registry&&(this.registry.h[t]=e)},getActorValue:function(t){return null==this.registry?null:this.registry.h[t]},hasActorValue:function(t){return null==this.registry?null:null!=this.registry.h[t]},registerListener:function(t,e){var i=vr.indexOf(this.allEventReferences,t);-1!=i?t=this.allListeners.h[i]:(this.allEventReferences.push(t),i=this.allEventReferences.length-1,t=[],this.allListeners.h[i]=t),t.push(e)},removeAllListeners:function(){for(var t=0,e=this.allEventReferences.length;t<e;){var i=t++,s=this.allEventReferences[i];if(null!=s&&null!=(i=vo.__cast(this.allListeners.h[i],Array)))for(var n=0,r=i.length;n<r;){var a=n++;s.remove(i[a])}}this.allEventReferences.length=0},anchorToScreen:function(){this.isHUD||this.engine.moveActorToLayer(this,this.engine.hudLayer)},unanchorFromScreen:function(){this.isHUD&&this.engine.moveActorToLayer(this,this.cachedLayer)},isAnchoredToScreen:function(){return this.isHUD},makeAlwaysSimulate:function(t){null==t&&(t=!0),this.alwaysSimulate||(0==this.physicsMode&&t&&(this.body.setAlwaysActive(!0),this.body.setActive(!0)),this.alwaysSimulate=!0)},makeSometimesSimulate:function(t){null==t&&(t=!0),this.alwaysSimulate&&(0==this.physicsMode&&t&&(this.body.setAlwaysActive(!1),this.body.setActive(!1)),this.alwaysSimulate=!1)},alwaysSimulates:function(){return this.alwaysSimulate},die:function(){this.dying=!0;var t=this.engine.whenTypeGroupKilledEvents,e=this.getType(),i=t.h[e.__id__];if(t=this.engine.whenTypeGroupKilledEvents,e=this.getGroup(),t=t.h[e.__id__],0<this.whenKilled.length)for(this.whenKilled._dispatchIndex=0;this.whenKilled._dispatchIndex<this.whenKilled.length;){try{this.whenKilled.listeners[this.whenKilled._dispatchIndex]()}catch(t){Ma.lastError=t}++this.whenKilled._dispatchIndex}if(null!=i&&0<i.length)for(i._dispatchIndex=0;i._dispatchIndex<i.length;){try{i.listeners[i._dispatchIndex](this)}catch(t){Ma.lastError=t}++i._dispatchIndex}if(null!=t&&0<t.length)for(t._dispatchIndex=0;t._dispatchIndex<t.length;){try{t.listeners[t._dispatchIndex](this)}catch(t){Ma.lastError=t}++t._dispatchIndex}this.removeAllListeners()},isDying:function(){return this.dying},isAlive:function(){return!(this.dead||this.dying||this.recycled)},isOnScreen:function(){var t=Ge.cameraX/Ge.SCALE,e=Ge.cameraY/Ge.SCALE,i=Ge.paddingLeft,s=Ge.paddingTop,n=Ge.paddingRight,r=Ge.paddingBottom;return!!((0!=this.physicsMode||this.body.isActive())&&this.getX(!0)+this.cacheWidth*this.realScaleX>=t-i&&this.getY(!0)+this.cacheHeight*this.realScaleY>=e-s&&this.getX(!0)<t+Ge.screenWidth+n)&&this.getY(!0)<e+Ge.screenHeight+r},isInScene:function(){return!!((0!=this.physicsMode||this.body.isActive())&&0<=this.getX(!0)+this.cacheWidth*this.realScaleX&&0<=this.getY(!0)+this.cacheHeight*this.realScaleY&&this.getX(!0)<Ge.sceneWidth)&&this.getY(!0)<Ge.sceneHeight},getLastCollidedActor:function(){return un.lastCollided},killSelfAfterLeavingScreen:function(){this.killLeaveScreen=!0},toString:function(){return null==this.get_name()?"Unknown Actor "+this.ID:"[Actor "+this.ID+","+this.get_name()+"]"},addRectangularShape:function(t,e,i,s){if(0==this.physicsMode){var n=new vt,r=[];t=Ge.toPhysicalUnits(t-Math.floor(this.cacheWidth/2)-this.currOffset.x),e=Ge.toPhysicalUnits(e-Math.floor(this.cacheHeight/2)-this.currOffset.y),i=Ge.toPhysicalUnits(i),s=Ge.toPhysicalUnits(s),r.push(new G(t,e)),r.push(new G(t+i,e)),r.push(new G(t+i,e+s)),r.push(new G(t,e+s)),n.setAsVector(r),this.createFixture(n).SetUserData(this)}},addCircularShape:function(t,e,i){if(0==this.physicsMode){var s=new gt;s.m_radius=Ge.toPhysicalUnits(i),s.m_p.x=Ge.toPhysicalUnits(t),s.m_p.y=Ge.toPhysicalUnits(e),this.createFixture(s).SetUserData(this)}},addVertex:function(t,e,i){e=Ge.toPhysicalUnits(e-Math.floor(this.cacheWidth/2)-this.currOffset.x),i=Ge.toPhysicalUnits(i-Math.floor(this.cacheHeight/2)-this.currOffset.y),t.push(new G(e,i))},addPolygonalShape:function(t){if(0==this.physicsMode){var e=new vt;e.setAsArray(t),this.createFixture(e).SetUserData(this)}},createFixture:function(t){var e=new Nt;return e.shape=t,e.density=.1*this.bodyDef.mass,e.friction=this.bodyDef.friction,e.restitution=this.bodyDef.bounciness,this.body.createFixture(e)},getLastCreatedFixture:function(){return 0==this.physicsMode?this.body.getFixtureList():null},setLocation:function(t,e){this.realX=t,this.realY=e,this.setXY(t,e,!1,!0)},get_shape:function(){return this._mask},set_shape:function(t){return this._mask==t?t:(null!=this._mask&&this._mask.assignTo(null),this._mask=t,null!=t&&this._mask.assignTo(this),this._mask)},collide:function(t,e,i){if(t=this.engine.getGroup(t),this._x=this.realX,this._y=this.realY,this.resetReal(e,i),null==this._mask){for(e=0,i=t.list;e<i.length;)if(t=i[e],++e,!t.recycled&&this.colX+this.cacheWidth>=t.colX&&this.colY+this.cacheHeight>=t.colY&&this.colX<=t.colX+t.cacheWidth&&this.colY<=t.colY+t.cacheHeight&&t.collidable&&t!=this&&(null==t._mask||t._mask.collide(this.HITBOX)))return this.colMask=t._mask,this.resetReal(this._x,this._y),t;return this.resetReal(this._x,this._y),null}for(e=0,i=t.list;e<i.length;)if(t=i[e],++e,!t.recycled&&this.colX+this.cacheWidth>=t.colX&&this.colY+this.cacheHeight>=t.colY&&this.colX<=t.colX+t.cacheWidth&&this.colY<=t.colY+t.cacheHeight&&t.collidable&&t!=this&&this._mask.collide(null!=t._mask?t._mask:t.HITBOX))return this.colMask=null!=t._mask?t._mask:t.HITBOX,this.resetReal(this._x,this._y),t;return this.resetReal(this._x,this._y),null},collideTypes:function(t,e,i){for(var s,n=this.collidedList.length,r=0;r<t.length;)s=t[r],++r,-2!=s&&this.collideInto(s,e,i,this.collidedList);return this.collidedList.length>n?this.collidedList[this.collidedList.length-1]:null},collideWith:function(t,e,i){if(this._x=this.realX,this._y=this.realY,this.resetReal(e,i),this.colX+this.cacheWidth>=t.colX&&this.colY+this.cacheHeight>=t.colY&&this.colX<=t.colX+t.cacheWidth&&this.colY<=t.colY+t.cacheHeight&&this.collidable&&t.collidable){if(null==this._mask)return null==t._mask||t._mask.collide(this.HITBOX)?(this.resetReal(this._x,this._y),t):(this.resetReal(this._x,this._y),null);if(this._mask.collide(null!=t._mask?t._mask:t.HITBOX))return this.resetReal(this._x,this._y),t}return this.resetReal(this._x,this._y),null},collideInto:function(t,e,i,s){if(t=this.engine.getGroup(t),this._x=this.realX,this._y=this.realY,this.resetReal(e,i),e=s.length,null==this._mask)for(i=0,t=t.list;i<t.length;){var n=t[i];++i,n.recycled||this.colX+this.cacheWidth>=n.colX&&this.colY+this.cacheHeight>=n.colY&&this.colX<=n.colX+n.cacheWidth&&this.colY<=n.colY+n.cacheHeight&&n.collidable&&n!=this&&(null==n._mask||n._mask.collide(this.HITBOX))&&(vr.contains(s,n)||(s[e++]=n))}else for(i=0,t=t.list;i<t.length;)n=t[i],++i,this.colX+this.cacheWidth>=n.colX&&this.colY+this.cacheHeight>=n.colY&&this.colX<=n.colX+n.cacheWidth&&this.colY<=n.colY+n.cacheHeight&&n.collidable&&n!=this&&this._mask.collide(null!=n._mask?n._mask:n.HITBOX)&&(vr.contains(s,n)||(s[e++]=n));this.resetReal(this._x,this._y)},clearCollisionInfoList:function(){if(0<this.collisionsCount)for(var t=this.simpleCollisions.iterator();t.hasNext();){var e=t.next();e.remove=!0,null!=e.linkedCollision&&(e.linkedCollision.remove=!0)}},disposeRemovedCollisionInfo:function(){if(0<this.collisionsCount){for(var t=-1,e=this.simpleCollisions.keys();e.hasNext();){var i=e.next(),s=this.simpleCollisions,n=s.mH,r=n.mHash[73856093*i&n.mMask];if(-1==r)r=-2147483648;else if((n=n.mData)[r]==i)r=n[r+1];else{var a=-2147483648;for(r=n[r+2];-1!=r;){if(n[r]==i){a=n[r+1];break}r=n[r+2]}r=a}(-2147483648==r?null:s.mVals[r]).remove?this.simpleCollisions.unset(i):i>t&&(t=i)}this.collisionsCount=t+1}},clearCollidedList:function(){for(;0<this.collidedList.length;)this.collidedList.pop();this.listChecked=0},addCollision:function(t){var e=this.alreadyCollided(t);if(-1!=e){var i=this.simpleCollisions,s=i.mH,n=s.mHash[73856093*e&s.mMask];if(-1==n)n=-2147483648;else if((s=s.mData)[n]==e)n=s[n+1];else{var r=-2147483648;for(n=s[n+2];-1!=n;){if(s[n]==e){r=s[n+1];break}n=s[n+2]}n=r}return i=-2147483648==n?null:i.mVals[n],t.switchData(i.linkedCollision),t.linkedCollision.remove=!1,t.remove=!1,In.recycle(i),this.simpleCollisions.unset(e),this.simpleCollisions.set(e,t),t}return this.simpleCollisions.unset(this.collisionsCount),this.simpleCollisions.set(this.collisionsCount,t),this.collisionsCount++,t},alreadyCollided:function(t){for(var e=this.simpleCollisions.keys();e.hasNext();){var i=e.next(),s=this.simpleCollisions,n=s.mH,r=n.mHash[73856093*i&n.mMask];if(-1==r)r=-2147483648;else if((n=n.mData)[r]==i)r=n[r+1];else{var a=-2147483648;for(r=n[r+2];-1!=r;){if(n[r]==i){a=n[r+1];break}r=n[r+2]}r=a}if(null!=(s=-2147483648==r?null:s.mVals[r])&&(s.maskA==t.maskA&&s.maskB==t.maskB||s.maskA==t.maskB&&s.maskB==t.maskA)){if(!s.solidCollision)return i;if(1!=s.maskA.groupID&&1!=s.maskB.groupID)return i;if((s.thisFromLeft||s.thisFromRight)&&(t.thisFromLeft||t.thisFromRight))return i;if((s.thisFromTop||s.thisFromBottom)&&(t.thisFromTop||t.thisFromBottom))return i}}return-1},resetReal:function(t,e){this.realX=t,this.realY=e,this.colX=this.realX-Math.floor(this.cacheWidth/2)-this.currOffset.x,this.colY=this.realY-Math.floor(this.cacheHeight/2)-this.currOffset.y},adjustByWidth:function(t){if(null!=this._mask&&null!=this._mask.lastCheckedMask&&this._mask.lastCheckedMask instanceof Gn){var e=this._mask.lastCheckedMask;return t?this.cacheWidth/2-(this.cacheWidth-(e._x+e._width)):this.cacheWidth/2-e._x}return this.cacheWidth/2},adjustByHeight:function(t){if(null!=this._mask&&null!=this._mask.lastCheckedMask&&this._mask.lastCheckedMask instanceof Gn){var e=this._mask.lastCheckedMask;return t?this.cacheHeight/2-(this.cacheHeight-(e._y+e._height)):this.cacheHeight/2-e._y}return this.cacheHeight/2},getAllCollisionInfo:function(t,e){for(var i=null;this.listChecked<this.collidedList.length;){var s=In.get();if(this.colMask=this.collidedList[this.listChecked]._mask,this.fillCollisionInfo(s,this.collidedList[this.listChecked],t,e),this.addCollision(s),null==s.linkedCollision){var n=In.get();s.switchData(n),this.collidedList[this.listChecked].addCollision(n)}s.solidCollision&&(i=s),this.listChecked++}return i},moveActorBy:function(t,e,i,s){if(null==s&&(s=!1),null==i&&(i=!0),0!=t||0!=e){if(this.clearCollisionInfoList(),!i&&this.collidable&&null!=this.HITBOX.collideTypes){if(i=this.HITBOX.collideTypes,0!=t){var n=0<t?Math.ceil(this.realX+t):Math.floor(this.realX+t);if(this.clearCollidedList(),s||null!=this.collideTypes(i,n,this.realY))for(this.clearCollidedList();0!=t;){var r=1<=t||-1>=t?1:Math.abs(t);n=0<(r=0<t?r:-r)?Math.ceil(this.realX+r):Math.floor(this.realX+r);var a=this.collide(-2,n,this.realY);if(null!=a&&vo.__cast(a,wn).addActor(this),null!=(a=this.collideTypes(i,n,this.realY))&&null!=(n=this.getAllCollisionInfo(r,0))){this.xSpeed=0,n.useBounds&&(this.realX=0<r?n.bounds.x-Math.ceil(this.adjustByWidth(!0)):n.bounds.x+n.bounds.width+Math.floor(this.adjustByWidth(!1)));break}this.realX+=r,t-=r}else this.realX+=t}if(0!=e)if(n=0<e?Math.ceil(this.realY+e):Math.floor(this.realY+e),this.clearCollidedList(),s||null!=this.collideTypes(i,this.realX,n))for(this.clearCollidedList();0!=e;){if(r=1<=e||-1>=e?1:Math.abs(e),n=0<(r=0<e?r:-r)?Math.ceil(this.realY+r):Math.floor(this.realY+r),null!=(a=this.collide(-2,this.realX,n))&&vo.__cast(a,wn).addActor(this),null!=(a=this.collideTypes(i,this.realX,n))&&null!=(n=this.getAllCollisionInfo(0,r))){this.ySpeed=0,n.useBounds&&(this.realY=0<r?n.bounds.y-Math.ceil(this.adjustByHeight(!0)):n.bounds.y+n.bounds.height+Math.floor(this.adjustByHeight(!1)));break}this.realY+=r,e-=r}else this.realY+=e}else this.realX+=t,this.realY+=e;this.resetReal(this.realX,this.realY)}},moveActorTo:function(t,e,i,s){null==s&&(s=!1),null==i&&(i=!0),this.moveActorBy(t-this.realX,e-this.realY,i,s)},moveActorTowards:function(t,e,i,s,n){null==n&&(n=!1),null==s&&(s=!0),this._point.x=t-this.realX,this._point.y=e-this.realY,this._point.normalize(i),this.moveActorBy(this._point.x,this._point.y,s,n)},moveCollideX:function(t,e){},moveCollideY:function(t,e){},fillCollisionInfo:function(t,e,i,s){if(e instanceof wn)e.addActor(this);else{t.thisActor=t.actorA=this,t.otherActor=t.actorB=e,t.maskA=this._mask,t.maskB=this.colMask,t.solidCollision=this._mask.solid&&this.colMask.solid,t.groupA=this._mask.lastCheckedMask.groupID,t.groupB=this._mask.lastCheckedMask.lastColID;var n=In.collisionResponses,r=this.getGroupID(),a=!1,o=!1;null!=(n=n.h[r])?(r=e.getGroupID(),r=null!=n.h[r]):r=!1,r&&(r=e.getGroupID(),"sensor"==n.h[r]?(t.solidCollision=!1,a=!0):o=t.solidCollision=!0),null!=this.colMask&&(t.useBounds=!0,t.bounds.x=this.colMask.lastBounds.x,t.bounds.y=this.colMask.lastBounds.y,t.bounds.width=this.colMask.lastBounds.width,t.bounds.height=this.colMask.lastBounds.height),0!=i&&(1e8==e.ID?(t.thisFromLeft=0>i,t.thisFromRight=0<i):(t.thisFromLeft=e.colX<this.colX,t.thisFromRight=e.colX>this.colX),t.otherFromLeft=!t.thisFromLeft,t.otherFromRight=!t.thisFromRight,t.thisFromTop=t.otherFromTop=!1,t.thisFromBottom=t.otherFromBottom=!1),0!=s&&(1e8==e.ID?(t.thisFromTop=0>s,t.thisFromBottom=0<s):(t.thisFromTop=e.colY<this.colY,t.thisFromBottom=e.colY>this.colY),t.otherFromTop=!t.thisFromTop,t.otherFromBottom=!t.thisFromBottom,t.thisFromLeft=t.otherFromLeft=!1,t.thisFromRight=t.otherFromRight=!1),t.thisCollidedWithActor=!0,t.thisCollidedWithTile=1e8==e.ID,t.thisCollidedWithSensor=null!=t&&(a||!o&&!t.maskB.solid),t.thisCollidedWithTerrain=!1,t.otherCollidedWithActor=!0,t.otherCollidedWithTile=1e8==e.ID,t.otherCollidedWithSensor=null!=t&&!t.maskA.solid,t.otherCollidedWithTerrain=!1}},handleCollisionsSimple:function(){if(0<this.collisionsCount)for(var t=this.simpleCollisions.iterator();t.hasNext();){var e=t.next();if(null!=e&&1!=e.remove){if(un.lastCollided=e.otherActor,0<this.whenCollided.length)for(this.whenCollided._dispatchIndex=0;this.whenCollided._dispatchIndex<this.whenCollided.length;){try{this.whenCollided.listeners[this.whenCollided._dispatchIndex](e)}catch(t){Ma.lastError=t}++this.whenCollided._dispatchIndex}this.engine.handleCollision(this,e)}}},HITBOX:null,_mask:null,colMask:null,_x:null,_y:null,_moveX:null,_moveY:null,_point:null,simpleCollisions:null,collidedList:null,listChecked:null,__class__:un,__properties__:i(D.prototype.__properties__,{set_shape:"set_shape",get_shape:"get_shape"})});var dn=function(t,e,i,s){this.ID=t,this.name=e,this.allScenes=i,this.members=s,this.active=!0};r["com.stencyl.models.Atlas"]=dn,dn.__name__="com.stencyl.models.Atlas",dn.prototype={ID:null,name:null,allScenes:null,active:null,members:null,__class__:dn};var mn=function(){};r["com.stencyl.models.Background"]=mn,mn.__name__="com.stencyl.models.Background",mn.__isInterface__=!0,mn.prototype={update:null,draw:null,__class__:mn};var pn=function(t,e){this.group1=t,this.group2=e};r["com.stencyl.models.CollisionGroupDef"]=pn,pn.__name__="com.stencyl.models.CollisionGroupDef",pn.prototype={group1:null,group2:null,__class__:pn};var fn=function(t,e,i){this.ID=t,this.atlasID=i,this.name=e,this.sID=t+","+e};r["com.stencyl.models.Resource"]=fn,fn.__name__="com.stencyl.models.Resource",fn.prototype={ID:null,atlasID:null,name:null,sID:null,toString:function(){return this.sID},isAtlasActive:function(){var t=yn.get().atlases.h[this.atlasID];return null!=t&&t.active},loadGraphics:function(){},unloadGraphics:function(){},reloadGraphics:function(t){this.unloadGraphics(),this.loadGraphics()},__class__:fn};var gn=function(t,e,i,s){fn.call(this,t,i,e),this.isDefault=s,this.isAtlasActive()&&this.loadGraphics()};r["com.stencyl.models.Font"]=gn,gn.__name__="com.stencyl.models.Font",gn.resetStatics=function(){gn.defaultFont=null},gn.__super__=fn,gn.prototype=i(fn.prototype,{font:null,fontScale:null,isDefault:null,graphicsLoaded:null,getHeight:function(){return null!=this.font?this.font.getFontHeight(this.fontScale):0},getTextWidth:function(t){return null!=this.font?this.font.getTextWidth(t,this.fontScale):0},loadGraphics:function(){if(!this.graphicsLoaded){if(this.isDefault){var t=km.getText("assets/graphics/default-font.fnt");t=O.parse(t),gn.defaultFont=this.font=(new Ri).loadAngelCode(km.getBitmapData("assets/graphics/default-font.png"),t),this.fontScale=Ge.SCALE,gn.defaultFont.isDefault=!0}else{t=km.getText("assets/graphics/"+Ge.IMG_BASE+"/font-"+this.ID+".fnt"),t=O.parse(t);var e=km.getBitmapData("assets/graphics/"+Ge.IMG_BASE+"/font-"+this.ID+".png",!1);this.font=(new Ri).loadAngelCode(e,t),this.fontScale=1}this.graphicsLoaded=!0}},unloadGraphics:function(){this.graphicsLoaded&&(this.font=gn.defaultFont,this.fontScale=1,this.graphicsLoaded=!1)},reloadGraphics:function(t){fn.prototype.reloadGraphics.call(this,t)},get_letterSpacing:function(){return this.font.xSpacing},set_letterSpacing:function(t){return this.font.xSpacing=t},get_lineSpacing:function(){return this.font.ySpacing},set_lineSpacing:function(t){return this.font.ySpacing=t},isBitmapFont:function(t){for(null==t&&(t=km.getText("assets/graphics/"+Ge.IMG_BASE+"/font-"+this.ID+".fnt"),t=O.parse(t)),t=t.elements();t.hasNext();){var e=t.next();if(e.nodeType!=O.Element)throw wa.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":N.toString(e.nodeType)));if("font"==e.nodeName)for(e=e.elements();e.hasNext();){var i=e.next();if(i.nodeType!=O.Element)throw wa.thrown("Bad node type, expected Element but found "+(null==i.nodeType?"null":N.toString(i.nodeType)));if("info"==i.nodeName)for(i=i.attributes();i.hasNext();)if("lspace"==i.next())return!0}}return!1},__class__:gn,__properties__:{set_lineSpacing:"set_lineSpacing",get_lineSpacing:"get_lineSpacing",set_letterSpacing:"set_letterSpacing",get_letterSpacing:"get_letterSpacing"}});var yn=function(){var t=Oe.get().gameMbs.getRoot();this.shapes=this.readShapes(t),this.atlases=this.readAtlases(t),this.autotileFormats=this.readAutotileFormats(t),this.groups=this.readGroups(t),this.groups.push(new bn(-2,"Regions")),this.groups.push(new bn(0,"Players")),this.groups.push(new bn(1,"Terrain")),this.groups.push(new bn(2,"Doodads")),this.groups.push(new bn(3,"Actors")),this.groupsCollidesWith=new fr,this.collisionGroups=this.readCollisionGroups(t),yn.collisionMap=[];for(var e=0,i=0,s=this.groups;i<s.length;){var n=s[i];++i,e=0|Math.max(0|n.ID,e)}for(i=0,s=++e;i<s;){n=i++,yn.collisionMap.push([]);for(var r=0,a=e;r<a;)r++,yn.collisionMap[n].push(!1)}if(Ge.NO_PHYSICS)for(i=0,s=this.groups;i<s.length;)n=s[i],++i,this.collisionGroups.push(new pn(n.ID,-2));for(i=0,s=this.collisionGroups;i<s.length;)n=s[i],++i,e=n.group1,n=n.group2,this.groupsCollidesWith.h.hasOwnProperty(e)||(this.groupsCollidesWith.h[e]=[]),this.groupsCollidesWith.h.hasOwnProperty(n)||(this.groupsCollidesWith.h[n]=[]),(!Ge.NO_PHYSICS||0<=e&&0<=n)&&(yn.collisionMap[e][n]=!0,yn.collisionMap[n][e]=!0),this.groupsCollidesWith.h[e].push(n),this.groupsCollidesWith.h[n].push(e);this.gameAttributes=yn.readGameAttributes(t),Oe.get().gameMbs=null};r["com.stencyl.models.GameModel"]=yn,yn.__name__="com.stencyl.models.GameModel",yn.resetStatics=function(){yn.instance=null,yn.collisionMap=null},yn.get=function(){return null==yn.instance&&(yn.instance=new yn),yn.instance},yn.readGameAttributes=function(t){return is.readMap(t.getGameAttributes())},yn.prototype={groups:null,groupsCollidesWith:null,collisionGroups:null,gameAttributes:null,shapes:null,atlases:null,scenes:null,autotileFormats:null,loadScenes:function(){this.scenes=new fr;for(var t=Oe.get().sceneListMbs.getRoot(),e=0,i=t.length();e<i;){e++;var s=t.getNextObject(),n=s.getId(),r=this.scenes;s=new Sn(n,s.getName()),r.h[n]=s}Oe.get().sceneListMbs=null},readShapes:function(t){for(var e=new fr,i=0,s=(t=t.getShapes()).length();i<s;){i++;var n=t.getNextObject(),r=n.getPoints(),a=[],o=0;for(r=as.readPoints(r);o<r.length;){var l=r[o];++o,a.push(new G(3.1*l.x,3.1*l.y))}as.EnsureCorrectVertexDirection(a),(o=new vt).setAsArray(a,a.length),n=n.getId(),e.h[n]=o}return e},readAtlases:function(t){for(var e=new fr,i=0,s=(t=t.getAtlases()).length();i<s;){i++;for(var n=t.getNextObject(),r=n.getId(),a=n.getName(),o=n.getAllScenes(),l=[],h=0,_=(n=n.getMembers()).length();h<_;)h++,l.push(n.readInt());a=new dn(r,a,o,l),e.h[r]=a}return e},readAutotileFormats:function(t){for(var e=new fr,i=0,s=(t=t.getAutotileFormats()).length();i<s;){i++;for(var n=t.getNextObject(),r=n.getName(),a=n.getId(),o=n.getAcross(),l=n.getDown(),h=[],_=[],c=n.getCorners(),u=0,d=c.length();u<d;){u++;var m=c.getNextObject(),p=m.getTopLeft();p=new Ye(p.getX(),p.getY());var f=m.getTopRight();f=new Ye(f.getX(),f.getY());var g=m.getBottomLeft();g=new Ye(g.getX(),g.getY()),m=m.getBottomRight(),_.push(new jn(p,f,g,new Ye(m.getX(),m.getY())))}for(c=0,u=(n=n.getFlags()).length();c<u;)h[d=c++]=_[n.readInt()];r=new Yn(r,a,o,l,h),e.h[a]=r}return e},readGroups:function(t){for(var e=[],i=0,s=(t=t.getGroups()).length();i<s;){i++;var n=t.getNextObject();e.push(new bn(n.getId(),n.getName()))}return e},readCollisionGroups:function(t){for(var e=[],i=0,s=(t=t.getCgroups()).length();i<s;){i++;var n=t.getNextObject();e.push(new pn(n.getGroup1(),n.getGroup2()))}return e},__class__:yn};var bn=function(t,e){this.ID=t,this.name=e};r["com.stencyl.models.GroupDef"]=bn,bn.__name__="com.stencyl.models.GroupDef",bn.prototype={ID:null,name:null,__class__:bn};var vn=function(){this.isPressed=!1,this.outerAlphaWhenReleased=this.outerAlphaWhenPressed=this.innerAlphaWhenReleased=this.innerAlphaWhenPressed=1,this.outerImage=this.innerImage=null,this.hideWhenReleased=!1,this.joystickDistance=this.joystickDirection=this.joystickDefaultDirection=this.joystickType=0,D.call(this)};r["com.stencyl.models.Joystick"]=vn,vn.__name__="com.stencyl.models.Joystick",vn.resetStatics=function(){vn.joystickMap=null,vn.fixedCenter=0,vn.showWherePressed=1,vn.viewOffsetX=vn.viewOffsetY=0,vn.initialized=!1},vn.addJoystick=function(t,e,i,s,n,r,a,o,l){null==l&&(l=!1),null==o&&(o=0),null==a&&(a=0),null==r&&(r=0),null==n&&(n=0),null==s&&(s=0),null!=vn.joystickMap&&vn.joystickMap.h.hasOwnProperty(t)&&vn.removeJoystick(t);var h=new vn;h.start(),h.id=t,h.joystickTouchID=-1,h.joystickDistance=0,h.joystickDirection=0,h.joystickDefaultDirection=0,h.joystickType=s,h.center=new Ye(e*Ge.SCALE,i*Ge.SCALE),vn.joystickMap.h[t]=h,vn.setJoystickImage(t,!0,"outer-joystick"),vn.setJoystickImage(t,!1,"inner-joystick"),h.outerAlphaWhenPressed=1,h.outerAlphaWhenReleased=1,h.innerAlphaWhenPressed=1,h.innerAlphaWhenReleased=1,h.joystickType==vn.showWherePressed&&(h.joystickBounds=new je(n*Ge.SCALE+vn.viewOffsetX,r*Ge.SCALE+vn.viewOffsetY,a*Ge.SCALE,o*Ge.SCALE)),l&&(h.hideWhenReleased=!0,h.outerImage.set_visible(!1),h.innerImage.set_visible(!1))},vn.removeJoystick=function(t){if(vn.joystickMap.h.hasOwnProperty(t)){var e=vn.joystickMap.h[t],i=Ge.engine.root;vn.joystickMap.remove(t),i.removeChild(e.outerImage),i.removeChild(e.innerImage)}},vn.getJoystickDisDir=function(t,e){null==e&&(e=!0);var i=0;return vn.joystickMap.h.hasOwnProperty(t)&&(t=vn.joystickMap.h[t],i=e?t.joystickDistance:t.joystickDirection),i},vn.setJoystickCenter=function(t,e,i){vn.joystickMap.h.hasOwnProperty(t)&&((t=vn.joystickMap.h[t]).center=new Ye(e*Ge.SCALE,i*Ge.SCALE),t.outerImage.set_x(t.center.x-.5*t.outerImage.get_width()),t.outerImage.set_y(t.center.y-.5*t.outerImage.get_height()),t.innerImage.set_x(t.center.x-.5*t.innerImage.get_width()),t.innerImage.set_y(t.center.y-.5*t.innerImage.get_height()))},vn.getJoystickCenter=function(t,e){null==e&&(e=!0);var i=0;return vn.joystickMap.h.hasOwnProperty(t)&&(t=vn.joystickMap.h[t],i=(e?t.center.x:t.center.y)/Ge.SCALE),i},vn.setJoystickRadius=function(t,e,i){null==e&&(e=!0),vn.joystickMap.h.hasOwnProperty(t)&&(t=vn.joystickMap.h[t],e&&t.outerRadius!=i*Ge.SCALE?t.outerRadius=i*Ge.SCALE:t.innerRadius!=i*Ge.SCALE&&(t.innerRadius=i*Ge.SCALE))},vn.getJoystickRadius=function(t,e){null==e&&(e=!0);var i=0;return vn.joystickMap.h.hasOwnProperty(t)&&(t=vn.joystickMap.h[t],i=(e?t.innerRadius:t.outerRadius)/Ge.SCALE),i},vn.alwaysHideRJ=function(t){vn.joystickMap.h.hasOwnProperty(t)&&((t=vn.joystickMap.h[t]).hideWhenReleased=!0,t.outerImage.set_visible(!1),t.innerImage.set_visible(!1))},vn.setDefaultDirection=function(t,e){vn.joystickMap.h.hasOwnProperty(t)&&((t=vn.joystickMap.h[t]).joystickDefaultDirection=e,t.joystickDirection=e)},vn.isJoystickPressed=function(t){return!!vn.joystickMap.h.hasOwnProperty(t)&&vn.joystickMap.h[t].isPressed},vn.setTouchRegionForRJ=function(t,e,i,s,n){null==n&&(n=0),null==s&&(s=0),null==i&&(i=0),null==e&&(e=0),vn.joystickMap.h.hasOwnProperty(t)&&(t=vn.joystickMap.h[t]).joystickType==vn.showWherePressed&&(t.joystickBounds=new je(e*Ge.SCALE+vn.viewOffsetX,i*Ge.SCALE+vn.viewOffsetY,s*Ge.SCALE,n*Ge.SCALE))},vn.getTouchRegionPropertyForRJ=function(t,e){return vn.joystickMap.h.hasOwnProperty(t)&&(t=vn.joystickMap.h[t]).joystickType==vn.showWherePressed?1==e?t.joystickBounds.x-vn.viewOffsetX:2==e?t.joystickBounds.y-vn.viewOffsetY:3==e?t.joystickBounds.width/Ge.SCALE:t.joystickBounds.height/Ge.SCALE:0},vn.setJoystickImage=function(t,e,i){if(vn.joystickMap.h.hasOwnProperty(t)){t=vn.joystickMap.h[t];var s=Ge.engine.root;i=1==Ge.SCALE?km.getBitmapData("assets/data/"+i+".png"):1.5==Ge.SCALE?km.getBitmapData("assets/data/"+i+"@1.5x.png"):2==Ge.SCALE?km.getBitmapData("assets/data/"+i+"@2x.png"):km.getBitmapData("assets/data/"+i+"@4x.png"),e?(null!=t.outerImage&&s.removeChild(t.outerImage),t.outerImage=new di(i),t.outerImage.set_x(t.center.x-.5*t.outerImage.get_width()),t.outerImage.set_y(t.center.y-.5*t.outerImage.get_height()),s.addChild(t.outerImage),t.outerRadius=.5*t.outerImage.get_width()):(null!=t.innerImage&&s.removeChild(t.innerImage),t.innerImage=new di(i),t.innerImage.set_x(t.center.x-.5*t.innerImage.get_width()),t.innerImage.set_y(t.center.y-.5*t.innerImage.get_height()),s.addChild(t.innerImage),t.innerRadius=t.outerRadius-.5*t.innerImage.get_width())}},vn.setJoystickAlpha=function(t,e,i,s){null==s&&(s=!0),null==i&&(i=1),null==e&&(e=!0),vn.joystickMap.h.hasOwnProperty(t)&&(t=vn.joystickMap.h[t],e?s?(t.outerAlphaWhenReleased=i,t.outerImage.set_alpha(i)):t.outerAlphaWhenPressed=i:s?(t.innerAlphaWhenReleased=i,t.innerImage.set_alpha(i)):t.innerAlphaWhenPressed=i)},vn.__super__=D,vn.prototype=i(D.prototype,{center:null,outerRadius:null,innerRadius:null,joystickBounds:null,joystickTouchID:null,id:null,joystickDistance:null,joystickDirection:null,joystickDefaultDirection:null,joystickType:null,hideWhenReleased:null,outerImage:null,innerImage:null,outerAlphaWhenReleased:null,outerAlphaWhenPressed:null,innerAlphaWhenReleased:null,innerAlphaWhenPressed:null,isPressed:null,start:function(){vn.initialized||(vn.initialized=!0,vn.joystickMap=new fr,vn.viewOffsetX=Ge.screenOffsetX,vn.viewOffsetY=Ge.screenOffsetY),Rm.get_supportsTouchEvents()?(Ge.stage.addEventListener("touchBegin",n(this,this.onTouchBegin)),Ge.stage.addEventListener("touchMove",n(this,this.onTouchMove)),Ge.stage.addEventListener("touchEnd",n(this,this.onTouchEnd)),Rm.inputMode=2):(Ge.stage.addEventListener("mouseDown",n(this,this.onMouseDown)),Ge.stage.addEventListener("mouseMove",n(this,this.onMouseMove)),Ge.stage.addEventListener("mouseUp",n(this,this.onMouseUp)))},stop:function(){Rm.get_supportsTouchEvents()?(Ge.stage.removeEventListener("touchBegin",n(this,this.onTouchBegin)),Ge.stage.removeEventListener("touchMove",n(this,this.onTouchMove)),Ge.stage.removeEventListener("touchEnd",n(this,this.onTouchEnd))):(Ge.stage.removeEventListener("mouseDown",n(this,this.onMouseDown)),Ge.stage.removeEventListener("mouseMove",n(this,this.onMouseMove)),Ge.stage.removeEventListener("mouseUp",n(this,this.onMouseUp))),vn.joystickMap=null},onTouchBegin:function(t){this.onBegin(t.stageX,t.stageY,t.touchPointID)},onTouchMove:function(t){this.onMove(t.stageX,t.stageY,t.touchPointID)},onTouchEnd:function(t){this.onEnd(t.stageX,t.stageY,t.touchPointID)},onMouseDown:function(t){this.onBegin(t.stageX,t.stageY,0)},onMouseMove:function(t){this.onMove(t.stageX,t.stageY,0)},onMouseUp:function(t){this.onEnd(t.stageX,t.stageY,0)},onBegin:function(t,e,i){if(-1==this.joystickTouchID)if(t=(t-vn.viewOffsetX)/Ge.screenScaleX,e=(e-vn.viewOffsetY)/Ge.screenScaleY,this.outerImage.set_alpha(this.outerAlphaWhenPressed),this.innerImage.set_alpha(this.innerAlphaWhenPressed),this.joystickType==vn.fixedCenter){var s=Math.sqrt(Math.pow(this.center.x-t,2)+Math.pow(this.center.y-e,2)),n=Math.atan2(this.center.y-e,this.center.x-t);s>this.outerRadius||(s>this.outerRadius-this.innerRadius?(s=this.outerRadius-this.innerRadius,this.innerImage.set_x(this.center.x-Math.cos(n)*(this.outerRadius-this.innerRadius)-.5*this.innerImage.get_width()),this.innerImage.set_y(this.center.y-Math.sin(n)*(this.outerRadius-this.innerRadius)-.5*this.innerImage.get_height())):(this.innerImage.set_x(t-.5*this.innerImage.get_width()),this.innerImage.set_y(e-.5*this.innerImage.get_height())),this.isPressed=!0,this.joystickTouchID=i,this.joystickDistance=s/(this.outerRadius-this.innerRadius),this.joystickDirection=180*n/3.1415926535+180)}else this.joystickType!=vn.showWherePressed||t<this.joystickBounds.x||t>this.joystickBounds.x+this.joystickBounds.width||e<this.joystickBounds.y||e>this.joystickBounds.y+this.joystickBounds.height||(this.isPressed=!0,this.center.x=t,this.center.y=e,this.outerImage.set_x(this.center.x-.5*this.outerImage.get_width()),this.outerImage.set_y(this.center.y-.5*this.outerImage.get_height()),this.innerImage.set_x(this.center.x-.5*this.innerImage.get_width()),this.innerImage.set_y(this.center.y-.5*this.innerImage.get_height()),this.hideWhenReleased&&(this.outerImage.set_visible(!0),this.innerImage.set_visible(!0)),this.joystickTouchID=i)},onMove:function(t,e,i){if(i==this.joystickTouchID){t=(t-vn.viewOffsetX)/Ge.screenScaleX,e=(e-vn.viewOffsetY)/Ge.screenScaleY,i=Math.sqrt(Math.pow(this.center.x-t,2)+Math.pow(this.center.y-e,2));var s=Math.atan2(this.center.y-e,this.center.x-t);i>this.outerRadius-this.innerRadius?(i=this.outerRadius-this.innerRadius,this.innerImage.set_x(this.center.x-Math.cos(s)*(this.outerRadius-this.innerRadius)-.5*this.innerImage.get_width()),this.innerImage.set_y(this.center.y-Math.sin(s)*(this.outerRadius-this.innerRadius)-.5*this.innerImage.get_height())):(this.innerImage.set_x(t-.5*this.innerImage.get_width()),this.innerImage.set_y(e-.5*this.innerImage.get_height())),this.joystickDistance=i/(this.outerRadius-this.innerRadius),this.joystickDirection=180*s/3.1415926535+180}},onEnd:function(t,e,i){i==this.joystickTouchID&&(this.joystickTouchID=-1,this.isPressed=!1,this.outerImage.set_alpha(this.outerAlphaWhenReleased),this.innerImage.set_alpha(this.innerAlphaWhenReleased),this.innerImage.set_x(this.center.x-.5*this.innerImage.get_width()),this.innerImage.set_y(this.center.y-.5*this.innerImage.get_height()),this.hideWhenReleased&&(this.outerImage.set_visible(!1),this.innerImage.set_visible(!1)),this.joystickDistance=0,this.joystickDirection=this.joystickDefaultDirection)},__class__:vn});var xn={_new:function(t){return t},fromInt:function(t){return xn._new(t)},fromString:function(t){switch(t){case"MINIMAL_PHYSICS":return 2;case"NORMAL_PHYSICS":default:return 0;case"SIMPLE_PHYSICS":return 1}},toString:function(t){switch(t){case 0:default:return"NORMAL_PHYSICS";case 1:return"SIMPLE_PHYSICS";case 2:return"MINIMAL_PHYSICS"}}},wn=function(t,e,i,s,n){un.call(this,t,-1,-2,e,i,-1,Ge.NO_PHYSICS?n.width:1,Ge.NO_PHYSICS?n.height:1,null,null,null,null,!1,!1,!1,!1,Ge.NO_PHYSICS?null:s[0],Ge.NO_PHYSICS),this.isRegion=this.alwaysSimulate=!0,this.solid=this.isTerrainRegion=!1,this.set_name("Region"),this.simpleBounds=n,this.copy=s[0],this.containedActors=new fr,this.whenActorEntered=new si,this.whenActorExited=new si,this.justAdded=[],this.justRemoved=[],Ge.NO_PHYSICS||(this.body.setSleepingAllowed(!0),this.body.setAwake(!1),this.body.setIgnoreGravity(!0)),t=0;var r=0;if(Ge.NO_PHYSICS){var a=n.width;n=n.height,this.cacheWidth=this.originalWidth=this.regionWidth=Math.round(Math.abs(t-a)),this.cacheHeight=this.originalHeight=this.regionHeight=Math.round(Math.abs(r-n)),this.currOffset.x=-this.cacheWidth/2,this.currOffset.y=-this.cacheHeight/2,this.resetReal(e,i)}else if(s[0]instanceof vt){this.isCircle=!1,(e=new ut).setIdentity(),i=new V,vo.__cast(s[0],vt).computeAABB(i,e),t=i.lowerBound.x,a=i.upperBound.x,r=i.lowerBound.y,n=i.upperBound.y;for(var o=0,l=s.length;o<l;){var h=o++,_=new Nt;_.isSensor=!0,_.userData=this,_.shape=s[h],_.friction=1,_.density=.1,_.restitution=0,_.groupID=-1e3,this.body.createFixture(_),vo.__cast(s[h],vt).computeAABB(i,e),t=Math.min(t,i.lowerBound.x),a=Math.max(a,i.upperBound.x),r=Math.min(r,i.lowerBound.y),n=Math.max(n,i.upperBound.y)}this.cacheWidth=this.originalWidth=this.regionWidth=Math.round(Ge.toPixelUnits(Math.abs(t-a))),this.cacheHeight=this.originalHeight=this.regionHeight=Math.round(Ge.toPixelUnits(Math.abs(r-n)))}else s[0]instanceof gt&&(this.isCircle=!0,this.cacheWidth=this.originalWidth=this.regionWidth=Ge.toPixelUnits(2*vo.__cast(s[0],gt).m_radius),this.cacheHeight=this.originalHeight=this.regionHeight=Ge.toPixelUnits(2*vo.__cast(s[0],gt).m_radius))};r["com.stencyl.models.Region"]=wn,wn.__name__="com.stencyl.models.Region",wn.__super__=un,wn.prototype=i(un.prototype,{isCircle:null,containedActors:null,copy:null,simpleBounds:null,regionWidth:null,regionHeight:null,originalWidth:null,originalHeight:null,whenActorEntered:null,whenActorExited:null,justAdded:null,justRemoved:null,containsActor:function(t){return null!=t&&this.containedActors.h.hasOwnProperty(t.ID)},getContainedActors:function(){return this.containedActors},addActor:function(t){if(null!=t&&-1!=t.ID&&!this.containedActors.h.hasOwnProperty(t.ID)){this.containedActors.h[t.ID]=t.ID;var e=vr.indexOf(this.justRemoved,t);-1==e?this.justAdded.push(t):this.justRemoved.splice(e,1)}},removeActor:function(t){null!=t&&-1!=t.ID&&-1==vr.indexOf(this.justRemoved,t)&&(this.containedActors.remove(t.ID),this.justRemoved.push(t))},follow:function(t){var e=t.realY+t.cacheHeight/2;this.setX(t.realX+t.cacheWidth/2),this.setY(e)},resetSize:function(){this.setRegionSize(this.originalWidth,this.originalHeight)},setRegionDiameter:function(t){this.setRegionSize(t,t)},setRegionSize:function(t,e){var i=this.regionWidth,s=this.regionHeight;if(t=Ge.toPhysicalUnits(t),e=Ge.toPhysicalUnits(e),this.isCircle){var n=new gt;n.m_radius=t/2}else(n=new vt).setAsBox(t/2,e/2);var r=new Nt;if(r.isSensor=!0,r.userData=this,r.shape=n,r.groupID=-1e3,null!=this.body&&null!=this.body.getFixtureList()){for(;0<this.body.m_fixtureCount;)this.body.DestroyFixture(this.body.getFixtureList());this.body.createFixture(r),this.cacheWidth=this.regionWidth=Ge.toPixelUnits(t),this.cacheHeight=this.regionHeight=Ge.toPixelUnits(e)}t=this.regionWidth-i,s=this.regionHeight-s,this.setLocation(this.getX()+t/2,this.getY()+s/2)},setLocation:function(t,e){this.setX(t+this.regionWidth/2),this.setY(e+this.regionHeight/2)},getWidth:function(){return this.regionWidth},getHeight:function(){return this.regionHeight},isMouseOver:function(){var t=(ze.mouseX+Ge.cameraX)/Ge.SCALE,e=(ze.mouseY+Ge.cameraY)/Ge.SCALE,i=this.getX(),s=this.getY();return t>=i&&e>=s&&t<i+this.regionWidth&&e<s+this.regionHeight},innerUpdate:function(t,e){if(this.clearCollisionInfoList(),Ge.NO_PHYSICS)for(t=this.containedActors.iterator();t.hasNext();)e=t.next(),e=Ge.engine.getActor(e),null==this.HITBOX||null==e||this.HITBOX.collide(e.HITBOX)||this.removeActor(e);for(;null!=this.justAdded&&0<this.justAdded.length;)if(e=vo.__cast(this.justAdded.pop(),un),0<this.whenActorEntered.length)for(this.whenActorEntered._dispatchIndex=0;this.whenActorEntered._dispatchIndex<this.whenActorEntered.length;){try{this.whenActorEntered.listeners[this.whenActorEntered._dispatchIndex](e)}catch(t){Ma.lastError=t}++this.whenActorEntered._dispatchIndex}for(;null!=this.justRemoved&&0<this.justRemoved.length;)if(e=vo.__cast(this.justRemoved.pop(),un),0<this.whenActorExited.length)for(this.whenActorExited._dispatchIndex=0;this.whenActorExited._dispatchIndex<this.whenActorExited.length;){try{this.whenActorExited.listeners[this.whenActorExited._dispatchIndex](e)}catch(t){Ma.lastError=t}++this.whenActorExited._dispatchIndex}if(null!=this.whenMousedOver&&0<this.whenMousedOver.length)if(this.isMouseOver()){if(0>=this.mouseState){if(this.mouseState=1,0<this.whenMousedOver.length)for(this.whenMousedOver._dispatchIndex=0;this.whenMousedOver._dispatchIndex<this.whenMousedOver.length;){try{this.whenMousedOver.listeners[this.whenMousedOver._dispatchIndex](this.mouseState)}catch(t){Ma.lastError=t}++this.whenMousedOver._dispatchIndex}}else this.mouseState=2;if(ze.mousePressed){if(this.mouseState=3,0<this.whenMousedOver.length)for(this.whenMousedOver._dispatchIndex=0;this.whenMousedOver._dispatchIndex<this.whenMousedOver.length;){try{this.whenMousedOver.listeners[this.whenMousedOver._dispatchIndex](this.mouseState)}catch(t){Ma.lastError=t}++this.whenMousedOver._dispatchIndex}}else if(ze.mouseDown&&(this.mouseState=4,0<this.whenMousedOver.length))for(this.whenMousedOver._dispatchIndex=0;this.whenMousedOver._dispatchIndex<this.whenMousedOver.length;){try{this.whenMousedOver.listeners[this.whenMousedOver._dispatchIndex](this.mouseState)}catch(t){Ma.lastError=t}++this.whenMousedOver._dispatchIndex}if(ze.mouseReleased&&(this.mouseState=5,0<this.whenMousedOver.length))for(this.whenMousedOver._dispatchIndex=0;this.whenMousedOver._dispatchIndex<this.whenMousedOver.length;){try{this.whenMousedOver.listeners[this.whenMousedOver._dispatchIndex](this.mouseState)}catch(t){Ma.lastError=t}++this.whenMousedOver._dispatchIndex}}else if(0<this.mouseState){if(this.mouseState=-1,0<this.whenMousedOver.length)for(this.whenMousedOver._dispatchIndex=0;this.whenMousedOver._dispatchIndex<this.whenMousedOver.length;){try{this.whenMousedOver.listeners[this.whenMousedOver._dispatchIndex](this.mouseState)}catch(t){Ma.lastError=t}++this.whenMousedOver._dispatchIndex}}else-1==this.mouseState&&(this.mouseState=0)},__class__:wn});var Sn=function(t,e){this.currW=this.currH=0,this.ID=t,this.name=e};r["com.stencyl.models.Scene"]=Sn,Sn.__name__="com.stencyl.models.Scene",Sn.prototype={ID:null,name:null,sceneWidth:null,sceneHeight:null,tileWidth:null,tileHeight:null,gravityX:null,gravityY:null,eventID:null,colorBackground:null,layers:null,actors:null,behaviorValues:null,atlases:null,retainsAtlases:null,wireframes:null,joints:null,regions:null,terrainRegions:null,animatedTiles:null,load:function(){var t=new C_(Rs.get(),!1,!0);t.readData(Fm.toBytes(km.getBytes("assets/data/scene-"+this.ID+".mbs")));var e=(t=t.getRoot()).getDepth();this.sceneWidth=t.getWidth(),this.sceneHeight=t.getHeight(),this.tileWidth=t.getTileWidth(),this.tileHeight=t.getTileHeight(),this.gravityX=t.getGravityX(),this.gravityY=t.getGravityY(),this.animatedTiles=[],this.actors=this.readActors(t.getActorInstances()),this.behaviorValues=is.readBehaviors(t.getSnippets());var i=t.getEventSnippetID();if(-1<i){var s=this.behaviorValues,n=new qe(i,new pr);s.h[""+i]=n}this.joints=this.readJoints(t.getJoints()),this.regions=this.readRegions(t.getRegions()),this.terrainRegions=this.readTerrainRegions(t.getTerrainRegions()),this.wireframes=this.readWireframes(t.getTerrain()),(i=km.getBytes("assets/data/scene-"+this.ID+".scn")).__endian=0,e=this.readRawLayers(i,e),this.layers=this.readAllLayers(t.getLayers(),e),this.atlases=(this.retainsAtlases=t.getRetainAtlases())?[]:this.readAtlases(t.getAtlasMembers())},unload:function(){this.animatedTiles=this.terrainRegions=this.regions=this.joints=this.wireframes=this.layers=this.behaviorValues=this.actors=this.colorBackground=null},readRegions:function(t){for(var e=new fr,i=0,s=t.length();i<s;){i++;var n=this.readRegion(t.getNextObject());e.h[n.ID]=n}return e},readRegion:function(t){var e=t.getId(),i=t.getName(),s=t.getX(),r=t.getY();this.shapeList=[];var a=t.getShape();if(a instanceof sn){t=this.currW=a.getWidth();var o=this.currH=a.getHeight();a=a.getPoints(),Ge.NO_PHYSICS?e=new Qn(this.shapeList,e,i,s,r,0,new je(0,0,t,o)):(t=as.readPoints(a).slice(0),new ur(t).decompose(n(this,this.addPolygonRegion)),e=new Qn(this.shapeList,e,i,s,r))}else o=a.getRadius(),Ge.NO_PHYSICS?e=new Qn(this.shapeList,e,i,s,r,0,new je(0,0,2*o,2*o)):((t=new gt).m_radius=Ge.toPhysicalUnits(o),this.shapeList[0]=t,e=new Qn(this.shapeList,e,i,s,r));return e},shapeList:null,currW:null,currH:null,addPolygonRegion:function(t){t=vo.__cast(as.createPolygon("MbsPolyRegion",t.points,this.currW,this.currH),vt),this.shapeList.push(t)},addPolygonTerrain:function(t){t=vo.__cast(as.createPolygon("MbsPolyRegion",t.points,this.currW,this.currH),vt),this.shapeList.push(t)},readTerrainRegions:function(t){for(var e=new fr,i=0,s=t.length();i<s;){i++;var n=this.readTerrainRegion(t.getNextObject());e.h[n.ID]=n}return e},readTerrainRegion:function(t){var e=t.getId(),i=t.getName(),s=t.getGroupID(),r=Ge.toPhysicalUnits(t.getX()),a=Ge.toPhysicalUnits(t.getY()),o=t.getColor();if(this.shapeList=[],(t=t.getShape())instanceof sn)this.currW=t.getWidth(),this.currH=t.getHeight(),t=as.readPoints(t.getPoints()).slice(0),new ur(t).decompose(n(this,this.addPolygonTerrain));else{var l=t.getRadius();(t=new gt).m_radius=Ge.toPhysicalUnits(l),this.shapeList[0]=t}return new $n(this.shapeList,e,i,r,a,s,o)},readJoints:function(t){for(var e=new fr,i=0,s=t.length();i<s;){i++;var n=this.readJoint(t.readObject());e.h[n.ID]=n}return e},readJoint:function(t){var e=t.getId(),i=t.getActor1(),s=t.getActor2(),n=t.getCollide();if(t instanceof Zs){var r=new de;return r.ID=e,r.actor1=i,r.actor2=s,r.localAnchorA=null,r.localAnchorB=null,r.collideConnected=n,r.dampingRatio=t.getDamping(),r.frequencyHz=t.getFrequency(),r}return t instanceof js?((r=new Ce).ID=e,r.actor1=i,r.actor2=s,r.localAnchorA=null,r.localAnchorB=null,r.collideConnected=n,r.enableLimit=t.getLimit(),r.enableMotor=t.getMotor(),r.lowerAngle=t.getLower(),r.upperAngle=t.getUpper(),r.maxMotorTorque=t.getTorque(),r.motorSpeed=t.getSpeed(),r):t instanceof Js?((r=new xe).ID=e,r.actor1=i,r.actor2=s,r.localAnchorA=null,r.localAnchorB=null,r.collideConnected=n,r.enableLimit=t.getLimit(),r.enableMotor=t.getMotor(),r.lowerTranslation=t.getLower(),r.upperTranslation=t.getUpper(),r.maxMotorForce=t.getForce(),r.motorSpeed=t.getSpeed(),r.localAxisA.x=t.getX(),r.localAxisA.y=t.getY(),r):null},readAllLayers:function(t,e){var i=new ap(16);i.reuseIterator=!0;for(var s=0,n=t.length();s<n;){s++;var r=t.readObject();if(r instanceof Us||r instanceof zs)this.colorBackground=this.readColorBackground(r);else{var a=r,o=a.getId(),l=a.getName(),h=a.getOrder(),_=a.getScrollFactorX(),c=a.getScrollFactorY(),u=a.getOpacity()/100;if(a=yi.get(a.getBlendmode()),r instanceof Xs){var d=e.mH;if(-1==(r=d.mHash[73856093*o&d.mMask]))r=-2147483648;else if((d=d.mData)[r]==o)r=d[r+1];else{var m=-2147483648;for(r=d[r+2];-1!=r;){if(d[r]==o){m=d[r+1];break}r=d[r+2]}r=m}null==(r=-2147483648==r?null:e.mVals[r])&&(r=new er(o,this,0|Math.floor(this.sceneWidth/this.tileWidth),0|Math.floor(this.sceneHeight/this.tileHeight))),r.set_name(l),o=new Zn(o,l,h,_,c,u,a,r),i.set(o.ID,o)}else r instanceof Ws&&(r=(d=r).getResourceID(),d=d.getCustomScroll(),o=new nr(o,l,h,_,c,u,a,r,d),i.set(o.ID,o))}}return i},readColorBackground:function(t){if(t instanceof Us){var e=t.getColor();return new Bn(e)}return t instanceof zs?(e=t.getColor1(),t=t.getColor2(),new Dn(e,t)):null},readRawLayers:function(t,e){var i=new ap(16);i.reuseIterator=!0;var s=[];if(null!=t){for(var n=0,r=e;n<r;){var a=n++;s[a]=t.readInt()}for(n=0,r=e;n<r;)a=n++,e=this.readRawLayer(t,s[a]),i.set(e.layerID,e)}return i},readRawLayer:function(t,e){var i=0|Math.floor(this.sceneWidth/this.tileWidth),s=0|Math.floor(this.sceneHeight/this.tileHeight),n=t.readInt();e-=4,t.readInt(),e-=4,s=new er(n,this,i,s);var r=n=0;e=e/8|0;var a=new Un(this.sceneWidth,this.sceneHeight,this.tileWidth,this.tileHeight);s.grid=a;for(var o=0;o<e;){o++;var l=t.readShort(),h=t.readShort(),_=t.readShort(),c=t.readShort(),u=null;for(-1!=h&&(u=Oe.get().resources.get(h)),0>l&&(l=0|Math.abs(l+1)),h=0;h<c;){if(h++,null==u||0>_)s.setTileAt(n,r,null,!1);else{var d=u.tiles[_];if(null==d)s.setTileAt(n,r,null,!1);else if(s.setTileAt(n,r,d,!1),s.autotileData[n][r]=l,0<=d.collisionID&&a.setTile(r,n,!0),1<d.durations.length){for(var m=!1,p=0,f=this.animatedTiles;p<f.length&&(m=f[p],++p,!(m=m==d)););m||this.animatedTiles.push(d)}}++r>=i&&(r=0,++n)}}return s},readAtlases:function(t){for(var e=[],i=0,s=t.length();i<s;){i++;var n=t.readInt();yn.get().atlases.h[n].allScenes||e.push(n)}return e},readWireframes:function(t){if(Ge.NO_PHYSICS)return[];for(var e=[],i=0,s=t.length();i<s;){i++;var n=t.getNextObject(),r=n.getPosition();r=new Ye(r.getX(),r.getY()),n=as.readPoints(n.getPoints()).slice(0),n=as.createPolygon("MbsWireframe",n),e.push(new sr(r.x,r.y,n.h[1],n.h[2],n.h[0],null))}return e},readActors:function(t){for(var e=new fr,i=0,s=t.length();i<s;){i++;var n=this.readActorInstance(t.getNextObject());null!=n&&(e.h[n.elementID]=n)}return e},readActorInstance:function(t){var e=t.getAid(),i=t.getX(),s=t.getY(),n=t.getScaleX(),r=t.getScaleY(),a=t.getZ(),o=t.getOrderInLayer(),l=0|t.getAngle(),h=t.getGroupID(),_=t.getId(),c=t.getCustomized(),u=null;return c&&(u=is.readBehaviors(t.getSnippets())),0!=n&&0!=r||(r=n=1),c||(u=null),null==Oe.get().resources.get(_)?null:(null!=(t=new Wn(e,i,s,n,r,a,o,l,h,_,u,c)).actorType&&(t.groupID=t.actorType.groupID),t)},getID:function(){return this.ID},__class__:Sn};var Rn=function(t,e,i,s,n,r,a,o){fn.call(this,t,e,-1),this.streaming=i,this.looping=s,this.panning=n,this.volume=r,this.ext=a,this.atlasID=o,this.ext="ogg",null!=(t=yn.get().atlases.h[o])&&t.active&&this.loadGraphics()};r["com.stencyl.models.Sound"]=Rn,Rn.__name__="com.stencyl.models.Sound",Rn.__super__=fn,Rn.prototype=i(fn.prototype,{streaming:null,looping:null,panning:null,volume:null,ext:null,src:null,loadGraphics:function(){this.src=km.getSound("assets/"+(this.streaming?"music":"sfx")+"/sound-"+this.ID+"."+this.ext,!1)},unloadGraphics:function(){this.streaming||(null!=this.src&&(this.stopInstances(),this.src.close()),this.src=null)},play:function(t,e){return null==e&&(e=0),this.streaming&&null==this.src&&(this.src=this.getStreamingSource()),null==this.src?null:this.src.play(e)},loop:function(t,e){return null==e&&(e=0),this.streaming&&null==this.src&&(this.src=this.getStreamingSource()),null==this.src?null:this.src.play(e,1e8)},getStreamingSource:function(){return km.getSound("assets/music/sound-"+this.ID+"."+this.ext,!1)},stopInstances:function(){for(var t=0;32>t;){var e=t++;(e=Ge.engine.channels[e]).currentSource==this.src&&e.stopSound()}},__class__:Rn});var An=function(t,e){this.paused=!1,this.currentClip=this.currentSound=null,this.looping=!1,this.volume=1,this.position=this.panning=0,this.channelNum=e,this.engine=t,this.transform=new mr,this.tweenVolume=new fa,this.tweenVolume.doOnUpdate(n(this,this.tweenUpdated))};r["com.stencyl.models.SoundChannel"]=An,An.__name__="com.stencyl.models.SoundChannel",An.resetStatics=function(){An.muted=!1,An.masterVolume=1},An.prototype={currentSource:null,currentSound:null,currentClip:null,volume:null,panning:null,channelNum:null,looping:null,paused:null,position:null,engine:null,transform:null,tweenVolume:null,playSound:function(t,e){if(null==e&&(e=0),null!=this.currentSound&&(this.currentSound.stop(),this.paused=!1),null!=t){if(t.volume=this.volume*An.masterVolume,this.currentClip=t,this.currentSound=t.play(this.channelNum,e),null==this.currentSound)return this.currentClip=null;this.setVolume(this.volume),this.setPanning(this.panning),this.currentSound.addEventListener("soundComplete",n(this,this.stopped))}return null!=t&&(this.currentSource=t.src),this.looping=!1,this.currentSound},loopSound:function(t,e){if(null==e&&(e=0),null!=this.currentSound&&this.currentSound.stop(),null!=t){if(t.volume=this.volume*An.masterVolume,this.currentClip=t,this.currentSound=t.play(this.channelNum,e),null==this.currentSound)return this.currentClip=null;this.setVolume(this.volume),this.setPanning(this.panning),this.currentSound.addEventListener("soundComplete",n(this,this.looped))}return null!=t&&(this.currentSource=t.src),this.looping=!0,this.currentSound},setPause:function(t){null!=this.currentSound&&(t?(this.currentSound.removeEventListener("soundComplete",n(this,this.looped)),this.position=this.currentSound.get_position(),this.currentSound.stop(),this.paused=!0):null!=this.currentSource&&this.paused&&(this.currentSound=this.currentClip.play(this.channelNum,this.position),this.currentSound.set_soundTransform(this.transform),this.currentSound.addEventListener("soundComplete",n(this,this.stopped)),this.looping&&this.currentSound.addEventListener("soundComplete",n(this,this.looped)),this.paused=!1))},looped:function(t){null!=this.currentSound&&this.currentSound.removeEventListener("soundComplete",n(this,this.looped)),this.loopSound(this.currentClip)},stopped:function(t){null!=this.currentSound&&this.currentSound.removeEventListener("soundComplete",n(this,this.stopped)),Ge.engine.soundFinished(this.channelNum)},stopSound:function(){null!=this.currentSound&&(this.currentSound.stop(),this.position=0,this.currentSound=this.currentSource=null,this.paused=!1)},tweenUpdated:function(){this.setVolume(this.tweenVolume.value)},fadeInSound:function(t){null!=this.currentSound&&this.tweenVolume.tween(this.transform.volume,1,da.linear,1e3*t|0)},fadeOutSound:function(t){null!=this.currentSound&&this.tweenVolume.tween(this.transform.volume,0,da.linear,1e3*t|0)},fadeSound:function(t,e){null!=this.currentSound&&this.tweenVolume.tween(this.transform.volume,e,da.linear,1e3*t|0)},setVolume:function(t){this.volume=t,null!=this.currentSound&&(this.transform.volume=t*An.masterVolume,this.currentSound.set_soundTransform(this.transform))},setPanning:function(t){this.panning=t,null!=this.currentSound&&(this.transform.pan=t,this.currentSound.set_soundTransform(this.transform))},__class__:An};var Tn=function(t,e,i,s,n,r){if(null==r&&(r=0),un.call(this,t,-1,n,e,i,-1,1,1,null,null,null,null,!1,!0,!1,!1,s[0]),0==r&&(null==(i=e=t=0)&&(i=0),null==e&&(e=0),null==t&&(t=0),r=t<<16|e<<8|i),this.fillColor=r,this.alwaysSimulate=!0,this.isRegion=!1,this.isTerrainRegion=!0,this.copy=s[0],this.body.setSleepingAllowed(!0),this.body.setAwake(!1),this.body.setIgnoreGravity(!0),s[0]instanceof vt){this.isCircle=!1;var a=new ut;a.setIdentity();var o=new V;vo.__cast(s[0],vt).computeAABB(o,a),t=o.lowerBound.x,e=o.upperBound.x,i=o.lowerBound.y,r=o.upperBound.y;for(var l=0,h=s.length;l<h;){var _=l++,c=new Nt;c.isSensor=!1,c.userData=this,c.shape=s[_],c.friction=1,c.density=.1,c.restitution=0,c.groupID=n,this.body.createFixture(c),vo.__cast(s[_],vt).computeAABB(o,a),t=Math.min(t,o.lowerBound.x),e=Math.max(e,o.upperBound.x),i=Math.min(i,o.lowerBound.y),r=Math.max(r,o.upperBound.y)}this.originalWidth=this.regionWidth=Math.round(Ge.toPixelUnits(Math.abs(t-e))),this.originalHeight=this.regionHeight=Math.round(Ge.toPixelUnits(Math.abs(i-r)))}else s[0]instanceof gt&&(this.isCircle=!0,this.originalWidth=this.regionWidth=Ge.toPixelUnits(2*vo.__cast(s[0],gt).m_radius),this.originalHeight=this.regionHeight=Ge.toPixelUnits(2*vo.__cast(s[0],gt).m_radius))};r["com.stencyl.models.Terrain"]=Tn,Tn.__name__="com.stencyl.models.Terrain",Tn.__super__=un,Tn.prototype=i(un.prototype,{isCircle:null,fillColor:null,copy:null,originalWidth:null,originalHeight:null,regionWidth:null,regionHeight:null,follow:function(t){var e=t.realY+t.cacheHeight/2;this.setX(t.realX+t.cacheWidth/2),this.setY(e)},resetSize:function(){this.setRegionSize(this.originalWidth,this.originalHeight)},setRegionDiameter:function(t){this.setRegionSize(t,t)},setRegionSize:function(t,e){var i=this.regionWidth,s=this.regionHeight;if(t=Ge.toPhysicalUnits(t),e=Ge.toPhysicalUnits(e),this.isCircle){var n=new gt;n.m_radius=t/2}else(n=new vt).setAsBox(t/2,e/2);var r=new Nt;if(r.isSensor=!0,r.userData=this,r.shape=n,null!=this.body&&null!=this.body.getFixtureList()){for(;0<this.body.m_fixtureCount;)this.body.DestroyFixture(this.body.getFixtureList());this.body.createFixture(r),this.regionWidth=Ge.toPixelUnits(t),this.regionHeight=Ge.toPixelUnits(e)}t=this.regionWidth-i,s=this.regionHeight-s,this.setLocation(this.getX()+t/2,this.getY()+s/2)},setLocation:function(t,e){this.setX(t+this.regionWidth/2),this.setY(e+this.regionHeight/2)},getWidth:function(){return this.regionWidth},getHeight:function(){return this.regionHeight},getFillColor:function(){return this.fillColor},__class__:Tn});var Mn=function(){this.xy=new ga,this.angle=new fa,this.alpha=new fa,this.realScaleXY=new ga};r["com.stencyl.models.actor.ActorTweenProperties"]=Mn,Mn.__name__="com.stencyl.models.actor.ActorTweenProperties",Mn.prototype={xy:null,angle:null,alpha:null,realScaleXY:null,pause:function(){this.xy.paused=!0,this.angle.paused=!0,this.alpha.paused=!0,this.realScaleXY.paused=!0},unpause:function(){this.xy.paused=!1,this.angle.paused=!1,this.alpha.paused=!1,this.realScaleXY.paused=!1},cancel:function(){this.xy.active&&ya.cancel(this.xy),this.angle.active&&ya.cancel(this.angle),this.alpha.active&&ya.cancel(this.alpha),this.realScaleXY.active&&ya.cancel(this.realScaleXY)},__class__:Mn};var Pn=function(t,e,i,s,n,r,a,o,l,h,_){fn.call(this,t,i,e),this.groupID=s,this.spriteID=n,this.behaviorValues=r,this.bodyDef=a,this.physicsMode=o,this.autoScale=l,this.pausable=h,this.ignoreGravity=_};r["com.stencyl.models.actor.ActorType"]=Pn,Pn.__name__="com.stencyl.models.actor.ActorType",Pn.__super__=fn,Pn.prototype=i(fn.prototype,{groupID:null,spriteID:null,behaviorValues:null,bodyDef:null,physicsMode:null,autoScale:null,pausable:null,ignoreGravity:null,toString:function(){return this.name},loadGraphics:function(){Oe.get().resources.get(this.spriteID).loadGraphics()},unloadGraphics:function(){Oe.get().resources.get(this.spriteID).unloadGraphics()},__class__:Pn});var Cn=function(t,e,i,s,n,r,a,o,l,h,_,c,u,d,m){for(this.sharedTimer=this.sharedFrameIndex=0,this.animID=t,this.animName=e,this.parent=i,this.simpleShapes=s,this.physicsShapes=n,this.looping=r,this.sync=a,this.durations=c,null==Cn.UNLOADED&&(Cn.UNLOADED=new O_(1,1)),t=[],e=0;e<u;)e++,t.push(Cn.UNLOADED);this.frames=t,this.frameWidth=o/d|0,this.frameHeight=l/m|0,this.imgWidth=o,this.imgHeight=l,this.frameCount=u,this.framesAcross=d,this.framesDown=m,this.originX=h,this.originY=_,null==i?this.frames=[Cn.UNLOADED]:(null!=(i=yn.get().atlases.h[i.atlasID])&&i.active&&this.loadGraphics(),1<u&&r&&Cn.allAnimations.push(this))};r["com.stencyl.models.actor.Animation"]=Cn,Cn.__name__="com.stencyl.models.actor.Animation",Cn.resetStatics=function(){Cn.allAnimations=[]},Cn.updateAll=function(t){for(var e=0,i=Cn.allAnimations;e<i.length;){var s=i[e];++e,s.update(t)}},Cn.prototype={animID:null,animName:null,parent:null,simpleShapes:null,physicsShapes:null,looping:null,sync:null,durations:null,frames:null,frameWidth:null,frameHeight:null,originX:null,originY:null,sharedTimer:null,sharedFrameIndex:null,imgWidth:null,imgHeight:null,frameCount:null,framesAcross:null,framesDown:null,graphicsLoaded:null,loadGraphics:function(){if(!this.graphicsLoaded){var t=km.getBitmapData("assets/graphics/"+Ge.IMG_BASE+"/sprite-"+this.parent.ID+"-"+this.animID+".png",!1);if(null==t.rect&&(t=null),null==t){var e=[],i=0;for(t=this.frameCount;i<t;)i++,e.push(Cn.UNLOADED);this.frames=e}else{if(1==this.frameCount)this.frames[0]=t;else{var s=this.frameWidth*Ge.SCALE|0,n=this.frameHeight*Ge.SCALE|0,r=new Ye(0,0);for(e=0,i=this.frameCount;e<i;){var a=e++,o=new je(a%this.framesAcross*s,Math.floor(a/this.framesAcross)*n,s,n),l=new O_(s,n,!0,0);l.copyPixels(t,o,r),this.frames[a]=l}t.dispose()}if(Ne.disposeImages&&null!=this.parent&&!this.parent.readableImages)for(e=0,i=this.frames;e<i.length;)t=i[e],++e,xi.uploadTexture(t,!0);this.graphicsLoaded=!0}}},unloadGraphics:function(){if(this.graphicsLoaded){for(var t=0,e=this.frameCount;t<e;){var i=t++;this.frames[i].readable&&this.frames[i].dispose(),this.frames[i]=Cn.UNLOADED}this.graphicsLoaded=!1}},checkImageReadable:function(){return!!this.frames[0].readable},update:function(t){this.sharedTimer+=t,1<this.frameCount&&this.sharedTimer>this.durations[this.sharedFrameIndex]&&(this.sharedTimer-=this.durations[this.sharedFrameIndex],this.sharedFrameIndex++,this.sharedFrameIndex>=this.frameCount&&(this.looping?this.sharedFrameIndex=0:this.sharedFrameIndex--))},__class__:Cn};var In=function(){this.points=[],this.bounds=new je,this.clear()};r["com.stencyl.models.actor.Collision"]=In,In.__name__="com.stencyl.models.actor.Collision",In.resetStatics=function(){In.recycledCollisions=[],In.collisionResponses=new fr},In.addResponse=function(t,e,i){var s=-1,n=-1;t instanceof Pn?s=t.groupID:t instanceof kn&&(s=t.ID),e instanceof Pn?n=e.groupID:e instanceof kn&&(n=e.ID),null==In.collisionResponses.h[s]&&(t=In.collisionResponses,e=new fr,t.h[s]=e),null==In.collisionResponses.h[n]&&(t=In.collisionResponses,e=new fr,t.h[n]=e),In.collisionResponses.h[s].h[n]=i,In.collisionResponses.h[n].h[s]=i},In.preSolve=function(t,e){e=t.getFixtureA().getBody().groupID;var i=t.getFixtureB().getBody().groupID;null!=In.collisionResponses.h[e]&&"sensor"==In.collisionResponses.h[e].h[i]&&t.setEnabled(!1)},In.get=function(){return 0<In.recycledCollisions.length?In.recycledCollisions.pop():new In},In.recycle=function(t){t.clear(),In.recycledCollisions.push(t)},In.prototype={thisFromTop:null,thisFromLeft:null,thisFromBottom:null,thisFromRight:null,thisCollidedWithActor:null,thisCollidedWithTile:null,thisCollidedWithSensor:null,thisCollidedWithTerrain:null,otherFromTop:null,otherFromLeft:null,otherFromBottom:null,otherFromRight:null,otherCollidedWithActor:null,otherCollidedWithTile:null,otherCollidedWithSensor:null,otherCollidedWithTerrain:null,points:null,thisActor:null,otherActor:null,thisShape:null,otherShape:null,actorA:null,actorB:null,maskA:null,maskB:null,groupA:null,groupB:null,bounds:null,useBounds:null,remove:null,solidCollision:null,linkedCollision:null,clear:function(){for(;0<this.points.length;)this.points.pop();this.remove=this.solidCollision=this.useBounds=this.otherCollidedWithTerrain=this.otherCollidedWithSensor=this.otherCollidedWithTile=this.otherCollidedWithActor=this.otherFromRight=this.otherFromBottom=this.otherFromLeft=this.otherFromTop=this.thisCollidedWithTerrain=this.thisCollidedWithSensor=this.thisCollidedWithTile=this.thisCollidedWithActor=this.thisFromRight=this.thisFromBottom=this.thisFromLeft=this.thisFromTop=!1,this.linkedCollision=this.maskA=this.maskB=this.actorB=this.actorA=this.otherShape=this.thisShape=this.otherActor=this.thisActor=null,this.bounds.setEmpty()},switchData:function(t){return null==t?null:(t.thisActor=this.otherActor,t.thisShape=this.otherShape,t.thisFromTop=this.otherFromTop,t.thisFromLeft=this.otherFromLeft,t.thisFromBottom=this.otherFromBottom,t.thisFromRight=this.otherFromRight,t.thisCollidedWithActor=this.otherCollidedWithActor,t.thisCollidedWithTile=this.otherCollidedWithTile,t.thisCollidedWithSensor=this.otherCollidedWithSensor,t.thisCollidedWithTerrain=this.otherCollidedWithTerrain,t.otherActor=this.thisActor,t.otherShape=this.thisShape,t.otherFromTop=this.thisFromTop,t.otherFromLeft=this.thisFromLeft,t.otherFromBottom=this.thisFromBottom,t.otherFromRight=this.thisFromRight,t.otherCollidedWithActor=this.thisCollidedWithActor,t.otherCollidedWithTile=this.thisCollidedWithTile,t.otherCollidedWithSensor=this.thisCollidedWithSensor,t.otherCollidedWithTerrain=this.thisCollidedWithTerrain,t.actorA=this.actorA,t.actorB=this.actorB,t.points=this.points,t.useBounds=this.useBounds,t.maskA=this.maskA,t.maskB=this.maskB,t.solidCollision=this.solidCollision,t.groupA=this.groupA,t.groupB=this.groupB,t.linkedCollision=this,this.linkedCollision=t)},__class__:In};var En=function(t,e,i,s){this.x=t,this.y=e,this.normalX=i,this.normalY=s};r["com.stencyl.models.actor.CollisionPoint"]=En,En.__name__="com.stencyl.models.actor.CollisionPoint",En.resetStatics=function(){En.freedCollisionPoints=[]},En.get=function(t,e,i,s){if(0<En.freedCollisionPoints.length){var n=En.freedCollisionPoints.pop();return n.x=t,n.y=e,n.normalX=i,n.normalY=s,n}return new En(t,e,i,s)},En.free=function(t){En.freedCollisionPoints.push(t)},En.prototype={x:null,y:null,normalX:null,normalY:null,__class__:En};var kn=function(t,e){this.name=e,this.ID=t,this.sID="[Group "+t+","+e+"]",this.list=[]};r["com.stencyl.models.actor.Group"]=kn,kn.__name__="com.stencyl.models.actor.Group",kn.prototype={list:null,name:null,ID:null,sID:null,addChild:function(t){this.list.push(t)},removeChild:function(t){},toString:function(){return this.sID},__class__:kn};var Fn=function(t,e,i,s,n){fn.call(this,t,i,e),this.defaultAnimation=s,this.readableImages=n,this.animations=new fr};r["com.stencyl.models.actor.Sprite"]=Fn,Fn.__name__="com.stencyl.models.actor.Sprite",Fn.__super__=fn,Fn.prototype=i(fn.prototype,{defaultAnimation:null,animations:null,readableImages:null,loadGraphics:function(){for(var t=this.animations.iterator();t.hasNext();)t.next().loadGraphics()},unloadGraphics:function(){for(var t=this.animations.iterator();t.hasNext();)t.next().unloadGraphics()},reloadGraphics:function(t){-1==t?(this.unloadGraphics(),this.loadGraphics()):(this.animations.h[t].unloadGraphics(),this.animations.h[t].loadGraphics());for(var e=Ge.engine.allActors.iterator();e.hasNext();){var i=e.next();null==i||i.dead||i.recycled||i.type.spriteID==this.ID&&i.reloadAnimationGraphics(t)}},get_width:function(){var t=this.animations.h[this.defaultAnimation];return t.imgWidth/t.framesAcross|0},get_height:function(){var t=this.animations.h[this.defaultAnimation];return t.imgHeight/t.framesDown|0},__class__:Fn,__properties__:{get_height:"get_height",get_width:"get_width"}});var Bn=function(t){fn.call(this,0,"Color Background",-1),this.bgColor=t,t==Bn.WHITE&&(this.bgColor=16777215)};r["com.stencyl.models.background.ColorBackground"]=Bn,Bn.__name__="com.stencyl.models.background.ColorBackground",Bn.__interfaces__=[mn],Bn.__super__=fn,Bn.prototype=i(fn.prototype,{bgColor:null,update:function(){},draw:function(t,e,i,s,n){this.bgColor!=Bn.TRANSPARENT&&(t.clear(),t.beginFill(this.bgColor),t.drawRect(0,0,s,n),t.endFill(),t.drawCircle(1,1,1))},__class__:Bn});var Dn=function(t,e){fn.call(this,0,"Gradient Background",-1),this.topColor=t,this.bottomColor=e};r["com.stencyl.models.background.GradientBackground"]=Dn,Dn.__name__="com.stencyl.models.background.GradientBackground",Dn.__interfaces__=[mn],Dn.__super__=fn,Dn.prototype=i(fn.prototype,{topColor:null,bottomColor:null,update:function(){},draw:function(t,e,i,s,n){e=[this.topColor,this.bottomColor],(i=new yr).createGradientBox(s,n,Math.PI/2,0,0),t.clear();var r=new O_(1,1);t.beginBitmapFill(r),t.endFill(),t.beginGradientFill(0,e,[100,100],[0,255],i,0),t.drawRect(0,0,s,n),t.endFill()},__class__:Dn});var Ln=function(t,e,i,s,n,r,a){fn.call(this,t,i,e),this.parallaxX=n,this.parallaxY=r,this.durations=s,this.repeats=a,this.currFrame=this.currTime=0,this.isAtlasActive()&&this.loadGraphics(),this.repeated=!1};r["com.stencyl.models.background.ImageBackground"]=Ln,Ln.__name__="com.stencyl.models.background.ImageBackground",Ln.__interfaces__=[mn],Ln.__super__=fn,Ln.prototype=i(fn.prototype,{currFrame:null,currTime:null,img:null,frames:null,durations:null,parallaxX:null,parallaxY:null,repeats:null,repeated:null,graphicsLoaded:null,update:function(){},draw:function(t,e,i,s,n){},drawRepeated:function(t,e,i){t=this.img.width;var s=this.img.height,n=new je(0,0,t,s);if(!(t>=e&&s>=i)){t<e&&(e+=(0|t)-e%(0|t)),s<i&&(i+=(0|s)-i%(0|s));var r=new O_(0|Math.max(e,t),0|Math.max(i,s)),a=0;for(i=1+(i/s|0);a<i;)for(var o=a++,l=0,h=1+(e/t|0);l<h;){var _=l++;r.copyPixels(this.img,n,new Ye(_*t,o*s))}this.img=r}this.repeated=!0},loadGraphics:function(){if(!this.graphicsLoaded){var t=[],e=this.durations.length;if(0<e)for(var i=0;i<e;){var s=i++;t.push(km.getBitmapData("assets/graphics/"+Ge.IMG_BASE+"/background-"+this.ID+"-"+s+".png",!1))}else t.push(km.getBitmapData("assets/graphics/"+Ge.IMG_BASE+"/background-"+this.ID+"-0.png",!1));for(this.frames=[],i=0,e=t.length;i<e;)s=i++,this.repeats?(this.img=t[s],this.drawRepeated(null,Ge.screenWidth*Ge.SCALE|0,Ge.screenHeight*Ge.SCALE|0),this.frames.push(this.img)):this.frames.push(t[s]);this.img=this.frames[0],this.graphicsLoaded=!0}},unloadGraphics:function(){if(this.graphicsLoaded){this.img=new O_(1,1),this.currFrame=0,this.repeated=!1,this.frames=[];for(var t=0,e=this.durations;t<e.length;)++t,this.frames.push(this.img);this.graphicsLoaded=!1}},reloadGraphics:function(t){fn.prototype.reloadGraphics.call(this,t),t=0;for(var e=Ge.engine.backgroundLayers;t<e.length;){var i=e[t];++t,i.model==this&&i.reload(i.resourceID)}},__class__:Ln});var Nn=function(t,e,i,s,n,r,a,o,l){Ln.call(this,t,e,i,s,n,r,a),this.xVelocity=o,this.yVelocity=l};r["com.stencyl.models.background.ScrollingBackground"]=Nn,Nn.__name__="com.stencyl.models.background.ScrollingBackground",Nn.__interfaces__=[mn],Nn.__super__=Ln,Nn.prototype=i(Ln.prototype,{xVelocity:null,yVelocity:null,update:function(){},draw:function(t,e,i,s,n){},__class__:Nn});var On=function(){this.reset()};r["com.stencyl.models.collision.CollisionInfo"]=On,On.__name__="com.stencyl.models.collision.CollisionInfo",On.resetStatics=function(){On.infoArray=[]},On.getCollisionInfo=function(){return 0<On.infoArray.length?On.infoArray.pop():new On},On.recycle=function(t){On.infoArray.push(t)},On.prototype={max:null,min:null,maskA:null,maskB:null,solidCollision:null,reset:function(){this.max=this.min=0,this.maskA=this.maskB=null,this.solidCollision=!0},__class__:On};var Vn=function(){this.collideTypes=[],this.solid=!0,this._class=vo.getClass(this).__name__;var t=this._check=new pr,e=Vn.__name__;t.h[e]=n(this,this.collideMask),t=this._check,e=zn.__name__,t.h[e]=n(this,this.collideMasklist),this.lastBounds=new je,this.lastColID=-1};r["com.stencyl.models.collision.Mask"]=Vn,Vn.__name__="com.stencyl.models.collision.Mask",Vn.prototype={parent:null,groupID:null,list:null,lastBounds:null,lastCheckedMask:null,lastColID:null,solid:null,collideTypes:null,collide:function(t){if(null==this.parent)throw wa.thrown("Mask must be attached to a parent Entity");var e=this._check.h[t._class];return null!=e?e(t):null!=(e=t._check.h[this._class])&&e(this)},collideMask:function(t){return this.parent.colX+this.parent.cacheWidth>t.parent.colX&&this.parent.colY+this.parent.cacheHeight>t.parent.colY&&this.parent.colX<t.parent.colX+t.parent.cacheWidth&&this.parent.colY<t.parent.colY+t.parent.cacheHeight&&(this.lastBounds.x=this.parent.colX,this.lastBounds.y=this.parent.colY,this.lastBounds.width=this.parent.cacheWidth,this.lastBounds.height=this.parent.cacheHeight,this.lastCheckedMask=this,!0)},collideMasklist:function(t){return t.collide(this)},assignTo:function(t){this.parent=t,null!=t&&this.update()},debugDraw:function(t,e,i){},update:function(){},projectMask:function(t,e){var i=-9999999999,s=9999999999,n=-this.parent.currOffset.x*t.x-this.parent.currOffset.y*t.y;n<s&&(s=n),n>i&&(i=n),(n=(-this.parent.currOffset.x+this.parent.cacheWidth)*t.x-this.parent.currOffset.y*t.y)<s&&(s=n),n>i&&(i=n),(n=-this.parent.currOffset.x*t.x+(-this.parent.currOffset.y+this.parent.cacheHeight)*t.y)<s&&(s=n),n>i&&(i=n),(n=(-this.parent.currOffset.x+this.parent.cacheWidth)*t.x+(-this.parent.currOffset.y+this.parent.cacheHeight)*t.y)<s&&(s=n),n>i&&(i=n),e.min=s,e.max=i},_class:null,_check:null,__class__:Vn};var Gn=function(t,e,i,s,r,a){null==a&&(a=0),null==r&&(r=!0),null==s&&(s=0),null==i&&(i=0),null==e&&(e=1),null==t&&(t=1),Vn.call(this),this.lastBounds.width=this._width=t,this.lastBounds.height=this._height=e,this._x=i,this._y=s,this.solid=r,this.groupID=a,this._check.h[Gn.__name__]=n(this,this.collideHitbox)};r["com.stencyl.models.collision.Hitbox"]=Gn,Gn.__name__="com.stencyl.models.collision.Hitbox",Gn.__super__=Vn,Gn.prototype=i(Vn.prototype,{clone:function(){return new Gn(this._width,this._height,this._x,this._y,this.solid,this.groupID)},collideMask:function(t){return this.parent.colX+this._x+this._width>t.parent.colX&&this.parent.colY+this._y+this._height>t.parent.colY&&this.parent.colX+this._x<t.parent.colX+t.parent.cacheWidth&&this.parent.colY+this._y<t.parent.colY+t.parent.cacheHeight&&(this.lastBounds.x=this.parent.colX+this.parent.cacheWidth,this.lastBounds.y=this.parent.colY+this.parent.cacheHeight,this.lastBounds.width=this.parent.cacheWidth,this.lastBounds.height=this.parent.cacheHeight,this.lastCheckedMask=this,!0)},collideHitbox:function(t){return this.parent.colX+this._x+this._width>t.parent.colX+t._x&&this.parent.colY+this._y+this._height>t.parent.colY+t._y&&this.parent.colX+this._x<t.parent.colX+t._x+t._width&&this.parent.colY+this._y<t.parent.colY+t._y+t._height&&(this.lastBounds.x=this.parent.colX+this._x,this.lastBounds.y=this.parent.colY+this._y,this.lastBounds.width=this._width,this.lastBounds.height=this._height,this.lastCheckedMask=this,!0)},get_x:function(){return this._x},set_x:function(t){return this._x==t?t:(this._x=t,null!=this.list?this.list.update():null!=this.parent&&this.update(),this._x)},get_y:function(){return this._y},set_y:function(t){return this._y==t?t:(this._y=t,null!=this.list?this.list.update():null!=this.parent&&this.update(),this._y)},get_width:function(){return this._width},set_width:function(t){return this._width==t?t:(this._width=t,null!=this.list?this.list.update():null!=this.parent&&this.update(),this._width)},get_height:function(){return this._height},set_height:function(t){return this._height==t?t:(this._height=t,null!=this.list?this.list.update():null!=this.parent&&this.update(),this._height)},update:function(){null!=this.parent&&null!=this.list&&this.list.update()},_width:null,_height:null,_x:null,_y:null,__class__:Gn,__properties__:{set_height:"set_height",get_height:"get_height",set_width:"set_width",get_width:"get_width",set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x"}});var Un=function(t,e,i,s,r,a){if(null==a&&(a=0),null==r&&(r=0),Gn.call(this),0==t||0==e||0==i||0==s)throw wa.thrown("Illegal Grid, sizes cannot be 0.");for(this._rect=vr.rect,this._point=vr.point,this._point2=vr.point2,this.columns=t/i|0,this.rows=e/s|0,this._tile=new je(0,0,i,s),this._x=r,this._y=a,this._width=t,this._height=e,this.usePositions=!1,this.groupID=1,t=this._check,e=Vn.__name__,t.h[e]=n(this,this.collideMask),t=this._check,e=Gn.__name__,t.h[e]=n(this,this.collideHitbox),t=this._check,e=Hn.__name__,t.h[e]=n(this,this.collidePixelmask),this.data=[],t=0,e=this.rows;t<e;)t++,this.data.push([])};r["com.stencyl.models.collision.Grid"]=Un,Un.__name__="com.stencyl.models.collision.Grid",Un.__super__=Gn,Un.prototype=i(Gn.prototype,{usePositions:null,setTile:function(t,e,i){null==i&&(i=!0),null==e&&(e=0),null==t&&(t=0),0>t||t>this.columns-1||0>e||e>this.rows-1||(this.usePositions&&(t=t/this._tile.width|0,e=e/this._tile.height|0),this.data[e][t]=i)},clearTile:function(t,e){null==e&&(e=0),null==t&&(t=0),this.setTile(t,e,!1)},checkTile:function(t,e){return!(0>t||t>this.columns-1||0>e||e>this.rows-1)},getTile:function(t,e){return null==e&&(e=0),null==t&&(t=0),!(0>t||t>this.columns-1||0>e||e>this.rows-1)&&(this.usePositions&&(t=t/this._tile.width|0,e=e/this._tile.height|0),this.data[e][t])},setRect:function(t,e,i,s,n){null==n&&(n=!0),null==s&&(s=1),null==i&&(i=1),null==e&&(e=0),null==t&&(t=0),this.usePositions&&(t=t/this._tile.width|0,e=e/this._tile.height|0,i=i/this._tile.width|0,s=s/this._tile.height|0);var r=e;for(e+=s;r<e;){s=r++;for(var a=t,o=t+i;a<o;){var l=a++;this.setTile(l,s,n)}}},clearRect:function(t,e,i,s){null==s&&(s=1),null==i&&(i=1),null==e&&(e=0),null==t&&(t=0),this.setRect(t,e,i,s,!1)},get_tileWidth:function(){return 0|this._tile.width},get_tileHeight:function(){return 0|this._tile.height},columns:null,rows:null,data:null,collideMask:function(t){this._rect.x=t.parent.colX-this.parent.colX,this._rect.y=t.parent.colY-this.parent.colY;var e=1+((this._rect.x+t.parent.cacheWidth-1)/this._tile.width|0),i=this._rect.x/this._tile.width|0,s=this._rect.y/this._tile.height|0;for(t=1+((this._rect.y+t.parent.cacheHeight-1)/this._tile.height|0);s<t;)for(var n=s++,r=i,a=e;r<a;){var o=r++;if(this.getTile(o,n))return!0}return!1},collideHitbox:function(t){this._rect.x=t.parent.colX+t._x,this._rect.y=t.parent.colY+t._y;for(var e=1+((this._rect.x+t._width-1)/this._tile.width|0),i=this._rect.x/this._tile.width|0,s=this._rect.y/this._tile.height|0,n=1+((this._rect.y+t._height-1)/this._tile.height|0);s<n;)for(var r=s++,a=i,o=e;a<o;){var l=a++;if(this.getTile(l,r))return this.lastBounds.x=l*this._tile.width,this.lastBounds.y=r*this._tile.height,this.lastBounds.width=this._tile.width,this.lastBounds.height=this._tile.height,t.lastColID=this.groupID,!0}return!1},collidePixelmask:function(t){return!1},squareProjection:function(t,e){t.x<t.y?(e.x=t.x,e.y=t.y):(e.y=t.x,e.x=t.y)},_tile:null,_rect:null,_point:null,_point2:null,__class__:Un,__properties__:i(Gn.prototype.__properties__,{get_tileHeight:"get_tileHeight",get_tileWidth:"get_tileWidth"})});var zn=function(t,e){this._count=0,Gn.call(this),this._masks=[],this._temp=[],this.solid=!1,this.parent=e;for(var i=0;i<t.length;)e=t[i],++i,this.add(e)};r["com.stencyl.models.collision.Masklist"]=zn,zn.__name__="com.stencyl.models.collision.Masklist",zn.__super__=Gn,zn.prototype=i(Gn.prototype,{collide:function(t){for(var e,i=0,s=this._masks;i<s.length;)if(e=s[i],++i,e.groupID=-1e3==e.groupID?e.parent.groupID:e.groupID,(t instanceof zn||-2==t.groupID||yn.collisionMap[e.groupID][t.groupID])&&e.collide(t))return this.lastBounds.x=e.lastBounds.x,this.lastBounds.y=e.lastBounds.y,this.lastBounds.width=e.lastBounds.width,this.lastBounds.height=e.lastBounds.height,this.lastCheckedMask=e,this.lastColID=t.groupID,!0;return!1},collideMasklist:function(t){for(var e,i,s=0,n=this._masks;s<n.length;){e=n[s],++s,e.groupID=-1e3==e.groupID?e.parent.groupID:e.groupID;for(var r=0,a=t._masks;r<a.length;)if(i=a[r],++r,i.groupID=-1e3==i.groupID?i.parent.groupID:i.groupID,e.collide(i))return t.lastBounds.x=i.lastBounds.x,t.lastBounds.y=i.lastBounds.y,t.lastBounds.width=i.lastBounds.width,t.lastBounds.height=i.lastBounds.height,t.lastCheckedMask=i,t.lastColID=e.groupID,!0}return!0},add:function(t){this._masks[this._count++]=t,t.list=this,t.parent=this.parent,this.solid=this.solid||t.solid,this.update(),t.groupID=-1e3==t.groupID?this.parent.groupID:t.groupID;var e=yn.get().groupsCollidesWith.h[t.groupID];if(null!=e)for(var i=0;i<e.length;){var s=e[i];++i,vr.contains(this.collideTypes,s)||this.collideTypes.push(s)}return t},remove:function(t){if(0>d.indexOf(this._masks,t))return t;this._temp.length=0;for(var e,i=0,s=this._masks;i<s.length;)e=s[i],++i,e==t?(t.list=null,t.parent=null,this._count--,this.update()):this._temp[this._temp.length]=e;return e=this._masks,this._masks=this._temp,this._temp=e,t},removeAt:function(t){null==t&&(t=0),this._temp.length=0;var e=this._masks.length;for(t%=e;0<e--;)e==t?(this._masks[t].list=null,this._count--,this.update()):this._temp[this._temp.length]=this._masks[t];t=this._masks,this._masks=this._temp,this._temp=t},removeAll:function(){for(var t,e=0,i=this._masks;e<i.length;)t=i[e],++e,t.list=null;this._count=0,this._masks.length=0,this._temp.length=0,this.update()},getMask:function(t){return null==t&&(t=0),this._masks[t%this._masks.length]},assignTo:function(t){for(var e=0,i=this._masks;e<i.length;){var s=i[e];++e,s.parent=t}Gn.prototype.assignTo.call(this,t)},update:function(){for(var t,e=1e5,i=1e5,s=0,n=0,r=this._count;0<r--;)null!=(t=vo.__cast(this._masks[r],Gn))&&(t._x<i&&(i=t._x),t._y<e&&(e=t._y),t._x+t._width>s&&(s=t._x+t._width),t._y+t._height>n&&(n=t._y+t._height));this._x=i,this._y=e,this._width=s-i,this._height=n-e,Gn.prototype.update.call(this)},count:null,get_count:function(){return this._count},_masks:null,_temp:null,_count:null,__class__:zn,__properties__:i(Gn.prototype.__properties__,{get_count:"get_count"})});var Hn=function(t,e,i){if(null==i&&(i=0),null==e&&(e=0),Gn.call(this),t instanceof O_&&(this._data=t),null==this._data)throw wa.thrown("Invalid Pixelmask source image.");this.threshold=1,this._rect=vr.rect,this._point=vr.point,this._point2=vr.point2,this._width=this.get_data().width,this._height=this.get_data().height,this._x=e,this._y=i,t=this._check,e=Vn.__name__,t.h[e]=n(this,this.collideMask),t=this._check,e=Hn.__name__,t.h[e]=n(this,this.collidePixelmask),t=this._check,e=Gn.__name__,t.h[e]=n(this,this.collideHitbox)};r["com.stencyl.models.collision.Pixelmask"]=Hn,Hn.__name__="com.stencyl.models.collision.Pixelmask",Hn.__super__=Gn,Hn.prototype=i(Gn.prototype,{threshold:null,collideMask:function(t){return this._point.x=this.parent.colX+this._x,this._point.y=this.parent.colY+this._y,this._rect.x=t.parent.colX,this._rect.y=t.parent.colY,this._rect.width=t.parent.cacheWidth,this._rect.height=t.parent.cacheHeight,!1},collideHitbox:function(t){return this._point.x=this.parent.colX+this._x,this._point.y=this.parent.colY+this._y,this._rect.x=t.parent.colX+t._x,this._rect.y=t.parent.colY+t._y,this._rect.width=t._width,this._rect.height=t._height,!1},collidePixelmask:function(t){return this._point.x=this.parent.colX+this._x,this._point.y=this.parent.colY+this._y,this._point2.x=t.parent.colX+t._x,this._point2.y=t.parent.colY+t._y,!1},get_data:function(){return this._data},set_data:function(t){return this._data=t,this._width=t.width,this._height=t.height,this.update(),this._data},_data:null,_rect:null,_point:null,_point2:null,__class__:Hn,__properties__:i(Gn.prototype.__properties__,{set_data:"set_data",get_data:"get_data"})});var Wn=function(t,e,i,s,n,r,a,o,l,h,_,c){this.elementID=t,this.x=e,this.y=i,this.scaleX=s,this.scaleY=n,this.layerID=r,this.orderInLayer=a,this.angle=o,this.groupID=l,this.actorID=h,this.behaviorValues=_,this.isCustomized=c,this.actorType=vo.__cast(Oe.get().resources.get(h),Pn)};r["com.stencyl.models.scene.ActorInstance"]=Wn,Wn.__name__="com.stencyl.models.scene.ActorInstance",Wn.prototype={elementID:null,x:null,y:null,scaleX:null,scaleY:null,layerID:null,orderInLayer:null,angle:null,groupID:null,actorID:null,isCustomized:null,behaviorValues:null,actorType:null,__class__:Wn};var Xn=function(){};r["com.stencyl.models.scene.Autotile"]=Xn,Xn.__name__="com.stencyl.models.scene.Autotile";var Yn=function(t,e,i,s,n){for(this.animIndex=[],this.defaultAnimationIndex=0,this.name=t,this.id=e,this.tilesAcross=i,this.tilesDown=s,t=0,e=new I,i=0,s=256;i<s;){var r=i++;null!=e.h.__keys__[n[r].__id__]?this.animIndex[r]=e.h[n[r].__id__]:(this.animIndex[r]=t,e.set(n[r],t),++t)}for(this.defaultAnimationIndex=this.animIndex[255],this.autotileArrayLength=t,this.animCorners=[],i=0,s=256;i<s;)r=i++,this.animCorners[this.animIndex[r]]=n[r]};r["com.stencyl.models.scene.AutotileFormat"]=Yn,Yn.__name__="com.stencyl.models.scene.AutotileFormat",Yn.prototype={autotileArrayLength:null,defaultAnimationIndex:null,name:null,id:null,tilesAcross:null,tilesDown:null,animIndex:null,animCorners:null,__class__:Yn};var jn=function(t,e,i,s){this.tl=t,this.tr=e,this.bl=i,this.br=s};r["com.stencyl.models.scene.Corners"]=jn,jn.__name__="com.stencyl.models.scene.Corners",jn.prototype={tl:null,tr:null,bl:null,br:null,toString:function(){return"TL: "+g.string(this.tl)+", TR: "+g.string(this.tr)+", BL: "+g.string(this.bl)+", BR: "+g.string(this.br)},__class__:jn};var Kn=function(t,e,i,s){this.type=t,this.x=e,this.y=i,this.layer=s};r["com.stencyl.models.scene.DeferredActor"]=Kn,Kn.__name__="com.stencyl.models.scene.DeferredActor",Kn.prototype={type:null,x:null,y:null,layer:null,__class__:Kn};var Jn=function(t,e,i,s,n,r,a){D.call(this),this.ID=t,this.set_name(e),this.layerName=e,this.order=i,this.scrollFactorX=s,this.scrollFactorY=n,this.set_alpha(r),this.set_blendMode(a)};r["com.stencyl.models.scene.layers.RegularLayer"]=Jn,Jn.__name__="com.stencyl.models.scene.layers.RegularLayer",Jn.__super__=D,Jn.prototype=i(D.prototype,{ID:null,layerName:null,order:null,scrollFactorX:null,scrollFactorY:null,opacity:null,alphaTween:null,updatePosition:function(t,e,i){},__class__:Jn});var Zn=function(t,e,i,s,n,r,a,o){this.cameraOldX=this.cameraOldY=-1,this.cameraMoved=!0,Jn.call(this,t,e,i,s,n,r,a),this.tiles=o,null!=this.tiles&&(this.tiles.set_name(e+" - TileLayer"),this.tiles.set_blendMode(a)),this.actorContainer=new D,this.actorContainer.set_name(e+" - ActorLayer"),this.overlay=new D,this.overlay.set_name(e+" - Overlay"),null!=this.tiles&&this.addChild(this.tiles),this.addChild(this.actorContainer),this.addChild(this.overlay),this.attachedImages=[]};r["com.stencyl.models.scene.Layer"]=Zn,Zn.__name__="com.stencyl.models.scene.Layer",Zn.__super__=Jn,Zn.prototype=i(Jn.prototype,{tiles:null,actorContainer:null,overlay:null,attachedImages:null,cameraMoved:null,cameraOldX:null,cameraOldY:null,updatePosition:function(t,e,i){if(Ne.pixelsnap){i=t*this.scrollFactorX|0;var s=e*this.scrollFactorY|0;t=Math.round(t),e=Math.round(e),this.set_x(-(t*this.scrollFactorX|0)),this.set_y(-(e*this.scrollFactorY|0));var n=i/(Ge.engine.scene.tileWidth*Ge.SCALE)|0,r=s/(Ge.engine.scene.tileHeight*Ge.SCALE)|0}else i=t*this.scrollFactorX,s=e*this.scrollFactorY,this.set_x(-t*this.scrollFactorX),this.set_y(-e*this.scrollFactorY),n=i/(Ge.engine.scene.tileWidth*Ge.SCALE),r=s/(Ge.engine.scene.tileHeight*Ge.SCALE);this.tiles.setPosition(i,s),this.overlay.set_x(t),this.overlay.set_y(e),this.cameraMoved=this.cameraMoved||this.cameraOldX!=n||this.cameraOldY!=r,this.cameraOldX=n,this.cameraOldY=r},clear:function(){for(var t=0,e=this.attachedImages;t<e.length;){var i=e[t];++t,this.removeChild(i)}this.attachedImages=[],vr.removeAllChildren(this.actorContainer),this.overlay.get_graphics().clear(),null!=this.tiles&&this.tiles.clear()},__class__:Zn});var Qn=function(t,e,i,s,n,r,a){null==r&&(r=0),this.x=s,this.y=n,this.shapes=t,this.shape=this.shapes[0],this.ID=e,this.name=i,this.shapeID=r,this.simpleBounds=a};r["com.stencyl.models.scene.RegionDef"]=Qn,Qn.__name__="com.stencyl.models.scene.RegionDef",Qn.prototype={x:null,y:null,shape:null,shapes:null,ID:null,name:null,shapeID:null,simpleBounds:null,__class__:Qn};var qn=function(t,e,i,s,n,r,a){null==a&&(a=!0),null==r&&(r=0),null==n&&(n=0),null==s&&(s=0),D.call(this),this.curStep=0,this.running=!0,this.repeats=a,this.image1=new di(t),this.addChild(this.image1),this.cacheWidth=this.image1.get_width(),this.cacheHeight=this.image1.get_height(),a&&(this.image2=new di(t),this.image2.set_x(this.image1.get_x()-this.cacheWidth),this.addChild(this.image2),this.image3=new di(t),this.image3.set_x(this.image1.get_x()+this.cacheWidth),this.addChild(this.image3),this.image4=new di(t),this.image4.set_x(this.image1.get_x()-this.cacheWidth),this.image4.set_y(this.image1.get_y()-this.cacheHeight),this.addChild(this.image4),this.image5=new di(t),this.image5.set_y(this.image1.get_y()-this.cacheHeight),this.addChild(this.image5),this.image6=new di(t),this.image6.set_x(this.image1.get_x()+this.cacheWidth),this.image6.set_y(this.image1.get_y()-this.cacheHeight),this.addChild(this.image6),this.image7=new di(t),this.image7.set_x(this.image1.get_x()-this.cacheWidth),this.image7.set_y(this.image1.get_y()+this.cacheHeight),this.addChild(this.image7),this.image8=new di(t),this.image8.set_y(this.image1.get_y()+this.cacheHeight),this.addChild(this.image8),this.image9=new di(t),this.image9.set_x(this.image1.get_x()+this.cacheWidth),this.image9.set_y(this.image1.get_y()+this.cacheHeight),this.addChild(this.image9)),this.yPos=this.xPos=this.yP=this.xP=0,this.xVelocity=e,this.yVelocity=i,this.parallaxX=s,this.parallaxY=n,this.scrolling=0!=e||0!=i,this.parallax=0!=s||0!=n,this.backgroundID=r};r["com.stencyl.models.scene.ScrollingBitmap"]=qn,qn.__name__="com.stencyl.models.scene.ScrollingBitmap",qn.__super__=D,qn.prototype=i(D.prototype,{image1:null,image2:null,image3:null,image4:null,image5:null,image6:null,image7:null,image8:null,image9:null,speed:null,curStep:null,running:null,parallax:null,scrolling:null,cacheWidth:null,cacheHeight:null,xP:null,yP:null,xPos:null,yPos:null,xVelocity:null,yVelocity:null,parallaxX:null,parallaxY:null,backgroundID:null,repeats:null,update:function(t,e,i){i=!1,this.parallax?(this.xPos=-(t*this.parallaxX|0),this.yPos=-(e*this.parallaxY|0),i=!0):this.running?this.yPos=this.xPos=0:(this.xPos=this.xP,this.yPos=this.yP),this.scrolling&&this.running&&(t=this.cacheWidth,e=this.cacheHeight,this.xP+=this.xVelocity/10*Ge.SCALE,this.yP+=this.yVelocity/10*Ge.SCALE,this.repeats&&((this.xP<-t||this.xP>t)&&(this.xP=0),(this.yP<-e||this.yP>e)&&(this.yP=0)),this.xPos+=Math.floor(this.xP),this.yPos+=Math.floor(this.yP),this.curStep+=1,1<=this.curStep&&(i=!0,this.curStep-=Math.floor(this.curStep))),i&&this.resetPositions()},resetPositions:function(){this.cacheWidth=this.image1.get_width(),this.cacheHeight=this.image1.get_height(),this.repeats&&(this.xPos<-this.cacheWidth&&(this.xPos%=this.cacheWidth),this.yPos<-this.cacheHeight&&(this.yPos%=this.cacheHeight)),this.image1.set_x(this.xPos),this.image1.set_y(this.yPos),this.repeats&&(this.image2.set_x(this.xPos-this.cacheWidth),this.image2.set_y(this.yPos),this.image3.set_x(this.xPos+this.cacheWidth),this.image3.set_y(this.yPos),this.image4.set_x(this.xPos-this.cacheWidth),this.image4.set_y(this.yPos-this.cacheHeight),this.image5.set_x(this.xPos),this.image5.set_y(this.yPos-this.cacheHeight),this.image6.set_x(this.xPos+this.cacheWidth),this.image6.set_y(this.yPos-this.cacheHeight),this.image7.set_x(this.xPos-this.cacheWidth),this.image7.set_y(this.yPos+this.cacheHeight),this.image8.set_x(this.xPos),this.image8.set_y(this.yPos+this.cacheHeight),this.image9.set_x(this.xPos+this.cacheWidth),this.image9.set_y(this.yPos+this.cacheHeight))},start:function(){this.running=!0},stop:function(){this.running=!1},__class__:qn});var $n=function(t,e,i,s,n,r,a){null==a&&(a=0),null==r&&(r=0),this.x=s,this.y=n,this.shapes=t,this.shape=this.shapes[0],this.ID=e,this.name=i,this.groupID=r,0==this.fillColor&&(null==(i=e=t=0)&&(i=0),null==e&&(e=0),null==t&&(t=0),this.fillColor=t<<16|e<<8|i),this.fillColor=a};r["com.stencyl.models.scene.TerrainDef"]=$n,$n.__name__="com.stencyl.models.scene.TerrainDef",$n.prototype={x:null,y:null,shape:null,shapes:null,ID:null,name:null,groupID:null,fillColor:null,__class__:$n};var tr=function(t,e,i,s,n,r,a,o){this.tileID=t,this.collisionID=e,this.metadata=i,this.frameIndex=s,this.durations=n,this.parent=o;var l=yn.get().atlases.h[o.atlasID];if(null!=r){this.autotileFormat=r,this.autotileMergeSet=a,a=[];var h=0;for(r=r.autotileArrayLength;h<r;)h++,a.push(new tr(t,e,i,s,n,null,null,o));this.autotiles=a}null!=l&&l.active&&this.loadGraphics(),this.currTime=this.currFrame=0,this.updateSource=!1};r["com.stencyl.models.scene.Tile"]=tr,tr.__name__="com.stencyl.models.scene.Tile",tr.prototype={tileID:null,collisionID:null,metadata:null,frameIndex:null,parent:null,autotileFormat:null,autotiles:null,autotileMergeSet:null,pixels:null,durations:null,frames:null,currFrame:null,currTime:null,updateSource:null,data:null,update:function(t){1==this.durations.length||Ge.paused||(this.currTime+=Math.floor(t),this.currTime>(0|this.durations[this.currFrame])&&(this.currTime-=0|this.durations[this.currFrame],this.currFrame+1<this.durations.length?this.currFrame++:this.currFrame=0,this.updateSource=!0))},getSource:function(t,e){return new je(this.currFrame*t*Ge.SCALE,0,t*Ge.SCALE,e*Ge.SCALE)},loadGraphics:function(){var t=null;if((1<this.durations.length||null!=this.autotileFormat)&&(t=km.getBitmapData("assets/graphics/"+Ge.IMG_BASE+"/tileset-"+this.parent.ID+"-"+this.tileID+".png",!1)),null!=this.autotileFormat){var e=0,i=0;for(t=this.createAutotileAnimations(t,this.autotileFormat);i<t.length;){var s=t[i];++i,this.autotiles[e++].loadAnimationPixels(s)}}else this.loadAnimationPixels(t)},unloadGraphics:function(){if(this.data=this.pixels=null,null!=this.autotiles)for(var t=0,e=this.autotiles;t<e.length;){var i=e[t];++t,i.pixels=null,i.data=null}},loadAnimationPixels:function(t){if(null!=t){this.pixels=t,this.data=new Ec(t),t=0;for(var e=this.durations.length;t<e;)this.currFrame=t++,this.data.addRect(this.getSource(this.parent.tileWidth,this.parent.tileHeight))}},createAutotileAnimations:function(t,e){var i=[],s=this.durations.length,r=t.width/s/e.tilesAcross|0,a=t.height/e.tilesDown|0,o=r/2|0,l=a/2|0;tr.dummyRect.width=o,tr.dummyRect.height=l;for(var h=0,_=e.animCorners;h<_.length;){var c=_[h];++h;for(var u=new O_(r*s,a),d=function(t,e){return function(i,s){t[0](e[0],i,s)}}([n(u,u.copyPixels)],[t]),m=0,p=s;m<p;){var f=m++,g=r*e.tilesAcross*f;f*=r;var y=c.tl;tr.dummyRect.x=g+y.x*tr.dummyRect.width,tr.dummyRect.y=y.y*tr.dummyRect.height,d(tr.dummyRect,new Ye(f,0)),y=c.tr,tr.dummyRect.x=g+y.x*tr.dummyRect.width,tr.dummyRect.y=y.y*tr.dummyRect.height,d(tr.dummyRect,new Ye(f+o,0)),y=c.br,tr.dummyRect.x=g+y.x*tr.dummyRect.width,tr.dummyRect.y=y.y*tr.dummyRect.height,d(tr.dummyRect,new Ye(f+o,l)),y=c.bl,tr.dummyRect.x=g+y.x*tr.dummyRect.width,tr.dummyRect.y=y.y*tr.dummyRect.height,d(tr.dummyRect,new Ye(f,l))}i.push(u)}return i},sourceRect:function(t,e){return tr.dummyRect.x=e+t.x*tr.dummyRect.width,tr.dummyRect.y=t.y*tr.dummyRect.height,tr.dummyRect},__class__:tr};var er=function(t,e,i,s){D.call(this),this.layerID=t,this.scene=e,this.numRows=s,this.numCols=i,this.clear(),this.tilemaps=new I};r["com.stencyl.models.scene.TileLayer"]=er,er.__name__="com.stencyl.models.scene.TileLayer",er.__interfaces__=[pi],er.resetStatics=function(){er.cacheSource=new fr},er.__super__=D,er.prototype=i(D.prototype,{layerID:null,rows:null,autotileData:null,grid:null,scene:null,numRows:null,numCols:null,tilemaps:null,noTiles:null,clear:function(){if(null!=this.tilemaps)for(var t=this.tilemaps.iterator();t.hasNext();)t.next().removeTiles();this.noTiles=!0,this.rows=[],this.autotileData=[],t=0;for(var e=this.numRows;t<e;){var i=t++;this.rows[i]=[],this.autotileData[i]=[];for(var s=0,n=this.numCols;s<n;){var r=s++;this.rows[i][r]=null,this.autotileData[i][r]=0}}},setPosition:function(t,e){},mountGrid:function(){if(null!=this.grid){var t=new un(Ge.engine,1e8,1,0,0,-1,this.grid.get_width(),this.grid.get_height(),null,new pr,null,null,!1,!0,!1,!1,this.grid,Ge.NO_PHYSICS);t.set_name("Terrain"),t.typeID=-1,t.set_visible(!1),t.ignoreGravity=!0,Ge.engine.getGroup(1).addChild(t)}},setTileAt:function(t,e,i,s){if(null==s&&(s=!0),!(0>e||0>t||e>=this.numCols||t>=this.numRows)){this.noTiles&&null!=i&&(this.noTiles=!1);var n=this.rows[t][e];s&&(s=null!=n&&null!=n.autotiles||null!=i&&null!=i.autotiles),this.rows[t][e]=i,this.autotileData[t][e]=0,s&&this.updateAutotilesNear(t,e)}},getTileAt:function(t,e){return 0>e||0>t||e>=this.numCols||t>=this.numRows?null:this.rows[t][e]},updateAutotilesNear:function(t,e){var i=t-1;for(t+=2;i<t;)for(var s=i++,n=e-1,r=e+2;n<r;){var a=n++;0>a||0>s||a>=this.numCols||s>=this.numRows||this.updateAutotile(s,a)}},updateAutotile:function(t,e){var i=this.rows[t][e];if(null!=i&&null!=i.autotiles){for(var s=0,n=er.autotileFlagPointMap.keys();n.hasNext();){var r=n.next(),a=er.autotileFlagPointMap.h[r],o=e+a.x|0;a=t+a.y|0,0>o||0>a||o>=this.numCols||a>=this.numRows||this.rows[a][o]==i||(s|=r)}this.autotileData[t][e]=i.autotileFormat.animIndex[s]}},draw:function(t,e){if(!this.noTiles){for(var i=this.tilemaps.iterator();i.hasNext();)i.next().removeTiles();t=Math.floor(t),e=Math.floor(e);var s=this.numRows;i=this.scene.tileWidth;var n=this.scene.tileHeight;t=t/Ge.SCALE/i|0;var r=e/Ge.SCALE/n|0;e=2+t+(Ge.screenWidth/i|0);var a=2+r+(Ge.screenHeight/n|0);for(e=0|Math.min(e,this.numCols),a=0|Math.min(a,s),s=r;s<a;){for(r=t;r<e;){var o=this.getTileAt(s,r);if(null!=o&&o.parent.graphicsLoaded){if(null==er.cacheSource.h[1e6*o.parent.ID+o.tileID]||o.updateSource)if(o.updateSource=!1,null==o.pixels&&null==o.autotiles){var l=er.cacheSource,h=1e6*o.parent.ID+o.tileID,_=o.parent.getImageSourceForTile(o.tileID,i,n);l.h[h]=_}else l=er.cacheSource,h=1e6*o.parent.ID+o.tileID,_=o.getSource(i,n),l.h[h]=_;null!=er.cacheSource.h[1e6*o.parent.ID+o.tileID]&&(null!=o.autotiles&&(o=o.autotiles[this.autotileData[s][r]]),null==o.data?(l=o.parent.sheetMap.h[o.tileID],this.getTilemap(o.parent.flTileset).addTile(new Pc(l,r*i*Ge.SCALE,s*n*Ge.SCALE))):(l=o.currFrame,this.getTilemap(o.data).addTile(new Pc(l,r*i*Ge.SCALE,s*n*Ge.SCALE))))}++r}++s}}},updateScale:function(){for(var t=this.tilemaps.iterator();t.hasNext();){var e=t.next();e.set_width(Ge.sceneWidth*Ge.SCALE),e.set_height(Ge.sceneHeight*Ge.SCALE)}},getTilemap:function(t){if(null==this.tilemaps.h.__keys__[t.__id__]){var e=new Ic(Ge.sceneWidth*Ge.SCALE|0,Ge.sceneHeight*Ge.SCALE|0,t,Ne.antialias);this.tilemaps.set(t,e),this.addChild(e)}return this.tilemaps.h[t.__id__]},__class__:er});var ir=function(t,e,i,s,n,r,a,o,l){fn.call(this,t,i,e),this.framesAcross=s,this.framesDown=n,this.tileWidth=r,this.tileHeight=a,this.readableImages=o,this.tiles=l};r["com.stencyl.models.scene.Tileset"]=ir,ir.__name__="com.stencyl.models.scene.Tileset",ir.__super__=fn,ir.prototype=i(fn.prototype,{framesAcross:null,framesDown:null,tileWidth:null,tileHeight:null,tiles:null,readableImages:null,pixels:null,graphicsLoaded:null,flTileset:null,sheetMap:null,setupFLTileset:function(){if(this.sheetMap=new fr,null!=this.pixels){this.flTileset=new Ec(this.convertPixels(this.pixels));for(var t=0,e=this.tiles;t<e.length;){var i=e[t];if(++t,null!=i){var s=this.getImageSourceForTile(i.tileID,0|this.tileWidth,0|this.tileHeight),n=this.sheetMap;i=i.tileID,s=this.flTileset.addRect(s),n.h[i]=s}}}},getImageSourceForTile:function(t,e,i){var s=this.tiles[t];return null==s?(ir.temp.x=0,ir.temp.y=0):(t=Math.floor(s.frameIndex/this.framesAcross),s=Math.floor(s.frameIndex%this.framesAcross),ir.temp.x=s*e*Ge.SCALE+2*s+1,ir.temp.y=t*i*Ge.SCALE+2*t+1),ir.temp.width=e*Ge.SCALE,ir.temp.height=i*Ge.SCALE,ir.temp.clone()},loadGraphics:function(){if(!this.graphicsLoaded){this.pixels=km.getBitmapData("assets/graphics/"+Ge.IMG_BASE+"/tileset-"+this.ID+".png",!1);for(var t=0,e=this.tiles;t<e.length;){var i=e[t];++t,null!=i&&i.loadGraphics()}this.setupFLTileset(),Ne.disposeImages&&!this.readableImages&&this.pixels.dispose(),this.graphicsLoaded=!0}},unloadGraphics:function(){if(this.graphicsLoaded){this.pixels.readable&&this.pixels.dispose(),this.flTileset=this.pixels=null;for(var t=0,e=this.tiles;t<e.length;){var i=e[t];++t,null!=i&&i.unloadGraphics()}this.graphicsLoaded=!1}},reloadGraphics:function(t){if(-1==t){this.unloadGraphics(),this.loadGraphics(),t=0;for(var e=this.tiles;t<e.length;){var i=e[t];++t,null!=i&&(i.updateSource=!0)}}else null!=(t=this.tiles[t])&&(t.unloadGraphics(),t.loadGraphics());Ge.engine.tileUpdated=!0},convertPixels:function(t){for(var e,i,s,n,r=this.tileWidth*Ge.SCALE|0,a=this.tileHeight*Ge.SCALE|0,o=t.width/r|0,l=t.height/a|0,h=new O_(t.width+2*o|0,t.height+2*l|0,!0,0),_=0;_<l;){for(e=0;e<o;)i=e*r+2*e+1|0,s=_*a+2*_+1|0,n=new je(e*r,_*a,r,a),i=new Ye(i,s),h.copyPixels(t,n,i),++e;++_}for(_=0;_<l;){for(e=0;e<o;){for(i=e*r+2*e+1|0,s=_*a+2*_+1|0,t=0;t<r;)n=h.getPixel32(i+t,s),h.setPixel32(i+t,s-1,n),n=h.getPixel32(i+t,s+a-1),h.setPixel32(i+t,s+a,n),++t;for(t=0;t<a;)n=h.getPixel32(i,s+t),h.setPixel32(i-1,s+t,n),n=h.getPixel32(i+r-1,s+t),h.setPixel32(i+r,s+t,n),++t;++e}++_}return h},__class__:ir});var sr=function(t,e,i,s,n,r){this.x=t,this.y=e,this.width=i,this.height=s,this.shape=n,this.shape2=r};r["com.stencyl.models.scene.Wireframe"]=sr,sr.__name__="com.stencyl.models.scene.Wireframe",sr.prototype={x:null,y:null,shape:null,shape2:null,width:null,height:null,__class__:sr};var nr=function(t,e,i,s,n,r,a,o,l){Jn.call(this,t,e,i,s,n,r,a),this.resourceID=o,this.customScroll=l,this.model=vo.__cast(Oe.get().resources.get(o),Ln)};r["com.stencyl.models.scene.layers.BackgroundLayer"]=nr,nr.__name__="com.stencyl.models.scene.layers.BackgroundLayer",nr.__super__=Jn,nr.prototype=i(Jn.prototype,{model:null,bitmap:null,resourceID:null,customScroll:null,isAnimated:null,frameCount:null,currIndex:null,currTime:null,cacheIndex:null,cacheWidth:null,cacheHeight:null,bgChild:null,load:function(){if(null!=this.model&&null!=this.model.img){this.bitmap=new di(this.model.img,1,!0),this.bitmap.smoothing=Ne.antialias,this.currTime=this.currIndex=0,this.isAnimated=1<this.model.frames.length,this.frameCount=this.model.frames.length,this.model.repeats&&!this.model.repeated&&this.model.drawRepeated(this,Ge.screenWidth*Ge.SCALE|0,Ge.screenHeight*Ge.SCALE|0);var t=0,e=0;if(this.customScroll)t=this.scrollFactorX,e=this.scrollFactorY;else if(this.model.repeats)t=this.model.parallaxX,e=this.model.parallaxY;else{var i=this.model.img.width,s=this.model.img.height,n=Ge.screenWidth*Ge.SCALE|0,r=Ge.screenHeight*Ge.SCALE|0,a=Ge.sceneWidth*Ge.SCALE|0,o=Ge.sceneHeight*Ge.SCALE|0;i>n&&i<a&&(t=1-(a-i)/(a-n)),s>r&&s<o&&(e=1-(o-s)/(o-r))}this.model instanceof Nn?(i=vo.__cast(this.model,Nn),t=new qn(this.model.img,i.xVelocity,i.yVelocity,t,e,this.resourceID,this.model.repeats),this.addChild(this.bgChild=t)):this.model.repeats?(t=new qn(this.model.img,0,0,t,e,this.resourceID),this.addChild(this.bgChild=t)):(this.cacheWidth=this.model.img.width,this.cacheHeight=this.model.img.height,this.scrollFactorX=t,this.scrollFactorY=e,this.addChild(this.bgChild=this.bitmap))}},loadFromImg:function(t,e){this.model=new Nn(-1,-1,"",[100],0,0,e,0,0),this.model.img=t,this.model.frames=[t],this.load()},setScrollFactor:function(t,e){if(this.scrollFactorX=t,this.scrollFactorY=e,this.bgChild instanceof qn){var i=vo.__cast(this.bgChild,qn);i.parallaxX=t,i.parallaxY=e,i.parallax=0!=t||0!=e}},setScrollSpeed:function(t,e){if(this.bgChild instanceof qn){var i=vo.__cast(this.bgChild,qn);i.xVelocity=t,i.yVelocity=e,i.scrolling=0!=t||0!=e}},reload:function(t){null!=this.bgChild&&(this.removeChild(this.bgChild),this.bgChild=null),this.resourceID=t,this.model=vo.__cast(Oe.get().resources.get(this.resourceID),Ln),this.load()},setImage:function(t){this.bitmap.set_bitmapData(t),this.currTime=this.currIndex=0,this.isAnimated=1<this.model.frames.length,this.frameCount=this.model.frames.length},updateAnimation:function(t){this.currTime+=t,null!=this.model&&this.currTime>=this.model.durations[this.currIndex]&&(this.currTime=0,this.currIndex++,this.currIndex>=this.frameCount&&(this.currIndex=0),this.bgChild instanceof qn?(this.cacheIndex=this.currIndex,this.model.repeats&&this.model.drawRepeated(this,Ge.screenWidth*Ge.SCALE|0,Ge.screenHeight*Ge.SCALE|0),this.currIndex=this.cacheIndex,(t=this.bgChild.image1).set_bitmapData(this.model.frames[this.currIndex]),this.model.repeats&&((t=this.bgChild.image2).set_bitmapData(this.model.frames[this.currIndex]),(t=this.bgChild.image3).set_bitmapData(this.model.frames[this.currIndex]),(t=this.bgChild.image4).set_bitmapData(this.model.frames[this.currIndex]),(t=this.bgChild.image5).set_bitmapData(this.model.frames[this.currIndex]),(t=this.bgChild.image6).set_bitmapData(this.model.frames[this.currIndex]),(t=this.bgChild.image7).set_bitmapData(this.model.frames[this.currIndex]),(t=this.bgChild.image8).set_bitmapData(this.model.frames[this.currIndex]),(t=this.bgChild.image9).set_bitmapData(this.model.frames[this.currIndex]))):this.bitmap.set_bitmapData(this.model.frames[this.currIndex]))},updatePosition:function(t,e,i){this.bgChild instanceof qn?vo.__cast(this.bgChild,qn).update(t,e,i):(this.set_x(-(t*this.scrollFactorX|0)),this.set_y(-(e*this.scrollFactorY|0))),this.isAnimated&&this.updateAnimation(i)},getBitmap:function(){return this.bgChild},__class__:nr});var rr=function(t,e,i,s){null==s&&(s=0),null==i&&(i=0),null==e&&(e=0),null==t&&(t=0),this.a=t,this.r=e,this.g=i,this.b=s};r["com.stencyl.utils.ARGB"]=rr,rr.__name__="com.stencyl.utils.ARGB",rr.setARGBi=function(t,e,i,s){return(255&t)<<24|(255&e)<<16|(255&i)<<8|255&s},rr.setARGBf=function(t,e,i,s){return(255&(0<(t=255*(0>t?0:1<t?1:t))?t+.5:0>t?t-.5:0))<<24|(255&(0<(e=255*(0>e?0:1<e?1:e))?e+.5:0>e?e-.5:0))<<16|(255&(0<(i=255*(0>i?0:1<i?1:i))?i+.5:0>i?i-.5:0))<<8|255&(0<(s=255*(0>s?0:1<s?1:s))?s+.5:0>s?s-.5:0)},rr.toARGB=function(t){return new rr(.00392156862745098*(t>>>24),.00392156862745098*(t>>>16&255),.00392156862745098*(t>>>8&255),.00392156862745098*(255&t))},rr.getRGB=function(t){return 16777215&t},rr.setRGB=function(t,e,i,s){return e<<16|i<<8|s|-16777216&t},rr.getA=function(t){return t>>>24},rr.getAf=function(t){return.00392156862745098*(t>>>24)},rr.getR=function(t){return t>>>16&255},rr.getRf=function(t){return.00392156862745098*(t>>>16&255)},rr.getG=function(t){return t>>>8&255},rr.getGf=function(t){return.00392156862745098*(t>>>8&255)},rr.getB=function(t){return 255&t},rr.getBf=function(t){return.00392156862745098*(255&t)},rr.setA=function(t,e){return e<<24|16777215&t},rr.setAf=function(t,e){return(0<(e=255*(0>e?0:1<e?1:e))?e+.5:0>e?e-.5:0)<<24|16777215&t},rr.setR=function(t,e){return(255&e)<<16|-16711681&t},rr.setRf=function(t,e){return(255&(0<(e=255*(0>e?0:1<e?1:e))?e+.5:0>e?e-.5:0))<<16|-16711681&t},rr.setG=function(t,e){return e<<8|-65281&t},rr.setGf=function(t,e){return(0<(e=255*(0>e?0:1<e?1:e))?e+.5:0>e?e-.5:0)<<8|-65281&t},rr.setB=function(t,e){return e|-256&t},rr.setBf=function(t,e){return(0<(e=255*(0>e?0:1<e?1:e))?e+.5:0>e?e-.5:0)|-256&t},rr.prototype={a:null,r:null,g:null,b:null,set:function(t,e,i,s){this.a=t,this.r=e,this.g=i,this.b=s},lerp:function(t,e,i){i.a=this.a+(t.a-this.a)*e,i.r=this.r+(t.r-this.r)*e,i.g=this.g+(t.g-this.g)*e,i.b=this.b+(t.b-this.b)*e},getA8:function(){var t=255*this.a;return 0|(0<t?t+.5:0>t?t-.5:0)},getR8:function(){var t=255*this.r;return 0|(0<t?t+.5:0>t?t-.5:0)},getG8:function(){var t=255*this.g;return 0|(0<t?t+.5:0>t?t-.5:0)},getB8:function(){var t=255*this.b;return 0|(0<t?t+.5:0>t?t-.5:0)},get24:function(){var t=255*this.r,e=255*this.g,i=255*this.b;return(0<t?t+.5:0>t?t-.5:0)<<16|(0<e?e+.5:0>e?e-.5:0)<<8|(0<i?i+.5:0>i?i-.5:0)},set24:function(t,e,i){this.a=this.a,this.r=.00392156862745098*(255&t),this.g=.00392156862745098*(255&e),this.b=.00392156862745098*(255&i)},get32:function(){var t=255*this.a,e=255*this.r,i=255*this.g,s=255*this.b;return(0<t?t+.5:0>t?t-.5:0)<<24|(0<e?e+.5:0>e?e-.5:0)<<16|(0<i?i+.5:0>i?i-.5:0)<<8|(0<s?s+.5:0>s?s-.5:0)},set32:function(t,e,i,s){this.a=.00392156862745098*(255&t),this.r=.00392156862745098*(255&e),this.g=.00392156862745098*(255&i),this.b=.00392156862745098*(255&s)},copy:function(t){return t.a=this.a,t.r=this.r,t.g=this.g,t.b=this.b,t},__class__:rr};var ar=o["com.stencyl.utils.ColorDeficiencyTypes"]={__ename__:"com.stencyl.utils.ColorDeficiencyTypes",__constructs__:null,Protanopia:{_hx_name:"Protanopia",_hx_index:0,__enum__:"com.stencyl.utils.ColorDeficiencyTypes",toString:a},Protanomaly:{_hx_name:"Protanomaly",_hx_index:1,__enum__:"com.stencyl.utils.ColorDeficiencyTypes",toString:a},Deuteranopia:{_hx_name:"Deuteranopia",_hx_index:2,__enum__:"com.stencyl.utils.ColorDeficiencyTypes",toString:a},Deuteranomaly:{_hx_name:"Deuteranomaly",_hx_index:3,__enum__:"com.stencyl.utils.ColorDeficiencyTypes",toString:a},Tritanopia:{_hx_name:"Tritanopia",_hx_index:4,__enum__:"com.stencyl.utils.ColorDeficiencyTypes",toString:a},Tritanomaly:{_hx_name:"Tritanomaly",_hx_index:5,__enum__:"com.stencyl.utils.ColorDeficiencyTypes",toString:a},Achromatopsia:{_hx_name:"Achromatopsia",_hx_index:6,__enum__:"com.stencyl.utils.ColorDeficiencyTypes",toString:a},Achromatomaly:{_hx_name:"Achromatomaly",_hx_index:7,__enum__:"com.stencyl.utils.ColorDeficiencyTypes",toString:a}};ar.__constructs__=[ar.Protanopia,ar.Protanomaly,ar.Deuteranopia,ar.Deuteranomaly,ar.Tritanopia,ar.Tritanomaly,ar.Achromatopsia,ar.Achromatomaly];var or=function(){this.identity(),this.matrix=[]};r["com.stencyl.utils.ColorMatrix"]=or,or.__name__="com.stencyl.utils.ColorMatrix",or.mulMatrixMatrix=function(t,e,i){var s=t.m11,n=t.m12,r=t.m13,a=t.m14;return i.m11=t.m11*e.m11+t.m12*e.m21+t.m13*e.m31+t.m14*e.m41,i.m12=s*e.m12+t.m12*e.m22+t.m13*e.m32+t.m14*e.m42,i.m13=s*e.m13+n*e.m23+t.m13*e.m33+t.m14*e.m43,i.m14=s*e.m14+n*e.m24+r*e.m34+t.m14*e.m44,i.m15=s*e.m15+n*e.m25+r*e.m35+a*e.m45,s=t.m21,n=t.m22,r=t.m23,a=t.m24,i.m21=t.m21*e.m11+t.m22*e.m21+t.m23*e.m31+t.m24*e.m41,i.m22=s*e.m12+t.m22*e.m22+t.m23*e.m32+t.m24*e.m42,i.m23=s*e.m13+n*e.m23+t.m23*e.m33+t.m24*e.m43,i.m24=s*e.m14+n*e.m24+r*e.m34+t.m24*e.m44,i.m25=s*e.m15+n*e.m25+r*e.m35+a*e.m45,s=t.m31,n=t.m32,r=t.m33,a=t.m34,i.m31=t.m31*e.m11+t.m32*e.m21+t.m33*e.m31+t.m34*e.m41,i.m32=s*e.m12+t.m32*e.m22+t.m33*e.m32+t.m34*e.m42,i.m33=s*e.m13+n*e.m23+t.m33*e.m33+t.m34*e.m43,i.m34=s*e.m14+n*e.m24+r*e.m34+t.m34*e.m44,i.m35=s*e.m15+n*e.m25+r*e.m35+a*e.m45,s=t.m41,n=t.m42,r=t.m43,a=t.m44,i.m41=t.m41*e.m11+t.m42*e.m21+t.m43*e.m31+t.m44*e.m41,i.m42=s*e.m12+t.m42*e.m22+t.m43*e.m32+t.m44*e.m42,i.m43=s*e.m13+n*e.m23+t.m43*e.m33+t.m44*e.m43,i.m44=s*e.m14+n*e.m24+r*e.m34+t.m44*e.m44,i.m45=s*e.m15+n*e.m25+r*e.m35+a*e.m45,i},or.blendMatrixMatrix=function(t,e,i,s){var n=1-s;return i.m11=n*t.m11+s*e.m11,i.m12=n*t.m12+s*e.m12,i.m13=n*t.m13+s*e.m13,i.m14=n*t.m14+s*e.m14,i.m15=n*t.m15+s*e.m15,i.m21=n*t.m21+s*e.m21,i.m22=n*t.m22+s*e.m22,i.m23=n*t.m23+s*e.m23,i.m24=n*t.m24+s*e.m24,i.m25=n*t.m25+s*e.m25,i.m31=n*t.m31+s*e.m31,i.m32=n*t.m32+s*e.m32,i.m33=n*t.m33+s*e.m33,i.m34=n*t.m34+s*e.m34,i.m35=n*t.m35+s*e.m35,i.m41=n*t.m41+s*e.m41,i.m42=n*t.m42+s*e.m42,i.m43=n*t.m43+s*e.m43,i.m44=n*t.m44+s*e.m44,i.m45=n*t.m45+s*e.m45,i},or.prototype={m11:null,m12:null,m13:null,m14:null,m15:null,m21:null,m22:null,m23:null,m24:null,m25:null,m31:null,m32:null,m33:null,m34:null,m35:null,m41:null,m42:null,m43:null,m44:null,m45:null,matrix:null,preHue:null,postHue:null,hueInitialized:null,getFilter:function(){var t=this.matrix;return t[0]=this.m11,t[1]=this.m12,t[2]=this.m13,t[3]=this.m14,t[4]=this.m15,t[5]=this.m21,t[6]=this.m22,t[7]=this.m23,t[8]=this.m24,t[9]=this.m25,t[10]=this.m31,t[11]=this.m32,t[12]=this.m33,t[13]=this.m34,t[14]=this.m35,t[15]=this.m41,t[16]=this.m42,t[17]=this.m43,t[18]=this.m44,t[19]=this.m45,new Ed(this.matrix)},identity:function(){return this.m11=1,this.m21=this.m15=this.m14=this.m13=this.m12=0,this.m22=1,this.m32=this.m31=this.m25=this.m24=this.m23=0,this.m33=1,this.m43=this.m42=this.m41=this.m35=this.m34=0,this.m44=1,this.m45=0,this},invert:function(){var t=this.m11,e=this.m12,i=this.m13,s=this.m14;return this.m11=-1*this.m11+0*this.m12+0*this.m13+0*this.m14,this.m12=0*t+-1*this.m12+0*this.m13+0*this.m14,this.m13=0*t+0*e+-1*this.m13+0*this.m14,this.m14=0*t+0*e+0*i+this.m14,this.m15=255*t+255*e+255*i+0*s,t=this.m21,e=this.m22,i=this.m23,s=this.m24,this.m21=-1*this.m21+0*this.m22+0*this.m23+0*this.m24,this.m22=0*t+-1*this.m22+0*this.m23+0*this.m24,this.m23=0*t+0*e+-1*this.m23+0*this.m24,this.m24=0*t+0*e+0*i+this.m24,this.m25=255*t+255*e+255*i+0*s,t=this.m31,e=this.m32,i=this.m33,s=this.m34,this.m31=-1*this.m31+0*this.m32+0*this.m33+0*this.m34,this.m32=0*t+-1*this.m32+0*this.m33+0*this.m34,this.m33=0*t+0*e+-1*this.m33+0*this.m34,this.m34=0*t+0*e+0*i+this.m34,this.m35=255*t+255*e+255*i+0*s,t=this.m41,e=this.m42,i=this.m43,s=this.m44,this.m41=-1*this.m41+0*this.m42+0*this.m43+0*this.m44,this.m42=0*t+-1*this.m42+0*this.m43+0*this.m44,this.m43=0*t+0*e+-1*this.m43+0*this.m44,this.m44=0*t+0*e+0*i+this.m44,this.m45=255*t+255*e+255*i+0*s,this},adjustSaturation:function(t){var e=1-t,i=e*or.LUMA_R,s=e*or.LUMA_G,n=i+t,r=s+t;t=(e*=or.LUMA_B)+t;var a=this.m11,o=this.m12,l=this.m13,h=this.m14;return this.m11=this.m11*n+this.m12*i+this.m13*i+0*this.m14,this.m12=a*s+this.m12*r+this.m13*s+0*this.m14,this.m13=a*e+o*e+this.m13*t+0*this.m14,this.m14=0*a+0*o+0*l+this.m14,this.m15=0*a+0*o+0*l+0*h,a=this.m21,o=this.m22,l=this.m23,h=this.m24,this.m21=this.m21*n+this.m22*i+this.m23*i+0*this.m24,this.m22=a*s+this.m22*r+this.m23*s+0*this.m24,this.m23=a*e+o*e+this.m23*t+0*this.m24,this.m24=0*a+0*o+0*l+this.m24,this.m25=0*a+0*o+0*l+0*h,a=this.m31,o=this.m32,l=this.m33,h=this.m34,this.m31=this.m31*n+this.m32*i+this.m33*i+0*this.m34,this.m32=a*s+this.m32*r+this.m33*s+0*this.m34,this.m33=a*e+o*e+this.m33*t+0*this.m34,this.m34=0*a+0*o+0*l+this.m34,this.m35=0*a+0*o+0*l+0*h,a=this.m41,o=this.m42,l=this.m43,h=this.m44,this.m41=this.m41*n+this.m42*i+this.m43*i+0*this.m44,this.m42=a*s+this.m42*r+this.m43*s+0*this.m44,this.m43=a*e+o*e+this.m43*t+0*this.m44,this.m44=0*a+0*o+0*l+this.m44,this.m45=0*a+0*o+0*l+0*h,this},adjustBrightness:function(t){return this.adjustBrightnessRGB(t,t,t),this},adjustBrightnessRGB:function(t,e,i){t*=255,e*=255,i*=255;var s=this.m11,n=this.m12,r=this.m13,a=this.m14;return this.m11=this.m11+0*this.m12+0*this.m13+0*this.m14,this.m12=0*s+this.m12+0*this.m13+0*this.m14,this.m13=0*s+0*n+this.m13+0*this.m14,this.m14=0*s+0*n+0*r+this.m14,this.m15=s*t+n*e+r*i+0*a,s=this.m21,n=this.m22,r=this.m23,a=this.m24,this.m21=this.m21+0*this.m22+0*this.m23+0*this.m24,this.m22=0*s+this.m22+0*this.m23+0*this.m24,this.m23=0*s+0*n+this.m23+0*this.m24,this.m24=0*s+0*n+0*r+this.m24,this.m25=s*t+n*e+r*i+0*a,s=this.m31,n=this.m32,r=this.m33,a=this.m34,this.m31=this.m31+0*this.m32+0*this.m33+0*this.m34,this.m32=0*s+this.m32+0*this.m33+0*this.m34,this.m33=0*s+0*n+this.m33+0*this.m34,this.m34=0*s+0*n+0*r+this.m34,this.m35=s*t+n*e+r*i+0*a,s=this.m41,n=this.m42,r=this.m43,a=this.m44,this.m41=this.m41+0*this.m42+0*this.m43+0*this.m44,this.m42=0*s+this.m42+0*this.m43+0*this.m44,this.m43=0*s+0*n+this.m43+0*this.m44,this.m44=0*s+0*n+0*r+this.m44,this.m45=s*t+n*e+r*i+0*a,this},adjustContrast:function(t){return this.adjustContrastRGB(t,t,t),this},adjustContrastRGB:function(t,e,i){var s=128*(1-(t+=1)),n=128*(1-(e+=1)),r=128*(1-(i+=1)),a=this.m11,o=this.m12,l=this.m13,h=this.m14;return this.m11=this.m11*t+0*this.m12+0*this.m13+0*this.m14,this.m12=0*a+this.m12*e+0*this.m13+0*this.m14,this.m13=0*a+0*o+this.m13*i+0*this.m14,this.m14=0*a+0*o+0*l+this.m14,this.m15=a*s+o*n+l*r+0*h,a=this.m21,o=this.m22,l=this.m23,h=this.m24,this.m21=this.m21*t+0*this.m22+0*this.m23+0*this.m24,this.m22=0*a+this.m22*e+0*this.m23+0*this.m24,this.m23=0*a+0*o+this.m23*i+0*this.m24,this.m24=0*a+0*o+0*l+this.m24,this.m25=a*s+o*n+l*r+0*h,a=this.m31,o=this.m32,l=this.m33,h=this.m34,this.m31=this.m31*t+0*this.m32+0*this.m33+0*this.m34,this.m32=0*a+this.m32*e+0*this.m33+0*this.m34,this.m33=0*a+0*o+this.m33*i+0*this.m34,this.m34=0*a+0*o+0*l+this.m34,this.m35=a*s+o*n+l*r+0*h,a=this.m41,o=this.m42,l=this.m43,h=this.m44,this.m41=this.m41*t+0*this.m42+0*this.m43+0*this.m44,this.m42=0*a+this.m42*e+0*this.m43+0*this.m44,this.m43=0*a+0*o+this.m43*i+0*this.m44,this.m44=0*a+0*o+0*l+this.m44,this.m45=a*s+o*n+l*r+0*h,this},adjustHue:function(t){t*=.01745329251994278;var e=Math.cos(t),i=Math.sin(t);t=or.LUMA_R+e*(1-or.LUMA_R)+i*-or.LUMA_R;var s=or.LUMA_G+e*-or.LUMA_G+i*-or.LUMA_G,n=or.LUMA_B+e*-or.LUMA_B+i*(1-or.LUMA_B),r=or.LUMA_R+e*-or.LUMA_R+.143*i,a=or.LUMA_G+e*(1-or.LUMA_G)+.14*i,o=or.LUMA_B+e*-or.LUMA_B+-.283*i,l=or.LUMA_R+e*-or.LUMA_R+i*-(1-or.LUMA_R),h=or.LUMA_G+e*-or.LUMA_G+i*or.LUMA_G;e=or.LUMA_B+e*(1-or.LUMA_B)+i*or.LUMA_B,i=this.m11;var _=this.m12,c=this.m13,u=this.m14;return this.m11=this.m11*t+this.m12*r+this.m13*l+0*this.m14,this.m12=i*s+this.m12*a+this.m13*h+0*this.m14,this.m13=i*n+_*o+this.m13*e+0*this.m14,this.m14=0*i+0*_+0*c+this.m14,this.m15=0*i+0*_+0*c+0*u,i=this.m21,_=this.m22,c=this.m23,u=this.m24,this.m21=this.m21*t+this.m22*r+this.m23*l+0*this.m24,this.m22=i*s+this.m22*a+this.m23*h+0*this.m24,this.m23=i*n+_*o+this.m23*e+0*this.m24,this.m24=0*i+0*_+0*c+this.m24,this.m25=0*i+0*_+0*c+0*u,i=this.m31,_=this.m32,c=this.m33,u=this.m34,this.m31=this.m31*t+this.m32*r+this.m33*l+0*this.m34,this.m32=i*s+this.m32*a+this.m33*h+0*this.m34,this.m33=i*n+_*o+this.m33*e+0*this.m34,this.m34=0*i+0*_+0*c+this.m34,this.m35=0*i+0*_+0*c+0*u,i=this.m41,_=this.m42,c=this.m43,u=this.m44,this.m41=this.m41*t+this.m42*r+this.m43*l+0*this.m44,this.m42=i*s+this.m42*a+this.m43*h+0*this.m44,this.m43=i*n+_*o+this.m43*e+0*this.m44,this.m44=0*i+0*_+0*c+this.m44,this.m45=0*i+0*_+0*c+0*u,this},luminance2Alpha:function(){var t=or.LUMA_R,e=or.LUMA_G,i=or.LUMA_B,s=this.m11,n=this.m12,r=this.m13,a=this.m14;return this.m11=0*this.m11+0*this.m12+0*this.m13+this.m14*t,this.m12=0*s+0*this.m12+0*this.m13+this.m14*e,this.m13=0*s+0*n+0*this.m13+this.m14*i,this.m14=0*s+0*n+0*r+0*this.m14,this.m15=255*s+255*n+255*r+0*a,s=this.m21,n=this.m22,r=this.m23,a=this.m24,this.m21=0*this.m21+0*this.m22+0*this.m23+this.m24*t,this.m22=0*s+0*this.m22+0*this.m23+this.m24*e,this.m23=0*s+0*n+0*this.m23+this.m24*i,this.m24=0*s+0*n+0*r+0*this.m24,this.m25=255*s+255*n+255*r+0*a,s=this.m31,n=this.m32,r=this.m33,a=this.m34,this.m31=0*this.m31+0*this.m32+0*this.m33+this.m34*t,this.m32=0*s+0*this.m32+0*this.m33+this.m34*e,this.m33=0*s+0*n+0*this.m33+this.m34*i,this.m34=0*s+0*n+0*r+0*this.m34,this.m35=255*s+255*n+255*r+0*a,s=this.m41,n=this.m42,r=this.m43,a=this.m44,this.m41=0*this.m41+0*this.m42+0*this.m43+this.m44*t,this.m42=0*s+0*this.m42+0*this.m43+this.m44*e,this.m43=0*s+0*n+0*this.m43+this.m44*i,this.m44=0*s+0*n+0*r+0*this.m44,this.m45=255*s+255*n+255*r+0*a,this},adjustAlphaContrast:function(t){var e=128*(1-(t+=1)),i=this.m11,s=this.m12,n=this.m13,r=this.m14;return this.m11=this.m11+0*this.m12+0*this.m13+0*this.m14,this.m12=0*i+this.m12+0*this.m13+0*this.m14,this.m13=0*i+0*s+this.m13+0*this.m14,this.m14=0*i+0*s+0*n+this.m14*t,this.m15=0*i+0*s+0*n+r*e,i=this.m21,s=this.m22,n=this.m23,r=this.m24,this.m21=this.m21+0*this.m22+0*this.m23+0*this.m24,this.m22=0*i+this.m22+0*this.m23+0*this.m24,this.m23=0*i+0*s+this.m23+0*this.m24,this.m24=0*i+0*s+0*n+this.m24*t,this.m25=0*i+0*s+0*n+r*e,i=this.m31,s=this.m32,n=this.m33,r=this.m34,this.m31=this.m31+0*this.m32+0*this.m33+0*this.m34,this.m32=0*i+this.m32+0*this.m33+0*this.m34,this.m33=0*i+0*s+this.m33+0*this.m34,this.m34=0*i+0*s+0*n+this.m34*t,this.m35=0*i+0*s+0*n+r*e,i=this.m41,s=this.m42,n=this.m43,r=this.m44,this.m41=this.m41+0*this.m42+0*this.m43+0*this.m44,this.m42=0*i+this.m42+0*this.m43+0*this.m44,this.m43=0*i+0*s+this.m43+0*this.m44,this.m44=0*i+0*s+0*n+this.m44*t,this.m45=0*i+0*s+0*n+r*e,this},colorize:function(t,e){null==e&&(e=1);var i=.00392156862745098*(t>>>16&255),s=.00392156862745098*(t>>>8&255),n=.00392156862745098*(255&t),r=1-e;t=r+e*i*or.LUMA_R;var a=e*i*or.LUMA_G;i=e*i*or.LUMA_B;var o=e*s*or.LUMA_R,l=r+e*s*or.LUMA_G;s=e*s*or.LUMA_B;var h=e*n*or.LUMA_R,_=e*n*or.LUMA_G;e=r+e*n*or.LUMA_B,n=this.m11,r=this.m12;var c=this.m13,u=this.m14;return this.m11=this.m11*t+this.m12*o+this.m13*h+0*this.m14,this.m12=n*a+this.m12*l+this.m13*_+0*this.m14,this.m13=n*i+r*s+this.m13*e+0*this.m14,this.m14=0*n+0*r+0*c+this.m14,this.m15=0*n+0*r+0*c+0*u,n=this.m21,r=this.m22,c=this.m23,u=this.m24,this.m21=this.m21*t+this.m22*o+this.m23*h+0*this.m24,this.m22=n*a+this.m22*l+this.m23*_+0*this.m24,this.m23=n*i+r*s+this.m23*e+0*this.m24,this.m24=0*n+0*r+0*c+this.m24,this.m25=0*n+0*r+0*c+0*u,n=this.m31,r=this.m32,c=this.m33,u=this.m34,this.m31=this.m31*t+this.m32*o+this.m33*h+0*this.m34,this.m32=n*a+this.m32*l+this.m33*_+0*this.m34,this.m33=n*i+r*s+this.m33*e+0*this.m34,this.m34=0*n+0*r+0*c+this.m34,this.m35=0*n+0*r+0*c+0*u,n=this.m41,r=this.m42,c=this.m43,u=this.m44,this.m41=this.m41*t+this.m42*o+this.m43*h+0*this.m44,this.m42=n*a+this.m42*l+this.m43*_+0*this.m44,this.m43=n*i+r*s+this.m43*e+0*this.m44,this.m44=0*n+0*r+0*c+this.m44,this.m45=0*n+0*r+0*c+0*u,this},rotateHue:function(t){if(!this.hueInitialized){this.hueInitialized=!0,this.preHue=new or,this.preHue.rotateRed(45),this.preHue.rotateGreen(-39.182655);var e=[];e[0]=or.LUMA_R2,e[1]=or.LUMA_G2,e[2]=or.LUMA_B2,e[3]=1,this.preHue.transformVector(e);var i=e[0]/e[2];e=e[1]/e[2],this.preHue.shearBlue(i,e),this.postHue=new or,this.postHue.shearBlue(-i,-e),this.postHue.rotateGreen(39.182655),this.postHue.rotateRed(-45)}i=this.preHue,e=this.m11;var s=this.m12,n=this.m13,r=this.m14;return this.m11=this.m11*i.m11+this.m12*i.m21+this.m13*i.m31+this.m14*i.m41,this.m12=e*i.m12+this.m12*i.m22+this.m13*i.m32+this.m14*i.m42,this.m13=e*i.m13+s*i.m23+this.m13*i.m33+this.m14*i.m43,this.m14=e*i.m14+s*i.m24+n*i.m34+this.m14*i.m44,this.m15=e*i.m15+s*i.m25+n*i.m35+r*i.m45,e=this.m21,s=this.m22,n=this.m23,r=this.m24,this.m21=this.m21*i.m11+this.m22*i.m21+this.m23*i.m31+this.m24*i.m41,this.m22=e*i.m12+this.m22*i.m22+this.m23*i.m32+this.m24*i.m42,this.m23=e*i.m13+s*i.m23+this.m23*i.m33+this.m24*i.m43,this.m24=e*i.m14+s*i.m24+n*i.m34+this.m24*i.m44,this.m25=e*i.m15+s*i.m25+n*i.m35+r*i.m45,e=this.m31,s=this.m32,n=this.m33,r=this.m34,this.m31=this.m31*i.m11+this.m32*i.m21+this.m33*i.m31+this.m34*i.m41,this.m32=e*i.m12+this.m32*i.m22+this.m33*i.m32+this.m34*i.m42,this.m33=e*i.m13+s*i.m23+this.m33*i.m33+this.m34*i.m43,this.m34=e*i.m14+s*i.m24+n*i.m34+this.m34*i.m44,this.m35=e*i.m15+s*i.m25+n*i.m35+r*i.m45,e=this.m41,s=this.m42,n=this.m43,r=this.m44,this.m41=this.m41*i.m11+this.m42*i.m21+this.m43*i.m31+this.m44*i.m41,this.m42=e*i.m12+this.m42*i.m22+this.m43*i.m32+this.m44*i.m42,this.m43=e*i.m13+s*i.m23+this.m43*i.m33+this.m44*i.m43,this.m44=e*i.m14+s*i.m24+n*i.m34+this.m44*i.m44,this.m45=e*i.m15+s*i.m25+n*i.m35+r*i.m45,this.rotateBlue(t),i=this.postHue,e=this.m11,s=this.m12,n=this.m13,r=this.m14,this.m11=this.m11*i.m11+this.m12*i.m21+this.m13*i.m31+this.m14*i.m41,this.m12=e*i.m12+this.m12*i.m22+this.m13*i.m32+this.m14*i.m42,this.m13=e*i.m13+s*i.m23+this.m13*i.m33+this.m14*i.m43,this.m14=e*i.m14+s*i.m24+n*i.m34+this.m14*i.m44,this.m15=e*i.m15+s*i.m25+n*i.m35+r*i.m45,e=this.m21,s=this.m22,n=this.m23,r=this.m24,this.m21=this.m21*i.m11+this.m22*i.m21+this.m23*i.m31+this.m24*i.m41,this.m22=e*i.m12+this.m22*i.m22+this.m23*i.m32+this.m24*i.m42,this.m23=e*i.m13+s*i.m23+this.m23*i.m33+this.m24*i.m43,this.m24=e*i.m14+s*i.m24+n*i.m34+this.m24*i.m44,this.m25=e*i.m15+s*i.m25+n*i.m35+r*i.m45,e=this.m31,s=this.m32,n=this.m33,r=this.m34,this.m31=this.m31*i.m11+this.m32*i.m21+this.m33*i.m31+this.m34*i.m41,this.m32=e*i.m12+this.m32*i.m22+this.m33*i.m32+this.m34*i.m42,this.m33=e*i.m13+s*i.m23+this.m33*i.m33+this.m34*i.m43,this.m34=e*i.m14+s*i.m24+n*i.m34+this.m34*i.m44,this.m35=e*i.m15+s*i.m25+n*i.m35+r*i.m45,e=this.m41,s=this.m42,n=this.m43,r=this.m44,this.m41=this.m41*i.m11+this.m42*i.m21+this.m43*i.m31+this.m44*i.m41,this.m42=e*i.m12+this.m42*i.m22+this.m43*i.m32+this.m44*i.m42,this.m43=e*i.m13+s*i.m23+this.m43*i.m33+this.m44*i.m43,this.m44=e*i.m14+s*i.m24+n*i.m34+this.m44*i.m44,this.m45=e*i.m15+s*i.m25+n*i.m35+r*i.m45,this},setChannels:function(t,e,i,s){null==s&&(s=8),null==i&&(i=4),null==e&&(e=2),null==t&&(t=1);var n=(1&~t?0:1)+(2&~t?0:1)+(4&~t?0:1)+(8&~t?0:1);0<n&&(n=1/n);var r=(1&~e?0:1)+(2&~e?0:1)+(4&~e?0:1)+(8&~e?0:1);0<r&&(r=1/r);var a=(1&~i?0:1)+(2&~i?0:1)+(4&~i?0:1)+(8&~i?0:1);0<a&&(a=1/a);var o=(1&~s?0:1)+(2&~s?0:1)+(4&~s?0:1)+(8&~s?0:1);0<o&&(o=1/o);var l=1&~t?0:n,h=2&~t?0:n,_=4&~t?0:n;t=8&~t?0:n,n=1&~e?0:r;var c=2&~e?0:r,u=4&~e?0:r;e=8&~e?0:r,r=1&~i?0:a;var d=2&~i?0:a,m=4&~i?0:a;i=8&~i?0:a,a=1&~s?0:o;var p=2&~s?0:o,f=4&~s?0:o;s=8&~s?0:o,o=this.m11;var g=this.m12,y=this.m13,b=this.m14;return this.m11=this.m11*l+this.m12*n+this.m13*r+this.m14*a,this.m12=o*h+this.m12*c+this.m13*d+this.m14*p,this.m13=o*_+g*u+this.m13*m+this.m14*f,this.m14=o*t+g*e+y*i+this.m14*s,this.m15=0*o+0*g+0*y+0*b,o=this.m21,g=this.m22,y=this.m23,b=this.m24,this.m21=this.m21*l+this.m22*n+this.m23*r+this.m24*a,this.m22=o*h+this.m22*c+this.m23*d+this.m24*p,this.m23=o*_+g*u+this.m23*m+this.m24*f,this.m24=o*t+g*e+y*i+this.m24*s,this.m25=0*o+0*g+0*y+0*b,o=this.m31,g=this.m32,y=this.m33,b=this.m34,this.m31=this.m31*l+this.m32*n+this.m33*r+this.m34*a,this.m32=o*h+this.m32*c+this.m33*d+this.m34*p,this.m33=o*_+g*u+this.m33*m+this.m34*f,this.m34=o*t+g*e+y*i+this.m34*s,this.m35=0*o+0*g+0*y+0*b,o=this.m41,g=this.m42,y=this.m43,b=this.m44,this.m41=this.m41*l+this.m42*n+this.m43*r+this.m44*a,this.m42=o*h+this.m42*c+this.m43*d+this.m44*p,this.m43=o*_+g*u+this.m43*m+this.m44*f,this.m44=o*t+g*e+y*i+this.m44*s,this.m45=0*o+0*g+0*y+0*b,this},average:function(t,e,i){null==i&&(i=.33333333),null==e&&(e=.33333333),null==t&&(t=.33333333);var s=this.m11,n=this.m12,r=this.m13,a=this.m14;return this.m11=this.m11*t+this.m12*t+this.m13*t+0*this.m14,this.m12=s*e+this.m12*e+this.m13*e+0*this.m14,this.m13=s*i+n*i+this.m13*i+0*this.m14,this.m14=0*s+0*n+0*r+this.m14,this.m15=0*s+0*n+0*r+0*a,s=this.m21,n=this.m22,r=this.m23,a=this.m24,this.m21=this.m21*t+this.m22*t+this.m23*t+0*this.m24,this.m22=s*e+this.m22*e+this.m23*e+0*this.m24,this.m23=s*i+n*i+this.m23*i+0*this.m24,this.m24=0*s+0*n+0*r+this.m24,this.m25=0*s+0*n+0*r+0*a,s=this.m31,n=this.m32,r=this.m33,a=this.m34,this.m31=this.m31*t+this.m32*t+this.m33*t+0*this.m34,this.m32=s*e+this.m32*e+this.m33*e+0*this.m34,this.m33=s*i+n*i+this.m33*i+0*this.m34,this.m34=0*s+0*n+0*r+this.m34,this.m35=0*s+0*n+0*r+0*a,s=this.m41,n=this.m42,r=this.m43,a=this.m44,this.m41=this.m41*t+this.m42*t+this.m43*t+0*this.m44,this.m42=s*e+this.m42*e+this.m43*e+0*this.m44,this.m43=s*i+n*i+this.m43*i+0*this.m44,this.m44=0*s+0*n+0*r+this.m44,this.m45=0*s+0*n+0*r+0*a,this},threshold:function(t,e){null==e&&(e=256);var i=or.LUMA_R*e,s=or.LUMA_G*e,n=or.LUMA_B*e,r=-e*t,a=or.LUMA_R*e,o=or.LUMA_G*e,l=or.LUMA_B*e,h=-e*t,_=or.LUMA_R*e,c=or.LUMA_G*e,u=or.LUMA_B*e;t*=-e,e=this.m11;var d=this.m12,m=this.m13,p=this.m14;return this.m11=this.m11*i+this.m12*a+this.m13*_+0*this.m14,this.m12=e*s+this.m12*o+this.m13*c+0*this.m14,this.m13=e*n+d*l+this.m13*u+0*this.m14,this.m14=0*e+0*d+0*m+this.m14,this.m15=e*r+d*h+m*t+0*p,e=this.m21,d=this.m22,m=this.m23,p=this.m24,this.m21=this.m21*i+this.m22*a+this.m23*_+0*this.m24,this.m22=e*s+this.m22*o+this.m23*c+0*this.m24,this.m23=e*n+d*l+this.m23*u+0*this.m24,this.m24=0*e+0*d+0*m+this.m24,this.m25=e*r+d*h+m*t+0*p,e=this.m31,d=this.m32,m=this.m33,p=this.m34,this.m31=this.m31*i+this.m32*a+this.m33*_+0*this.m34,this.m32=e*s+this.m32*o+this.m33*c+0*this.m34,this.m33=e*n+d*l+this.m33*u+0*this.m34,this.m34=0*e+0*d+0*m+this.m34,this.m35=e*r+d*h+m*t+0*p,e=this.m41,d=this.m42,m=this.m43,p=this.m44,this.m41=this.m41*i+this.m42*a+this.m43*_+0*this.m44,this.m42=e*s+this.m42*o+this.m43*c+0*this.m44,this.m43=e*n+d*l+this.m43*u+0*this.m44,this.m44=0*e+0*d+0*m+this.m44,this.m45=e*r+d*h+m*t+0*p,this},desaturate:function(){var t=or.LUMA_R,e=or.LUMA_G,i=or.LUMA_B,s=or.LUMA_R,n=or.LUMA_G,r=or.LUMA_B,a=or.LUMA_R,o=or.LUMA_G,l=or.LUMA_B,h=this.m11,_=this.m12,c=this.m13,u=this.m14;return this.m11=this.m11*t+this.m12*s+this.m13*a+0*this.m14,this.m12=h*e+this.m12*n+this.m13*o+0*this.m14,this.m13=h*i+_*r+this.m13*l+0*this.m14,this.m14=0*h+0*_+0*c+this.m14,this.m15=0*h+0*_+0*c+0*u,h=this.m21,_=this.m22,c=this.m23,u=this.m24,this.m21=this.m21*t+this.m22*s+this.m23*a+0*this.m24,this.m22=h*e+this.m22*n+this.m23*o+0*this.m24,this.m23=h*i+_*r+this.m23*l+0*this.m24,this.m24=0*h+0*_+0*c+this.m24,this.m25=0*h+0*_+0*c+0*u,h=this.m31,_=this.m32,c=this.m33,u=this.m34,this.m31=this.m31*t+this.m32*s+this.m33*a+0*this.m34,this.m32=h*e+this.m32*n+this.m33*o+0*this.m34,this.m33=h*i+_*r+this.m33*l+0*this.m34,this.m34=0*h+0*_+0*c+this.m34,this.m35=0*h+0*_+0*c+0*u,h=this.m41,_=this.m42,c=this.m43,u=this.m44,this.m41=this.m41*t+this.m42*s+this.m43*a+0*this.m44,this.m42=h*e+this.m42*n+this.m43*o+0*this.m44,this.m43=h*i+_*r+this.m43*l+0*this.m44,this.m44=0*h+0*_+0*c+this.m44,this.m45=0*h+0*_+0*c+0*u,this},setMultiplicators:function(t,e,i,s){null==s&&(s=1),null==i&&(i=1),null==e&&(e=1),null==t&&(t=1);var n=this.m11,r=this.m12,a=this.m13,o=this.m14;return this.m11=this.m11*t+0*this.m12+0*this.m13+0*this.m14,this.m12=0*n+this.m12*e+0*this.m13+0*this.m14,this.m13=0*n+0*r+this.m13*i+0*this.m14,this.m14=0*n+0*r+0*a+this.m14*s,this.m15=0*n+0*r+0*a+0*o,n=this.m21,r=this.m22,a=this.m23,o=this.m24,this.m21=this.m21*t+0*this.m22+0*this.m23+0*this.m24,this.m22=0*n+this.m22*e+0*this.m23+0*this.m24,this.m23=0*n+0*r+this.m23*i+0*this.m24,this.m24=0*n+0*r+0*a+this.m24*s,this.m25=0*n+0*r+0*a+0*o,n=this.m31,r=this.m32,a=this.m33,o=this.m34,this.m31=this.m31*t+0*this.m32+0*this.m33+0*this.m34,this.m32=0*n+this.m32*e+0*this.m33+0*this.m34,this.m33=0*n+0*r+this.m33*i+0*this.m34,this.m34=0*n+0*r+0*a+this.m34*s,this.m35=0*n+0*r+0*a+0*o,n=this.m41,r=this.m42,a=this.m43,o=this.m44,this.m41=this.m41*t+0*this.m42+0*this.m43+0*this.m44,this.m42=0*n+this.m42*e+0*this.m43+0*this.m44,this.m43=0*n+0*r+this.m43*i+0*this.m44,this.m44=0*n+0*r+0*a+this.m44*s,this.m45=0*n+0*r+0*a+0*o,this},clearChannels:function(t,e,i,s){return null==s&&(s=!1),null==i&&(i=!1),null==e&&(e=!1),null==t&&(t=!1),t&&(this.m11=this.m12=this.m13=this.m14=this.m15=0),e&&(this.m21=this.m22=this.m23=this.m24=this.m25=0),i&&(this.m31=this.m32=this.m33=this.m34=this.m35=0),s&&(this.m41=this.m42=this.m43=this.m44=this.m45=0),this},thresholdAlpha:function(t,e){null==e&&(e=256),t*=-e;var i=this.m11,s=this.m12,n=this.m13,r=this.m14;return this.m11=this.m11+0*this.m12+0*this.m13+0*this.m14,this.m12=0*i+this.m12+0*this.m13+0*this.m14,this.m13=0*i+0*s+this.m13+0*this.m14,this.m14=0*i+0*s+0*n+this.m14*e,this.m15=0*i+0*s+0*n+r*t,i=this.m21,s=this.m22,n=this.m23,r=this.m24,this.m21=this.m21+0*this.m22+0*this.m23+0*this.m24,this.m22=0*i+this.m22+0*this.m23+0*this.m24,this.m23=0*i+0*s+this.m23+0*this.m24,this.m24=0*i+0*s+0*n+this.m24*e,this.m25=0*i+0*s+0*n+r*t,i=this.m31,s=this.m32,n=this.m33,r=this.m34,this.m31=this.m31+0*this.m32+0*this.m33+0*this.m34,this.m32=0*i+this.m32+0*this.m33+0*this.m34,this.m33=0*i+0*s+this.m33+0*this.m34,this.m34=0*i+0*s+0*n+this.m34*e,this.m35=0*i+0*s+0*n+r*t,i=this.m41,s=this.m42,n=this.m43,r=this.m44,this.m41=this.m41+0*this.m42+0*this.m43+0*this.m44,this.m42=0*i+this.m42+0*this.m43+0*this.m44,this.m43=0*i+0*s+this.m43+0*this.m44,this.m44=0*i+0*s+0*n+this.m44*e,this.m45=0*i+0*s+0*n+r*t,this},averageRGB2Alpha:function(){var t=or.INV3,e=or.INV3,i=or.INV3,s=this.m11,n=this.m12,r=this.m13,a=this.m14;return this.m11=0*this.m11+0*this.m12+0*this.m13+this.m14*t,this.m12=0*s+0*this.m12+0*this.m13+this.m14*e,this.m13=0*s+0*n+0*this.m13+this.m14*i,this.m14=0*s+0*n+0*r+0*this.m14,this.m15=255*s+255*n+255*r+0*a,s=this.m21,n=this.m22,r=this.m23,a=this.m24,this.m21=0*this.m21+0*this.m22+0*this.m23+this.m24*t,this.m22=0*s+0*this.m22+0*this.m23+this.m24*e,this.m23=0*s+0*n+0*this.m23+this.m24*i,this.m24=0*s+0*n+0*r+0*this.m24,this.m25=255*s+255*n+255*r+0*a,s=this.m31,n=this.m32,r=this.m33,a=this.m34,this.m31=0*this.m31+0*this.m32+0*this.m33+this.m34*t,this.m32=0*s+0*this.m32+0*this.m33+this.m34*e,this.m33=0*s+0*n+0*this.m33+this.m34*i,this.m34=0*s+0*n+0*r+0*this.m34,this.m35=255*s+255*n+255*r+0*a,s=this.m41,n=this.m42,r=this.m43,a=this.m44,this.m41=0*this.m41+0*this.m42+0*this.m43+this.m44*t,this.m42=0*s+0*this.m42+0*this.m43+this.m44*e,this.m43=0*s+0*n+0*this.m43+this.m44*i,this.m44=0*s+0*n+0*r+0*this.m44,this.m45=255*s+255*n+255*r+0*a,this},invertAlpha:function(){var t=this.m11,e=this.m12,i=this.m13,s=this.m14;return this.m11=this.m11+0*this.m12+0*this.m13+0*this.m14,this.m12=0*t+this.m12+0*this.m13+0*this.m14,this.m13=0*t+0*e+this.m13+0*this.m14,this.m14=0*t+0*e+0*i+-1*this.m14,this.m15=0*t+0*e+0*i+255*s,t=this.m21,e=this.m22,i=this.m23,s=this.m24,this.m21=this.m21+0*this.m22+0*this.m23+0*this.m24,this.m22=0*t+this.m22+0*this.m23+0*this.m24,this.m23=0*t+0*e+this.m23+0*this.m24,this.m24=0*t+0*e+0*i+-1*this.m24,this.m25=0*t+0*e+0*i+255*s,t=this.m31,e=this.m32,i=this.m33,s=this.m34,this.m31=this.m31+0*this.m32+0*this.m33+0*this.m34,this.m32=0*t+this.m32+0*this.m33+0*this.m34,this.m33=0*t+0*e+this.m33+0*this.m34,this.m34=0*t+0*e+0*i+-1*this.m34,this.m35=0*t+0*e+0*i+255*s,t=this.m41,e=this.m42,i=this.m43,s=this.m44,this.m41=this.m41+0*this.m42+0*this.m43+0*this.m44,this.m42=0*t+this.m42+0*this.m43+0*this.m44,this.m43=0*t+0*e+this.m43+0*this.m44,this.m44=0*t+0*e+0*i+-1*this.m44,this.m45=0*t+0*e+0*i+255*s,this},rgb2Alpha:function(t,e,i){var s=this.m11,n=this.m12,r=this.m13,a=this.m14;return this.m11=0*this.m11+0*this.m12+0*this.m13+this.m14*t,this.m12=0*s+0*this.m12+0*this.m13+this.m14*e,this.m13=0*s+0*n+0*this.m13+this.m14*i,this.m14=0*s+0*n+0*r+0*this.m14,this.m15=255*s+255*n+255*r+0*a,s=this.m21,n=this.m22,r=this.m23,a=this.m24,this.m21=0*this.m21+0*this.m22+0*this.m23+this.m24*t,this.m22=0*s+0*this.m22+0*this.m23+this.m24*e,this.m23=0*s+0*n+0*this.m23+this.m24*i,this.m24=0*s+0*n+0*r+0*this.m24,this.m25=255*s+255*n+255*r+0*a,s=this.m31,n=this.m32,r=this.m33,a=this.m34,this.m31=0*this.m31+0*this.m32+0*this.m33+this.m34*t,this.m32=0*s+0*this.m32+0*this.m33+this.m34*e,this.m33=0*s+0*n+0*this.m33+this.m34*i,this.m34=0*s+0*n+0*r+0*this.m34,this.m35=255*s+255*n+255*r+0*a,s=this.m41,n=this.m42,r=this.m43,a=this.m44,this.m41=0*this.m41+0*this.m42+0*this.m43+this.m44*t,this.m42=0*s+0*this.m42+0*this.m43+this.m44*e,this.m43=0*s+0*n+0*this.m43+this.m44*i,this.m44=0*s+0*n+0*r+0*this.m44,this.m45=255*s+255*n+255*r+0*a,this},setAlpha:function(t){var e=this.m11,i=this.m12,s=this.m13,n=this.m14;return this.m11=this.m11+0*this.m12+0*this.m13+0*this.m14,this.m12=0*e+this.m12+0*this.m13+0*this.m14,this.m13=0*e+0*i+this.m13+0*this.m14,this.m14=0*e+0*i+0*s+this.m14*t,this.m15=0*e+0*i+0*s+0*n,e=this.m21,i=this.m22,s=this.m23,n=this.m24,this.m21=this.m21+0*this.m22+0*this.m23+0*this.m24,this.m22=0*e+this.m22+0*this.m23+0*this.m24,this.m23=0*e+0*i+this.m23+0*this.m24,this.m24=0*e+0*i+0*s+this.m24*t,this.m25=0*e+0*i+0*s+0*n,e=this.m31,i=this.m32,s=this.m33,n=this.m34,this.m31=this.m31+0*this.m32+0*this.m33+0*this.m34,this.m32=0*e+this.m32+0*this.m33+0*this.m34,this.m33=0*e+0*i+this.m33+0*this.m34,this.m34=0*e+0*i+0*s+this.m34*t,this.m35=0*e+0*i+0*s+0*n,e=this.m41,i=this.m42,s=this.m43,n=this.m44,this.m41=this.m41+0*this.m42+0*this.m43+0*this.m44,this.m42=0*e+this.m42+0*this.m43+0*this.m44,this.m43=0*e+0*i+this.m43+0*this.m44,this.m44=0*e+0*i+0*s+this.m44*t,this.m45=0*e+0*i+0*s+0*n,this},rotateRed:function(t){t*=.01745329251994278;var e=Math.cos(t);return t=Math.cos(t),this.m11=1,this.m21=this.m15=this.m14=this.m13=this.m12=0,this.m22=e,this.m23=-t,this.m31=this.m25=this.m24=0,this.m32=t,this.m33=e,this.m43=this.m42=this.m41=this.m35=this.m34=0,this.m44=1,this.m45=0,this},rotateGreen:function(t){t*=.01745329251994278;var e=Math.cos(t);return t=Math.cos(t),this.m11=e,this.m12=0,this.m13=t,this.m21=this.m15=this.m14=0,this.m22=1,this.m25=this.m24=this.m23=0,this.m31=-t,this.m32=0,this.m33=e,this.m43=this.m42=this.m41=this.m35=this.m34=0,this.m44=1,this.m45=0,this},rotateBlue:function(t){t*=.01745329251994278;var e=Math.cos(t);return t=Math.cos(t),this.m11=e,this.m12=-t,this.m15=this.m14=this.m13=0,this.m21=t,this.m22=e,this.m32=this.m31=this.m25=this.m24=this.m23=0,this.m33=1,this.m43=this.m42=this.m41=this.m35=this.m34=0,this.m44=1,this.m45=0,this},shearRed:function(t,e){return this.m11=1,this.m12=t,this.m13=e,this.m21=this.m15=this.m14=0,this.m22=1,this.m32=this.m31=this.m25=this.m24=this.m23=0,this.m33=1,this.m43=this.m42=this.m41=this.m35=this.m34=0,this.m44=1,this.m45=0,this},shearGreen:function(t,e){return this.m11=1,this.m15=this.m14=this.m13=this.m12=0,this.m21=t,this.m22=1,this.m23=e,this.m32=this.m31=this.m25=this.m24=0,this.m33=1,this.m43=this.m42=this.m41=this.m35=this.m34=0,this.m44=1,this.m45=0,this},shearBlue:function(t,e){return this.m11=1,this.m21=this.m15=this.m14=this.m13=this.m12=0,this.m22=1,this.m25=this.m24=this.m23=0,this.m31=t,this.m32=e,this.m33=1,this.m43=this.m42=this.m41=this.m35=this.m34=0,this.m44=1,this.m45=0,this},applyColorDeficiency:function(t){switch(t._hx_index){case 0:t=this.m11;var e=this.m12,i=this.m13,s=this.m14;this.m11=.567*this.m11+.558*this.m12+0*this.m13+0*this.m14,this.m12=.433*t+.442*this.m12+.242*this.m13+0*this.m14,this.m13=0*t+0*e+.758*this.m13+0*this.m14,this.m14=0*t+0*e+0*i+this.m14,this.m15=0*t+0*e+0*i+0*s,t=this.m21,e=this.m22,i=this.m23,s=this.m24,this.m21=.567*this.m21+.558*this.m22+0*this.m23+0*this.m24,this.m22=.433*t+.442*this.m22+.242*this.m23+0*this.m24,this.m23=0*t+0*e+.758*this.m23+0*this.m24,this.m24=0*t+0*e+0*i+this.m24,this.m25=0*t+0*e+0*i+0*s,t=this.m31,e=this.m32,i=this.m33,s=this.m34,this.m31=.567*this.m31+.558*this.m32+0*this.m33+0*this.m34,this.m32=.433*t+.442*this.m32+.242*this.m33+0*this.m34,this.m33=0*t+0*e+.758*this.m33+0*this.m34,this.m34=0*t+0*e+0*i+this.m34,this.m35=0*t+0*e+0*i+0*s,t=this.m41,e=this.m42,i=this.m43,s=this.m44,this.m41=.567*this.m41+.558*this.m42+0*this.m43+0*this.m44,this.m42=.433*t+.442*this.m42+.242*this.m43+0*this.m44,this.m43=0*t+0*e+.758*this.m43+0*this.m44,this.m44=0*t+0*e+0*i+this.m44,this.m45=0*t+0*e+0*i+0*s;break;case 1:t=this.m11,e=this.m12,i=this.m13,s=this.m14,this.m11=.817*this.m11+.333*this.m12+0*this.m13+0*this.m14,this.m12=.183*t+.667*this.m12+.125*this.m13+0*this.m14,this.m13=0*t+0*e+.875*this.m13+0*this.m14,this.m14=0*t+0*e+0*i+this.m14,this.m15=0*t+0*e+0*i+0*s,t=this.m21,e=this.m22,i=this.m23,s=this.m24,this.m21=.817*this.m21+.333*this.m22+0*this.m23+0*this.m24,this.m22=.183*t+.667*this.m22+.125*this.m23+0*this.m24,this.m23=0*t+0*e+.875*this.m23+0*this.m24,this.m24=0*t+0*e+0*i+this.m24,this.m25=0*t+0*e+0*i+0*s,t=this.m31,e=this.m32,i=this.m33,s=this.m34,this.m31=.817*this.m31+.333*this.m32+0*this.m33+0*this.m34,this.m32=.183*t+.667*this.m32+.125*this.m33+0*this.m34,this.m33=0*t+0*e+.875*this.m33+0*this.m34,this.m34=0*t+0*e+0*i+this.m34,this.m35=0*t+0*e+0*i+0*s,t=this.m41,e=this.m42,i=this.m43,s=this.m44,this.m41=.817*this.m41+.333*this.m42+0*this.m43+0*this.m44,this.m42=.183*t+.667*this.m42+.125*this.m43+0*this.m44,this.m43=0*t+0*e+.875*this.m43+0*this.m44,this.m44=0*t+0*e+0*i+this.m44,this.m45=0*t+0*e+0*i+0*s;break;case 2:t=this.m11,e=this.m12,i=this.m13,s=this.m14,this.m11=.625*this.m11+.7*this.m12+0*this.m13+0*this.m14,this.m12=.375*t+.3*this.m12+.3*this.m13+0*this.m14,this.m13=0*t+0*e+.7*this.m13+0*this.m14,this.m14=0*t+0*e+0*i+this.m14,this.m15=0*t+0*e+0*i+0*s,t=this.m21,e=this.m22,i=this.m23,s=this.m24,this.m21=.625*this.m21+.7*this.m22+0*this.m23+0*this.m24,this.m22=.375*t+.3*this.m22+.3*this.m23+0*this.m24,this.m23=0*t+0*e+.7*this.m23+0*this.m24,this.m24=0*t+0*e+0*i+this.m24,this.m25=0*t+0*e+0*i+0*s,t=this.m31,e=this.m32,i=this.m33,s=this.m34,this.m31=.625*this.m31+.7*this.m32+0*this.m33+0*this.m34,this.m32=.375*t+.3*this.m32+.3*this.m33+0*this.m34,this.m33=0*t+0*e+.7*this.m33+0*this.m34,this.m34=0*t+0*e+0*i+this.m34,this.m35=0*t+0*e+0*i+0*s,t=this.m41,e=this.m42,i=this.m43,s=this.m44,this.m41=.625*this.m41+.7*this.m42+0*this.m43+0*this.m44,this.m42=.375*t+.3*this.m42+.3*this.m43+0*this.m44,this.m43=0*t+0*e+.7*this.m43+0*this.m44,this.m44=0*t+0*e+0*i+this.m44,this.m45=0*t+0*e+0*i+0*s;break;case 3:t=this.m11,e=this.m12,i=this.m13,s=this.m14,this.m11=.8*this.m11+.258*this.m12+0*this.m13+0*this.m14,this.m12=.2*t+.742*this.m12+.142*this.m13+0*this.m14,this.m13=0*t+0*e+.858*this.m13+0*this.m14,this.m14=0*t+0*e+0*i+this.m14,this.m15=0*t+0*e+0*i+0*s,t=this.m21,e=this.m22,i=this.m23,s=this.m24,this.m21=.8*this.m21+.258*this.m22+0*this.m23+0*this.m24,this.m22=.2*t+.742*this.m22+.142*this.m23+0*this.m24,this.m23=0*t+0*e+.858*this.m23+0*this.m24,this.m24=0*t+0*e+0*i+this.m24,this.m25=0*t+0*e+0*i+0*s,t=this.m31,e=this.m32,i=this.m33,s=this.m34,this.m31=.8*this.m31+.258*this.m32+0*this.m33+0*this.m34,this.m32=.2*t+.742*this.m32+.142*this.m33+0*this.m34,this.m33=0*t+0*e+.858*this.m33+0*this.m34,this.m34=0*t+0*e+0*i+this.m34,this.m35=0*t+0*e+0*i+0*s,t=this.m41,e=this.m42,i=this.m43,s=this.m44,this.m41=.8*this.m41+.258*this.m42+0*this.m43+0*this.m44,this.m42=.2*t+.742*this.m42+.142*this.m43+0*this.m44,this.m43=0*t+0*e+.858*this.m43+0*this.m44,this.m44=0*t+0*e+0*i+this.m44,this.m45=0*t+0*e+0*i+0*s;break;case 4:t=this.m11,e=this.m12,i=this.m13,s=this.m14,this.m11=.95*this.m11+0*this.m12+0*this.m13+0*this.m14,this.m12=.05*t+.433*this.m12+.475*this.m13+0*this.m14,this.m13=0*t+.567*e+.525*this.m13+0*this.m14,this.m14=0*t+0*e+0*i+this.m14,this.m15=0*t+0*e+0*i+0*s,t=this.m21,e=this.m22,i=this.m23,s=this.m24,this.m21=.95*this.m21+0*this.m22+0*this.m23+0*this.m24,this.m22=.05*t+.433*this.m22+.475*this.m23+0*this.m24,this.m23=0*t+.567*e+.525*this.m23+0*this.m24,this.m24=0*t+0*e+0*i+this.m24,this.m25=0*t+0*e+0*i+0*s,t=this.m31,e=this.m32,i=this.m33,s=this.m34,this.m31=.95*this.m31+0*this.m32+0*this.m33+0*this.m34,this.m32=.05*t+.433*this.m32+.475*this.m33+0*this.m34,this.m33=0*t+.567*e+.525*this.m33+0*this.m34,this.m34=0*t+0*e+0*i+this.m34,this.m35=0*t+0*e+0*i+0*s,t=this.m41,e=this.m42,i=this.m43,s=this.m44,this.m41=.95*this.m41+0*this.m42+0*this.m43+0*this.m44,this.m42=.05*t+.433*this.m42+.475*this.m43+0*this.m44,this.m43=0*t+.567*e+.525*this.m43+0*this.m44,this.m44=0*t+0*e+0*i+this.m44,this.m45=0*t+0*e+0*i+0*s;break;case 5:t=this.m11,e=this.m12,i=this.m13,s=this.m14,this.m11=.967*this.m11+0*this.m12+0*this.m13+0*this.m14,this.m12=.033*t+.733*this.m12+.183*this.m13+0*this.m14,this.m13=0*t+.267*e+.817*this.m13+0*this.m14,this.m14=0*t+0*e+0*i+this.m14,this.m15=0*t+0*e+0*i+0*s,t=this.m21,e=this.m22,i=this.m23,s=this.m24,this.m21=.967*this.m21+0*this.m22+0*this.m23+0*this.m24,this.m22=.033*t+.733*this.m22+.183*this.m23+0*this.m24,this.m23=0*t+.267*e+.817*this.m23+0*this.m24,this.m24=0*t+0*e+0*i+this.m24,this.m25=0*t+0*e+0*i+0*s,t=this.m31,e=this.m32,i=this.m33,s=this.m34,this.m31=.967*this.m31+0*this.m32+0*this.m33+0*this.m34,this.m32=.033*t+.733*this.m32+.183*this.m33+0*this.m34,this.m33=0*t+.267*e+.817*this.m33+0*this.m34,this.m34=0*t+0*e+0*i+this.m34,this.m35=0*t+0*e+0*i+0*s,t=this.m41,e=this.m42,i=this.m43,s=this.m44,this.m41=.967*this.m41+0*this.m42+0*this.m43+0*this.m44,this.m42=.033*t+.733*this.m42+.183*this.m43+0*this.m44,this.m43=0*t+.267*e+.817*this.m43+0*this.m44,this.m44=0*t+0*e+0*i+this.m44,this.m45=0*t+0*e+0*i+0*s;break;case 6:t=this.m11,e=this.m12,i=this.m13,s=this.m14,this.m11=.299*this.m11+.299*this.m12+.299*this.m13+0*this.m14,this.m12=.587*t+.587*this.m12+.587*this.m13+0*this.m14,this.m13=.114*t+.114*e+.114*this.m13+0*this.m14,this.m14=0*t+0*e+0*i+this.m14,this.m15=0*t+0*e+0*i+0*s,t=this.m21,e=this.m22,i=this.m23,s=this.m24,this.m21=.299*this.m21+.299*this.m22+.299*this.m23+0*this.m24,this.m22=.587*t+.587*this.m22+.587*this.m23+0*this.m24,this.m23=.114*t+.114*e+.114*this.m23+0*this.m24,this.m24=0*t+0*e+0*i+this.m24,this.m25=0*t+0*e+0*i+0*s,t=this.m31,e=this.m32,i=this.m33,s=this.m34,this.m31=.299*this.m31+.299*this.m32+.299*this.m33+0*this.m34,this.m32=.587*t+.587*this.m32+.587*this.m33+0*this.m34,this.m33=.114*t+.114*e+.114*this.m33+0*this.m34,this.m34=0*t+0*e+0*i+this.m34,this.m35=0*t+0*e+0*i+0*s,t=this.m41,e=this.m42,i=this.m43,s=this.m44,this.m41=.299*this.m41+.299*this.m42+.299*this.m43+0*this.m44,this.m42=.587*t+.587*this.m42+.587*this.m43+0*this.m44,this.m43=.114*t+.114*e+.114*this.m43+0*this.m44,this.m44=0*t+0*e+0*i+this.m44,this.m45=0*t+0*e+0*i+0*s;break;case 7:t=this.m11,e=this.m12,i=this.m13,s=this.m14,this.m11=.618*this.m11+.163*this.m12+.163*this.m13+0*this.m14,this.m12=.32*t+.775*this.m12+.32*this.m13+0*this.m14,this.m13=.062*t+.062*e+.516*this.m13+0*this.m14,this.m14=0*t+0*e+0*i+this.m14,this.m15=0*t+0*e+0*i+0*s,t=this.m21,e=this.m22,i=this.m23,s=this.m24,this.m21=.618*this.m21+.163*this.m22+.163*this.m23+0*this.m24,this.m22=.32*t+.775*this.m22+.32*this.m23+0*this.m24,this.m23=.062*t+.062*e+.516*this.m23+0*this.m24,this.m24=0*t+0*e+0*i+this.m24,this.m25=0*t+0*e+0*i+0*s,t=this.m31,e=this.m32,i=this.m33,s=this.m34,this.m31=.618*this.m31+.163*this.m32+.163*this.m33+0*this.m34,this.m32=.32*t+.775*this.m32+.32*this.m33+0*this.m34,this.m33=.062*t+.062*e+.516*this.m33+0*this.m34,this.m34=0*t+0*e+0*i+this.m34,this.m35=0*t+0*e+0*i+0*s,t=this.m41,e=this.m42,i=this.m43,s=this.m44,this.m41=.618*this.m41+.163*this.m42+.163*this.m43+0*this.m44,this.m42=.32*t+.775*this.m42+.32*this.m43+0*this.m44,this.m43=.062*t+.062*e+.516*this.m43+0*this.m44,this.m44=0*t+0*e+0*i+this.m44,this.m45=0*t+0*e+0*i+0*s}return this},applyMatrix:function(t,e){var i=t.a,s=t.r,n=t.g,r=t.b;t=vr.clamp(.5+s*this.m41+n*this.m42+r*this.m43+i*this.m44+this.m45|0,0,255);var a=vr.clamp(.5+s*this.m11+n*this.m12+r*this.m13+i*this.m14+this.m15|0,0,255),o=vr.clamp(.5+s*this.m21+n*this.m22+r*this.m23+i*this.m24+this.m25|0,0,255);return i=vr.clamp(.5+s*this.m31+n*this.m32+r*this.m33+i*this.m34+this.m35|0,0,255),e.a=t,e.r=a,e.g=o,e.b=i,e},transformVector:function(t){var e=t[0],i=t[1],s=t[2],n=t[3],r=e*this.m21+i*this.m22+s*this.m23+n*this.m24+this.m25,a=e*this.m31+i*this.m32+s*this.m33+n*this.m34+this.m35,o=e*this.m41+i*this.m42+s*this.m43+n*this.m44+this.m45;return t[0]=e*this.m11+i*this.m12+s*this.m13+n*this.m14+this.m15,t[1]=r,t[2]=a,t[3]=o,t},initHue:function(){if(!this.hueInitialized){this.hueInitialized=!0,this.preHue=new or,this.preHue.rotateRed(45),this.preHue.rotateGreen(-39.182655);var t=[];t[0]=or.LUMA_R2,t[1]=or.LUMA_G2,t[2]=or.LUMA_B2,t[3]=1,this.preHue.transformVector(t);var e=t[0]/t[2];t=t[1]/t[2],this.preHue.shearBlue(e,t),this.postHue=new or,this.postHue.shearBlue(-e,-t),this.postHue.rotateGreen(39.182655),this.postHue.rotateRed(-45)}},toArray:function(t){return t[0]=this.m11,t[1]=this.m12,t[2]=this.m13,t[3]=this.m14,t[4]=this.m15,t[5]=this.m21,t[6]=this.m22,t[7]=this.m23,t[8]=this.m24,t[9]=this.m25,t[10]=this.m31,t[11]=this.m32,t[12]=this.m33,t[13]=this.m34,t[14]=this.m35,t[15]=this.m41,t[16]=this.m42,t[17]=this.m43,t[18]=this.m44,t[19]=this.m45,t},set:function(t,e,i,s,n,r,a,o,l,h,_,c,u,d,m,p,f,g,y,b){this.m11=t,this.m12=e,this.m13=i,this.m14=s,this.m15=n,this.m21=r,this.m22=a,this.m23=o,this.m24=l,this.m25=h,this.m31=_,this.m32=c,this.m33=u,this.m34=d,this.m35=m,this.m41=p,this.m42=f,this.m43=g,this.m44=y,this.m45=b},mul:function(t,e,i,s,n,r,a,o,l,h,_,c,u,d,m,p,f,g,y,b){var v=this.m11,x=this.m12,w=this.m13,R=this.m14;this.m11=this.m11*t+this.m12*r+this.m13*_+this.m14*p,this.m12=v*e+this.m12*a+this.m13*c+this.m14*f,this.m13=v*i+x*o+this.m13*u+this.m14*g,this.m14=v*s+x*l+w*d+this.m14*y,this.m15=v*n+x*h+w*m+R*b,v=this.m21,x=this.m22,w=this.m23,R=this.m24,this.m21=this.m21*t+this.m22*r+this.m23*_+this.m24*p,this.m22=v*e+this.m22*a+this.m23*c+this.m24*f,this.m23=v*i+x*o+this.m23*u+this.m24*g,this.m24=v*s+x*l+w*d+this.m24*y,this.m25=v*n+x*h+w*m+R*b,v=this.m31,x=this.m32,w=this.m33,R=this.m34,this.m31=this.m31*t+this.m32*r+this.m33*_+this.m34*p,this.m32=v*e+this.m32*a+this.m33*c+this.m34*f,this.m33=v*i+x*o+this.m33*u+this.m34*g,this.m34=v*s+x*l+w*d+this.m34*y,this.m35=v*n+x*h+w*m+R*b,v=this.m41,x=this.m42,w=this.m43,R=this.m44,this.m41=this.m41*t+this.m42*r+this.m43*_+this.m44*p,this.m42=v*e+this.m42*a+this.m43*c+this.m44*f,this.m43=v*i+x*o+this.m43*u+this.m44*g,this.m44=v*s+x*l+w*d+this.m44*y,this.m45=v*n+x*h+w*m+R*b},__class__:or};var lr=function(){};r["com.stencyl.utils.HaxeDefines"]=lr,lr.__name__="com.stencyl.utils.HaxeDefines";var hr=function(t,e){this.map=t,this.initializer=e};r["com.stencyl.utils.LazyIntMap"]=hr,hr.__name__="com.stencyl.utils.LazyIntMap",hr.prototype={map:null,initializer:null,get:function(t){var e=this.map.h[t];return null==e&&(e=this.initializer(t),this.map.h[t]=e),e},set:function(t,e){this.map.h[t]=e},exists:function(t){return this.map.h.hasOwnProperty(t)},remove:function(t){return this.map.remove(t)},keys:function(){return this.map.keys()},iterator:function(){return this.map.iterator()},__class__:hr};var _r=function(t,e){this.map=t,this.initializer=e};r["com.stencyl.utils.LazyStringMap"]=_r,_r.__name__="com.stencyl.utils.LazyStringMap",_r.prototype={map:null,initializer:null,get:function(t){var e=this.map.h[t];return null==e&&(e=this.initializer(t),this.map.h[t]=e),e},set:function(t,e){this.map.h[t]=e},exists:function(t){return Object.prototype.hasOwnProperty.call(this.map.h,t)},remove:function(t){var e=this.map;return!!Object.prototype.hasOwnProperty.call(e.h,t)&&(delete e.h[t],!0)},keys:function(){return new Xa(this.map.h)},iterator:function(){return new Ya(this.map.h)},__class__:_r};var cr=function(){};r["com.stencyl.utils.Mathematics"]=cr,cr.__name__="com.stencyl.utils.Mathematics",cr.round=function(t){return 0|(0<t?t+.5:0>t?t-.5:0)},cr.clamp=function(t,e,i){return t<e?e:t>i?i:t},cr.fclamp=function(t,e,i){return t<e?e:t>i?i:t};var ur=function(t){this.points=t,this.combineClosePoints(),this.combineColinearPoints(),this.makeCCW()};r["com.stencyl.utils.PolyDecompBayazit"]=ur,ur.__name__="com.stencyl.utils.PolyDecompBayazit",ur.area=function(t,e,i){return(e.x-t.x)*(i.y-t.y)-(i.x-t.x)*(e.y-t.y)},ur.right=function(t,e,i){return 0>ur.area(t,e,i)},ur.rightOn=function(t,e,i){return 0>=ur.area(t,e,i)},ur.left=function(t,e,i){return 0<ur.area(t,e,i)},ur.leftOn=function(t,e,i){return 0<=ur.area(t,e,i)},ur.sqdist=function(t,e){var i=e.x-t.x;return i*i+(t=e.y-t.y)*t},ur.getIntersection=function(t,e,i,s){var n=e.y-t.y;e=t.x-e.x,t=n*t.x+e*t.y;var r=s.y-i.y;s=i.x-s.x,i=r*i.x+s*i.y;var a=n*s-r*e;return Math.abs(a)>Number.MIN_VALUE?new Ye((s*t-e*i)/a,(n*i-r*t)/a):null},ur.prototype={combineColinearPoints:function(){for(var t=[],e=0,i=this.points.length;e<i;){var s=e++,n=this.at(s-1),r=this.at(s);s=this.at(s+1),null!=ur.getIntersection(n,r,r,s)&&t.push(r)}this.points=t},points:null,combineClosePoints:function(){for(var t=[],e=0,i=this.points.length;e<i;){var s=e++,n=this.at(s);s=this.at(s+1),ur.sqdist(n,s)>Number.MIN_VALUE&&t.push(n)}this.points=t},at:function(t){var e=this.points.length;return this.points[(t+e)%e]},isReflex:function(t){return ur.right(this.at(t-1),this.at(t),this.at(t+1))},polyFromRange:function(t,e){return new ur(t<e?this.points.slice(t,e+1):this.points.slice(t).concat(this.points.slice(0,e+1)))},decompose:function(t){if(!(3>this.points.length)){for(var e=0,i=this.points.length;e<i;){var s=e++;if(this.isReflex(s)){var n=Number.MAX_VALUE,r=null;e=0;for(var a=Number.MAX_VALUE,o=null,l=i=0,h=this.points.length;l<h;){var _=l++;if(ur.left(this.at(s-1),this.at(s),this.at(_))&&ur.rightOn(this.at(s-1),this.at(s),this.at(_-1))){var c=ur.getIntersection(this.at(s-1),this.at(s),this.at(_),this.at(_-1));if(ur.right(this.at(s+1),this.at(s),c)){var u=ur.sqdist(this.at(s),c);u<a&&(a=u,o=c,i=_)}}ur.left(this.at(s+1),this.at(s),this.at(_+1))&&ur.rightOn(this.at(s+1),this.at(s),this.at(_))&&(c=ur.getIntersection(this.at(s+1),this.at(s),this.at(_),this.at(_+1)),ur.left(this.at(s-1),this.at(s),c)&&(u=ur.sqdist(this.at(s),c))<n&&(n=u,r=c,e=_))}if(i==(e+1)%this.points.length)n=new Ye(.5*(o.x+r.x),.5*(o.y+r.y)),(r=this.polyFromRange(s,e)).points.push(n),(s=s<e?this.polyFromRange(i,s):this.polyFromRange(0,s)).points.push(n);else{for(i>e&&(e+=this.points.length),n=0,r=Number.MAX_VALUE;i<=e;)ur.leftOn(this.at(s-1),this.at(s),this.at(i))&&ur.rightOn(this.at(s+1),this.at(s),this.at(i))&&(a=ur.sqdist(this.at(s),this.at(i)))<r&&(r=a,this.at(i),n=i%this.points.length),++i;r=this.polyFromRange(s,n),s=this.polyFromRange(n,s)}return void(r.points.length<s.points.length?(r.decompose(t),s.decompose(t)):(s.decompose(t),r.decompose(t)))}}3<=this.points.length&&t(this)}},makeCCW:function(){for(var t=0,e=1,i=this.points.length;e<i;){var s=e++;(this.at(s).y<this.at(t).y||this.at(s).y==this.at(t).y&&this.at(s).x>this.at(t).x)&&(t=s)}ur.left(this.at(t-1),this.at(t),this.at(t+1))||this.points.reverse()},__class__:ur};var dr=function(t,e,i){null==i&&(i=0),null==e&&(e=0),null==t&&(t=0),this.r=t,this.g=e,this.b=i};r["com.stencyl.utils.RGB"]=dr,dr.__name__="com.stencyl.utils.RGB",dr.setRGBi=function(t,e,i){return(255&t)<<16|(255&e)<<8|255&i},dr.setRGBf=function(t,e,i){return(255&(0<(t=255*(0>t?0:1<t?1:t))?t+.5:0>t?t-.5:0))<<16|(255&(0<(e=255*(0>e?0:1<e?1:e))?e+.5:0>e?e-.5:0))<<8|255&(0<(i=255*(0>i?0:1<i?1:i))?i+.5:0>i?i-.5:0)},dr.getR=function(t){return t>>>16&255},dr.getRf=function(t){return.00392156862745098*(t>>>16&255)},dr.getG=function(t){return t>>>8&255},dr.getGf=function(t){return.00392156862745098*(t>>>8&255)},dr.getB=function(t){return 255&t},dr.getBf=function(t){return.00392156862745098*(255&t)},dr.setR=function(t,e){return(255&e)<<16|-16711681&t},dr.setRf=function(t,e){return(255&(0<(e=255*(0>e?0:1<e?1:e))?e+.5:0>e?e-.5:0))<<16|-16711681&t},dr.setG=function(t,e){return(255&e)<<8|-65281&t},dr.setGf=function(t,e){return(255&(0<(e=255*(0>e?0:1<e?1:e))?e+.5:0>e?e-.5:0))<<8|-65281&t},dr.setB=function(t,e){return 255&e|-256&t},dr.setBf=function(t,e){return 255&(0<(e=255*(0>e?0:1<e?1:e))?e+.5:0>e?e-.5:0)|-256&t},dr.prototype={r:null,g:null,b:null,set:function(t,e,i){this.r=t,this.g=e,this.b=i},lerp:function(t,e,i){e.r=this.r+(t.r-this.r)*i,e.g=this.g+(t.g-this.g)*i,e.b=this.b+(t.b-this.b)*i},getR8:function(){var t=255*this.r;return 0|(0<t?t+.5:0>t?t-.5:0)},getG8:function(){var t=255*this.g;return 0|(0<t?t+.5:0>t?t-.5:0)},getB8:function(){var t=255*this.b;return 0|(0<t?t+.5:0>t?t-.5:0)},get24:function(){var t=255*this.r,e=255*this.g,i=255*this.b;return(0<t?t+.5:0>t?t-.5:0)<<16|(0<e?e+.5:0>e?e-.5:0)<<8|(0<i?i+.5:0>i?i-.5:0)},set24:function(t,e,i){this.r=.00392156862745098*(255&t),this.g=.00392156862745098*(255&e),this.b=.00392156862745098*(255&i)},copy:function(t){return t.r=this.r,t.g=this.g,t.b=this.b,t},__class__:dr};var mr=function(t,e){null==e&&(e=0),null==t&&(t=1),this.volume=t,this.pan=e,this.rightToRight=this.rightToLeft=this.leftToRight=this.leftToLeft=0};r["openfl.media.SoundTransform"]=mr,mr.__name__="openfl.media.SoundTransform",mr.prototype={leftToLeft:null,leftToRight:null,pan:null,rightToLeft:null,rightToRight:null,volume:null,clone:function(){return new mr(this.volume,this.pan)},__class__:mr};var pr=function(){this.h=Object.create(null)};r["haxe.ds.StringMap"]=pr,pr.__name__="haxe.ds.StringMap",pr.__interfaces__=[C],pr.stringify=function(t){var e,i="{",s=!0;for(e in t)s?s=!1:i+=",",i+=e+" => "+g.string(t[e]);return i+"}"},pr.prototype={h:null,exists:function(t){return Object.prototype.hasOwnProperty.call(this.h,t)},get:function(t){return this.h[t]},set:function(t,e){this.h[t]=e},remove:function(t){return!!Object.prototype.hasOwnProperty.call(this.h,t)&&(delete this.h[t],!0)},keys:function(){return new Xa(this.h)},iterator:function(){return new Ya(this.h)},keyValueIterator:function(){return new ja(this.h)},__class__:pr};var fr=function(){this.h={}};r["haxe.ds.IntMap"]=fr,fr.__name__="haxe.ds.IntMap",fr.__interfaces__=[C],fr.prototype={h:null,set:function(t,e){this.h[t]=e},get:function(t){return this.h[t]},exists:function(t){return this.h.hasOwnProperty(t)},remove:function(t){return!!this.h.hasOwnProperty(t)&&(delete this.h[t],!0)},keys:function(){var t,e=[];for(t in this.h)this.h.hasOwnProperty(t)&&e.push(0|t);return new no(e)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var t=this.it.next();return this.ref[t]}}},keyValueIterator:function(){return new ro(this)},__class__:fr};var gr=function(t,e,i,s,n,r){null==r&&(r=0),null==n&&(n=0),null==s&&(s=1),null==i&&(i=0),null==e&&(e=0),null==t&&(t=1),this.a=t,this.b=e,this.c=i,this.d=s,this.tx=n,this.ty=r};r["lime.math.Matrix3"]=gr,gr.__name__="lime.math.Matrix3",gr.prototype={a:null,b:null,c:null,d:null,tx:null,ty:null,clone:function(){return new gr(this.a,this.b,this.c,this.d,this.tx,this.ty)},concat:function(t){var e=this.a*t.a+this.b*t.c;this.b=this.a*t.b+this.b*t.d,this.a=e,e=this.c*t.a+this.d*t.c,this.d=this.c*t.b+this.d*t.d,this.c=e,e=this.tx*t.a+this.ty*t.c+t.tx,this.ty=this.tx*t.b+this.ty*t.d+t.ty,this.tx=e},copyColumnFrom:function(t,e){if(2<t)throw wa.thrown("Column "+t+" out of bounds (2)");0==t?(this.a=e.x,this.b=e.y):1==t?(this.c=e.x,this.d=e.y):(this.tx=e.x,this.ty=e.y)},copyColumnTo:function(t,e){if(2<t)throw wa.thrown("Column "+t+" out of bounds (2)");0==t?(e.x=this.a,e.y=this.b,e.z=0):1==t?(e.x=this.c,e.y=this.d,e.z=0):(e.x=this.tx,e.y=this.ty,e.z=1)},copyFrom:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty},copyRowFrom:function(t,e){if(2<t)throw wa.thrown("Row "+t+" out of bounds (2)");0==t?(this.a=e.x,this.c=e.y,this.tx=e.z):1==t&&(this.b=e.x,this.d=e.y,this.ty=e.z)},copyRowTo:function(t,e){if(2<t)throw wa.thrown("Row "+t+" out of bounds (2)");0==t?(e.x=this.a,e.y=this.c,e.z=this.tx):1==t?(e.x=this.b,e.y=this.d,e.z=this.ty):(e.x=0,e.y=0,e.z=1)},createBox:function(t,e,i,s,n){if(null==n&&(n=0),null==s&&(s=0),null==i&&(i=0),0!=i){var r=Math.cos(i);i=Math.sin(i),this.a=r*t,this.b=i*e,this.c=-i*t,this.d=r*e}else this.a=t,this.c=this.b=0,this.d=e;this.tx=s,this.ty=n},createGradientBox:function(t,e,i,s,n){if(null==n&&(n=0),null==s&&(s=0),null==i&&(i=0),this.a=t/1638.4,this.d=e/1638.4,0!=i){var r=Math.cos(i);i=Math.sin(i),this.b=i*this.d,this.c=-i*this.a,this.a*=r,this.d*=r}else this.c=this.b=0;this.tx=s+t/2,this.ty=n+e/2},equals:function(t){return null!=t&&this.tx==t.tx&&this.ty==t.ty&&this.a==t.a&&this.b==t.b&&this.c==t.c&&this.d==t.d},deltaTransformVector:function(t,e){return null==e&&(e=new Zl),e.x=t.x*this.a+t.y*this.c,e.y=t.x*this.b+t.y*this.d,e},identity:function(){this.a=1,this.c=this.b=0,this.d=1,this.ty=this.tx=0},invert:function(){var t=this.a*this.d-this.b*this.c;if(0==t)this.a=this.b=this.c=this.d=0,this.tx=-this.tx,this.ty=-this.ty;else{t=1/t;var e=this.d*t;this.d=this.a*t,this.a=e,this.b*=-t,this.c*=-t,t=-this.a*this.tx-this.c*this.ty,this.ty=-this.b*this.tx-this.d*this.ty,this.tx=t}return this},rotate:function(t){var e=Math.cos(t);t=Math.sin(t);var i=this.a*e-this.b*t;this.b=this.a*t+this.b*e,this.a=i,i=this.c*e-this.d*t,this.d=this.c*t+this.d*e,this.c=i,i=this.tx*e-this.ty*t,this.ty=this.tx*t+this.ty*e,this.tx=i},scale:function(t,e){this.a*=t,this.b*=e,this.c*=t,this.d*=e,this.tx*=t,this.ty*=e},setRotation:function(t,e){null==e&&(e=1),this.a=Math.cos(t)*e,this.c=Math.sin(t)*e,this.b=-this.c,this.d=this.a},setTo:function(t,e,i,s,n,r){this.a=t,this.b=e,this.c=i,this.d=s,this.tx=n,this.ty=r},to3DString:function(t){return null==t&&(t=!1),t?"matrix3d("+this.a+", "+this.b+", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+(0|this.tx)+", "+(0|this.ty)+", 0, 1)":"matrix3d("+this.a+", "+this.b+", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+this.tx+", "+this.ty+", 0, 1)"},toString:function(){return"matrix("+this.a+", "+this.b+", "+this.c+", "+this.d+", "+this.tx+", "+this.ty+")"},transformRect:function(t,e){null==e&&(e=new Jl);var i=this.a*t.x+this.c*t.y,s=i,n=this.b*t.x+this.d*t.y,r=n,a=this.a*(t.x+t.width)+this.c*t.y,o=this.b*(t.x+t.width)+this.d*t.y;return a<i&&(i=a),o<n&&(n=o),a>s&&(s=a),o>r&&(r=o),(a=this.a*(t.x+t.width)+this.c*(t.y+t.height))<i&&(i=a),(o=this.b*(t.x+t.width)+this.d*(t.y+t.height))<n&&(n=o),a>s&&(s=a),o>r&&(r=o),(a=this.a*t.x+this.c*(t.y+t.height))<i&&(i=a),(o=this.b*t.x+this.d*(t.y+t.height))<n&&(n=o),a>s&&(s=a),o>r&&(r=o),e.setTo(i+a,n+o,s-i,r-n),e},transformVector:function(t,e){return null==e&&(e=new Zl),e.x=t.x*this.a+t.y*this.c+this.tx,e.y=t.x*this.b+t.y*this.d+this.ty,e},translate:function(t,e){this.tx+=t,this.ty+=e},__class__:gr};var yr=function(t,e,i,s,n,r){null==r&&(r=0),null==n&&(n=0),null==s&&(s=1),null==i&&(i=0),null==e&&(e=0),null==t&&(t=1),this.a=t,this.b=e,this.c=i,this.d=s,this.tx=n,this.ty=r};r["openfl.geom.Matrix"]=yr,yr.__name__="openfl.geom.Matrix",yr.prototype={a:null,b:null,c:null,d:null,tx:null,ty:null,__array:null,clone:function(){return new yr(this.a,this.b,this.c,this.d,this.tx,this.ty)},concat:function(t){var e=this.a*t.a+this.b*t.c;this.b=this.a*t.b+this.b*t.d,this.a=e,e=this.c*t.a+this.d*t.c,this.d=this.c*t.b+this.d*t.d,this.c=e,e=this.tx*t.a+this.ty*t.c+t.tx,this.ty=this.tx*t.b+this.ty*t.d+t.ty,this.tx=e},copyColumnFrom:function(t,e){if(2<t)throw wa.thrown("Column "+t+" out of bounds (2)");0==t?(this.a=e.x,this.b=e.y):1==t?(this.c=e.x,this.d=e.y):(this.tx=e.x,this.ty=e.y)},copyColumnTo:function(t,e){if(2<t)throw wa.thrown("Column "+t+" out of bounds (2)");0==t?(e.x=this.a,e.y=this.b,e.z=0):1==t?(e.x=this.c,e.y=this.d,e.z=0):(e.x=this.tx,e.y=this.ty,e.z=1)},copyFrom:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty},copyRowFrom:function(t,e){if(2<t)throw wa.thrown("Row "+t+" out of bounds (2)");0==t?(this.a=e.x,this.c=e.y,this.tx=e.z):1==t&&(this.b=e.x,this.d=e.y,this.ty=e.z)},copyRowTo:function(t,e){if(2<t)throw wa.thrown("Row "+t+" out of bounds (2)");0==t?(e.x=this.a,e.y=this.c,e.z=this.tx):1==t?(e.x=this.b,e.y=this.d,e.z=this.ty):e.setTo(0,0,1)},createBox:function(t,e,i,s,n){if(null==n&&(n=0),null==s&&(s=0),null==i&&(i=0),0!=i){var r=Math.cos(i);i=Math.sin(i),this.a=r*t,this.b=i*e,this.c=-i*t,this.d=r*e}else this.a=t,this.c=this.b=0,this.d=e;this.tx=s,this.ty=n},createGradientBox:function(t,e,i,s,n){if(null==n&&(n=0),null==s&&(s=0),null==i&&(i=0),this.a=t/1638.4,this.d=e/1638.4,0!=i){var r=Math.cos(i);i=Math.sin(i),this.b=i*this.d,this.c=-i*this.a,this.a*=r,this.d*=r}else this.c=this.b=0;this.tx=s+t/2,this.ty=n+e/2},deltaTransformPoint:function(t){return new Ye(t.x*this.a+t.y*this.c,t.x*this.b+t.y*this.d)},equals:function(t){return null!=t&&this.tx==t.tx&&this.ty==t.ty&&this.a==t.a&&this.b==t.b&&this.c==t.c&&this.d==t.d},identity:function(){this.a=1,this.c=this.b=0,this.d=1,this.ty=this.tx=0},invert:function(){var t=this.a*this.d-this.b*this.c;if(0==t)this.a=this.b=this.c=this.d=0,this.tx=-this.tx,this.ty=-this.ty;else{t=1/t;var e=this.d*t;this.d=this.a*t,this.a=e,this.b*=-t,this.c*=-t,t=-this.a*this.tx-this.c*this.ty,this.ty=-this.b*this.tx-this.d*this.ty,this.tx=t}return this},rotate:function(t){var e=Math.cos(t);t=Math.sin(t);var i=this.a*e-this.b*t;this.b=this.a*t+this.b*e,this.a=i,i=this.c*e-this.d*t,this.d=this.c*t+this.d*e,this.c=i,i=this.tx*e-this.ty*t,this.ty=this.tx*t+this.ty*e,this.tx=i},scale:function(t,e){this.a*=t,this.b*=e,this.c*=t,this.d*=e,this.tx*=t,this.ty*=e},setRotation:function(t,e){null==e&&(e=1),this.a=Math.cos(t)*e,this.c=Math.sin(t)*e,this.b=-this.c,this.d=this.a},setTo:function(t,e,i,s,n,r){this.a=t,this.b=e,this.c=i,this.d=s,this.tx=n,this.ty=r},to3DString:function(t){return null==t&&(t=!1),t?"matrix3d("+this.a+", "+this.b+", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+(0|this.tx)+", "+(0|this.ty)+", 0, 1)":"matrix3d("+this.a+", "+this.b+", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+this.tx+", "+this.ty+", 0, 1)"},toMozString:function(){return"matrix("+this.a+", "+this.b+", "+this.c+", "+this.d+", "+this.tx+"px, "+this.ty+"px)"},toString:function(){return"matrix("+this.a+", "+this.b+", "+this.c+", "+this.d+", "+this.tx+", "+this.ty+")"},transformPoint:function(t){return new Ye(t.x*this.a+t.y*this.c+this.tx,t.x*this.b+t.y*this.d+this.ty)},translate:function(t,e){this.tx+=t,this.ty+=e},toArray:function(t){return null==t&&(t=!1),null==this.__array&&(this.__array=new Float32Array(9)),t?(this.__array[0]=this.a,this.__array[1]=this.b,this.__array[2]=0,this.__array[3]=this.c,this.__array[4]=this.d,this.__array[5]=0,this.__array[6]=this.tx,this.__array[7]=this.ty):(this.__array[0]=this.a,this.__array[1]=this.c,this.__array[2]=this.tx,this.__array[3]=this.b,this.__array[4]=this.d,this.__array[5]=this.ty,this.__array[6]=0,this.__array[7]=0),this.__array[8]=1,this.__array},__cleanValues:function(){this.a=Math.round(1e3*this.a)/1e3,this.b=Math.round(1e3*this.b)/1e3,this.c=Math.round(1e3*this.c)/1e3,this.d=Math.round(1e3*this.d)/1e3,this.tx=Math.round(10*this.tx)/10,this.ty=Math.round(10*this.ty)/10},__toMatrix3:function(){return yr.__matrix3.setTo(this.a,this.b,this.c,this.d,this.tx,this.ty),yr.__matrix3},__transformInversePoint:function(t){var e=this.a*this.d-this.b*this.c;if(0==e)t.x=-this.tx,t.y=-this.ty;else{var i=1/e*(this.c*(this.ty-t.y)+this.d*(t.x-this.tx));t.y=1/e*(this.a*(t.y-this.ty)+this.b*(this.tx-t.x)),t.x=i}},__transformInverseX:function(t,e){var i=this.a*this.d-this.b*this.c;return 0==i?-this.tx:1/i*(this.c*(this.ty-e)+this.d*(t-this.tx))},__transformInverseY:function(t,e){var i=this.a*this.d-this.b*this.c;return 0==i?-this.ty:1/i*(this.a*(e-this.ty)+this.b*(this.tx-t))},__transformPoint:function(t){var e=t.x,i=t.y;t.x=e*this.a+i*this.c+this.tx,t.y=e*this.b+i*this.d+this.ty},__transformX:function(t,e){return t*this.a+e*this.c+this.tx},__transformY:function(t,e){return t*this.b+e*this.d+this.ty},__translateTransformed:function(t,e){this.tx=t*this.a+e*this.c+this.tx,this.ty=t*this.b+e*this.d+this.ty},__class__:yr};var br=function(t,e,i,s,n,r,a,o){null==o&&(o=0),null==a&&(a=0),null==r&&(r=0),null==n&&(n=0),null==s&&(s=1),null==i&&(i=1),null==e&&(e=1),null==t&&(t=1),this.redMultiplier=t,this.greenMultiplier=e,this.blueMultiplier=i,this.alphaMultiplier=s,this.redOffset=n,this.greenOffset=r,this.blueOffset=a,this.alphaOffset=o};r["openfl.geom.ColorTransform"]=br,br.__name__="openfl.geom.ColorTransform",br.prototype={alphaMultiplier:null,alphaOffset:null,blueMultiplier:null,blueOffset:null,greenMultiplier:null,greenOffset:null,redMultiplier:null,redOffset:null,concat:function(t){this.redOffset=t.redOffset*this.redMultiplier+this.redOffset,this.greenOffset=t.greenOffset*this.greenMultiplier+this.greenOffset,this.blueOffset=t.blueOffset*this.blueMultiplier+this.blueOffset,this.alphaOffset=t.alphaOffset*this.alphaMultiplier+this.alphaOffset,this.redMultiplier*=t.redMultiplier,this.greenMultiplier*=t.greenMultiplier,this.blueMultiplier*=t.blueMultiplier,this.alphaMultiplier*=t.alphaMultiplier},toString:function(){return"(redMultiplier="+this.redMultiplier+", greenMultiplier="+this.greenMultiplier+", blueMultiplier="+this.blueMultiplier+", alphaMultiplier="+this.alphaMultiplier+", redOffset="+this.redOffset+", greenOffset="+this.greenOffset+", blueOffset="+this.blueOffset+", alphaOffset="+this.alphaOffset+")"},__clone:function(){return new br(this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,this.alphaOffset)},__copyFrom:function(t){this.redMultiplier=t.redMultiplier,this.greenMultiplier=t.greenMultiplier,this.blueMultiplier=t.blueMultiplier,this.alphaMultiplier=t.alphaMultiplier,this.redOffset=t.redOffset,this.greenOffset=t.greenOffset,this.blueOffset=t.blueOffset,this.alphaOffset=t.alphaOffset},__combine:function(t){this.redMultiplier*=t.redMultiplier,this.greenMultiplier*=t.greenMultiplier,this.blueMultiplier*=t.blueMultiplier,this.alphaMultiplier*=t.alphaMultiplier,this.redOffset+=t.redOffset,this.greenOffset+=t.greenOffset,this.blueOffset+=t.blueOffset,this.alphaOffset+=t.alphaOffset},__identity:function(){this.alphaMultiplier=this.blueMultiplier=this.greenMultiplier=this.redMultiplier=1,this.alphaOffset=this.blueOffset=this.greenOffset=this.redOffset=0},__invert:function(){this.redMultiplier=0!=this.redMultiplier?1/this.redMultiplier:1,this.greenMultiplier=0!=this.greenMultiplier?1/this.greenMultiplier:1,this.blueMultiplier=0!=this.blueMultiplier?1/this.blueMultiplier:1,this.alphaMultiplier=0!=this.alphaMultiplier?1/this.alphaMultiplier:1,this.redOffset=-this.redOffset,this.greenOffset=-this.greenOffset,this.blueOffset=-this.blueOffset,this.alphaOffset=-this.alphaOffset},__equals:function(t,e){return!(null==t||this.redMultiplier!=t.redMultiplier||this.greenMultiplier!=t.greenMultiplier||this.blueMultiplier!=t.blueMultiplier||!e&&this.alphaMultiplier!=t.alphaMultiplier||this.redOffset!=t.redOffset||this.greenOffset!=t.greenOffset||this.blueOffset!=t.blueOffset)&&this.alphaOffset==t.alphaOffset},__isDefault:function(t){return t?1==this.redMultiplier&&1==this.greenMultiplier&&1==this.blueMultiplier&&0==this.redOffset&&0==this.greenOffset&&0==this.blueOffset&&0==this.alphaOffset:1==this.redMultiplier&&1==this.greenMultiplier&&1==this.blueMultiplier&&1==this.alphaMultiplier&&0==this.redOffset&&0==this.greenOffset&&0==this.blueOffset&&0==this.alphaOffset},__setArrays:function(t,e){t[0]=this.redMultiplier,t[1]=this.greenMultiplier,t[2]=this.blueMultiplier,t[3]=this.alphaMultiplier,e[0]=this.redOffset,e[1]=this.greenOffset,e[2]=this.blueOffset,e[3]=this.alphaOffset},get_color:function(){return this.redOffset<<16|this.greenOffset<<8|this.blueOffset},set_color:function(t){return this.redOffset=t>>16&255,this.greenOffset=t>>8&255,this.blueOffset=255&t,this.blueMultiplier=this.greenMultiplier=this.redMultiplier=0,this.get_color()},__toLimeColorMatrix:function(){if(null==br.__limeColorMatrix){var t=new Float32Array(20);br.__limeColorMatrix=t}return br.__limeColorMatrix[0]=this.redMultiplier,br.__limeColorMatrix[4]=this.redOffset/255,br.__limeColorMatrix[6]=this.greenMultiplier,br.__limeColorMatrix[9]=this.greenOffset/255,br.__limeColorMatrix[12]=this.blueMultiplier,br.__limeColorMatrix[14]=this.blueOffset/255,br.__limeColorMatrix[18]=this.alphaMultiplier,br.__limeColorMatrix[19]=this.alphaOffset/255,br.__limeColorMatrix},__class__:br,__properties__:{set_color:"set_color",get_color:"get_color"}};var vr=function(){};r["com.stencyl.utils.Utils"]=vr,vr.__name__="com.stencyl.utils.Utils",vr.__properties__={set_time:"set_time",set_pan:"set_pan",get_pan:"get_pan",set_volume:"set_volume",get_volume:"get_volume"},vr.toBoolean=function(t){return"true"==t},vr.clear=function(t){t.length=0},vr.removeValueFromArray=function(t,e){for(var i=t.length-1;-1<i;)t[i]==e&&t.splice(i,1),--i},vr.contains=function(t,e){if(null==t)return!1;for(var i=t.length-1;-1<i;){if(t[i]==e)return!0;--i}return!1},vr.mapContainsValue=function(t,e){t=t.h;for(var i=Object.keys(t),s=i.length,n=0;n<s;)if(t[i[n++]]==e)return!0;return!1},vr.mapCount=function(t){var e=0;t=Object.keys(t.h).length;for(var i=0;i<t;)i++,++e;return e},vr.mapToList=function(t,e){var i=[];if("keys"==e){e=t.h;for(var s=(e=Object.keys(e)).length,n=0;n<s;){var r=e[n++];i.push(r)}}else for(t=e=t.h,s=(e=Object.keys(e)).length,n=0;n<s;)r=t[e[n++]],i.push(r);return i},vr.clone=function(t){return vr.cloner.clone(t)},vr.copyMap=function(t){for(var e=new pr,i=Object.keys(t.h),s=i.length,n=0;n<s;){var r=i[n++];e.h[r]=t.h[r]}return e},vr.applyToAllChildren=function(t,e){for(var i=0,s=t.get_numChildren();i<s;){var n=i++;(n=t.getChildAt(n))instanceof B&&vr.applyToAllChildren(n,e),e(n)}},vr.removeAllChildren=function(t){for(;0<t.get_numChildren();){var e=t.getChildAt(0);e instanceof B&&vr.removeAllChildren(vo.__cast(e,B)),e instanceof Ic&&vr.removeAllTiles(e),t.removeChild(e)}},vr.removeAllTiles=function(t){for(;0<t.get_numTiles();){var e=t.getTileAt(0);vo.__implements(e,_c)&&vr.removeAllTiles(e),t.removeTile(e)}},vr.demouse=function(t){for(var e=0,i=t.get_numChildren();e<i;){var s=e++;(s=t.getChildAt(s))instanceof B&&vr.demouse(vo.__cast(s,B)),t.mouseChildren=!1,t.mouseEnabled=!1}},vr.getAnchorPoint=function(t){return t=t.getRect(t),new Ye(-1*t.x,-1*t.y)},vr.setCamera=function(t,e){null==e&&(e=0),null==t&&(t=0),vr.camera.x=t,vr.camera.y=e},vr.resetCamera=function(){vr.camera.x=vr.camera.y=0},vr.get_volume=function(){return vr._volume},vr.set_volume=function(t){return 0>t&&(t=0),vr._volume==t?t:(vr._soundTransform.volume=vr._volume=t,vr._volume)},vr.get_pan=function(){return vr._pan},vr.set_pan=function(t){return-1>t&&(t=-1),1<t&&(t=1),vr._pan==t?t:(vr._soundTransform.pan=vr._pan=t,vr._pan)},vr.sign=function(t){return 0>t?-1:0<t?1:0},vr.approach=function(t,e,i){return t<e?e<t+i?e:t+i:e>t-i?e:t-i},vr.lerp=function(t,e,i){return null==i&&(i=1),t+(e-t)*i},vr.colorLerp=function(t,e,i){if(null==i&&(i=1),0>=i)return t;if(1<=i)return e;var s=t>>24&255,n=t>>16&255,r=t>>8&255;return s+(((e>>24&255)-s)*i|0)<<24|n+(((e>>16&255)-n)*i|0)<<16|r+(((e>>8&255)-r)*i|0)<<8|(t&=255)+(((255&e)-t)*i|0)},vr.stepTowards=function(t,e,i,s){null==s&&(s=1),vr.point.x=e-t.x,vr.point.y=i-t.y,vr.point.get_length()<=s?(t.x=e,t.y=i):(vr.point.normalize(s),t.x+=vr.point.x,t.y+=vr.point.y)},vr.anchorTo=function(t,e,i){null==i&&(i=0),vr.point.x=t.x-e.x,vr.point.y=t.y-e.y,vr.point.get_length()>i&&vr.point.normalize(i),t.x=e.x+vr.point.x,t.y=e.y+vr.point.y},vr.angle=function(t,e,i,s){return 0>(t=57.29577951308402*Math.atan2(s-e,i-t))?t+360:t},vr.angleXY=function(t,e,i,s,n){null==n&&(n=0),null==s&&(s=0),null==i&&(i=1),e*=.01745329251994278,t.x=Math.cos(e)*i+s,t.y=Math.sin(e)*i+n},vr.rotateAround=function(t,e,i,s){null==s&&(s=!0),null==i&&(i=0),s&&(i+=0>(s=57.29577951308402*Math.atan2(t.y-e.y,t.x-e.x))?s+360:s),s=e.x;var n=e.y,r=t.x,a=t.y;null==a&&(a=0),null==r&&(r=0),s=Math.sqrt((r-s)*(r-s)+(a-n)*(a-n)),n=e.x,null==(e=e.y)&&(e=0),null==n&&(n=0),null==s&&(s=1),i*=.01745329251994278,t.x=Math.cos(i)*s+n,t.y=Math.sin(i)*s+e},vr.distance=function(t,e,i,s){return null==s&&(s=0),null==i&&(i=0),Math.sqrt((i-t)*(i-t)+(s-e)*(s-e))},vr.distanceSquared=function(t,e,i,s){return null==s&&(s=0),null==i&&(i=0),(i-t)*(i-t)+(s-e)*(s-e)},vr.distanceRects=function(t,e,i,s,n,r,a,o){return t<n+a&&n<t+i?e<r+o&&r<e+s?0:e>r?e-(r+o):r-(e+s):e<r+o&&r<e+s?t>n?t-(n+a):n-(t+i):t>n?e>r?(null==(r+=o)&&(r=0),null==(n+=a)&&(n=0),Math.sqrt((n-t)*(n-t)+(r-e)*(r-e))):(e+=s,null==r&&(r=0),null==(n+=a)&&(n=0),Math.sqrt((n-t)*(n-t)+(r-e)*(r-e))):e>r?(t+=i,null==(r+=o)&&(r=0),null==n&&(n=0),Math.sqrt((n-t)*(n-t)+(r-e)*(r-e))):(t+=i,e+=s,null==r&&(r=0),null==n&&(n=0),Math.sqrt((n-t)*(n-t)+(r-e)*(r-e)))},vr.distanceRectPoint=function(t,e,i,s,n,r){return t>=i&&t<=i+n?e>=s&&e<=s+r?0:e>s?e-(s+r):s-e:e>=s&&e<=s+r?t>i?t-(i+n):i-t:t>i?e>s?(null==(s+=r)&&(s=0),null==(i+=n)&&(i=0),Math.sqrt((i-t)*(i-t)+(s-e)*(s-e))):(null==s&&(s=0),null==(i+=n)&&(i=0),Math.sqrt((i-t)*(i-t)+(s-e)*(s-e))):e>s?(null==(s+=r)&&(s=0),null==i&&(i=0),Math.sqrt((i-t)*(i-t)+(s-e)*(s-e))):(null==s&&(s=0),null==i&&(i=0),Math.sqrt((i-t)*(i-t)+(s-e)*(s-e)))},vr.clamp=function(t,e,i){return i>e?(t<i||(t=i),t>e?t:e):(t<e||(t=e),t>i?t:i)},vr.clampInRect=function(t,e,i,s,n,r){null==r&&(r=0),t.x=vr.clamp(t.x,e+r,e+s-r),t.y=vr.clamp(t.y,i+r,i+n-r)},vr.scale=function(t,e,i,s,n){return s+(t-e)/(i-e)*(n-s)},vr.scaleClamp=function(t,e,i,s,n){return t=s+(t-e)/(i-e)*(n-s),n>s?(t<n||(t=n),t>s?t:s):(t<s||(t=s),t>n?t:n)},vr.indexOf=function(t,e){for(var i=0,s=0;s<t.length;){var n=t[s];if(++s,e==n)return i;++i}return-1},vr.next=function(t,e,i){return null==i&&(i=!0),i?e[(vr.indexOf(e,t)+1)%e.length]:e[0|Math.max(vr.indexOf(e,t)+1,e.length-1)]},vr.prev=function(t,e,i){return null==i&&(i=!0),i?e[(vr.indexOf(e,t)-1+e.length)%e.length]:e[0|Math.max(vr.indexOf(e,t)-1,0)]},vr.swap=function(t,e,i){return t==e?i:e},vr.getColorRGB=function(t,e,i){return null==i&&(i=0),null==e&&(e=0),null==t&&(t=0),t<<16|e<<8|i},vr.getRed=function(t){return t>>16&255},vr.getGreen=function(t){return t>>8&255},vr.getBlue=function(t){return 255&t},vr.convertColor=function(t){return 0>t?t+16777216:t},vr.timeFlag=function(){var t=(new Date).getTime()/1e3,e=t-vr._time;return vr._time=t,e},vr.frames=function(t,e,i){null==i&&(i=0);var s=[];if(++i,t<e)for(;t<=e;)s.push(t),t+=i;else for(;t>=e;)s.push(t),t-=i;return s},vr.set_time=function(t){return vr._time=t,vr._time},vr.printCallstackIfAvailable=function(){return"\n"+xa.toString(xa.callStack())},vr.printExceptionstackIfAvailable=function(){return"\n"+xa.toString(xa.exceptionStack())},vr.saveToSharedObject=function(t,e,i){try{t.data[e]=vr.clone(i)}catch(e){if(Ma.lastError=e,"string"!=typeof(t=wa.caught(e).unwrap()))throw e;if("deep clone"!=t)throw wa.thrown(t)}},vr.loadFromSharedObject=function(t,e){return vr.cloner.clone(f.field(t.data,e))},vr.flushSharedObject=function(t,e){var i=null;try{i=t.flush()}catch(t){return Ma.lastError=t,void(null!=e&&e(!1))}0==i&&null!=e&&e(!0)},vr.saveMap=function(t,e,i){e=Xd.getLocal(e,sl.current.meta.h.localSavePath);for(var s=Object.keys(t.h),n=s.length,r=0;r<n;){var a=s[r++];e.data[a]=t.h[a]}vr.flushSharedObject(e,i)},vr.loadMap=function(t,e,i){e=Xd.getLocal(e,sl.current.meta.h.localSavePath);for(var s=0,n=f.fields(e.data);s<n.length;){var r=n[s];++s,t.h[r]=f.field(e.data,r)}null!=i&&i(!0)},vr.convertLegacySharedObject=function(t,e){},vr.getFlatName=function(t){return t=v.replace(t,"/","_"),t=v.replace(t,".","_"),v.replace(t,"-","_")},vr.getAssetClass=function(t){return t="__ASSET__"+vr.getFlatName(t),r[t]},vr.getConfigBytes=function(t){return Pa.getBytes(vr.getFlatName(t))},vr.getConfigText=function(t){return Pa.getString(vr.getFlatName(t))},vr.getConfigBitmap=function(t){try{var e=vr.getFlatName(v.replace(t,".png",".txt")),i=Pa.getString(e);return O_.loadFromBase64(i,"png").then(function(t){return rl.withValue(new di(t))})}catch(e){if(Ma.lastError=e,"string"==typeof(t=wa.caught(e).unwrap()))return rl.withError("(You probably have a old browser) Error occurred: "+t);throw e}},vr.loadBytes=function(t){return t=w.createInstance(vr.getAssetClass(t),[]),h_.ofData(Fm.toArrayBuffer(t))},vr.loadText=function(t){return(t=vr.loadBytes(t)).getString(0,t.length)},vr.loadBitmapData=function(t){return t=El.fromFile(t),O_.fromImage(t)},vr.resetStatics=function(){vr.width=0,vr.height=0,vr.elapsed=0,vr.rate=1,vr.bounds=null,vr.camera=new Ye,vr._time=0,vr._updateTime=0,vr._renderTime=0,vr._gameTime=0,vr._flashTime=0,vr._bitmap=new pr,vr._seed=0,vr._getSeed=0,vr._volume=1,vr._pan=0,vr._soundTransform=new mr,vr.stage=null,vr.point=new Ye,vr.point2=new Ye,vr.zero=new Ye,vr.rect=new je,vr.matrix=new yr,vr.sprite=new D,vr.collision=new In};var xr=function(){};r["com.stencyl.utils.motion.EasingFunction"]=xr,xr.__name__="com.stencyl.utils.motion.EasingFunction",xr.prototype={apply:function(t){return 0},__class__:xr};var wr=function(){};r["com.stencyl.utils.motion.BackIn"]=wr,wr.__name__="com.stencyl.utils.motion.BackIn",wr.__super__=xr,wr.prototype=i(xr.prototype,{apply:function(t){return 0==t?0:1==t?1:t*t*(2.70158*t-1.70158)},__class__:wr});var Sr=function(){};r["com.stencyl.utils.motion.BackInOut"]=Sr,Sr.__name__="com.stencyl.utils.motion.BackInOut",Sr.__super__=xr,Sr.prototype=i(xr.prototype,{apply:function(t){return 0==t?0:1==t?1:1>(t*=2)?.5*t*t*(3.5949095*t-2.5949095):.5*((t-=2)*t*(3.5949095*t+2.5949095)+2)},__class__:Sr});var Rr=function(){};r["com.stencyl.utils.motion.BackOut"]=Rr,Rr.__name__="com.stencyl.utils.motion.BackOut",Rr.__super__=xr,Rr.prototype=i(xr.prototype,{apply:function(t){return 0==t?0:1==t?1:--t*t*(2.70158*t+1.70158)+1},__class__:Rr});var Ar=function(){};r["com.stencyl.utils.motion.BackOutIn"]=Ar,Ar.__name__="com.stencyl.utils.motion.BackOutIn",Ar.__super__=xr,Ar.prototype=i(xr.prototype,{apply:function(t){return 0==t?0:1==t?1:.5>t?.5*((t=2*t-1)*t*(2.70158*t+1.70158)+1):.5*(t=2*t-1)*t*(2.70158*t-1.70158)+.5},__class__:Ar});var Tr=function(){};r["com.stencyl.utils.motion.BounceIn"]=Tr,Tr.__name__="com.stencyl.utils.motion.BounceIn",Tr.__super__=xr,Tr.prototype=i(xr.prototype,{apply:function(t){return.36363636363636365>(t=1-t)?1-7.5625*t*t:.7272727272727273>t?1-(7.5625*(t-=.5454545454545454)*t+.75):.9090909090909091>t?1-(7.5625*(t-=.8181818181818182)*t+.9375):1-(7.5625*(t-=.9545454545454546)*t+.984375)},__class__:Tr});var Mr=function(){};r["com.stencyl.utils.motion.BounceInOut"]=Mr,Mr.__name__="com.stencyl.utils.motion.BounceInOut",Mr.__super__=xr,Mr.prototype=i(xr.prototype,{apply:function(t){return.5>t?.36363636363636365>(t=1-2*t)?.5*(1-7.5625*t*t):.7272727272727273>t?.5*(1-(7.5625*(t-=.5454545454545454)*t+.75)):.9090909090909091>t?.5*(1-(7.5625*(t-=.8181818181818182)*t+.9375)):.5*(1-(7.5625*(t-=.9545454545454546)*t+.984375)):.36363636363636365>(t=2*t-1)?7.5625*t*t*.5+.5:.7272727272727273>t?.5*(7.5625*(t-=.5454545454545454)*t+.75)+.5:.9090909090909091>t?.5*(7.5625*(t-=.8181818181818182)*t+.9375)+.5:.5*(7.5625*(t-=.9545454545454546)*t+.984375)+.5},__class__:Mr});var Pr=function(){};r["com.stencyl.utils.motion.BounceOut"]=Pr,Pr.__name__="com.stencyl.utils.motion.BounceOut",Pr.__super__=xr,Pr.prototype=i(xr.prototype,{apply:function(t){return.36363636363636365>t?7.5625*t*t:.7272727272727273>t?7.5625*(t-=.5454545454545454)*t+.75:.9090909090909091>t?7.5625*(t-=.8181818181818182)*t+.9375:7.5625*(t-=.9545454545454546)*t+.984375},__class__:Pr});var Cr=function(){};r["com.stencyl.utils.motion.BounceOutIn"]=Cr,Cr.__name__="com.stencyl.utils.motion.BounceOutIn",Cr.__super__=xr,Cr.prototype=i(xr.prototype,{apply:function(t){return.5>t?.36363636363636365>(t*=2)?3.78125*t*t:.7272727272727273>t?.5*(7.5625*(t-=.5454545454545454)*t+.75):.9090909090909091>t?.5*(7.5625*(t-=.8181818181818182)*t+.9375):.5*(7.5625*(t-=.9545454545454546)*t+.984375):.36363636363636365>(t=1-(2*t-1))?.5-3.78125*t*t+.5:.7272727272727273>t?.5-.5*(7.5625*(t-=.5454545454545454)*t+.75)+.5:.9090909090909091>t?.5-.5*(7.5625*(t-=.8181818181818182)*t+.9375)+.5:.5-.5*(7.5625*(t-=.9545454545454546)*t+.984375)+.5},__class__:Cr});var Ir=function(){};r["com.stencyl.utils.motion.CircIn"]=Ir,Ir.__name__="com.stencyl.utils.motion.CircIn",Ir.__super__=xr,Ir.prototype=i(xr.prototype,{apply:function(t){return-1>t||1<t?0:1-Math.sqrt(1-t*t)},__class__:Ir});var Er=function(){};r["com.stencyl.utils.motion.CircInOut"]=Er,Er.__name__="com.stencyl.utils.motion.CircInOut",Er.__super__=xr,Er.prototype=i(xr.prototype,{apply:function(t){return-.5>t||1.5<t?.5:1>(t*=2)?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},__class__:Er});var kr=function(){};r["com.stencyl.utils.motion.CircOut"]=kr,kr.__name__="com.stencyl.utils.motion.CircOut",kr.__super__=xr,kr.prototype=i(xr.prototype,{apply:function(t){return 0>t||2<t?0:Math.sqrt(t*(2-t))},__class__:kr});var Fr=function(){};r["com.stencyl.utils.motion.CircOutIn"]=Fr,Fr.__name__="com.stencyl.utils.motion.CircOutIn",Fr.__super__=xr,Fr.prototype=i(xr.prototype,{apply:function(t){return 0>t?0:1<t?1:.5>t?(t=2*t-1,.5*Math.sqrt(1-t*t)):(t=2*t-1,-.5*(Math.sqrt(1-t*t)-1-1))},__class__:Fr});var Br=function(){};r["com.stencyl.utils.motion.CubicIn"]=Br,Br.__name__="com.stencyl.utils.motion.CubicIn",Br.__super__=xr,Br.prototype=i(xr.prototype,{apply:function(t){return t*t*t},__class__:Br});var Dr=function(){};r["com.stencyl.utils.motion.CubicInOut"]=Dr,Dr.__name__="com.stencyl.utils.motion.CubicInOut",Dr.__super__=xr,Dr.prototype=i(xr.prototype,{apply:function(t){return 1>(t*=2)?.5*t*t*t:.5*((t-=2)*t*t+2)},__class__:Dr});var Lr=function(){};r["com.stencyl.utils.motion.CubicOut"]=Lr,Lr.__name__="com.stencyl.utils.motion.CubicOut",Lr.__super__=xr,Lr.prototype=i(xr.prototype,{apply:function(t){return--t*t*t+1},__class__:Lr});var Nr=function(){};r["com.stencyl.utils.motion.CubicOutIn"]=Nr,Nr.__name__="com.stencyl.utils.motion.CubicOutIn",Nr.__super__=xr,Nr.prototype=i(xr.prototype,{apply:function(t){return.5*((t=2*t-1)*t*t+1)},__class__:Nr});var Or=function(){};r["com.stencyl.utils.motion.ElasticIn"]=Or,Or.__name__="com.stencyl.utils.motion.ElasticIn",Or.__super__=xr,Or.prototype=i(xr.prototype,{apply:function(t){return 0==t?0:1==t?1:-Math.exp(6.931471805599453*--t)*Math.sin(6.283185307179586*(.001*t-75e-6)/3e-4)},__class__:Or});var Vr=function(){};r["com.stencyl.utils.motion.ElasticInOut"]=Vr,Vr.__name__="com.stencyl.utils.motion.ElasticInOut",Vr.__super__=xr,Vr.prototype=i(xr.prototype,{apply:function(t){return 0==t?0:1==t?1:1>(t*=2)?-.5*Math.exp(6.931471805599453*--t)*Math.sin(6.283185307179586*(.001*t-75e-6)/3e-4):Math.exp(-6.931471805599453*--t)*Math.sin(6.283185307179586*(.001*t-75e-6)/3e-4)*.5+1},__class__:Vr});var Gr=function(){};r["com.stencyl.utils.motion.ElasticOut"]=Gr,Gr.__name__="com.stencyl.utils.motion.ElasticOut",Gr.__super__=xr,Gr.prototype=i(xr.prototype,{apply:function(t){return 0==t?0:1==t?1:Math.exp(-6.931471805599453*t)*Math.sin(6.283185307179586*(.001*t-75e-6)/3e-4)+1},__class__:Gr});var Ur=function(){};r["com.stencyl.utils.motion.ElasticOutIn"]=Ur,Ur.__name__="com.stencyl.utils.motion.ElasticOutIn",Ur.__super__=xr,Ur.prototype=i(xr.prototype,{apply:function(t){return.5>t?0==(t*=2)?0:.5*Math.exp(-6.931471805599453*t)*Math.sin(6.283185307179586*(.001*t-75e-6)/3e-4)+.5:.5==t?.5:1==t?1:(t=2*t-1,-.5*Math.exp(6.931471805599453*--t)*Math.sin(6.283185307179586*(.001*t-75e-6)/3e-4)+.5)},__class__:Ur});var zr=function(){};r["com.stencyl.utils.motion.ExpoIn"]=zr,zr.__name__="com.stencyl.utils.motion.ExpoIn",zr.__super__=xr,zr.prototype=i(xr.prototype,{apply:function(t){return 0==t?0:Math.exp(6.931471805599453*(t-1))},__class__:zr});var Hr=function(){};r["com.stencyl.utils.motion.ExpoInOut"]=Hr,Hr.__name__="com.stencyl.utils.motion.ExpoInOut",Hr.__super__=xr,Hr.prototype=i(xr.prototype,{apply:function(t){return 0==t?0:1==t?1:1>(t*=2)?.5*Math.exp(6.931471805599453*(t-1)):.5*(2-Math.exp(-6.931471805599453*(t-1)))},__class__:Hr});var Wr=function(){};r["com.stencyl.utils.motion.ExpoOut"]=Wr,Wr.__name__="com.stencyl.utils.motion.ExpoOut",Wr.__super__=xr,Wr.prototype=i(xr.prototype,{apply:function(t){return 1==t?1:1-Math.exp(-6.931471805599453*t)},__class__:Wr});var Xr=function(){};r["com.stencyl.utils.motion.ExpoOutIn"]=Xr,Xr.__name__="com.stencyl.utils.motion.ExpoOutIn",Xr.__super__=xr,Xr.prototype=i(xr.prototype,{apply:function(t){return.5>t?.5*(1-Math.exp(-13.862943611198906*t)):.5==t?.5:.5*(Math.exp(13.862943611198906*(t-1))+1)},__class__:Xr});var Yr=function(){};r["com.stencyl.utils.motion.Linear"]=Yr,Yr.__name__="com.stencyl.utils.motion.Linear",Yr.__super__=xr,Yr.prototype=i(xr.prototype,{apply:function(t){return t},__class__:Yr});var jr=function(){};r["com.stencyl.utils.motion.QuadIn"]=jr,jr.__name__="com.stencyl.utils.motion.QuadIn",jr.__super__=xr,jr.prototype=i(xr.prototype,{apply:function(t){return t*t},__class__:jr});var Kr=function(){};r["com.stencyl.utils.motion.QuadInOut"]=Kr,Kr.__name__="com.stencyl.utils.motion.QuadInOut",Kr.__super__=xr,Kr.prototype=i(xr.prototype,{apply:function(t){return.5>t?2*t*t:-2*--t*t+1},__class__:Kr});var Jr=function(){};r["com.stencyl.utils.motion.QuadOut"]=Jr,Jr.__name__="com.stencyl.utils.motion.QuadOut",Jr.__super__=xr,Jr.prototype=i(xr.prototype,{apply:function(t){return-t*(t-2)},__class__:Jr});var Zr=function(){};r["com.stencyl.utils.motion.QuadOutIn"]=Zr,Zr.__name__="com.stencyl.utils.motion.QuadOutIn",Zr.__super__=xr,Zr.prototype=i(xr.prototype,{apply:function(t){return.5>t?-.5*(t*=2)*(t-2):.5*(t=2*t-1)*t+.5},__class__:Zr});var Qr=function(){};r["com.stencyl.utils.motion.QuartIn"]=Qr,Qr.__name__="com.stencyl.utils.motion.QuartIn",Qr.__super__=xr,Qr.prototype=i(xr.prototype,{apply:function(t){return(t*=t)*t},__class__:Qr});var qr=function(){};r["com.stencyl.utils.motion.QuartInOut"]=qr,qr.__name__="com.stencyl.utils.motion.QuartInOut",qr.__super__=xr,qr.prototype=i(xr.prototype,{apply:function(t){return 1>(t*=2)?.5*(t*=t)*t:-.5*((t*=t-=2)*t-2)},__class__:qr});var $r=function(){};r["com.stencyl.utils.motion.QuartOut"]=$r,$r.__name__="com.stencyl.utils.motion.QuartOut",$r.__super__=xr,$r.prototype=i(xr.prototype,{apply:function(t){return 1-(t*=--t)*t},__class__:$r});var ta=function(){};r["com.stencyl.utils.motion.QuartOutIn"]=ta,ta.__name__="com.stencyl.utils.motion.QuartOutIn",ta.__super__=xr,ta.prototype=i(xr.prototype,{apply:function(t){return.5>t?(t=2*t-1,-.5*(t*=t)*t+.5):(t=2*t-1,.5*(t*=t)*t+.5)},__class__:ta});var ea=function(){};r["com.stencyl.utils.motion.QuintIn"]=ea,ea.__name__="com.stencyl.utils.motion.QuintIn",ea.__super__=xr,ea.prototype=i(xr.prototype,{apply:function(t){return t*(t*=t)*t},__class__:ea});var ia=function(){};r["com.stencyl.utils.motion.QuintInOut"]=ia,ia.__name__="com.stencyl.utils.motion.QuintInOut",ia.__super__=xr,ia.prototype=i(xr.prototype,{apply:function(t){return 1>(t*=2)?.5*t*(t*=t)*t:.5*(t-=2)*(t*=t)*t+1},__class__:ia});var sa=function(){};r["com.stencyl.utils.motion.QuintOut"]=sa,sa.__name__="com.stencyl.utils.motion.QuintOut",sa.__super__=xr,sa.prototype=i(xr.prototype,{apply:function(t){return--t*(t*=t)*t+1},__class__:sa});var na=function(){};r["com.stencyl.utils.motion.QuintOutIn"]=na,na.__name__="com.stencyl.utils.motion.QuintOutIn",na.__super__=xr,na.prototype=i(xr.prototype,{apply:function(t){return.5*((t=2*t-1)*(t*=t)*t+1)},__class__:na});var ra=function(){};r["com.stencyl.utils.motion.SineIn"]=ra,ra.__name__="com.stencyl.utils.motion.SineIn",ra.__super__=xr,ra.prototype=i(xr.prototype,{apply:function(t){return 0==t?0:1==t?1:1-Math.cos(1.5707963267948966*t)},__class__:ra});var aa=function(){};r["com.stencyl.utils.motion.SineInOut"]=aa,aa.__name__="com.stencyl.utils.motion.SineInOut",aa.__super__=xr,aa.prototype=i(xr.prototype,{apply:function(t){return 0==t?0:1==t?1:-.5*(Math.cos(3.141592653589793*t)-1)},__class__:aa});var oa=function(){};r["com.stencyl.utils.motion.SineOut"]=oa,oa.__name__="com.stencyl.utils.motion.SineOut",oa.__super__=xr,oa.prototype=i(xr.prototype,{apply:function(t){return 0==t?0:1==t?1:Math.sin(1.5707963267948966*t)},__class__:oa});var la=function(){};r["com.stencyl.utils.motion.SineOutIn"]=la,la.__name__="com.stencyl.utils.motion.SineOutIn",la.__super__=xr,la.prototype=i(xr.prototype,{apply:function(t){return 0==t?0:1==t?1:.5>t?.5*Math.sin(3.141592653589793*t):-.5*Math.cos(1.5707963267948966*(2*t-1))+1},__class__:la});var ha=function(){};r["com.stencyl.utils.motion.WarpIn"]=ha,ha.__name__="com.stencyl.utils.motion.WarpIn",ha.__super__=xr,ha.prototype=i(xr.prototype,{apply:function(t){return 1>t?0:1},__class__:ha});var _a=function(){};r["com.stencyl.utils.motion.WarpInOut"]=_a,_a.__name__="com.stencyl.utils.motion.WarpInOut",_a.__super__=xr,_a.prototype=i(xr.prototype,{apply:function(t){return.5>t?0:1},__class__:_a});var ca=function(){};r["com.stencyl.utils.motion.WarpOut"]=ca,ca.__name__="com.stencyl.utils.motion.WarpOut",ca.__super__=xr,ca.prototype=i(xr.prototype,{apply:function(t){return 0>=t?0:1},__class__:ca});var ua=function(){};r["com.stencyl.utils.motion.WarpOutIn"]=ua,ua.__name__="com.stencyl.utils.motion.WarpOutIn",ua.__super__=xr,ua.prototype=i(xr.prototype,{apply:function(t){return 0>=t?0:1>t?.5:1},__class__:ua});var da=function(){};r["com.stencyl.utils.motion.Easing"]=da,da.__name__="com.stencyl.utils.motion.Easing";var ma=function(){};r["com.stencyl.utils.motion.EasingConstants"]=ma,ma.__name__="com.stencyl.utils.motion.EasingConstants";var pa=function(){this.paused=this.finished=this.active=!1};r["com.stencyl.utils.motion.TweenObject"]=pa,pa.__name__="com.stencyl.utils.motion.TweenObject",pa.prototype={easing:null,time:null,duration:null,active:null,paused:null,updated:null,finished:null,onUpdate:null,onComplete:null,_tween:function(t,e){null==t&&(t=da.linear),this.easing=t,this.duration=e,this.active||ya.markActive(this),this.time=0,this.active=!0,this.paused=this.finished=this.updated=!1,0==e&&(this.duration=1,ya.finish(this))},update:function(t){this.paused||(this.time+=t,this.time>this.duration&&(this.time=this.duration),this.updateValue(),this.updated=!0,this.time==this.duration?(this.active=!1,this.finished=!0,null!=this.onUpdate&&this.onUpdate(),null!=this.onComplete&&this.onComplete()):null!=this.onUpdate&&this.onUpdate())},updateValue:function(){},doOnUpdate:function(t){return this.onUpdate=t,this},doOnComplete:function(t){return this.onComplete=t,this},__class__:pa};var fa=function(){pa.call(this)};r["com.stencyl.utils.motion.TweenFloat"]=fa,fa.__name__="com.stencyl.utils.motion.TweenFloat",fa.__super__=pa,fa.prototype=i(pa.prototype,{startValue:null,endValue:null,value:null,tween:function(t,e,i,s){return this.startValue=t,this.endValue=e,this.value=t,this._tween(i,s),this},updateValue:function(){var t=this.easing.apply(this.time/this.duration);this.value=this.startValue*(1-t)+this.endValue*t},__class__:fa});var ga=function(){pa.call(this)};r["com.stencyl.utils.motion.TweenFloat2"]=ga,ga.__name__="com.stencyl.utils.motion.TweenFloat2",ga.__super__=pa,ga.prototype=i(pa.prototype,{startValue1:null,endValue1:null,value1:null,startValue2:null,endValue2:null,value2:null,tween:function(t,e,i,s,n,r){return this.startValue1=t,this.endValue1=e,this.value1=t,this.startValue2=i,this.endValue2=s,this.value2=i,this._tween(n,r),this},updateValue:function(){var t=this.easing.apply(this.time/this.duration);this.value1=this.startValue1*(1-t)+this.endValue1*t,this.value2=this.startValue2*(1-t)+this.endValue2*t},__class__:ga});var ya=function(){};r["com.stencyl.utils.motion.TweenManager"]=ya,ya.__name__="com.stencyl.utils.motion.TweenManager",ya.resetStatics=function(){ya.activeObjects=[],ya.finishedObjects=[]},ya.markActive=function(t){ya.activeObjects.push(t)},ya.cancel=function(t){var e=ya.activeObjects.indexOf(t);-1!=e&&(t.active=!1,t.updated=!1,t.finished=!1,t.paused=!1,ya.activeObjects[e]=ya.activeObjects[ya.activeObjects.length-1],ya.activeObjects.pop())},ya.finish=function(t){var e=ya.activeObjects.indexOf(t);-1!=e&&(t.update(t.duration-t.time),ya.activeObjects[e]=ya.activeObjects[ya.activeObjects.length-1],ya.activeObjects.pop(),ya.finishedObjects.push(t))},ya.update=function(t){for(var e=ya.finishedObjects.length;0<e--;)ya.finishedObjects.pop().updated=!1;for(e=ya.activeObjects.length;0<e--;){var i=ya.activeObjects[e];i.update(t),i.finished&&(ya.activeObjects[e]=ya.activeObjects[ya.activeObjects.length-1],ya.activeObjects.pop(),ya.finishedObjects.push(i))}},ya.timer=function(t){return(new ba).tween(t)};var ba=function(){pa.call(this)};r["com.stencyl.utils.motion.TweenTimer"]=ba,ba.__name__="com.stencyl.utils.motion.TweenTimer",ba.__super__=pa,ba.prototype=i(pa.prototype,{tween:function(t){return this._tween(da.linear,t),this},updateValue:function(){},__class__:ba});var va=o["haxe.StackItem"]={__ename__:"haxe.StackItem",__constructs__:null,CFunction:{_hx_name:"CFunction",_hx_index:0,__enum__:"haxe.StackItem",toString:a},Module:(l=function(t){return{_hx_index:1,m:t,__enum__:"haxe.StackItem",toString:a}},l._hx_name="Module",l.__params__=["m"],l),FilePos:(l=function(t,e,i,s){return{_hx_index:2,s:t,file:e,line:i,column:s,__enum__:"haxe.StackItem",toString:a}},l._hx_name="FilePos",l.__params__=["s","file","line","column"],l),Method:(l=function(t,e){return{_hx_index:3,classname:t,method:e,__enum__:"haxe.StackItem",toString:a}},l._hx_name="Method",l.__params__=["classname","method"],l),LocalFunction:(l=function(t){return{_hx_index:4,v:t,__enum__:"haxe.StackItem",toString:a}},l._hx_name="LocalFunction",l.__params__=["v"],l)};va.__constructs__=[va.CFunction,va.Module,va.FilePos,va.Method,va.LocalFunction];var xa={callStack:function(){return Ma.toHaxe(Ma.callStack())},exceptionStack:function(t){null==t&&(t=!1);var e=Ma.toHaxe(Ma.exceptionStack());return t?e:xa.subtract(e,xa.callStack())},toString:function(t){for(var e=new b,i=0;i<t.length;){var s=t[i];++i,e.b+="\nCalled from ",xa.itemToString(e,s)}return e.b},subtract:function(t,e){for(var i=-1,s=-1;++s<t.length;){for(var n=0,r=e.length;n<r;){var a=n++;if(xa.equalItems(t[s],e[a])){if(0>i&&(i=s),++s>=t.length)break}else i=-1}if(0<=i)break}return 0<=i?t.slice(0,i):t},equalItems:function(t,e){if(null==t)return null==e;switch(t._hx_index){case 0:return null!=e&&0==e._hx_index;case 1:return null!=e&&1==e._hx_index&&t.m==e.m;case 2:if(null==e)return!1;if(2==e._hx_index){var i=e.s,s=e.line,n=e.column,r=t.column,a=t.line,o=t.s;return t.file==e.file&&a==s&&r==n&&xa.equalItems(o,i)}return!1;case 3:return null!=e&&3==e._hx_index&&(i=e.method,s=t.method,t.classname==e.classname&&s==i);case 4:return null!=e&&4==e._hx_index&&t.v==e.v}},itemToString:function(t,e){switch(e._hx_index){case 0:t.b+="a C function";break;case 1:e=e.m,t.b+="module ",t.b+=null==e?"null":""+e;break;case 2:var i=e.s,s=e.file,n=e.line;e=e.column,null!=i&&(xa.itemToString(t,i),t.b+=" ("),t.b+=null==s?"null":""+s,t.b+=" line ",t.b+=null==n?"null":""+n,null!=e&&(t.b+=" column ",t.b+=null==e?"null":""+e),null!=i&&(t.b+=")");break;case 3:i=e.classname,e=e.method,t.b+=g.string(null==i?"<unknown>":i),t.b+=".",t.b+=null==e?"null":""+e;break;case 4:e=e.v,t.b+="local function #",t.b+=null==e?"null":""+e}}},wa=function(t,e,i){if(Error.call(this,t),this.message=t,this.__previousException=e,this.__nativeException=null!=i?i:this,this.__skipStack=0,t=Error.prepareStackTrace,Error.prepareStackTrace=function(t){return t.stack},i instanceof Error)this.stack=i.stack;else{if(i=null,Error.captureStackTrace)Error.captureStackTrace(this,wa),i=this;else if(void 0===(i=Error()).stack){try{throw i}catch(t){}this.__skipStack++}this.stack=i.stack}Error.prepareStackTrace=t};r["haxe.Exception"]=wa,wa.__name__="haxe.Exception",wa.caught=function(t){return t instanceof wa?t:t instanceof Error?new wa(t.message,null,t):new Ba(t,null,t)},wa.thrown=function(t){return t instanceof wa?t.get_native():(t instanceof Error||(t=new Ba(t)).__skipStack++,t)},wa.__super__=Error,wa.prototype=i(Error.prototype,{__skipStack:null,__nativeException:null,__previousException:null,unwrap:function(){return this.__nativeException},toString:function(){return this.get_message()},__shiftStack:function(){this.__skipStack++},get_message:function(){return this.message},get_native:function(){return this.__nativeException},get_stack:function(){var t=this.__exceptionStack;return null==t&&(t=Ma.toHaxe(Ma.normalize(this.stack),this.__skipStack),this.setProperty("__exceptionStack",t)),t},setProperty:function(t,e){try{Object.defineProperty(this,t,{value:e})}catch(i){this[t]=e}},__class__:wa,__properties__:{get_native:"get_native",get_stack:"get_stack",get_message:"get_message"}});var Sa={ucompare:function(t,e){return 0>t?0>e?~e-~t|0:1:0>e?-1:t-e|0}},Ra={toString:function(t){var e=t;if(0==e.high&&0==e.low)return"0";var i="",s=!1;0>e.high&&(s=!0);for(var n=t=new Aa(0,10);0!=e.high||0!=e.low;)if(0>(t=Ra.divMod(e,n)).modulus.high){var r=t.modulus;e=~r.high,0==(r=1+~r.low|0)&&e++,i=r+i,t=~(e=t.quotient).high,0==(e=1+~e.low|0)&&(t++,t|=0),e=t=new Aa(t,e)}else i=t.modulus.low+i,e=t.quotient;return s&&(i="-"+i),i},divMod:function(t,e){if(0==e.high)switch(e.low){case 0:throw wa.thrown("divide by zero");case 1:var i=new Aa(t.high,t.low),s=new Aa(0,0);return{quotient:i,modulus:s}}var n=0>t.high!=0>e.high;if(0>t.high){var r=~t.high;0==(i=1+~t.low|0)&&(r++,r|=0),i=new Aa(r,i)}else i=new Aa(t.high,t.low);var a=i;0>e.high&&(r=~e.high,0==(i=1+~e.low|0)&&(r++,r|=0),e=i=new Aa(r,i));for(var o=i=new Aa(0,0),l=i=new Aa(0,1);!(0>e.high||(r=Sa.ucompare(e.high,a.high),r=0!=r?r:Sa.ucompare(e.low,a.low),i=1,i&=63,e=0==i?i=new Aa(e.high,e.low):32>i?s=new Aa(e.high<<i|e.low>>>32-i,e.low<<i):i=new Aa(e.low<<i-32,0),i=1,i&=63,l=0==i?new Aa(l.high,l.low):32>i?new Aa(l.high<<i|l.low>>>32-i,l.low<<i):i=new Aa(l.low<<i-32,0),0<=r)););for(;0!=l.high||0!=l.low;)0<=(0!=(r=Sa.ucompare(a.high,e.high))?r:Sa.ucompare(a.low,e.low))&&(o=i=new Aa(o.high|l.high,o.low|l.low),r=a.high-e.high|0,i=a.low-e.low|0,0>Sa.ucompare(a.low,e.low)&&(r--,r|=0),a=s=new Aa(r,i)),i=1,l=0==(i&=63)?i=new Aa(l.high,l.low):32>i?new Aa(l.high>>>i,l.high<<32-i|l.low>>>i):new Aa(0,l.high>>>i-32),i=1,e=0==(i&=63)?i=new Aa(e.high,e.low):32>i?new Aa(e.high>>>i,e.high<<32-i|e.low>>>i):new Aa(0,e.high>>>i-32);return n&&(r=~o.high,0==(i=1+~o.low|0)&&(r++,r|=0),o=i=new Aa(r,i)),0>t.high&&(r=~a.high,0==(i=1+~a.low|0)&&(r++,r|=0),a=i=new Aa(r,i)),{quotient:o,modulus:a}}},Aa=function(t,e){this.high=t,this.low=e};r["haxe._Int64.___Int64"]=Aa,Aa.__name__="haxe._Int64.___Int64",Aa.prototype={high:null,low:null,__class__:Aa};var Ta=function(){};r["haxe.Log"]=Ta,Ta.__name__="haxe.Log",Ta.formatOutput=function(t,e){var i=g.string(t);if(null==e)return i;var s=e.fileName+":"+e.lineNumber;if(null!=e.customParams){var n=0;for(e=e.customParams;n<e.length;)t=e[n],++n,i+=", "+g.string(t)}return s+": "+i},Ta.trace=function(t,e){t=Ta.formatOutput(t,e),"undefined"!=typeof console&&null!=console.log&&console.log(t)};var Ma=function(){};r["haxe.NativeStackTrace"]=Ma,Ma.__name__="haxe.NativeStackTrace",Ma.saveStack=function(t){Ma.lastError=t},Ma.callStack=function(){var t=Error(""),e=Ma.tryHaxeStack(t);if(void 0===e){try{throw t}catch(t){}e=t.stack}return Ma.normalize(e,2)},Ma.exceptionStack=function(){return Ma.normalize(Ma.tryHaxeStack(Ma.lastError))},Ma.toHaxe=function(t,e){if(null==e&&(e=0),null==t)return[];if("string"==typeof t){"Error"==(t=t.split("\n"))[0]&&t.shift();for(var i=[],s=0,n=t.length;s<n;){var r=s++;if(!(e>r)){var a=t[r];if(null!=(r=a.match(/^    at ([A-Za-z0-9_. ]+) \(([^)]+):([0-9]+):([0-9]+)\)$/))){"$hxClasses"==(a=r[1].split("."))[0]&&a.shift();var o=a.pop(),l=r[2],h=g.parseInt(r[3]);r=g.parseInt(r[4]),i.push(va.FilePos("Anonymous function"==o?va.LocalFunction():"Global code"==o?null:va.Method(a.join("."),o),l,h,r))}else i.push(va.Module(v.trim(a)))}}return i}return 0<e&&Array.isArray(t)?t.slice(e):t},Ma.tryHaxeStack=function(t){if(null==t)return[];var e=Error.prepareStackTrace;return Error.prepareStackTrace=Ma.prepareHxStackTrace,t=t.stack,Error.prepareStackTrace=e,t},Ma.prepareHxStackTrace=function(t,e){t=[];for(var i=0;i<e.length;){var s=e[i];++i,null!=Ma.wrapCallSite&&(s=Ma.wrapCallSite(s));var n=null,r=s.getFunctionName();if(null!=r){var a=r.lastIndexOf(".");0<=a?(n=r.substring(0,a),r=r.substring(a+1),n=va.Method(n,r)):n=va.Method(null,r)}a=null==(r=s.getFileName())?-1:r.indexOf("file:"),null!=Ma.wrapCallSite&&0<a&&(r=r.substring(a+6)),t.push(va.FilePos(n,r,s.getLineNumber(),s.getColumnNumber()))}return t},Ma.normalize=function(t,e){if(null==e&&(e=0),Array.isArray(t)&&0<e)return t.slice(e);if("string"==typeof t){switch(t.substring(0,6)){case"Error\n":case"Error:":++e}return Ma.skipLines(t,e)}return t},Ma.skipLines=function(t,e,i){return null==i&&(i=0),0<e?0>(i=t.indexOf("\n",i))?"":Ma.skipLines(t,--e,i+1):t.substring(i)};var Pa=function(){};r["haxe.Resource"]=Pa,Pa.__name__="haxe.Resource",Pa.getString=function(t){for(var e=0,i=Pa.content;e<i.length;){var s=i[e];if(++e,s.name==t)return null!=s.str?s.str:Na.decode(s.data).toString()}return null},Pa.getBytes=function(t){for(var e=0,i=Pa.content;e<i.length;){var s=i[e];if(++e,s.name==t)return null!=s.str?La.ofString(s.str):Na.decode(s.data)}return null};var Ca=function(){this.buf=new b,this.cache=[],this.useCache=Ca.USE_CACHE,this.useEnumIndex=Ca.USE_ENUM_INDEX,this.shash=new pr,this.scount=0};r["haxe.Serializer"]=Ca,Ca.__name__="haxe.Serializer",Ca.run=function(t){var e=new Ca;return e.serialize(t),e.toString()},Ca.prototype={buf:null,cache:null,shash:null,scount:null,useCache:null,useEnumIndex:null,toString:function(){return this.buf.b},serializeString:function(t){var e=this.shash.h[t];null!=e?(this.buf.b+="R",this.buf.b+=null==e?"null":""+e):(this.shash.h[t]=this.scount++,this.buf.b+="y",t=encodeURIComponent(t),this.buf.b+=g.string(t.length),this.buf.b+=":",this.buf.b+=null==t?"null":""+t)},serializeRef:function(t){for(var e=typeof t,i=0,s=this.cache.length;i<s;){var n=i++,r=this.cache[n];if(typeof r==e&&r==t)return this.buf.b+="r",this.buf.b+=null==n?"null":""+n,!0}return this.cache.push(t),!1},serializeFields:function(t){for(var e=0,i=f.fields(t);e<i.length;){var s=i[e];++e,this.serializeString(s),this.serialize(f.field(t,s))}this.buf.b+="g"},serialize:function(t){var e=w.typeof(t);switch(e._hx_index){case 0:this.buf.b+="n";break;case 1:if(0==t){this.buf.b+="z";break}this.buf.b+="i",this.buf.b+=null==t?"null":""+t;break;case 2:isNaN(t)?this.buf.b+="k":isFinite(t)?(this.buf.b+="d",this.buf.b+=null==t?"null":""+t):this.buf.b+=0>t?"m":"p";break;case 3:this.buf.b+=t?"t":"f";break;case 4:vo.__instanceof(t,Ob)?(t=t.__name__,this.buf.b+="A",this.serializeString(t)):vo.__instanceof(t,Vb)?(this.buf.b+="B",this.serializeString(t.__ename__)):this.useCache&&this.serializeRef(t)||(this.buf.b+="o",this.serializeFields(t));break;case 5:throw wa.thrown("Cannot serialize function");case 6:if((e=e.c)==String){this.serializeString(t);break}if(this.useCache&&this.serializeRef(t))break;switch(e){case Array:var i=0;this.buf.b+="a";for(var s=0,n=t.length;s<n;)null==t[e=s++]?++i:(0<i&&(1==i?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==i?"null":""+i),i=0),this.serialize(t[e]));0<i&&(1==i?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==i?"null":""+i)),this.buf.b+="h";break;case Date:this.buf.b+="v",this.buf.b+=g.string(t.getTime());break;case fr:for(this.buf.b+="q",e=t.keys();e.hasNext();)i=e.next(),this.buf.b+=":",this.buf.b+=null==i?"null":""+i,this.serialize(t.h[i]);this.buf.b+="h";break;case E:for(this.buf.b+="l",t=t.h;null!=t;)e=t.item,t=t.next,this.serialize(e);this.buf.b+="h";break;case I:for(this.buf.b+="M",e=t.keys();e.hasNext();){i=e.next();var r=f.field(i,"__id__");f.deleteField(i,"__id__"),this.serialize(i),i.__id__=r,this.serialize(t.h[i.__id__])}this.buf.b+="h";break;case pr:for(this.buf.b+="b",r=(i=Object.keys(t.h)).length,s=0;s<r;)e=i[s++],this.serializeString(e),this.serialize(t.h[e]);this.buf.b+="h";break;case La:if(this.buf.b+="s",this.buf.b+=g.string(Math.ceil(8*t.length/6)),this.buf.b+=":",e=0,i=t.length-2,null==(r=Ca.BASE64_CODES)){for(r=Array(Ca.BASE64.length),s=0,n=Ca.BASE64.length;s<n;){var a=s++;r[a]=c.cca(Ca.BASE64,a)}Ca.BASE64_CODES=r}for(;e<i;)s=t.b[e++],n=t.b[e++],a=t.b[e++],this.buf.b+=String.fromCodePoint(r[s>>2]),this.buf.b+=String.fromCodePoint(r[63&(s<<4|n>>4)]),this.buf.b+=String.fromCodePoint(r[63&(n<<2|a>>6)]),this.buf.b+=String.fromCodePoint(r[63&a]);e==i?(s=t.b[e++],n=t.b[e++],this.buf.b+=String.fromCodePoint(r[s>>2]),this.buf.b+=String.fromCodePoint(r[63&(s<<4|n>>4)]),this.buf.b+=String.fromCodePoint(r[n<<2&63])):e==i+1&&(s=t.b[e++],this.buf.b+=String.fromCodePoint(r[s>>2]),this.buf.b+=String.fromCodePoint(r[s<<4&63]));break;default:this.useCache&&this.cache.pop(),null!=t.hxSerialize?(this.buf.b+="C",this.serializeString(e.__name__),this.useCache&&this.cache.push(t),t.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(e.__name__),this.useCache&&this.cache.push(t),this.serializeFields(t))}break;case 7:if(e=e.e,this.useCache){if(this.serializeRef(t))break;this.cache.pop()}for(this.buf.b+=g.string(this.useEnumIndex?"j":"w"),this.serializeString(e.__ename__),this.useEnumIndex?(this.buf.b+=":",this.buf.b+=g.string(t._hx_index)):(e=t,this.serializeString(o[e.__enum__].__constructs__[e._hx_index]._hx_name)),this.buf.b+=":",i=w.enumParameters(t),this.buf.b+=g.string(i.length),e=0;e<i.length;)r=i[e],++e,this.serialize(r);this.useCache&&this.cache.push(t);break;default:throw wa.thrown("Cannot serialize "+g.string(t))}},__class__:Ca};var Ia=function(t){var e=this;this.id=setInterval(function(){e.run()},t)};r["haxe.Timer"]=Ia,Ia.__name__="haxe.Timer",Ia.delay=function(t,e){var i=new Ia(e);return i.run=function(){i.stop(),t()},i},Ia.measure=function(t,e){var i=(new Date).getTime()/1e3;return t=t(),Ta.trace((new Date).getTime()/1e3-i+"s",e),t},Ia.stamp=function(){return(new Date).getTime()/1e3},Ia.prototype={id:null,stop:function(){null!=this.id&&(clearInterval(this.id),this.id=null)},run:function(){},__class__:Ia};var Ea=function(){};r["haxe._Unserializer.DefaultResolver"]=Ea,Ea.__name__="haxe._Unserializer.DefaultResolver",Ea.prototype={resolveClass:function(t){return r[t]},resolveEnum:function(t){return o[t]},__class__:Ea};var ka=function(t){this.buf=t,this.length=this.buf.length,this.pos=0,this.scache=[],this.cache=[],null==(t=ka.DEFAULT_RESOLVER)&&(t=new Ea,ka.DEFAULT_RESOLVER=t),this.resolver=t};r["haxe.Unserializer"]=ka,ka.__name__="haxe.Unserializer",ka.initCodes=function(){for(var t=[],e=0,i=ka.BASE64.length;e<i;){var s=e++;t[ka.BASE64.charCodeAt(s)]=s}return t},ka.run=function(t){return new ka(t).unserialize()},ka.prototype={buf:null,pos:null,length:null,cache:null,scache:null,resolver:null,setResolver:function(t){null==t?(null==Fa.instance&&(Fa.instance=new Fa),this.resolver=Fa.instance):this.resolver=t},readDigits:function(){for(var t=0,e=!1,i=this.pos;;){var s=this.buf.charCodeAt(this.pos);if(s!=s)break;if(45==s){if(this.pos!=i)break;e=!0}else{if(48>s||57<s)break;t=10*t+(s-48)}this.pos++}return e&&(t*=-1),t},readFloat:function(){for(var t=this.pos;;){var e=this.buf.charCodeAt(this.pos);if(e!=e)break;if(!(43<=e&&58>e||101==e||69==e))break;this.pos++}return parseFloat(c.substr(this.buf,t,this.pos-t))},unserializeObject:function(t){for(;;){if(this.pos>=this.length)throw wa.thrown("Invalid object");if(103==this.buf.charCodeAt(this.pos))break;var e=this.unserialize();if("string"!=typeof e)throw wa.thrown("Invalid object key");var i=this.unserialize();t[e]=i}this.pos++},unserializeEnum:function(t,e){if(58!=this.buf.charCodeAt(this.pos++))throw wa.thrown("Invalid enum format");var i=this.readDigits();if(0==i)return w.createEnum(t,e);for(var s=[];0<i--;)s.push(this.unserialize());return w.createEnum(t,e,s)},unserialize:function(){switch(this.buf.charCodeAt(this.pos++)){case 65:var t=this.unserialize(),e=this.resolver.resolveClass(t);if(null==e)throw wa.thrown("Class not found "+t);return e;case 66:if(t=this.unserialize(),null==(e=this.resolver.resolveEnum(t)))throw wa.thrown("Enum not found "+t);return e;case 67:if(t=this.unserialize(),null==(e=this.resolver.resolveClass(t)))throw wa.thrown("Class not found "+t);if(e=Object.create(e.prototype),this.cache.push(e),e.hxUnserialize(this),103!=this.buf.charCodeAt(this.pos++))throw wa.thrown("Invalid custom data");return e;case 77:t=new I,this.cache.push(t);for(var i;104!=this.buf.charCodeAt(this.pos);)e=this.unserialize(),t.set(e,this.unserialize());return this.pos++,t;case 82:if(0>(t=this.readDigits())||t>=this.scache.length)throw wa.thrown("Invalid string reference");return this.scache[t];case 97:for(e=[],this.cache.push(e);;){if(104==(i=this.buf.charCodeAt(this.pos))){this.pos++;break}117==i?(this.pos++,t=this.readDigits(),e[e.length+t-1]=null):e.push(this.unserialize())}return e;case 98:for(t=new pr,this.cache.push(t);104!=this.buf.charCodeAt(this.pos);)e=this.unserialize(),i=this.unserialize(),t.h[e]=i;return this.pos++,t;case 99:if(t=this.unserialize(),null==(e=this.resolver.resolveClass(t)))throw wa.thrown("Class not found "+t);return e=Object.create(e.prototype),this.cache.push(e),this.unserializeObject(e),e;case 100:return this.readFloat();case 102:return!1;case 105:return this.readDigits();case 106:if(t=this.unserialize(),null==(i=this.resolver.resolveEnum(t)))throw wa.thrown("Enum not found "+t);this.pos++;for(var s=this.readDigits(),n=i.__constructs__,r=Array(n.length),a=0,o=n.length;a<o;)r[e=a++]=n[e]._hx_name;if(null==(e=r[s]))throw wa.thrown("Unknown enum index "+t+"@"+s);return e=this.unserializeEnum(i,e),this.cache.push(e),e;case 107:return NaN;case 108:for(e=new E,this.cache.push(e);104!=this.buf.charCodeAt(this.pos);)e.add(this.unserialize());return this.pos++,e;case 109:return-1/0;case 110:return null;case 111:return e={},this.cache.push(e),this.unserializeObject(e),e;case 112:return 1/0;case 113:for(t=new fr,this.cache.push(t),i=this.buf.charCodeAt(this.pos++);58==i;)e=this.readDigits(),i=this.unserialize(),t.h[e]=i,i=this.buf.charCodeAt(this.pos++);if(104!=i)throw wa.thrown("Invalid IntMap format");return t;case 114:if(0>(t=this.readDigits())||t>=this.cache.length)throw wa.thrown("Invalid reference");return this.cache[t];case 115:if(t=this.readDigits(),i=this.buf,58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<t)throw wa.thrown("Invalid bytes length");for(null==(s=ka.CODES)&&(s=ka.initCodes(),ka.CODES=s),r=(e=this.pos)+(t-(n=3&t)),a=new La(new ArrayBuffer(3*(t>>2)+(2<=n?n-1:0))),o=0;e<r;){var l=s[i.charCodeAt(e++)],h=s[i.charCodeAt(e++)];a.b[o++]=255&(l<<2|h>>4),l=s[i.charCodeAt(e++)],a.b[o++]=255&(h<<4|l>>2),h=s[i.charCodeAt(e++)],a.b[o++]=255&(l<<6|h)}return 2<=n&&(l=s[i.charCodeAt(e++)],h=s[i.charCodeAt(e++)],a.b[o++]=255&(l<<2|h>>4),3==n&&(l=s[i.charCodeAt(e++)],a.b[o++]=255&(h<<4|l>>2))),this.pos+=t,this.cache.push(a),a;case 116:return!0;case 118:return 48<=this.buf.charCodeAt(this.pos)&&57>=this.buf.charCodeAt(this.pos)&&48<=this.buf.charCodeAt(this.pos+1)&&57>=this.buf.charCodeAt(this.pos+1)&&48<=this.buf.charCodeAt(this.pos+2)&&57>=this.buf.charCodeAt(this.pos+2)&&48<=this.buf.charCodeAt(this.pos+3)&&57>=this.buf.charCodeAt(this.pos+3)&&45==this.buf.charCodeAt(this.pos+4)?(e=c.strDate(c.substr(this.buf,this.pos,19)),this.pos+=19):e=new Date(this.readFloat()),this.cache.push(e),e;case 119:if(t=this.unserialize(),null==(i=this.resolver.resolveEnum(t)))throw wa.thrown("Enum not found "+t);return e=this.unserializeEnum(i,this.unserialize()),this.cache.push(e),e;case 120:throw wa.thrown(this.unserialize());case 121:if(t=this.readDigits(),58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<t)throw wa.thrown("Invalid string length");return e=c.substr(this.buf,this.pos,t),this.pos+=t,e=decodeURIComponent(e.split("+").join(" ")),this.scache.push(e),e;case 122:return 0}throw this.pos--,wa.thrown("Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos)},__class__:ka};var Fa=function(){};r["haxe._Unserializer.NullResolver"]=Fa,Fa.__name__="haxe._Unserializer.NullResolver",Fa.prototype={resolveClass:function(t){return null},resolveEnum:function(t){return null},__class__:Fa};var Ba=function(t,e,i){wa.call(this,String(t),e,i),this.value=t,this.__skipStack++};r["haxe.ValueException"]=Ba,Ba.__name__="haxe.ValueException",Ba.__super__=wa,Ba.prototype=i(wa.prototype,{value:null,unwrap:function(){return this.value},__class__:Ba});var Da=function(){this.a1=1,this.a2=0};r["haxe.crypto.Adler32"]=Da,Da.__name__="haxe.crypto.Adler32",Da.read=function(t){var e=new Da,i=t.readByte(),s=t.readByte(),n=t.readByte();return t=t.readByte(),e.a1=n<<8|t,e.a2=i<<8|s,e},Da.prototype={a1:null,a2:null,update:function(t,e,i){var s=this.a1,n=this.a2,r=e;for(e+=i;r<e;)i=r++,n=(n+(s=(s+t.b[i])%65521))%65521;this.a1=s,this.a2=n},equals:function(t){return t.a1==this.a1&&t.a2==this.a2},__class__:Da};var La=function(t){this.length=t.byteLength,this.b=new Uint8Array(t),this.b.bufferValue=t,t.hxBytes=this,t.bytes=this.b};r["haxe.io.Bytes"]=La,La.__name__="haxe.io.Bytes",La.alloc=function(t){return new La(new ArrayBuffer(t))},La.ofString=function(t,e){e=[];for(var i=0;i<t.length;){var s=t.charCodeAt(i++);55296<=s&&56319>=s&&(s=s-55232<<10|1023&t.charCodeAt(i++)),127>=s?e.push(s):(2047>=s?e.push(192|s>>6):(65535>=s?e.push(224|s>>12):(e.push(240|s>>18),e.push(128|s>>12&63)),e.push(128|s>>6&63)),e.push(128|63&s))}return new La(new Uint8Array(e).buffer)},La.ofData=function(t){var e=t.hxBytes;return null!=e?e:new La(t)},La.ofHex=function(t){if(1&t.length)throw wa.thrown("Not a hex string (odd number of digits)");for(var e=[],i=0,s=t.length>>1;i<s;){var n=t.charCodeAt(2*i),r=t.charCodeAt(2*i+1);n=(15&n)+9*((64&n)>>6),r=(15&r)+9*((64&r)>>6),e.push(255&(n<<4|r)),++i}return new La(new Uint8Array(e).buffer)},La.fastGet=function(t,e){return t.bytes[e]},La.prototype={length:null,b:null,data:null,get:function(t){return this.b[t]},set:function(t,e){this.b[t]=255&e},blit:function(t,e,i,s){if(0>t||0>i||0>s||t+s>this.length||i+s>e.length)throw wa.thrown(eo.OutsideBounds);0==i&&s==e.b.byteLength?this.b.set(e.b,t):this.b.set(e.b.subarray(i,i+s),t)},fill:function(t,e,i){for(var s=0;s<e;)s++,this.b[t++]=255&i},sub:function(t,e){if(0>t||0>e||t+e>this.length)throw wa.thrown(eo.OutsideBounds);return new La(this.b.buffer.slice(t+this.b.byteOffset,t+this.b.byteOffset+e))},compare:function(t){for(var e=this.b,i=t.b,s=0,n=this.length<t.length?this.length:t.length;s<n;){var r=s++;if(e[r]!=i[r])return e[r]-i[r]}return this.length-t.length},initData:function(){null==this.data&&(this.data=new DataView(this.b.buffer,this.b.byteOffset,this.b.byteLength))},getDouble:function(t){return null==this.data&&(this.data=new DataView(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.getFloat64(t,!0)},getFloat:function(t){return null==this.data&&(this.data=new DataView(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.getFloat32(t,!0)},setDouble:function(t,e){null==this.data&&(this.data=new DataView(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.setFloat64(t,e,!0)},setFloat:function(t,e){null==this.data&&(this.data=new DataView(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.setFloat32(t,e,!0)},getUInt16:function(t){return null==this.data&&(this.data=new DataView(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.getUint16(t,!0)},setUInt16:function(t,e){null==this.data&&(this.data=new DataView(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.setUint16(t,e,!0)},getInt32:function(t){return null==this.data&&(this.data=new DataView(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.getInt32(t,!0)},setInt32:function(t,e){null==this.data&&(this.data=new DataView(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.setInt32(t,e,!0)},getInt64:function(t){return new Aa(this.getInt32(t+4),this.getInt32(t))},setInt64:function(t,e){this.setInt32(t,e.low),this.setInt32(t+4,e.high)},getString:function(t,e,i){if(0>t||0>e||t+e>this.length)throw wa.thrown(eo.OutsideBounds);i="";var s=this.b,n=y.fromCharCode,r=t;for(t+=e;r<t;)if(128>(e=s[r++])){if(0==e)break;i+=n(e)}else if(224>e)i+=n((63&e)<<6|127&s[r++]);else if(240>e){var a=s[r++];i+=n((31&e)<<12|(127&a)<<6|127&s[r++])}else i+=n(55232+((e=(15&e)<<18|(127&(a=s[r++]))<<12|(127&s[r++])<<6|127&s[r++])>>10)),i+=n(1023&e|56320);return i},readString:function(t,e){return this.getString(t,e)},toString:function(){return this.getString(0,this.length)},toHex:function(){for(var t="",e=[],i=0,s=16;i<s;){var n=i++;e.push(c.cca("0123456789abcdef",n))}for(i=0,s=this.length;i<s;)n=i++,n=this.b[n],t+=String.fromCodePoint(e[n>>4]),t+=String.fromCodePoint(e[15&n]);return t},getData:function(){return this.b.bufferValue},__class__:La};var Na=function(){};r["haxe.crypto.Base64"]=Na,Na.__name__="haxe.crypto.Base64",Na.decode=function(t,e){if(null==e&&(e=!0),e)for(;61==c.cca(t,t.length-1);)t=c.substr(t,0,-1);return new Oa(Na.BYTES).decodeBytes(La.ofString(t))};var Oa=function(t){for(var e=t.length,i=1;e>1<<i;)++i;if(8<i||e!=1<<i)throw wa.thrown("BaseCode : base length must be a power of two.");this.base=t,this.nbits=i};r["haxe.crypto.BaseCode"]=Oa,Oa.__name__="haxe.crypto.BaseCode",Oa.prototype={base:null,nbits:null,tbl:null,encodeBytes:function(t){for(var e=this.nbits,i=this.base,s=8*t.length/e|0,n=new La(new ArrayBuffer(s+(0==8*t.length%e?0:1))),r=0,a=0,o=(1<<e)-1,l=0,h=0;h<s;){for(;a<e;)a+=8,r<<=8,r|=t.b[l++];a-=e,n.b[h++]=255&i.b[r>>a&o]}return 0<a&&(n.b[h++]=255&i.b[r<<e-a&o]),n},initTable:function(){for(var t=[],e=0;256>e;){var i=e++;t[i]=-1}e=0;for(var s=this.base.length;e<s;)i=e++,t[this.base.b[i]]=i;this.tbl=t},decodeBytes:function(t){var e=this.nbits;null==this.tbl&&this.initTable();for(var i=this.tbl,s=t.length*e>>3,n=new La(new ArrayBuffer(s)),r=0,a=0,o=0,l=0;l<s;){for(;8>a;){a+=e,r<<=e;var h=i[t.b[o++]];if(-1==h)throw wa.thrown("BaseCode : invalid encoded char");r|=h}a-=8,n.b[l++]=r>>a&255}return n},__class__:Oa};var Va=function(){};r["haxe.ds.ArraySort"]=Va,Va.__name__="haxe.ds.ArraySort",Va.sort=function(t,e){Va.rec(t,e,0,t.length)},Va.rec=function(t,e,i,s){var n=i+s>>1;if(12>s-i){if(!(s<=i))for(n=i+1;n<s;)for(var r=n++;r>i&&0>e(t[r],t[r-1]);)Va.swap(t,r-1,r),--r}else Va.rec(t,e,i,n),Va.rec(t,e,n,s),Va.doMerge(t,e,i,n,s,n-i,s-n)},Va.doMerge=function(t,e,i,s,n,r,a){if(0!=r&&0!=a)if(2==r+a)0>e(t[s],t[i])&&Va.swap(t,s,i);else{if(r>a)var o=r>>1,l=i+o,h=Va.lower(t,e,s,n,l),_=h-s;else h=s+(_=a>>1),o=(l=Va.upper(t,e,i,s,h))-i;Va.rotate(t,e,l,s,h),s=l+_,Va.doMerge(t,e,i,l,s,o,_),Va.doMerge(t,e,s,h,n,r-o,a-_)}},Va.rotate=function(t,e,i,s,n){if(i!=s&&s!=n)for(e=Va.gcd(n-i,s-i);0!=e--;){for(var r=t[i+e],a=s-i,o=i+e,l=i+e+a;l!=i+e;)t[o]=t[l],o=l,l=n-l>a?l+a:i+(a-(n-l));t[o]=r}},Va.gcd=function(t,e){for(;0!=e;){var i=t%e;t=e,e=i}return t},Va.upper=function(t,e,i,s,n){s-=i;for(var r,a;0<s;)a=i+(r=s>>1),0>e(t[n],t[a])?s=r:(i=a+1,s=s-r-1);return i},Va.lower=function(t,e,i,s,n){s-=i;for(var r,a;0<s;)0>e(t[a=i+(r=s>>1)],t[n])?(i=a+1,s=s-r-1):s=r;return i},Va.swap=function(t,e,i){var s=t[e];t[e]=t[i],t[i]=s};var Ga=function(){};r["haxe.ds.BalancedTree"]=Ga,Ga.__name__="haxe.ds.BalancedTree",Ga.__interfaces__=[C],Ga.iteratorLoop=function(t,e){null!=t&&(Ga.iteratorLoop(t.left,e),e.push(t.value),Ga.iteratorLoop(t.right,e))},Ga.prototype={root:null,set:function(t,e){this.root=this.setLoop(t,e,this.root)},get:function(t){for(var e=this.root;null!=e;){var i=this.compare(t,e.key);if(0==i)return e.value;e=0>i?e.left:e.right}return null},remove:function(t){try{return this.root=this.removeLoop(t,this.root),!0}catch(t){if(Ma.lastError=t,"string"==typeof wa.caught(t).unwrap())return!1;throw t}},exists:function(t){for(var e=this.root;null!=e;){var i=this.compare(t,e.key);if(0==i)return!0;e=0>i?e.left:e.right}return!1},iterator:function(){var t=[];return Ga.iteratorLoop(this.root,t),new no(t)},keyValueIterator:function(){return new ro(this)},keys:function(){var t=[];return this.keysLoop(this.root,t),new no(t)},setLoop:function(t,e,i){if(null==i)return new Ua(null,t,e,null);var s=this.compare(t,i.key);return 0==s?new Ua(i.left,t,e,i.right,null==i?0:i._height):0>s?(t=this.setLoop(t,e,i.left),this.balance(t,i.key,i.value,i.right)):(t=this.setLoop(t,e,i.right),this.balance(i.left,i.key,i.value,t))},removeLoop:function(t,e){if(null==e)throw wa.thrown("Not_found");var i=this.compare(t,e.key);return 0==i?this.merge(e.left,e.right):0>i?this.balance(this.removeLoop(t,e.left),e.key,e.value,e.right):this.balance(e.left,e.key,e.value,this.removeLoop(t,e.right))},keysLoop:function(t,e){null!=t&&(this.keysLoop(t.left,e),e.push(t.key),this.keysLoop(t.right,e))},merge:function(t,e){if(null==t)return e;if(null==e)return t;var i=this.minBinding(e);return this.balance(t,i.key,i.value,this.removeMinBinding(e))},minBinding:function(t){if(null==t)throw wa.thrown("Not_found");return null==t.left?t:this.minBinding(t.left)},removeMinBinding:function(t){return null==t.left?t.right:this.balance(this.removeMinBinding(t.left),t.key,t.value,t.right)},balance:function(t,e,i,s){var n=null==t?0:t._height,r=null==s?0:s._height;return n>r+2?(n=t.left,r=t.right,(null==n?0:n._height)>=(null==r?0:r._height)?new Ua(t.left,t.key,t.value,new Ua(t.right,e,i,s)):new Ua(new Ua(t.left,t.key,t.value,t.right.left),t.right.key,t.right.value,new Ua(t.right.right,e,i,s))):r>n+2?(n=s.right,r=s.left,(null==n?0:n._height)>(null==r?0:r._height)?new Ua(new Ua(t,e,i,s.left),s.key,s.value,s.right):new Ua(new Ua(t,e,i,s.left.left),s.left.key,s.left.value,new Ua(s.left.right,s.key,s.value,s.right))):new Ua(t,e,i,s,(n>r?n:r)+1)},compare:function(t,e){return f.compare(t,e)},__class__:Ga};var Ua=function(t,e,i,s,n){null==n&&(n=-1),this.left=t,this.key=e,this.value=i,this.right=s,-1==n?(t=this.left,e=this.right,t=(null==t?0:t._height)>(null==e?0:e._height)?this.left:this.right,this._height=(null==t?0:t._height)+1):this._height=n};r["haxe.ds.TreeNode"]=Ua,Ua.__name__="haxe.ds.TreeNode",Ua.prototype={left:null,right:null,key:null,value:null,_height:null,__class__:Ua};var za=function(){};r["haxe.ds.EnumValueMap"]=za,za.__name__="haxe.ds.EnumValueMap",za.__interfaces__=[C],za.__super__=Ga,za.prototype=i(Ga.prototype,{compare:function(t,e){var i=t._hx_index-e._hx_index;return 0!=i?i:(t=w.enumParameters(t),e=w.enumParameters(e),0==t.length&&0==e.length?0:this.compareArgs(t,e))},compareArgs:function(t,e){var i=t.length-e.length;if(0!=i)return i;i=0;for(var s=t.length;i<s;){var n=i++;if(0!=(n=this.compareArg(t[n],e[n])))return n}return 0},compareArg:function(t,e){return f.isEnumValue(t)&&f.isEnumValue(e)?this.compare(t,e):t instanceof Array&&e instanceof Array?this.compareArgs(t,e):f.compare(t,e)},__class__:za});var Ha=function(t,e){this.item=t,this.next=e};r["haxe.ds._List.ListNode"]=Ha,Ha.__name__="haxe.ds._List.ListNode",Ha.prototype={item:null,next:null,__class__:Ha};var Wa=function(t){this.head=t};r["haxe.ds._List.ListIterator"]=Wa,Wa.__name__="haxe.ds._List.ListIterator",Wa.prototype={head:null,hasNext:function(){return null!=this.head},next:function(){var t=this.head.item;return this.head=this.head.next,t},__class__:Wa};var Xa=function(t){this.h=t,this.keys=Object.keys(t),this.length=this.keys.length,this.current=0};r["haxe.ds._StringMap.StringMapKeyIterator"]=Xa,Xa.__name__="haxe.ds._StringMap.StringMapKeyIterator",Xa.prototype={h:null,keys:null,length:null,current:null,hasNext:function(){return this.current<this.length},next:function(){return this.keys[this.current++]},__class__:Xa};var Ya=function(t){this.h=t,this.keys=Object.keys(t),this.length=this.keys.length,this.current=0};r["haxe.ds._StringMap.StringMapValueIterator"]=Ya,Ya.__name__="haxe.ds._StringMap.StringMapValueIterator",Ya.prototype={h:null,keys:null,length:null,current:null,hasNext:function(){return this.current<this.length},next:function(){return this.h[this.keys[this.current++]]},__class__:Ya};var ja=function(t){this.h=t,this.keys=Object.keys(t),this.length=this.keys.length,this.current=0};r["haxe.ds._StringMap.StringMapKeyValueIterator"]=ja,ja.__name__="haxe.ds._StringMap.StringMapKeyValueIterator",ja.prototype={h:null,keys:null,length:null,current:null,hasNext:function(){return this.current<this.length},next:function(){var t=this.keys[this.current++];return{key:t,value:this.h[t]}},__class__:ja};var Ka=function(t,e,i){wa.call(this,t,e),this.posInfos=null==i?{fileName:"(unknown)",lineNumber:0,className:"(unknown)",methodName:"(unknown)"}:i,this.__skipStack++};r["haxe.exceptions.PosException"]=Ka,Ka.__name__="haxe.exceptions.PosException",Ka.__super__=wa,Ka.prototype=i(wa.prototype,{posInfos:null,toString:function(){return wa.prototype.toString.call(this)+" in "+this.posInfos.className+"."+this.posInfos.methodName+" at "+this.posInfos.fileName+":"+this.posInfos.lineNumber},__class__:Ka});var Ja=function(t,e,i){null==t&&(t="Not implemented"),Ka.call(this,t,e,i),this.__skipStack++};r["haxe.exceptions.NotImplementedException"]=Ja,Ja.__name__="haxe.exceptions.NotImplementedException",Ja.__super__=Ka,Ja.prototype=i(Ka.prototype,{__class__:Ja});var Za=function(){this.size=this.pos=0};r["haxe.io.BytesBuffer"]=Za,Za.__name__="haxe.io.BytesBuffer",Za.prototype={buffer:null,view:null,u8:null,pos:null,size:null,addByte:function(t){this.pos==this.size&&this.grow(1),this.view.setUint8(this.pos++,t)},add:function(t){if(this.pos+t.length>this.size&&this.grow(t.length),0!=this.size){var e=new Uint8Array(t.b.buffer,t.b.byteOffset,t.length);this.u8.set(e,this.pos),this.pos+=t.length}},addBytes:function(t,e,i){if(0>e||0>i||e+i>t.length)throw wa.thrown(eo.OutsideBounds);this.pos+i>this.size&&this.grow(i),0!=this.size&&(t=new Uint8Array(t.b.buffer,t.b.byteOffset+e,i),this.u8.set(t,this.pos),this.pos+=i)},grow:function(t){var e=this.pos+t;for(t=0==this.size?16:this.size;t<e;)t=3*t>>1;e=new ArrayBuffer(t);var i=new Uint8Array(e);0<this.size&&i.set(this.u8),this.size=t,this.buffer=e,this.u8=i,this.view=new DataView(this.buffer)},getBytes:function(){if(0==this.size)return new La(new ArrayBuffer(0));var t=new La(this.buffer);return t.length=this.pos,t},__class__:Za};var Qa=function(){};r["haxe.io.Input"]=Qa,Qa.__name__="haxe.io.Input",Qa.prototype={bigEndian:null,readByte:function(){throw new Ja(null,null,{fileName:"haxe/io/Input.hx",lineNumber:53,className:"haxe.io.Input",methodName:"readByte"})},readBytes:function(t,e,i){var s=i,n=t.b;if(0>e||0>i||e+i>t.length)throw wa.thrown(eo.OutsideBounds);try{for(;0<s;)n[e]=this.readByte(),++e,--s}catch(t){if(Ma.lastError=t,!(wa.caught(t).unwrap()instanceof to))throw t}return i-s},readFullBytes:function(t,e,i){for(;0<i;){var s=this.readBytes(t,e,i);if(0==s)throw wa.thrown(eo.Blocked);e+=s,i-=s}},read:function(t){for(var e=new La(new ArrayBuffer(t)),i=0;0<t;){var s=this.readBytes(e,i,t);if(0==s)throw wa.thrown(eo.Blocked);i+=s,t-=s}return e},readInt16:function(){var t=this.readByte(),e=this.readByte();return 32768&(t=this.bigEndian?e|t<<8:t|e<<8)?t-65536:t},readUInt16:function(){var t=this.readByte(),e=this.readByte();return this.bigEndian?e|t<<8:t|e<<8},readInt32:function(){var t=this.readByte(),e=this.readByte(),i=this.readByte(),s=this.readByte();return this.bigEndian?s|i<<8|e<<16|t<<24:t|e<<8|i<<16|s<<24},readString:function(t,e){var i=new La(new ArrayBuffer(t));return this.readFullBytes(i,0,t),i.getString(0,t,e)},__class__:Qa};var qa=function(t,e,i){if(null==e&&(e=0),null==i&&(i=t.length-e),0>e||0>i||e+i>t.length)throw wa.thrown(eo.OutsideBounds);this.b=t.b,this.pos=e,this.totlen=this.len=i};r["haxe.io.BytesInput"]=qa,qa.__name__="haxe.io.BytesInput",qa.__super__=Qa,qa.prototype=i(Qa.prototype,{b:null,pos:null,len:null,totlen:null,readByte:function(){if(0==this.len)throw wa.thrown(new to);return this.len--,this.b[this.pos++]},readBytes:function(t,e,i){if(0>e||0>i||e+i>t.length)throw wa.thrown(eo.OutsideBounds);if(0==this.len&&0<i)throw wa.thrown(new to);this.len<i&&(i=this.len);var s=this.b;t=t.b;for(var n=0,r=i;n<r;){var a=n++;t[e+a]=s[this.pos+a]}return this.pos+=i,this.len-=i,i},__class__:qa});var $a=o["haxe.io.Encoding"]={__ename__:"haxe.io.Encoding",__constructs__:null,UTF8:{_hx_name:"UTF8",_hx_index:0,__enum__:"haxe.io.Encoding",toString:a},RawNative:{_hx_name:"RawNative",_hx_index:1,__enum__:"haxe.io.Encoding",toString:a}};$a.__constructs__=[$a.UTF8,$a.RawNative];var to=function(){};r["haxe.io.Eof"]=to,to.__name__="haxe.io.Eof",to.prototype={toString:function(){return"Eof"},__class__:to};var eo=o["haxe.io.Error"]={__ename__:"haxe.io.Error",__constructs__:null,Blocked:{_hx_name:"Blocked",_hx_index:0,__enum__:"haxe.io.Error",toString:a},Overflow:{_hx_name:"Overflow",_hx_index:1,__enum__:"haxe.io.Error",toString:a},OutsideBounds:{_hx_name:"OutsideBounds",_hx_index:2,__enum__:"haxe.io.Error",toString:a},Custom:(l=function(t){return{_hx_index:3,e:t,__enum__:"haxe.io.Error",toString:a}},l._hx_name="Custom",l.__params__=["e"],l)};eo.__constructs__=[eo.Blocked,eo.Overflow,eo.OutsideBounds,eo.Custom];var io=function(){};r["haxe.io.FPHelper"]=io,io.__name__="haxe.io.FPHelper",io.i32ToFloat=function(t){return io.helper.setInt32(0,t,!0),io.helper.getFloat32(0,!0)},io.floatToI32=function(t){return io.helper.setFloat32(0,t,!0),io.helper.getInt32(0,!0)},io.i64ToDouble=function(t,e){return io.helper.setInt32(0,t,!0),io.helper.setInt32(4,e,!0),io.helper.getFloat64(0,!0)},io.doubleToI64=function(t){var e=io.i64tmp;return io.helper.setFloat64(0,t,!0),e.low=io.helper.getInt32(0,!0),e.high=io.helper.getInt32(4,!0),e};var so=function(t){switch(t){case".":case"..":return this.dir=t,void(this.file="")}var e=t.lastIndexOf("/"),i=t.lastIndexOf("\\");e<i?(this.dir=c.substr(t,0,i),t=c.substr(t,i+1,null),this.backslash=!0):i<e?(this.dir=c.substr(t,0,e),t=c.substr(t,e+1,null)):this.dir=null,-1!=(e=t.lastIndexOf("."))?(this.ext=c.substr(t,e+1,null),this.file=c.substr(t,0,e)):(this.ext=null,this.file=t)};r["haxe.io.Path"]=so,so.__name__="haxe.io.Path",so.directory=function(t){return null==(t=new so(t)).dir?"":t.dir},so.join=function(t){for(var e=[],i=0;i<t.length;){var s=t[i];++i,null!=s&&""!=s&&e.push(s)}if(0==(t=e).length)return"";for(s=t[0],e=1,i=t.length;e<i;){var n=e++;s=so.addTrailingSlash(s),s+=t[n]}return so.normalize(s)},so.normalize=function(t){if("/"==(t=t.split("\\").join("/")))return"/";for(var e=[],i=0,s=t.split("/");i<s.length;){var n=s[i];++i,".."==n&&0<e.length&&".."!=e[e.length-1]?e.pop():""==n?(0<e.length||47==c.cca(t,0))&&e.push(n):"."!=n&&e.push(n)}for(t="",s=i=!1,n=0,e=e.join("/");n<e.length;){var r=e,a=n++,o=r.charCodeAt(a);switch(55296<=o&&56319>=o&&(o=o-55232<<10|1023&r.charCodeAt(a+1)),65536<=(r=o)&&++n,r){case 47:i?(i=!1,s&&(t+="/",s=!1),t+=String.fromCodePoint(r)):s=!0;break;case 58:t+=":",i=!0;break;default:i=!1,s&&(t+="/",s=!1),t+=String.fromCodePoint(r)}}return t},so.addTrailingSlash=function(t){if(0==t.length)return"/";var e=t.lastIndexOf("/"),i=t.lastIndexOf("\\");return e<i?i!=t.length-1?t+"\\":t:e!=t.length-1?t+"/":t},so.prototype={dir:null,file:null,ext:null,backslash:null,__class__:so};var no=function(t){this.current=0,this.array=t};r["haxe.iterators.ArrayIterator"]=no,no.__name__="haxe.iterators.ArrayIterator",no.prototype={array:null,current:null,hasNext:function(){return this.current<this.array.length},next:function(){return this.array[this.current++]},__class__:no};var ro=function(t){this.map=t,this.keys=t.keys()};r["haxe.iterators.MapKeyValueIterator"]=ro,ro.__name__="haxe.iterators.MapKeyValueIterator",ro.prototype={map:null,keys:null,hasNext:function(){return this.keys.hasNext()},next:function(){var t=this.keys.next();return{value:this.map.get(t),key:t}},__class__:ro};var ao={resolve:function(t,e){var i=t.elementsNamed(e).next();if(null==i){if(t.nodeType==O.Document)t="Document";else{if(t.nodeType!=O.Element)throw wa.thrown("Bad node type, expected Element but found "+(null==t.nodeType?"null":N.toString(t.nodeType)));t=t.nodeName}throw wa.thrown(t+" is missing element "+e)}if(i.nodeType!=O.Document&&i.nodeType!=O.Element)throw wa.thrown("Invalid nodeType "+(null==i.nodeType?"null":N.toString(i.nodeType)));return i}},oo={resolve:function(t,e){return t.elementsNamed(e).hasNext()}},lo={__properties__:{get_innerData:"get_innerData"},get_innerData:function(t){if(t.nodeType!=O.Document&&t.nodeType!=O.Element)throw wa.thrown("Bad node type, expected Element or Document but found "+(null==t.nodeType?"null":N.toString(t.nodeType)));var e=0,i=t.children;if(e>=i.length){if(t.nodeType==O.Document)var s="Document";else{if(t.nodeType!=O.Element)throw wa.thrown("Bad node type, expected Element but found "+(null==t.nodeType?"null":N.toString(t.nodeType)));s=t.nodeName}throw wa.thrown(s+" does not have data")}if(s=i[e++],e<i.length){var n=i[e++];if(s.nodeType==O.PCData&&n.nodeType==O.CData){if(s.nodeType==O.Document||s.nodeType==O.Element)throw wa.thrown("Bad node type, unexpected "+(null==s.nodeType?"null":N.toString(s.nodeType)));s=""==v.trim(s.nodeValue)}else s=!1;if(s){if(e>=i.length){if(n.nodeType==O.Document||n.nodeType==O.Element)throw wa.thrown("Bad node type, unexpected "+(null==n.nodeType?"null":N.toString(n.nodeType)));return n.nodeValue}if((s=i[e++]).nodeType==O.PCData){if(s.nodeType==O.Document||s.nodeType==O.Element)throw wa.thrown("Bad node type, unexpected "+(null==s.nodeType?"null":N.toString(s.nodeType)));s=""==v.trim(s.nodeValue)}else s=!1;if(s&&e>=i.length){if(n.nodeType==O.Document||n.nodeType==O.Element)throw wa.thrown("Bad node type, unexpected "+(null==n.nodeType?"null":N.toString(n.nodeType)));return n.nodeValue}}if(t.nodeType==O.Document)s="Document";else{if(t.nodeType!=O.Element)throw wa.thrown("Bad node type, expected Element but found "+(null==t.nodeType?"null":N.toString(t.nodeType)));s=t.nodeName}throw wa.thrown(s+" does not only have data")}if(s.nodeType!=O.PCData&&s.nodeType!=O.CData){if(t.nodeType==O.Document)s="Document";else{if(t.nodeType!=O.Element)throw wa.thrown("Bad node type, expected Element but found "+(null==t.nodeType?"null":N.toString(t.nodeType)));s=t.nodeName}throw wa.thrown(s+" does not have data")}if(s.nodeType==O.Document||s.nodeType==O.Element)throw wa.thrown("Bad node type, unexpected "+(null==s.nodeType?"null":N.toString(s.nodeType)));return s.nodeValue}},ho=function(t,e,i){for(this.xml=e,this.message=t,this.position=i,this.lineNumber=1,t=this.positionAtLine=0;t<i;){var s=t++;10==(s=e.charCodeAt(s))?(this.lineNumber++,this.positionAtLine=0):13!=s&&this.positionAtLine++}};r["haxe.xml.XmlParserException"]=ho,ho.__name__="haxe.xml.XmlParserException",ho.prototype={message:null,lineNumber:null,positionAtLine:null,position:null,xml:null,toString:function(){return vo.getClass(this).__name__+": "+this.message+" at line "+this.lineNumber+" char "+this.positionAtLine},__class__:ho};var _o=function(){};r["haxe.xml.Parser"]=_o,_o.__name__="haxe.xml.Parser",_o.parse=function(t,e){null==e&&(e=!1);var i=O.createDocument();return _o.doParse(t,e,0,i),i},_o.doParse=function(t,e,i,s){null==i&&(i=0);for(var n=null,r=1,a=1,o=null,l=0,h=0,_=0,u=new b,d=1,m=-1;i<t.length;){var p=t.charCodeAt(i);switch(r){case 0:switch(p){case 9:case 10:case 13:case 32:break;default:r=a;continue}break;case 1:if(60!=p){l=i,r=13;continue}r=0,a=2;break;case 2:switch(p){case 33:if(91==t.charCodeAt(i+1)){if(i+=2,"CDATA["!=c.substr(t,i,6).toUpperCase())throw wa.thrown(new ho("Expected <![CDATA[",t,i));i+=5,r=17}else if(68==t.charCodeAt(i+1)||100==t.charCodeAt(i+1)){if("OCTYPE"!=c.substr(t,i+2,6).toUpperCase())throw wa.thrown(new ho("Expected <!DOCTYPE",t,i));i+=8,r=16}else{if(45!=t.charCodeAt(i+1)||45!=t.charCodeAt(i+2))throw wa.thrown(new ho("Expected \x3c!--",t,i));i+=2,r=15}l=i+1;break;case 47:if(null==s)throw wa.thrown(new ho("Expected node name",t,i));l=i+1,r=0,a=10;break;case 63:r=14,l=i;break;default:r=3,l=i;continue}break;case 3:if(!(97<=p&&122>=p||65<=p&&90>=p||48<=p&&57>=p||58==p||46==p||95==p||45==p)){if(i==l)throw wa.thrown(new ho("Expected node name",t,i));n=O.createElement(c.substr(t,l,i-l)),s.addChild(n),++h,r=0,a=4;continue}break;case 4:switch(p){case 47:r=11;break;case 62:r=9;break;default:r=5,l=i;continue}break;case 5:if(!(97<=p&&122>=p||65<=p&&90>=p||48<=p&&57>=p||58==p||46==p||95==p||45==p)){if(l==i)throw wa.thrown(new ho("Expected attribute name",t,i));if(o=c.substr(t,l,i-l),n.exists(o))throw wa.thrown(new ho("Duplicate attribute ["+o+"]",t,i));r=0,a=6;continue}break;case 6:if(61!=p)throw wa.thrown(new ho("Expected =",t,i));r=0,a=7;break;case 7:switch(p){case 34:case 39:u=new b,r=8,l=i+1,m=p;break;default:throw wa.thrown(new ho('Expected "',t,i))}break;case 8:switch(p){case 38:d=i-l,u.b+=null==d?c.substr(t,l,null):c.substr(t,l,d),r=18,d=8,l=i+1;break;case 60:case 62:if(e)throw wa.thrown(new ho("Invalid unescaped "+String.fromCodePoint(p)+" in attribute value",t,i));p==m&&(a=i-l,u.b+=null==a?c.substr(t,l,null):c.substr(t,l,a),a=u.b,u=new b,n.set(o,a),r=0,a=4);break;default:p==m&&(a=i-l,u.b+=null==a?c.substr(t,l,null):c.substr(t,l,a),a=u.b,u=new b,n.set(o,a),r=0,a=4)}break;case 9:l=i=_o.doParse(t,e,i,n),r=1;break;case 10:if(!(97<=p&&122>=p||65<=p&&90>=p||48<=p&&57>=p||58==p||46==p||95==p||45==p)){if(l==i)throw wa.thrown(new ho("Expected node name",t,i));if(a=c.substr(t,l,i-l),null==s||0!=s.nodeType)throw wa.thrown(new ho("Unexpected </"+a+">, tag is not open",t,i));if(s.nodeType!=O.Element)throw wa.thrown("Bad node type, expected Element but found "+(null==s.nodeType?"null":N.toString(s.nodeType)));if(a!=s.nodeName){if(s.nodeType!=O.Element)throw wa.thrown("Bad node type, expected Element but found "+(null==s.nodeType?"null":N.toString(s.nodeType)));throw wa.thrown(new ho("Expected </"+s.nodeName+">",t,i))}r=0,a=12;continue}break;case 11:if(62!=p)throw wa.thrown(new ho("Expected >",t,i));r=1;break;case 12:if(62==p)return 0==h&&s.addChild(O.createPCData("")),i;throw wa.thrown(new ho("Expected >",t,i));case 13:60==p?(a=i-l,u.b+=null==a?c.substr(t,l,null):c.substr(t,l,a),a=O.createPCData(u.b),u=new b,s.addChild(a),++h,r=0,a=2):38==p&&(d=i-l,u.b+=null==d?c.substr(t,l,null):c.substr(t,l,d),r=18,d=13,l=i+1);break;case 14:63==p&&62==t.charCodeAt(i+1)&&(++i,r=c.substr(t,l+1,i-l-2),s.addChild(O.createProcessingInstruction(r)),++h,r=1);break;case 15:45==p&&45==t.charCodeAt(i+1)&&62==t.charCodeAt(i+2)&&(s.addChild(O.createComment(c.substr(t,l,i-l))),++h,i+=2,r=1);break;case 16:91==p?++_:93==p?--_:62==p&&0==_&&(s.addChild(O.createDocType(c.substr(t,l,i-l))),++h,r=1);break;case 17:93==p&&93==t.charCodeAt(i+1)&&62==t.charCodeAt(i+2)&&(r=O.createCData(c.substr(t,l,i-l)),s.addChild(r),++h,i+=2,r=1);break;case 18:if(59==p){if(35==(l=c.substr(t,l,i-l)).charCodeAt(0))l=120==l.charCodeAt(1)?g.parseInt("0"+c.substr(l,1,l.length-1)):g.parseInt(c.substr(l,1,l.length-1)),u.b+=String.fromCodePoint(l);else if(Object.prototype.hasOwnProperty.call(_o.escapes.h,l))u.b+=g.string(_o.escapes.h[l]);else{if(e)throw wa.thrown(new ho("Undefined entity: "+l,t,i));u.b+=g.string("&"+l+";")}l=i+1,r=d}else if(!(97<=p&&122>=p||65<=p&&90>=p||48<=p&&57>=p||58==p||46==p||95==p||45==p)&&35!=p){if(e)throw wa.thrown(new ho("Invalid character in entity: "+String.fromCodePoint(p),t,i));u.b+=String.fromCodePoint(38),r=i-l,u.b+=null==r?c.substr(t,l,null):c.substr(t,l,r),l=1+--i,r=d}}++i}if(1==r&&(l=i,r=13),13==r){if(0==s.nodeType){if(s.nodeType!=O.Element)throw wa.thrown("Bad node type, expected Element but found "+(null==s.nodeType?"null":N.toString(s.nodeType)));throw wa.thrown(new ho("Unclosed node <"+s.nodeName+">",t,i))}return i==l&&0!=h||(d=i-l,u.b+=null==d?c.substr(t,l,null):c.substr(t,l,d),s.addChild(O.createPCData(u.b))),i}if(!e&&18==r&&13==d)return u.b+=String.fromCodePoint(38),d=i-l,u.b+=null==d?c.substr(t,l,null):c.substr(t,l,d),s.addChild(O.createPCData(u.b)),i;throw wa.thrown(new ho("Unexpected end",t,i))};var co=function(t){this.output=new b,this.pretty=t};r["haxe.xml.Printer"]=co,co.__name__="haxe.xml.Printer",co.print=function(t,e){return null==e&&(e=!1),(e=new co(e)).writeNode(t,""),e.output.b},co.prototype={output:null,pretty:null,writeNode:function(t,e){switch(t.nodeType){case 0:if(this.output.b+=g.string(e+"<"),t.nodeType!=O.Element)throw wa.thrown("Bad node type, expected Element but found "+(null==t.nodeType?"null":N.toString(t.nodeType)));this.output.b+=g.string(t.nodeName);for(var i=t.attributes();i.hasNext();){var s=i.next();this.output.b+=g.string(" "+s+'="'),s=v.htmlEscape(t.get(s),!0),this.output.b+=g.string(s),this.output.b+='"'}if(this.hasChildren(t)){if(this.output.b+=">",this.pretty&&(this.output.b+="\n"),t.nodeType!=O.Document&&t.nodeType!=O.Element)throw wa.thrown("Bad node type, expected Element or Document but found "+(null==t.nodeType?"null":N.toString(t.nodeType)));for(i=0,s=t.children;i<s.length;){var n=s[i++];this.writeNode(n,this.pretty?e+"\t":e)}if(this.output.b+=g.string(e+"</"),t.nodeType!=O.Element)throw wa.thrown("Bad node type, expected Element but found "+(null==t.nodeType?"null":N.toString(t.nodeType)));this.output.b+=g.string(t.nodeName),this.output.b+=">"}else this.output.b+="/>";this.pretty&&(this.output.b+="\n");break;case 1:if(t.nodeType==O.Document||t.nodeType==O.Element)throw wa.thrown("Bad node type, unexpected "+(null==t.nodeType?"null":N.toString(t.nodeType)));0!=(t=t.nodeValue).length&&(s=e+v.htmlEscape(t),this.output.b+=g.string(s),this.pretty&&(this.output.b+="\n"));break;case 2:if(this.output.b+=g.string(e+"<![CDATA["),t.nodeType==O.Document||t.nodeType==O.Element)throw wa.thrown("Bad node type, unexpected "+(null==t.nodeType?"null":N.toString(t.nodeType)));this.output.b+=g.string(t.nodeValue),this.output.b+="]]>",this.pretty&&(this.output.b+="\n");break;case 3:if(t.nodeType==O.Document||t.nodeType==O.Element)throw wa.thrown("Bad node type, unexpected "+(null==t.nodeType?"null":N.toString(t.nodeType)));t=(t=t.nodeValue).replace(/[\n\r\t]+/g,""),this.output.b+=null==e?"null":""+e,s=v.trim("\x3c!--"+t+"--\x3e"),this.output.b+=g.string(s),this.pretty&&(this.output.b+="\n");break;case 4:if(t.nodeType==O.Document||t.nodeType==O.Element)throw wa.thrown("Bad node type, unexpected "+(null==t.nodeType?"null":N.toString(t.nodeType)));this.output.b+=g.string("<!DOCTYPE "+t.nodeValue+">"),this.pretty&&(this.output.b+="\n");break;case 5:if(t.nodeType==O.Document||t.nodeType==O.Element)throw wa.thrown("Bad node type, unexpected "+(null==t.nodeType?"null":N.toString(t.nodeType)));this.output.b+=g.string("<?"+t.nodeValue+"?>"),this.pretty&&(this.output.b+="\n");break;case 6:if(t.nodeType!=O.Document&&t.nodeType!=O.Element)throw wa.thrown("Bad node type, expected Element or Document but found "+(null==t.nodeType?"null":N.toString(t.nodeType)));for(i=0,s=t.children;i<s.length;)n=s[i++],this.writeNode(n,e)}},hasChildren:function(t){if(t.nodeType!=O.Document&&t.nodeType!=O.Element)throw wa.thrown("Bad node type, expected Element or Document but found "+(null==t.nodeType?"null":N.toString(t.nodeType)));var e=0;for(t=t.children;e<t.length;){var i=t[e++];switch(i.nodeType){case 0:case 1:return!0;case 2:case 3:if(i.nodeType==O.Document||i.nodeType==O.Element)throw wa.thrown("Bad node type, unexpected "+(null==i.nodeType?"null":N.toString(i.nodeType)));if(0!=v.ltrim(i.nodeValue).length)return!0}}return!1},__class__:co};var uo=o["haxe.zip.ExtraField"]={__ename__:"haxe.zip.ExtraField",__constructs__:null,FUnknown:(l=function(t,e){return{_hx_index:0,tag:t,bytes:e,__enum__:"haxe.zip.ExtraField",toString:a}},l._hx_name="FUnknown",l.__params__=["tag","bytes"],l),FInfoZipUnicodePath:(l=function(t,e){return{_hx_index:1,name:t,crc:e,__enum__:"haxe.zip.ExtraField",toString:a}},l._hx_name="FInfoZipUnicodePath",l.__params__=["name","crc"],l),FUtf8:{_hx_name:"FUtf8",_hx_index:2,__enum__:"haxe.zip.ExtraField",toString:a}};uo.__constructs__=[uo.FUnknown,uo.FInfoZipUnicodePath,uo.FUtf8];var mo=o["haxe.zip.Huffman"]={__ename__:"haxe.zip.Huffman",__constructs__:null,Found:(l=function(t){return{_hx_index:0,i:t,__enum__:"haxe.zip.Huffman",toString:a}},l._hx_name="Found",l.__params__=["i"],l),NeedBit:(l=function(t,e){return{_hx_index:1,left:t,right:e,__enum__:"haxe.zip.Huffman",toString:a}},l._hx_name="NeedBit",l.__params__=["left","right"],l),NeedBits:(l=function(t,e){return{_hx_index:2,n:t,table:e,__enum__:"haxe.zip.Huffman",toString:a}},l._hx_name="NeedBits",l.__params__=["n","table"],l)};mo.__constructs__=[mo.Found,mo.NeedBit,mo.NeedBits];var po=function(){};r["haxe.zip.HuffTools"]=po,po.__name__="haxe.zip.HuffTools",po.prototype={treeDepth:function(t){switch(t._hx_index){case 0:return 0;case 1:var e=t.right;return 1+((t=this.treeDepth(t.left))<(e=this.treeDepth(e))?t:e);case 2:throw wa.thrown("assert")}},treeCompress:function(t){var e=this.treeDepth(t);if(0==e)return t;if(1==e){if(1==t._hx_index)return e=t.right,mo.NeedBit(this.treeCompress(t.left),this.treeCompress(e));throw wa.thrown("assert")}for(var i=[],s=0,n=1<<e;s<n;)s++,i.push(mo.Found(-1));return this.treeWalk(i,0,0,e,t),mo.NeedBits(e,i)},treeWalk:function(t,e,i,s,n){if(1==n._hx_index){var r=n.left,a=n.right;0<s?(this.treeWalk(t,e,i+1,s-1,r),this.treeWalk(t,e|1<<i,i+1,s-1,a)):t[e]=this.treeCompress(n)}else t[e]=this.treeCompress(n)},treeMake:function(t,e,i,s){if(s>e)throw wa.thrown("Invalid huffman");var n=i<<5|s;return t.h.hasOwnProperty(n)?mo.Found(t.h[n]):(i<<=1,++s,mo.NeedBit(this.treeMake(t,e,i,s),this.treeMake(t,e,1|i,s)))},make:function(t,e,i,s){if(1==i)return mo.NeedBit(mo.Found(0),mo.Found(0));var n=[],r=[];if(32<s)throw wa.thrown("Invalid huffman");for(var a=0,o=s;a<o;)a++,n.push(0),r.push(0);for(a=0,o=i;a<o;){var l=a++;if((l=t[l+e])>=s)throw wa.thrown("Invalid huffman");n[l]++}var h=0;for(a=1,o=s-1;a<o;)h=h+n[l=a++]<<1,r[l]=h;for(n=new fr,a=0,o=i;a<o;)0!=(i=t[(l=a++)+e])&&(h=r[i-1],r[i-1]=h+1,n.h[h<<5|i]=l);return this.treeCompress(mo.NeedBit(this.treeMake(n,s,0,1),this.treeMake(n,s,1,1)))},__class__:po};var fo=function(t){this.buffer=new La(new ArrayBuffer(65536)),this.pos=0,t&&(this.crc=new Da)};r["haxe.zip._InflateImpl.Window"]=fo,fo.__name__="haxe.zip._InflateImpl.Window",fo.prototype={buffer:null,pos:null,crc:null,slide:function(){null!=this.crc&&this.crc.update(this.buffer,0,32768);var t=new La(new ArrayBuffer(65536));this.pos-=32768,t.blit(0,this.buffer,32768,this.pos),this.buffer=t},addBytes:function(t,e,i){65536<this.pos+i&&this.slide(),this.buffer.blit(this.pos,t,e,i),this.pos+=i},addByte:function(t){65536==this.pos&&this.slide(),this.buffer.b[this.pos]=255&t,this.pos++},getLastChar:function(){return this.buffer.b[this.pos-1]},available:function(){return this.pos},checksum:function(){return null!=this.crc&&this.crc.update(this.buffer,0,this.pos),this.crc},__class__:fo};var go=o["haxe.zip._InflateImpl.State"]={__ename__:"haxe.zip._InflateImpl.State",__constructs__:null,Head:{_hx_name:"Head",_hx_index:0,__enum__:"haxe.zip._InflateImpl.State",toString:a},Block:{_hx_name:"Block",_hx_index:1,__enum__:"haxe.zip._InflateImpl.State",toString:a},CData:{_hx_name:"CData",_hx_index:2,__enum__:"haxe.zip._InflateImpl.State",toString:a},Flat:{_hx_name:"Flat",_hx_index:3,__enum__:"haxe.zip._InflateImpl.State",toString:a},Crc:{_hx_name:"Crc",_hx_index:4,__enum__:"haxe.zip._InflateImpl.State",toString:a},Dist:{_hx_name:"Dist",_hx_index:5,__enum__:"haxe.zip._InflateImpl.State",toString:a},DistOne:{_hx_name:"DistOne",_hx_index:6,__enum__:"haxe.zip._InflateImpl.State",toString:a},Done:{_hx_name:"Done",_hx_index:7,__enum__:"haxe.zip._InflateImpl.State",toString:a}};go.__constructs__=[go.Head,go.Block,go.CData,go.Flat,go.Crc,go.Dist,go.DistOne,go.Done];var yo=function(t,e,i){null==i&&(i=!0),null==e&&(e=!0),this.isFinal=!1,this.htools=new po,this.huffman=this.buildFixedHuffman(),this.huffdist=null,this.dist=this.len=0,this.state=e?go.Head:go.Block,this.input=t,this.needed=this.nbits=this.bits=0,this.output=null,this.outpos=0,this.lengths=[],this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.window=new fo(i)};r["haxe.zip.InflateImpl"]=yo,yo.__name__="haxe.zip.InflateImpl",yo.prototype={nbits:null,bits:null,state:null,isFinal:null,huffman:null,huffdist:null,htools:null,len:null,dist:null,needed:null,output:null,outpos:null,input:null,lengths:null,window:null,buildFixedHuffman:function(){if(null!=yo.FIXED_HUFFMAN)return yo.FIXED_HUFFMAN;for(var t=[],e=0;288>e;){var i=e++;t.push(143>=i?8:255>=i?9:279>=i?7:8)}return yo.FIXED_HUFFMAN=this.htools.make(t,0,288,10),yo.FIXED_HUFFMAN},readBytes:function(t,e,i){if(this.needed=i,this.outpos=e,this.output=t,0<i)for(;this.inflateLoop(););return i-this.needed},getBits:function(t){for(;this.nbits<t;)this.bits|=this.input.readByte()<<this.nbits,this.nbits+=8;var e=this.bits&(1<<t)-1;return this.nbits-=t,this.bits>>=t,e},getBit:function(){0==this.nbits&&(this.nbits=8,this.bits=this.input.readByte());var t=!(1&~this.bits);return this.nbits--,this.bits>>=1,t},getRevBits:function(t){return 0==t?0:this.getBit()?1<<t-1|this.getRevBits(t-1):this.getRevBits(t-1)},resetBits:function(){this.nbits=this.bits=0},addBytes:function(t,e,i){this.window.addBytes(t,e,i),this.output.blit(this.outpos,t,e,i),this.needed-=i,this.outpos+=i},addByte:function(t){this.window.addByte(t),this.output.b[this.outpos]=255&t,this.needed--,this.outpos++},addDistOne:function(t){for(var e=this.window.getLastChar(),i=0;i<t;)i++,this.addByte(e)},addDist:function(t,e){this.addBytes(this.window.buffer,this.window.pos-t,e)},applyHuffman:function(t){switch(t._hx_index){case 0:var e=t.i;return e;case 1:return e=t.left,t=t.right,this.applyHuffman(this.getBit()?t:e);case 2:return e=t.n,this.applyHuffman(t.table[this.getBits(e)])}},inflateLengths:function(t,e){for(var i=0,s=0;i<e;){var n=this.applyHuffman(this.huffman);switch(n){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:s=n,t[i]=n,++i;break;case 16:if((n=i+3+this.getBits(2))>e)throw wa.thrown("Invalid data");for(;i<n;)t[i]=s,++i;break;case 17:if((i+=3+this.getBits(3))>e)throw wa.thrown("Invalid data");break;case 18:if((i+=11+this.getBits(7))>e)throw wa.thrown("Invalid data");break;default:throw wa.thrown("Invalid data")}}},inflateLoop:function(){switch(this.state._hx_index){case 0:var t=this.input.readByte();if(8!=(15&t))throw wa.thrown("Invalid data");var e=this.input.readByte(),i=!!(32&e);if(0!=((t<<8)+e)%31)throw wa.thrown("Invalid data");if(i)throw wa.thrown("Unsupported dictionary");return this.state=go.Block,!0;case 1:switch(this.isFinal=this.getBit(),this.getBits(2)){case 0:if(this.len=this.input.readUInt16(),this.input.readUInt16()!=65535-this.len)throw wa.thrown("Invalid data");return this.state=go.Flat,t=this.inflateLoop(),this.resetBits(),t;case 1:return this.huffman=this.buildFixedHuffman(),this.huffdist=null,this.state=go.CData,!0;case 2:t=this.getBits(5)+257,e=this.getBits(5)+1;var s=this.getBits(4)+4;i=0;for(var n=s;i<n;){var r=i++;this.lengths[yo.CODE_LENGTHS_POS[r]]=this.getBits(3)}for(i=s,n=19;i<n;)r=i++,this.lengths[yo.CODE_LENGTHS_POS[r]]=0;for(this.huffman=this.htools.make(this.lengths,0,19,8),s=[],i=0,n=t+e;i<n;)i++,s.push(0);return this.inflateLengths(s,t+e),this.huffdist=this.htools.make(s,t,e,16),this.huffman=this.htools.make(s,0,t,16),this.state=go.CData,!0;default:throw wa.thrown("Invalid data")}case 2:if(256>(e=this.applyHuffman(this.huffman)))return this.addByte(e),0<this.needed;if(256==e)this.state=this.isFinal?go.Crc:go.Block;else{if(e-=257,-1==(t=yo.LEN_EXTRA_BITS_TBL[e]))throw wa.thrown("Invalid data");if(this.len=yo.LEN_BASE_VAL_TBL[e]+this.getBits(t),e=null==this.huffdist?this.getRevBits(5):this.applyHuffman(this.huffdist),-1==(t=yo.DIST_EXTRA_BITS_TBL[e]))throw wa.thrown("Invalid data");if(this.dist=yo.DIST_BASE_VAL_TBL[e]+this.getBits(t),this.dist>this.window.available())throw wa.thrown("Invalid data");this.state=1==this.dist?go.DistOne:go.Dist}return!0;case 3:return t=this.len<this.needed?this.len:this.needed,e=this.input.read(t),this.len-=t,this.addBytes(e,0,t),0==this.len&&(this.state=this.isFinal?go.Crc:go.Block),0<this.needed;case 4:if(null==(t=this.window.checksum()))return this.state=go.Done,!0;if(e=Da.read(this.input),!t.equals(e))throw wa.thrown("Invalid CRC");return this.state=go.Done,!0;case 5:for(;0<this.len&&0<this.needed;)t=this.len<this.dist?this.len:this.dist,t=this.needed<t?this.needed:t,this.addDist(this.dist,t),this.len-=t;return 0==this.len&&(this.state=go.CData),0<this.needed;case 6:return t=this.len<this.needed?this.len:this.needed,this.addDistOne(t),this.len-=t,0==this.len&&(this.state=go.CData),0<this.needed;case 7:return!1}},__class__:yo};var bo=function(t){this.i=t};r["haxe.zip.Reader"]=bo,bo.__name__="haxe.zip.Reader",bo.readZip=function(t){return new bo(t).read()},bo.prototype={i:null,readZipDate:function(){var t=this.i.readUInt16(),e=t>>11&31,i=t>>5&63;t&=31;var s=this.i.readUInt16();return new Date(1980+(s>>9),(s>>5&15)-1,31&s,e,i,t<<1)},readExtraFields:function(t){for(var e=new E;0<t;){if(4>t)throw wa.thrown("Invalid extra fields data");var i=this.i.readUInt16(),s=this.i.readUInt16();if(t<s)throw wa.thrown("Invalid extra fields data");if(28789==i){var n=this.i.readByte();if(1!=n){var r=new Za;r.addByte(n),r.add(this.i.read(s-1)),e.add(uo.FUnknown(i,r.getBytes()))}else i=this.i.readInt32(),n=this.i.read(s-5).toString(),e.add(uo.FInfoZipUnicodePath(n,i))}else e.add(uo.FUnknown(i,this.i.read(s)));t-=4+s}return e},readEntryHeader:function(){var t=this.i,e=t.readInt32();if(33639248==e||101010256==e)return null;if(67324752!=e)throw wa.thrown("Invalid Zip Data");t.readUInt16();var i=!!(2048&(e=t.readUInt16()));if(63473&e)throw wa.thrown("Unsupported flags "+e);var s=t.readUInt16(),n=0!=s;if(n&&8!=s)throw wa.thrown("Unsupported compression "+s);s=this.readZipDate();var r=t.readInt32(),a=t.readInt32(),o=t.readInt32(),l=t.readInt16(),h=t.readInt16();return t=t.readString(l),h=this.readExtraFields(h),i&&h.push(uo.FUtf8),8&e&&(r=null),{fileName:t,fileSize:o,fileTime:s,compressed:n,dataSize:a,data:null,crc32:r,extraFields:h}},read:function(){for(var t=new E,e=null;;){var i=this.readEntryHeader();if(null==i)break;if(null==i.crc32){if(i.compressed){null==e&&(e=new La(new ArrayBuffer(65536)));for(var s=new Za,n=new yo(this.i,!1,!1);;){var r=n.readBytes(e,0,65536);if(s.addBytes(e,0,r),65536>r)break}i.data=s.getBytes()}else i.data=this.i.read(i.dataSize);i.crc32=this.i.readInt32(),134695760==i.crc32&&(i.crc32=this.i.readInt32()),i.dataSize=this.i.readInt32(),i.fileSize=this.i.readInt32(),i.dataSize=i.fileSize,i.compressed=!1}else i.data=this.i.read(i.dataSize);t.add(i)}return t},__class__:bo};var vo=function(){};r["js.Boot"]=vo,vo.__name__="js.Boot",vo.getClass=function(t){if(null==t)return null;if(t instanceof Array)return Array;var e=t.__class__;return null!=e?e:null!=(t=vo.__nativeClassName(t))?vo.__resolveNativeClass(t):null},vo.__string_rec=function(t,e){if(null==t)return"null";if(5<=e.length)return"<...>";var i=typeof t;switch("function"==i&&(t.__name__||t.__ename__)&&(i="object"),i){case"function":return"<function>";case"object":if(t.__enum__){var s=o[t.__enum__].__constructs__[t._hx_index];if(i=s._hx_name,s.__params__){e+="\t";var n=[],r=0;for(s=s.__params__;r<s.length;){var a=s[r];r+=1,n.push(vo.__string_rec(t[a],e))}return i+"("+n.join(",")+")"}return i}if(t instanceof Array){for(i="[",e+="\t",n=0,r=t.length;n<r;)i+=(0<(s=n++)?",":"")+vo.__string_rec(t[s],e);return i+"]"}try{n=t.toString}catch(t){return Ma.lastError=t,"???"}if(null!=n&&n!=Object.toString&&"function"==typeof n&&"[object Object]"!=(i=t.toString()))return i;for(r in i="{\n",e+="\t",n=null!=t.hasOwnProperty,r=null,t)n&&!t.hasOwnProperty(r)||"prototype"==r||"__class__"==r||"__super__"==r||"__interfaces__"==r||"__properties__"==r||(2!=i.length&&(i+=", \n"),i+=e+r+" : "+vo.__string_rec(t[r],e));return i+"\n"+(e=e.substring(1))+"}";case"string":return t;default:return String(t)}},vo.__interfLoop=function(t,e){if(null==t)return!1;if(t==e)return!0;var i=t.__interfaces__;if(null!=i)for(var s=0,n=i.length;s<n;){var r=s++;if((r=i[r])==e||vo.__interfLoop(r,e))return!0}return vo.__interfLoop(t.__super__,e)},vo.__instanceof=function(t,e){if(null==e)return!1;switch(e){case Array:return t instanceof Array;case Nb:return"boolean"==typeof t;case Db:return null!=t;case Lb:return"number"==typeof t;case Bb:return"number"==typeof t&&(0|t)===t;case String:return"string"==typeof t;default:if(null==t)return!1;if("function"==typeof e){if(vo.__downcastCheck(t,e))return!0}else if("object"==typeof e&&vo.__isNativeObj(e)&&t instanceof e)return!0;return e==Ob&&null!=t.__name__||e==Vb&&null!=t.__ename__||null!=t.__enum__&&o[t.__enum__]==e}},vo.__downcastCheck=function(t,e){return t instanceof e||!!e.__isInterface__&&vo.__interfLoop(vo.getClass(t),e)},vo.__implements=function(t,e){return vo.__interfLoop(vo.getClass(t),e)},vo.__cast=function(t,e){if(null==t||vo.__instanceof(t,e))return t;throw wa.thrown("Cannot cast "+g.string(t)+" to "+g.string(e))},vo.__nativeClassName=function(t){return"Object"==(t=vo.__toStr.call(t).slice(8,-1))||"Function"==t||"Math"==t||"JSON"==t?null:t},vo.__isNativeObj=function(t){return null!=vo.__nativeClassName(t)},vo.__resolveNativeClass=function(t){return e[t]};var xo=function(){};r["js.Browser"]=xo,xo.__name__="js.Browser",xo.__properties__={get_supported:"get_supported"},xo.get_supported=function(){return"undefined"!=typeof window&&void 0!==window.location&&"string"==typeof window.location.protocol},xo.getLocalStorage=function(){try{var t=window.localStorage;if(t.getItem(""),0==t.length){var e="_hx_"+Math.random();t.setItem(e,e),t.removeItem(e)}return t}catch(t){return Ma.lastError=t,null}};var wo=function(){};r["js.html._CanvasElement.CanvasUtil"]=wo,wo.__name__="js.html._CanvasElement.CanvasUtil",wo.getContextWebGL=function(t,e){var i=t.getContext("webgl",e);return null!=i||null!=(i=t.getContext("experimental-webgl",e))?i:null};var So=function(){};r["js.lib._ArrayBuffer.ArrayBufferCompat"]=So,So.__name__="js.lib._ArrayBuffer.ArrayBufferCompat",So.sliceImpl=function(t,e){return t=new Uint8Array(this,t,null==e?null:e-t),(e=new Uint8Array(t.byteLength)).set(t),e.buffer};var Ro=function(t){this.gameDeviceCache=new fr,this.parent=t,this.nextUpdate=this.lastUpdate=this.currentUpdate=0,this.framePeriod=-1,th.init(),this.accelerometer=kh.registerSensor(Fh.ACCELEROMETER,0)};r["lime._internal.backend.html5.HTML5Application"]=Ro,Ro.__name__="lime._internal.backend.html5.HTML5Application",Ro.prototype={accelerometer:null,currentUpdate:null,deltaTime:null,framePeriod:null,gameDeviceCache:null,hidden:null,lastUpdate:null,nextUpdate:null,parent:null,convertKeyCode:function(t){if(65<=t&&90>=t)return t+32;switch(t){case 12:return 1073741980;case 16:return 1073742049;case 17:return 1073742048;case 18:return 1073742050;case 19:return 1073741896;case 20:return 1073741881;case 33:return 1073741899;case 34:return 1073741902;case 35:return 1073741901;case 36:case 172:return 1073741898;case 37:return 1073741904;case 38:return 1073741906;case 39:return 1073741903;case 40:return 1073741905;case 41:return 1073741943;case 43:return 1073741940;case 44:return 1073741894;case 45:return 1073741897;case 46:return 127;case 91:case 224:return 1073742051;case 92:case 93:return 1073742055;case 95:return 1073742106;case 96:return 1073741922;case 97:return 1073741913;case 98:return 1073741914;case 99:return 1073741915;case 100:return 1073741916;case 101:return 1073741917;case 102:return 1073741918;case 103:return 1073741919;case 104:return 1073741920;case 105:return 1073741921;case 106:return 1073741909;case 107:return 1073741911;case 108:case 110:case 194:return 1073741923;case 109:return 1073741910;case 111:return 1073741908;case 112:return 1073741882;case 113:return 1073741883;case 114:return 1073741884;case 115:return 1073741885;case 116:return 1073741886;case 117:return 1073741887;case 118:return 1073741888;case 119:return 1073741889;case 120:return 1073741890;case 121:return 1073741891;case 122:return 1073741892;case 123:return 1073741893;case 124:return 1073741928;case 125:return 1073741929;case 126:return 1073741930;case 127:return 1073741931;case 128:return 1073741932;case 129:return 1073741933;case 130:return 1073741934;case 131:return 1073741935;case 132:return 1073741936;case 133:return 1073741937;case 134:return 1073741938;case 135:return 1073741939;case 144:return 1073741907;case 145:return 1073741895;case 160:return 94;case 161:return 33;case 163:return 35;case 164:return 36;case 166:return 1073742094;case 167:return 1073742095;case 168:return 1073742097;case 169:return 41;case 170:return 42;case 171:case 192:case 223:return 96;case 173:case 189:return 45;case 174:case 182:return 1073741953;case 175:case 183:return 1073741952;case 176:return 1073742082;case 177:return 1073742083;case 178:return 1073742084;case 179:return 1073742085;case 180:return 1073742089;case 181:return 1073742086;case 186:return 59;case 187:return 61;case 188:return 44;case 190:return 46;case 191:return 47;case 193:return 63;case 219:return 91;case 220:case 226:return 92;case 221:return 93;case 222:return 39}return t},exec:function(){if(window.addEventListener("keydown",n(this,this.handleKeyEvent),!1),window.addEventListener("keyup",n(this,this.handleKeyEvent),!1),window.addEventListener("focus",n(this,this.handleWindowEvent),!1),window.addEventListener("blur",n(this,this.handleWindowEvent),!1),window.addEventListener("resize",n(this,this.handleWindowEvent),!1),window.addEventListener("beforeunload",n(this,this.handleWindowEvent),!1),Object.prototype.hasOwnProperty.call(window,"Accelerometer")&&window.addEventListener("devicemotion",n(this,this.handleSensorEvent),!1),CanvasRenderingContext2D.prototype.isPointInStroke||(CanvasRenderingContext2D.prototype.isPointInStroke=function(t,e,i){return!1}),CanvasRenderingContext2D.prototype.isPointInPath||(CanvasRenderingContext2D.prototype.isPointInPath=function(t,e,i){return!1}),0=="performance"in window&&(window.performance={}),0=="now"in window.performance){var t=Date.now();performance.timing&&performance.timing.navigationStart&&(t=performance.timing.navigationStart),window.performance.now=function(){return Date.now()-t}}for(var e=0,i=["ms","moz","webkit","o"],s=0;s<i.length&&!window.requestAnimationFrame;++s)window.requestAnimationFrame=window[i[s]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[i[s]+"CancelAnimationFrame"]||window[i[s]+"CancelRequestAnimationFrame"];return window.requestAnimationFrame||(window.requestAnimationFrame=function(t,i){var s=(new Date).getTime(),n=Math.max(0,16-(s-e));return i=window.setTimeout(function(){t(s+n)},n),e=s+n,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)}),window.requestAnimFrame=window.requestAnimationFrame,this.lastUpdate=(new Date).getTime(),this.handleApplicationEvent(),0},exit:function(){},handleApplicationEvent:function(t){t=0;for(var e=this.parent.__windows;t<e.length;){var i=e[t];++t,i.__backend.updateSize()}if(this.updateGameDevices(),this.currentUpdate=(new Date).getTime(),this.currentUpdate>=this.nextUpdate){for(this.deltaTime=this.currentUpdate-this.lastUpdate,t=0,e=this.parent.__windows;t<e.length;)i=e[t],++t,this.parent.onUpdate.dispatch(0|this.deltaTime),null!=i.context&&i.onRender.dispatch(i.context);this.nextUpdate=0>this.framePeriod?this.currentUpdate:this.currentUpdate-this.currentUpdate%this.framePeriod+this.framePeriod,this.lastUpdate=this.currentUpdate}window.requestAnimationFrame(n(this,this.handleApplicationEvent))},handleKeyEvent:function(t){if(null!=this.parent.__window){switch(t.keyCode){case 32:case 37:case 38:case 39:case 40:t.preventDefault()}var e=this.convertKeyCode(null!=t.keyCode?t.keyCode:t.which),i=(t.shiftKey?3:0)|(t.ctrlKey?192:0)|(t.altKey?768:0)|(t.metaKey?3072:0);"keydown"==t.type?(this.parent.__window.onKeyDown.dispatch(e,i),this.parent.__window.onKeyDown.canceled&&t.cancelable&&t.preventDefault()):(this.parent.__window.onKeyUp.dispatch(e,i),this.parent.__window.onKeyUp.canceled&&t.cancelable&&t.preventDefault())}},handleSensorEvent:function(t){this.accelerometer.onUpdate.dispatch(t.accelerationIncludingGravity.x,t.accelerationIncludingGravity.y,t.accelerationIncludingGravity.z)},handleWindowEvent:function(t){if(null!=this.parent.__window)switch(t.type){case"blur":this.hidden||(this.parent.__window.onFocusOut.dispatch(),this.parent.__window.onDeactivate.dispatch(),this.hidden=!0);break;case"focus":this.hidden&&(this.parent.__window.onFocusIn.dispatch(),this.parent.__window.onActivate.dispatch(),this.hidden=!1);break;case"resize":this.parent.__window.__backend.handleResizeEvent(t);break;case"visibilitychange":window.document.hidden?this.hidden||(this.parent.__window.onFocusOut.dispatch(),this.parent.__window.onDeactivate.dispatch(),this.hidden=!0):this.hidden&&(this.parent.__window.onFocusIn.dispatch(),this.parent.__window.onActivate.dispatch(),this.hidden=!1)}},updateGameDevices:function(){var t=Kh.__getDeviceData();if(null!=t)for(var e,i,s,n,r,a=0,o=t.length;a<o;)if(null!=(n=t[e=a++])){if(!this.gameDeviceCache.h.hasOwnProperty(e)){for((r=new Ao).id=e,r.connected=n.connected,i=0,s=n.buttons.length;i<s;){var l=i++;r.buttons.push(n.buttons[l].value)}for(i=0,s=n.axes.length;i<s;)l=i++,r.axes.push(n.axes[l]);"standard"==n.mapping&&(r.isGamepad=!0),this.gameDeviceCache.h[e]=r,n.connected&&(Kh.__connect(e),r.isGamepad&&jh.__connect(e))}if(r=this.gameDeviceCache.h[e],s=Kh.devices.h[e],i=jh.devices.h[e],n.connected){for(var h=0,_=n.buttons.length;h<_;){var c=h++;if((l=n.buttons[c].value)!=r.buttons[c]){if(6==c)s.onAxisMove.dispatch(n.axes.length,l),null!=i&&i.onAxisMove.dispatch(4,l);else if(7==c)s.onAxisMove.dispatch(n.axes.length+1,l),null!=i&&i.onAxisMove.dispatch(5,l);else if(0<l?s.onButtonDown.dispatch(c):s.onButtonUp.dispatch(c),null!=i){switch(c){case 0:e=0;break;case 1:e=1;break;case 2:e=2;break;case 3:e=3;break;case 4:e=9;break;case 5:e=10;break;case 8:e=4;break;case 9:e=6;break;case 10:e=7;break;case 11:e=8;break;case 12:e=11;break;case 13:e=12;break;case 14:e=13;break;case 15:e=14;break;case 16:e=5;break;default:continue}0<l?i.onButtonDown.dispatch(e):i.onButtonUp.dispatch(e)}r.buttons[c]=l}}for(e=0,l=n.axes.length;e<l;)h=e++,n.axes[h]!=r.axes[h]&&(s.onAxisMove.dispatch(h,n.axes[h]),null!=i&&i.onAxisMove.dispatch(h,n.axes[h]),r.axes[h]=n.axes[h])}else r.connected&&(r.connected=!1,Kh.__disconnect(e),jh.__disconnect(e))}},__class__:Ro};var Ao=function(){this.connected=!0,this.buttons=[],this.axes=[]};r["lime._internal.backend.html5.GameDeviceData"]=Ao,Ao.__name__="lime._internal.backend.html5.GameDeviceData",Ao.prototype={connected:null,id:null,isGamepad:null,buttons:null,axes:null,__class__:Ao};var To=function(t){this.parent=t,this.id=-1,this.gain=1};r["lime._internal.backend.html5.HTML5AudioSource"]=To,To.__name__="lime._internal.backend.html5.HTML5AudioSource",To.prototype={completed:null,gain:null,id:null,length:null,loops:null,parent:null,playing:null,dispose:function(){},init:function(){},play:function(){if(!this.playing&&null!=this.parent.buffer&&null!=this.parent.buffer.__srcHowl){this.playing=!0;var t=this.getCurrentTime();this.completed=!1;var e=this.parent.buffer.__srcHowl._volume;this.parent.buffer.__srcHowl._volume=this.parent.get_gain(),this.id=this.parent.buffer.__srcHowl.play(),this.parent.buffer.__srcHowl._volume=e,null!=this.parent.get_pan()&&this.setPan(this.parent.get_pan()),null!=this.parent.get_position()&&this.setPosition(this.parent.get_position()),this.parent.buffer.__srcHowl.on("end",n(this,this.howl_onEnd),this.id),this.setCurrentTime(t)}},pause:function(){this.playing=!1,null!=this.parent.buffer&&null!=this.parent.buffer.__srcHowl&&this.parent.buffer.__srcHowl.pause(this.id)},stop:function(){this.playing=!1,null!=this.parent.buffer&&null!=this.parent.buffer.__srcHowl&&(this.parent.buffer.__srcHowl.stop(this.id),this.parent.buffer.__srcHowl.off("end",n(this,this.howl_onEnd),this.id))},howl_onEnd:function(){this.playing=!1,0<this.loops?(this.loops--,this.stop(),this.play()):(null!=this.parent.buffer&&null!=this.parent.buffer.__srcHowl&&(this.parent.buffer.__srcHowl.stop(this.id),this.parent.buffer.__srcHowl.off("end",n(this,this.howl_onEnd),this.id)),this.completed=!0,this.parent.onComplete.dispatch())},getCurrentTime:function(){if(-1==this.id)return 0;if(this.completed)return this.getLength();if(null!=this.parent.buffer&&null!=this.parent.buffer.__srcHowl){var t=(1e3*this.parent.buffer.__srcHowl.seek(this.id)|0)-this.parent.offset;return 0>t?0:t}return 0},setCurrentTime:function(t){if(null!=this.parent.buffer&&null!=this.parent.buffer.__srcHowl){var e=(t+this.parent.offset)/1e3;0>e&&(e=0),this.parent.buffer.__srcHowl.seek(e,this.id)}return t},getGain:function(){return this.gain},setGain:function(t){return null!=this.parent.buffer&&null!=this.parent.buffer.__srcHowl&&-1!=this.id&&this.parent.buffer.__srcHowl.volume(t,this.id),this.gain=t},getLength:function(){return 0!=this.length?this.length:null!=this.parent.buffer&&null!=this.parent.buffer.__srcHowl?1e3*this.parent.buffer.__srcHowl.duration()|0:0},setLength:function(t){return this.length=t},getLoops:function(){return this.loops},setLoops:function(t){return this.loops=t},setPan:function(t){return null!=this.parent.buffer.__srcHowl&&null!=this.parent.buffer.__srcHowl.stereo&&this.parent.buffer.__srcHowl.stereo(t,this.id),t},getPitch:function(){return this.parent.buffer.__srcHowl.rate()},setPitch:function(t){return this.parent.buffer.__srcHowl.rate(t),this.getPitch()},setPosition:function(t){return null!=this.parent.buffer&&null!=this.parent.buffer.__srcHowl&&null!=this.parent.buffer.__srcHowl.pos&&this.parent.buffer.__srcHowl.pos(t.x,t.y,t.z,this.id),t},__class__:To};var Mo=function(){this.validStatus0=new _("Tizen","gi").match(window.navigator.userAgent)};r["lime._internal.backend.html5.HTML5HTTPRequest"]=Mo,Mo.__name__="lime._internal.backend.html5.HTML5HTTPRequest",Mo.loadImage=function(t){var e=new ol;return Mo.activeRequests<Mo.requestLimit?(Mo.activeRequests++,Mo.__loadImage(t,e,0)):Mo.requestQueue.add({instance:null,uri:t,promise:e,type:"IMAGE",options:0}),e.future},Mo.loadImageFromBytes=function(t,e){var i=URL.createObjectURL(new Blob([t.b.bufferValue],{type:e}));return null!=i?(t=new ol,Mo.activeRequests<Mo.requestLimit?(Mo.activeRequests++,Mo.__loadImage(i,t,1)):Mo.requestQueue.add({instance:null,uri:i,promise:t,type:"IMAGE",options:1}),t.future):Mo.loadImage("data:"+e+";base64,"+ko.encode(t))},Mo.processQueue=function(){if(Mo.activeRequests<Mo.requestLimit&&0<Mo.requestQueue.length){Mo.activeRequests++;var t=Mo.requestQueue.pop();switch(t.type){case"BINARY":t.instance.__loadData(t.uri,t.promise);break;case"IMAGE":Mo.__loadImage(t.uri,t.promise,t.options);break;case"TEXT":t.instance.__loadText(t.uri,t.promise);break;default:Mo.activeRequests--}}},Mo.__createBlobURIFromBytes=function(t,e){return URL.createObjectURL(new Blob([t.b.bufferValue],{type:e}))},Mo.__fixHostname=function(t){return null==t?"":t},Mo.__fixPort=function(t,e){if(null==t||""==t)switch(e){case"ftp:":return"21";case"gopher:":return"70";case"http:":case"ws:":return"80";case"https:":case"wss:":return"443";default:return""}return t},Mo.__fixProtocol=function(t){return null==t||""==t?"http:":t},Mo.__isInMemoryURI=function(t){return!!v.startsWith(t,"data:")||v.startsWith(t,"blob:")},Mo.__isSameOrigin=function(t){if(null==t||""==t||Mo.__isInMemoryURI(t))return!0;null==Mo.originElement&&(Mo.originElement=window.document.createElement("a"),Mo.originHostname=Mo.__fixHostname(e.location.hostname),Mo.originProtocol=Mo.__fixProtocol(e.location.protocol),Mo.originPort=Mo.__fixPort(e.location.port,Mo.originProtocol));var i=Mo.originElement;i.href=t,""==i.hostname&&(i.href=i.href);var s=Mo.__fixHostname(i.hostname);return t=Mo.__fixProtocol(i.protocol),i=Mo.__fixPort(i.port,t),s=""==s||s==Mo.originHostname,i=""==i||i==Mo.originPort,!("file:"==t||!s)&&i},Mo.__loadImage=function(t,e,i){var s=new Image;if(Mo.__isSameOrigin(t)||(s.crossOrigin="Anonymous"),null==Mo.supportsImageProgress&&(Mo.supportsImageProgress="onprogress"in s),Mo.supportsImageProgress||Mo.__isInMemoryURI(t))s.addEventListener("load",function(n){Mo.__revokeBlobURI(t,i),(n=new kl(null,s.width,s.height)).__srcImage=s,Mo.activeRequests--,Mo.processQueue(),e.complete(new El(n))},!1),s.addEventListener("progress",function(t){e.progress(t.loaded,t.total)},!1),s.addEventListener("error",function(s){Mo.__revokeBlobURI(t,i),Mo.activeRequests--,Mo.processQueue(),e.error(s.detail)},!1),s.src=t;else{var n=new XMLHttpRequest;n.onload=function(t){Mo.activeRequests--,Mo.processQueue(),(new El).__fromBytes(La.ofData(n.response),function(t){e.complete(t)})},n.onerror=function(t){e.error(t.message)},n.onprogress=function(t){t.lengthComputable&&e.progress(t.loaded,t.total)},n.open("GET",t,!0),n.responseType="arraybuffer",n.overrideMimeType("text/plain; charset=x-user-defined"),n.send(null)}},Mo.__revokeBlobURI=function(t,e){1&e&&URL.revokeObjectURL(t)},Mo.prototype={binary:null,parent:null,request:null,validStatus0:null,cancel:function(){null!=this.request&&this.request.abort()},init:function(t){this.parent=t},load:function(t,e,i){if(this.request=new XMLHttpRequest,"POST"==this.parent.method?this.request.upload.addEventListener("progress",e,!1):this.request.addEventListener("progress",e,!1),this.request.onreadystatechange=i,e="",null==this.parent.data){for(var n=(i=Object.keys(this.parent.formData.h)).length,r=0;r<n;){var a=i[r++];0<e.length&&(e+="&");var o=this.parent.formData.h[a];if(-1<a.indexOf("[]")&&o instanceof Array){var l=[];for(o=s(o);o.hasNext();){var h=o.next();l.push(encodeURIComponent(h))}l=l.join("&amp;"+a+"="),e+=encodeURIComponent(a)+"="+l}else l=encodeURIComponent(a)+"=",a=g.string(o),e+=l+encodeURIComponent(a)}"GET"==this.parent.method&&""!=e&&(t=-1<t.indexOf("?")?t+"&"+e:t+"?"+e,e="")}for(this.request.open(g.string(this.parent.method),t,!0),0<this.parent.timeout&&(this.request.timeout=this.parent.timeout),this.binary&&(this.request.responseType="arraybuffer"),t=null,l=0,i=this.parent.headers;l<i.length;)n=i[l],++l,"Content-Type"==n.name?t=n.value:this.request.setRequestHeader(n.name,n.value);null!=this.parent.contentType&&(t=this.parent.contentType),null==t&&(null!=this.parent.data?t="application/octet-stream":""!=e&&(t="application/x-www-form-urlencoded")),null!=t&&this.request.setRequestHeader("Content-Type",t),this.parent.withCredentials&&(this.request.withCredentials=!0),null!=this.parent.data?this.request.send(this.parent.data.b.bufferValue):this.request.send(e)},loadData:function(t){var e=new ol;return Mo.activeRequests<Mo.requestLimit?(Mo.activeRequests++,this.__loadData(t,e)):Mo.requestQueue.add({instance:this,uri:t,promise:e,type:"BINARY",options:0}),e.future},loadText:function(t){var e=new ol;return Mo.activeRequests<Mo.requestLimit?(Mo.activeRequests++,this.__loadText(t,e)):Mo.requestQueue.add({instance:this,uri:t,promise:e,type:"TEXT",options:0}),e.future},processResponse:function(){if(this.parent.enableResponseHeaders){this.parent.responseHeaders=[];for(var t,e,i=0,s=this.request.getAllResponseHeaders().split("\n");i<s.length;)e=s[i],++i,t=v.trim(c.substr(e,0,e.indexOf(":"))),e=v.trim(c.substr(e,e.indexOf(":")+1,null)),""!=t&&this.parent.responseHeaders.push(new ph(t,e))}this.parent.responseStatus=this.request.status},__loadData:function(t,e){var i=this;this.binary=!0,this.load(t,function(t){e.progress(t.loaded,t.total)},function(t){4==i.request.readyState&&(null!=i.request.status&&(200<=i.request.status&&400>i.request.status||i.validStatus0&&0==i.request.status)?(t=null,""==i.request.responseType?null!=i.request.responseText&&(t=La.ofString(i.request.responseText)):null!=i.request.response&&(t=La.ofData(i.request.response)),i.processResponse(),e.complete(t)):(i.processResponse(),e.error(i.request.status)),i.request=null,Mo.activeRequests--,Mo.processQueue())})},__loadText:function(t,e){var i=this;this.binary=!1,this.load(t,function(t){e.progress(t.loaded,t.total)},function(t){4==i.request.readyState&&(null!=i.request.status&&(200<=i.request.status&&400>=i.request.status||i.validStatus0&&0==i.request.status)?(i.processResponse(),e.complete(i.request.responseText)):(i.processResponse(),e.error(i.request.status)),i.request=null,Mo.activeRequests--,Mo.processQueue())})},__class__:Mo};var Po=function(t){this.imeCompositionActive=!1,this.unusedTouchesPool=new E,this.scale=1,this.currentTouches=new fr,this.parent=t,this.cursor=Zh.DEFAULT,this.cacheMouseY=this.cacheMouseX=0;var e=t.__attributes;Object.prototype.hasOwnProperty.call(e,"context")||(e.context={}),this.renderType=e.context.type,Object.prototype.hasOwnProperty.call(e,"element")&&(t.element=e.element);var i=t.element;if(Object.prototype.hasOwnProperty.call(e,"allowHighDPI")&&e.allowHighDPI&&"dom"!=this.renderType&&(this.scale=window.devicePixelRatio),t.__scale=this.scale,this.setWidth=Object.prototype.hasOwnProperty.call(e,"width")?e.width:0,this.setHeight=Object.prototype.hasOwnProperty.call(e,"height")?e.height:0,t.__width=this.setWidth,t.__height=this.setHeight,t.id=Po.windowID++,i instanceof HTMLCanvasElement?this.canvas=i:"dom"==this.renderType?this.div=window.document.createElement("div"):this.canvas=window.document.createElement("canvas"),null!=this.canvas){var s=this.canvas.style;s.setProperty("-webkit-transform","translateZ(0)",null),s.setProperty("transform","translateZ(0)",null)}else null!=this.div&&((s=this.div.style).setProperty("-webkit-transform","translate3D(0,0,0)",null),s.setProperty("transform","translate3D(0,0,0)",null),s.position="relative",s.overflow="hidden",s.setProperty("-webkit-user-select","none",null),s.setProperty("-moz-user-select","none",null),s.setProperty("-ms-user-select","none",null),s.setProperty("-o-user-select","none",null));if(0==t.__width&&0==t.__height&&(null!=i?(t.__width=i.clientWidth,t.__height=i.clientHeight):(t.__width=window.innerWidth,t.__height=window.innerHeight),this.cacheElementWidth=t.__width,this.cacheElementHeight=t.__height,this.resizeElement=!0),null!=this.canvas?(this.canvas.width=Math.round(t.__width*this.scale),this.canvas.height=Math.round(t.__height*this.scale),this.canvas.style.width=t.__width+"px",this.canvas.style.height=t.__height+"px"):(this.div.style.width=t.__width+"px",this.div.style.height=t.__height+"px"),(Object.prototype.hasOwnProperty.call(e,"resizable")&&e.resizable||!Object.prototype.hasOwnProperty.call(e,"width")&&0==this.setWidth&&0==this.setHeight)&&(t.__resizable=!0),this.updateSize(),null!=i){for(null!=this.canvas?i!=this.canvas&&i.appendChild(this.canvas):i.appendChild(this.div),e="mousedown mouseenter mouseleave mousemove mouseup wheel".split(" "),s=0;s<e.length;){var r=e[s];++s,i.addEventListener(r,n(this,this.handleMouseEvent),!0)}i.addEventListener("contextmenu",n(this,this.handleContextMenuEvent),!0),i.addEventListener("dragstart",n(this,this.handleDragEvent),!0),i.addEventListener("dragover",n(this,this.handleDragEvent),!0),i.addEventListener("drop",n(this,this.handleDragEvent),!0),i.addEventListener("touchstart",n(this,this.handleTouchEvent),!0),i.addEventListener("touchmove",n(this,this.handleTouchEvent),!0),i.addEventListener("touchend",n(this,this.handleTouchEvent),!0),i.addEventListener("touchcancel",n(this,this.handleTouchEvent),!0),i.addEventListener("gamepadconnected",n(this,this.handleGamepadEvent),!0),i.addEventListener("gamepaddisconnected",n(this,this.handleGamepadEvent),!0)}this.createContext(),"webgl"==t.context.type&&(this.canvas.addEventListener("webglcontextlost",n(this,this.handleContextEvent),!1),this.canvas.addEventListener("webglcontextrestored",n(this,this.handleContextEvent),!1))};r["lime._internal.backend.html5.HTML5Window"]=Po,Po.__name__="lime._internal.backend.html5.HTML5Window",Po.prototype={canvas:null,div:null,cacheElementHeight:null,cacheElementWidth:null,cacheMouseX:null,cacheMouseY:null,cursor:null,currentTouches:null,isFullscreen:null,parent:null,primaryTouch:null,renderType:null,requestedFullscreen:null,resizeElement:null,scale:null,setHeight:null,setWidth:null,textInputEnabled:null,textInputRect:null,unusedTouchesPool:null,__focusPending:null,alert:function(t,e){null!=t&&window.alert(g.string(t))},close:function(){this.parent.application.__removeWindow(this.parent)},createContext:function(){var t=new Ll,e=this.parent.__attributes.context;if(t.window=this.parent,t.attributes=e,null!=this.div)t.dom=this.div,t.type="dom",t.version="";else if(null!=this.canvas){var i=null,s="canvas"==this.renderType,n="opengl"==this.renderType||"opengles"==this.renderType||"webgl"==this.renderType,r=!Object.prototype.hasOwnProperty.call(e,"version")||"1"!=e.version,a=!1;if(n||!s&&(!Object.prototype.hasOwnProperty.call(e,"hardware")||e.hardware))for(s=Object.prototype.hasOwnProperty.call(e,"background")&&null==e.background,n=Object.prototype.hasOwnProperty.call(e,"colorDepth")?e.colorDepth:16,e={alpha:s||16<n,antialias:Object.prototype.hasOwnProperty.call(e,"antialiasing")&&0<e.antialiasing,depth:!Object.prototype.hasOwnProperty.call(e,"depth")||e.depth,premultipliedAlpha:!0,stencil:e=Object.prototype.hasOwnProperty.call(e,"stencil")&&e.stencil,preserveDrawingBuffer:!1,failIfMajorPerformanceCaveat:!1},s=["webgl","experimental-webgl"],r&&s.unshift("webgl2"),r=0;r<s.length&&(n=s[r],++r,null!=(i=this.canvas.getContext(n,e))&&"webgl2"==n&&(a=!0),null==i););null==i?(t.canvas2D=this.canvas.getContext("2d"),t.type="canvas",t.version=""):(t.webgl=Ol.fromWebGL2RenderContext(i),a&&(t.webgl2=i),null==Wl.context&&(Wl.context=i,Wl.type="webgl",Wl.version=a?2:1),t.type="webgl",t.version=a?"2":"1")}this.parent.context=t},focus:function(){},focusTextInput:function(){var t=this;this.__focusPending||(this.__focusPending=!0,Ia.delay(function(){t.__focusPending=!1,t.textInputEnabled&&Po.textInput.focus()},20))},getCursor:function(){return this.cursor},getDisplay:function(){return Bh.getDisplay(0)},getDisplayMode:function(){return Bh.getDisplay(0).currentMode},getFrameRate:function(){return null==this.parent.application?0:0>this.parent.application.__backend.framePeriod?60:1e3==this.parent.application.__backend.framePeriod?0:1e3/this.parent.application.__backend.framePeriod},getMouseLock:function(){return!1},getTextInputEnabled:function(){return this.textInputEnabled},handleContextEvent:function(t){switch(t.type){case"webglcontextlost":t.cancelable&&t.preventDefault(),this.parent.context=null,this.parent.onRenderContextLost.dispatch();break;case"webglcontextrestored":this.createContext(),this.parent.onRenderContextRestored.dispatch(this.parent.context)}},handleContextMenuEvent:function(t){(this.parent.onMouseUp.canceled||this.parent.onMouseDown.canceled)&&t.cancelable&&t.preventDefault()},handleCutOrCopyEvent:function(t){var e=xh.get_text();null==e&&(e=""),t.clipboardData.setData("text/plain",e),t.cancelable&&t.preventDefault()},handleDragEvent:function(t){switch(t.type){case"dragover":return t.preventDefault(),!1;case"dragstart":if("img"==vo.__cast(t.target,HTMLElement).nodeName.toLowerCase()&&t.cancelable)return t.preventDefault(),!1;break;case"drop":if(null!=t.dataTransfer&&0<t.dataTransfer.files.length)return this.parent.onDropFile.dispatch(t.dataTransfer.files),t.preventDefault(),!1}return!0},handleFocusEvent:function(t){this.textInputEnabled&&(null==t.relatedTarget||this.isDescendent(t.relatedTarget))&&this.focusTextInput()},handleFullscreenEvent:function(t){if(null!=(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement))this.isFullscreen=!0,this.parent.__fullscreen=!0,this.requestedFullscreen&&(this.requestedFullscreen=!1,this.parent.onFullscreen.dispatch());else{this.isFullscreen=!1,this.parent.__fullscreen=!1,this.parent.onRestore.dispatch();for(var e=["fullscreenerror","mozfullscreenerror","webkitfullscreenerror","MSFullscreenError"],i=0,s=(t=["fullscreenchange","mozfullscreenchange","webkitfullscreenchange","MSFullscreenChange"]).length;i<s;){var r=i++;window.document.removeEventListener(t[r],n(this,this.handleFullscreenEvent),!1),window.document.removeEventListener(e[r],n(this,this.handleFullscreenEvent),!1)}}},handleGamepadEvent:function(t){switch(t.type){case"gamepadconnected":Kh.__connect(t.gamepad.index),"standard"==t.gamepad.mapping&&jh.__connect(t.gamepad.index);break;case"gamepaddisconnected":Kh.__disconnect(t.gamepad.index),jh.__disconnect(t.gamepad.index)}},handleInputEvent:function(t){this.imeCompositionActive||Po.textInput.value==Po.dummyCharacter||(0<(t=v.replace(Po.textInput.value,Po.dummyCharacter,"")).length&&this.parent.onTextInput.dispatch(t),Po.textInput.value=Po.dummyCharacter)},handleMouseEvent:function(t){if("wheel"!=t.type){if(null!=this.parent.element)if(null!=this.canvas){var e=this.canvas.getBoundingClientRect(),i=this.parent.__width/e.width*(t.clientX-e.left);e=this.parent.__height/e.height*(t.clientY-e.top)}else null!=this.div?(e=this.div.getBoundingClientRect(),i=t.clientX-e.left,e=t.clientY-e.top):(e=this.parent.element.getBoundingClientRect(),i=this.parent.__width/e.width*(t.clientX-e.left),e=this.parent.__height/e.height*(t.clientY-e.top));else i=t.clientX,e=t.clientY;switch(t.type){case"mousedown":t.currentTarget==this.parent.element&&window.addEventListener("mouseup",n(this,this.handleMouseEvent)),this.parent.onMouseDown.dispatch(i,e,t.button),this.parent.onMouseDown.canceled&&t.cancelable&&t.preventDefault();break;case"mouseenter":t.target==this.parent.element&&(this.parent.onEnter.dispatch(),this.parent.onEnter.canceled&&t.cancelable&&t.preventDefault());break;case"mouseleave":t.target==this.parent.element&&(this.parent.onLeave.dispatch(),this.parent.onLeave.canceled&&t.cancelable&&t.preventDefault());break;case"mousemove":i==this.cacheMouseX&&e==this.cacheMouseY||(this.parent.onMouseMove.dispatch(i,e),this.parent.onMouseMoveRelative.dispatch(i-this.cacheMouseX,e-this.cacheMouseY),(this.parent.onMouseMove.canceled||this.parent.onMouseMoveRelative.canceled)&&t.cancelable&&t.preventDefault());break;case"mouseup":window.removeEventListener("mouseup",n(this,this.handleMouseEvent)),t.currentTarget==this.parent.element&&t.stopPropagation(),this.parent.onMouseUp.dispatch(i,e,t.button),this.parent.onMouseUp.canceled&&t.cancelable&&t.preventDefault()}this.cacheMouseX=i,this.cacheMouseY=e}else{switch(t.deltaMode){case 0:i=Qh.PIXELS;break;case 1:i=Qh.LINES;break;case 2:i=Qh.PAGES;break;default:i=Qh.UNKNOWN}this.parent.onMouseWheel.dispatch(t.deltaX,-t.deltaY,i),this.parent.onMouseWheel.canceled&&t.cancelable&&t.preventDefault()}},handlePasteEvent:function(t){if(-1<t.clipboardData.types.indexOf("text/plain")){var e=t.clipboardData.getData("text/plain");xh.set_text(e),this.textInputEnabled&&this.parent.onTextInput.dispatch(e),t.cancelable&&t.preventDefault()}},handleResizeEvent:function(t){this.primaryTouch=null,this.updateSize()},handleTouchEvent:function(t){t.cancelable&&t.preventDefault();var e=null;null!=this.parent.element&&(e=null!=this.canvas?this.canvas.getBoundingClientRect():null!=this.div?this.div.getBoundingClientRect():this.parent.element.getBoundingClientRect());var i=this.setWidth,s=this.setHeight;0!=i&&0!=s||(null!=e?(i=e.width,s=e.height):s=i=1);for(var n,r,a,o,l,h=0,_=t.changedTouches;h<_.length;){var c=_[h];if(++h,null!=e?(r=i/e.width*(c.clientX-e.left),a=s/e.height*(c.clientY-e.top)):(r=c.clientX,a=c.clientY),"touchstart"==t.type)null==(n=this.unusedTouchesPool.pop())?n=new qh(r/i,a/s,c.identifier,0,0,c.force,this.parent.id):(n.x=r/i,n.y=a/s,n.id=c.identifier,n.dx=0,n.dy=0,n.pressure=c.force,n.device=this.parent.id),this.currentTouches.h[c.identifier]=n,qh.onStart.dispatch(n),null==this.primaryTouch&&(this.primaryTouch=n),n==this.primaryTouch&&this.parent.onMouseDown.dispatch(r,a,0);else if(null!=(n=this.currentTouches.h[c.identifier]))switch(o=n.x,l=n.y,n.x=r/i,n.y=a/s,n.dx=n.x-o,n.dy=n.y-l,n.pressure=c.force,t.type){case"touchcancel":qh.onCancel.dispatch(n),this.currentTouches.remove(c.identifier),this.unusedTouchesPool.add(n),n==this.primaryTouch&&(this.primaryTouch=null);break;case"touchend":qh.onEnd.dispatch(n),this.currentTouches.remove(c.identifier),this.unusedTouchesPool.add(n),n==this.primaryTouch&&(this.parent.onMouseUp.dispatch(r,a,0),this.primaryTouch=null);break;case"touchmove":qh.onMove.dispatch(n),n==this.primaryTouch&&this.parent.onMouseMove.dispatch(r,a)}}},isDescendent:function(t){if(t==this.parent.element)return!0;for(;null!=t;){if(t.parentNode==this.parent.element)return!0;t=t.parentNode}return!1},move:function(t,e){},readPixels:function(t){if(null!=this.canvas){var e=new Jl(0,0,this.canvas.width,this.canvas.height);if(null==t?t=e:t.intersection(e,t),0<t.width&&0<t.height)return(e=window.document.createElement("canvas")).width=0|t.width,e.height=0|t.height,e.getContext("2d").drawImage(this.canvas,-t.x,-t.y),El.fromCanvas(e)}return null},resize:function(t,e){},setBorderless:function(t){return t},setClipboard:function(t){null==Po.textArea&&(Po.textArea=window.document.createElement("textarea"),Po.textArea.style.height="0px",Po.textArea.style.left="-100px",Po.textArea.style.opacity="0",Po.textArea.style.position="fixed",Po.textArea.style.top="-100px",Po.textArea.style.width="0px",window.document.body.appendChild(Po.textArea)),Po.textArea.value=t,Po.textArea.focus(),Po.textArea.select(),window.document.queryCommandEnabled("copy")&&window.document.execCommand("copy"),this.textInputEnabled&&this.focusTextInput()},setCursor:function(t){if(this.cursor!=t){if(null==t)this.parent.element.style.cursor="none";else{switch(t._hx_index){case 0:var e="default";break;case 1:e="crosshair";break;case 3:e="move";break;case 4:e="pointer";break;case 5:e="nesw-resize";break;case 6:e="ns-resize";break;case 7:e="nwse-resize";break;case 8:e="ew-resize";break;case 9:e="text";break;case 10:case 11:e="wait";break;default:e="auto"}this.parent.element.style.cursor=e}this.cursor=t}return this.cursor},setDisplayMode:function(t){return t},setFrameRate:function(t){return null!=this.parent.application&&(60<=t?this.parent==this.parent.application.__window&&(this.parent.application.__backend.framePeriod=-1):0<t?this.parent==this.parent.application.__window&&(this.parent.application.__backend.framePeriod=1e3/t):this.parent==this.parent.application.__window&&(this.parent.application.__backend.framePeriod=1e3)),t},setFullscreen:function(t){return t?this.requestedFullscreen||this.isFullscreen||(this.requestedFullscreen=!0,n(l=this.parent.element,l.requestFullscreen)?(document.addEventListener("fullscreenchange",n(this,this.handleFullscreenEvent),!1),document.addEventListener("fullscreenerror",n(this,this.handleFullscreenEvent),!1),this.parent.element.requestFullscreen()):this.parent.element.mozRequestFullScreen?(document.addEventListener("mozfullscreenchange",n(this,this.handleFullscreenEvent),!1),document.addEventListener("mozfullscreenerror",n(this,this.handleFullscreenEvent),!1),this.parent.element.mozRequestFullScreen()):this.parent.element.webkitRequestFullscreen?(document.addEventListener("webkitfullscreenchange",n(this,this.handleFullscreenEvent),!1),document.addEventListener("webkitfullscreenerror",n(this,this.handleFullscreenEvent),!1),this.parent.element.webkitRequestFullscreen()):this.parent.element.msRequestFullscreen&&(document.addEventListener("MSFullscreenChange",n(this,this.handleFullscreenEvent),!1),document.addEventListener("MSFullscreenError",n(this,this.handleFullscreenEvent),!1),this.parent.element.msRequestFullscreen())):this.isFullscreen&&(this.requestedFullscreen=!1,document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()),t},setIcon:function(t){Vo.convertToCanvas(t);var e=window.document.querySelector("link[rel*='icon']");null==e&&(e=window.document.createElement("link")),e.type="image/x-icon",e.rel="shortcut icon",e.href=t.buffer.get_src().toDataURL("image/x-icon"),window.document.getElementsByTagName("head")[0].appendChild(e)},setMaximized:function(t){return!1},setMinimized:function(t){return!1},setMouseLock:function(t){},setResizable:function(t){return t},setTextInputEnabled:function(t){return t?(null==Po.textInput&&(Po.textInput=window.document.createElement("input"),Po.textInput.type="password",Po.textInput.style.position="absolute",Po.textInput.style.opacity="0",Po.textInput.style.color="transparent",Po.textInput.value=Po.dummyCharacter,Po.textInput.autocapitalize="off",Po.textInput.autocorrect="off",Po.textInput.autocomplete="off",Po.textInput.style.left="0px",Po.textInput.style.top="50%",new _("(iPad|iPhone|iPod).*OS 8_","gi").match(window.navigator.userAgent)?(Po.textInput.style.fontSize="0px",Po.textInput.style.width="0px",Po.textInput.style.height="0px"):(Po.textInput.style.width="1px",Po.textInput.style.height="1px"),Po.textInput.style.pointerEvents="none",Po.textInput.style.zIndex="-10000000"),null==Po.textInput.parentNode&&this.parent.element.appendChild(Po.textInput),this.textInputEnabled||(Po.textInput.addEventListener("input",n(this,this.handleInputEvent),!0),Po.textInput.addEventListener("blur",n(this,this.handleFocusEvent),!0),Po.textInput.addEventListener("cut",n(this,this.handleCutOrCopyEvent),!0),Po.textInput.addEventListener("copy",n(this,this.handleCutOrCopyEvent),!0),Po.textInput.addEventListener("paste",n(this,this.handlePasteEvent),!0),Po.textInput.addEventListener("compositionstart",n(this,this.handleCompositionstartEvent),!0),Po.textInput.addEventListener("compositionend",n(this,this.handleCompositionendEvent),!0)),Po.textInput.focus(),Po.textInput.select()):null!=Po.textInput&&(Po.textInput.blur(),Po.textInput.removeEventListener("input",n(this,this.handleInputEvent),!0),Po.textInput.removeEventListener("blur",n(this,this.handleFocusEvent),!0),Po.textInput.removeEventListener("cut",n(this,this.handleCutOrCopyEvent),!0),Po.textInput.removeEventListener("copy",n(this,this.handleCutOrCopyEvent),!0),Po.textInput.removeEventListener("paste",n(this,this.handlePasteEvent),!0),Po.textInput.removeEventListener("compositionstart",n(this,this.handleCompositionstartEvent),!0),Po.textInput.removeEventListener("compositionend",n(this,this.handleCompositionendEvent),!0)),this.textInputEnabled=t},setTextInputRect:function(t){return this.textInputRect=t},imeCompositionActive:null,handleCompositionstartEvent:function(t){this.imeCompositionActive=!0},handleCompositionendEvent:function(t){this.imeCompositionActive=!1,this.handleInputEvent(t)},setTitle:function(t){return null!=t&&(window.document.title=t),t},updateSize:function(){if(this.parent.__resizable){if(null!=this.parent.element)var t=this.parent.element.clientWidth,e=this.parent.element.clientHeight;else t=window.innerWidth,e=window.innerHeight;if(t!=this.cacheElementWidth||e!=this.cacheElementHeight){this.cacheElementWidth=t,this.cacheElementHeight=e;var i=this.resizeElement||0==this.setWidth&&0==this.setHeight;if(null!=this.parent.element&&(null==this.div||null!=this.div&&i))if(i)this.parent.__width==t&&this.parent.__height==e||(this.parent.__width=t,this.parent.__height=e,null!=this.canvas?this.parent.element!=this.canvas&&(this.canvas.width=Math.round(t*this.scale),this.canvas.height=Math.round(e*this.scale),this.canvas.style.width=t+"px",this.canvas.style.height=e+"px"):(this.div.style.width=t+"px",this.div.style.height=e+"px"),this.parent.onResize.dispatch(t,e));else{i=0!=this.setWidth?t/this.setWidth:1;var s=0!=this.setHeight?e/this.setHeight:1,n=t,r=e,a=0,o=0;i<s?(r=Math.floor(this.setHeight*i),o=Math.floor((e-r)/2)):(n=Math.floor(this.setWidth*s),a=Math.floor((t-n)/2)),null!=this.canvas?this.parent.element!=this.canvas&&(this.canvas.style.width=n+"px",this.canvas.style.height=r+"px",this.canvas.style.marginLeft=a+"px",this.canvas.style.marginTop=o+"px"):(this.div.style.width=n+"px",this.div.style.height=r+"px",this.div.style.marginLeft=a+"px",this.div.style.marginTop=o+"px")}}}},warpMouse:function(t,e){},__class__:Po};var Co=function(){};r["lime._internal.backend.native.NativeCFFI"]=Co,Co.__name__="lime._internal.backend.native.NativeCFFI";var Io=function(){};r["lime._internal.format.BMP"]=Io,Io.__name__="lime._internal.format.BMP",Io.encode=function(t,e){(t.get_premultiplied()||0!=t.get_format())&&((t=t.clone()).set_premultiplied(!1),t.set_format(0)),null==e&&(e=Eo.RGB);var i=14,s=40,n=t.width*t.height*4;if(null!=e)switch(e._hx_index){case 0:n=(3*t.width+3*t.width%4)*t.height;break;case 1:s=108;break;case 2:i=0,n+=t.width*t.height}var r=new La(new ArrayBuffer(i+s+n)),a=0;if(0<i&&(r.b[a++]=66,r.b[a++]=77,r.setInt32(a,r.length),a+=4,r.setUInt16(a,0),a+=2,r.setUInt16(a,0),a+=2,r.setInt32(a,i+s),a+=4),r.setInt32(a,s),a+=4,r.setInt32(a,t.width),a+=4,r.setInt32(a,e==Eo.ICO?2*t.height:t.height),a+=4,r.setUInt16(a,1),a+=2,r.setUInt16(a,e==Eo.RGB?24:32),a+=2,r.setInt32(a,e==Eo.BITFIELD?3:0),a+=4,r.setInt32(a,n),a+=4,r.setInt32(a,11824),a+=4,r.setInt32(a,11824),a+=4,r.setInt32(a,0),a+=4,r.setInt32(a,0),a+=4,e==Eo.BITFIELD)for(r.setInt32(a,16711680),a+=4,r.setInt32(a,65280),a+=4,r.setInt32(a,255),a+=4,r.setInt32(a,-16777216),a+=4,r.b[a++]=32,r.b[a++]=110,r.b[a++]=105,r.b[a++]=87,i=0;48>i;)i++,r.b[a++]=0;if(s=t.getPixels(new Jl(0,0,t.width,t.height),1),null!=e)switch(e._hx_index){case 0:for(i=0,e=t.height;i<e;){var o=i++;o=4*(t.height-1-o)*t.width;for(var l=0,h=t.width;l<h;){l++,o++;var _=s.b[o++],c=s.b[o++],u=s.b[o++];r.b[a++]=255&u,r.b[a++]=255&c,r.b[a++]=255&_}n=0;for(var d=3*t.width%4;n<d;)n++,r.b[a++]=0}break;case 1:for(i=0,e=t.height;i<e;)for(o=i++,o=4*(t.height-1-o)*t.width,l=0,h=t.width;l<h;){l++;var m=s.b[o++];_=s.b[o++],c=s.b[o++],u=s.b[o++],r.b[a++]=255&u,r.b[a++]=255&c,r.b[a++]=255&_,r.b[a++]=255&m}break;case 2:for(n=new La(new ArrayBuffer(t.width*t.height)),i=d=0,e=t.height;i<e;)for(o=i++,o=4*(t.height-1-o)*t.width,l=0,h=t.width;l<h;)l++,m=s.b[o++],_=s.b[o++],c=s.b[o++],u=s.b[o++],r.b[a++]=255&u,r.b[a++]=255&c,r.b[a++]=255&_,r.b[a++]=255&m,n.b[d++]=0;r.blit(a,n,0,t.width*t.height)}return r};var Eo=o["lime._internal.format.BMPType"]={__ename__:"lime._internal.format.BMPType",__constructs__:null,RGB:{_hx_name:"RGB",_hx_index:0,__enum__:"lime._internal.format.BMPType",toString:a},BITFIELD:{_hx_name:"BITFIELD",_hx_index:1,__enum__:"lime._internal.format.BMPType",toString:a},ICO:{_hx_name:"ICO",_hx_index:2,__enum__:"lime._internal.format.BMPType",toString:a}};Eo.__constructs__=[Eo.RGB,Eo.BITFIELD,Eo.ICO];var ko=function(){};r["lime._internal.format.Base64"]=ko,ko.__name__="lime._internal.format.Base64",ko.decode=function(t){return Na.decode(t)},ko.encode=function(t){var e=[],i=ko.DICTIONARY,s=ko.EXTENDED_DICTIONARY,n=t.length,r=Math.floor(n/3),a=2*r;e.length=2*Math.ceil(n/3);for(var o,l=0,h=0;h<a;)o=t.b[l]<<16|t.b[l+1]<<8|t.b[l+2],e[h]=s[o>>12&4095],e[h+1]=s[4095&o],l+=3,h+=2;switch(n-3*r){case 1:o=t.b[l]<<16,e[h]=s[o>>12&4095],e[h+1]="==";break;case 2:o=t.b[l]<<16|t.b[l+1]<<8,e[h]=s[o>>12&4095],e[h+1]=i[o>>6&63]+"="}return e.join("")};var Fo=function(){};r["lime._internal.format.Deflate"]=Fo,Fo.__name__="lime._internal.format.Deflate",Fo.compress=function(t){return t=pako.deflateRaw(t.b.bufferValue),La.ofData(t)},Fo.decompress=function(t){return t=pako.inflateRaw(t.b.bufferValue),La.ofData(t)};var Bo=function(){};r["lime._internal.format.GZip"]=Bo,Bo.__name__="lime._internal.format.GZip",Bo.compress=function(t){return t=pako.gzip(t.b.bufferValue),La.ofData(t)},Bo.decompress=function(t){return t=pako.ungzip(t.b.bufferValue),La.ofData(t)};var Do=function(){};r["lime._internal.format.JPEG"]=Do,Do.__name__="lime._internal.format.JPEG",Do.decodeBytes=function(t,e){return null},Do.decodeFile=function(t,e){return null},Do.encode=function(t,e){if((t.get_premultiplied()||0!=t.get_format())&&((t=t.clone()).set_premultiplied(!1),t.set_format(0)),Vo.convertToCanvas(t,!1),null!=t.buffer.__srcCanvas){t=t.buffer.__srcCanvas.toDataURL("image/jpeg",e/100),t=window.atob(t.split(";base64,")[1]),e=new La(new ArrayBuffer(t.length));for(var i=0,s=t.length;i<s;){var n=i++;e.b[n]=255&c.cca(t,n)}return e}return null};var Lo=function(){};r["lime._internal.format.LZMA"]=Lo,Lo.__name__="lime._internal.format.LZMA",Lo.compress=function(t){return null},Lo.decompress=function(t){return null};var No=function(){};r["lime._internal.format.PNG"]=No,No.__name__="lime._internal.format.PNG",No.decodeBytes=function(t,e){return null},No.decodeFile=function(t,e){return null},No.encode=function(t){if((t.get_premultiplied()||0!=t.get_format())&&((t=t.clone()).set_premultiplied(!1),t.set_format(0)),Vo.convertToCanvas(t,!1),null!=t.buffer.__srcCanvas){t=t.buffer.__srcCanvas.toDataURL("image/png"),t=window.atob(t.split(";base64,")[1]);for(var e=new La(new ArrayBuffer(t.length)),i=0,s=t.length;i<s;){var n=i++;e.b[n]=255&c.cca(t,n)}return e}return null};var Oo=function(){};r["lime._internal.format.Zlib"]=Oo,Oo.__name__="lime._internal.format.Zlib",Oo.compress=function(t){return t=pako.deflate(t.b.bufferValue),La.ofData(t)},Oo.decompress=function(t){return t=pako.inflate(t.b.bufferValue),La.ofData(t)};var Vo=function(){};r["lime._internal.graphics.ImageCanvasUtil"]=Vo,Vo.__name__="lime._internal.graphics.ImageCanvasUtil",Vo.colorTransform=function(t,e,i){Vo.convertToData(t),Go.colorTransform(t,e,i)},Vo.convertToCanvas=function(t,e){null==e&&(e=!1);var i=t.buffer;null!=i.__srcImage?(null==i.__srcCanvas&&(Vo.createCanvas(t,i.__srcImage.width,i.__srcImage.height),i.__srcContext.drawImage(i.__srcImage,0,0)),i.__srcImage=null):null==i.__srcCanvas&&null!=i.data?(t.set_transparent(!0),Vo.createCanvas(t,i.width,i.height),Vo.createImageData(t),i.__srcContext.putImageData(i.__srcImageData,0,0)):t.type==Dl.DATA&&null!=i.__srcImageData&&t.dirty&&(i.__srcContext.putImageData(i.__srcImageData,0,0),t.dirty=!1),e?(i.data=null,i.__srcImageData=null):null==i.data&&null!=i.__srcImageData&&(i.data=i.__srcImageData.data),t.type=Dl.CANVAS},Vo.convertToData=function(t,e){null==e&&(e=!1);var i=t.buffer;if(null!=i.__srcImage&&Vo.convertToCanvas(t),null!=i.__srcCanvas&&null==i.data)Vo.createImageData(t),t.type==Dl.CANVAS&&(t.dirty=!1);else if(t.type==Dl.CANVAS&&null!=i.__srcCanvas&&t.dirty){if(null==i.__srcImageData)Vo.createImageData(t);else{i.__srcImageData=i.__srcContext.getImageData(0,0,i.width,i.height);var s=i.__srcImageData.data.buffer;s=null!=s?new Uint8Array(s):null,i.data=s}t.dirty=!1}e&&(t.buffer.__srcCanvas=null,t.buffer.__srcContext=null),t.type=Dl.DATA},Vo.copyChannel=function(t,e,i,s,n,r){Vo.convertToData(e),Vo.convertToData(t),Go.copyChannel(t,e,i,s,n,r)},Vo.copyPixels=function(t,e,i,s,n,r,a){null==a&&(a=!1),null==s||s.x>=t.width||s.y>=t.height||null==i||1>i.width||1>i.height||(null!=n&&n.get_transparent()&&(null==r&&(r=new Zl),(e=e.clone()).copyChannel(n,new Jl(i.x+r.x,i.y+r.y,i.width,i.height),new Zl(i.x,i.y),Fl.ALPHA,Fl.ALPHA)),Vo.convertToCanvas(t,!0),a||t.get_transparent()&&e.get_transparent()&&t.buffer.__srcContext.clearRect(s.x+t.offsetX,s.y+t.offsetY,i.width+t.offsetX,i.height+t.offsetY),Vo.convertToCanvas(e),null!=e.buffer.get_src()&&(t.buffer.__srcContext.globalCompositeOperation="source-over",t.buffer.__srcContext.drawImage(e.buffer.get_src(),i.x+e.offsetX|0,i.y+e.offsetY|0,0|i.width,0|i.height,s.x+t.offsetX|0,s.y+t.offsetY|0,0|i.width,0|i.height)),t.dirty=!0,t.version++)},Vo.createCanvas=function(t,e,i){var s=t.buffer;null==s.__srcCanvas&&(s.__srcCanvas=window.document.createElement("canvas"),s.__srcCanvas.width=e,s.__srcCanvas.height=i,t.get_transparent()?s.__srcContext=s.__srcCanvas.getContext("2d"):(t.get_transparent()||s.__srcCanvas.setAttribute("moz-opaque","true"),s.__srcContext=s.__srcCanvas.getContext("2d",{alpha:!1})))},Vo.createImageData=function(t){if(null==(t=t.buffer).__srcImageData){null==t.data?t.__srcImageData=t.__srcContext.getImageData(0,0,t.width,t.height):(t.__srcImageData=t.__srcContext.createImageData(t.width,t.height),t.__srcImageData.data.set(t.data));var e=t.__srcImageData.data.buffer;e=null!=e?new Uint8Array(e):null,t.data=e}},Vo.fillRect=function(t,e,i,s){if(Vo.convertToCanvas(t),1==s){s=i>>16&255;var n=i>>8&255,r=255&i;i=t.get_transparent()?i>>24&255:255}else s=i>>24&255,n=i>>16&255,r=i>>8&255,i=t.get_transparent()?255&i:255;0==e.x&&0==e.y&&e.width==t.width&&e.height==t.height&&t.get_transparent()&&0==i?t.buffer.__srcCanvas.width=t.buffer.width:(255>i&&t.buffer.__srcContext.clearRect(e.x+t.offsetX,e.y+t.offsetY,e.width+t.offsetX,e.height+t.offsetY),0<i&&(t.buffer.__srcContext.fillStyle="rgba("+s+", "+n+", "+r+", "+i/255+")",t.buffer.__srcContext.fillRect(e.x+t.offsetX,e.y+t.offsetY,e.width+t.offsetX,e.height+t.offsetY)),t.dirty=!0,t.version++)},Vo.floodFill=function(t,e,i,s,n){Vo.convertToData(t),Go.floodFill(t,e,i,s,n)},Vo.getPixel=function(t,e,i,s){return Vo.convertToData(t),Go.getPixel(t,e,i,s)},Vo.getPixel32=function(t,e,i,s){return Vo.convertToData(t),Go.getPixel32(t,e,i,s)},Vo.getPixels=function(t,e,i){return Vo.convertToData(t),Go.getPixels(t,e,i)},Vo.merge=function(t,e,i,s,n,r,a,o){Vo.convertToData(e),Vo.convertToData(t),Go.merge(t,e,i,s,n,r,a,o)},Vo.resize=function(t,e,i){var s=t.buffer;if(null==s.__srcCanvas)Vo.createCanvas(t,e,i),s.__srcContext.drawImage(s.get_src(),0,0,e,i);else{Vo.convertToCanvas(t,!0);var n=s.__srcCanvas;s.__srcCanvas=null,Vo.createCanvas(t,e,i),s.__srcContext.drawImage(n,0,0,e,i)}s.__srcImageData=null,s.data=null,t.dirty=!0,t.version++},Vo.scroll=function(t,e,i){if(0!=e%t.width||0!=i%t.height){var s=t.clone();Vo.convertToCanvas(t,!0),t.buffer.__srcContext.clearRect(e,i,t.width,t.height),t.buffer.__srcContext.drawImage(s.get_src(),e,i),t.dirty=!0,t.version++}},Vo.setPixel=function(t,e,i,s,n){Vo.convertToData(t),Go.setPixel(t,e,i,s,n)},Vo.setPixel32=function(t,e,i,s,n){Vo.convertToData(t),Go.setPixel32(t,e,i,s,n)},Vo.setPixels=function(t,e,i,s,n){Vo.convertToData(t),Go.setPixels(t,e,i,s,n)},Vo.sync=function(t,e){null!=t&&(t.type!=Dl.CANVAS||null==t.buffer.__srcCanvas&&null==t.buffer.data?t.type==Dl.DATA&&Vo.convertToData(t,e):Vo.convertToCanvas(t,e))};var Go=function(){};r["lime._internal.graphics.ImageDataUtil"]=Go,Go.__name__="lime._internal.graphics.ImageDataUtil",Go.displaceMap=function(t,e,i,s,n,r,a){var o=t.buffer.data,l=e.buffer.data,h=i.buffer.data,_=t.buffer.format,c=e.buffer.format,u=i.buffer.format,d=t.get_premultiplied(),m=e.get_premultiplied(),p=i.get_premultiplied();e=new Uo(e),i=new Uo(i);for(var f,g,y,b,v,x,w=0,R=0,S=0,A=0,T=0,M=0,P=0,C=e.height;P<C;){var I=P++;f=e.byteOffset+e.stride*I;for(var k=0,E=e.width;k<E;){var F=k++;if(g=f+4*F,v=0|s.x,y=0|s.y,a){switch(R=e.byteOffset+e.stride*(I-y+1)+4*(F-v),null==(x=p)&&(x=!1),null==(b=u)&&(b=0),b){case 0:S=(255&h[R])<<24|(255&h[R+1])<<16|(255&h[R+2])<<8|255&h[R+3];break;case 1:S=(255&h[R+1])<<24|(255&h[R+2])<<16|(255&h[R+3])<<8|255&h[R];break;case 2:S=(255&h[R+2])<<24|(255&h[R+1])<<16|(255&h[R])<<8|255&h[R+3]}switch(x&&255&S&&255&~S&&(Kl.unmult=255/(255&S),S=(255&Kl.__clamp[Math.round((S>>>24&255)*Kl.unmult)])<<24|(255&Kl.__clamp[Math.round((S>>>16&255)*Kl.unmult)])<<16|(255&Kl.__clamp[Math.round((S>>>8&255)*Kl.unmult)])<<8|255&S),R=e.byteOffset+e.stride*(I-y)+4*(F-v+1),null==(x=p)&&(x=!1),null==(b=u)&&(b=0),b){case 0:A=(255&h[R])<<24|(255&h[R+1])<<16|(255&h[R+2])<<8|255&h[R+3];break;case 1:A=(255&h[R+1])<<24|(255&h[R+2])<<16|(255&h[R+3])<<8|255&h[R];break;case 2:A=(255&h[R+2])<<24|(255&h[R+1])<<16|(255&h[R])<<8|255&h[R+3]}switch(x&&255&A&&255&~A&&(Kl.unmult=255/(255&A),A=(255&Kl.__clamp[Math.round((A>>>24&255)*Kl.unmult)])<<24|(255&Kl.__clamp[Math.round((A>>>16&255)*Kl.unmult)])<<16|(255&Kl.__clamp[Math.round((A>>>8&255)*Kl.unmult)])<<8|255&A),R=e.byteOffset+e.stride*(I-y+1)+4*(F-v+1),null==(x=p)&&(x=!1),null==(b=u)&&(b=0),b){case 0:T=(255&h[R])<<24|(255&h[R+1])<<16|(255&h[R+2])<<8|255&h[R+3];break;case 1:T=(255&h[R+1])<<24|(255&h[R+2])<<16|(255&h[R+3])<<8|255&h[R];break;case 2:T=(255&h[R+2])<<24|(255&h[R+1])<<16|(255&h[R])<<8|255&h[R+3]}switch(x&&255&T&&255&~T&&(Kl.unmult=255/(255&T),T=(255&Kl.__clamp[Math.round((T>>>24&255)*Kl.unmult)])<<24|(255&Kl.__clamp[Math.round((T>>>16&255)*Kl.unmult)])<<16|(255&Kl.__clamp[Math.round((T>>>8&255)*Kl.unmult)])<<8|255&T),R=e.byteOffset+e.stride*(I-y)+4*(F-v),null==(x=p)&&(x=!1),null==(b=u)&&(b=0),b){case 0:M=(255&h[R])<<24|(255&h[R+1])<<16|(255&h[R+2])<<8|255&h[R+3];break;case 1:M=(255&h[R+1])<<24|(255&h[R+2])<<16|(255&h[R+3])<<8|255&h[R];break;case 2:M=(255&h[R+2])<<24|(255&h[R+1])<<16|(255&h[R])<<8|255&h[R+3]}x&&255&M&&255&~M&&(Kl.unmult=255/(255&M),M=(255&Kl.__clamp[Math.round((M>>>24&255)*Kl.unmult)])<<24|(255&Kl.__clamp[Math.round((M>>>16&255)*Kl.unmult)])<<16|(255&Kl.__clamp[Math.round((M>>>8&255)*Kl.unmult)])<<8|255&M),R=Go.bilinear(S,A,T,M,s.x-v,s.y-y)}else{switch(v=i.byteOffset+i.stride*(I-y)+4*(F-v),null==(b=p)&&(b=!1),null==(y=u)&&(y=0),y){case 0:R=(255&h[v])<<24|(255&h[v+1])<<16|(255&h[v+2])<<8|255&h[v+3];break;case 1:R=(255&h[v+1])<<24|(255&h[v+2])<<16|(255&h[v+3])<<8|255&h[v];break;case 2:R=(255&h[v+2])<<24|(255&h[v+1])<<16|(255&h[v])<<8|255&h[v+3]}b&&255&R&&255&~R&&(Kl.unmult=255/(255&R),R=(255&Kl.__clamp[Math.round((R>>>24&255)*Kl.unmult)])<<24|(255&Kl.__clamp[Math.round((R>>>16&255)*Kl.unmult)])<<16|(255&Kl.__clamp[Math.round((R>>>8&255)*Kl.unmult)])<<8|255&R)}if(b=((R>>>16&255)-128)/255*(v=(255&R)/255),v=(y=((R>>>24&255)-128)/255*v)*n.x+b*r.x,x=y*n.y+b*r.y,y=Math.floor(v*e.width),b=Math.floor(x*e.height),a){w=e.byteOffset+e.stride*(I+b+1)+4*(F+y);var B=c,D=m;switch(null==D&&(D=!1),null==B&&(B=0),B){case 0:S=(255&l[w])<<24|(255&l[w+1])<<16|(255&l[w+2])<<8|255&l[w+3];break;case 1:S=(255&l[w+1])<<24|(255&l[w+2])<<16|(255&l[w+3])<<8|255&l[w];break;case 2:S=(255&l[w+2])<<24|(255&l[w+1])<<16|(255&l[w])<<8|255&l[w+3]}switch(D&&255&S&&255&~S&&(Kl.unmult=255/(255&S),S=(255&Kl.__clamp[Math.round((S>>>24&255)*Kl.unmult)])<<24|(255&Kl.__clamp[Math.round((S>>>16&255)*Kl.unmult)])<<16|(255&Kl.__clamp[Math.round((S>>>8&255)*Kl.unmult)])<<8|255&S),w=e.byteOffset+e.stride*(I+b)+4*(F+y+1),null==(D=m)&&(D=!1),null==(B=c)&&(B=0),B){case 0:A=(255&l[w])<<24|(255&l[w+1])<<16|(255&l[w+2])<<8|255&l[w+3];break;case 1:A=(255&l[w+1])<<24|(255&l[w+2])<<16|(255&l[w+3])<<8|255&l[w];break;case 2:A=(255&l[w+2])<<24|(255&l[w+1])<<16|(255&l[w])<<8|255&l[w+3]}switch(D&&255&A&&255&~A&&(Kl.unmult=255/(255&A),A=(255&Kl.__clamp[Math.round((A>>>24&255)*Kl.unmult)])<<24|(255&Kl.__clamp[Math.round((A>>>16&255)*Kl.unmult)])<<16|(255&Kl.__clamp[Math.round((A>>>8&255)*Kl.unmult)])<<8|255&A),w=e.byteOffset+e.stride*(I+b+1)+4*(F+y+1),null==(D=m)&&(D=!1),null==(B=c)&&(B=0),B){case 0:T=(255&l[w])<<24|(255&l[w+1])<<16|(255&l[w+2])<<8|255&l[w+3];break;case 1:T=(255&l[w+1])<<24|(255&l[w+2])<<16|(255&l[w+3])<<8|255&l[w];break;case 2:T=(255&l[w+2])<<24|(255&l[w+1])<<16|(255&l[w])<<8|255&l[w+3]}switch(D&&255&T&&255&~T&&(Kl.unmult=255/(255&T),T=(255&Kl.__clamp[Math.round((T>>>24&255)*Kl.unmult)])<<24|(255&Kl.__clamp[Math.round((T>>>16&255)*Kl.unmult)])<<16|(255&Kl.__clamp[Math.round((T>>>8&255)*Kl.unmult)])<<8|255&T),F=e.byteOffset+e.stride*(I+b)+4*(F+y),null==(B=m)&&(B=!1),null==(w=c)&&(w=0),w){case 0:M=(255&l[F])<<24|(255&l[F+1])<<16|(255&l[F+2])<<8|255&l[F+3];break;case 1:M=(255&l[F+1])<<24|(255&l[F+2])<<16|(255&l[F+3])<<8|255&l[F];break;case 2:M=(255&l[F+2])<<24|(255&l[F+1])<<16|(255&l[F])<<8|255&l[F+3]}B&&255&M&&255&~M&&(Kl.unmult=255/(255&M),M=(255&Kl.__clamp[Math.round((M>>>24&255)*Kl.unmult)])<<24|(255&Kl.__clamp[Math.round((M>>>16&255)*Kl.unmult)])<<16|(255&Kl.__clamp[Math.round((M>>>8&255)*Kl.unmult)])<<8|255&M),w=Go.bilinear(S,A,T,M,v*e.width-y,x*e.height-b)}else{switch(F=e.byteOffset+e.stride*(I+b)+4*(F+y),null==(y=m)&&(y=!1),null==(v=c)&&(v=0),v){case 0:w=(255&l[F])<<24|(255&l[F+1])<<16|(255&l[F+2])<<8|255&l[F+3];break;case 1:w=(255&l[F+1])<<24|(255&l[F+2])<<16|(255&l[F+3])<<8|255&l[F];break;case 2:w=(255&l[F+2])<<24|(255&l[F+1])<<16|(255&l[F])<<8|255&l[F+3]}y&&255&w&&255&~w&&(Kl.unmult=255/(255&w),w=(255&Kl.__clamp[Math.round((w>>>24&255)*Kl.unmult)])<<24|(255&Kl.__clamp[Math.round((w>>>16&255)*Kl.unmult)])<<16|(255&Kl.__clamp[Math.round((w>>>8&255)*Kl.unmult)])<<8|255&w)}switch(null==(v=d)&&(v=!1),null==(F=_)&&(F=0),v&&(255&w?255&~w&&(Kl.a16=Kl.__alpha16[255&w],w=((w>>>24&255)*Kl.a16>>16&255)<<24|((w>>>16&255)*Kl.a16>>16&255)<<16|((w>>>8&255)*Kl.a16>>16&255)<<8|255&w):0!=w&&(w=0)),F){case 0:o[g]=w>>>24&255,o[g+1]=w>>>16&255,o[g+2]=w>>>8&255,o[g+3]=255&w;break;case 1:o[g]=255&w,o[g+1]=w>>>24&255,o[g+2]=w>>>16&255,o[g+3]=w>>>8&255;break;case 2:o[g]=w>>>8&255,o[g+1]=w>>>16&255,o[g+2]=w>>>24&255,o[g+3]=255&w}}}t.dirty=!0,t.version++},Go.bilinear=function(t,e,i,s,n,r){return Go.lerpRGBA(Go.lerpRGBA(s,e,n),Go.lerpRGBA(t,i,n),r)},Go.lerpRGBA=function(t,e,i){var s=0,n=Math.floor(Go.lerp(t>>>24&255,e>>>24&255,i));return((s=((s=((s=(255&n)<<24|(s>>>16&255)<<16|(s>>>8&255)<<8|255&s)>>>24&255)<<24|(255&(n=Math.floor(Go.lerp(t>>>16&255,e>>>16&255,i))))<<16|(s>>>8&255)<<8|255&s)>>>24&255)<<24|(s>>>16&255)<<16|(255&(n=Math.floor(Go.lerp(t>>>8&255,e>>>8&255,i))))<<8|255&s)>>>24&255)<<24|(s>>>16&255)<<16|(s>>>8&255)<<8|255&Math.floor(Go.lerp(255&t,255&e,i))},Go.lerp4f=function(t,e,i){return new Ql(Go.lerp(t.x,e.x,i),Go.lerp(t.y,e.y,i),Go.lerp(t.z,e.z,i),Go.lerp(t.w,e.w,i))},Go.lerp=function(t,e,i){return(1-i)*t+i*e},Go.colorTransform=function(t,e,i){var s=t.buffer.data;if(null!=s){var n=t.buffer.format,r=t.buffer.premultiplied;e=new Uo(t,e);var a=Yl.getAlphaTable(i),o=Yl.getRedTable(i),l=Yl.getGreenTable(i);i=Yl.getBlueTable(i);for(var h,_,c=0,u=0,d=e.height;u<d;){h=u++,h=e.byteOffset+e.stride*h;for(var m=0,p=e.width;m<p;){_=h+4*(_=m++);var f=n,g=r;switch(null==g&&(g=!1),null==f&&(f=0),f){case 0:c=(255&s[_])<<24|(255&s[_+1])<<16|(255&s[_+2])<<8|255&s[_+3];break;case 1:c=(255&s[_+1])<<24|(255&s[_+2])<<16|(255&s[_+3])<<8|255&s[_];break;case 2:c=(255&s[_+2])<<24|(255&s[_+1])<<16|(255&s[_])<<8|255&s[_+3]}switch(g&&255&c&&255&~c&&(Kl.unmult=255/(255&c),c=(255&Kl.__clamp[Math.round((c>>>24&255)*Kl.unmult)])<<24|(255&Kl.__clamp[Math.round((c>>>16&255)*Kl.unmult)])<<16|(255&Kl.__clamp[Math.round((c>>>8&255)*Kl.unmult)])<<8|255&c),c=(255&o[c>>>24&255])<<24|(255&l[c>>>16&255])<<16|(255&i[c>>>8&255])<<8|255&a[255&c],null==(g=r)&&(g=!1),null==(f=n)&&(f=0),g&&(255&c?255&~c&&(Kl.a16=Kl.__alpha16[255&c],c=((c>>>24&255)*Kl.a16>>16&255)<<24|((c>>>16&255)*Kl.a16>>16&255)<<16|((c>>>8&255)*Kl.a16>>16&255)<<8|255&c):0!=c&&(c=0)),f){case 0:s[_]=c>>>24&255,s[_+1]=c>>>16&255,s[_+2]=c>>>8&255,s[_+3]=255&c;break;case 1:s[_]=255&c,s[_+1]=c>>>24&255,s[_+2]=c>>>16&255,s[_+3]=c>>>8&255;break;case 2:s[_]=c>>>8&255,s[_+1]=c>>>16&255,s[_+2]=c>>>24&255,s[_+3]=255&c}}}t.dirty=!0,t.version++}},Go.copyChannel=function(t,e,i,s,n,r){switch(r._hx_index){case 0:var a=0;break;case 1:a=1;break;case 2:a=2;break;case 3:a=3}switch(n._hx_index){case 0:var o=0;break;case 1:o=1;break;case 2:o=2;break;case 3:o=3}if(n=e.buffer.data,r=t.buffer.data,null!=n&&null!=r){i=new Uo(e,i),s=new Uo(t,new Jl(s.x,s.y,i.width,i.height));var l=e.buffer.format,h=t.buffer.format;e=e.buffer.premultiplied;for(var _,c,u=t.buffer.premultiplied,d=0,m=0,p=0,f=0,g=s.height;f<g;){c=f++,_=i.byteOffset+i.stride*c,c=s.byteOffset+s.stride*c;for(var y=0,b=s.width;y<b;){y++;var v=l,x=e;switch(null==x&&(x=!1),null==v&&(v=0),v){case 0:d=(255&n[_])<<24|(255&n[_+1])<<16|(255&n[_+2])<<8|255&n[_+3];break;case 1:d=(255&n[_+1])<<24|(255&n[_+2])<<16|(255&n[_+3])<<8|255&n[_];break;case 2:d=(255&n[_+2])<<24|(255&n[_+1])<<16|(255&n[_])<<8|255&n[_+3]}switch(x&&255&d&&255&~d&&(Kl.unmult=255/(255&d),d=(255&Kl.__clamp[Math.round((d>>>24&255)*Kl.unmult)])<<24|(255&Kl.__clamp[Math.round((d>>>16&255)*Kl.unmult)])<<16|(255&Kl.__clamp[Math.round((d>>>8&255)*Kl.unmult)])<<8|255&d),null==(x=u)&&(x=!1),null==(v=h)&&(v=0),v){case 0:m=(255&r[c])<<24|(255&r[c+1])<<16|(255&r[c+2])<<8|255&r[c+3];break;case 1:m=(255&r[c+1])<<24|(255&r[c+2])<<16|(255&r[c+3])<<8|255&r[c];break;case 2:m=(255&r[c+2])<<24|(255&r[c+1])<<16|(255&r[c])<<8|255&r[c+3]}switch(x&&255&m&&255&~m&&(Kl.unmult=255/(255&m),m=(255&Kl.__clamp[Math.round((m>>>24&255)*Kl.unmult)])<<24|(255&Kl.__clamp[Math.round((m>>>16&255)*Kl.unmult)])<<16|(255&Kl.__clamp[Math.round((m>>>8&255)*Kl.unmult)])<<8|255&m),o){case 0:p=d>>>24&255;break;case 1:p=d>>>16&255;break;case 2:p=d>>>8&255;break;case 3:p=255&d}switch(a){case 0:m=(255&p)<<24|(m>>>16&255)<<16|(m>>>8&255)<<8|255&m;break;case 1:m=(m>>>24&255)<<24|(255&p)<<16|(m>>>8&255)<<8|255&m;break;case 2:m=(m>>>24&255)<<24|(m>>>16&255)<<16|(255&p)<<8|255&m;break;case 3:m=(m>>>24&255)<<24|(m>>>16&255)<<16|(m>>>8&255)<<8|255&p}switch(null==(x=u)&&(x=!1),null==(v=h)&&(v=0),x&&(255&m?255&~m&&(Kl.a16=Kl.__alpha16[255&m],m=((m>>>24&255)*Kl.a16>>16&255)<<24|((m>>>16&255)*Kl.a16>>16&255)<<16|((m>>>8&255)*Kl.a16>>16&255)<<8|255&m):0!=m&&(m=0)),v){case 0:r[c]=m>>>24&255,r[c+1]=m>>>16&255,r[c+2]=m>>>8&255,r[c+3]=255&m;break;case 1:r[c]=255&m,r[c+1]=m>>>24&255,r[c+2]=m>>>16&255,r[c+3]=m>>>8&255;break;case 2:r[c]=m>>>8&255,r[c+1]=m>>>16&255,r[c+2]=m>>>24&255,r[c+3]=255&m}_+=4,c+=4}}t.dirty=!0,t.version++}},Go.copyPixels=function(t,e,i,s,n,r,a){if(null==a&&(a=!1),t.width==e.width&&t.height==e.height&&i.width==e.width&&i.height==e.height&&0==i.x&&0==i.y&&0==s.x&&0==s.y&&null==n&&null==r&&0==a&&t.get_format()==e.get_format())t.buffer.data.set(e.buffer.data);else{var o=e.buffer.data,l=t.buffer.data;if(null==o||null==l)return;i=new Uo(e,i);var h=new Jl(s.x,s.y,i.width,i.height);h=new Uo(t,h);var _=e.buffer.format,c=t.buffer.format,u=0,d=0,m=e.buffer.premultiplied,p=t.buffer.premultiplied,f=e.buffer.bitsPerPixel/8|0,g=t.buffer.bitsPerPixel/8|0,y=null!=n&&n.get_transparent(),b=a||y&&!t.get_transparent()||!a&&!t.get_transparent()&&e.get_transparent();if(y)if(g=n.buffer.data,e=n.buffer.format,a=0,n=new Uo(n,new Jl(i.x+(null==r?0:r.x),i.y+(null==r?0:r.y),i.width,i.height)),h.clip(0|s.x,0|s.y,n.width,n.height),b)for(b=0,f=h.height;b<f;)for(y=b++,s=i.byteOffset+i.stride*y,r=h.byteOffset+h.stride*y,y=n.byteOffset+n.stride*y,S=0,A=h.width;S<A;){S++;var v=_,x=m;switch(null==x&&(x=!1),null==v&&(v=0),v){case 0:u=(255&o[s])<<24|(255&o[s+1])<<16|(255&o[s+2])<<8|255&o[s+3];break;case 1:u=(255&o[s+1])<<24|(255&o[s+2])<<16|(255&o[s+3])<<8|255&o[s];break;case 2:u=(255&o[s+2])<<24|(255&o[s+1])<<16|(255&o[s])<<8|255&o[s+3]}switch(x&&255&u&&255&~u&&(Kl.unmult=255/(255&u),u=(255&Kl.__clamp[Math.round((u>>>24&255)*Kl.unmult)])<<24|(255&Kl.__clamp[Math.round((u>>>16&255)*Kl.unmult)])<<16|(255&Kl.__clamp[Math.round((u>>>8&255)*Kl.unmult)])<<8|255&u),null==(x=p)&&(x=!1),null==(v=c)&&(v=0),v){case 0:d=(255&l[r])<<24|(255&l[r+1])<<16|(255&l[r+2])<<8|255&l[r+3];break;case 1:d=(255&l[r+1])<<24|(255&l[r+2])<<16|(255&l[r+3])<<8|255&l[r];break;case 2:d=(255&l[r+2])<<24|(255&l[r+1])<<16|(255&l[r])<<8|255&l[r+3]}switch(x&&255&d&&255&~d&&(Kl.unmult=255/(255&d),d=(255&Kl.__clamp[Math.round((d>>>24&255)*Kl.unmult)])<<24|(255&Kl.__clamp[Math.round((d>>>16&255)*Kl.unmult)])<<16|(255&Kl.__clamp[Math.round((d>>>8&255)*Kl.unmult)])<<8|255&d),null==(x=!1)&&(x=!1),null==(v=e)&&(v=0),v){case 0:a=(255&g[y])<<24|(255&g[y+1])<<16|(255&g[y+2])<<8|255&g[y+3];break;case 1:a=(255&g[y+1])<<24|(255&g[y+2])<<16|(255&g[y+3])<<8|255&g[y];break;case 2:a=(255&g[y+2])<<24|(255&g[y+1])<<16|(255&g[y])<<8|255&g[y+3]}if(x&&255&a&&255&~a&&(Kl.unmult=255/(255&a),a=(255&Kl.__clamp[Math.round((a>>>24&255)*Kl.unmult)])<<24|(255&Kl.__clamp[Math.round((a>>>16&255)*Kl.unmult)])<<16|(255&Kl.__clamp[Math.round((a>>>8&255)*Kl.unmult)])<<8|255&a),0<(x=(255&a)/255*((255&u)/255))){var w=(255&d)/255,R=1-x;switch(v=x+w*R,d=((d=((d=((d=(255&(T=Kl.__clamp[Math.round(((u>>>24&255)*x+(d>>>24&255)*w*R)/v)]))<<24|(d>>>16&255)<<16|(d>>>8&255)<<8|255&d)>>>24&255)<<24|(255&(T=Kl.__clamp[Math.round(((u>>>16&255)*x+(d>>>16&255)*w*R)/v)]))<<16|(d>>>8&255)<<8|255&d)>>>24&255)<<24|(d>>>16&255)<<16|(255&(x=Kl.__clamp[Math.round(((u>>>8&255)*x+(d>>>8&255)*w*R)/v)]))<<8|255&d)>>>24&255)<<24|(d>>>16&255)<<16|(d>>>8&255)<<8|255&(v=Kl.__clamp[Math.round(255*v)]),null==(x=p)&&(x=!1),null==(v=c)&&(v=0),x&&(255&d?255&~d&&(Kl.a16=Kl.__alpha16[255&d],d=((d>>>24&255)*Kl.a16>>16&255)<<24|((d>>>16&255)*Kl.a16>>16&255)<<16|((d>>>8&255)*Kl.a16>>16&255)<<8|255&d):0!=d&&(d=0)),v){case 0:l[r]=d>>>24&255,l[r+1]=d>>>16&255,l[r+2]=d>>>8&255,l[r+3]=255&d;break;case 1:l[r]=255&d,l[r+1]=d>>>24&255,l[r+2]=d>>>16&255,l[r+3]=d>>>8&255;break;case 2:l[r]=d>>>8&255,l[r+1]=d>>>16&255,l[r+2]=d>>>24&255,l[r+3]=255&d}}s+=4,r+=4,y+=4}else for(b=0,f=h.height;b<f;)for(y=b++,s=i.byteOffset+i.stride*y,r=h.byteOffset+h.stride*y,y=n.byteOffset+n.stride*y,S=0,A=h.width;S<A;){switch(S++,null==(x=m)&&(x=!1),null==(v=_)&&(v=0),v){case 0:u=(255&o[s])<<24|(255&o[s+1])<<16|(255&o[s+2])<<8|255&o[s+3];break;case 1:u=(255&o[s+1])<<24|(255&o[s+2])<<16|(255&o[s+3])<<8|255&o[s];break;case 2:u=(255&o[s+2])<<24|(255&o[s+1])<<16|(255&o[s])<<8|255&o[s+3]}switch(x&&255&u&&255&~u&&(Kl.unmult=255/(255&u),u=(255&Kl.__clamp[Math.round((u>>>24&255)*Kl.unmult)])<<24|(255&Kl.__clamp[Math.round((u>>>16&255)*Kl.unmult)])<<16|(255&Kl.__clamp[Math.round((u>>>8&255)*Kl.unmult)])<<8|255&u),null==(x=!1)&&(x=!1),null==(v=e)&&(v=0),v){case 0:a=(255&g[y])<<24|(255&g[y+1])<<16|(255&g[y+2])<<8|255&g[y+3];break;case 1:a=(255&g[y+1])<<24|(255&g[y+2])<<16|(255&g[y+3])<<8|255&g[y];break;case 2:a=(255&g[y+2])<<24|(255&g[y+1])<<16|(255&g[y])<<8|255&g[y+3]}switch(x&&255&a&&255&~a&&(Kl.unmult=255/(255&a),a=(255&Kl.__clamp[Math.round((a>>>24&255)*Kl.unmult)])<<24|(255&Kl.__clamp[Math.round((a>>>16&255)*Kl.unmult)])<<16|(255&Kl.__clamp[Math.round((a>>>8&255)*Kl.unmult)])<<8|255&a),u=(u>>>24&255)<<24|(u>>>16&255)<<16|(u>>>8&255)<<8|255&(T=Math.round((255&a)/255*(255&u))),null==(x=p)&&(x=!1),null==(v=c)&&(v=0),x&&(255&u?255&~u&&(Kl.a16=Kl.__alpha16[255&u],u=((u>>>24&255)*Kl.a16>>16&255)<<24|((u>>>16&255)*Kl.a16>>16&255)<<16|((u>>>8&255)*Kl.a16>>16&255)<<8|255&u):0!=u&&(u=0)),v){case 0:l[r]=u>>>24&255,l[r+1]=u>>>16&255,l[r+2]=u>>>8&255,l[r+3]=255&u;break;case 1:l[r]=255&u,l[r+1]=u>>>24&255,l[r+2]=u>>>16&255,l[r+3]=u>>>8&255;break;case 2:l[r]=u>>>8&255,l[r+1]=u>>>16&255,l[r+2]=u>>>24&255,l[r+3]=255&u}s+=4,r+=4,y+=4}else if(b)for(b=0,f=h.height;b<f;){y=b++,s=i.byteOffset+i.stride*y,r=h.byteOffset+h.stride*y;for(var S=0,A=h.width;S<A;){switch(S++,null==(x=m)&&(x=!1),null==(v=_)&&(v=0),v){case 0:u=(255&o[s])<<24|(255&o[s+1])<<16|(255&o[s+2])<<8|255&o[s+3];break;case 1:u=(255&o[s+1])<<24|(255&o[s+2])<<16|(255&o[s+3])<<8|255&o[s];break;case 2:u=(255&o[s+2])<<24|(255&o[s+1])<<16|(255&o[s])<<8|255&o[s+3]}switch(x&&255&u&&255&~u&&(Kl.unmult=255/(255&u),u=(255&Kl.__clamp[Math.round((u>>>24&255)*Kl.unmult)])<<24|(255&Kl.__clamp[Math.round((u>>>16&255)*Kl.unmult)])<<16|(255&Kl.__clamp[Math.round((u>>>8&255)*Kl.unmult)])<<8|255&u),null==(x=p)&&(x=!1),null==(v=c)&&(v=0),v){case 0:d=(255&l[r])<<24|(255&l[r+1])<<16|(255&l[r+2])<<8|255&l[r+3];break;case 1:d=(255&l[r+1])<<24|(255&l[r+2])<<16|(255&l[r+3])<<8|255&l[r];break;case 2:d=(255&l[r+2])<<24|(255&l[r+1])<<16|(255&l[r])<<8|255&l[r+3]}if(x&&255&d&&255&~d&&(Kl.unmult=255/(255&d),d=(255&Kl.__clamp[Math.round((d>>>24&255)*Kl.unmult)])<<24|(255&Kl.__clamp[Math.round((d>>>16&255)*Kl.unmult)])<<16|(255&Kl.__clamp[Math.round((d>>>8&255)*Kl.unmult)])<<8|255&d),0==(v=(x=(255&u)/255)+(w=(255&d)/255)*(R=1-x)))d=0;else{var T=Kl.__clamp[Math.round(((u>>>24&255)*x+(d>>>24&255)*w*R)/v)];d=((d=((d=((d=(255&T)<<24|(d>>>16&255)<<16|(d>>>8&255)<<8|255&d)>>>24&255)<<24|(255&(T=Kl.__clamp[Math.round(((u>>>16&255)*x+(d>>>16&255)*w*R)/v)]))<<16|(d>>>8&255)<<8|255&d)>>>24&255)<<24|(d>>>16&255)<<16|(255&(x=Kl.__clamp[Math.round(((u>>>8&255)*x+(d>>>8&255)*w*R)/v)]))<<8|255&d)>>>24&255)<<24|(d>>>16&255)<<16|(d>>>8&255)<<8|255&(v=Kl.__clamp[Math.round(255*v)])}switch(null==(x=p)&&(x=!1),null==(v=c)&&(v=0),x&&(255&d?255&~d&&(Kl.a16=Kl.__alpha16[255&d],d=((d>>>24&255)*Kl.a16>>16&255)<<24|((d>>>16&255)*Kl.a16>>16&255)<<16|((d>>>8&255)*Kl.a16>>16&255)<<8|255&d):0!=d&&(d=0)),v){case 0:l[r]=d>>>24&255,l[r+1]=d>>>16&255,l[r+2]=d>>>8&255,l[r+3]=255&d;break;case 1:l[r]=255&d,l[r+1]=d>>>24&255,l[r+2]=d>>>16&255,l[r+3]=d>>>8&255;break;case 2:l[r]=d>>>8&255,l[r+1]=d>>>16&255,l[r+2]=d>>>24&255,l[r+3]=255&d}s+=4,r+=4}}else if(_==c&&m==p&&f==g)for(b=0,f=h.height;b<f;)y=b++,s=i.byteOffset+i.stride*y,r=h.byteOffset+h.stride*y,l.set(o.subarray(s,s+h.width*g),r);else for(b=0,f=h.height;b<f;)for(y=b++,s=i.byteOffset+i.stride*y,r=h.byteOffset+h.stride*y,S=0,A=h.width;S<A;){switch(S++,null==(x=m)&&(x=!1),null==(v=_)&&(v=0),v){case 0:u=(255&o[s])<<24|(255&o[s+1])<<16|(255&o[s+2])<<8|255&o[s+3];break;case 1:u=(255&o[s+1])<<24|(255&o[s+2])<<16|(255&o[s+3])<<8|255&o[s];break;case 2:u=(255&o[s+2])<<24|(255&o[s+1])<<16|(255&o[s])<<8|255&o[s+3]}switch(x&&255&u&&255&~u&&(Kl.unmult=255/(255&u),u=(255&Kl.__clamp[Math.round((u>>>24&255)*Kl.unmult)])<<24|(255&Kl.__clamp[Math.round((u>>>16&255)*Kl.unmult)])<<16|(255&Kl.__clamp[Math.round((u>>>8&255)*Kl.unmult)])<<8|255&u),null==(x=p)&&(x=!1),null==(v=c)&&(v=0),x&&(255&u?255&~u&&(Kl.a16=Kl.__alpha16[255&u],u=((u>>>24&255)*Kl.a16>>16&255)<<24|((u>>>16&255)*Kl.a16>>16&255)<<16|((u>>>8&255)*Kl.a16>>16&255)<<8|255&u):0!=u&&(u=0)),v){case 0:l[r]=u>>>24&255,l[r+1]=u>>>16&255,l[r+2]=u>>>8&255,l[r+3]=255&u;break;case 1:l[r]=255&u,l[r+1]=u>>>24&255,l[r+2]=u>>>16&255,l[r+3]=u>>>8&255;break;case 2:l[r]=u>>>8&255,l[r+1]=u>>>16&255,l[r+2]=u>>>24&255,l[r+3]=255&u}s+=4,r+=4}}t.dirty=!0,t.version++},Go.fillRect=function(t,e,i,s){switch(s){case 1:i=(i>>>16&255)<<24|(i>>>8&255)<<16|(255&i)<<8|i>>>24&255;break;case 2:i=(i>>>8&255)<<24|(i>>>16&255)<<16|(i>>>24&255)<<8|255&i}t.get_transparent()||(i=(i>>>24&255)<<24|(i>>>16&255)<<16|(i>>>8&255)<<8|255);var n=t.buffer.data;if(null!=n){s=t.buffer.format;var r=t.buffer.premultiplied;r&&(255&i?255&~i&&(Kl.a16=Kl.__alpha16[255&i],i=((i>>>24&255)*Kl.a16>>16&255)<<24|((i>>>16&255)*Kl.a16>>16&255)<<16|((i>>>8&255)*Kl.a16>>16&255)<<8|255&i):0!=i&&(i=0));for(var a,o=0,l=(e=new Uo(t,e)).height;o<l;){r=o++,a=e.byteOffset+e.stride*r;for(var h=0,_=e.width;h<_;){var c=a+4*(r=h++),u=s;switch(null==(r=!1)&&(r=!1),null==u&&(u=0),r&&(255&i?255&~i&&(Kl.a16=Kl.__alpha16[255&i],i=((i>>>24&255)*Kl.a16>>16&255)<<24|((i>>>16&255)*Kl.a16>>16&255)<<16|((i>>>8&255)*Kl.a16>>16&255)<<8|255&i):0!=i&&(i=0)),u){case 0:n[c]=i>>>24&255,n[c+1]=i>>>16&255,n[c+2]=i>>>8&255,n[c+3]=255&i;break;case 1:n[c]=255&i,n[c+1]=i>>>24&255,n[c+2]=i>>>16&255,n[c+3]=i>>>8&255;break;case 2:n[c]=i>>>8&255,n[c+1]=i>>>16&255,n[c+2]=i>>>24&255,n[c+3]=255&i}}}t.dirty=!0,t.version++}},Go.floodFill=function(t,e,i,s,n){var r=t.buffer.data;if(null!=r){1==n&&(s=(16777215&s)<<8|s>>24&255),n=t.buffer.format;var a=t.buffer.premultiplied,o=0,l=4*(i+t.offsetY)*t.buffer.width+4*(e+t.offsetX),h=n,_=a;switch(null==_&&(_=!1),null==h&&(h=0),h){case 0:o=(255&r[l])<<24|(255&r[l+1])<<16|(255&r[l+2])<<8|255&r[l+3];break;case 1:o=(255&r[l+1])<<24|(255&r[l+2])<<16|(255&r[l+3])<<8|255&r[l];break;case 2:o=(255&r[l+2])<<24|(255&r[l+1])<<16|(255&r[l])<<8|255&r[l+3]}if(_&&255&o&&255&~o&&(Kl.unmult=255/(255&o),o=(255&Kl.__clamp[Math.round((o>>>24&255)*Kl.unmult)])<<24|(255&Kl.__clamp[Math.round((o>>>16&255)*Kl.unmult)])<<16|(255&Kl.__clamp[Math.round((o>>>8&255)*Kl.unmult)])<<8|255&o),t.get_transparent()||(s=(s>>>24&255)<<24|(s>>>16&255)<<16|(s>>>8&255)<<8|255,o=(o>>>24&255)<<24|(o>>>16&255)<<16|(o>>>8&255)<<8|255),s!=o){a&&(255&s?255&~s&&(Kl.a16=Kl.__alpha16[255&s],s=((s>>>24&255)*Kl.a16>>16&255)<<24|((s>>>16&255)*Kl.a16>>16&255)<<16|((s>>>8&255)*Kl.a16>>16&255)<<8|255&s):0!=s&&(s=0)),l=[0,-1,1,0];var c=[-1,0,0,1],u=-t.offsetX,d=-t.offsetY,m=u+t.width,p=d+t.height,f=[];f.push(e),f.push(i);for(var g,y,b,v=0;0<f.length;){i=f.pop(),e=f.pop();for(var x=0;4>x;)if(g=e+l[h=x++],y=i+c[h],!(g<u||y<d||g>=m||y>=p)){switch(b=4*(y*t.width+g),null==(_=a)&&(_=!1),null==(h=n)&&(h=0),h){case 0:v=(255&r[b])<<24|(255&r[b+1])<<16|(255&r[b+2])<<8|255&r[b+3];break;case 1:v=(255&r[b+1])<<24|(255&r[b+2])<<16|(255&r[b+3])<<8|255&r[b];break;case 2:v=(255&r[b+2])<<24|(255&r[b+1])<<16|(255&r[b])<<8|255&r[b+3]}if(_&&255&v&&255&~v&&(Kl.unmult=255/(255&v),v=(255&Kl.__clamp[Math.round((v>>>24&255)*Kl.unmult)])<<24|(255&Kl.__clamp[Math.round((v>>>16&255)*Kl.unmult)])<<16|(255&Kl.__clamp[Math.round((v>>>8&255)*Kl.unmult)])<<8|255&v),v==o){switch(null==(_=!1)&&(_=!1),null==(h=n)&&(h=0),_&&(255&s?255&~s&&(Kl.a16=Kl.__alpha16[255&s],s=((s>>>24&255)*Kl.a16>>16&255)<<24|((s>>>16&255)*Kl.a16>>16&255)<<16|((s>>>8&255)*Kl.a16>>16&255)<<8|255&s):0!=s&&(s=0)),h){case 0:r[b]=s>>>24&255,r[b+1]=s>>>16&255,r[b+2]=s>>>8&255,r[b+3]=255&s;break;case 1:r[b]=255&s,r[b+1]=s>>>24&255,r[b+2]=s>>>16&255,r[b+3]=s>>>8&255;break;case 2:r[b]=s>>>8&255,r[b+1]=s>>>16&255,r[b+2]=s>>>24&255,r[b+3]=255&s}f.push(g),f.push(y)}}}t.dirty=!0,t.version++}}},Go.gaussianBlur=function(t,e,i,s,n,r,a,o,l){return null==a&&(a=1),null==r&&(r=4),null==n&&(n=4),(o=t.get_premultiplied())&&t.set_premultiplied(!1),zo.blur(t,e,i,s,n,r,a),t.dirty=!0,t.version++,o&&t.set_premultiplied(!0),t},Go.getColorBoundsRect=function(t,e,i,s,n){var r=t.width+1,a=0,o=t.height+1,l=0;switch(n){case 1:i=((n=i)>>>16&255)<<24|(n>>>8&255)<<16|(255&n)<<8|n>>>24&255,e=((n=e)>>>16&255)<<24|(n>>>8&255)<<16|(255&n)<<8|n>>>24&255;break;case 2:i=((n=i)>>>8&255)<<24|(n>>>16&255)<<16|(n>>>24&255)<<8|255&n,e=((n=e)>>>8&255)<<24|(n>>>16&255)<<16|(n>>>24&255)<<8|255&n}t.get_transparent()||(i=(i>>>24&255)<<24|(i>>>16&255)<<16|(i>>>8&255)<<8|255,e=(e>>>24&255)<<24|(e>>>16&255)<<16|(e>>>8&255)<<8|255),n=0;for(var h=t.width;n<h;){for(var _=n++,c=!1,u=0,d=t.height;u<d;){var m=u++;if(c=t.getPixel32(_,m,0),c=s?(c&e)==i:(c&e)!=i){_<r&&(r=_);break}}if(c)break}for(n=0,h=t.width;n<h;){for(_=n++,_=t.width-1-_,c=!1,u=0,d=t.height;u<d;)if(m=u++,c=t.getPixel32(_,m,0),c=s?(c&e)==i:(c&e)!=i){_>a&&(a=_);break}if(c)break}for(n=0,h=t.height;n<h;){for(m=n++,c=!1,u=0,d=t.width;u<d;)if(_=u++,c=t.getPixel32(_,m,0),c=s?(c&e)==i:(c&e)!=i){m<o&&(o=m);break}if(c)break}for(n=0,h=t.height;n<h;){for(m=n++,m=t.height-1-m,c=!1,u=0,d=t.width;u<d;)if(_=u++,c=t.getPixel32(_,m,0),c=s?(c&e)==i:(c&e)!=i){m>l&&(l=m);break}if(c)break}return 0<(s=a-r)&&++s,0<(i=l-o)&&++i,0>s&&(s=0),0>i&&(i=0),r==a&&(s=1),o==l&&(i=1),r>t.width&&(r=0),o>t.height&&(o=0),new Jl(r,o,s,i)},Go.getPixel=function(t,e,i,s){var n=0,r=t.buffer.data;switch(e=4*(i+t.offsetY)*t.buffer.width+4*(e+t.offsetX),i=t.buffer.format,null==(t=t.buffer.premultiplied)&&(t=!1),null==i&&(i=0),i){case 0:n=(255&r[e])<<24|(255&r[e+1])<<16|(255&r[e+2])<<8|255&r[e+3];break;case 1:n=(255&r[e+1])<<24|(255&r[e+2])<<16|(255&r[e+3])<<8|255&r[e];break;case 2:n=(255&r[e+2])<<24|(255&r[e+1])<<16|(255&r[e])<<8|255&r[e+3]}switch(t&&255&n&&255&~n&&(Kl.unmult=255/(255&n),n=(255&Kl.__clamp[Math.round((n>>>24&255)*Kl.unmult)])<<24|(255&Kl.__clamp[Math.round((n>>>16&255)*Kl.unmult)])<<16|(255&Kl.__clamp[Math.round((n>>>8&255)*Kl.unmult)])<<8|255&n),n=(n>>>24&255)<<24|(n>>>16&255)<<16|(n>>>8&255)<<8,s){case 1:return(255&n)<<24|(n>>>24&255)<<16|(n>>>16&255)<<8|n>>>8&255;case 2:return(n>>>8&255)<<24|(n>>>16&255)<<16|(n>>>24&255)<<8|255&n;default:return n}},Go.getPixel32=function(t,e,i,s){var n=0,r=t.buffer.data;switch(e=4*(i+t.offsetY)*t.buffer.width+4*(e+t.offsetX),i=t.buffer.format,null==(t=t.buffer.premultiplied)&&(t=!1),null==i&&(i=0),i){case 0:n=(255&r[e])<<24|(255&r[e+1])<<16|(255&r[e+2])<<8|255&r[e+3];break;case 1:n=(255&r[e+1])<<24|(255&r[e+2])<<16|(255&r[e+3])<<8|255&r[e];break;case 2:n=(255&r[e+2])<<24|(255&r[e+1])<<16|(255&r[e])<<8|255&r[e+3]}switch(t&&255&n&&255&~n&&(Kl.unmult=255/(255&n),n=(255&Kl.__clamp[Math.round((n>>>24&255)*Kl.unmult)])<<24|(255&Kl.__clamp[Math.round((n>>>16&255)*Kl.unmult)])<<16|(255&Kl.__clamp[Math.round((n>>>8&255)*Kl.unmult)])<<8|255&n),s){case 1:return(255&n)<<24|(n>>>24&255)<<16|(n>>>16&255)<<8|n>>>8&255;case 2:return(n>>>8&255)<<24|(n>>>16&255)<<16|(n>>>24&255)<<8|255&n;default:return n}},Go.getPixels=function(t,e,i){if(null==t.buffer.data)return null;var s=new La(new ArrayBuffer(4*(e.width*e.height|0))),n=t.buffer.data,r=t.buffer.format,a=t.buffer.premultiplied;t=new Uo(t,e);for(var o,l,h=e=l=0,_=t.height;h<_;){o=h++,o=t.byteOffset+t.stride*o;for(var c=0,u=t.width;c<u;){c++;var d=r,m=a;switch(null==m&&(m=!1),null==d&&(d=0),d){case 0:l=(255&n[o])<<24|(255&n[o+1])<<16|(255&n[o+2])<<8|255&n[o+3];break;case 1:l=(255&n[o+1])<<24|(255&n[o+2])<<16|(255&n[o+3])<<8|255&n[o];break;case 2:l=(255&n[o+2])<<24|(255&n[o+1])<<16|(255&n[o])<<8|255&n[o+3]}switch(m&&255&l&&255&~l&&(Kl.unmult=255/(255&l),l=(255&Kl.__clamp[Math.round((l>>>24&255)*Kl.unmult)])<<24|(255&Kl.__clamp[Math.round((l>>>16&255)*Kl.unmult)])<<16|(255&Kl.__clamp[Math.round((l>>>8&255)*Kl.unmult)])<<8|255&l),i){case 1:l=(255&l)<<24|(l>>>24&255)<<16|(l>>>16&255)<<8|l>>>8&255;break;case 2:l=(l>>>8&255)<<24|(l>>>16&255)<<16|(l>>>24&255)<<8|255&l}s.b[e++]=l>>>24&255,s.b[e++]=l>>>16&255,s.b[e++]=l>>>8&255,s.b[e++]=255&l,o+=4}}return s},Go.merge=function(t,e,i,s,n,r,a,o){if(null!=t.buffer.data&&null!=e.buffer.data){i=new Uo(e,i),s=new Uo(t,new Jl(s.x,s.y,i.width,i.height));var l=e.buffer.data,h=t.buffer.data,_=e.buffer.format,c=t.buffer.format;e=e.buffer.premultiplied;for(var u,d,m=t.buffer.premultiplied,p=0,f=0,g=0,y=s.height;g<y;){d=g++,u=i.byteOffset+i.stride*d,d=s.byteOffset+s.stride*d;for(var b=0,v=s.width;b<v;){b++;var x=_,w=e;switch(null==w&&(w=!1),null==x&&(x=0),x){case 0:p=(255&l[u])<<24|(255&l[u+1])<<16|(255&l[u+2])<<8|255&l[u+3];break;case 1:p=(255&l[u+1])<<24|(255&l[u+2])<<16|(255&l[u+3])<<8|255&l[u];break;case 2:p=(255&l[u+2])<<24|(255&l[u+1])<<16|(255&l[u])<<8|255&l[u+3]}switch(w&&255&p&&255&~p&&(Kl.unmult=255/(255&p),p=(255&Kl.__clamp[Math.round((p>>>24&255)*Kl.unmult)])<<24|(255&Kl.__clamp[Math.round((p>>>16&255)*Kl.unmult)])<<16|(255&Kl.__clamp[Math.round((p>>>8&255)*Kl.unmult)])<<8|255&p),null==(w=m)&&(w=!1),null==(x=c)&&(x=0),x){case 0:f=(255&h[d])<<24|(255&h[d+1])<<16|(255&h[d+2])<<8|255&h[d+3];break;case 1:f=(255&h[d+1])<<24|(255&h[d+2])<<16|(255&h[d+3])<<8|255&h[d];break;case 2:f=(255&h[d+2])<<24|(255&h[d+1])<<16|(255&h[d])<<8|255&h[d+3]}switch(w&&255&f&&255&~f&&(Kl.unmult=255/(255&f),f=(255&Kl.__clamp[Math.round((f>>>24&255)*Kl.unmult)])<<24|(255&Kl.__clamp[Math.round((f>>>16&255)*Kl.unmult)])<<16|(255&Kl.__clamp[Math.round((f>>>8&255)*Kl.unmult)])<<8|255&f),f=((f=((f=((f=(((p>>>24&255)*n+(f>>>24&255)*(256-n))/256&255)<<24|(f>>>16&255)<<16|(f>>>8&255)<<8|255&f)>>>24&255)<<24|(((p>>>16&255)*r+(f>>>16&255)*(256-r))/256&255)<<16|(f>>>8&255)<<8|255&f)>>>24&255)<<24|(f>>>16&255)<<16|(((p>>>8&255)*a+(f>>>8&255)*(256-a))/256&255)<<8|255&f)>>>24&255)<<24|(f>>>16&255)<<16|(f>>>8&255)<<8|((255&p)*o+(255&f)*(256-o))/256&255,null==(w=m)&&(w=!1),null==(x=c)&&(x=0),w&&(255&f?255&~f&&(Kl.a16=Kl.__alpha16[255&f],f=((f>>>24&255)*Kl.a16>>16&255)<<24|((f>>>16&255)*Kl.a16>>16&255)<<16|((f>>>8&255)*Kl.a16>>16&255)<<8|255&f):0!=f&&(f=0)),x){case 0:h[d]=f>>>24&255,h[d+1]=f>>>16&255,h[d+2]=f>>>8&255,h[d+3]=255&f;break;case 1:h[d]=255&f,h[d+1]=f>>>24&255,h[d+2]=f>>>16&255,h[d+3]=f>>>8&255;break;case 2:h[d]=f>>>8&255,h[d+1]=f>>>16&255,h[d+2]=f>>>24&255,h[d+3]=255&f}u+=4,d+=4}}t.dirty=!0,t.version++}},Go.multiplyAlpha=function(t){var e=t.buffer.data;if(null!=e&&t.buffer.transparent){for(var i=t.buffer.format,s=0,n=0,r=e.length/4|0;n<r;){var a=n++,o=4*a,l=i,h=!1;switch(null==h&&(h=!1),null==l&&(l=0),l){case 0:s=(255&e[o])<<24|(255&e[o+1])<<16|(255&e[o+2])<<8|255&e[o+3];break;case 1:s=(255&e[o+1])<<24|(255&e[o+2])<<16|(255&e[o+3])<<8|255&e[o];break;case 2:s=(255&e[o+2])<<24|(255&e[o+1])<<16|(255&e[o])<<8|255&e[o+3]}switch(h&&255&s&&255&~s&&(Kl.unmult=255/(255&s),s=(255&Kl.__clamp[Math.round((s>>>24&255)*Kl.unmult)])<<24|(255&Kl.__clamp[Math.round((s>>>16&255)*Kl.unmult)])<<16|(255&Kl.__clamp[Math.round((s>>>8&255)*Kl.unmult)])<<8|255&s),a*=4,null==(l=!0)&&(l=!1),null==(o=i)&&(o=0),l&&(255&s?255&~s&&(Kl.a16=Kl.__alpha16[255&s],s=((s>>>24&255)*Kl.a16>>16&255)<<24|((s>>>16&255)*Kl.a16>>16&255)<<16|((s>>>8&255)*Kl.a16>>16&255)<<8|255&s):0!=s&&(s=0)),o){case 0:e[a]=s>>>24&255,e[a+1]=s>>>16&255,e[a+2]=s>>>8&255,e[a+3]=255&s;break;case 1:e[a]=255&s,e[a+1]=s>>>24&255,e[a+2]=s>>>16&255,e[a+3]=s>>>8&255;break;case 2:e[a]=s>>>8&255,e[a+1]=s>>>16&255,e[a+2]=s>>>24&255,e[a+3]=255&s}}t.buffer.premultiplied=!0,t.dirty=!0,t.version++}},Go.resize=function(t,e,i){var s=t.buffer;if(s.width!=e||s.height!=i){var n=e*i*4;n=null!=n?new Uint8Array(n):null,n=new kl(n,e,i);for(var r,a,o,l,h,_,c,u,d,m=t.width,p=t.height,f=t.get_data(),g=n.data,y=0;y<i;)for(var b=y++,v=0,x=e;v<x;)r=4*((c=0|(d=(b+.5)/i*p-.5))*m+(_=0|(u=(.5+(h=v++))/e*m-.5))),o=c<p-1?r+4*m:r,l=(a=_<m-1?r+4:r)!=r?o+4:o,c=d-c,d=1-(_=u-_),u=1-c,g[h=4*(b*e+h)]=(S.toFloat(f[r])*d+S.toFloat(f[a])*_)*u+(S.toFloat(f[o])*d+S.toFloat(f[l])*_)*c|0,g[h+1]=(S.toFloat(f[r+1])*d+S.toFloat(f[a+1])*_)*u+(S.toFloat(f[o+1])*d+S.toFloat(f[l+1])*_)*c|0,g[h+2]=(S.toFloat(f[r+2])*d+S.toFloat(f[a+2])*_)*u+(S.toFloat(f[o+2])*d+S.toFloat(f[l+2])*_)*c|0,g[h+3]=0==f[a+3]||0==f[o+3]||0==f[l+3]?0:f[r+3];s.data=n.data,s.width=e,s.height=i,s.__srcImage=null,s.__srcImageData=null,s.__srcCanvas=null,s.__srcContext=null,t.dirty=!0,t.version++}},Go.resizeBuffer=function(t,e,i){var s=t.buffer,n=t.get_data(),r=e*i*4;r=null!=r?new Uint8Array(r):null;for(var a,o,l=0,h=s.height;l<h;)for(var _=l++,c=0,u=s.width;c<u;)o=c++,a=4*(_*s.width+o),r[o=4*(_*e+o)]=n[a],r[o+1]=n[a+1],r[o+2]=n[a+2],r[o+3]=n[a+3];s.data=r,s.width=e,s.height=i,s.__srcImage=null,s.__srcImageData=null,s.__srcCanvas=null,s.__srcContext=null,t.dirty=!0,t.version++},Go.setFormat=function(t,e){var i=t.buffer.data;if(null!=i){var s=i.length/4|0;switch(t.get_format()){case 0:var n=0,r=1,a=2,o=3;break;case 1:n=1,r=2,a=3,o=0;break;case 2:n=2,r=1,a=0,o=3}switch(e){case 0:var l=0,h=1,_=2,c=3;break;case 1:l=1,h=2,_=3,c=0;break;case 2:l=2,h=1,_=0,c=3}for(var u=0;u<s;){var d=4*u++,m=i[d+n],p=i[d+r],f=i[d+a],g=i[d+o];i[d+l]=m,i[d+h]=p,i[d+_]=f,i[d+c]=g}t.buffer.format=e,t.dirty=!0,t.version++}},Go.setPixel=function(t,e,i,s,n){switch(n){case 1:s=(s>>>16&255)<<24|(s>>>8&255)<<16|(255&s)<<8|s>>>24&255;break;case 2:s=(s>>>8&255)<<24|(s>>>16&255)<<16|(s>>>24&255)<<8|255&s}var r=0,a=t.buffer.data,o=4*(i+t.offsetY)*t.buffer.width+4*(e+t.offsetX);n=t.buffer.format;var l=t.buffer.premultiplied;switch(null==l&&(l=!1),null==n&&(n=0),n){case 0:r=(255&a[o])<<24|(255&a[o+1])<<16|(255&a[o+2])<<8|255&a[o+3];break;case 1:r=(255&a[o+1])<<24|(255&a[o+2])<<16|(255&a[o+3])<<8|255&a[o];break;case 2:r=(255&a[o+2])<<24|(255&a[o+1])<<16|(255&a[o])<<8|255&a[o+3]}switch(l&&255&r&&255&~r&&(Kl.unmult=255/(255&r),r=(255&Kl.__clamp[Math.round((r>>>24&255)*Kl.unmult)])<<24|(255&Kl.__clamp[Math.round((r>>>16&255)*Kl.unmult)])<<16|(255&Kl.__clamp[Math.round((r>>>8&255)*Kl.unmult)])<<8|255&r),s=(s>>>24&255)<<24|(s>>>16&255)<<16|(s>>>8&255)<<8|255&r,a=t.buffer.data,o=4*(i+t.offsetY)*t.buffer.width+4*(e+t.offsetX),n=t.buffer.format,null==(l=t.buffer.premultiplied)&&(l=!1),null==n&&(n=0),l&&(255&s?255&~s&&(Kl.a16=Kl.__alpha16[255&s],s=((s>>>24&255)*Kl.a16>>16&255)<<24|((s>>>16&255)*Kl.a16>>16&255)<<16|((s>>>8&255)*Kl.a16>>16&255)<<8|255&s):0!=s&&(s=0)),n){case 0:a[o]=s>>>24&255,a[o+1]=s>>>16&255,a[o+2]=s>>>8&255,a[o+3]=255&s;break;case 1:a[o]=255&s,a[o+1]=s>>>24&255,a[o+2]=s>>>16&255,a[o+3]=s>>>8&255;break;case 2:a[o]=s>>>8&255,a[o+1]=s>>>16&255,a[o+2]=s>>>24&255,a[o+3]=255&s}t.dirty=!0,t.version++},Go.setPixel32=function(t,e,i,s,n){switch(n){case 1:s=(s>>>16&255)<<24|(s>>>8&255)<<16|(255&s)<<8|s>>>24&255;break;case 2:s=(s>>>8&255)<<24|(s>>>16&255)<<16|(s>>>24&255)<<8|255&s}t.get_transparent()||(s=(s>>>24&255)<<24|(s>>>16&255)<<16|(s>>>8&255)<<8|255);var r=t.buffer.data;switch(e=4*(i+t.offsetY)*t.buffer.width+4*(e+t.offsetX),n=t.buffer.format,null==(i=t.buffer.premultiplied)&&(i=!1),null==n&&(n=0),i&&(255&s?255&~s&&(Kl.a16=Kl.__alpha16[255&s],s=((s>>>24&255)*Kl.a16>>16&255)<<24|((s>>>16&255)*Kl.a16>>16&255)<<16|((s>>>8&255)*Kl.a16>>16&255)<<8|255&s):0!=s&&(s=0)),n){case 0:r[e]=s>>>24&255,r[e+1]=s>>>16&255,r[e+2]=s>>>8&255,r[e+3]=255&s;break;case 1:r[e]=255&s,r[e+1]=s>>>24&255,r[e+2]=s>>>16&255,r[e+3]=s>>>8&255;break;case 2:r[e]=s>>>8&255,r[e+1]=s>>>16&255,r[e+2]=s>>>24&255,r[e+3]=255&s}t.dirty=!0,t.version++},Go.setPixels=function(t,e,i,s,n){if(null!=t.buffer.data){var r=t.buffer.data,a=t.buffer.format,o=t.buffer.premultiplied;e=new Uo(t,e);var l=t.get_transparent(),h=i.bytes;i=i.offset,n=n!=Rh.BIG_ENDIAN;for(var _=0,c=e.height;_<c;){var u=_++;u=e.byteOffset+e.stride*u;for(var d=0,m=e.width;d<m;){var p=d++,f=n?h.getInt32(i):h.b[i+3]|h.b[i+2]<<8|h.b[i+1]<<16|h.b[i]<<24;switch(i+=4,s){case 1:f=(f>>>16&255)<<24|(f>>>8&255)<<16|(255&f)<<8|f>>>24&255;break;case 2:f=(f>>>8&255)<<24|(f>>>16&255)<<16|(f>>>24&255)<<8|255&f}l||(f=(f>>>24&255)<<24|(f>>>16&255)<<16|(f>>>8&255)<<8|255),p=u+4*p;var g=a,y=o;switch(null==y&&(y=!1),null==g&&(g=0),y&&(255&f?255&~f&&(Kl.a16=Kl.__alpha16[255&f],f=((f>>>24&255)*Kl.a16>>16&255)<<24|((f>>>16&255)*Kl.a16>>16&255)<<16|((f>>>8&255)*Kl.a16>>16&255)<<8|255&f):0!=f&&(f=0)),g){case 0:r[p]=f>>>24&255,r[p+1]=f>>>16&255,r[p+2]=f>>>8&255,r[p+3]=255&f;break;case 1:r[p]=255&f,r[p+1]=f>>>24&255,r[p+2]=f>>>16&255,r[p+3]=f>>>8&255;break;case 2:r[p]=f>>>8&255,r[p+1]=f>>>16&255,r[p+2]=f>>>24&255,r[p+3]=255&f}}}t.dirty=!0,t.version++}},Go.threshold=function(t,e,i,s,n,r,a,o,l,h){switch(h){case 1:var _=a;a=(_>>>16&255)<<24|(_>>>8&255)<<16|(255&_)<<8|_>>>24&255,o=((_=o)>>>16&255)<<24|(_>>>8&255)<<16|(255&_)<<8|_>>>24&255,r=((_=r)>>>16&255)<<24|(_>>>8&255)<<16|(255&_)<<8|_>>>24&255;break;case 2:a=((_=a)>>>8&255)<<24|(_>>>16&255)<<16|(_>>>24&255)<<8|255&_,o=((_=o)>>>8&255)<<24|(_>>>16&255)<<16|(_>>>24&255)<<8|255&_,r=((_=r)>>>8&255)<<24|(_>>>16&255)<<16|(_>>>24&255)<<8|255&_}switch(n){case"!=":n=0;break;case"<":n=2;break;case"<=":n=3;break;case"==":n=1;break;case">":n=4;break;case">=":n=5;break;default:n=-1}if(-1==n)return 0;_=e.buffer.data;var c=t.buffer.data;if(null==_||null==c)return 0;var u=0;i=new Uo(e,i),s=new Uo(t,new Jl(s.x,s.y,i.width,i.height));var d=e.buffer.format,m=t.buffer.format;e=e.buffer.premultiplied;for(var p,f,g=t.buffer.premultiplied,y=0,b=0,v=s.height;b<v;){f=b++,p=i.byteOffset+i.stride*f,f=s.byteOffset+s.stride*f;for(var x=0,w=s.width;x<w;){x++;var R=e;switch(null==R&&(R=!1),null==(h=d)&&(h=0),h){case 0:y=(255&_[p])<<24|(255&_[p+1])<<16|(255&_[p+2])<<8|255&_[p+3];break;case 1:y=(255&_[p+1])<<24|(255&_[p+2])<<16|(255&_[p+3])<<8|255&_[p];break;case 2:y=(255&_[p+2])<<24|(255&_[p+1])<<16|(255&_[p])<<8|255&_[p+3]}R&&255&y&&255&~y&&(Kl.unmult=255/(255&y),y=(255&Kl.__clamp[Math.round((y>>>24&255)*Kl.unmult)])<<24|(255&Kl.__clamp[Math.round((y>>>16&255)*Kl.unmult)])<<16|(255&Kl.__clamp[Math.round((y>>>8&255)*Kl.unmult)])<<8|255&y);var A=r>>>24&255;switch(h=(R=(h=y&o)>>>24&255)!=A||(R=h>>>16&255)!=(A=r>>>16&255)||(R=h>>>8&255)!=(A=r>>>8&255)||(R=255&h)!=(A=255&r)?S.gt(R,A)?1:-1:0,n){case 0:h=0!=h;break;case 1:h=0==h;break;case 2:h=-1==h;break;case 3:h=0==h||-1==h;break;case 4:h=1==h;break;case 5:h=0==h||1==h;break;default:h=!1}if(h){switch(null==(R=g)&&(R=!1),null==(h=m)&&(h=0),R&&(255&a?255&~a&&(Kl.a16=Kl.__alpha16[255&a],a=((a>>>24&255)*Kl.a16>>16&255)<<24|((a>>>16&255)*Kl.a16>>16&255)<<16|((a>>>8&255)*Kl.a16>>16&255)<<8|255&a):0!=a&&(a=0)),h){case 0:c[f]=a>>>24&255,c[f+1]=a>>>16&255,c[f+2]=a>>>8&255,c[f+3]=255&a;break;case 1:c[f]=255&a,c[f+1]=a>>>24&255,c[f+2]=a>>>16&255,c[f+3]=a>>>8&255;break;case 2:c[f]=a>>>8&255,c[f+1]=a>>>16&255,c[f+2]=a>>>24&255,c[f+3]=255&a}++u}else if(l)switch(h=m,R=g,null==R&&(R=!1),null==h&&(h=0),R&&(255&y?!!(255&~y)&&(Kl.a16=Kl.__alpha16[255&y],y=((y>>>24&255)*Kl.a16>>16&255)<<24|((y>>>16&255)*Kl.a16>>16&255)<<16|((y>>>8&255)*Kl.a16>>16&255)<<8|255&y):0!=y&&(y=0)),h){case 0:c[f]=y>>>24&255,c[f+1]=y>>>16&255,c[f+2]=y>>>8&255,c[f+3]=255&y;break;case 1:c[f]=255&y,c[f+1]=y>>>24&255,c[f+2]=y>>>16&255,c[f+3]=y>>>8&255;break;case 2:c[f]=y>>>8&255,c[f+1]=y>>>16&255,c[f+2]=y>>>24&255,c[f+3]=255&y}p+=4,f+=4}}return 0<u&&(t.dirty=!0,t.version++),u},Go.unmultiplyAlpha=function(t){var e=t.buffer.data;if(null!=e){for(var i=t.buffer.format,s=0,n=0,r=e.length/4|0;n<r;){var a=n++,o=4*a,l=i,h=!0;switch(null==h&&(h=!1),null==l&&(l=0),l){case 0:s=(255&e[o])<<24|(255&e[o+1])<<16|(255&e[o+2])<<8|255&e[o+3];break;case 1:s=(255&e[o+1])<<24|(255&e[o+2])<<16|(255&e[o+3])<<8|255&e[o];break;case 2:s=(255&e[o+2])<<24|(255&e[o+1])<<16|(255&e[o])<<8|255&e[o+3]}switch(h&&255&s&&255&~s&&(Kl.unmult=255/(255&s),s=(255&Kl.__clamp[Math.round((s>>>24&255)*Kl.unmult)])<<24|(255&Kl.__clamp[Math.round((s>>>16&255)*Kl.unmult)])<<16|(255&Kl.__clamp[Math.round((s>>>8&255)*Kl.unmult)])<<8|255&s),a*=4,null==(l=!1)&&(l=!1),null==(o=i)&&(o=0),l&&(255&s?255&~s&&(Kl.a16=Kl.__alpha16[255&s],s=((s>>>24&255)*Kl.a16>>16&255)<<24|((s>>>16&255)*Kl.a16>>16&255)<<16|((s>>>8&255)*Kl.a16>>16&255)<<8|255&s):0!=s&&(s=0)),o){case 0:e[a]=s>>>24&255,e[a+1]=s>>>16&255,e[a+2]=s>>>8&255,e[a+3]=255&s;break;case 1:e[a]=255&s,e[a+1]=s>>>24&255,e[a+2]=s>>>16&255,e[a+3]=s>>>8&255;break;case 2:e[a]=s>>>8&255,e[a+1]=s>>>16&255,e[a+2]=s>>>24&255,e[a+3]=255&s}}t.buffer.premultiplied=!1,t.dirty=!0,t.version++}},Go.__boxBlur=function(t,e,i,s,n,r){e.set(t),n|=0,r|=0,Go.__boxBlurH(e,t,i,s,n,0),Go.__boxBlurH(e,t,i,s,n,1),Go.__boxBlurH(e,t,i,s,n,2),Go.__boxBlurH(e,t,i,s,n,3),n=1/(r+r+1);for(var a,o,l,h,_,c,u=4*i,d=0,m=i;d<m;){a=d++,o=a*=4,l=a+r*u,h=t[a],_=t[a+u*(s-1)],c=(r+1)*h;for(var p=0,f=r;p<f;){var g=p++;c+=t[a+g*u]}for(p=0,f=r+1;p<f;)p++,c+=t[l]-h,e[a]=Math.round(S.toFloat(c)*n),l+=u,a+=u;for(h=r+1,p=s-r;h<p;)h++,c+=t[l]-t[o],e[a]=Math.round(S.toFloat(c)*n),o+=u,l+=u,a+=u;for(l=s-r,h=s;l<h;)l++,c+=_-t[o],e[a]=Math.round(S.toFloat(c)*n),o+=u,a+=u}for(n=1/(r+r+1),u=4*i,d=0,m=i;d<m;){for(o=a=4*(a=d++)+1,l=a+r*u,h=t[a],_=t[a+u*(s-1)],c=(r+1)*h,p=0,f=r;p<f;)c+=t[a+(g=p++)*u];for(p=0,f=r+1;p<f;)p++,c+=t[l]-h,e[a]=Math.round(S.toFloat(c)*n),l+=u,a+=u;for(h=r+1,p=s-r;h<p;)h++,c+=t[l]-t[o],e[a]=Math.round(S.toFloat(c)*n),o+=u,l+=u,a+=u;for(l=s-r,h=s;l<h;)l++,c+=_-t[o],e[a]=Math.round(S.toFloat(c)*n),o+=u,a+=u}for(n=1/(r+r+1),u=4*i,d=0,m=i;d<m;){for(o=a=4*(a=d++)+2,l=a+r*u,h=t[a],_=t[a+u*(s-1)],c=(r+1)*h,p=0,f=r;p<f;)c+=t[a+(g=p++)*u];for(p=0,f=r+1;p<f;)p++,c+=t[l]-h,e[a]=Math.round(S.toFloat(c)*n),l+=u,a+=u;for(h=r+1,p=s-r;h<p;)h++,c+=t[l]-t[o],e[a]=Math.round(S.toFloat(c)*n),o+=u,l+=u,a+=u;for(l=s-r,h=s;l<h;)l++,c+=_-t[o],e[a]=Math.round(S.toFloat(c)*n),o+=u,a+=u}for(n=1/(r+r+1),u=4*i,d=0,m=i;d<m;){for(o=a=4*(a=d++)+3,l=a+r*u,h=t[a],_=t[a+u*(s-1)],c=(r+1)*h,p=0,f=r;p<f;)c+=t[a+(g=p++)*u];for(p=0,f=r+1;p<f;)p++,c+=t[l]-h,e[a]=Math.round(S.toFloat(c)*n),l+=u,a+=u;for(h=r+1,p=s-r;h<p;)h++,c+=t[l]-t[o],e[a]=Math.round(S.toFloat(c)*n),o+=u,l+=u,a+=u;for(l=s-r,h=s;l<h;)l++,c+=_-t[o],e[a]=Math.round(S.toFloat(c)*n),o+=u,a+=u}},Go.__boxBlurH=function(t,e,i,s,n,r){for(var a,o,l,h,_,c,u=1/(n+n+1),d=0;d<s;){o=a=d++*i,l=a+n,h=t[4*a+r],_=t[4*(a+i-1)+r],c=(n+1)*h;for(var m=0,p=n;m<p;)c+=t[4*(a+m++)+r];for(m=0,p=n+1;m<p;)m++,c+=t[4*l+r]-h,e[4*a+r]=Math.round(S.toFloat(c)*u),++l,++a;for(h=n+1,m=i-n;h<m;)h++,c+=t[4*l+r]-t[4*o+r],e[4*a+r]=Math.round(S.toFloat(c)*u),++l,++o,++a;for(l=i-n,h=i;l<h;)l++,c+=_-t[4*o+r],e[4*a+r]=Math.round(S.toFloat(c)*u),++o,++a}},Go.__boxBlurT=function(t,e,i,s,n,r){for(var a,o,l,h,_,c,u=1/(n+n+1),d=4*i,m=0;m<i;){o=a=4*m+++r,l=a+n*d,h=t[a],_=t[a+d*(s-1)],c=(n+1)*h;for(var p=0,f=n;p<f;)c+=t[a+p++*d];for(p=0,f=n+1;p<f;)p++,c+=t[l]-h,e[a]=Math.round(S.toFloat(c)*u),l+=d,a+=d;for(h=n+1,p=s-n;h<p;)h++,c+=t[l]-t[o],e[a]=Math.round(S.toFloat(c)*u),o+=d,l+=d,a+=d;for(l=s-n,h=s;l<h;)l++,c+=_-t[o],e[a]=Math.round(S.toFloat(c)*u),o+=d,a+=d}},Go.__calculateSourceOffset=function(t,e,i,s){return i-=0|e.x,e=s-(0|e.y),0>i||0>e||i>=t.width||e>=t.height?-1:4*(e*(0|t.width)+i)},Go.__getBoxesForGaussianBlur=function(t,e){var i=Math.floor(Math.sqrt(12*t*t/e+1));0==i%2&&--i;var s=i+2;t=Math.round((12*t*t-e*i*i-4*e*i-3*e)/(-4*i-4));for(var n=[],r=0;r<e;){var a=r++;n.push(a<t?i:s)}return n},Go.__pixelCompare=function(t,e){var i=t>>>24&255,s=e>>>24&255;return i!=s||(i=t>>>16&255)!=(s=e>>>16&255)||(i=t>>>8&255)!=(s=e>>>8&255)||(i=255&t)!=(s=255&e)?S.gt(i,s)?1:-1:0},Go.__translatePixel=function(t,e,i,s,n,r,a){i=4*(r*(0|i.width)+n),0>(e=Go.__calculateSourceOffset(e,s,n,r))?t[i]=t[i+1]=t[i+2]=t[i+3]=0:(t[i]=t[e],t[i+1]=t[e+1],t[i+2]=t[e+2],a=S.toFloat(t[e+3])*a|0,t[i+3]=0>a?0:255<a?255:a)};var Uo=function(t,e){this.image=t,null==e?this.rect=t.get_rect():(0>e.x&&(e.x=0),0>e.y&&(e.y=0),e.x+e.width>t.width&&(e.width=t.width-e.x),e.y+e.height>t.height&&(e.height=t.height-e.y),0>e.width&&(e.width=0),0>e.height&&(e.height=0),this.rect=e),this.stride=t.buffer.get_stride(),this.__update()};r["lime._internal.graphics._ImageDataUtil.ImageDataView"]=Uo,Uo.__name__="lime._internal.graphics._ImageDataUtil.ImageDataView",Uo.prototype={x:null,y:null,height:null,width:null,byteOffset:null,image:null,rect:null,stride:null,tempRect:null,clip:function(t,e,i,s){null==this.tempRect&&(this.tempRect=new Jl),this.tempRect.setTo(t,e,i,s),this.rect.intersection(this.tempRect,this.rect),this.__update()},hasRow:function(t){return 0<=t&&t<this.height},offset:function(t,e){0>t?(this.rect.x+=t,0>this.rect.x&&(this.rect.x=0)):(this.rect.x+=t,this.rect.width-=t),0>e?(this.rect.y+=e,0>this.rect.y&&(this.rect.y=0)):(this.rect.y+=e,this.rect.height-=e),this.__update()},row:function(t){return this.byteOffset+this.stride*t},__update:function(){this.x=Math.ceil(this.rect.x),this.y=Math.ceil(this.rect.y),this.width=Math.floor(this.rect.width),this.height=Math.floor(this.rect.height),this.byteOffset=this.stride*(this.y+this.image.offsetY)+4*(this.x+this.image.offsetX)},__class__:Uo};var zo=function(){};r["lime._internal.graphics.StackBlur"]=zo,zo.__name__="lime._internal.graphics.StackBlur",zo.blur=function(t,e,i,s,n,r,a){t.copyPixels(e,i,s),zo.__stackBlurCanvasRGBA(t,0|i.width,0|i.height,n,r,a)},zo.__stackBlurCanvasRGBA=function(t,e,i,s,n,r){if(s=Math.round(s)>>1,n=Math.round(n)>>1,null!=zo.MUL_TABLE&&(s>=zo.MUL_TABLE.length&&(s=zo.MUL_TABLE.length-1),n>=zo.MUL_TABLE.length&&(n=zo.MUL_TABLE.length-1),!(0>s||0>n))){1>r&&(r=1),3<r&&(r=3),t=t.get_data();for(var a,o,l=s+s+1,h=n+n+1,_=e-1,c=i-1,u=s+1,d=n+1,m=new Ho,p=m,f=1,g=l;f<g;)f++,p=p.n=new Ho;p.n=m;var y=l=new Ho;for(f=1,g=h;f<g;)f++,y=y.n=new Ho;y.n=l;for(var b=zo.MUL_TABLE[s],v=zo.SHG_TABLE[s],x=zo.MUL_TABLE[n],w=zo.SHG_TABLE[n];0<r;){--r;var R=o=0,S=b,A=v;for(a=i;;){var T=t[o];h=u*T;var M=t[o+1],P=u*M,C=t[o+2],I=u*C,k=u*(f=t[o+3]);for(p=m,y=u;p.r=T,p.g=M,p.b=C,p.a=f,p=p.n,-1<--y;);for(f=1,g=u;f<g;)y=o+((_<(y=f++)?_:y)<<2),h+=p.r=t[y],P+=p.g=t[y+1],I+=p.b=t[y+2],k+=p.a=t[y+3],p=p.n;for(g=m,p=0,f=e;p<f;)y=p++,t[o++]=h*S>>>A,t[o++]=P*S>>>A,t[o++]=I*S>>>A,t[o++]=k*S>>>A,y=R+((y=y+s+1)<_?y:_)<<2,h-=g.r-(g.r=t[y]),P-=g.g-(g.g=t[y+1]),I-=g.b-(g.b=t[y+2]),k-=g.a-(g.a=t[y+3]),g=g.n;if(R+=e,!(0<--a))break}for(S=x,A=w,a=0,R=e;a<R;){for(h=d*(T=t[o=(p=a++)<<2]),P=d*(M=t[o+1]),I=d*(C=t[o+2]),k=d*(f=t[o+3]),y=l,o=0,g=d;o<g;)o++,y.r=T,y.g=M,y.b=C,y.a=f,y=y.n;for(f=e,g=1,T=n+1;g<T;)M=g++,o=f+p<<2,h+=y.r=t[o],P+=y.g=t[o+1],I+=y.b=t[o+2],k+=y.a=t[o+3],y=y.n,M<c&&(f+=e);if(o=p,g=l,0<r)for(T=0,M=i;T<M;)C=T++,f=k*S>>>A,t[3+(y=o<<2)]=f,0<f?(t[y]=h*S>>>A,t[y+1]=P*S>>>A,t[y+2]=I*S>>>A):t[y]=t[y+1]=t[y+2]=0,y=p+((y=C+d)<c?y:c)*e<<2,h-=g.r-(g.r=t[y]),P-=g.g-(g.g=t[y+1]),I-=g.b-(g.b=t[y+2]),k-=g.a-(g.a=t[y+3]),g=g.n,o+=e;else for(var E=0,F=i;E<F;){var B=E++;f=k*S>>>A,t[3+(y=o<<2)]=f,0<f?(T=(h*S>>>A)*(f=255/f)|0,M=(P*S>>>A)*f|0,C=(I*S>>>A)*f|0,t[y]=255<T?255:T,t[y+1]=255<M?255:M,t[y+2]=255<C?255:C):t[y]=t[y+1]=t[y+2]=0,y=p+((y=B+d)<c?y:c)*e<<2,h-=g.r-(g.r=t[y]),P-=g.g-(g.g=t[y+1]),I-=g.b-(g.b=t[y+2]),k-=g.a-(g.a=t[y+3]),g=g.n,o+=e}}}}};var Ho=function(){this.a=this.b=this.g=this.r=0,this.n=null};r["lime._internal.graphics.BlurStack"]=Ho,Ho.__name__="lime._internal.graphics.BlurStack",Ho.prototype={r:null,g:null,b:null,a:null,n:null,__class__:Ho};var Wo=function(){};r["lime._internal.macros.AssetsMacro"]=Wo,Wo.__name__="lime._internal.macros.AssetsMacro";var Xo=function(t){this.i=0,this.string=t,this.index=0,this.endIndex=t.length};r["lime._internal.unifill.CodePointIter"]=Xo,Xo.__name__="lime._internal.unifill.CodePointIter",Xo.prototype={string:null,index:null,endIndex:null,hasNext:function(){return this.index<this.endIndex},i:null,next:function(){var t=this.i=this.index,e=this.string;return e=e.charCodeAt(this.index),this.index=t+(55296<=e&&56319>=e?2:1),e=this.string,$o.codePointAt(e,this.i)},__class__:Xo};var Yo=function(){};r["lime._internal.unifill.Exception"]=Yo,Yo.__name__="lime._internal.unifill.Exception",Yo.prototype={toString:function(){throw wa.thrown(null)},__class__:Yo};var jo=function(t){this.code=t};r["lime._internal.unifill.InvalidCodePoint"]=jo,jo.__name__="lime._internal.unifill.InvalidCodePoint",jo.__super__=Yo,jo.prototype=i(Yo.prototype,{code:null,toString:function(){return"InvalidCodePoint(code: "+this.code+")"},__class__:jo});var Ko=function(t){this.index=t};r["lime._internal.unifill.InvalidCodeUnitSequence"]=Ko,Ko.__name__="lime._internal.unifill.InvalidCodeUnitSequence",Ko.__super__=Yo,Ko.prototype=i(Yo.prototype,{index:null,toString:function(){return"InvalidCodeUnitSequence(index: "+this.index+")"},__class__:Ko});var Jo=function(){};r["lime._internal.unifill.InternalEncoding"]=Jo,Jo.__name__="lime._internal.unifill.InternalEncoding",Jo.__properties__={get_internalEncoding:"get_internalEncoding"},Jo.get_internalEncoding=function(){return"UTF-16"},Jo.codeUnitAt=function(t,e){return t.charCodeAt(e)},Jo.codePointAt=function(t,e){return $o.codePointAt(t,e)},Jo.charAt=function(t,e){var i=t.charCodeAt(e);return c.substr(t,e,55296<=i&&56319>=i?2:1)},Jo.codePointCount=function(t,e,i){return $o.codePointCount(t,e,i)},Jo.codePointWidthAt=function(t,e){return 55296<=(t=t.charCodeAt(e))&&56319>=t?2:1},Jo.codePointWidthBefore=function(t,e){return 56320<=(t=t.charCodeAt(e-1))&&57343>=t?2:1},Jo.offsetByCodePoints=function(t,e,i){if(0<=i)for(var s=t.length,n=0;n<i&&e<s;){var r=t.charCodeAt(e);e+=55296<=r&&56319>=r?2:1,++n}else for(s=0;s<-i&&0<e;)e-=56320<=(r=t.charCodeAt(e-1))&&57343>=r?2:1,++s;return e},Jo.backwardOffsetByCodePoints=function(t,e,i){if(0<=(i=-i))for(var s=t.length,n=0;n<i&&e<s;){var r=t.charCodeAt(e);e+=55296<=r&&56319>=r?2:1,++n}else for(s=0;s<-i&&0<e;)e-=56320<=(r=t.charCodeAt(e-1))&&57343>=r?2:1,++s;return e},Jo.fromCodePoint=function(t){return 65535>=t?String.fromCodePoint(t):String.fromCodePoint(55232+(t>>10))+String.fromCodePoint(1023&t|56320)},Jo.fromCodePoints=function(t){var e="";for(t=s(t);t.hasNext();){var i=t.next();65535>=i?e+=String.fromCodePoint(i):(e+=String.fromCodePoint(55232+(i>>10)),e+=String.fromCodePoint(1023&i|56320))}return e},Jo.validate=function(t){$o.validate(t)},Jo.isValidString=function(t){try{return $o.validate(t),!0}catch(t){if(Ma.lastError=t,wa.caught(t).unwrap()instanceof Ko)return!1;throw t}},Jo.encodeWith=function(t,e){65535>=e?t(e):(t(55232+(e>>10)),t(1023&e|56320))};var Zo=function(t,e,i){this.i=0,this.string=t,this.index=e,this.endIndex=i};r["lime._internal.unifill.InternalEncodingIter"]=Zo,Zo.__name__="lime._internal.unifill.InternalEncodingIter",Zo.prototype={string:null,index:null,endIndex:null,hasNext:function(){return this.index<this.endIndex},i:null,next:function(){var t=this.i=this.index,e=this.string.charCodeAt(this.index);return this.index=t+(55296<=e&&56319>=e?2:1),this.i},__class__:Zo};var Qo=function(){};r["lime._internal.unifill.Unicode"]=Qo,Qo.__name__="lime._internal.unifill.Unicode",Qo.decodeSurrogate=function(t,e){return t-55232<<10|1023&e},Qo.encodeHighSurrogate=function(t){return 55232+(t>>10)},Qo.encodeLowSurrogate=function(t){return 1023&t|56320},Qo.isScalar=function(t){return 0<=t&&1114111>=t&&!(55296<=t&&56319>=t)&&!(56320<=t&&57343>=t)},Qo.isHighSurrogate=function(t){return 55296<=t&&56319>=t},Qo.isLowSurrogate=function(t){return 56320<=t&&57343>=t};var qo=function(){};r["lime._internal.unifill.Unifill"]=qo,qo.__name__="lime._internal.unifill.Unifill",qo.uLength=function(t){return $o.codePointCount(t,0,t.length)},qo.uCharAt=function(t,e){var i=t;if(0<=e)for(var s=0,n=i.length,r=0;r<e&&s<n;){var a=i.charCodeAt(s);s+=55296<=a&&56319>=a?2:1,++r}else for(n=s=0;n<-e&&0<s;)s-=56320<=(a=i.charCodeAt(s-1))&&57343>=a?2:1,++n;return e=s,a=(i=t).charCodeAt(e),c.substr(i,e,55296<=a&&56319>=a?2:1)},qo.uCharCodeAt=function(t,e){var i=t;if(0<=e)for(var s=0,n=i.length,r=0;r<e&&s<n;){var a=i.charCodeAt(s);s+=55296<=a&&56319>=a?2:1,++r}else for(n=s=0;n<-e&&0<s;)s-=56320<=(a=i.charCodeAt(s-1))&&57343>=a?2:1,++n;return $o.codePointAt(t,s)},qo.uCodePointAt=function(t,e){var i=t;if(0<=e)for(var s=0,n=i.length,r=0;r<e&&s<n;){var a=i.charCodeAt(s);s+=55296<=a&&56319>=a?2:1,++r}else for(n=s=0;n<-e&&0<s;)s-=56320<=(a=i.charCodeAt(s-1))&&57343>=a?2:1,++n;return $o.codePointAt(t,s)},qo.uIndexOf=function(t,e,i){null==i&&(i=0);var s=t;if(0<=i)for(var n=0,r=s.length,a=0;a<i&&n<r;){var o=s.charCodeAt(n);n+=55296<=o&&56319>=o?2:1,++a}else for(r=n=0;r<-i&&0<n;)n-=56320<=(o=s.charCodeAt(n-1))&&57343>=o?2:1,++r;return 0<=(n=t.indexOf(e,n))?$o.codePointCount(t,0,n):-1},qo.uLastIndexOf=function(t,e,i){null==i&&(i=t.length-1);var s=t;if(0<=i)for(var n=0,r=s.length,a=0;a<i&&n<r;){var o=s.charCodeAt(n);n+=55296<=o&&56319>=o?2:1,++a}else for(r=n=0;r<-i&&0<n;)n-=56320<=(o=s.charCodeAt(n-1))&&57343>=o?2:1,++r;return 0<=(n=t.lastIndexOf(e,n))?$o.codePointCount(t,0,n):-1},qo.uSplit=function(t,e){if(0==e.length){e=[];for(var i,s=0,n=t.length;s<n;){i=s;var r=t.charCodeAt(s);s+=55296<=r&&56319>=r?2:1;var a=(r=t).charCodeAt(i);i=c.substr(r,i,55296<=a&&56319>=a?2:1),e.push(i)}return e}return t.split(e)},qo.uSubstr=function(t,e,i){var s=0<=e?0:t.length,n=t;if(0<=e)for(var r=n.length,a=0;a<e&&s<r;){var o=n.charCodeAt(s);s+=55296<=o&&56319>=o?2:1,++a}else for(r=0;r<-e&&0<s;)s-=56320<=(o=n.charCodeAt(s-1))&&57343>=o?2:1,++r;if(e=s,null==i)i=t.length;else if(0>i)i=e;else{if(n=t,0<=i)for(s=e,r=n.length,a=0;a<i&&s<r;)s+=55296<=(o=n.charCodeAt(s))&&56319>=o?2:1,++a;else for(s=e,r=0;r<-i&&0<s;)s-=56320<=(o=n.charCodeAt(s-1))&&57343>=o?2:1,++r;i=s}return t.substring(e,i)},qo.uSubstring=function(t,e,i){if(0>e)e=0;else{var s=t;if(0<=e)for(var n=0,r=s.length,a=0;a<e&&n<r;){var o=s.charCodeAt(n);n+=55296<=o&&56319>=o?2:1,++a}else for(r=n=0;r<-e&&0<n;)n-=56320<=(o=s.charCodeAt(n-1))&&57343>=o?2:1,++r;e=n}if(null==i)i=t.length;else if(0>i)i=0;else{if(s=t,0<=i)for(n=0,r=s.length,a=0;a<i&&n<r;)n+=55296<=(o=s.charCodeAt(n))&&56319>=o?2:1,++a;else for(r=n=0;r<-i&&0<n;)n-=56320<=(o=s.charCodeAt(n-1))&&57343>=o?2:1,++r;i=n}return t.substring(e,i)},qo.uIterator=function(t){return new Xo(t)},qo.uCompare=function(t,e){for(var i,s,n=0,r=t.length,a=0,o=e.length;n<r&&a<o;){i=n,n+=55296<=(s=t.charCodeAt(n))&&56319>=s?2:1,i=$o.codePointAt(t,i),s=a;var l=e.charCodeAt(a);if(a+=55296<=l&&56319>=l?2:1,i<(s=$o.codePointAt(e,s)))return-1;if(i>s)return 1}return a<o?-1:n<r?1:0},qo.uToString=function(t){var e="";for(t=s(t);t.hasNext();){var i=t.next();65535>=i?e+=String.fromCodePoint(i):(e+=String.fromCodePoint(55232+(i>>10)),e+=String.fromCodePoint(1023&i|56320))}return e},qo.uAddChar=function(t,e){65535>=e?t.b+=String.fromCodePoint(e):(t.b+=String.fromCodePoint(55232+(e>>10)),t.b+=String.fromCodePoint(1023&e|56320))};var $o={__properties__:{get_length:"get_length"},fromCodePoint:function(t){return 65535>=t?String.fromCodePoint(t):String.fromCodePoint(55232+(t>>10))+String.fromCodePoint(1023&t|56320)},fromCodePoints:function(t){var e="";for(t=s(t);t.hasNext();){var i=t.next();65535>=i?e+=String.fromCodePoint(i):(e+=String.fromCodePoint(55232+(i>>10)),e+=String.fromCodePoint(1023&i|56320))}return e},fromString:function(t){return t},fromArray:function(t){for(var e="",i=0;i<t.length;){var s=t[i];++i,e+=String.fromCodePoint(s)}return e},encodeWith:function(t,e){65535>=e?t(e):(t(55232+(e>>10)),t(1023&e|56320))},codeUnitAt:function(t,e){return t.charCodeAt(e)},codePointAt:function(t,e){return tl.decode_code_point(t.length,function(e){return t.charCodeAt(e)},e)},charAt:function(t,e){var i=t.charCodeAt(e);return c.substr(t,e,55296<=i&&56319>=i?2:1)},codePointCount:function(t,e,i){for(var s=0;e<i;){var n=t.charCodeAt(e);e+=55296<=n&&56319>=n?2:1,++s}return s},codePointWidthAt:function(t,e){return 55296<=(t=t.charCodeAt(e))&&56319>=t?2:1},codePointWidthBefore:function(t,e){return 56320<=(t=t.charCodeAt(e-1))&&57343>=t?2:1},offsetByCodePoints:function(t,e,i){if(0<=i)for(var s=t.length,n=0;n<i&&e<s;){var r=t.charCodeAt(e);e+=55296<=r&&56319>=r?2:1,++n}else for(s=0;s<-i&&0<e;)e-=56320<=(r=t.charCodeAt(e-1))&&57343>=r?2:1,++s;return e},substr:function(t,e,i){return c.substr(t,e,i)},validate:function(t){for(var e=t.length,i=function(e){return t.charCodeAt(e)},s=0;s<e;){tl.decode_code_point(e,i,s);var n=t.charCodeAt(s);s+=55296<=n&&56319>=n?2:1}},toString:function(t){return t},toArray:function(t){for(var e=0,i=t.length,s=[];e<i;)s.push(t.charCodeAt(e++));return s},_new:function(t){return t},get_length:function(t){return t.length},forward_offset_by_code_points:function(t,e,i){for(var s=t.length,n=0;n<i&&e<s;){var r=t.charCodeAt(e);e+=55296<=r&&56319>=r?2:1,++n}return e},backward_offset_by_code_points:function(t,e,i){for(var s=0;s<i&&0<e;){var n=t.charCodeAt(e-1);e-=56320<=n&&57343>=n?2:1,++s}return e}},tl=function(){};r["lime._internal.unifill._Utf16.Utf16Impl"]=tl,tl.__name__="lime._internal.unifill._Utf16.Utf16Impl",tl.code_point_width=function(t){return 55296<=t&&56319>=t?2:1},tl.find_prev_code_point=function(t,e){return 56320<=(t=t(e-1))&&57343>=t?2:1},tl.encode_code_point=function(t,e){65535>=e?t(e):(t(55232+(e>>10)),t(1023&e|56320))},tl.decode_code_point=function(t,e,i){if(0>i||t<=i)throw wa.thrown(new Ko(i));var s=e(i);if(55296<=s&&56319>=s){if(0>i+1||t<=i+1)throw wa.thrown(new Ko(i));if(56320<=(t=e(i+1))&&57343>=t)return s-55232<<10|1023&t;throw wa.thrown(new Ko(i))}if(56320<=s&&57343>=s)throw wa.thrown(new Ko(i));return s};var el=function(){};r["lime.app.IModule"]=el,el.__name__="lime.app.IModule",el.__isInterface__=!0,el.prototype={__registerLimeModule:null,__unregisterLimeModule:null,__class__:el};var il=function(){this.onExit=new gl};r["lime.app.Module"]=il,il.__name__="lime.app.Module",il.__interfaces__=[el],il.prototype={onExit:null,__registerLimeModule:function(t){},__unregisterLimeModule:function(t){},__class__:il};var sl=function(){this.onCreateWindow=new Cl,this.onUpdate=new gl,this.onExit=new gl,null==sl.current&&(sl.current=this),this.meta=new pr,this.modules=[],this.__windowByID=new fr,this.__windows=[],this.__backend=new Ro(this),this.__registerLimeModule(this),this.__preloader=new p_,this.__preloader.onProgress.add(n(this,this.onPreloadProgress)),this.__preloader.onComplete.add(n(this,this.onPreloadComplete))};r["lime.app.Application"]=sl,sl.__name__="lime.app.Application",sl.__super__=il,sl.prototype=i(il.prototype,{meta:null,modules:null,onUpdate:null,onCreateWindow:null,preloader:null,window:null,windows:null,__backend:null,__preloader:null,__window:null,__windowByID:null,__windows:null,addModule:function(t){t.__registerLimeModule(this),this.modules.push(t)},createWindow:function(t){return t=this.__createWindow(t),this.__addWindow(t),t},exec:function(){return sl.current=this,this.__backend.exec()},onGamepadAxisMove:function(t,e,i){},onGamepadButtonDown:function(t,e){},onGamepadButtonUp:function(t,e){},onGamepadConnect:function(t){},onGamepadDisconnect:function(t){},onJoystickAxisMove:function(t,e,i){},onJoystickButtonDown:function(t,e){},onJoystickButtonUp:function(t,e){},onJoystickConnect:function(t){},onJoystickDisconnect:function(t){},onJoystickHatMove:function(t,e,i){},onJoystickTrackballMove:function(t,e,i,s){},onKeyDown:function(t,e){},onKeyUp:function(t,e){},onModuleExit:function(t){},onMouseDown:function(t,e,i){},onMouseMove:function(t,e){},onMouseMoveRelative:function(t,e){},onMouseUp:function(t,e,i){},onMouseWheel:function(t,e,i){},onPreloadComplete:function(){},onPreloadProgress:function(t,e){},onRenderContextLost:function(){},onRenderContextRestored:function(t){},onTextEdit:function(t,e,i){},onTextInput:function(t){},onTouchCancel:function(t){},onTouchEnd:function(t){},onTouchMove:function(t){},onTouchStart:function(t){},onWindowActivate:function(){},onWindowClose:function(){},onWindowCreate:function(){},onWindowDeactivate:function(){},onWindowDropFile:function(t){},onWindowEnter:function(){},onWindowExpose:function(){},onWindowFocusIn:function(){},onWindowFocusOut:function(){},onWindowFullscreen:function(){},onWindowLeave:function(){},onWindowMove:function(t,e){},onWindowMinimize:function(){},onWindowResize:function(t,e){},onWindowRestore:function(){},removeModule:function(t){null!=t&&(t.__unregisterLimeModule(this),c.remove(this.modules,t))},render:function(t){},update:function(t){},__addWindow:function(t){if(null!=t){this.__windows.push(t),this.__windowByID.h[t.id]=t;var e=n(this,this.__onWindowClose);t.onClose.add(function(){e(t)},!1,-1e4),null==this.__window&&(this.__window=t,t.onActivate.add(n(this,this.onWindowActivate)),t.onRenderContextLost.add(n(this,this.onRenderContextLost)),t.onRenderContextRestored.add(n(this,this.onRenderContextRestored)),t.onDeactivate.add(n(this,this.onWindowDeactivate)),t.onDropFile.add(n(this,this.onWindowDropFile)),t.onEnter.add(n(this,this.onWindowEnter)),t.onExpose.add(n(this,this.onWindowExpose)),t.onFocusIn.add(n(this,this.onWindowFocusIn)),t.onFocusOut.add(n(this,this.onWindowFocusOut)),t.onFullscreen.add(n(this,this.onWindowFullscreen)),t.onKeyDown.add(n(this,this.onKeyDown)),t.onKeyUp.add(n(this,this.onKeyUp)),t.onLeave.add(n(this,this.onWindowLeave)),t.onMinimize.add(n(this,this.onWindowMinimize)),t.onMouseDown.add(n(this,this.onMouseDown)),t.onMouseMove.add(n(this,this.onMouseMove)),t.onMouseMoveRelative.add(n(this,this.onMouseMoveRelative)),t.onMouseUp.add(n(this,this.onMouseUp)),t.onMouseWheel.add(n(this,this.onMouseWheel)),t.onMove.add(n(this,this.onWindowMove)),t.onRender.add(n(this,this.render)),t.onResize.add(n(this,this.onWindowResize)),t.onRestore.add(n(this,this.onWindowRestore)),t.onTextEdit.add(n(this,this.onTextEdit)),t.onTextInput.add(n(this,this.onTextInput)),this.onWindowCreate()),this.onCreateWindow.dispatch(t)}},__createWindow:function(t){return-1==(t=new $h(this,t)).id?null:t},__registerLimeModule:function(t){for(t.onUpdate.add(n(this,this.update)),t.onExit.add(n(this,this.onModuleExit),!1,0),t.onExit.add(n(this,this.__onModuleExit),!1,0),t=jh.devices.iterator();t.hasNext();){var e=t.next();this.__onGamepadConnect(e)}for(jh.onConnect.add(n(this,this.__onGamepadConnect)),t=Kh.devices.iterator();t.hasNext();)e=t.next(),this.__onJoystickConnect(e);Kh.onConnect.add(n(this,this.__onJoystickConnect)),qh.onCancel.add(n(this,this.onTouchCancel)),qh.onStart.add(n(this,this.onTouchStart)),qh.onMove.add(n(this,this.onTouchMove)),qh.onEnd.add(n(this,this.onTouchEnd))},__removeWindow:function(t){null!=t&&this.__windowByID.h.hasOwnProperty(t.id)&&(this.__window==t&&(this.__window=null),c.remove(this.__windows,t),this.__windowByID.remove(t.id),t.close(),0==this.__windows.length&&Bh.exit(0))},__onGamepadConnect:function(t){this.onGamepadConnect(t);var e=n(this,this.onGamepadAxisMove),i=function(i,s){e(t,i,s)};t.onAxisMove.add(i);var s=n(this,this.onGamepadButtonDown);i=function(e){s(t,e)},t.onButtonDown.add(i);var r=n(this,this.onGamepadButtonUp);i=function(e){r(t,e)},t.onButtonUp.add(i);var a=n(this,this.onGamepadDisconnect);t.onDisconnect.add(function(){a(t)})},__onJoystickConnect:function(t){this.onJoystickConnect(t);var e=n(this,this.onJoystickAxisMove),i=function(i,s){e(t,i,s)};t.onAxisMove.add(i);var s=n(this,this.onJoystickButtonDown);i=function(e){s(t,e)},t.onButtonDown.add(i);var r=n(this,this.onJoystickButtonUp);i=function(e){r(t,e)},t.onButtonUp.add(i);var a=n(this,this.onJoystickDisconnect);t.onDisconnect.add(function(){a(t)});var o=n(this,this.onJoystickHatMove);i=function(e,i){o(t,e,i)},t.onHatMove.add(i);var l=n(this,this.onJoystickTrackballMove);i=function(e,i,s){l(t,e,i,s)},t.onTrackballMove.add(i)},__onModuleExit:function(t){this.__backend.exit()},__onWindowClose:function(t){this.__window==t&&this.onWindowClose(),this.__removeWindow(t)},__unregisterLimeModule:function(t){t.onUpdate.remove(n(this,this.update)),t.onExit.remove(n(this,this.__onModuleExit)),t.onExit.remove(n(this,this.onModuleExit)),jh.onConnect.remove(n(this,this.__onGamepadConnect)),Kh.onConnect.remove(n(this,this.__onJoystickConnect)),qh.onCancel.remove(n(this,this.onTouchCancel)),qh.onStart.remove(n(this,this.onTouchStart)),qh.onMove.remove(n(this,this.onTouchMove)),qh.onEnd.remove(n(this,this.onTouchEnd)),this.onModuleExit(0)},get_preloader:function(){return this.__preloader},get_window:function(){return this.__window},get_windows:function(){return this.__windows},__class__:sl,__properties__:{get_windows:"get_windows",get_window:"get_window",get_preloader:"get_preloader"}});var nl=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};r["lime.app.Event"]=nl,nl.__name__="lime.app.Event",nl.prototype={canceled:null,__listeners:null,__repeat:null,__priorities:null,add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var s=0,n=this.__priorities.length;s<n;){var r=s++;if(i>this.__priorities[r])return this.__listeners.splice(r,0,t),this.__priorities.splice(r,0,i),void this.__repeat.splice(r,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},dispatch:null,has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var s=i[e];if(++e,f.compareMethods(s,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)f.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},removeAll:function(){var t=this.__listeners.length;this.__listeners.splice(0,t),this.__priorities.splice(0,t),this.__repeat.splice(0,t)},__class__:nl};var rl=function(t,e){if(null==e&&(e=!1),null!=t)if(e)(e=new ol).future=this,al.queue({promise:e,work:t});else try{this.value=t(),this.isComplete=!0}catch(t){Ma.lastError=t,this.error=wa.caught(t).unwrap(),this.isError=!0}};r["lime.app.Future"]=rl,rl.__name__="lime.app.Future",rl.ofEvents=function(t,e,i){var s=new ol;return t.add(function(t){s.complete(t)},!0),null!=e&&e.add(function(t){s.error(t)},!0),null!=i&&i.add(function(t,e){s.progress(t,e)},!0),s.future},rl.withError=function(t){var e=new rl;return e.isError=!0,e.error=t,e},rl.withValue=function(t){var e=new rl;return e.isComplete=!0,e.value=t,e},rl.prototype={error:null,isComplete:null,isError:null,value:null,__completeListeners:null,__errorListeners:null,__progressListeners:null,onComplete:function(t){return null!=t&&(this.isComplete?t(this.value):this.isError||(null==this.__completeListeners&&(this.__completeListeners=[]),this.__completeListeners.push(t))),this},onError:function(t){return null!=t&&(this.isError?t(this.error):this.isComplete||(null==this.__errorListeners&&(this.__errorListeners=[]),this.__errorListeners.push(t))),this},onProgress:function(t){return null!=t&&(null==this.__progressListeners&&(this.__progressListeners=[]),this.__progressListeners.push(t)),this},ready:function(t){return this.isComplete||this.isError||d_.warn("Cannot block thread in JavaScript",{fileName:"lime/app/Future.hx",lineNumber:208,className:"lime.app.Future",methodName:"ready"}),this},result:function(t){return null==t&&(t=-1),this.ready(t),this.isComplete?this.value:null},then:function(t){if(this.isComplete)return t(this.value);if(this.isError){var e=new rl;return e.isError=!0,e.error=this.error,e}var i=new ol;return this.onError(n(i,i.error)),this.onProgress(n(i,i.progress)),this.onComplete(function(e){(e=t(e)).onError(n(i,i.error)),e.onComplete(n(i,i.complete))}),i.future},__class__:rl};var al=function(){};r["lime.app._Future.FutureWork"]=al,al.__name__="lime.app._Future.FutureWork",al.queue=function(t){null==al.threadPool&&(al.threadPool=new Dh,al.threadPool.doWork.add(al.threadPool_doWork),al.threadPool.onComplete.add(al.threadPool_onComplete),al.threadPool.onError.add(al.threadPool_onError)),al.threadPool.queue(t)},al.threadPool_doWork=function(t){try{var e=t.work();al.threadPool.sendComplete({promise:t.promise,result:e})}catch(i){Ma.lastError=i,e=wa.caught(i).unwrap(),al.threadPool.sendError({promise:t.promise,error:e})}},al.threadPool_onComplete=function(t){t.promise.complete(t.result)},al.threadPool_onError=function(t){t.promise.error(t.error)};var ol=function(){this.future=new rl};r["lime.app.Promise"]=ol,ol.__name__="lime.app.Promise",ol.prototype={future:null,isComplete:null,isError:null,complete:function(t){if(!this.future.isError&&(this.future.isComplete=!0,this.future.value=t,null!=this.future.__completeListeners)){for(var e=0,i=this.future.__completeListeners;e<i.length;){var s=i[e];++e,s(t)}this.future.__completeListeners=null}return this},completeWith:function(t){return t.onComplete(n(this,this.complete)),t.onError(n(this,this.error)),t.onProgress(n(this,this.progress)),this},error:function(t){if(!this.future.isComplete&&(this.future.isError=!0,this.future.error=t,null!=this.future.__errorListeners)){for(var e=0,i=this.future.__errorListeners;e<i.length;){var s=i[e];++e,s(t)}this.future.__errorListeners=null}return this},progress:function(t,e){if(!this.future.isError&&!this.future.isComplete&&null!=this.future.__progressListeners)for(var i=0,s=this.future.__progressListeners;i<s.length;){var n=s[i];++i,n(t,e)}return this},get_isComplete:function(){return this.future.isComplete},get_isError:function(){return this.future.isError},__class__:ol,__properties__:{get_isError:"get_isError",get_isComplete:"get_isComplete"}};var ll=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};r["lime.app._Event_Dynamic_Void"]=ll,ll.__name__="lime.app._Event_Dynamic_Void",ll.prototype={canceled:null,__repeat:null,__priorities:null,add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var s=0,n=this.__priorities.length;s<n;){var r=s++;if(i>this.__priorities[r])return this.__listeners.splice(r,0,t),this.__priorities.splice(r,0,i),void this.__repeat.splice(r,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var s=i[e];if(++e,f.compareMethods(s,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)f.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},removeAll:function(){var t=this.__listeners.length;this.__listeners.splice(0,t),this.__priorities.splice(0,t),this.__repeat.splice(0,t)},__listeners:null,dispatch:function(t){this.canceled=!1;for(var e=this.__listeners,i=this.__repeat,s=0;s<e.length&&(e[s](t),i[s]?++s:this.remove(e[s]),!this.canceled););},__class__:ll};var hl=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};r["lime.app._Event_Float_Float_Float_Void"]=hl,hl.__name__="lime.app._Event_Float_Float_Float_Void",hl.prototype={canceled:null,__repeat:null,__priorities:null,add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var s=0,n=this.__priorities.length;s<n;){var r=s++;if(i>this.__priorities[r])return this.__listeners.splice(r,0,t),this.__priorities.splice(r,0,i),void this.__repeat.splice(r,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var s=i[e];if(++e,f.compareMethods(s,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)f.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},removeAll:function(){var t=this.__listeners.length;this.__listeners.splice(0,t),this.__priorities.splice(0,t),this.__repeat.splice(0,t)},__listeners:null,dispatch:function(t,e,i){this.canceled=!1;for(var s=this.__listeners,n=this.__repeat,r=0;r<s.length&&(s[r](t,e,i),n[r]?++r:this.remove(s[r]),!this.canceled););},__class__:hl};var _l=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};r["lime.app._Event_Float_Float_Int_Void"]=_l,_l.__name__="lime.app._Event_Float_Float_Int_Void",_l.prototype={canceled:null,__repeat:null,__priorities:null,add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var s=0,n=this.__priorities.length;s<n;){var r=s++;if(i>this.__priorities[r])return this.__listeners.splice(r,0,t),this.__priorities.splice(r,0,i),void this.__repeat.splice(r,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var s=i[e];if(++e,f.compareMethods(s,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)f.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},removeAll:function(){var t=this.__listeners.length;this.__listeners.splice(0,t),this.__priorities.splice(0,t),this.__repeat.splice(0,t)},__listeners:null,dispatch:function(t,e,i){this.canceled=!1;for(var s=this.__listeners,n=this.__repeat,r=0;r<s.length&&(s[r](t,e,i),n[r]?++r:this.remove(s[r]),!this.canceled););},__class__:_l};var cl=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};r["lime.app._Event_Float_Float_Void"]=cl,cl.__name__="lime.app._Event_Float_Float_Void",cl.prototype={canceled:null,__repeat:null,__priorities:null,add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var s=0,n=this.__priorities.length;s<n;){var r=s++;if(i>this.__priorities[r])return this.__listeners.splice(r,0,t),this.__priorities.splice(r,0,i),void this.__repeat.splice(r,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var s=i[e];if(++e,f.compareMethods(s,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)f.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},removeAll:function(){var t=this.__listeners.length;this.__listeners.splice(0,t),this.__priorities.splice(0,t),this.__repeat.splice(0,t)},__listeners:null,dispatch:function(t,e){this.canceled=!1;for(var i=this.__listeners,s=this.__repeat,n=0;n<i.length&&(i[n](t,e),s[n]?++n:this.remove(i[n]),!this.canceled););},__class__:cl};var ul=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};r["lime.app._Event_Float_Float_lime_ui_MouseButton_Void"]=ul,ul.__name__="lime.app._Event_Float_Float_lime_ui_MouseButton_Void",ul.prototype={canceled:null,__repeat:null,__priorities:null,add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var s=0,n=this.__priorities.length;s<n;){var r=s++;if(i>this.__priorities[r])return this.__listeners.splice(r,0,t),this.__priorities.splice(r,0,i),void this.__repeat.splice(r,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var s=i[e];if(++e,f.compareMethods(s,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)f.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},removeAll:function(){var t=this.__listeners.length;this.__listeners.splice(0,t),this.__priorities.splice(0,t),this.__repeat.splice(0,t)},__listeners:null,dispatch:function(t,e,i){this.canceled=!1;for(var s=this.__listeners,n=this.__repeat,r=0;r<s.length&&(s[r](t,e,i),n[r]?++r:this.remove(s[r]),!this.canceled););},__class__:ul};var dl=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};r["lime.app._Event_Float_Float_lime_ui_MouseWheelMode_Void"]=dl,dl.__name__="lime.app._Event_Float_Float_lime_ui_MouseWheelMode_Void",dl.prototype={canceled:null,__repeat:null,__priorities:null,add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var s=0,n=this.__priorities.length;s<n;){var r=s++;if(i>this.__priorities[r])return this.__listeners.splice(r,0,t),this.__priorities.splice(r,0,i),void this.__repeat.splice(r,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var s=i[e];if(++e,f.compareMethods(s,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)f.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},removeAll:function(){var t=this.__listeners.length;this.__listeners.splice(0,t),this.__priorities.splice(0,t),this.__repeat.splice(0,t)},__listeners:null,dispatch:function(t,e,i){this.canceled=!1;for(var s=this.__listeners,n=this.__repeat,r=0;r<s.length&&(s[r](t,e,i),n[r]?++r:this.remove(s[r]),!this.canceled););},__class__:dl};var ml=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};r["lime.app._Event_Int_Float_Float_Void"]=ml,ml.__name__="lime.app._Event_Int_Float_Float_Void",ml.prototype={canceled:null,__repeat:null,__priorities:null,add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var s=0,n=this.__priorities.length;s<n;){var r=s++;if(i>this.__priorities[r])return this.__listeners.splice(r,0,t),this.__priorities.splice(r,0,i),void this.__repeat.splice(r,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var s=i[e];if(++e,f.compareMethods(s,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)f.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},removeAll:function(){var t=this.__listeners.length;this.__listeners.splice(0,t),this.__priorities.splice(0,t),this.__repeat.splice(0,t)},__listeners:null,dispatch:function(t,e,i){this.canceled=!1;for(var s=this.__listeners,n=this.__repeat,r=0;r<s.length&&(s[r](t,e,i),n[r]?++r:this.remove(s[r]),!this.canceled););},__class__:ml};var pl=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};r["lime.app._Event_Int_Float_Void"]=pl,pl.__name__="lime.app._Event_Int_Float_Void",pl.prototype={canceled:null,__repeat:null,__priorities:null,add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var s=0,n=this.__priorities.length;s<n;){var r=s++;if(i>this.__priorities[r])return this.__listeners.splice(r,0,t),this.__priorities.splice(r,0,i),void this.__repeat.splice(r,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var s=i[e];if(++e,f.compareMethods(s,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)f.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},removeAll:function(){var t=this.__listeners.length;this.__listeners.splice(0,t),this.__priorities.splice(0,t),this.__repeat.splice(0,t)},__listeners:null,dispatch:function(t,e){this.canceled=!1;for(var i=this.__listeners,s=this.__repeat,n=0;n<i.length&&(i[n](t,e),s[n]?++n:this.remove(i[n]),!this.canceled););},__class__:pl};var fl=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};r["lime.app._Event_Int_Int_Void"]=fl,fl.__name__="lime.app._Event_Int_Int_Void",fl.prototype={canceled:null,__repeat:null,__priorities:null,add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var s=0,n=this.__priorities.length;s<n;){var r=s++;if(i>this.__priorities[r])return this.__listeners.splice(r,0,t),this.__priorities.splice(r,0,i),void this.__repeat.splice(r,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var s=i[e];if(++e,f.compareMethods(s,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)f.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},removeAll:function(){var t=this.__listeners.length;this.__listeners.splice(0,t),this.__priorities.splice(0,t),this.__repeat.splice(0,t)},__listeners:null,dispatch:function(t,e){this.canceled=!1;for(var i=this.__listeners,s=this.__repeat,n=0;n<i.length&&(i[n](t,e),s[n]?++n:this.remove(i[n]),!this.canceled););},__class__:fl};var gl=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};r["lime.app._Event_Int_Void"]=gl,gl.__name__="lime.app._Event_Int_Void",gl.prototype={canceled:null,__repeat:null,__priorities:null,add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var s=0,n=this.__priorities.length;s<n;){var r=s++;if(i>this.__priorities[r])return this.__listeners.splice(r,0,t),this.__priorities.splice(r,0,i),void this.__repeat.splice(r,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var s=i[e];if(++e,f.compareMethods(s,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)f.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},removeAll:function(){var t=this.__listeners.length;this.__listeners.splice(0,t),this.__priorities.splice(0,t),this.__repeat.splice(0,t)},__listeners:null,dispatch:function(t){this.canceled=!1;for(var e=this.__listeners,i=this.__repeat,s=0;s<e.length&&(e[s](t),i[s]?++s:this.remove(e[s]),!this.canceled););},__class__:gl};var yl=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};r["lime.app._Event_Int_lime_ui_JoystickHatPosition_Void"]=yl,yl.__name__="lime.app._Event_Int_lime_ui_JoystickHatPosition_Void",yl.prototype={canceled:null,__repeat:null,__priorities:null,add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var s=0,n=this.__priorities.length;s<n;){var r=s++;if(i>this.__priorities[r])return this.__listeners.splice(r,0,t),this.__priorities.splice(r,0,i),void this.__repeat.splice(r,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var s=i[e];if(++e,f.compareMethods(s,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)f.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},removeAll:function(){var t=this.__listeners.length;this.__listeners.splice(0,t),this.__priorities.splice(0,t),this.__repeat.splice(0,t)},__listeners:null,dispatch:function(t,e){this.canceled=!1;for(var i=this.__listeners,s=this.__repeat,n=0;n<i.length&&(i[n](t,e),s[n]?++n:this.remove(i[n]),!this.canceled););},__class__:yl};var bl=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};r["lime.app._Event_String_Int_Int_Void"]=bl,bl.__name__="lime.app._Event_String_Int_Int_Void",bl.prototype={canceled:null,__repeat:null,__priorities:null,add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var s=0,n=this.__priorities.length;s<n;){var r=s++;if(i>this.__priorities[r])return this.__listeners.splice(r,0,t),this.__priorities.splice(r,0,i),void this.__repeat.splice(r,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var s=i[e];if(++e,f.compareMethods(s,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)f.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},removeAll:function(){var t=this.__listeners.length;this.__listeners.splice(0,t),this.__priorities.splice(0,t),this.__repeat.splice(0,t)},__listeners:null,dispatch:function(t,e,i){this.canceled=!1;for(var s=this.__listeners,n=this.__repeat,r=0;r<s.length&&(s[r](t,e,i),n[r]?++r:this.remove(s[r]),!this.canceled););},__class__:bl};var vl=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};r["lime.app._Event_String_Void"]=vl,vl.__name__="lime.app._Event_String_Void",vl.prototype={canceled:null,__repeat:null,__priorities:null,add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var s=0,n=this.__priorities.length;s<n;){var r=s++;if(i>this.__priorities[r])return this.__listeners.splice(r,0,t),this.__priorities.splice(r,0,i),void this.__repeat.splice(r,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var s=i[e];if(++e,f.compareMethods(s,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)f.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},removeAll:function(){var t=this.__listeners.length;this.__listeners.splice(0,t),this.__priorities.splice(0,t),this.__repeat.splice(0,t)},__listeners:null,dispatch:function(t){this.canceled=!1;for(var e=this.__listeners,i=this.__repeat,s=0;s<e.length&&(e[s](t),i[s]?++s:this.remove(e[s]),!this.canceled););},__class__:vl};var xl=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};r["lime.app._Event_Void_Void"]=xl,xl.__name__="lime.app._Event_Void_Void",xl.prototype={canceled:null,__repeat:null,__priorities:null,add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var s=0,n=this.__priorities.length;s<n;){var r=s++;if(i>this.__priorities[r])return this.__listeners.splice(r,0,t),this.__priorities.splice(r,0,i),void this.__repeat.splice(r,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var s=i[e];if(++e,f.compareMethods(s,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)f.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},removeAll:function(){var t=this.__listeners.length;this.__listeners.splice(0,t),this.__priorities.splice(0,t),this.__repeat.splice(0,t)},__listeners:null,dispatch:function(){this.canceled=!1;for(var t=this.__listeners,e=this.__repeat,i=0;i<t.length&&(t[i](),e[i]?++i:this.remove(t[i]),!this.canceled););},__class__:xl};var wl=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};r["lime.app._Event_lime_graphics_RenderContext_Void"]=wl,wl.__name__="lime.app._Event_lime_graphics_RenderContext_Void",wl.prototype={canceled:null,__repeat:null,__priorities:null,add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var s=0,n=this.__priorities.length;s<n;){var r=s++;if(i>this.__priorities[r])return this.__listeners.splice(r,0,t),this.__priorities.splice(r,0,i),void this.__repeat.splice(r,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var s=i[e];if(++e,f.compareMethods(s,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)f.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},removeAll:function(){var t=this.__listeners.length;this.__listeners.splice(0,t),this.__priorities.splice(0,t),this.__repeat.splice(0,t)},__listeners:null,dispatch:function(t){this.canceled=!1;for(var e=this.__listeners,i=this.__repeat,s=0;s<e.length&&(e[s](t),i[s]?++s:this.remove(e[s]),!this.canceled););},__class__:wl};var Sl=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};r["lime.app._Event_lime_ui_GamepadAxis_Float_Void"]=Sl,Sl.__name__="lime.app._Event_lime_ui_GamepadAxis_Float_Void",Sl.prototype={canceled:null,__repeat:null,__priorities:null,add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var s=0,n=this.__priorities.length;s<n;){var r=s++;if(i>this.__priorities[r])return this.__listeners.splice(r,0,t),this.__priorities.splice(r,0,i),void this.__repeat.splice(r,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var s=i[e];if(++e,f.compareMethods(s,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)f.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},removeAll:function(){var t=this.__listeners.length;this.__listeners.splice(0,t),this.__priorities.splice(0,t),this.__repeat.splice(0,t)},__listeners:null,dispatch:function(t,e){this.canceled=!1;for(var i=this.__listeners,s=this.__repeat,n=0;n<i.length&&(i[n](t,e),s[n]?++n:this.remove(i[n]),!this.canceled););},__class__:Sl};var Rl=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};r["lime.app._Event_lime_ui_GamepadButton_Void"]=Rl,Rl.__name__="lime.app._Event_lime_ui_GamepadButton_Void",Rl.prototype={canceled:null,__repeat:null,__priorities:null,add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var s=0,n=this.__priorities.length;s<n;){var r=s++;if(i>this.__priorities[r])return this.__listeners.splice(r,0,t),this.__priorities.splice(r,0,i),void this.__repeat.splice(r,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var s=i[e];if(++e,f.compareMethods(s,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)f.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},removeAll:function(){var t=this.__listeners.length;this.__listeners.splice(0,t),this.__priorities.splice(0,t),this.__repeat.splice(0,t)},__listeners:null,dispatch:function(t){this.canceled=!1;for(var e=this.__listeners,i=this.__repeat,s=0;s<e.length&&(e[s](t),i[s]?++s:this.remove(e[s]),!this.canceled););},__class__:Rl};var Al=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};r["lime.app._Event_lime_ui_Gamepad_Void"]=Al,Al.__name__="lime.app._Event_lime_ui_Gamepad_Void",Al.prototype={canceled:null,__repeat:null,__priorities:null,add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var s=0,n=this.__priorities.length;s<n;){var r=s++;if(i>this.__priorities[r])return this.__listeners.splice(r,0,t),this.__priorities.splice(r,0,i),void this.__repeat.splice(r,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var s=i[e];if(++e,f.compareMethods(s,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)f.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},removeAll:function(){var t=this.__listeners.length;this.__listeners.splice(0,t),this.__priorities.splice(0,t),this.__repeat.splice(0,t)},__listeners:null,dispatch:function(t){this.canceled=!1;for(var e=this.__listeners,i=this.__repeat,s=0;s<e.length&&(e[s](t),i[s]?++s:this.remove(e[s]),!this.canceled););},__class__:Al};var Tl=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};r["lime.app._Event_lime_ui_Joystick_Void"]=Tl,Tl.__name__="lime.app._Event_lime_ui_Joystick_Void",Tl.prototype={canceled:null,__repeat:null,__priorities:null,add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var s=0,n=this.__priorities.length;s<n;){var r=s++;if(i>this.__priorities[r])return this.__listeners.splice(r,0,t),this.__priorities.splice(r,0,i),void this.__repeat.splice(r,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var s=i[e];if(++e,f.compareMethods(s,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)f.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},removeAll:function(){var t=this.__listeners.length;this.__listeners.splice(0,t),this.__priorities.splice(0,t),this.__repeat.splice(0,t)},__listeners:null,dispatch:function(t){this.canceled=!1;for(var e=this.__listeners,i=this.__repeat,s=0;s<e.length&&(e[s](t),i[s]?++s:this.remove(e[s]),!this.canceled););},__class__:Tl};var Ml=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};r["lime.app._Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void"]=Ml,Ml.__name__="lime.app._Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void",Ml.prototype={canceled:null,__repeat:null,__priorities:null,add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var s=0,n=this.__priorities.length;s<n;){var r=s++;if(i>this.__priorities[r])return this.__listeners.splice(r,0,t),this.__priorities.splice(r,0,i),void this.__repeat.splice(r,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var s=i[e];if(++e,f.compareMethods(s,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)f.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},removeAll:function(){var t=this.__listeners.length;this.__listeners.splice(0,t),this.__priorities.splice(0,t),this.__repeat.splice(0,t)},__listeners:null,dispatch:function(t,e){this.canceled=!1;for(var i=this.__listeners,s=this.__repeat,n=0;n<i.length&&(i[n](t,e),s[n]?++n:this.remove(i[n]),!this.canceled););},__class__:Ml};var Pl=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};r["lime.app._Event_lime_ui_Touch_Void"]=Pl,Pl.__name__="lime.app._Event_lime_ui_Touch_Void",Pl.prototype={canceled:null,__repeat:null,__priorities:null,add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var s=0,n=this.__priorities.length;s<n;){var r=s++;if(i>this.__priorities[r])return this.__listeners.splice(r,0,t),this.__priorities.splice(r,0,i),void this.__repeat.splice(r,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var s=i[e];if(++e,f.compareMethods(s,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)f.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},removeAll:function(){var t=this.__listeners.length;this.__listeners.splice(0,t),this.__priorities.splice(0,t),this.__repeat.splice(0,t)},__listeners:null,dispatch:function(t){this.canceled=!1;for(var e=this.__listeners,i=this.__repeat,s=0;s<e.length&&(e[s](t),i[s]?++s:this.remove(e[s]),!this.canceled););},__class__:Pl};var Cl=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};r["lime.app._Event_lime_ui_Window_Void"]=Cl,Cl.__name__="lime.app._Event_lime_ui_Window_Void",Cl.prototype={canceled:null,__repeat:null,__priorities:null,add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var s=0,n=this.__priorities.length;s<n;){var r=s++;if(i>this.__priorities[r])return this.__listeners.splice(r,0,t),this.__priorities.splice(r,0,i),void this.__repeat.splice(r,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var s=i[e];if(++e,f.compareMethods(s,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)f.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},removeAll:function(){var t=this.__listeners.length;this.__listeners.splice(0,t),this.__priorities.splice(0,t),this.__repeat.splice(0,t)},__listeners:null,dispatch:function(t){this.canceled=!1;for(var e=this.__listeners,i=this.__repeat,s=0;s<e.length&&(e[s](t),i[s]?++s:this.remove(e[s]),!this.canceled););},__class__:Cl};var Il=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};r["lime.app._Event_ofEvents_T_Void"]=Il,Il.__name__="lime.app._Event_ofEvents_T_Void",Il.prototype={canceled:null,__repeat:null,__priorities:null,add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var s=0,n=this.__priorities.length;s<n;){var r=s++;if(i>this.__priorities[r])return this.__listeners.splice(r,0,t),this.__priorities.splice(r,0,i),void this.__repeat.splice(r,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var s=i[e];if(++e,f.compareMethods(s,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)f.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},removeAll:function(){var t=this.__listeners.length;this.__listeners.splice(0,t),this.__priorities.splice(0,t),this.__repeat.splice(0,t)},__listeners:null,dispatch:function(t){this.canceled=!1;for(var e=this.__listeners,i=this.__repeat,s=0;s<e.length&&(e[s](t),i[s]?++s:this.remove(e[s]),!this.canceled););},__class__:Il};var El=function(t,e,i,s,n,r,a){if(null==n&&(n=-1),null==s&&(s=-1),null==i&&(i=0),null==e&&(e=0),this.offsetX=e,this.offsetY=i,this.width=s,this.height=n,this.version=0,null==a&&(a=Dl.CANVAS),this.type=a,null==t){if(0<s&&0<n)switch(this.type._hx_index){case 0:this.buffer=new kl(null,s,n),Vo.createCanvas(this,s,n),null!=r&&0!=r&&this.fillRect(new Jl(0,0,s,n),r);break;case 1:t=null!=(t=s*n*4)?new Uint8Array(t):null,this.buffer=new kl(t,s,n),null!=r&&0!=r&&this.fillRect(new Jl(0,0,s,n),r)}}else this.__fromImageBuffer(t)};r["lime.graphics.Image"]=El,El.__name__="lime.graphics.Image",El.fromBase64=function(t,e){if(null==t)return null;var i=new El;return i.__fromBase64(t,e),i},El.fromBitmapData=function(t){return null==t?null:t.image},El.fromBytes=function(t){if(null==t)return null;var e=new El;return e.__fromBytes(t)?e:null},El.fromCanvas=function(t){if(null==t)return null;var e=new kl(null,t.width,t.height);return e.set_src(t),(t=new El(e)).type=Dl.CANVAS,t},El.fromFile=function(t){if(null==t)return null;var e=new El;return e.__fromFile(t)?e:null},El.fromImageElement=function(t){if(null==t)return null;var e=new kl(null,t.width,t.height);return e.set_src(t),(t=new El(e)).type=Dl.CANVAS,t},El.loadFromBase64=function(t,e){return null==t||null==e?rl.withValue(null):Mo.loadImage("data:"+e+";base64,"+t)},El.loadFromBytes=function(t){if(null==t)return rl.withValue(null);if(El.__isPNG(t))var e="image/png";else if(El.__isJPG(t))e="image/jpeg";else if(El.__isGIF(t))e="image/gif";else{if(!El.__isWebP(t))return rl.withValue(null);e="image/webp"}return Mo.loadImageFromBytes(t,e)},El.loadFromFile=function(t){return null==t?rl.withValue(null):Mo.loadImage(t)},El.__isGIF=function(t){return!(null==t||6>t.length||"GIF87a"!=(t=t.getString(0,6))&&"GIF89a"!=t)},El.__isJPG=function(t){return!(null==t||4>t.length)&&255==t.b[0]&&216==t.b[1]&&255==t.b[t.length-2]&&217==t.b[t.length-1]},El.__isPNG=function(t){return!(null==t||8>t.length)&&137==t.b[0]&&80==t.b[1]&&78==t.b[2]&&71==t.b[3]&&13==t.b[4]&&10==t.b[5]&&26==t.b[6]&&10==t.b[7]},El.__isWebP=function(t){return!(null==t||16>t.length)&&"RIFF"==t.getString(0,4)&&"WEBP"==t.getString(8,4)},El.prototype={buffer:null,dirty:null,height:null,offsetX:null,offsetY:null,rect:null,type:null,version:null,width:null,x:null,y:null,clone:function(){if(null!=this.buffer){this.type==Dl.CANVAS?Vo.convertToCanvas(this):Vo.convertToData(this);var t=new El(this.buffer.clone(),this.offsetX,this.offsetY,this.width,this.height,null,this.type);return t.version=this.version,t}return new El(null,this.offsetX,this.offsetY,this.width,this.height,null,this.type)},colorTransform:function(t,e){if(t=this.__clipRect(t),null!=this.buffer&&null!=t)switch(this.type._hx_index){case 0:Vo.colorTransform(this,t,e);break;case 1:Vo.convertToData(this),Go.colorTransform(this,t,e);break;case 2:t.offset(this.offsetX,this.offsetY),this.buffer.__srcBitmapData.colorTransform(t.__toFlashRectangle(),Yl.__toFlashColorTransform(e))}},copyChannel:function(t,e,i,s,n){if(e=this.__clipRect(e),null!=this.buffer&&null!=e&&!(n==Fl.ALPHA&&!this.get_transparent()||0>=e.width||0>=e.height))switch(e.x+e.width>t.width&&(e.width=t.width-e.x),e.y+e.height>t.height&&(e.height=t.height-e.y),this.type._hx_index){case 0:Vo.copyChannel(this,t,e,i,s,n);break;case 1:Vo.convertToData(this),Vo.convertToData(t),Go.copyChannel(this,t,e,i,s,n);break;case 2:switch(s._hx_index){case 0:var r=1;break;case 1:r=2;break;case 2:r=4;break;case 3:r=8}switch(n._hx_index){case 0:var a=1;break;case 1:a=2;break;case 2:a=4;break;case 3:a=8}e.offset(t.offsetX,t.offsetY),i.offset(this.offsetX,this.offsetY),this.buffer.__srcBitmapData.copyChannel(t.buffer.get_src(),e.__toFlashRectangle(),i.__toFlashPoint(),r,a)}},copyPixels:function(t,e,i,s,n,r){if(null==r&&(r=!1),null!=this.buffer&&null!=t&&!(0>=e.width||0>=e.height||0>=this.width||0>=this.height))switch(e.x+e.width>t.width&&(e.width=t.width-e.x),e.y+e.height>t.height&&(e.height=t.height-e.y),0>e.x&&(e.width+=e.x,e.x=0),0>e.y&&(e.height+=e.y,e.y=0),i.x+e.width>this.width&&(e.width=this.width-i.x),i.y+e.height>this.height&&(e.height=this.height-i.y),0>i.x&&(e.width+=i.x,e.x-=i.x,i.x=0),0>i.y&&(e.height+=i.y,e.y-=i.y,i.y=0),t==this&&i.x<e.get_right()&&i.y<e.get_bottom()&&(t=this.clone()),s==t&&(null==n||0==n.x&&0==n.y)&&(n=s=null),this.type._hx_index){case 0:null!=s?(Vo.convertToData(this),Vo.convertToData(t),null!=s&&Vo.convertToData(s),Go.copyPixels(this,t,e,i,s,n,r)):(Vo.convertToCanvas(this),Vo.convertToCanvas(t),Vo.copyPixels(this,t,e,i,s,n,r));break;case 1:Vo.convertToData(this),Vo.convertToData(t),null!=s&&Vo.convertToData(s),Go.copyPixels(this,t,e,i,s,n,r);break;case 2:e.offset(t.offsetX,t.offsetY),i.offset(this.offsetX,this.offsetY),null!=s&&null!=n&&n.offset(s.offsetX,s.offsetY),this.buffer.__srcBitmapData.copyPixels(t.buffer.__srcBitmapData,e.__toFlashRectangle(),i.__toFlashPoint(),null!=s?s.buffer.get_src():null,null!=n?n.__toFlashPoint():null,r)}},encode:function(t,e){if(null==e&&(e=90),null==t)return No.encode(this);switch(t._hx_index){case 0:return Io.encode(this);case 1:return Do.encode(this,e);case 2:return No.encode(this)}},fillRect:function(t,e,i){if(t=this.__clipRect(t),null!=this.buffer&&null!=t)switch(this.type._hx_index){case 0:Vo.fillRect(this,t,e,i);break;case 1:if(Vo.convertToData(this),0==this.buffer.data.length)break;Go.fillRect(this,t,e,i);break;case 2:if(t.offset(this.offsetX,this.offsetY),null==i)e=(255&e)<<24|(e>>>24&255)<<16|(e>>>16&255)<<8|e>>>8&255;else switch(i){case 1:break;case 2:e=(255&e)<<24|(e>>>8&255)<<16|(e>>>16&255)<<8|e>>>24&255;break;default:e=(255&e)<<24|(e>>>24&255)<<16|(e>>>16&255)<<8|e>>>8&255}this.buffer.__srcBitmapData.fillRect(t.__toFlashRectangle(),e)}},floodFill:function(t,e,i,s){if(null!=this.buffer)switch(this.type._hx_index){case 0:Vo.floodFill(this,t,e,i,s);break;case 1:Vo.convertToData(this),Go.floodFill(this,t,e,i,s);break;case 2:if(null==s)i=(255&i)<<24|(i>>>24&255)<<16|(i>>>16&255)<<8|i>>>8&255;else switch(s){case 1:break;case 2:i=(255&i)<<24|(i>>>8&255)<<16|(i>>>16&255)<<8|i>>>24&255;break;default:i=(255&i)<<24|(i>>>24&255)<<16|(i>>>16&255)<<8|i>>>8&255}this.buffer.__srcBitmapData.floodFill(t+this.offsetX,e+this.offsetY,i)}},getColorBoundsRect:function(t,e,i,s){if(null==i&&(i=!0),null==this.buffer)return null;switch(this.type._hx_index){case 0:return Vo.convertToData(this),Go.getColorBoundsRect(this,t,e,i,s);case 1:return Go.getColorBoundsRect(this,t,e,i,s);case 2:return t=this.buffer.__srcBitmapData.getColorBoundsRect(t,e,i),new Jl(t.x,t.y,t.width,t.height);default:return null}},getPixel:function(t,e,i){if(null==this.buffer||0>t||0>e||t>=this.width||e>=this.height)return 0;switch(this.type._hx_index){case 0:return Vo.getPixel(this,t,e,i);case 1:return Vo.convertToData(this),Go.getPixel(this,t,e,i);case 2:if(t=this.buffer.__srcBitmapData.getPixel(t+this.offsetX,e+this.offsetY),null==i)return(t>>>16&255)<<24|(t>>>8&255)<<16|(255&t)<<8|t>>>24&255;switch(i){case 1:return t;case 2:return(255&t)<<24|(t>>>8&255)<<16|(t>>>16&255)<<8|t>>>24&255;default:return(t>>>16&255)<<24|(t>>>8&255)<<16|(255&t)<<8|t>>>24&255}default:return 0}},getPixel32:function(t,e,i){if(null==this.buffer||0>t||0>e||t>=this.width||e>=this.height)return 0;switch(this.type._hx_index){case 0:return Vo.getPixel32(this,t,e,i);case 1:return Vo.convertToData(this),Go.getPixel32(this,t,e,i);case 2:if(t=this.buffer.__srcBitmapData.getPixel32(t+this.offsetX,e+this.offsetY),null==i)return(t>>>16&255)<<24|(t>>>8&255)<<16|(255&t)<<8|t>>>24&255;switch(i){case 1:return t;case 2:return(255&t)<<24|(t>>>8&255)<<16|(t>>>16&255)<<8|t>>>24&255;default:return(t>>>16&255)<<24|(t>>>8&255)<<16|(255&t)<<8|t>>>24&255}default:return 0}},getPixels:function(t,e){if(null==this.buffer)return null;switch(this.type._hx_index){case 0:return Vo.getPixels(this,t,e);case 1:return Vo.convertToData(this),Go.getPixels(this,t,e);default:return null}},merge:function(t,e,i,s,n,r,a){if(null!=this.buffer&&null!=t)switch(this.type._hx_index){case 0:Vo.convertToCanvas(this),Vo.merge(this,t,e,i,s,n,r,a);break;case 1:Vo.convertToData(this),Vo.convertToData(t),Go.merge(this,t,e,i,s,n,r,a);break;case 2:e.offset(this.offsetX,this.offsetY),this.buffer.__srcBitmapData.merge(t.buffer.__srcBitmapData,e.__toFlashRectangle(),i.__toFlashPoint(),s,n,r,a)}},resize:function(t,e){switch(this.type._hx_index){case 0:Vo.resize(this,t,e);break;case 1:Go.resize(this,t,e)}this.buffer.width=t,this.buffer.height=e,this.offsetY=this.offsetX=0,this.width=t,this.height=e},scroll:function(t,e){if(null!=this.buffer)switch(this.type._hx_index){case 0:Vo.scroll(this,t,e);break;case 1:this.copyPixels(this,this.get_rect(),new Zl(t,e));break;case 2:this.buffer.__srcBitmapData.scroll(t+this.offsetX,e+this.offsetX)}},setPixel:function(t,e,i,s){if(!(null==this.buffer||0>t||0>e||t>=this.width||e>=this.height))switch(this.type._hx_index){case 0:Vo.setPixel(this,t,e,i,s);break;case 1:Vo.convertToData(this),Go.setPixel(this,t,e,i,s);break;case 2:if(null==s)i=(255&i)<<24|(i>>>24&255)<<16|(i>>>16&255)<<8|i>>>8&255;else switch(s){case 1:break;case 2:i=(255&i)<<24|(i>>>8&255)<<16|(i>>>16&255)<<8|i>>>24&255;break;default:i=(255&i)<<24|(i>>>24&255)<<16|(i>>>16&255)<<8|i>>>8&255}this.buffer.__srcBitmapData.setPixel(t+this.offsetX,e+this.offsetX,i)}},setPixel32:function(t,e,i,s){if(!(null==this.buffer||0>t||0>e||t>=this.width||e>=this.height))switch(this.type._hx_index){case 0:Vo.setPixel32(this,t,e,i,s);break;case 1:Vo.convertToData(this),Go.setPixel32(this,t,e,i,s);break;case 2:if(null==s)i=(255&i)<<24|(i>>>24&255)<<16|(i>>>16&255)<<8|i>>>8&255;else switch(s){case 1:break;case 2:i=(255&i)<<24|(i>>>8&255)<<16|(i>>>16&255)<<8|i>>>24&255;break;default:i=(255&i)<<24|(i>>>24&255)<<16|(i>>>16&255)<<8|i>>>8&255}this.buffer.__srcBitmapData.setPixel32(t+this.offsetX,e+this.offsetY,i)}},setPixels:function(t,e,i,s){if(t=this.__clipRect(t),null!=this.buffer&&null!=t)switch(null==s&&(s=Rh.BIG_ENDIAN),this.type._hx_index){case 0:Vo.setPixels(this,t,e,i,s);break;case 1:Vo.convertToData(this),Go.setPixels(this,t,e,i,s)}},threshold:function(t,e,i,s,n,r,a,o,l){if(null==o&&(o=!1),null==a&&(a=-1),null==r&&(r=0),null==this.buffer||null==t||null==e)return 0;switch(this.type._hx_index){case 0:case 1:return Vo.convertToData(this),Vo.convertToData(t),Go.threshold(this,t,e,i,s,n,r,a,o,l);case 2:if(null==l){var h=r;r=(255&h)<<24|(h>>>24&255)<<16|(h>>>16&255)<<8|h>>>8&255}else switch(l){case 1:break;case 2:r=(255&(h=r))<<24|(h>>>8&255)<<16|(h>>>16&255)<<8|h>>>24&255;break;default:r=(255&(h=r))<<24|(h>>>24&255)<<16|(h>>>16&255)<<8|h>>>8&255}if(null==l)a=(255&(h=a))<<24|(h>>>24&255)<<16|(h>>>16&255)<<8|h>>>8&255;else switch(l){case 1:break;case 2:a=(255&(h=a))<<24|(h>>>8&255)<<16|(h>>>16&255)<<8|h>>>24&255;break;default:a=(255&(h=a))<<24|(h>>>24&255)<<16|(h>>>16&255)<<8|h>>>8&255}return e.offset(t.offsetX,t.offsetY),i.offset(this.offsetX,this.offsetY),this.buffer.__srcBitmapData.threshold(t.buffer.get_src(),e.__toFlashRectangle(),i.__toFlashPoint(),s,n,r,a,o)}return 0},__clipRect:function(t){return null==t||0>t.x&&(t.width-=-t.x,t.x=0,0>=t.x+t.width)||0>t.y&&(t.height-=-t.y,t.y=0,0>=t.y+t.height)||t.x+t.width>=this.width&&(t.width-=t.x+t.width-this.width,0>=t.width)||t.y+t.height>=this.height&&(t.height-=t.y+t.height-this.height,0>=t.height)?null:t},__fromBase64:function(t,e,i){var s=this,n=new Image;n.addEventListener("load",function(t){s.buffer=new kl(null,n.width,n.height),s.buffer.__srcImage=n,s.offsetX=0,s.offsetY=0,s.width=s.buffer.width,s.height=s.buffer.height,null!=i&&i(s)},!1),n.src="data:"+e+";base64,"+t},__fromBytes:function(t,e){if(El.__isPNG(t))var i="image/png";else if(El.__isJPG(t))i="image/jpeg";else{if(!El.__isGIF(t))return!1;i="image/gif"}return this.__fromBase64(ko.encode(t),i,e),!0},__fromFile:function(t,e,i){var s=this,n=new Image;return Mo.__isSameOrigin(t)||(n.crossOrigin="Anonymous"),n.onload=function(t){s.buffer=new kl(null,n.width,n.height),s.buffer.__srcImage=n,s.width=n.width,s.height=n.height,null!=e&&e(s)},n.onerror=function(t){null!=i&&i()},n.src=t,!0},__fromImageBuffer:function(t){this.buffer=t,null!=t&&(-1==this.width&&(this.width=t.width),-1==this.height&&(this.height=t.height))},get_data:function(){return null==this.buffer.data&&0<this.buffer.width&&0<this.buffer.height&&Vo.convertToData(this),this.buffer.data},set_data:function(t){return this.buffer.data=t},get_format:function(){return this.buffer.format},set_format:function(t){return this.buffer.format!=t&&1==this.type._hx_index&&Go.setFormat(this,t),this.buffer.format=t},get_powerOfTwo:function(){return 0!=this.buffer.width&&(this.buffer.width&1+~this.buffer.width)==this.buffer.width&&0!=this.buffer.height&&(this.buffer.height&1+~this.buffer.height)==this.buffer.height},set_powerOfTwo:function(t){if(t!=this.get_powerOfTwo()){for(var e=1,i=1;e<this.buffer.width;)e<<=1;for(;i<this.buffer.height;)i<<=1;if(e==this.buffer.width&&i==this.buffer.height)return t;switch(this.type._hx_index){case 0:Vo.convertToData(this),Go.resizeBuffer(this,e,i);break;case 1:Go.resizeBuffer(this,e,i)}}return t},get_premultiplied:function(){return this.buffer.premultiplied},set_premultiplied:function(t){if(t&&!this.buffer.premultiplied)switch(this.type._hx_index){case 0:case 1:Vo.convertToData(this),Go.multiplyAlpha(this)}else!t&&this.buffer.premultiplied&&1==this.type._hx_index&&(Vo.convertToData(this),Go.unmultiplyAlpha(this));return t},get_rect:function(){return new Jl(0,0,this.width,this.height)},get_src:function(){return null!=this.buffer.__srcCanvas||null==this.buffer.data&&this.type!=Dl.DATA||Vo.convertToCanvas(this),this.buffer.get_src()},set_src:function(t){return this.buffer.set_src(t)},get_transparent:function(){return null!=this.buffer&&this.buffer.transparent},set_transparent:function(t){return null!=this.buffer&&(this.buffer.transparent=t)},__class__:El,__properties__:{set_transparent:"set_transparent",get_transparent:"get_transparent",set_src:"set_src",get_src:"get_src",get_rect:"get_rect",set_premultiplied:"set_premultiplied",get_premultiplied:"get_premultiplied",set_powerOfTwo:"set_powerOfTwo",get_powerOfTwo:"get_powerOfTwo",set_format:"set_format",get_format:"get_format",set_data:"set_data",get_data:"get_data"}};var kl=function(t,e,i,s,n){null==s&&(s=32),null==i&&(i=0),null==e&&(e=0),this.data=t,this.width=e,this.height=i,this.bitsPerPixel=s,this.format=null==n?0:n,this.premultiplied=!1,this.transparent=!0};r["lime.graphics.ImageBuffer"]=kl,kl.__name__="lime.graphics.ImageBuffer",kl.prototype={bitsPerPixel:null,data:null,format:null,height:null,premultiplied:null,transparent:null,width:null,__srcBitmapData:null,__srcCanvas:null,__srcContext:null,__srcCustom:null,__srcImage:null,__srcImageData:null,clone:function(){var t=new kl(this.data,this.width,this.height,this.bitsPerPixel);if(null!=this.data){var e=this.data.byteLength,i=null,s=null,n=null,r=null,a=null;e=null!=e?new Uint8Array(e):null!=i?new Uint8Array(i):null!=s?new Uint8Array(s.__array):null!=n?new Uint8Array(n):null!=r?null==a?new Uint8Array(r,0):new Uint8Array(r,0,a):null,t.data=e,s=i=e=null,n=this.data,a=r=null,e=null!=e?new Uint8Array(e):null!=i?new Uint8Array(i):null!=s?new Uint8Array(s.__array):null!=n?new Uint8Array(n):null!=r?null==a?new Uint8Array(r,0):new Uint8Array(r,0,a):null,t.data.set(e)}else null!=this.__srcImageData?(t.__srcCanvas=window.document.createElement("canvas"),t.__srcContext=t.__srcCanvas.getContext("2d"),t.__srcCanvas.width=this.__srcImageData.width,t.__srcCanvas.height=this.__srcImageData.height,t.__srcImageData=t.__srcContext.createImageData(this.__srcImageData.width,this.__srcImageData.height),e=new Uint8ClampedArray(this.__srcImageData.data),t.__srcImageData.data.set(e)):null!=this.__srcCanvas?(t.__srcCanvas=window.document.createElement("canvas"),t.__srcContext=t.__srcCanvas.getContext("2d"),t.__srcCanvas.width=this.__srcCanvas.width,t.__srcCanvas.height=this.__srcCanvas.height,t.__srcContext.drawImage(this.__srcCanvas,0,0)):t.__srcImage=this.__srcImage;return t.bitsPerPixel=this.bitsPerPixel,t.format=this.format,t.premultiplied=this.premultiplied,t.transparent=this.transparent,t},get_src:function(){return null!=this.__srcImage?this.__srcImage:this.__srcCanvas},set_src:function(t){return t instanceof Image?this.__srcImage=t:t instanceof HTMLCanvasElement&&(this.__srcCanvas=t,this.__srcContext=this.__srcCanvas.getContext("2d")),t},get_stride:function(){return this.width*(this.bitsPerPixel/8|0)},__class__:kl,__properties__:{get_stride:"get_stride",set_src:"set_src",get_src:"get_src"}};var Fl=o["lime.graphics.ImageChannel"]={__ename__:"lime.graphics.ImageChannel",__constructs__:null,RED:{_hx_name:"RED",_hx_index:0,__enum__:"lime.graphics.ImageChannel",toString:a},GREEN:{_hx_name:"GREEN",_hx_index:1,__enum__:"lime.graphics.ImageChannel",toString:a},BLUE:{_hx_name:"BLUE",_hx_index:2,__enum__:"lime.graphics.ImageChannel",toString:a},ALPHA:{_hx_name:"ALPHA",_hx_index:3,__enum__:"lime.graphics.ImageChannel",toString:a}};Fl.__constructs__=[Fl.RED,Fl.GREEN,Fl.BLUE,Fl.ALPHA];var Bl=o["lime.graphics.ImageFileFormat"]={__ename__:"lime.graphics.ImageFileFormat",__constructs__:null,BMP:{_hx_name:"BMP",_hx_index:0,__enum__:"lime.graphics.ImageFileFormat",toString:a},JPEG:{_hx_name:"JPEG",_hx_index:1,__enum__:"lime.graphics.ImageFileFormat",toString:a},PNG:{_hx_name:"PNG",_hx_index:2,__enum__:"lime.graphics.ImageFileFormat",toString:a}};Bl.__constructs__=[Bl.BMP,Bl.JPEG,Bl.PNG];var Dl=o["lime.graphics.ImageType"]={__ename__:"lime.graphics.ImageType",__constructs__:null,CANVAS:{_hx_name:"CANVAS",_hx_index:0,__enum__:"lime.graphics.ImageType",toString:a},DATA:{_hx_name:"DATA",_hx_index:1,__enum__:"lime.graphics.ImageType",toString:a},FLASH:{_hx_name:"FLASH",_hx_index:2,__enum__:"lime.graphics.ImageType",toString:a},CUSTOM:{_hx_name:"CUSTOM",_hx_index:3,__enum__:"lime.graphics.ImageType",toString:a}};Dl.__constructs__=[Dl.CANVAS,Dl.DATA,Dl.FLASH,Dl.CUSTOM];var Ll=function(){};r["lime.graphics.RenderContext"]=Ll,Ll.__name__="lime.graphics.RenderContext",Ll.prototype={attributes:null,cairo:null,canvas2D:null,dom:null,flash:null,gl:null,gles2:null,gles3:null,type:null,version:null,webgl:null,webgl2:null,window:null,__class__:Ll};var Nl={bufferData:function(t,e,i,s,n,r){null!=n?t.bufferData(e,i,s,n,r):t.bufferData(e,i,s)},bufferSubData:function(t,e,i,s,n,r){null!=n?t.bufferSubData(e,i,s,n,r):t.bufferSubData(e,i,s)},compressedTexImage2D:function(t,e,i,s,n,r,a,o,l,h){null!=l?t.compressedTexImage2D(e,i,s,n,r,a,o,l,h):t.compressedTexImage2D(e,i,s,n,r,a,o)},compressedTexSubImage2D:function(t,e,i,s,n,r,a,o,l,h,_){null!=h?t.compressedTexSubImage2D(e,i,s,n,r,a,o,l,h,_):t.compressedTexSubImage2D(e,i,s,n,r,a,o,l)},getBufferSubData:function(t,e,i,s,n,r){null!=n?t.getBufferSubData(e,i,s,n,r):t.getBufferSubData(e,i,s)},readPixels:function(t,e,i,s,n,r,a,o,l){null!=l?t.readPixels(e,i,s,n,r,a,o,l):t.readPixels(e,i,s,n,r,a,o)},texImage2D:function(t,e,i,s,n,r,a,o,l,h,_){null!=_?t.texImage2D(e,i,s,n,r,a,o,l,h,_):null!=o?t.texImage2D(e,i,s,n,r,a,o,l,h):t.texImage2D(e,i,s,n,r,a)},texSubImage2D:function(t,e,i,s,n,r,a,o,l,h,_){null!=_?t.texSubImage2D(e,i,s,n,r,a,o,l,h,_):null!=l?t.texSubImage2D(e,i,s,n,r,a,o,l,h):t.texSubImage2D(e,i,s,n,r,a,o)},uniform1fv:function(t,e,i,s,n){null!=s?t.uniform1fv(e,i,s,n):t.uniform1fv(e,i)},uniform1iv:function(t,e,i,s,n){null!=s?t.uniform1iv(e,i,s,n):t.uniform1iv(e,i)},uniform2fv:function(t,e,i,s,n){null!=s?t.uniform2fv(e,i,s,n):t.uniform2fv(e,i)},uniform2iv:function(t,e,i,s,n){null!=s?t.uniform2iv(e,i,s,n):t.uniform2iv(e,i)},uniform3fv:function(t,e,i,s,n){null!=s?t.uniform3fv(e,i,s,n):t.uniform3fv(e,i)},uniform3iv:function(t,e,i,s,n){null!=s?t.uniform3iv(e,i,s,n):t.uniform3iv(e,i)},uniform4fv:function(t,e,i,s,n){null!=s?t.uniform4fv(e,i,s,n):t.uniform4fv(e,i)},uniform4iv:function(t,e,i,s,n){null!=s?t.uniform4iv(e,i,s,n):t.uniform4iv(e,i)},uniformMatrix2fv:function(t,e,i,s,n,r){null!=n?t.uniformMatrix2fv(e,i,s,n,r):t.uniformMatrix2fv(e,i,s)},uniformMatrix3fv:function(t,e,i,s,n,r){null!=n?t.uniformMatrix3fv(e,i,s,n,r):t.uniformMatrix3fv(e,i,s)},uniformMatrix4fv:function(t,e,i,s,n,r){null!=n?t.uniformMatrix4fv(e,i,s,n,r):t.uniformMatrix4fv(e,i,s)},fromGL:function(t){return null},fromRenderContext:function(t){return t.webgl2},toWebGLRenderContext:function(t){return t}},Ol={bufferData:function(t,e,i,s){t.bufferData(e,i,s)},bufferSubData:function(t,e,i,s){t.bufferSubData(e,i,s)},compressedTexImage2D:function(t,e,i,s,n,r,a,o){t.compressedTexImage2D(e,i,s,n,r,a,o)},compressedTexSubImage2D:function(t,e,i,s,n,r,a,o,l){t.compressedTexSubImage2D(e,i,s,n,r,a,o,l)},readPixels:function(t,e,i,s,n,r,a,o){t.readPixels(e,i,s,n,r,a,o)},texImage2D:function(t,e,i,s,n,r,a,o,l,h){null!=o?t.texImage2D(e,i,s,n,r,a,o,l,h):t.texImage2D(e,i,s,n,r,a)},texSubImage2D:function(t,e,i,s,n,r,a,o,l,h){null!=l?t.texSubImage2D(e,i,s,n,r,a,o,l,h):t.texSubImage2D(e,i,s,n,r,a,o)},uniformMatrix2fv:function(t,e,i,s){t.uniformMatrix2fv(e,i,s)},uniformMatrix3fv:function(t,e,i,s){t.uniformMatrix3fv(e,i,s)},uniformMatrix4fv:function(t,e,i,s){t.uniformMatrix4fv(e,i,s)},fromWebGL2RenderContext:function(t){return t},fromRenderContext:function(t){return t.webgl},fromGL:function(t){return Wl.context}},Vl=function(t){};r["lime.graphics.cairo.Cairo"]=Vl,Vl.__name__="lime.graphics.cairo.Cairo",Vl.__properties__={get_versionString:"get_versionString",get_version:"get_version"},Vl.get_version=function(){return 0},Vl.get_versionString=function(){return""},Vl.prototype={target:null,userData:null,handle:null,arc:function(t,e,i,s,n){},arcNegative:function(t,e,i,s,n){},clip:function(){},clipExtents:function(t,e,i,s){},clipPreserve:function(){},closePath:function(){},copyPage:function(){},curveTo:function(t,e,i,s,n,r){},fill:function(){},fillExtents:function(t,e,i,s){},fillPreserve:function(){},getOperator:function(){return 0},identityMatrix:function(){},inClip:function(t,e){return!1},inFill:function(t,e){return!1},inStroke:function(t,e){return!1},lineTo:function(t,e){},mask:function(t){},maskSurface:function(t,e,i){},moveTo:function(t,e){},newPath:function(){},paint:function(){},paintWithAlpha:function(t){},popGroup:function(){return null},popGroupToSource:function(){},pushGroup:function(){},pushGroupWithContent:function(t){},recreate:function(t){},rectangle:function(t,e,i,s){},relCurveTo:function(t,e,i,s,n,r){},relLineTo:function(t,e){},relMoveTo:function(t,e){},resetClip:function(){},restore:function(){},rotate:function(t){},save:function(){},scale:function(t,e){},setFontSize:function(t){},setOperator:function(t){return t},setSourceRGB:function(t,e,i){},setSourceRGBA:function(t,e,i,s){},setSourceSurface:function(t,e,i){},showGlyphs:function(t){},showPage:function(){},showText:function(t){},status:function(){return 0},stroke:function(){},strokeExtents:function(t,e,i,s){},strokePreserve:function(){},textPath:function(t){},transform:function(t){},translate:function(t,e){},get_antialias:function(){return 0},set_antialias:function(t){return t},get_currentPoint:function(){return null},get_dash:function(){return[]},set_dash:function(t){return t},get_dashCount:function(){return 0},get_fillRule:function(){return 0},set_fillRule:function(t){return t},get_fontFace:function(){return 0},set_fontFace:function(t){return t},get_fontOptions:function(){return null},set_fontOptions:function(t){return t},get_groupTarget:function(){return 0},get_hasCurrentPoint:function(){return!1},get_lineCap:function(){return 0},set_lineCap:function(t){return t},get_lineJoin:function(){return 0},set_lineJoin:function(t){return t},get_lineWidth:function(){return 0},set_lineWidth:function(t){return t},get_matrix:function(){return null},set_matrix:function(t){return t},get_miterLimit:function(){return 0},set_miterLimit:function(t){return t},get_source:function(){return 0},set_source:function(t){return t},get_target:function(){return 0},get_tolerance:function(){return 0},set_tolerance:function(t){return t},__class__:Vl,__properties__:{set_tolerance:"set_tolerance",get_tolerance:"get_tolerance",get_target:"get_target",set_source:"set_source",get_source:"get_source",set_miterLimit:"set_miterLimit",get_miterLimit:"get_miterLimit",set_matrix:"set_matrix",get_matrix:"get_matrix",set_lineWidth:"set_lineWidth",get_lineWidth:"get_lineWidth",set_lineJoin:"set_lineJoin",get_lineJoin:"get_lineJoin",set_lineCap:"set_lineCap",get_lineCap:"get_lineCap",get_hasCurrentPoint:"get_hasCurrentPoint",get_groupTarget:"get_groupTarget",set_fontOptions:"set_fontOptions",get_fontOptions:"get_fontOptions",set_fontFace:"set_fontFace",get_fontFace:"get_fontFace",set_fillRule:"set_fillRule",get_fillRule:"get_fillRule",get_dashCount:"get_dashCount",set_dash:"set_dash",get_dash:"get_dash",get_currentPoint:"get_currentPoint",set_antialias:"set_antialias",get_antialias:"get_antialias"}};var Gl=function(t,e,i){null==i&&(i=0),null==e&&(e=0),this.index=t,this.x=e,this.y=i};r["lime.graphics.cairo.CairoGlyph"]=Gl,Gl.__name__="lime.graphics.cairo.CairoGlyph",Gl.prototype={index:null,x:null,y:null,__class__:Gl};var Ul={__properties__:{get_width:"get_width",get_stride:"get_stride",get_height:"get_height",get_format:"get_format",get_data:"get_data"},_new:function(t,e,i){return 0},create:function(t,e,i,s,n){return 0},fromImage:function(t){return null},get_data:function(t){return c_.fromFloat(0)},get_format:function(t){return 0},get_height:function(t){return 0},get_stride:function(t){return 0},get_width:function(t){return 0}},zl={__properties__:{set_matrix:"set_matrix",get_matrix:"get_matrix",set_filter:"set_filter",get_filter:"get_filter",set_extend:"set_extend",get_extend:"get_extend",get_colorStopCount:"get_colorStopCount"},_new:function(t){return t},addColorStopRGB:function(t,e,i,s,n){},addColorStopRGBA:function(t,e,i,s,n,r){},createForSurface:function(t){return 0},createLinear:function(t,e,i,s){return 0},createRadial:function(t,e,i,s,n,r){return 0},createRGB:function(t,e,i){return 0},createRGBA:function(t,e,i,s){return 0},get_colorStopCount:function(t){return 0},get_extend:function(t){return 0},set_extend:function(t,e){return e},get_filter:function(t){return 0},set_filter:function(t,e){return e},get_matrix:function(t){return null},set_matrix:function(t,e){return e}},Hl={flush:function(t){}},Wl=function(){};r["lime.graphics.opengl.GL"]=Wl,Wl.__name__="lime.graphics.opengl.GL",Wl.activeTexture=function(t){Wl.context.activeTexture(t)},Wl.attachShader=function(t,e){Wl.context.attachShader(t,e)},Wl.beginQuery=function(t,e){Wl.context.beginQuery(t,e)},Wl.beginTransformFeedback=function(t){Wl.context.beginTransformFeedback(t)},Wl.bindAttribLocation=function(t,e,i){Wl.context.bindAttribLocation(t,e,i)},Wl.bindBuffer=function(t,e){Wl.context.bindBuffer(t,e)},Wl.bindBufferBase=function(t,e,i){Wl.context.bindBufferBase(t,e,i)},Wl.bindBufferRange=function(t,e,i,s,n){Wl.context.bindBufferRange(t,e,i,s,c_.fromFloat(n))},Wl.bindFramebuffer=function(t,e){Wl.context.bindFramebuffer(t,e)},Wl.bindRenderbuffer=function(t,e){Wl.context.bindRenderbuffer(t,e)},Wl.bindSampler=function(t,e){Wl.context.bindSampler(t,e)},Wl.bindTexture=function(t,e){Wl.context.bindTexture(t,e)},Wl.bindTransformFeedback=function(t,e){Wl.context.bindTransformFeedback(t,e)},Wl.bindVertexArray=function(t){Wl.context.bindVertexArray(t)},Wl.blitFramebuffer=function(t,e,i,s,n,r,a,o,l,h){Wl.context.blitFramebuffer(t,e,i,s,n,r,a,o,l,h)},Wl.blendColor=function(t,e,i,s){Wl.context.blendColor(t,e,i,s)},Wl.blendEquation=function(t){Wl.context.blendEquation(t)},Wl.blendEquationSeparate=function(t,e){Wl.context.blendEquationSeparate(t,e)},Wl.blendFunc=function(t,e){Wl.context.blendFunc(t,e)},Wl.blendFuncSeparate=function(t,e,i,s){Wl.context.blendFuncSeparate(t,e,i,s)},Wl.bufferDataWEBGL=function(t,e,i,s,n){var r=Wl.context;null!=s?r.bufferData(t,e,i,s,n):r.bufferData(t,e,i)},Wl.bufferSubDataWEBGL=function(t,e,i,s,n){var r=Wl.context;null!=s?r.bufferSubData(t,e,i,s,n):r.bufferSubData(t,e,i)},Wl.checkFramebufferStatus=function(t){return Wl.context.checkFramebufferStatus(t)},Wl.clear=function(t){Wl.context.clear(t)},Wl.clearBufferfi=function(t,e,i,s){Wl.context.clearBufferfi(t,e,i,s)},Wl.clearBufferfvWEBGL=function(t,e,i,s){Wl.context.clearBufferfv(t,e,i,s)},Wl.clearBufferivWEBGL=function(t,e,i,s){Wl.context.clearBufferiv(t,e,i,s)},Wl.clearBufferuivWEBGL=function(t,e,i,s){Wl.context.clearBufferuiv(t,e,i,s)},Wl.clearColor=function(t,e,i,s){Wl.context.clearColor(t,e,i,s)},Wl.clearDepth=function(t){Wl.context.clearDepth(t)},Wl.clearStencil=function(t){Wl.context.clearStencil(t)},Wl.clientWaitSync=function(t,e,i){return Wl.context.clientWaitSync(t,e,i)},Wl.colorMask=function(t,e,i,s){Wl.context.colorMask(t,e,i,s)},Wl.compileShader=function(t){Wl.context.compileShader(t)},Wl.compressedTexImage2DWEBGL=function(t,e,i,s,n,r,a,o,l){var h=Wl.context;null!=o?h.compressedTexImage2D(t,e,i,s,n,r,a,o,l):h.compressedTexImage2D(t,e,i,s,n,r,a)},Wl.compressedTexImage3DWEBGL=function(t,e,i,s,n,r,a,o,l,h){Wl.context.compressedTexImage3D(t,e,i,s,n,r,a,o,l,h)},Wl.compressedTexSubImage2DWEBGL=function(t,e,i,s,n,r,a,o,l,h){var _=Wl.context;null!=l?_.compressedTexSubImage2D(t,e,i,s,n,r,a,o,l,h):_.compressedTexSubImage2D(t,e,i,s,n,r,a,o)},Wl.compressedTexSubImage3DWEBGL=function(t,e,i,s,n,r,a,o,l,h,_,c){Wl.context.compressedTexSubImage3D(t,e,i,s,n,r,a,o,l,h,_,c)},Wl.copyTexImage2D=function(t,e,i,s,n,r,a,o){Wl.context.copyTexImage2D(t,e,i,s,n,r,a,o)},Wl.copyTexSubImage2D=function(t,e,i,s,n,r,a,o){Wl.context.copyTexSubImage2D(t,e,i,s,n,r,a,o)},Wl.copyTexSubImage3D=function(t,e,i,s,n,r,a,o,l){Wl.context.copyTexSubImage3D(t,e,i,s,n,r,a,o,l)},Wl.createBuffer=function(){return Wl.context.createBuffer()},Wl.createFramebuffer=function(){return Wl.context.createFramebuffer()},Wl.createProgram=function(){return Wl.context.createProgram()},Wl.createQuery=function(){return Wl.context.createQuery()},Wl.createRenderbuffer=function(){return Wl.context.createRenderbuffer()},Wl.createSampler=function(){return Wl.context.createSampler()},Wl.createShader=function(t){return Wl.context.createShader(t)},Wl.createTexture=function(){return Wl.context.createTexture()},Wl.createTransformFeedback=function(){return Wl.context.createTransformFeedback()},Wl.createVertexArray=function(){return Wl.context.createVertexArray()},Wl.cullFace=function(t){Wl.context.cullFace(t)},Wl.deleteBuffer=function(t){Wl.context.deleteBuffer(t)},Wl.deleteFramebuffer=function(t){Wl.context.deleteFramebuffer(t)},Wl.deleteProgram=function(t){Wl.context.deleteProgram(t)},Wl.deleteQuery=function(t){Wl.context.deleteQuery(t)},Wl.deleteRenderbuffer=function(t){Wl.context.deleteRenderbuffer(t)},Wl.deleteSampler=function(t){Wl.context.deleteSampler(t)},Wl.deleteShader=function(t){Wl.context.deleteShader(t)},Wl.deleteSync=function(t){Wl.context.deleteSync(t)},Wl.deleteTexture=function(t){Wl.context.deleteTexture(t)},Wl.deleteTransformFeedback=function(t){Wl.context.deleteTransformFeedback(t)},Wl.deleteVertexArray=function(t){Wl.context.deleteVertexArray(t)},Wl.depthFunc=function(t){Wl.context.depthFunc(t)},Wl.depthMask=function(t){Wl.context.depthMask(t)},Wl.depthRange=function(t,e){Wl.context.depthRange(t,e)},Wl.detachShader=function(t,e){Wl.context.detachShader(t,e)},Wl.disable=function(t){Wl.context.disable(t)},Wl.disableVertexAttribArray=function(t){Wl.context.disableVertexAttribArray(t)},Wl.drawArrays=function(t,e,i){Wl.context.drawArrays(t,e,i)},Wl.drawArraysInstanced=function(t,e,i,s){Wl.context.drawArraysInstanced(t,e,i,s)},Wl.drawBuffers=function(t){Wl.context.drawBuffers(t)},Wl.drawElements=function(t,e,i,s){Wl.context.drawElements(t,e,i,s)},Wl.drawElementsInstanced=function(t,e,i,s,n){Wl.context.drawElementsInstanced(t,e,i,s,n)},Wl.drawRangeElements=function(t,e,i,s,n,r){Wl.context.drawRangeElements(t,e,i,s,n,r)},Wl.enable=function(t){Wl.context.enable(t)},Wl.enableVertexAttribArray=function(t){Wl.context.enableVertexAttribArray(t)},Wl.endQuery=function(t){Wl.context.endQuery(t)},Wl.endTransformFeedback=function(){Wl.context.endTransformFeedback()},Wl.fenceSync=function(t,e){return Wl.context.fenceSync(t,e)},Wl.finish=function(){Wl.context.finish()},Wl.flush=function(){Wl.context.flush()},Wl.framebufferRenderbuffer=function(t,e,i,s){Wl.context.framebufferRenderbuffer(t,e,i,s)},Wl.framebufferTexture2D=function(t,e,i,s,n){Wl.context.framebufferTexture2D(t,e,i,s,n)},Wl.framebufferTextureLayer=function(t,e,i,s,n){Wl.context.framebufferTextureLayer(t,e,i,s,n)},Wl.frontFace=function(t){Wl.context.frontFace(t)},Wl.generateMipmap=function(t){Wl.context.generateMipmap(t)},Wl.getActiveAttrib=function(t,e){return Wl.context.getActiveAttrib(t,e)},Wl.getActiveUniform=function(t,e){return Wl.context.getActiveUniform(t,e)},Wl.getActiveUniformBlockName=function(t,e){return Wl.context.getActiveUniformBlockName(t,e)},Wl.getActiveUniformBlockParameter=function(t,e,i){return Wl.context.getActiveUniformBlockParameter(t,e,i)},Wl.getActiveUniforms=function(t,e,i){return Wl.context.getActiveUniforms(t,e,i)},Wl.getAttachedShaders=function(t){return Wl.context.getAttachedShaders(t)},Wl.getAttribLocation=function(t,e){return Wl.context.getAttribLocation(t,e)},Wl.getBufferParameter=function(t,e){return Wl.context.getBufferParameter(t,e)},Wl.getBufferSubDataWEBGL=function(t,e,i,s,n){var r=Wl.context;null!=s?r.getBufferSubData(t,e,i,s,n):r.getBufferSubData(t,e,i)},Wl.getContextAttributes=function(){return Wl.context.getContextAttributes()},Wl.getError=function(){return Wl.context.getError()},Wl.getExtension=function(t){return Wl.context.getExtension(t)},Wl.getFragDataLocation=function(t,e){return Wl.context.getFragDataLocation(t,e)},Wl.getFramebufferAttachmentParameter=function(t,e,i){return Wl.context.getFramebufferAttachmentParameter(t,e,i)},Wl.getIndexedParameter=function(t,e){return Wl.context.getIndexedParameter(t,e)},Wl.getInternalformatParameter=function(t,e,i){return Wl.context.getInternalformatParameter(t,e,i)},Wl.getParameter=function(t){return Wl.context.getParameter(t)},Wl.getProgramInfoLog=function(t){return Wl.context.getProgramInfoLog(t)},Wl.getProgramParameter=function(t,e){return Wl.context.getProgramParameter(t,e)},Wl.getQuery=function(t,e){return Wl.context.getQuery(t,e)},Wl.getQueryParameter=function(t,e){return Wl.context.getQueryParameter(t,e)},Wl.getRenderbufferParameter=function(t,e){return Wl.context.getRenderbufferParameter(t,e)},Wl.getSamplerParameter=function(t,e){return Wl.context.getSamplerParameter(t,e)},Wl.getShaderInfoLog=function(t){return Wl.context.getShaderInfoLog(t)},Wl.getShaderParameter=function(t,e){return Wl.context.getShaderParameter(t,e)},Wl.getShaderPrecisionFormat=function(t,e){return Wl.context.getShaderPrecisionFormat(t,e)},Wl.getShaderSource=function(t){return Wl.context.getShaderSource(t)},Wl.getSupportedExtensions=function(){return Wl.context.getSupportedExtensions()},Wl.getSyncParameter=function(t,e){return Wl.context.getSyncParameter(t,e)},Wl.getTexParameter=function(t,e){return Wl.context.getTexParameter(t,e)},Wl.getTransformFeedbackVarying=function(t,e){return Wl.context.getTransformFeedbackVarying(t,e)},Wl.getUniform=function(t,e){return Wl.context.getUniform(t,e)},Wl.getUniformBlockIndex=function(t,e){return Wl.context.getUniformBlockIndex(t,e)},Wl.getUniformIndices=function(t,e){return Wl.context.getUniformIndices(t,e)},Wl.getUniformLocation=function(t,e){return Wl.context.getUniformLocation(t,e)},Wl.getVertexAttrib=function(t,e){return Wl.context.getVertexAttrib(t,e)},Wl.getVertexAttribOffset=function(t,e){return c_.fromFloat(Wl.context.getVertexAttribOffset(t,e))},Wl.hint=function(t,e){Wl.context.hint(t,e)},Wl.invalidateFramebuffer=function(t,e){Wl.context.invalidateFramebuffer(t,e)},Wl.invalidateSubFramebuffer=function(t,e,i,s,n,r){Wl.context.invalidateSubFramebuffer(t,e,i,s,n,r)},Wl.isBuffer=function(t){return Wl.context.isBuffer(t)},Wl.isContextLost=function(){return Wl.context.isContextLost()},Wl.isEnabled=function(t){return Wl.context.isEnabled(t)},Wl.isFramebuffer=function(t){return Wl.context.isFramebuffer(t)},Wl.isProgram=function(t){return Wl.context.isProgram(t)},Wl.isQuery=function(t){return Wl.context.isQuery(t)},Wl.isRenderbuffer=function(t){return Wl.context.isRenderbuffer(t)},Wl.isSampler=function(t){return Wl.context.isSampler(t)},Wl.isShader=function(t){return Wl.context.isShader(t)},Wl.isSync=function(t){return Wl.context.isSync(t)},Wl.isTexture=function(t){return Wl.context.isTexture(t)},Wl.isTransformFeedback=function(t){return Wl.context.isTransformFeedback(t)},Wl.isVertexArray=function(t){return Wl.context.isVertexArray(t)},Wl.lineWidth=function(t){Wl.context.lineWidth(t)},Wl.linkProgram=function(t){Wl.context.linkProgram(t)},Wl.pauseTransformFeedback=function(){Wl.context.pauseTransformFeedback()},Wl.pixelStorei=function(t,e){Wl.context.pixelStorei(t,e)},Wl.polygonOffset=function(t,e){Wl.context.polygonOffset(t,e)},Wl.readBuffer=function(t){Wl.context.readBuffer(t)},Wl.readPixelsWEBGL=function(t,e,i,s,n,r,a,o){var l=Wl.context;null!=o?l.readPixels(t,e,i,s,n,r,a,o):l.readPixels(t,e,i,s,n,r,a)},Wl.renderbufferStorage=function(t,e,i,s){Wl.context.renderbufferStorage(t,e,i,s)},Wl.renderbufferStorageMultisample=function(t,e,i,s,n){Wl.context.renderbufferStorageMultisample(t,e,i,s,n)},Wl.resumeTransformFeedback=function(){Wl.context.resumeTransformFeedback()},Wl.sampleCoverage=function(t,e){Wl.context.sampleCoverage(t,e)},Wl.samplerParameterf=function(t,e,i){Wl.context.samplerParameterf(t,e,i)},Wl.samplerParameteri=function(t,e,i){Wl.context.samplerParameteri(t,e,i)},Wl.scissor=function(t,e,i,s){Wl.context.scissor(t,e,i,s)},Wl.shaderSource=function(t,e){Wl.context.shaderSource(t,e)},Wl.stencilFunc=function(t,e,i){Wl.context.stencilFunc(t,e,i)},Wl.stencilFuncSeparate=function(t,e,i,s){Wl.context.stencilFuncSeparate(t,e,i,s)},Wl.stencilMask=function(t){Wl.context.stencilMask(t)},Wl.stencilMaskSeparate=function(t,e){Wl.context.stencilMaskSeparate(t,e)},Wl.stencilOp=function(t,e,i){Wl.context.stencilOp(t,e,i)},Wl.stencilOpSeparate=function(t,e,i,s){Wl.context.stencilOpSeparate(t,e,i,s)},Wl.texImage2DWEBGL=function(t,e,i,s,n,r,a,o,l,h){var _=Wl.context;null!=h?_.texImage2D(t,e,i,s,n,r,a,o,l,h):null!=a?_.texImage2D(t,e,i,s,n,r,a,o,l):_.texImage2D(t,e,i,s,n,r)},Wl.texImage3DWEBGL=function(t,e,i,s,n,r,a,o,l,h,_){Wl.context.texImage3D(t,e,i,s,n,r,a,o,l,h,_)},Wl.texStorage2D=function(t,e,i,s,n){Wl.context.texStorage2D(t,e,i,s,n)},Wl.texStorage3D=function(t,e,i,s,n,r){Wl.context.texStorage3D(t,e,i,s,n,r)},Wl.texParameterf=function(t,e,i){Wl.context.texParameterf(t,e,i)},Wl.texParameteri=function(t,e,i){Wl.context.texParameteri(t,e,i)},Wl.texSubImage2DWEBGL=function(t,e,i,s,n,r,a,o,l,h){var _=Wl.context;null!=h?_.texSubImage2D(t,e,i,s,n,r,a,o,l,h):null!=o?_.texSubImage2D(t,e,i,s,n,r,a,o,l):_.texSubImage2D(t,e,i,s,n,r,a)},Wl.texSubImage3DWEBGL=function(t,e,i,s,n,r,a,o,l,h,_,c){Wl.context.texSubImage3D(t,e,i,s,n,r,a,o,l,h,_,c)},Wl.transformFeedbackVaryings=function(t,e,i){Wl.context.transformFeedbackVaryings(t,e,i)},Wl.uniform1f=function(t,e){Wl.context.uniform1f(t,e)},Wl.uniform1fvWEBGL=function(t,e,i,s){var n=Wl.context;null!=i?n.uniform1fv(t,e,i,s):n.uniform1fv(t,e)},Wl.uniform1i=function(t,e){Wl.context.uniform1i(t,e)},Wl.uniform1ivWEBGL=function(t,e,i,s){var n=Wl.context;null!=i?n.uniform1iv(t,e,i,s):n.uniform1iv(t,e)},Wl.uniform1ui=function(t,e){Wl.context.uniform1ui(t,e)},Wl.uniform1uivWEBGL=function(t,e,i,s){Wl.context.uniform1uiv(t,e,i,s)},Wl.uniform2f=function(t,e,i){Wl.context.uniform2f(t,e,i)},Wl.uniform2fvWEBGL=function(t,e,i,s){Nl.uniform2fv(Wl.context,t,e,i,s)},Wl.uniform2i=function(t,e,i){Wl.context.uniform2i(t,e,i)},Wl.uniform2ivWEBGL=function(t,e,i,s){var n=Wl.context;null!=i?n.uniform2iv(t,e,i,s):n.uniform2iv(t,e)},Wl.uniform2ui=function(t,e,i){Wl.context.uniform2ui(t,e,i)},Wl.uniform2uivWEBGL=function(t,e,i,s){Wl.context.uniform2uiv(t,e,i,s)},Wl.uniform3f=function(t,e,i,s){Wl.context.uniform3f(t,e,i,s)},Wl.uniform3fvWEBGL=function(t,e,i,s){var n=Wl.context;null!=i?n.uniform3fv(t,e,i,s):n.uniform3fv(t,e)},Wl.uniform3i=function(t,e,i,s){Wl.context.uniform3i(t,e,i,s)},Wl.uniform3ivWEBGL=function(t,e,i,s){var n=Wl.context;null!=i?n.uniform3iv(t,e,i,s):n.uniform3iv(t,e)},Wl.uniform3ui=function(t,e,i,s){Wl.context.uniform3ui(t,e,i,s)},Wl.uniform3uivWEBGL=function(t,e,i,s){Wl.context.uniform3uiv(t,e,i,s)},Wl.uniform4f=function(t,e,i,s,n){Wl.context.uniform4f(t,e,i,s,n)},Wl.uniform4fvWEBGL=function(t,e,i,s){var n=Wl.context;null!=i?n.uniform4fv(t,e,i,s):n.uniform4fv(t,e)},Wl.uniform4i=function(t,e,i,s,n){Wl.context.uniform4i(t,e,i,s,n)},Wl.uniform4ivWEBGL=function(t,e,i,s){var n=Wl.context;null!=i?n.uniform4iv(t,e,i,s):n.uniform4iv(t,e)},Wl.uniform4ui=function(t,e,i,s,n){Wl.context.uniform4ui(t,e,i,s,n)},Wl.uniform4uivWEBGL=function(t,e,i,s){Wl.context.uniform4uiv(t,e,i,s)},Wl.uniformBlockBinding=function(t,e,i){Wl.context.uniformBlockBinding(t,e,i)},Wl.uniformMatrix2fvWEBGL=function(t,e,i,s,n){var r=Wl.context;null!=s?r.uniformMatrix2fv(t,e,i,s,n):r.uniformMatrix2fv(t,e,i)},Wl.uniformMatrix2x3fvWEBGL=function(t,e,i,s,n){Wl.context.uniformMatrix2x3fv(t,e,i,s,n)},Wl.uniformMatrix2x4fvWEBGL=function(t,e,i,s,n){Wl.context.uniformMatrix2x4fv(t,e,i,s,n)},Wl.uniformMatrix3fvWEBGL=function(t,e,i,s,n){var r=Wl.context;null!=s?r.uniformMatrix3fv(t,e,i,s,n):r.uniformMatrix3fv(t,e,i)},Wl.uniformMatrix3x2fvWEBGL=function(t,e,i,s,n){Wl.context.uniformMatrix3x2fv(t,e,i,s,n)},Wl.uniformMatrix3x4fvWEBGL=function(t,e,i,s,n){Wl.context.uniformMatrix3x4fv(t,e,i,s,n)},Wl.uniformMatrix4fvWEBGL=function(t,e,i,s,n){var r=Wl.context;null!=s?r.uniformMatrix4fv(t,e,i,s,n):r.uniformMatrix4fv(t,e,i)},Wl.uniformMatrix4x2fvWEBGL=function(t,e,i,s,n){Wl.context.uniformMatrix4x2fv(t,e,i,s,n)},Wl.uniformMatrix4x3fvWEBGL=function(t,e,i,s,n){Wl.context.uniformMatrix4x3fv(t,e,i,s,n)},Wl.useProgram=function(t){Wl.context.useProgram(t)},Wl.validateProgram=function(t){Wl.context.validateProgram(t)},Wl.vertexAttrib1f=function(t,e){Wl.context.vertexAttrib1f(t,e)},Wl.vertexAttrib1fv=function(t,e){Wl.context.vertexAttrib1fv(t,e)},Wl.vertexAttrib1fvWEBGL=function(t,e){Wl.context.vertexAttrib1fv(t,e)},Wl.vertexAttrib2f=function(t,e,i){Wl.context.vertexAttrib2f(t,e,i)},Wl.vertexAttrib2fv=function(t,e){Wl.context.vertexAttrib2fv(t,e)},Wl.vertexAttrib2fvWEBGL=function(t,e){Wl.context.vertexAttrib2fv(t,e)},Wl.vertexAttrib3f=function(t,e,i,s){Wl.context.vertexAttrib3f(t,e,i,s)},Wl.vertexAttrib3fv=function(t,e){Wl.context.vertexAttrib3fv(t,e)},Wl.vertexAttrib3fvWEBGL=function(t,e){Wl.context.vertexAttrib3fv(t,e)},Wl.vertexAttrib4f=function(t,e,i,s,n){Wl.context.vertexAttrib4f(t,e,i,s,n)},Wl.vertexAttrib4fv=function(t,e){Wl.context.vertexAttrib4fv(t,e)},Wl.vertexAttrib4fvWEBGL=function(t,e){Wl.context.vertexAttrib4fv(t,e)},Wl.vertexAttribDivisor=function(t,e){Wl.context.vertexAttribDivisor(t,e)},Wl.vertexAttribI4i=function(t,e,i,s,n){Wl.context.vertexAttribI4i(t,e,i,s,n)},Wl.vertexAttribI4iv=function(t,e){Wl.context.vertexAttribI4iv(t,e)},Wl.vertexAttribI4ivWEBGL=function(t,e){Wl.context.vertexAttribI4iv(t,e)},Wl.vertexAttribI4ui=function(t,e,i,s,n){Wl.context.vertexAttribI4ui(t,e,i,s,n)},Wl.vertexAttribI4uiv=function(t,e){Wl.context.vertexAttribI4uiv(t,e)},Wl.vertexAttribI4uivWEBGL=function(t,e){Wl.context.vertexAttribI4uiv(t,e)},Wl.vertexAttribIPointer=function(t,e,i,s,n){Wl.context.vertexAttribIPointer(t,e,i,s,n)},Wl.vertexAttribPointer=function(t,e,i,s,n,r){Wl.context.vertexAttribPointer(t,e,i,s,n,r)},Wl.viewport=function(t,e,i,s){Wl.context.viewport(t,e,i,s)},Wl.waitSync=function(t,e,i){Wl.context.waitSync(t,e,i)},Wl.__getObjectID=function(t){return null==t?0:t.id};var Xl=function(){this.STACK_UNDERFLOW=1284,this.STACK_OVERFLOW=1283,this.CONTEXT_FLAG_DEBUG_BIT=2,this.DEBUG_OUTPUT=37600,this.DEBUG_SEVERITY_LOW=37192,this.DEBUG_SEVERITY_MEDIUM=37191,this.DEBUG_SEVERITY_HIGH=37190,this.DEBUG_LOGGED_MESSAGES=37189,this.MAX_DEBUG_LOGGED_MESSAGES=37188,this.MAX_DEBUG_MESSAGE_LENGTH=37187,this.MAX_LABEL_LENGTH=33512,this.SAMPLER=33510,this.QUERY=33507,this.PROGRAM=33506,this.SHADER=33505,this.BUFFER=33504,this.DEBUG_GROUP_STACK_DEPTH=33389,this.MAX_DEBUG_GROUP_STACK_DEPTH=33388,this.DEBUG_SEVERITY_NOTIFICATION=33387,this.DEBUG_TYPE_POP_GROUP=33386,this.DEBUG_TYPE_PUSH_GROUP=33385,this.DEBUG_TYPE_MARKER=33384,this.DEBUG_TYPE_OTHER=33361,this.DEBUG_TYPE_PERFORMANCE=33360,this.DEBUG_TYPE_PORTABILITY=33359,this.DEBUG_TYPE_UNDEFINED_BEHAVIOR=33358,this.DEBUG_TYPE_DEPRECATED_BEHAVIOR=33357,this.DEBUG_TYPE_ERROR=33356,this.DEBUG_SOURCE_OTHER=33355,this.DEBUG_SOURCE_APPLICATION=33354,this.DEBUG_SOURCE_THIRD_PARTY=33353,this.DEBUG_SOURCE_SHADER_COMPILER=33352,this.DEBUG_SOURCE_WINDOW_SYSTEM=33351,this.DEBUG_SOURCE_API=33350,this.DEBUG_CALLBACK_USER_PARAM=33349,this.DEBUG_CALLBACK_FUNCTION=33348,this.DEBUG_NEXT_LOGGED_MESSAGE_LENGTH=33347,this.DEBUG_OUTPUT_SYNCHRONOUS=33346};r["lime.graphics.opengl.ext.KHR_debug"]=Xl,Xl.__name__="lime.graphics.opengl.ext.KHR_debug",Xl.prototype={DEBUG_OUTPUT_SYNCHRONOUS:null,DEBUG_NEXT_LOGGED_MESSAGE_LENGTH:null,DEBUG_CALLBACK_FUNCTION:null,DEBUG_CALLBACK_USER_PARAM:null,DEBUG_SOURCE_API:null,DEBUG_SOURCE_WINDOW_SYSTEM:null,DEBUG_SOURCE_SHADER_COMPILER:null,DEBUG_SOURCE_THIRD_PARTY:null,DEBUG_SOURCE_APPLICATION:null,DEBUG_SOURCE_OTHER:null,DEBUG_TYPE_ERROR:null,DEBUG_TYPE_DEPRECATED_BEHAVIOR:null,DEBUG_TYPE_UNDEFINED_BEHAVIOR:null,DEBUG_TYPE_PORTABILITY:null,DEBUG_TYPE_PERFORMANCE:null,DEBUG_TYPE_OTHER:null,DEBUG_TYPE_MARKER:null,DEBUG_TYPE_PUSH_GROUP:null,DEBUG_TYPE_POP_GROUP:null,DEBUG_SEVERITY_NOTIFICATION:null,MAX_DEBUG_GROUP_STACK_DEPTH:null,DEBUG_GROUP_STACK_DEPTH:null,BUFFER:null,SHADER:null,PROGRAM:null,QUERY:null,SAMPLER:null,MAX_LABEL_LENGTH:null,MAX_DEBUG_MESSAGE_LENGTH:null,MAX_DEBUG_LOGGED_MESSAGES:null,DEBUG_LOGGED_MESSAGES:null,DEBUG_SEVERITY_HIGH:null,DEBUG_SEVERITY_MEDIUM:null,DEBUG_SEVERITY_LOW:null,DEBUG_OUTPUT:null,CONTEXT_FLAG_DEBUG_BIT:null,STACK_OVERFLOW:null,STACK_UNDERFLOW:null,__class__:Xl};var Yl={__properties__:{set_redOffset:"set_redOffset",get_redOffset:"get_redOffset",set_redMultiplier:"set_redMultiplier",get_redMultiplier:"get_redMultiplier",set_greenOffset:"set_greenOffset",get_greenOffset:"get_greenOffset",set_greenMultiplier:"set_greenMultiplier",get_greenMultiplier:"get_greenMultiplier",set_color:"set_color",get_color:"get_color",set_blueOffset:"set_blueOffset",get_blueOffset:"get_blueOffset",set_blueMultiplier:"set_blueMultiplier",get_blueMultiplier:"get_blueMultiplier",set_alphaOffset:"set_alphaOffset",get_alphaOffset:"get_alphaOffset",set_alphaMultiplier:"set_alphaMultiplier",get_alphaMultiplier:"get_alphaMultiplier"},_new:function(t){return null!=t&&20==t.length||(t=null!=(t=Yl.__identity)?new Float32Array(t):null),t},clone:function(t){return t=null!=(t=u_.toArrayBufferView(t))?new Float32Array(t):null,Yl._new(t)},concat:function(t,e){t[0]+=e[0],t[6]+=e[6],t[12]+=e[12],t[18]+=e[18]},copyFrom:function(t,e){t.set(e)},identity:function(t){t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=0,t[6]=1,t[7]=0,t[8]=0,t[9]=0,t[10]=0,t[11]=0,t[12]=1,t[13]=0,t[14]=0,t[15]=0,t[16]=0,t[17]=0,t[18]=1,t[19]=0},getAlphaTable:function(t){if(null==Yl.__alphaTable){var e=new Uint8Array(256);Yl.__alphaTable=e}Yl.__alphaTable[0]=0;for(var i=1;256>i;){var s=i++;255<(e=Math.floor(s*t[18]+255*t[19]))&&(e=255),0>e&&(e=0),Yl.__alphaTable[s]=e}return Yl.__alphaTable},getBlueTable:function(t){if(null==Yl.__blueTable){var e=new Uint8Array(256);Yl.__blueTable=e}for(var i=0;256>i;){var s=i++;255<(e=Math.floor(s*t[12]+255*t[14]))&&(e=255),0>e&&(e=0),Yl.__blueTable[s]=e}return Yl.__blueTable},getGreenTable:function(t){if(null==Yl.__greenTable){var e=new Uint8Array(256);Yl.__greenTable=e}for(var i=0;256>i;){var s=i++;255<(e=Math.floor(s*t[6]+255*t[9]))&&(e=255),0>e&&(e=0),Yl.__greenTable[s]=e}return Yl.__greenTable},getRedTable:function(t){if(null==Yl.__redTable){var e=new Uint8Array(256);Yl.__redTable=e}for(var i=0;256>i;){var s=i++;255<(e=Math.floor(s*t[0]+255*t[4]))&&(e=255),0>e&&(e=0),Yl.__redTable[s]=e}return Yl.__redTable},__toFlashColorTransform:function(t){return null},get_alphaMultiplier:function(t){return t[18]},set_alphaMultiplier:function(t,e){return t[18]=e},get_alphaOffset:function(t){return 255*t[19]},set_alphaOffset:function(t,e){return t[19]=e/255},get_blueMultiplier:function(t){return t[12]},set_blueMultiplier:function(t,e){return t[12]=e},get_blueOffset:function(t){return 255*t[14]},set_blueOffset:function(t,e){return t[14]=e/255},get_color:function(t){return 255*t[4]<<16|255*t[9]<<8|255*t[14]},set_color:function(t,e){return t[4]=(e>>16&255)/255,t[9]=(e>>8&255)/255,t[14]=(255&e)/255,t[0]=0,t[6]=0,t[12]=0,Yl.get_color(t)},get_greenMultiplier:function(t){return t[6]},set_greenMultiplier:function(t,e){return t[6]=e},get_greenOffset:function(t){return 255*t[9]},set_greenOffset:function(t,e){return t[9]=e/255},get_redMultiplier:function(t){return t[0]},set_redMultiplier:function(t,e){return t[0]=e},get_redOffset:function(t){return 255*t[4]},set_redOffset:function(t,e){return t[4]=e/255},get:function(t,e){return t[e]},set:function(t,e,i){return t[e]=i}},jl={__properties__:{set_position:"set_position",get_position:"get_position",get_determinant:"get_determinant"},_new:function(t){return null!=t&&16==t.length||(t=null!=(t=jl.__identity)?new Float32Array(t):null),t},append:function(t,e){var i=t[0],s=t[4],n=t[8],r=t[12],a=t[1],o=t[5],l=t[9],h=t[13],_=t[2],c=t[6],u=t[10],d=t[14],m=t[3],p=t[7],f=t[11],g=t[15],y=jl.get(e,0),b=jl.get(e,4),v=jl.get(e,8),x=jl.get(e,12),w=jl.get(e,1),R=jl.get(e,5),S=jl.get(e,9),A=jl.get(e,13),T=jl.get(e,2),M=jl.get(e,6),P=jl.get(e,10),C=jl.get(e,14),I=jl.get(e,3),k=jl.get(e,7),E=jl.get(e,11);e=jl.get(e,15),t[0]=i*y+a*b+_*v+m*x,t[1]=i*w+a*R+_*S+m*A,t[2]=i*T+a*M+_*P+m*C,t[3]=i*I+a*k+_*E+m*e,t[4]=s*y+o*b+c*v+p*x,t[5]=s*w+o*R+c*S+p*A,t[6]=s*T+o*M+c*P+p*C,t[7]=s*I+o*k+c*E+p*e,t[8]=n*y+l*b+u*v+f*x,t[9]=n*w+l*R+u*S+f*A,t[10]=n*T+l*M+u*P+f*C,t[11]=n*I+l*k+u*E+f*e,t[12]=r*y+h*b+d*v+g*x,t[13]=r*w+h*R+d*S+g*A,t[14]=r*T+h*M+d*P+g*C,t[15]=r*I+h*k+d*E+g*e},appendRotation:function(t,e,i,s){e=jl.__getAxisRotation(t,i.x,i.y,i.z,e),null!=s&&jl.appendTranslation(e,s.x,s.y,s.z),jl.append(t,e)},appendScale:function(t,e,i,s){e=null!=(e=[e,0,0,0,0,i,0,0,0,0,s,0,0,0,0,1])?new Float32Array(e):null,jl.append(t,jl._new(e))},appendTranslation:function(t,e,i,s){t[12]+=e,t[13]+=i,t[14]+=s},clone:function(t){return t=null!=(t=u_.toArrayBufferView(t))?new Float32Array(t):null,jl._new(t)},copyColumnFrom:function(t,e,i){switch(e){case 0:t[0]=i.x,t[1]=i.y,t[2]=i.z,t[3]=i.w;break;case 1:t[4]=i.x,t[5]=i.y,t[6]=i.z,t[7]=i.w;break;case 2:t[8]=i.x,t[9]=i.y,t[10]=i.z,t[11]=i.w;break;case 3:t[12]=i.x,t[13]=i.y,t[14]=i.z,t[15]=i.w;break;default:d_.error("Column "+e+" out of bounds [0, ..., 3]",{fileName:"lime/math/Matrix4.hx",lineNumber:187,className:"lime.math._Matrix4.Matrix4_Impl_",methodName:"copyColumnFrom"})}},copyColumnTo:function(t,e,i){switch(e){case 0:i.x=t[0],i.y=t[1],i.z=t[2],i.w=t[3];break;case 1:i.x=t[4],i.y=t[5],i.z=t[6],i.w=t[7];break;case 2:i.x=t[8],i.y=t[9],i.z=t[10],i.w=t[11];break;case 3:i.x=t[12],i.y=t[13],i.z=t[14],i.w=t[15];break;default:d_.error("Column "+e+" out of bounds [0, ..., 3]",{fileName:"lime/math/Matrix4.hx",lineNumber:225,className:"lime.math._Matrix4.Matrix4_Impl_",methodName:"copyColumnTo"})}},copyFrom:function(t,e){t.set(e)},copyRowFrom:function(t,e,i){switch(e){case 0:t[0]=i.x,t[4]=i.y,t[8]=i.z,t[12]=i.w;break;case 1:t[1]=i.x,t[5]=i.y,t[9]=i.z,t[13]=i.w;break;case 2:t[2]=i.x,t[6]=i.y,t[10]=i.z,t[14]=i.w;break;case 3:t[3]=i.x,t[7]=i.y,t[11]=i.z,t[15]=i.w;break;default:d_.error("Row "+e+" out of bounds [0, ..., 3]",{fileName:"lime/math/Matrix4.hx",lineNumber:272,className:"lime.math._Matrix4.Matrix4_Impl_",methodName:"copyRowFrom"})}},copyRowTo:function(t,e,i){switch(e){case 0:i.x=t[0],i.y=t[4],i.z=t[8],i.w=t[12];break;case 1:i.x=t[1],i.y=t[5],i.z=t[9],i.w=t[13];break;case 2:i.x=t[2],i.y=t[6],i.z=t[10],i.w=t[14];break;case 3:i.x=t[3],i.y=t[7],i.z=t[11],i.w=t[15];break;default:d_.error("Row "+e+" out of bounds [0, ..., 3]",{fileName:"lime/math/Matrix4.hx",lineNumber:310,className:"lime.math._Matrix4.Matrix4_Impl_",methodName:"copyRowTo"})}},create2D:function(t,e,i,s,n,r,a){null==a&&(a=0),null==r&&(r=0),t[0]=e,t[1]=i,t[2]=0,t[3]=0,t[4]=s,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=r,t[13]=a,t[14]=0,t[15]=1},createOrtho:function(t,e,i,s,n,r,a){var o=1/(i-e),l=1/(n-s),h=1/(a-r);t[0]=2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=-2*h,t[11]=0,t[12]=-(e+i)*o,t[13]=-(s+n)*l,t[14]=-(r+a)*h,t[15]=1},deltaTransformVector:function(t,e,i){null==i&&(i=new Ql);var s=e.x,n=e.y;return e=e.z,i.x=s*t[0]+n*t[4]+e*t[8]+t[3],i.y=s*t[1]+n*t[5]+e*t[9]+t[7],i.z=s*t[2]+n*t[6]+e*t[10]+t[11],i},fromMatrix3:function(t){var e=jl._new();return jl.create2D(e,t.a,t.b,t.c,t.d,t.tx,t.ty),e},identity:function(t){t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1},interpolate:function(t,e,i,s){null==s&&(s=jl._new());for(var n=0;16>n;){var r=n++;jl.set(s,r,jl.get(t,r)+(jl.get(e,r)-jl.get(t,r))*i)}return s},interpolateTo:function(t,e,i){for(var s=0;16>s;){var n=s++;t[n]+=(jl.get(e,n)-t[n])*i}},invert:function(t){var e=jl.get_determinant(t),i=1e-11<Math.abs(e);if(i){e=1/e;var s=t[0],n=t[4],r=t[8],a=t[12],o=t[1],l=t[5],h=t[9],_=t[13],c=t[2],u=t[6],d=t[10],m=t[14],p=t[3],f=t[7],g=t[11],y=t[15];t[0]=e*(l*(d*y-m*g)-h*(u*y-m*f)+_*(u*g-d*f)),t[1]=-e*(o*(d*y-m*g)-h*(c*y-m*p)+_*(c*g-d*p)),t[2]=e*(o*(u*y-m*f)-l*(c*y-m*p)+_*(c*f-u*p)),t[3]=-e*(o*(u*g-d*f)-l*(c*g-d*p)+h*(c*f-u*p)),t[4]=-e*(n*(d*y-m*g)-r*(u*y-m*f)+a*(u*g-d*f)),t[5]=e*(s*(d*y-m*g)-r*(c*y-m*p)+a*(c*g-d*p)),t[6]=-e*(s*(u*y-m*f)-n*(c*y-m*p)+a*(c*f-u*p)),t[7]=e*(s*(u*g-d*f)-n*(c*g-d*p)+r*(c*f-u*p)),t[8]=e*(n*(h*y-_*g)-r*(l*y-_*f)+a*(l*g-h*f)),t[9]=-e*(s*(h*y-_*g)-r*(o*y-_*p)+a*(o*g-h*p)),t[10]=e*(s*(l*y-_*f)-n*(o*y-_*p)+a*(o*f-l*p)),t[11]=-e*(s*(l*g-h*f)-n*(o*g-h*p)+r*(o*f-l*p)),t[12]=-e*(n*(h*m-_*d)-r*(l*m-_*u)+a*(l*d-h*u)),t[13]=e*(s*(h*m-_*d)-r*(o*m-_*c)+a*(o*d-h*c)),t[14]=-e*(s*(l*m-_*u)-n*(o*m-_*c)+a*(o*u-l*c)),t[15]=e*(s*(l*d-h*u)-n*(o*d-h*c)+r*(o*u-l*c))}return i},pointAt:function(t,e,i,s){null==i&&(i=new Ql(0,0,1)),null==s&&(s=new Ql(0,1,0));var n=null;null==n&&(n=new Ql),n.x=e.x-i.x,n.y=e.y-i.y,n.z=e.z-i.z,i=n,s=new Ql(s.x,s.y,s.z,s.w),0!=(n=Math.sqrt(i.x*i.x+i.y*i.y+i.z*i.z))&&(i.x/=n,i.y/=n,i.z/=n),0!=(n=Math.sqrt(s.x*s.x+s.y*s.y+s.z*s.z))&&(s.x/=n,s.y/=n,s.z/=n);var r=new Ql(i.x,i.y,i.z,i.w);n=s.x*i.x+s.y*i.y+s.z*i.z,r.x*=n,r.y*=n,r.z*=n,null==(n=null)&&(n=new Ql),n.x=s.x-r.x,n.y=s.y-r.y,n.z=s.z-r.z,s=n,0<Math.sqrt(s.x*s.x+s.y*s.y+s.z*s.z)?0!=(n=Math.sqrt(s.x*s.x+s.y*s.y+s.z*s.z))&&(s.x/=n,s.y/=n,s.z/=n):s=0!=i.x?new Ql(-i.y,i.x,0):new Ql(1,0,0),null==(n=null)&&(n=new Ql),r=s.z*i.x-s.x*i.z;var a=s.x*i.y-s.y*i.x;n.x=s.y*i.z-s.z*i.y,n.y=r,n.z=a,n.w=1,r=n,0!=(n=Math.sqrt(r.x*r.x+r.y*r.y+r.z*r.z))&&(r.x/=n,r.y/=n,r.z/=n),t[0]=r.x,t[4]=r.y,t[8]=r.z,t[12]=0,t[1]=s.x,t[5]=s.y,t[9]=s.z,t[13]=0,t[2]=i.x,t[6]=i.y,t[10]=i.z,t[14]=0,t[3]=e.x,t[7]=e.y,t[11]=e.z,t[15]=1},prepend:function(t,e){var i=jl.get(e,0),s=jl.get(e,4),n=jl.get(e,8),r=jl.get(e,12),a=jl.get(e,1),o=jl.get(e,5),l=jl.get(e,9),h=jl.get(e,13),_=jl.get(e,2),c=jl.get(e,6),u=jl.get(e,10),d=jl.get(e,14),m=jl.get(e,3),p=jl.get(e,7),f=jl.get(e,11);e=jl.get(e,15);var g=t[0],y=t[4],b=t[8],v=t[12],x=t[1],w=t[5],R=t[9],S=t[13],A=t[2],T=t[6],M=t[10],P=t[14],C=t[3],I=t[7],k=t[11],E=t[15];t[0]=i*g+a*y+_*b+m*v,t[1]=i*x+a*w+_*R+m*S,t[2]=i*A+a*T+_*M+m*P,t[3]=i*C+a*I+_*k+m*E,t[4]=s*g+o*y+c*b+p*v,t[5]=s*x+o*w+c*R+p*S,t[6]=s*A+o*T+c*M+p*P,t[7]=s*C+o*I+c*k+p*E,t[8]=n*g+l*y+u*b+f*v,t[9]=n*x+l*w+u*R+f*S,t[10]=n*A+l*T+u*M+f*P,t[11]=n*C+l*I+u*k+f*E,t[12]=r*g+h*y+d*b+e*v,t[13]=r*x+h*w+d*R+e*S,t[14]=r*A+h*T+d*M+e*P,t[15]=r*C+h*I+d*k+e*E},prependRotation:function(t,e,i,s){e=jl.__getAxisRotation(t,i.x,i.y,i.z,e),null!=s&&jl.appendTranslation(e,s.x,s.y,s.z),jl.prepend(t,e)},prependScale:function(t,e,i,s){e=null!=(e=[e,0,0,0,0,i,0,0,0,0,s,0,0,0,0,1])?new Float32Array(e):null,jl.prepend(t,jl._new(e))},prependTranslation:function(t,e,i,s){var n=jl._new();jl.set_position(n,new Ql(e,i,s)),jl.prepend(t,n)},transformVector:function(t,e,i){null==i&&(i=new Ql);var s=e.x,n=e.y;return e=e.z,i.x=s*t[0]+n*t[4]+e*t[8]+t[12],i.y=s*t[1]+n*t[5]+e*t[9]+t[13],i.z=s*t[2]+n*t[6]+e*t[10]+t[14],i.w=s*t[3]+n*t[7]+e*t[11]+t[15],i},transformVectors:function(t,e,i){for(var s,n,r,a=0;a+3<=e.length;)s=e[a],n=e[a+1],r=e[a+2],i[a]=s*t[0]+n*t[4]+r*t[8]+t[12],i[a+1]=s*t[1]+n*t[5]+r*t[9]+t[13],i[a+2]=s*t[2]+n*t[6]+r*t[10]+t[14],a+=3},transpose:function(t){var e=t[1];t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e},__getAxisRotation:function(t,e,i,s,n){t=jl._new(),e=new Ql(e,i,s),n=Math.PI/180*-n,s=Math.cos(n),n=Math.sin(n),i=1-s,jl.set(t,0,s+e.x*e.x*i),jl.set(t,5,s+e.y*e.y*i),jl.set(t,10,s+e.z*e.z*i),s=e.x*e.y*i;var r=e.z*n;return jl.set(t,4,s+r),jl.set(t,1,s-r),s=e.x*e.z*i,r=e.y*n,jl.set(t,8,s-r),jl.set(t,2,s+r),s=e.y*e.z*i,r=e.x*n,jl.set(t,9,s+r),jl.set(t,6,s-r),t},__swap:function(t,e,i){var s=t[e];t[e]=t[i],t[i]=s},get_determinant:function(t){return(t[0]*t[5]-t[4]*t[1])*(t[10]*t[15]-t[14]*t[11])-(t[0]*t[9]-t[8]*t[1])*(t[6]*t[15]-t[14]*t[7])+(t[0]*t[13]-t[12]*t[1])*(t[6]*t[11]-t[10]*t[7])+(t[4]*t[9]-t[8]*t[5])*(t[2]*t[15]-t[14]*t[3])-(t[4]*t[13]-t[12]*t[5])*(t[2]*t[11]-t[10]*t[3])+(t[8]*t[13]-t[12]*t[9])*(t[2]*t[7]-t[6]*t[3])},get_position:function(t){return new Ql(t[12],t[13],t[14])},set_position:function(t,e){return t[12]=e.x,t[13]=e.y,t[14]=e.z,e},get:function(t,e){return t[e]},set:function(t,e,i){return t[e]=i}},Kl={__properties__:{set_r:"set_r",get_r:"get_r",set_g:"set_g",get_g:"get_g",set_b:"set_b",get_b:"get_b",set_a:"set_a",get_a:"get_a"},_new:function(t){return null==t&&(t=0),t},create:function(t,e,i,s){return(255&t)<<24|(255&e)<<16|(255&i)<<8|255&s},multiplyAlpha:function(t){255&t&&255&~t&&(Kl.a16=Kl.__alpha16[255&t])},readUInt8:function(t,e,i,s,n){switch(null==n&&(n=!1),null==s&&(s=0),s){case 0:t=(255&e[i])<<24|(255&e[i+1])<<16|(255&e[i+2])<<8|255&e[i+3];break;case 1:t=(255&e[i+1])<<24|(255&e[i+2])<<16|(255&e[i+3])<<8|255&e[i];break;case 2:t=(255&e[i+2])<<24|(255&e[i+1])<<16|(255&e[i])<<8|255&e[i+3]}n&&255&t&&255&~t&&(Kl.unmult=255/(255&t))},set:function(t,e,i,s,n){},unmultiplyAlpha:function(t){255&t&&255&~t&&(Kl.unmult=255/(255&t))},writeUInt8:function(t,e,i,s,n){switch(null==n&&(n=!1),null==s&&(s=0),n&&(255&t?255&~t&&(Kl.a16=Kl.__alpha16[255&t],t=((t>>>24&255)*Kl.a16>>16&255)<<24|((t>>>16&255)*Kl.a16>>16&255)<<16|((t>>>8&255)*Kl.a16>>16&255)<<8|255&t):0!=t&&(t=0)),s){case 0:e[i]=t>>>24&255,e[i+1]=t>>>16&255,e[i+2]=t>>>8&255,e[i+3]=255&t;break;case 1:e[i]=255&t,e[i+1]=t>>>24&255,e[i+2]=t>>>16&255,e[i+3]=t>>>8&255;break;case 2:e[i]=t>>>8&255,e[i+1]=t>>>16&255,e[i+2]=t>>>24&255,e[i+3]=255&t}},__fromARGB:function(t){return(t>>>16&255)<<24|(t>>>8&255)<<16|(255&t)<<8|t>>>24&255},__fromBGRA:function(t){return(t>>>8&255)<<24|(t>>>16&255)<<16|(t>>>24&255)<<8|255&t},get_a:function(t){return 255&t},set_a:function(t,e){return e},get_b:function(t){return t>>>8&255},set_b:function(t,e){return e},get_g:function(t){return t>>>16&255},set_g:function(t,e){return e},get_r:function(t){return t>>>24&255},set_r:function(t,e){return e}},Jl=function(t,e,i,s){null==s&&(s=0),null==i&&(i=0),null==e&&(e=0),null==t&&(t=0),this.x=t,this.y=e,this.width=i,this.height=s};r["lime.math.Rectangle"]=Jl,Jl.__name__="lime.math.Rectangle",Jl.prototype={height:null,width:null,x:null,y:null,clone:function(){return new Jl(this.x,this.y,this.width,this.height)},contains:function(t,e){return t>=this.x&&e>=this.y&&t<this.get_right()&&e<this.get_bottom()},containsPoint:function(t){return this.containsVector(t)},containsRect:function(t){return 0>=t.width||0>=t.height?t.x>this.x&&t.y>this.y&&t.get_right()<this.get_right()&&t.get_bottom()<this.get_bottom():t.x>=this.x&&t.y>=this.y&&t.get_right()<=this.get_right()&&t.get_bottom()<=this.get_bottom()},containsVector:function(t){return this.contains(t.x,t.y)},copyFrom:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},equals:function(t){return null!=t&&this.x==t.x&&this.y==t.y&&this.width==t.width&&this.height==t.height},inflate:function(t,e){this.x-=t,this.width+=2*t,this.y-=e,this.height+=2*e},inflateVector:function(t){this.inflate(t.x,t.y)},intersection:function(t,e){null==e&&(e=new Jl);var i=this.x<t.x?t.x:this.x,s=this.get_right()>t.get_right()?t.get_right():this.get_right();if(s<=i)return e.setEmpty(),e;var n=this.y<t.y?t.y:this.y;return(t=this.get_bottom()>t.get_bottom()?t.get_bottom():this.get_bottom())<=n?(e.setEmpty(),e):(e.x=i,e.y=n,e.width=s-i,e.height=t-n,e)},intersects:function(t){var e=this.x<t.x?t.x:this.x;return!((this.get_right()>t.get_right()?t.get_right():this.get_right())<=e)&&(e=this.y<t.y?t.y:this.y,(this.get_bottom()>t.get_bottom()?t.get_bottom():this.get_bottom())>e)},isEmpty:function(){return 0>=this.width||0>=this.height},offset:function(t,e){this.x+=t,this.y+=e},offsetVector:function(t){this.x+=t.x,this.y+=t.y},setEmpty:function(){this.x=this.y=this.width=this.height=0},setTo:function(t,e,i,s){this.x=t,this.y=e,this.width=i,this.height=s},union:function(t,e){if(null==e&&(e=new Jl),0==this.width||0==this.height)e.copyFrom(t);else if(0==t.width||0==t.height)e.copyFrom(this);else{var i=this.x>t.x?t.x:this.x,s=this.get_right()<t.get_right()?t.get_right():this.get_right(),n=this.y>t.y?t.y:this.y;t=this.get_bottom()<t.get_bottom()?t.get_bottom():this.get_bottom(),e.setTo(i,n,s-i,t-n)}return e},__toFlashRectangle:function(){return null},get_bottom:function(){return this.y+this.height},set_bottom:function(t){return this.height=t-this.y,t},get_bottomRight:function(){return new Zl(this.x+this.width,this.y+this.height)},set_bottomRight:function(t){return this.width=t.x-this.x,this.height=t.y-this.y,t.clone()},get_left:function(){return this.x},set_left:function(t){return this.width-=t-this.x,this.x=t},get_right:function(){return this.x+this.width},set_right:function(t){return this.width=t-this.x,t},get_size:function(){return new Zl(this.width,this.height)},set_size:function(t){return this.width=t.x,this.height=t.y,t.clone()},get_top:function(){return this.y},set_top:function(t){return this.height-=t-this.y,this.y=t},get_topLeft:function(){return new Zl(this.x,this.y)},set_topLeft:function(t){return this.x=t.x,this.y=t.y,t.clone()},__class__:Jl,__properties__:{set_topLeft:"set_topLeft",get_topLeft:"get_topLeft",set_top:"set_top",get_top:"get_top",set_size:"set_size",get_size:"get_size",set_right:"set_right",get_right:"get_right",set_left:"set_left",get_left:"get_left",set_bottomRight:"set_bottomRight",get_bottomRight:"get_bottomRight",set_bottom:"set_bottom",get_bottom:"get_bottom"}};var Zl=function(t,e){null==e&&(e=0),null==t&&(t=0),this.x=t,this.y=e};r["lime.math.Vector2"]=Zl,Zl.__name__="lime.math.Vector2",Zl.distance=function(t,e){var i=t.x-e.x;return t=t.y-e.y,Math.sqrt(i*i+t*t)},Zl.interpolate=function(t,e,i,s){return null==s&&(s=new Zl),s.x=e.x+i*(t.x-e.x),s.y=e.y+i*(t.y-e.y),s},Zl.polar=function(t,e,i){null==i&&(i=new Zl);var s=t*Math.sin(e);return i.x=t*Math.cos(e),i.y=s,i},Zl.prototype={x:null,y:null,add:function(t,e){return null==e&&(e=new Zl),e.x=t.x+this.x,e.y=t.y+this.y,e},clone:function(){return new Zl(this.x,this.y)},equals:function(t){return null!=t&&t.x==this.x&&t.y==this.y},normalize:function(t){0==this.x&&0==this.y||(t/=Math.sqrt(this.x*this.x+this.y*this.y),this.x*=t,this.y*=t)},offset:function(t,e){this.x+=t,this.y+=e},setTo:function(t,e){this.x=t,this.y=e},subtract:function(t,e){return null==e&&(e=new Zl),e.x=this.x-t.x,e.y=this.y-t.y,e},__toFlashPoint:function(){return null},get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},get_lengthSquared:function(){return this.x*this.x+this.y*this.y},__class__:Zl,__properties__:{get_lengthSquared:"get_lengthSquared",get_length:"get_length"}};var Ql=function(t,e,i,s){null==s&&(s=0),null==i&&(i=0),null==e&&(e=0),null==t&&(t=0),this.w=s,this.x=t,this.y=e,this.z=i};r["lime.math.Vector4"]=Ql,Ql.__name__="lime.math.Vector4",Ql.__properties__={get_Z_AXIS:"get_Z_AXIS",get_Y_AXIS:"get_Y_AXIS",get_X_AXIS:"get_X_AXIS"},Ql.angleBetween=function(t,e){t=new Ql(t.x,t.y,t.z,t.w);var i=Math.sqrt(t.x*t.x+t.y*t.y+t.z*t.z);return 0!=i&&(t.x/=i,t.y/=i,t.z/=i),e=new Ql(e.x,e.y,e.z,e.w),0!=(i=Math.sqrt(e.x*e.x+e.y*e.y+e.z*e.z))&&(e.x/=i,e.y/=i,e.z/=i),Math.acos(t.x*e.x+t.y*e.y+t.z*e.z)},Ql.distance=function(t,e){var i=e.x-t.x,s=e.y-t.y;return t=e.z-t.z,Math.sqrt(i*i+s*s+t*t)},Ql.distanceSquared=function(t,e){var i=e.x-t.x,s=e.y-t.y;return i*i+s*s+(t=e.z-t.z)*t},Ql.get_X_AXIS=function(){return new Ql(1,0,0)},Ql.get_Y_AXIS=function(){return new Ql(0,1,0)},Ql.get_Z_AXIS=function(){return new Ql(0,0,1)},Ql.prototype={w:null,x:null,y:null,z:null,add:function(t,e){return null==e&&(e=new Ql),e.x=this.x+t.x,e.y=this.y+t.y,e.z=this.z+t.z,e},clone:function(){return new Ql(this.x,this.y,this.z,this.w)},copyFrom:function(t){this.x=t.x,this.y=t.y,this.z=t.z},crossProduct:function(t,e){null==e&&(e=new Ql);var i=this.z*t.x-this.x*t.z,s=this.x*t.y-this.y*t.x;return e.x=this.y*t.z-this.z*t.y,e.y=i,e.z=s,e.w=1,e},decrementBy:function(t){this.x-=t.x,this.y-=t.y,this.z-=t.z},dotProduct:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},equals:function(t,e){return null==e&&(e=!1),this.x==t.x&&this.y==t.y&&this.z==t.z&&(!e||this.w==t.w)},incrementBy:function(t){this.x+=t.x,this.y+=t.y,this.z+=t.z},nearEquals:function(t,e,i){return null==i&&(i=!1),Math.abs(this.x-t.x)<e&&Math.abs(this.y-t.y)<e&&Math.abs(this.z-t.z)<e&&(!i||Math.abs(this.w-t.w)<e)},negate:function(){this.x*=-1,this.y*=-1,this.z*=-1},normalize:function(){var t=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);return 0!=t&&(this.x/=t,this.y/=t,this.z/=t),t},project:function(){this.x/=this.w,this.y/=this.w,this.z/=this.w},scaleBy:function(t){this.x*=t,this.y*=t,this.z*=t},setTo:function(t,e,i){this.x=t,this.y=e,this.z=i},subtract:function(t,e){return null==e&&(e=new Ql),e.x=this.x-t.x,e.y=this.y-t.y,e.z=this.z-t.z,e},toString:function(){return"Vector4("+this.x+", "+this.y+", "+this.z+")"},get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},get_lengthSquared:function(){return this.x*this.x+this.y*this.y+this.z*this.z},__class__:Ql,__properties__:{get_lengthSquared:"get_lengthSquared",get_length:"get_length"}};var ql=function(){};r["lime.media.AudioBuffer"]=ql,ql.__name__="lime.media.AudioBuffer",ql.fromBase64=function(t){if(null==t)return null;-1==t.indexOf(",")&&(t="data:"+ql.__getCodec(ko.decode(t))+";base64,"+t);var e=new ql;return e.set_src(new Howl({src:[t],html5:!0,preload:!1})),e},ql.fromBytes=function(t){if(null==t)return null;var e=new ql;return e.set_src(new Howl({src:["data:"+ql.__getCodec(t)+";base64,"+ko.encode(t)],html5:!0,preload:!1})),e},ql.fromFile=function(t){if(null==t)return null;var e=new ql;return e.__srcHowl=new Howl({src:[t],preload:!1}),e},ql.fromFiles=function(t){var e=new ql;return e.__srcHowl=new Howl({src:t,preload:!1}),e},ql.fromVorbisFile=function(t){return null},ql.loadFromFile=function(t){var e=new ol,i=ql.fromFile(t);return null!=i?null!=i&&(i.__srcHowl.on("load",function(){e.complete(i)}),i.__srcHowl.on("loaderror",function(t,i){e.error(i)}),i.__srcHowl.load()):e.error(null),e.future},ql.loadFromFiles=function(t){var e=new ol,i=ql.fromFiles(t);return null!=i?(i.__srcHowl.on("load",function(){e.complete(i)}),i.__srcHowl.on("loaderror",function(){e.error(null)}),i.__srcHowl.load()):e.error(null),e.future},ql.__getCodec=function(t){switch(t.getString(0,4)){case"OggS":return"audio/ogg";case"RIFF":if("WAVE"==t.getString(8,4))return"audio/wav";var e=t.b[1],i=t.b[2];switch(t.b[0]){case 73:if(68==e&&51==i)return"audio/mp3";break;case 255:switch(e){case 243:case 250:case 251:return"audio/mp3"}}break;case"fLaC":return"audio/flac";default:switch(e=t.b[1],i=t.b[2],t.b[0]){case 73:if(68==e&&51==i)return"audio/mp3";break;case 255:switch(e){case 243:case 250:case 251:return"audio/mp3"}}}return d_.error("Unsupported sound format",{fileName:"lime/media/AudioBuffer.hx",lineNumber:362,className:"lime.media.AudioBuffer",methodName:"__getCodec"}),null},ql.prototype={bitsPerSample:null,channels:null,data:null,sampleRate:null,__srcAudio:null,__srcBuffer:null,__srcCustom:null,__srcHowl:null,__srcSound:null,__srcVorbisFile:null,dispose:function(){this.__srcHowl.unload()},get_src:function(){return this.__srcHowl},set_src:function(t){return this.__srcHowl=t},__class__:ql,__properties__:{set_src:"set_src",get_src:"get_src"}};var $l=function(t){if("custom"!=t){if(null==t||"web"==t)try{window.AudioContext=window.AudioContext||window.webkitAudioContext,this.web=new window.AudioContext,this.type="web"}catch(t){Ma.lastError=t}null==this.web&&"web"!=t&&(this.html5=new sh,this.type="html5")}else this.type="custom"};r["lime.media.AudioContext"]=$l,$l.__name__="lime.media.AudioContext",$l.prototype={custom:null,flash:null,html5:null,openal:null,type:null,web:null,__class__:$l};var th=function(){};r["lime.media.AudioManager"]=th,th.__name__="lime.media.AudioManager",th.init=function(t){if(null==th.context){if(null==t&&(th.context=new $l,"openal"==(t=th.context).type)){var e=t.openal,i=e.openDevice();i=e.createContext(i),e.makeContextCurrent(i),e.processContext(i)}th.context=t}},th.resume=function(){if(null!=th.context&&"openal"==th.context.type){var t=th.context.openal,e=t.getCurrentContext();if(null!=e){var i=t.getContextsDevice(e);t.resumeDevice(i),t.processContext(e)}}},th.shutdown=function(){if(null!=th.context&&"openal"==th.context.type){var t=th.context.openal,e=t.getCurrentContext();if(null!=e){var i=t.getContextsDevice(e);t.makeContextCurrent(null),t.destroyContext(e),null!=i&&t.closeDevice(i)}}th.context=null},th.suspend=function(){if(null!=th.context&&"openal"==th.context.type){var t=th.context.openal,e=t.getCurrentContext();null!=e&&(t.suspendContext(e),null!=(e=t.getContextsDevice(e))&&t.pauseDevice(e))}};var eh=function(t,e,i,s){null==s&&(s=0),null==e&&(e=0),this.onComplete=new xl,this.buffer=t,this.offset=e,this.__backend=new To(this),null!=i&&0!=i&&this.set_length(i),this.set_loops(s),null!=t&&this.init()};r["lime.media.AudioSource"]=eh,eh.__name__="lime.media.AudioSource",eh.prototype={onComplete:null,buffer:null,offset:null,_pan:null,_position:null,__backend:null,dispose:function(){this.__backend.dispose()},init:function(){this.__backend.init()},play:function(){this.__backend.play()},pause:function(){this.__backend.pause()},stop:function(){this.__backend.stop()},get_currentTime:function(){return this.__backend.getCurrentTime()},set_currentTime:function(t){return this.__backend.setCurrentTime(t)},get_gain:function(){return this.__backend.getGain()},set_gain:function(t){return this.__backend.setGain(t)},get_length:function(){return this.__backend.getLength()},set_length:function(t){return this.__backend.setLength(t)},get_loops:function(){return this.__backend.getLoops()},set_loops:function(t){return this.__backend.setLoops(t)},get_pan:function(){return this._pan},set_pan:function(t){return null!=this._position?this._pan:(null==t&&(this._pan=this.__backend.setPan(0)),this._pan=this.__backend.setPan(t))},get_pitch:function(){return this.__backend.getPitch()},set_pitch:function(t){return this.__backend.setPitch(t)},get_position:function(){return this._position},set_position:function(t){return null!=this._pan?this._position:(null==t&&(this._position=this.__backend.setPosition(new Ql(0,0,0,0))),this._position=this.__backend.setPosition(t))},__class__:eh,__properties__:{set_position:"set_position",get_position:"get_position",set_pan:"set_pan",get_pan:"get_pan",set_pitch:"set_pitch",get_pitch:"get_pitch",set_loops:"set_loops",get_loops:"get_loops",set_length:"set_length",get_length:"get_length",set_gain:"set_gain",get_gain:"get_gain",set_currentTime:"set_currentTime",get_currentTime:"get_currentTime"}};var ih=function(){};r["lime.media.FlashAudioContext"]=ih,ih.__name__="lime.media.FlashAudioContext",ih.prototype={createBuffer:function(t,e){return null},getBytesLoaded:function(t){return 0},getBytesTotal:function(t){return 0},getID3:function(t){return null},getIsBuffering:function(t){return!1},getIsURLInaccessible:function(t){return!1},getLength:function(t){return 0},getURL:function(t){return null},close:function(t){},extract:function(t,e,i,s){return 0},load:function(t,e,i){},loadCompressedDataFromByteArray:function(t,e,i){},loadPCMFromByteArray:function(t,e,i,s,n,r){},play:function(t,e,i,s){return null},__class__:ih};var sh=function(){this.NETWORK_NO_SOURCE=3,this.NETWORK_LOADING=2,this.NETWORK_IDLE=1,this.HAVE_NOTHING=this.NETWORK_EMPTY=0,this.HAVE_METADATA=1,this.HAVE_FUTURE_DATA=3,this.HAVE_ENOUGH_DATA=4,this.HAVE_CURRENT_DATA=2};r["lime.media.HTML5AudioContext"]=sh,sh.__name__="lime.media.HTML5AudioContext",sh.prototype={HAVE_CURRENT_DATA:null,HAVE_ENOUGH_DATA:null,HAVE_FUTURE_DATA:null,HAVE_METADATA:null,HAVE_NOTHING:null,NETWORK_EMPTY:null,NETWORK_IDLE:null,NETWORK_LOADING:null,NETWORK_NO_SOURCE:null,canPlayType:function(t,e){return null!=t.__srcAudio?t.__srcAudio.canPlayType(e):null},createBuffer:function(t){var e=new ql;return e.__srcAudio=new Audio,e.__srcAudio.src=t,e},getAutoplay:function(t){return null!=t.__srcAudio&&t.__srcAudio.autoplay},getBuffered:function(t){return null!=t.__srcAudio?t.__srcAudio.buffered:null},getCurrentSrc:function(t){return null!=t.__srcAudio?t.__srcAudio.currentSrc:null},getCurrentTime:function(t){return null!=t.__srcAudio?t.__srcAudio.currentTime:0},getDefaultPlaybackRate:function(t){return null!=t.__srcAudio?t.__srcAudio.defaultPlaybackRate:1},getDuration:function(t){return null!=t.__srcAudio?t.__srcAudio.duration:0},getEnded:function(t){return null!=t.__srcAudio&&t.__srcAudio.ended},getError:function(t){return null!=t.__srcAudio?t.__srcAudio.error:null},getLoop:function(t){return null!=t.__srcAudio&&t.__srcAudio.loop},getMuted:function(t){return null!=t.__srcAudio&&t.__srcAudio.muted},getNetworkState:function(t){return null!=t.__srcAudio?t.__srcAudio.networkState:0},getPaused:function(t){return null!=t.__srcAudio&&t.__srcAudio.paused},getPlaybackRate:function(t){return null!=t.__srcAudio?t.__srcAudio.playbackRate:1},getPlayed:function(t){return null!=t.__srcAudio?t.__srcAudio.played:null},getPreload:function(t){return null!=t.__srcAudio?t.__srcAudio.preload:null},getReadyState:function(t){return null!=t.__srcAudio?t.__srcAudio.readyState:0},getSeekable:function(t){return null!=t.__srcAudio?t.__srcAudio.seekable:null},getSeeking:function(t){return null!=t.__srcAudio&&t.__srcAudio.seeking},getSrc:function(t){return null!=t.__srcAudio?t.__srcAudio.src:null},getStartTime:function(t){return null!=t.__srcAudio?t.__srcAudio.playbackRate:0},getVolume:function(t){return null!=t.__srcAudio?t.__srcAudio.volume:1},load:function(t){null!=t.__srcAudio&&t.__srcAudio.load()},pause:function(t){null!=t.__srcAudio&&t.__srcAudio.pause()},play:function(t){null!=t.__srcAudio&&t.__srcAudio.play()},setAutoplay:function(t,e){null!=t.__srcAudio&&(t.__srcAudio.autoplay=e)},setCurrentTime:function(t,e){null!=t.__srcAudio&&(t.__srcAudio.currentTime=e)},setDefaultPlaybackRate:function(t,e){null!=t.__srcAudio&&(t.__srcAudio.defaultPlaybackRate=e)},setLoop:function(t,e){null!=t.__srcAudio&&(t.__srcAudio.loop=e)},setMuted:function(t,e){null!=t.__srcAudio&&(t.__srcAudio.muted=e)},setPlaybackRate:function(t,e){null!=t.__srcAudio&&(t.__srcAudio.playbackRate=e)},setPreload:function(t,e){null!=t.__srcAudio&&(t.__srcAudio.preload=e)},setSrc:function(t,e){null!=t.__srcAudio&&(t.__srcAudio.src=e)},setVolume:function(t,e){null!=t.__srcAudio&&(t.__srcAudio.volume=e)},__class__:sh};var nh=function(){this.ALL_DEVICES_SPECIFIER=4115,this.DEFAULT_ALL_DEVICES_SPECIFIER=4114,this.ENUMERATE_ALL_EXT=1,this.DEVICE_SPECIFIER=4101,this.DEFAULT_DEVICE_SPECIFIER=4100,this.ALL_ATTRIBUTES=4099,this.ATTRIBUTES_SIZE=4098,this.INVALID_CONTEXT=40962,this.INVALID_DEVICE=40961,this.STEREO_SOURCES=4113,this.MONO_SOURCES=4112,this.SYNC=4105,this.REFRESH=4104,this.EXPONENT_DISTANCE_CLAMPED=53254,this.EXPONENT_DISTANCE=53253,this.LINEAR_DISTANCE_CLAMPED=53252,this.LINEAR_DISTANCE=53251,this.INVERSE_DISTANCE_CLAMPED=53250,this.INVERSE_DISTANCE=53249,this.DISTANCE_MODEL=53248,this.DOPPLER_VELOCITY=49153,this.SPEED_OF_SOUND=49155,this.DOPPLER_FACTOR=49152,this.EXTENSIONS=45060,this.RENDERER=45059,this.VERSION=45058,this.VENDOR=45057,this.OUT_OF_MEMORY=40965,this.INVALID_OPERATION=40964,this.INVALID_VALUE=40963,this.INVALID_ENUM=40962,this.INVALID_NAME=40961,this.NO_ERROR=0,this.SIZE=8196,this.CHANNELS=8195,this.BITS=8194,this.FREQUENCY=8193,this.FORMAT_STEREO16=4355,this.FORMAT_STEREO8=4354,this.FORMAT_MONO16=4353,this.FORMAT_MONO8=4352,this.UNDETERMINED=4144,this.STREAMING=4137,this.STATIC=4136,this.SOURCE_TYPE=4135,this.BYTE_OFFSET=4134,this.SAMPLE_OFFSET=4133,this.SEC_OFFSET=4132,this.MAX_DISTANCE=4131,this.CONE_OUTER_GAIN=4130,this.ROLLOFF_FACTOR=4129,this.REFERENCE_DISTANCE=4128,this.BUFFERS_PROCESSED=4118,this.BUFFERS_QUEUED=4117,this.STOPPED=4116,this.PAUSED=4115,this.PLAYING=4114,this.INITIAL=4113,this.SOURCE_STATE=4112,this.ORIENTATION=4111,this.MAX_GAIN=4110,this.MIN_GAIN=4109,this.GAIN=4106,this.BUFFER=4105,this.LOOPING=4103,this.VELOCITY=4102,this.DIRECTION=4101,this.POSITION=4100,this.PITCH=4099,this.CONE_OUTER_ANGLE=4098,this.CONE_INNER_ANGLE=4097,this.SOURCE_RELATIVE=514,this.TRUE=1,this.NONE=this.FALSE=0};r["lime.media.OpenALAudioContext"]=nh,nh.__name__="lime.media.OpenALAudioContext",nh.prototype={NONE:null,FALSE:null,TRUE:null,SOURCE_RELATIVE:null,CONE_INNER_ANGLE:null,CONE_OUTER_ANGLE:null,PITCH:null,POSITION:null,DIRECTION:null,VELOCITY:null,LOOPING:null,BUFFER:null,GAIN:null,MIN_GAIN:null,MAX_GAIN:null,ORIENTATION:null,SOURCE_STATE:null,INITIAL:null,PLAYING:null,PAUSED:null,STOPPED:null,BUFFERS_QUEUED:null,BUFFERS_PROCESSED:null,REFERENCE_DISTANCE:null,ROLLOFF_FACTOR:null,CONE_OUTER_GAIN:null,MAX_DISTANCE:null,SEC_OFFSET:null,SAMPLE_OFFSET:null,BYTE_OFFSET:null,SOURCE_TYPE:null,STATIC:null,STREAMING:null,UNDETERMINED:null,FORMAT_MONO8:null,FORMAT_MONO16:null,FORMAT_STEREO8:null,FORMAT_STEREO16:null,FREQUENCY:null,BITS:null,CHANNELS:null,SIZE:null,NO_ERROR:null,INVALID_NAME:null,INVALID_ENUM:null,INVALID_VALUE:null,INVALID_OPERATION:null,OUT_OF_MEMORY:null,VENDOR:null,VERSION:null,RENDERER:null,EXTENSIONS:null,DOPPLER_FACTOR:null,SPEED_OF_SOUND:null,DOPPLER_VELOCITY:null,DISTANCE_MODEL:null,INVERSE_DISTANCE:null,INVERSE_DISTANCE_CLAMPED:null,LINEAR_DISTANCE:null,LINEAR_DISTANCE_CLAMPED:null,EXPONENT_DISTANCE:null,EXPONENT_DISTANCE_CLAMPED:null,REFRESH:null,SYNC:null,MONO_SOURCES:null,STEREO_SOURCES:null,INVALID_DEVICE:null,INVALID_CONTEXT:null,ATTRIBUTES_SIZE:null,ALL_ATTRIBUTES:null,DEFAULT_DEVICE_SPECIFIER:null,DEVICE_SPECIFIER:null,ENUMERATE_ALL_EXT:null,DEFAULT_ALL_DEVICES_SPECIFIER:null,ALL_DEVICES_SPECIFIER:null,bufferData:function(t,e,i,s,n){rh.bufferData(t,e,i,s,n)},buffer3f:function(t,e,i,s,n){rh.buffer3f(t,e,i,s,n)},buffer3i:function(t,e,i,s,n){rh.buffer3i(t,e,i,s,n)},bufferf:function(t,e,i){rh.bufferf(t,e,i)},bufferfv:function(t,e,i){rh.bufferfv(t,e,i)},bufferi:function(t,e,i){rh.bufferi(t,e,i)},bufferiv:function(t,e,i){rh.bufferiv(t,e,i)},closeDevice:function(t){return ah.closeDevice(t)},createContext:function(t,e){return ah.createContext(t,e)},createBuffer:function(){return rh.createBuffer()},createSource:function(){return rh.createSource()},deleteBuffer:function(t){rh.deleteBuffer(t)},deleteBuffers:function(t){rh.deleteBuffers(t)},deleteSource:function(t){rh.deleteSource(t)},deleteSources:function(t){rh.deleteSources(t)},destroyContext:function(t){null!=t&&ah.destroyContext(t)},disable:function(t){rh.disable(t)},distanceModel:function(t){rh.distanceModel(t)},dopplerFactor:function(t){rh.dopplerFactor(t)},dopplerVelocity:function(t){rh.dopplerVelocity(t)},enable:function(t){rh.enable(t)},genSource:function(){return this.createSource()},genSources:function(t){return rh.genSources(t)},genBuffer:function(){return this.createBuffer()},genBuffers:function(t){return rh.genBuffers(t)},getBoolean:function(t){return rh.getBoolean(t)},getBooleanv:function(t,e){return null==e&&(e=1),rh.getBooleanv(t,e)},getBuffer3f:function(t,e){return rh.getBuffer3f(t,e)},getBuffer3i:function(t,e){return rh.getBuffer3i(t,e)},getBufferf:function(t,e){return rh.getBufferf(t,e)},getBufferfv:function(t,e,i){return null==i&&(i=1),rh.getBufferfv(t,e,i)},getBufferi:function(t,e){return rh.getBufferi(t,e)},getBufferiv:function(t,e,i){return null==i&&(i=1),rh.getBufferiv(t,e,i)},getContextsDevice:function(t){return null==t?null:ah.getContextsDevice(t)},getCurrentContext:function(){return ah.getCurrentContext()},getDouble:function(t){return rh.getDouble(t)},getDoublev:function(t,e){return null==e&&(e=1),rh.getDoublev(t,e)},getEnumValue:function(t){return rh.getEnumValue(t)},getError:function(t){return null==t?rh.getError():ah.getError(t)},getErrorString:function(t){return null==t?rh.getErrorString():ah.getErrorString(t)},getFloat:function(t){return rh.getFloat(t)},getFloatv:function(t,e){return null==e&&(e=1),rh.getFloatv(t,e)},getInteger:function(t){return rh.getInteger(t)},getIntegerv:function(t,e,i){return null==e&&(e=1),null==i?rh.getIntegerv(t,e):ah.getIntegerv(i,t,e)},getListener3f:function(t){return rh.getListener3f(t)},getListener3i:function(t){return rh.getListener3i(t)},getListenerf:function(t){return rh.getListenerf(t)},getListenerfv:function(t,e){return null==e&&(e=1),rh.getListenerfv(t,e)},getListeneri:function(t){return rh.getListeneri(t)},getListeneriv:function(t,e){return null==e&&(e=1),rh.getListeneriv(t,e)},getProcAddress:function(t){return rh.getProcAddress(t)},getSource3f:function(t,e){return rh.getSource3f(t,e)},getSourcef:function(t,e){return rh.getSourcef(t,e)},getSource3i:function(t,e){return rh.getSource3i(t,e)},getSourcefv:function(t,e,i){return rh.getSourcefv(t,e)},getSourcei:function(t,e){return rh.getSourcei(t,e)},getSourceiv:function(t,e,i){return null==i&&(i=1),rh.getSourceiv(t,e,i)},getString:function(t,e){return null==e?rh.getString(t):ah.getString(e,t)},isBuffer:function(t){return rh.isBuffer(t)},isEnabled:function(t){return rh.isEnabled(t)},isExtensionPresent:function(t){return rh.isExtensionPresent(t)},isSource:function(t){return rh.isSource(t)},listener3f:function(t,e,i,s){rh.listener3f(t,e,i,s)},listener3i:function(t,e,i,s){rh.listener3i(t,e,i,s)},listenerf:function(t,e){rh.listenerf(t,e)},listenerfv:function(t,e){rh.listenerfv(t,e)},listeneri:function(t,e){rh.listeneri(t,e)},listeneriv:function(t,e){rh.listeneriv(t,e)},makeContextCurrent:function(t){return ah.makeContextCurrent(t)},openDevice:function(t){return ah.openDevice(t)},pauseDevice:function(t){ah.pauseDevice(t)},processContext:function(t){ah.processContext(t)},resumeDevice:function(t){ah.resumeDevice(t)},source3f:function(t,e,i,s,n){rh.source3f(t,e,i,s,n)},source3i:function(t,e,i,s,n){rh.source3i(t,e,i,s,n)},sourcef:function(t,e,i){rh.sourcef(t,e,i)},sourcefv:function(t,e,i){rh.sourcefv(t,e,i)},sourcei:function(t,e,i){rh.sourcei(t,e,i)},sourceiv:function(t,e,i){rh.sourceiv(t,e,i)},sourcePlay:function(t){rh.sourcePlay(t)},sourcePlayv:function(t){rh.sourcePlayv(t)},sourceStop:function(t){rh.sourceStop(t)},sourceStopv:function(t){rh.sourceStopv(t)},sourceRewind:function(t){rh.sourceRewind(t)},sourceRewindv:function(t){rh.sourceRewindv(t)},sourcePause:function(t){rh.sourcePause(t)},sourcePausev:function(t){rh.sourcePausev(t)},sourceQueueBuffer:function(t,e){rh.sourceQueueBuffer(t,e)},sourceQueueBuffers:function(t,e,i){rh.sourceQueueBuffers(t,e,i)},sourceUnqueueBuffer:function(t){return rh.sourceUnqueueBuffer(t)},sourceUnqueueBuffers:function(t,e){return rh.sourceUnqueueBuffers(t,e)},speedOfSound:function(t){rh.speedOfSound(t)},suspendContext:function(t){ah.suspendContext(t)},__class__:nh};var rh=function(){};r["lime.media.openal.AL"]=rh,rh.__name__="lime.media.openal.AL",rh.removeDirectFilter=function(t){},rh.removeSend=function(t,e){},rh.auxf=function(t,e,i){},rh.auxfv=function(t,e,i){},rh.auxi=function(t,e,i){},rh.auxiv=function(t,e,i){},rh.bufferData=function(t,e,i,s,n){},rh.buffer3f=function(t,e,i,s,n){},rh.buffer3i=function(t,e,i,s,n){},rh.bufferf=function(t,e,i){},rh.bufferfv=function(t,e,i){},rh.bufferi=function(t,e,i){},rh.bufferiv=function(t,e,i){},rh.createAux=function(){return null},rh.createBuffer=function(){return null},rh.createEffect=function(){return null},rh.createFilter=function(){return null},rh.createSource=function(){return null},rh.deleteBuffer=function(t){},rh.deleteBuffers=function(t){},rh.deleteSource=function(t){},rh.deleteSources=function(t){},rh.disable=function(t){},rh.distanceModel=function(t){},rh.dopplerFactor=function(t){},rh.dopplerVelocity=function(t){},rh.effectf=function(t,e,i){},rh.effectfv=function(t,e,i){},rh.effecti=function(t,e,i){},rh.effectiv=function(t,e,i){},rh.enable=function(t){},rh.genSource=function(){return null},rh.genSources=function(t){return null},rh.genBuffer=function(){return null},rh.genBuffers=function(t){return null},rh.getBoolean=function(t){return!1},rh.getBooleanv=function(t,e){return null},rh.getBuffer3f=function(t,e){return null},rh.getBuffer3i=function(t,e){return null},rh.getBufferf=function(t,e){return 0},rh.getBufferfv=function(t,e,i){return null},rh.getBufferi=function(t,e){return 0},rh.getBufferiv=function(t,e,i){return null},rh.getDouble=function(t){return 0},rh.getDoublev=function(t,e){return null},rh.getEnumValue=function(t){return 0},rh.getError=function(){return 0},rh.getErrorString=function(){switch(rh.getError()){case 40961:return"INVALID_NAME: Invalid parameter name";case 40962:return"INVALID_ENUM: Invalid enum value";case 40963:return"INVALID_VALUE: Invalid parameter value";case 40964:return"INVALID_OPERATION: Illegal operation or call";case 40965:return"OUT_OF_MEMORY: OpenAL has run out of memory";default:return""}},rh.getFilteri=function(t,e){return 0},rh.getFloat=function(t){return 0},rh.getFloatv=function(t,e){return null},rh.getInteger=function(t){return 0},rh.getIntegerv=function(t,e){return null},rh.getListener3f=function(t){return null},rh.getListener3i=function(t){return null},rh.getListenerf=function(t){return 0},rh.getListenerfv=function(t,e){return null},rh.getListeneri=function(t){return 0},rh.getListeneriv=function(t,e){return null},rh.getParameter=function(t){return null},rh.getProcAddress=function(t){return null},rh.getSource3f=function(t,e){return null},rh.getSourcef=function(t,e){return 0},rh.getSource3i=function(t,e){return null},rh.getSourcefv=function(t,e,i){return null},rh.getSourcei=function(t,e){return 0},rh.getSourceiv=function(t,e,i){return null},rh.getString=function(t){return null},rh.isBuffer=function(t){return!1},rh.isEnabled=function(t){return!1},rh.isExtensionPresent=function(t){return!1},rh.isAux=function(t){return!1},rh.isEffect=function(t){return!1},rh.isFilter=function(t){return!1},rh.isSource=function(t){return!1},rh.listener3f=function(t,e,i,s){},rh.listener3i=function(t,e,i,s){},rh.listenerf=function(t,e){},rh.listenerfv=function(t,e){},rh.listeneri=function(t,e){},rh.listeneriv=function(t,e){},rh.source3f=function(t,e,i,s,n){},rh.source3i=function(t,e,i,s,n){},rh.sourcef=function(t,e,i){},rh.sourcefv=function(t,e,i){},rh.sourcei=function(t,e,i){},rh.filteri=function(t,e,i){},rh.filterf=function(t,e,i){},rh.sourceiv=function(t,e,i){},rh.sourcePlay=function(t){},rh.sourcePlayv=function(t){},rh.sourceStop=function(t){},rh.sourceStopv=function(t){},rh.sourceRewind=function(t){},rh.sourceRewindv=function(t){},rh.sourcePause=function(t){},rh.sourcePausev=function(t){},rh.sourceQueueBuffer=function(t,e){},rh.sourceQueueBuffers=function(t,e,i){},rh.sourceUnqueueBuffer=function(t){return 0},rh.sourceUnqueueBuffers=function(t,e){return null},rh.speedOfSound=function(t){};var ah=function(){};r["lime.media.openal.ALC"]=ah,ah.__name__="lime.media.openal.ALC",ah.closeDevice=function(t){return!1},ah.createContext=function(t,e){return null},ah.destroyContext=function(t){},ah.getContextsDevice=function(t){return null},ah.getCurrentContext=function(){return null},ah.getError=function(t){return 0},ah.getErrorString=function(t){switch(ah.getError(t)){case 40961:return"INVALID_DEVICE: Invalid device (or no device?)";case 40962:return"INVALID_CONTEXT: Invalid context (or no context?)";case 40963:return"INVALID_ENUM: Invalid enum value";case 40964:return"INVALID_VALUE: Invalid param value";case 40965:return"OUT_OF_MEMORY: OpenAL has run out of memory";default:return""}},ah.getIntegerv=function(t,e,i){return null},ah.getString=function(t,e){return null},ah.makeContextCurrent=function(t){return!1},ah.openDevice=function(t){return null},ah.pauseDevice=function(t){},ah.processContext=function(t){},ah.resumeDevice=function(t){},ah.suspendContext=function(t){};var oh=function(){};r["lime.media.vorbis.VorbisComment"]=oh,oh.__name__="lime.media.vorbis.VorbisComment",oh.prototype={userComments:null,vendor:null,__class__:oh};var lh=function(t){this.handle=t};r["lime.media.vorbis.VorbisFile"]=lh,lh.__name__="lime.media.vorbis.VorbisFile",lh.fromBytes=function(t){return null},lh.fromFile=function(t){return null},lh.prototype={bitstream:null,handle:null,bitrate:function(t){return 0},bitrateInstant:function(){return 0},clear:function(){},comment:function(t){return null},crosslap:function(t){return 0},info:function(t){return null},pcmSeek:function(t){return 0},pcmSeekLap:function(t){return 0},pcmSeekPage:function(t){return 0},pcmSeekPageLap:function(t){return 0},pcmTell:function(){return new Aa(0,0)},pcmTotal:function(t){return new Aa(0,0)},rawSeek:function(t){return 0},rawSeekLap:function(t){return 0},rawTell:function(){return new Aa(0,0)},rawTotal:function(t){return new Aa(0,0)},read:function(t,e,i,s,n,r){return 0},readFloat:function(t,e){return 0},seekable:function(){return!1},serialNumber:function(t){return 0},streams:function(){return 0},timeSeek:function(t){return 0},timeSeekLap:function(t){return 0},timeSeekPage:function(t){return 0},timeSeekPageLap:function(t){return 0},timeTell:function(){return 0},timeTotal:function(t){return 0},__class__:lh};var hh=function(){};r["lime.media.vorbis.VorbisInfo"]=hh,hh.__name__="lime.media.vorbis.VorbisInfo",hh.prototype={bitrateLower:null,bitrateNominal:null,bitrateUpper:null,channels:null,rate:null,version:null,__class__:hh};var _h=function(){};r["lime.net._IHTTPRequest"]=_h,_h.__name__="lime.net._IHTTPRequest",_h.__isInterface__=!0,_h.prototype={contentType:null,data:null,enableResponseHeaders:null,followRedirects:null,formData:null,headers:null,method:null,responseHeaders:null,responseStatus:null,timeout:null,uri:null,userAgent:null,withCredentials:null,manageCookies:null,cancel:null,__class__:_h};var ch=function(t){this.uri=t,this.contentType="application/x-www-form-urlencoded",this.followRedirects=!0,this.enableResponseHeaders=!1,this.formData=new pr,this.headers=[],this.method="GET",this.timeout=3e4,this.withCredentials=!1,this.manageCookies=!0,this.__backend=new Mo,this.__backend.init(this)};r["lime.net._HTTPRequest.AbstractHTTPRequest"]=ch,ch.__name__="lime.net._HTTPRequest.AbstractHTTPRequest",ch.__interfaces__=[_h],ch.prototype={contentType:null,data:null,enableResponseHeaders:null,followRedirects:null,formData:null,headers:null,method:null,responseData:null,responseHeaders:null,responseStatus:null,timeout:null,uri:null,userAgent:null,withCredentials:null,manageCookies:null,__backend:null,cancel:function(){this.__backend.cancel()},load:function(t){return null},__class__:ch};var uh=function(t){ch.call(this,t)};r["lime.net.HTTPRequest"]=uh,uh.__name__="lime.net.HTTPRequest",uh.__super__=ch,uh.prototype=i(ch.prototype,{__class__:uh});var dh=function(t){ch.call(this,t)};r["lime.net._HTTPRequest_Bytes"]=dh,dh.__name__="lime.net._HTTPRequest_Bytes",dh.__super__=ch,dh.prototype=i(ch.prototype,{fromBytes:function(t){return t},load:function(t){var e=this;null!=t&&(this.uri=t);var i=new ol;return(t=this.__backend.loadData(this.uri)).onProgress(n(i,i.progress)),t.onError(n(i,i.error)),t.onComplete(function(t){e.responseData=e.fromBytes(t),i.complete(e.responseData)}),i.future},__class__:dh});var mh=function(t){ch.call(this,t)};r["lime.net._HTTPRequest_String"]=mh,mh.__name__="lime.net._HTTPRequest_String",mh.__super__=ch,mh.prototype=i(ch.prototype,{load:function(t){var e=this;null!=t&&(this.uri=t);var i=new ol;return(t=this.__backend.loadText(this.uri)).onProgress(n(i,i.progress)),t.onError(n(i,i.error)),t.onComplete(function(t){e.responseData=t,i.complete(e.responseData)}),i.future},__class__:mh});var ph=function(t,e){null==e&&(e=""),this.name=t,this.value=e};r["lime.net.HTTPRequestHeader"]=ph,ph.__name__="lime.net.HTTPRequestHeader",ph.prototype={name:null,value:null,__class__:ph};var fh=function(t){ch.call(this,t)};r["lime.net._HTTPRequest_lime_text_Font"]=fh,fh.__name__="lime.net._HTTPRequest_lime_text_Font",fh.__super__=dh,fh.prototype=i(dh.prototype,{fromBytes:function(t){return Oh.fromBytes(t)},__class__:fh});var gh=function(t){ch.call(this,t)};r["lime.net._HTTPRequest_lime_utils_Bytes"]=gh,gh.__name__="lime.net._HTTPRequest_lime_utils_Bytes",gh.__super__=dh,gh.prototype=i(dh.prototype,{fromBytes:function(t){return h_.fromBytes(t)},__class__:gh});var yh=function(t){ch.call(this,t)};r["lime.net._HTTPRequest_openfl_utils_ByteArray"]=yh,yh.__name__="lime.net._HTTPRequest_openfl_utils_ByteArray",yh.__super__=dh,yh.prototype=i(dh.prototype,{fromBytes:function(t){return Fm.fromBytes(t)},__class__:yh});var bh=function(){};r["lime.system.CFFI"]=bh,bh.__name__="lime.system.CFFI",bh.load=function(t,e,i,s){return null==s&&(s=!1),null==i&&(i=0),bh.enabled?null:f.makeVarArgs(function(t){return{}})},bh.__findHaxelib=function(t){return""},bh.__loaderTrace=function(t){},bh.__sysName=function(){return null},bh.__tryLoad=function(t,e,i,s){return null};var vh={_new:function(t){return t},get:function(t){return 0},equals:function(t,e){return vh.get(t)==e},equalsPointer:function(t,e){return vh.get(t)==vh.get(e)},greaterThan:function(t,e){return vh.get(t)>e},greaterThanPointer:function(t,e){return vh.get(t)>vh.get(e)},greaterThanOrEqual:function(t,e){return vh.get(t)>=e},greaterThanOrEqualPointer:function(t,e){return vh.get(t)>=vh.get(e)},lessThan:function(t,e){return vh.get(t)<e},lessThanPointer:function(t,e){return vh.get(t)<vh.get(e)},lessThanOrEqual:function(t,e){return vh.get(t)<=e},lessThanOrEqualPointer:function(t,e){return vh.get(t)<=vh.get(e)},notEquals:function(t,e){return vh.get(t)!=e},notEqualsPointer:function(t,e){return vh.get(t)!=vh.get(e)}},xh=function(){};r["lime.system.Clipboard"]=xh,xh.__name__="lime.system.Clipboard",xh.__properties__={set_text:"set_text",get_text:"get_text"},xh.__update=function(){var t=xh._text;xh._text=null,xh._text!=t&&xh.onUpdate.dispatch()},xh.get_text=function(){return xh.__update(),xh._text},xh.set_text=function(t){var e=xh._text;xh._text=t;var i=sl.current.__window;return null!=i&&i.__backend.setClipboard(t),xh._text!=e&&xh.onUpdate.dispatch(),t};var wh=function(){};r["lime.system.Display"]=wh,wh.__name__="lime.system.Display",wh.prototype={bounds:null,currentMode:null,id:null,dpi:null,name:null,supportedModes:null,__class__:wh};var Sh=function(t,e,i,s){this.width=t,this.height=e,this.refreshRate=i,this.pixelFormat=s};r["lime.system.DisplayMode"]=Sh,Sh.__name__="lime.system.DisplayMode",Sh.prototype={height:null,pixelFormat:null,refreshRate:null,width:null,__class__:Sh};var Rh=o["lime.system.Endian"]={__ename__:"lime.system.Endian",__constructs__:null,LITTLE_ENDIAN:{_hx_name:"LITTLE_ENDIAN",_hx_index:0,__enum__:"lime.system.Endian",toString:a},BIG_ENDIAN:{_hx_name:"BIG_ENDIAN",_hx_index:1,__enum__:"lime.system.Endian",toString:a}};Rh.__constructs__=[Rh.LITTLE_ENDIAN,Rh.BIG_ENDIAN];var Ah=function(){};r["lime.system.JNI"]=Ah,Ah.__name__="lime.system.JNI",Ah.callMember=function(t,e,i){switch(i.length){case 0:return t(e);case 1:return t(e,i[0]);case 2:return t(e,i[0],i[1]);case 3:return t(e,i[0],i[1],i[2]);case 4:return t(e,i[0],i[1],i[2],i[3]);case 5:return t(e,i[0],i[1],i[2],i[3],i[4]);case 6:return t(e,i[0],i[1],i[2],i[3],i[4],i[5]);case 7:return t(e,i[0],i[1],i[2],i[3],i[4],i[5],i[6]);default:return null}},Ah.callStatic=function(t,e){switch(e.length){case 0:return t();case 1:return t(e[0]);case 2:return t(e[0],e[1]);case 3:return t(e[0],e[1],e[2]);case 4:return t(e[0],e[1],e[2],e[3]);case 5:return t(e[0],e[1],e[2],e[3],e[4]);case 6:return t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return t(e[0],e[1],e[2],e[3],e[4],e[5],e[6]);default:return null}},Ah.createMemberField=function(t,e,i){return Ah.init(),new Th(null)},Ah.createMemberMethod=function(t,e,i,s,n){return Ah.init(),null},Ah.createStaticField=function(t,e,i){return Ah.init(),new Mh(null)},Ah.createStaticMethod=function(t,e,i,s,n){return Ah.init(),null},Ah.getEnv=function(){return Ah.init(),null},Ah.init=function(){Ah.initialized||(Ah.initialized=!0)},Ah.onCallback=function(t,e,i){return null!=(e=f.field(t,e))?(null==i&&(i=[]),e.apply(t,i)):null},Ah.postUICallback=function(t){t()};var Th=function(t){this.field=t};r["lime.system.JNIMemberField"]=Th,Th.__name__="lime.system.JNIMemberField",Th.prototype={field:null,get:function(t){return null},set:function(t,e){return e},__class__:Th};var Mh=function(t){this.field=t};r["lime.system.JNIStaticField"]=Mh,Mh.__name__="lime.system.JNIStaticField",Mh.prototype={field:null,get:function(){return null},set:function(t){return t},__class__:Mh};var Ph=function(t){this.method=t};r["lime.system.JNIMethod"]=Ph,Ph.__name__="lime.system.JNIMethod",Ph.prototype={method:null,callMember:function(t){return null},callStatic:function(t){return null},getMemberMethod:function(t){return t?n(this,this.callMember):f.makeVarArgs(n(this,this.callMember))},getStaticMethod:function(t){return t?n(this,this.callStatic):f.makeVarArgs(n(this,this.callStatic))},__class__:Ph};var Ch=function(){};r["lime.system.JNISafety"]=Ch,Ch.__name__="lime.system.JNISafety",Ch.__isInterface__=!0;var Ih=function(){};r["lime.system.JNISafetyTools"]=Ih,Ih.__name__="lime.system.JNISafetyTools",Ih.onMainThread=function(){return!0};var Eh={__properties__:{get_region:"get_region",get_language:"get_language",get_systemLocale:"get_systemLocale",set_currentLocale:"set_currentLocale",get_currentLocale:"get_currentLocale"},_new:function(t){return t},equals:function(t,e){var i=Eh.get_language(t);t=Eh.get_region(t);var s=Eh.get_language(e),n=i==s,r=t==(e=Eh.get_region(e));return n||null==i||null==s||(n=i.toLowerCase()==s.toLowerCase()),r||null==t||null==e||(r=t.toLowerCase()==e.toLowerCase()),!!n&&r},__init:function(){if(null==Eh.__systemLocale){var t=navigator.language;Eh.__systemLocale=null!=t?t:"en-US",Eh.set_currentLocale(Eh.__systemLocale)}},get_language:function(t){if(null!=t){var e=t.indexOf("_");if(-1<e){var i=t.indexOf("-");return-1<i&&i<e&&(e=i),t.substring(0,e)}if(-1<(e=t.indexOf("-")))return t.substring(0,e)}return t},get_region:function(t){if(null!=t){var e=t.indexOf("_"),i=t.indexOf("."),s=t.indexOf("-");if(-1<e)return-1<i?t.substring(e+1,i):t.substring(e+1);if(-1<s)return-1<i?t.substring(s+1,i):t.substring(s+1)}return null},get_currentLocale:function(){return Eh.__init(),Eh.currentLocale},set_currentLocale:function(t){return Eh.__init(),Eh.currentLocale=t},get_systemLocale:function(){return Eh.__init(),Eh.__systemLocale}},kh=function(t,e){this.onUpdate=new hl,this.type=t,this.id=e};r["lime.system.Sensor"]=kh,kh.__name__="lime.system.Sensor",kh.getSensors=function(t){if(null==t)return kh.sensors.slice();for(var e=[],i=0,s=kh.sensors;i<s.length;){var n=s[i];++i,n.type==t&&e.push(n)}return e},kh.registerSensor=function(t,e){return t=new kh(t,e),kh.sensors.push(t),kh.sensorByID.h[e]=t},kh.prototype={id:null,onUpdate:null,type:null,__class__:kh};var Fh=o["lime.system.SensorType"]={__ename__:"lime.system.SensorType",__constructs__:null,ACCELEROMETER:{_hx_name:"ACCELEROMETER",_hx_index:0,__enum__:"lime.system.SensorType",toString:a}};Fh.__constructs__=[Fh.ACCELEROMETER];var Bh=function(){};r["lime.system.System"]=Bh,Bh.__name__="lime.system.System",Bh.__properties__={get_userDirectory:"get_userDirectory",get_platformVersion:"get_platformVersion",get_platformName:"get_platformName",get_platformLabel:"get_platformLabel",get_numDisplays:"get_numDisplays",get_fontsDirectory:"get_fontsDirectory",get_endianness:"get_endianness",get_documentsDirectory:"get_documentsDirectory",get_deviceVendor:"get_deviceVendor",get_deviceModel:"get_deviceModel",get_desktopDirectory:"get_desktopDirectory",get_applicationStorageDirectory:"get_applicationStorageDirectory",get_applicationDirectory:"get_applicationDirectory",set_allowScreenTimeout:"set_allowScreenTimeout",get_allowScreenTimeout:"get_allowScreenTimeout"},Bh.embed=t.lime.embed=function(t,e,i,s,n){if(null!=Bh.__applicationEntryPoint&&Object.prototype.hasOwnProperty.call(Bh.__applicationEntryPoint.h,t)){var r="string"==typeof e?window.document.getElementById(e):null==e?window.document.createElement("div"):e;null==r?window.console.log("[lime.embed] ERROR: Cannot find target element: "+g.string(e)):(null==i&&(i=0),null==s&&(s=0),null==n&&(n={}),Object.prototype.hasOwnProperty.call(n,"background")&&"string"==typeof n.background&&(-1<(e=v.replace(g.string(n.background),"#","")).indexOf("0x")?n.background=g.parseInt(e):n.background=g.parseInt("0x"+e)),n.element=r,n.width=i,n.height=s,Bh.__applicationEntryPoint.h[t](n))}},Bh.exit=function(t){},Bh.getDisplay=function(t){return 0==t?((t=new wh).id=0,t.name="Generic Display",t.dpi=96*window.devicePixelRatio,t.currentMode=new Sh(window.screen.width,window.screen.height,60,1),t.supportedModes=[t.currentMode],t.bounds=new Jl(0,0,t.currentMode.width,t.currentMode.height),t):null},Bh.getTimer=function(){return 0|window.performance.now()},Bh.load=function(t,e,i,s){return null==s&&(s=!1),null==i&&(i=0),bh.load(t,e,i,s)},Bh.openFile=function(t){null!=t&&window.open(t,"_blank")},Bh.openURL=function(t,e){null==e&&(e="_blank"),null!=t&&window.open(t,e)},Bh.__copyMissingFields=function(t,e){if(null!=e&&null!=t)for(var i=0,s=f.fields(e);i<s.length;){var n=s[i];++i,Object.prototype.hasOwnProperty.call(t,n)||(t[n]=f.field(e,n))}},Bh.__getDirectory=function(t){return null},Bh.__parseBool=function(t){return"true"==t},Bh.__registerEntryPoint=function(t,e){null==Bh.__applicationEntryPoint&&(Bh.__applicationEntryPoint=new pr),Bh.__applicationEntryPoint.h[t]=e},Bh.__runProcess=function(t,e){return null},Bh.get_allowScreenTimeout=function(){return!0},Bh.set_allowScreenTimeout=function(t){return!0},Bh.get_applicationDirectory=function(){return null==Bh.__applicationDirectory&&(Bh.__applicationDirectory=Bh.__getDirectory(0)),Bh.__applicationDirectory},Bh.get_applicationStorageDirectory=function(){return null==Bh.__applicationStorageDirectory&&(Bh.__applicationStorageDirectory=Bh.__getDirectory(1)),Bh.__applicationStorageDirectory},Bh.get_deviceModel=function(){return Bh.__deviceModel},Bh.get_deviceVendor=function(){return Bh.__deviceVendor},Bh.get_desktopDirectory=function(){return null==Bh.__desktopDirectory&&(Bh.__desktopDirectory=Bh.__getDirectory(2)),Bh.__desktopDirectory},Bh.get_documentsDirectory=function(){return null==Bh.__documentsDirectory&&(Bh.__documentsDirectory=Bh.__getDirectory(3)),Bh.__documentsDirectory},Bh.get_endianness=function(){if(null==Bh.__endianness){var t=new ArrayBuffer(2),e=null,i=null,s=null,n=null,r=null,a=e=null!=e?new Uint8Array(e):null!=i?new Uint8Array(i):null!=s?new Uint8Array(s.__array):null!=n?new Uint8Array(n):null!=t?null==r?new Uint8Array(t,0):new Uint8Array(t,0,r):null;r=n=s=i=e=null,e=null!=e?new Uint16Array(e):null!=i?new Uint16Array(i):null!=s?new Uint16Array(s.__array):null!=n?new Uint16Array(n):null!=t?null==r?new Uint16Array(t,0):new Uint16Array(t,0,r):null,a[0]=170,a[1]=187,Bh.__endianness=43707==e[0]?Rh.BIG_ENDIAN:Rh.LITTLE_ENDIAN}return Bh.__endianness},Bh.get_fontsDirectory=function(){return null==Bh.__fontsDirectory&&(Bh.__fontsDirectory=Bh.__getDirectory(4)),Bh.__fontsDirectory},Bh.get_numDisplays=function(){return 1},Bh.get_platformLabel=function(){if(null==Bh.__platformLabel){var t=Bh.get_platformName(),e=Bh.get_platformVersion();null!=t&&null!=e?Bh.__platformLabel=t+" "+e:null!=t&&(Bh.__platformLabel=t)}return Bh.__platformLabel},Bh.get_platformName=function(){return null==Bh.__platformName&&(Bh.__platformName="HTML5"),Bh.__platformName},Bh.get_platformVersion=function(){return Bh.__platformVersion},Bh.get_userDirectory=function(){return null==Bh.__userDirectory&&(Bh.__userDirectory=Bh.__getDirectory(5)),Bh.__userDirectory};var Dh=function(t,e){null==e&&(e=1),null==t&&(t=0),this.onRun=new ll,this.onProgress=new ll,this.onError=new ll,this.onComplete=new ll,this.doWork=new ll,this.minThreads=t,this.maxThreads=e,this.currentThreads=0};r["lime.system.ThreadPool"]=Dh,Dh.__name__="lime.system.ThreadPool",Dh.prototype={currentThreads:null,doWork:null,maxThreads:null,minThreads:null,onComplete:null,onError:null,onProgress:null,onRun:null,queue:function(t){this.runWork(t)},sendComplete:function(t){this.onComplete.dispatch(t)},sendError:function(t){this.onError.dispatch(t)},sendProgress:function(t){this.onProgress.dispatch(t)},runWork:function(t){this.onRun.dispatch(t),this.doWork.dispatch(t)},__class__:Dh};var Lh=o["lime.system._ThreadPool.ThreadPoolMessageType"]={__ename__:"lime.system._ThreadPool.ThreadPoolMessageType",__constructs__:null,COMPLETE:{_hx_name:"COMPLETE",_hx_index:0,__enum__:"lime.system._ThreadPool.ThreadPoolMessageType",toString:a},ERROR:{_hx_name:"ERROR",_hx_index:1,__enum__:"lime.system._ThreadPool.ThreadPoolMessageType",toString:a},EXIT:{_hx_name:"EXIT",_hx_index:2,__enum__:"lime.system._ThreadPool.ThreadPoolMessageType",toString:a},PROGRESS:{_hx_name:"PROGRESS",_hx_index:3,__enum__:"lime.system._ThreadPool.ThreadPoolMessageType",toString:a},WORK:{_hx_name:"WORK",_hx_index:4,__enum__:"lime.system._ThreadPool.ThreadPoolMessageType",toString:a}};Lh.__constructs__=[Lh.COMPLETE,Lh.ERROR,Lh.EXIT,Lh.PROGRESS,Lh.WORK];var Nh=function(t,e){this.type=t,this.state=e};r["lime.system._ThreadPool.ThreadPoolMessage"]=Nh,Nh.__name__="lime.system._ThreadPool.ThreadPoolMessage",Nh.prototype={state:null,type:null,__class__:Nh};var Oh=function(t){null!=t&&(this.name=t),this.__init||(null==this.ascender&&(this.ascender=0),null==this.descender&&(this.descender=0),null==this.height&&(this.height=0),null==this.numGlyphs&&(this.numGlyphs=0),null==this.underlinePosition&&(this.underlinePosition=0),null==this.underlineThickness&&(this.underlineThickness=0),null==this.unitsPerEM&&(this.unitsPerEM=0),null!=this.__fontID?r_.isLocal(this.__fontID)&&this.__fromBytes(r_.getBytes(this.__fontID)):null!=this.__fontPath&&this.__fromFile(this.__fontPath))};r["lime.text.Font"]=Oh,Oh.__name__="lime.text.Font",Oh.fromBytes=function(t){if(null==t)return null;var e=new Oh;return e.__fromBytes(t),e},Oh.fromFile=function(t){if(null==t)return null;var e=new Oh;return e.__fromFile(t),e},Oh.loadFromBytes=function(t){return rl.withValue(Oh.fromBytes(t))},Oh.loadFromFile=function(t){return(new fh).load(t).then(function(t){return null!=t?rl.withValue(t):rl.withError("")})},Oh.loadFromName=function(t){return(new Oh).__loadFromName(t)},Oh.__measureFontNode=function(t){var e=window.document.createElement("span");e.setAttribute("aria-hidden","true");var i=window.document.createTextNode("BESbswy");return e.appendChild(i),(i=e.style).display="block",i.position="absolute",i.top="-9999px",i.left="-9999px",i.fontSize="300px",i.width="auto",i.height="auto",i.lineHeight="normal",i.margin="0",i.padding="0",i.fontVariant="normal",i.whiteSpace="nowrap",i.fontFamily=t,window.document.body.appendChild(e),e},Oh.prototype={ascender:null,descender:null,height:null,name:null,numGlyphs:null,src:null,underlinePosition:null,underlineThickness:null,unitsPerEM:null,__fontID:null,__fontPath:null,__init:null,decompose:function(){return null},getGlyph:function(t){return-1},getGlyphs:function(t){return null},getGlyphMetrics:function(t){return null},renderGlyph:function(t,e){return null},renderGlyphs:function(t,e){return null},__copyFrom:function(t){null!=t&&(this.ascender=t.ascender,this.descender=t.descender,this.height=t.height,this.name=t.name,this.numGlyphs=t.numGlyphs,this.src=t.src,this.underlinePosition=t.underlinePosition,this.underlineThickness=t.underlineThickness,this.unitsPerEM=t.unitsPerEM,this.__fontID=t.__fontID,this.__fontPath=t.__fontPath,this.__init=!0)},__fromBytes:function(t){this.__fontPath=null},__fromFile:function(t){this.__fontPath=t},__initializeSource:function(){this.__init=!0},__loadFromName:function(t){var i=this,s=new ol;this.name=t;var r=e.navigator.userAgent.toLowerCase(),a=0<=r.indexOf(" safari/")&&0>r.indexOf(" chrome/");if(r=new _("(iPhone|iPod|iPad).*AppleWebKit(?!.*Version)","i").match(r),!a&&!r&&window.document.fonts&&n(l=window.document.fonts,l.load))window.document.fonts.load("1em '"+t+"'").then(function(t){s.complete(i)},function(e){d_.warn('Could not load web font "'+t+'"',{fileName:"lime/text/Font.hx",lineNumber:513,className:"lime.text.Font",methodName:"__loadFromName"}),s.complete(i)});else{var o,h,c=Oh.__measureFontNode("'"+t+"', sans-serif"),u=Oh.__measureFontNode("'"+t+"', serif"),d=c.offsetWidth,m=u.offsetWidth,p=-1,f=0;p=window.setInterval(function(){f+=1,o=c.offsetWidth!=d||u.offsetWidth!=m,h=3e3<=50*f,(o||h)&&(window.clearInterval(p),c.parentNode.removeChild(c),u.parentNode.removeChild(u),u=c=null,h&&d_.warn('Could not load web font "'+t+'"',{fileName:"lime/text/Font.hx",lineNumber:548,className:"lime.text.Font",methodName:"__loadFromName"}),s.complete(i))},50)}return s.future},__setSize:function(t){},__class__:Oh};var Vh=function(){};r["lime.text.GlyphMetrics"]=Vh,Vh.__name__="lime.text.GlyphMetrics",Vh.prototype={advance:null,height:null,horizontalBearing:null,verticalBearing:null,__class__:Vh};var Gh=function(){};r["lime.text.harfbuzz.HB"]=Gh,Gh.__name__="lime.text.harfbuzz.HB",Gh.shape=function(t,e,i){};var Uh={__properties__:{set_segmentProperties:"set_segmentProperties",get_segmentProperties:"get_segmentProperties",set_script:"set_script",get_script:"get_script",set_replacementCodepoint:"set_replacementCodepoint",get_replacementCodepoint:"get_replacementCodepoint",set_length:"set_length",get_length:"get_length",set_language:"set_language",get_language:"get_language",set_flags:"set_flags",get_flags:"get_flags",set_direction:"set_direction",get_direction:"get_direction",set_contentType:"set_contentType",get_contentType:"get_contentType",set_clusterLevel:"set_clusterLevel",get_clusterLevel:"get_clusterLevel",get_allocationSuccessful:"get_allocationSuccessful"},_new:function(){return null},add:function(t,e,i){},addCodepoints:function(t,e,i,s,n){},addUTF8:function(t,e,i,s){},addUTF16:function(t,e,i,s,n){},addUTF32:function(t,e,i,s,n){},clearContents:function(t){},getGlyphInfo:function(t){return null},getGlyphPositions:function(t){return null},guessSegmentProperties:function(t){},normalizeGlyphs:function(t){},preallocate:function(t,e){return!1},reset:function(t){},reverse:function(t){},reverseClusters:function(t){},get_allocationSuccessful:function(t){return!1},get_clusterLevel:function(t){return 0},set_clusterLevel:function(t,e){return e},get_contentType:function(t){return 0},set_contentType:function(t,e){return e},get_direction:function(t){return 0},set_direction:function(t,e){return e},get_empty:function(){return null},get_flags:function(t){return 0},set_flags:function(t,e){return e},get_language:function(t){return null},set_language:function(t,e){return e},get_length:function(t){return 0},set_length:function(t,e){return e},get_replacementCodepoint:function(t){return 0},set_replacementCodepoint:function(t,e){return e},get_script:function(t){return 0},set_script:function(t,e){return e},get_segmentProperties:function(t){return null},set_segmentProperties:function(t,e){return e}},zh=function(){};r["lime.text.harfbuzz.HBFeature"]=zh,zh.__name__="lime.text.harfbuzz.HBFeature",zh.prototype={__class__:zh};var Hh=function(){};r["lime.text.harfbuzz.HBGlyphInfo"]=Hh,Hh.__name__="lime.text.harfbuzz.HBGlyphInfo",Hh.prototype={codepoint:null,mask:null,cluster:null,__class__:Hh};var Wh=function(){};r["lime.text.harfbuzz.HBGlyphPosition"]=Wh,Wh.__name__="lime.text.harfbuzz.HBGlyphPosition",Wh.prototype={xAdvance:null,xOffset:null,yAdvance:null,yOffset:null,__class__:Wh};var Xh={_new:function(t){return null},toString:function(t){return null},fromString:function(t){return Xh._new(t)}},Yh=function(){};r["lime.text.harfbuzz.HBSegmentProperties"]=Yh,Yh.__name__="lime.text.harfbuzz.HBSegmentProperties",Yh.prototype={__class__:Yh};var jh=function(t){this.onDisconnect=new xl,this.onButtonUp=new Rl,this.onButtonDown=new Rl,this.onAxisMove=new Sl,this.id=t,this.connected=!0};r["lime.ui.Gamepad"]=jh,jh.__name__="lime.ui.Gamepad",jh.addMappings=function(t){},jh.__connect=function(t){if(!jh.devices.h.hasOwnProperty(t)){var e=new jh(t);jh.devices.h[t]=e,jh.onConnect.dispatch(e)}},jh.__disconnect=function(t){var e=jh.devices.h[t];null!=e&&(e.connected=!1),jh.devices.remove(t),null!=e&&e.onDisconnect.dispatch()},jh.prototype={connected:null,id:null,onAxisMove:null,onButtonDown:null,onButtonUp:null,onDisconnect:null,get_guid:function(){return Kh.__getDeviceData()[this.id].id},get_name:function(){return Kh.__getDeviceData()[this.id].id},__class__:jh,__properties__:{get_name:"get_name",get_guid:"get_guid"}};var Kh=function(t){this.onTrackballMove=new ml,this.onHatMove=new yl,this.onDisconnect=new xl,this.onButtonUp=new gl,this.onButtonDown=new gl,this.onAxisMove=new pl,this.id=t,this.connected=!0};r["lime.ui.Joystick"]=Kh,Kh.__name__="lime.ui.Joystick",Kh.__connect=function(t){if(!Kh.devices.h.hasOwnProperty(t)){var e=new Kh(t);Kh.devices.h[t]=e,Kh.onConnect.dispatch(e)}},Kh.__disconnect=function(t){var e=Kh.devices.h[t];null!=e&&(e.connected=!1),Kh.devices.remove(t),null!=e&&e.onDisconnect.dispatch()},Kh.__getDeviceData=function(){return navigator.getGamepads?navigator.getGamepads():navigator.webkitGetGamepads?navigator.webkitGetGamepads():null},Kh.prototype={connected:null,id:null,onAxisMove:null,onButtonDown:null,onButtonUp:null,onDisconnect:null,onHatMove:null,onTrackballMove:null,get_guid:function(){return Kh.__getDeviceData()[this.id].id},get_name:function(){return Kh.__getDeviceData()[this.id].id},get_numAxes:function(){return Kh.__getDeviceData()[this.id].axes.length},get_numButtons:function(){return Kh.__getDeviceData()[this.id].buttons.length},get_numHats:function(){return 0},get_numTrackballs:function(){return 0},__class__:Kh,__properties__:{get_numTrackballs:"get_numTrackballs",get_numHats:"get_numHats",get_numButtons:"get_numButtons",get_numAxes:"get_numAxes",get_name:"get_name",get_guid:"get_guid"}};var Jh={__properties__:{set_shiftKey:"set_shiftKey",get_shiftKey:"get_shiftKey",set_numLock:"set_numLock",get_numLock:"get_numLock",set_metaKey:"set_metaKey",get_metaKey:"get_metaKey",set_ctrlKey:"set_ctrlKey",get_ctrlKey:"get_ctrlKey",set_capsLock:"set_capsLock",get_capsLock:"get_capsLock",set_altKey:"set_altKey",get_altKey:"get_altKey"},get_altKey:function(t){return!(0>=(256&t))||0<(512&t)},set_altKey:function(t,e){return e},get_capsLock:function(t){return!(0>=(8192&t))||0<(8192&t)},set_capsLock:function(t,e){return e},get_ctrlKey:function(t){return!(0>=(64&t))||0<(128&t)},set_ctrlKey:function(t,e){return e},get_metaKey:function(t){return!(0>=(1024&t))||0<(2048&t)},set_metaKey:function(t,e){return e},get_numLock:function(t){return!(0>=(4096&t))||0<(4096&t)},set_numLock:function(t,e){return e},get_shiftKey:function(t){return!(0>=(1&t))||0<(2&t)},set_shiftKey:function(t,e){return e}},Zh=o["lime.ui.MouseCursor"]={__ename__:"lime.ui.MouseCursor",__constructs__:null,ARROW:{_hx_name:"ARROW",_hx_index:0,__enum__:"lime.ui.MouseCursor",toString:a},CROSSHAIR:{_hx_name:"CROSSHAIR",_hx_index:1,__enum__:"lime.ui.MouseCursor",toString:a},DEFAULT:{_hx_name:"DEFAULT",_hx_index:2,__enum__:"lime.ui.MouseCursor",toString:a},MOVE:{_hx_name:"MOVE",_hx_index:3,__enum__:"lime.ui.MouseCursor",toString:a},POINTER:{_hx_name:"POINTER",_hx_index:4,__enum__:"lime.ui.MouseCursor",toString:a},RESIZE_NESW:{_hx_name:"RESIZE_NESW",_hx_index:5,__enum__:"lime.ui.MouseCursor",toString:a},RESIZE_NS:{_hx_name:"RESIZE_NS",_hx_index:6,__enum__:"lime.ui.MouseCursor",toString:a},RESIZE_NWSE:{_hx_name:"RESIZE_NWSE",_hx_index:7,__enum__:"lime.ui.MouseCursor",toString:a},RESIZE_WE:{_hx_name:"RESIZE_WE",_hx_index:8,__enum__:"lime.ui.MouseCursor",toString:a},TEXT:{_hx_name:"TEXT",_hx_index:9,__enum__:"lime.ui.MouseCursor",toString:a},WAIT:{_hx_name:"WAIT",_hx_index:10,__enum__:"lime.ui.MouseCursor",toString:a},WAIT_ARROW:{_hx_name:"WAIT_ARROW",_hx_index:11,__enum__:"lime.ui.MouseCursor",toString:a},CUSTOM:{_hx_name:"CUSTOM",_hx_index:12,__enum__:"lime.ui.MouseCursor",toString:a}};Zh.__constructs__=[Zh.ARROW,Zh.CROSSHAIR,Zh.DEFAULT,Zh.MOVE,Zh.POINTER,Zh.RESIZE_NESW,Zh.RESIZE_NS,Zh.RESIZE_NWSE,Zh.RESIZE_WE,Zh.TEXT,Zh.WAIT,Zh.WAIT_ARROW,Zh.CUSTOM];var Qh=o["lime.ui.MouseWheelMode"]={__ename__:"lime.ui.MouseWheelMode",__constructs__:null,PIXELS:{_hx_name:"PIXELS",_hx_index:0,__enum__:"lime.ui.MouseWheelMode",toString:a},LINES:{_hx_name:"LINES",_hx_index:1,__enum__:"lime.ui.MouseWheelMode",toString:a},PAGES:{_hx_name:"PAGES",_hx_index:2,__enum__:"lime.ui.MouseWheelMode",toString:a},UNKNOWN:{_hx_name:"UNKNOWN",_hx_index:3,__enum__:"lime.ui.MouseWheelMode",toString:a}};Qh.__constructs__=[Qh.PIXELS,Qh.LINES,Qh.PAGES,Qh.UNKNOWN];var qh=function(t,e,i,s,n,r,a){this.x=t,this.y=e,this.id=i,this.dx=s,this.dy=n,this.pressure=r,this.device=a};r["lime.ui.Touch"]=qh,qh.__name__="lime.ui.Touch",qh.prototype={device:null,dx:null,dy:null,id:null,pressure:null,x:null,y:null,__class__:qh};var $h=function(t,e){this.onTextInput=new vl,this.onTextEdit=new bl,this.onRestore=new xl,this.onResize=new fl,this.onRenderContextRestored=new wl,this.onRenderContextLost=new xl,this.onRender=new wl,this.onMove=new cl,this.onMouseWheel=new dl,this.onMouseUp=new _l,this.onMouseMoveRelative=new cl,this.onMouseMove=new cl,this.onMouseDown=new ul,this.onMinimize=new xl,this.onMaximize=new xl,this.onLeave=new xl,this.onKeyUp=new Ml,this.onKeyDown=new Ml,this.onFullscreen=new xl,this.onFocusOut=new xl,this.onFocusIn=new xl,this.onExpose=new xl,this.onEnter=new xl,this.onDropFile=new vl,this.onDeactivate=new xl,this.onClose=new xl,this.onActivate=new xl,this.application=t,this.__attributes=null!=e?e:{},Object.prototype.hasOwnProperty.call(this.__attributes,"parameters")&&(this.parameters=this.__attributes.parameters),this.__height=this.__width=0,this.__fullscreen=!1,this.__scale=1,this.__y=this.__x=0,this.__title="",this.id=-1,this.__backend=new Po(this)};r["lime.ui.Window"]=$h,$h.__name__="lime.ui.Window",$h.prototype={application:null,context:null,display:null,element:null,hidden:null,id:null,onActivate:null,onClose:null,onDeactivate:null,onDropFile:null,onEnter:null,onExpose:null,onFocusIn:null,onFocusOut:null,onFullscreen:null,onKeyDown:null,onKeyUp:null,onLeave:null,onMaximize:null,onMinimize:null,onMouseDown:null,onMouseMove:null,onMouseMoveRelative:null,onMouseUp:null,onMouseWheel:null,onMove:null,onRender:null,onRenderContextLost:null,onRenderContextRestored:null,onResize:null,onRestore:null,onTextEdit:null,onTextInput:null,parameters:null,scale:null,stage:null,__attributes:null,__backend:null,__borderless:null,__fullscreen:null,__height:null,__hidden:null,__maximized:null,__minimized:null,__resizable:null,__scale:null,__title:null,__width:null,__x:null,__y:null,alert:function(t,e){this.__backend.alert(t,e)},close:function(){this.__backend.close()},focus:function(){this.__backend.focus()},move:function(t,e){this.__backend.move(t,e),this.__x=t,this.__y=e},readPixels:function(t){return this.__backend.readPixels(t)},resize:function(t,e){this.__backend.resize(t,e),this.__width=t,this.__height=e},setIcon:function(t){null!=t&&this.__backend.setIcon(t)},toString:function(){return"[object Window]"},warpMouse:function(t,e){this.__backend.warpMouse(t,e)},get_cursor:function(){return this.__backend.getCursor()},set_cursor:function(t){return this.__backend.setCursor(t)},get_display:function(){return this.__backend.getDisplay()},get_displayMode:function(){return this.__backend.getDisplayMode()},set_displayMode:function(t){return this.__backend.setDisplayMode(t)},get_borderless:function(){return this.__borderless},set_borderless:function(t){return this.__borderless=this.__backend.setBorderless(t)},get_frameRate:function(){return this.__backend.getFrameRate()},set_frameRate:function(t){return this.__backend.setFrameRate(t)},get_fullscreen:function(){return this.__fullscreen},set_fullscreen:function(t){return this.__fullscreen=this.__backend.setFullscreen(t)},get_height:function(){return this.__height},set_height:function(t){return this.resize(this.__width,t),this.__height},get_hidden:function(){return this.__hidden},get_maximized:function(){return this.__maximized},set_maximized:function(t){return this.__minimized=!1,this.__maximized=this.__backend.setMaximized(t)},get_minimized:function(){return this.__minimized},set_minimized:function(t){return this.__maximized=!1,this.__minimized=this.__backend.setMinimized(t)},get_mouseLock:function(){return this.__backend.getMouseLock()},set_mouseLock:function(t){return this.__backend.setMouseLock(t),t},get_resizable:function(){return this.__resizable},set_resizable:function(t){return this.__resizable=this.__backend.setResizable(t)},get_scale:function(){return this.__scale},get_textInputEnabled:function(){return this.__backend.getTextInputEnabled()},set_textInputEnabled:function(t){return this.__backend.setTextInputEnabled(t)},setTextInputRect:function(t){return this.__backend.setTextInputRect(t)},get_title:function(){return this.__title},set_title:function(t){return this.__title=this.__backend.setTitle(t)},get_width:function(){return this.__width},set_width:function(t){return this.resize(t,this.__height),this.__width},get_x:function(){return this.__x},set_x:function(t){return this.move(t,this.__y),this.__x},get_y:function(){return this.__y},set_y:function(t){return this.move(this.__x,t),this.__y},__class__:$h,__properties__:{set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x",set_width:"set_width",get_width:"get_width",set_title:"set_title",get_title:"get_title",set_textInputEnabled:"set_textInputEnabled",get_textInputEnabled:"get_textInputEnabled",get_scale:"get_scale",set_resizable:"set_resizable",get_resizable:"get_resizable",set_mouseLock:"set_mouseLock",get_mouseLock:"get_mouseLock",set_minimized:"set_minimized",get_minimized:"get_minimized",set_maximized:"set_maximized",get_maximized:"get_maximized",get_hidden:"get_hidden",set_height:"set_height",get_height:"get_height",set_fullscreen:"set_fullscreen",get_fullscreen:"get_fullscreen",set_frameRate:"set_frameRate",get_frameRate:"get_frameRate",set_displayMode:"set_displayMode",get_displayMode:"get_displayMode",get_display:"get_display",set_cursor:"set_cursor",get_cursor:"get_cursor",set_borderless:"set_borderless",get_borderless:"get_borderless"}};var t_=o["lime.utils.TAError"]={__ename__:"lime.utils.TAError",__constructs__:null,RangeError:{_hx_name:"RangeError",_hx_index:0,__enum__:"lime.utils.TAError",toString:a}};t_.__constructs__=[t_.RangeError];var e_=function(){this.data=new pr,this.paths=[]};r["lime.utils.AssetBundle"]=e_,e_.__name__="lime.utils.AssetBundle",e_.fromBytes=function(t){return t=new qa(t),e_.__extractBundle(t)},e_.fromFile=function(t){return null},e_.loadFromBytes=function(t){return rl.withValue(e_.fromBytes(t))},e_.loadFromFile=function(t){return h_.loadFromFile(t).then(e_.loadFromBytes)},e_.__extractBundle=function(t){var e=bo.readZip(t);for(t=new e_,e=e.h;null!=e;){var i=e.item;if(e=e.next,i.compressed){var s=t.data,n=i.fileName,r=h_.decompress(i.data,__.DEFLATE);s.h[n]=r}else t.data.h[i.fileName]=i.data;t.paths.push(i.fileName)}return t},e_.prototype={data:null,paths:null,__class__:e_};var i_=function(){this.enabled=!0,this.audio=new pr,this.font=new pr,this.image=new pr,this.version=0};r["lime.utils.AssetCache"]=i_,i_.__name__="lime.utils.AssetCache",i_.prototype={audio:null,enabled:null,image:null,font:null,version:null,exists:function(t,e){return!!(("IMAGE"==e||null==e)&&Object.prototype.hasOwnProperty.call(this.image.h,t)||("FONT"==e||null==e)&&Object.prototype.hasOwnProperty.call(this.font.h,t)||("SOUND"==e||"MUSIC"==e||null==e)&&Object.prototype.hasOwnProperty.call(this.audio.h,t))},set:function(t,e,i){switch(e){case"FONT":this.font.h[t]=i;break;case"IMAGE":if(!(i instanceof El))throw wa.thrown("Cannot cache non-Image asset: "+g.string(i)+" as Image");this.image.h[t]=i;break;case"MUSIC":case"SOUND":if(!(i instanceof ql))throw wa.thrown("Cannot cache non-AudioBuffer asset: "+g.string(i)+" as AudioBuffer");this.audio.h[t]=i;break;default:throw wa.thrown(e+" assets are not cachable")}},clear:function(t){if(null==t)this.audio=new pr,this.font=new pr,this.image=new pr;else{for(var e=this.audio.h,i=(e=Object.keys(e)).length,s=0;s<i;){var n=e[s++];if(v.startsWith(n,t)){var r=this.audio;Object.prototype.hasOwnProperty.call(r.h,n)&&delete r.h[n]}}for(e=this.font.h,i=(e=Object.keys(e)).length,s=0;s<i;)n=e[s++],v.startsWith(n,t)&&(r=this.font,Object.prototype.hasOwnProperty.call(r.h,n)&&delete r.h[n]);for(e=this.image.h,i=(e=Object.keys(e)).length,s=0;s<i;)n=e[s++],v.startsWith(n,t)&&(r=this.image,Object.prototype.hasOwnProperty.call(r.h,n)&&delete r.h[n])}},__class__:i_};var s_=function(){this.types=new pr,this.sizes=new pr,this.preload=new pr,this.paths=new pr,this.pathGroups=new pr,this.classTypes=new pr,this.cachedText=new pr,this.cachedImages=new pr,this.cachedFonts=new pr,this.cachedBytes=new pr,this.cachedAudioBuffers=new pr,this.onChange=new xl,this.bytesTotal=this.bytesLoaded=0};r["lime.utils.AssetLibrary"]=s_,s_.__name__="lime.utils.AssetLibrary",s_.fromBytes=function(t,e){return s_.fromManifest(n_.fromBytes(t,e))},s_.fromFile=function(t,e){return s_.fromManifest(n_.fromFile(t,e))},s_.fromBundle=function(t){if(!Object.prototype.hasOwnProperty.call(t.data.h,"library.json"))return(i=new s_).__fromBundle(t),i;var e=n_.fromBytes(t.data.h["library.json"]);if(null!=e){if(null==e.libraryType)var i=new s_;else{if(null==(i=r[e.libraryType]))return d_.warn("Could not find library type: "+e.libraryType,{fileName:"lime/utils/AssetLibrary.hx",lineNumber:122,className:"lime.utils.AssetLibrary",methodName:"fromBundle"}),null;i=w.createInstance(i,e.libraryArgs)}return i.__fromBundle(t,e),i}return null},s_.fromManifest=function(t){if(null==t)return null;if(null==t.libraryType)var e=new s_;else{if(null==(e=r[t.libraryType]))return d_.warn("Could not find library type: "+t.libraryType,{fileName:"lime/utils/AssetLibrary.hx",lineNumber:160,className:"lime.utils.AssetLibrary",methodName:"fromManifest"}),null;e=w.createInstance(e,t.libraryArgs)}return e.__fromManifest(t),e},s_.loadFromBytes=function(t,e){return n_.loadFromBytes(t,e).then(function(t){return s_.loadFromManifest(t)})},s_.loadFromFile=function(t,e){return n_.loadFromFile(t,e).then(function(t){return s_.loadFromManifest(t)})},s_.loadFromManifest=function(t){return null!=(t=s_.fromManifest(t))?t.load():rl.withError("Could not load asset manifest")},s_.prototype={onChange:null,assetsLoaded:null,assetsTotal:null,bytesLoaded:null,bytesLoadedCache:null,bytesTotal:null,cachedAudioBuffers:null,cachedBytes:null,cachedFonts:null,cachedImages:null,cachedText:null,classTypes:null,loaded:null,pathGroups:null,paths:null,preload:null,promise:null,sizes:null,types:null,exists:function(t,e){return e=null!=e?vo.__cast(e,String):null,null!=(t=this.types.h[t])&&(t==e||!("SOUND"!=e&&"MUSIC"!=e||"MUSIC"!=t&&"SOUND"!=t)||"BINARY"==e||null==e||"BINARY"==t&&"TEXT"==e)},getAsset:function(t,e){switch(e){case"BINARY":return this.getBytes(t);case"FONT":return this.getFont(t);case"IMAGE":return this.getImage(t);case"MUSIC":case"SOUND":return this.getAudioBuffer(t);case"TEMPLATE":throw wa.thrown("Not sure how to get template: "+t);case"TEXT":return this.getText(t);default:throw wa.thrown("Unknown asset type: "+e)}},getAudioBuffer:function(t){return Object.prototype.hasOwnProperty.call(this.cachedAudioBuffers.h,t)?this.cachedAudioBuffers.h[t]:Object.prototype.hasOwnProperty.call(this.classTypes.h,t)?ql.fromBytes(vo.__cast(w.createInstance(this.classTypes.h[t],[]),La)):ql.fromFile(this.paths.h[t])},getBytes:function(t){if(Object.prototype.hasOwnProperty.call(this.cachedBytes.h,t))return this.cachedBytes.h[t];if(Object.prototype.hasOwnProperty.call(this.cachedText.h,t)){var e=h_.ofString(this.cachedText.h[t]);return this.cachedBytes.h[t]=e}return Object.prototype.hasOwnProperty.call(this.classTypes.h,t)?vo.__cast(w.createInstance(this.classTypes.h[t],[]),La):h_.fromFile(this.paths.h[t])},getFont:function(t){return Object.prototype.hasOwnProperty.call(this.cachedFonts.h,t)?this.cachedFonts.h[t]:Object.prototype.hasOwnProperty.call(this.classTypes.h,t)?vo.__cast(w.createInstance(this.classTypes.h[t],[]),Oh):Oh.fromFile(this.paths.h[t])},getImage:function(t){return Object.prototype.hasOwnProperty.call(this.cachedImages.h,t)?this.cachedImages.h[t]:Object.prototype.hasOwnProperty.call(this.classTypes.h,t)?vo.__cast(w.createInstance(this.classTypes.h[t],[]),El):El.fromFile(this.paths.h[t])},getPath:function(t){return Object.prototype.hasOwnProperty.call(this.paths.h,t)?this.paths.h[t]:Object.prototype.hasOwnProperty.call(this.pathGroups.h,t)?this.pathGroups.h[t][0]:null},getText:function(t){return Object.prototype.hasOwnProperty.call(this.cachedText.h,t)?this.cachedText.h[t]:null==(t=this.getBytes(t))?null:t.getString(0,t.length)},isLocal:function(t,e){if(Object.prototype.hasOwnProperty.call(this.classTypes.h,t))return!0;if(null==(e=vo.__cast(e,String)))return!!(Object.prototype.hasOwnProperty.call(this.cachedBytes.h,t)||Object.prototype.hasOwnProperty.call(this.cachedText.h,t)||Object.prototype.hasOwnProperty.call(this.cachedImages.h,t)||Object.prototype.hasOwnProperty.call(this.cachedAudioBuffers.h,t))||Object.prototype.hasOwnProperty.call(this.cachedFonts.h,t);switch(e){case"FONT":return Object.prototype.hasOwnProperty.call(this.cachedFonts.h,t);case"IMAGE":return Object.prototype.hasOwnProperty.call(this.cachedImages.h,t);case"MUSIC":case"SOUND":return Object.prototype.hasOwnProperty.call(this.cachedAudioBuffers.h,t);default:return!!Object.prototype.hasOwnProperty.call(this.cachedBytes.h,t)||Object.prototype.hasOwnProperty.call(this.cachedText.h,t)}},list:function(t){for(var e=null!=t?vo.__cast(t,String):null,i=[],s=Object.keys(this.types.h),n=s.length,r=0;r<n;){var a=s[r++];(null==e||this.exists(a,t))&&i.push(a)}return i},loadAsset:function(t,e){switch(e){case"BINARY":return this.loadBytes(t);case"FONT":return this.loadFont(t);case"IMAGE":return this.loadImage(t);case"MUSIC":case"SOUND":return this.loadAudioBuffer(t);case"TEMPLATE":throw wa.thrown("Not sure how to load template: "+t);case"TEXT":return this.loadText(t);default:throw wa.thrown("Unknown asset type: "+e)}},load:function(){if(this.loaded)return rl.withValue(this);if(null==this.promise){this.promise=new ol,this.bytesLoadedCache=new pr,this.assetsLoaded=0,this.assetsTotal=1;for(var t=Object.keys(this.preload.h),e=t.length,i=0;i<e;){var s=t[i++];if(this.preload.h[s]){d_.verbose("Preloading asset: "+s+" ["+this.types.h[s]+"]",{fileName:"lime/utils/AssetLibrary.hx",lineNumber:408,className:"lime.utils.AssetLibrary",methodName:"load"});var r=this.types.h[s];if(null!=r)switch(r){case"BINARY":this.assetsTotal++,(r=this.loadBytes(s)).onProgress(function(t,e){return function(i,s){e[0](t[0],i,s)}}([s],[n(this,this.load_onProgress)])),r.onError(function(t,e){return function(i){e[0](t[0],i)}}([s],[n(this,this.load_onError)])),r.onComplete(function(t,e){return function(i){e[0](t[0],i)}}([s],[n(this,this.loadBytes_onComplete)]));break;case"FONT":this.assetsTotal++,(r=this.loadFont(s)).onProgress(function(t,e){return function(i,s){e[0](t[0],i,s)}}([s],[n(this,this.load_onProgress)])),r.onError(function(t,e){return function(i){e[0](t[0],i)}}([s],[n(this,this.load_onError)])),r.onComplete(function(t,e){return function(i){e[0](t[0],i)}}([s],[n(this,this.loadFont_onComplete)]));break;case"IMAGE":this.assetsTotal++,(r=this.loadImage(s)).onProgress(function(t,e){return function(i,s){e[0](t[0],i,s)}}([s],[n(this,this.load_onProgress)])),r.onError(function(t,e){return function(i){e[0](t[0],i)}}([s],[n(this,this.load_onError)])),r.onComplete(function(t,e){return function(i){e[0](t[0],i)}}([s],[n(this,this.loadImage_onComplete)]));break;case"MUSIC":case"SOUND":this.assetsTotal++,(r=this.loadAudioBuffer(s)).onProgress(function(t,e){return function(i,s){e[0](t[0],i,s)}}([s],[n(this,this.load_onProgress)])),r.onError(function(t,e){return function(i){e[0](t[0],i)}}([s],[n(this,this.loadAudioBuffer_onError)])),r.onComplete(function(t,e){return function(i){e[0](t[0],i)}}([s],[n(this,this.loadAudioBuffer_onComplete)]));break;case"TEXT":this.assetsTotal++,(r=this.loadText(s)).onProgress(function(t,e){return function(i,s){e[0](t[0],i,s)}}([s],[n(this,this.load_onProgress)])),r.onError(function(t,e){return function(i){e[0](t[0],i)}}([s],[n(this,this.load_onError)])),r.onComplete(function(t,e){return function(i){e[0](t[0],i)}}([s],[n(this,this.loadText_onComplete)]))}}}this.__assetLoaded(null)}return this.promise.future},loadAudioBuffer:function(t){return Object.prototype.hasOwnProperty.call(this.cachedAudioBuffers.h,t)?rl.withValue(this.cachedAudioBuffers.h[t]):Object.prototype.hasOwnProperty.call(this.classTypes.h,t)?rl.withValue(ql.fromBytes(vo.__cast(w.createInstance(this.classTypes.h[t],[]),La))):Object.prototype.hasOwnProperty.call(this.pathGroups.h,t)?ql.loadFromFiles(this.pathGroups.h[t]):ql.loadFromFile(this.paths.h[t])},loadBytes:function(t){return Object.prototype.hasOwnProperty.call(this.cachedBytes.h,t)?rl.withValue(this.cachedBytes.h[t]):Object.prototype.hasOwnProperty.call(this.classTypes.h,t)?rl.withValue(w.createInstance(this.classTypes.h[t],[])):h_.loadFromFile(this.paths.h[t])},loadFont:function(t){return Object.prototype.hasOwnProperty.call(this.cachedFonts.h,t)?rl.withValue(this.cachedFonts.h[t]):Object.prototype.hasOwnProperty.call(this.classTypes.h,t)?(t=w.createInstance(this.classTypes.h[t],[])).__loadFromName(t.name):Oh.loadFromName(this.paths.h[t])},loadImage:function(t){var e=this;return Object.prototype.hasOwnProperty.call(this.cachedImages.h,t)?rl.withValue(this.cachedImages.h[t]):Object.prototype.hasOwnProperty.call(this.classTypes.h,t)?rl.withValue(w.createInstance(this.classTypes.h[t],[])):Object.prototype.hasOwnProperty.call(this.cachedBytes.h,t)?El.loadFromBytes(this.cachedBytes.h[t]).then(function(i){var s=e.cachedBytes;return Object.prototype.hasOwnProperty.call(s.h,t)&&delete s.h[t],e.cachedImages.h[t]=i,rl.withValue(i)}):El.loadFromFile(this.paths.h[t])},loadText:function(t){if(Object.prototype.hasOwnProperty.call(this.cachedText.h,t))return rl.withValue(this.cachedText.h[t]);if(Object.prototype.hasOwnProperty.call(this.cachedBytes.h,t)||Object.prototype.hasOwnProperty.call(this.classTypes.h,t)){var e=this.getBytes(t);return null==e?rl.withValue(null):(e=e.getString(0,e.length),this.cachedText.h[t]=e,rl.withValue(e))}return(new mh).load(this.paths.h[t])},unload:function(){},__assetLoaded:function(t){if(this.assetsLoaded++,null!=t&&d_.verbose("Loaded asset: "+t+" ["+this.types.h[t]+"] ("+(this.assetsLoaded-1)+"/"+(this.assetsTotal-1)+")",{fileName:"lime/utils/AssetLibrary.hx",lineNumber:622,className:"lime.utils.AssetLibrary",methodName:"__assetLoaded"}),null!=t){var e=Object.prototype.hasOwnProperty.call(this.sizes.h,t)?this.sizes.h[t]:0;if(Object.prototype.hasOwnProperty.call(this.bytesLoadedCache.h,t)){var i=this.bytesLoadedCache.h[t];i<e&&(this.bytesLoaded+=e-i)}else this.bytesLoaded+=e;this.bytesLoadedCache.h[t]=e}this.assetsLoaded<this.assetsTotal?this.promise.progress(this.bytesLoaded,this.bytesTotal):(this.loaded=!0,this.promise.progress(this.bytesTotal,this.bytesTotal),this.promise.complete(this))},__cacheBreak:function(t){return r_.__cacheBreak(t)},__fromBundle:function(t,e){if(null!=e){var i=0;for(e=e.assets;i<e.length;){var s=e[i];++i;var n=Object.prototype.hasOwnProperty.call(s,"id")?s.id:s.path,r=t.data.h[s.path];Object.prototype.hasOwnProperty.call(s,"type")?("TEXT"==s.type?this.cachedText.h[n]=null!=r?g.string(r):null:this.cachedBytes.h[n]=r,this.types.h[n]=s.type):(this.cachedBytes.h[n]=r,this.types.h[n]="BINARY")}}else for(i=0,e=t.paths;i<e.length;)n=e[i],++i,this.cachedBytes.h[n]=t.data.h[n],this.types.h[n]="BINARY"},__fromManifest:function(t){var e=2<=t.version,i=t.rootPath;null==i&&(i=""),""!=i&&(i+="/");for(var s=0,n=t.assets;s<n.length;){var a=n[s];++s;var o=e&&Object.prototype.hasOwnProperty.call(a,"size")?a.size:100,l=Object.prototype.hasOwnProperty.call(a,"id")?a.id:a.path;if(Object.prototype.hasOwnProperty.call(a,"path")){var h=this.paths,_=this.__cacheBreak(this.__resolvePath(i+g.string(f.field(a,"path"))));h.h[l]=_}if(Object.prototype.hasOwnProperty.call(a,"pathGroup")){_=0;for(var c=(h=f.field(a,"pathGroup")).length;_<c;){var u=_++;h[u]=this.__cacheBreak(this.__resolvePath(i+h[u]))}this.pathGroups.h[l]=h}this.sizes.h[l]=o,this.types.h[l]=a.type,Object.prototype.hasOwnProperty.call(a,"preload")&&(this.preload.h[l]=f.field(a,"preload")),Object.prototype.hasOwnProperty.call(a,"className")&&(o=f.field(a,"className"),o=r[o],this.classTypes.h[l]=o)}for(s=this.bytesTotal=0,n=t.assets;s<n.length;)a=n[s],++s,l=Object.prototype.hasOwnProperty.call(a,"id")?a.id:a.path,Object.prototype.hasOwnProperty.call(this.preload.h,l)&&this.preload.h[l]&&Object.prototype.hasOwnProperty.call(this.sizes.h,l)&&(this.bytesTotal+=this.sizes.h[l])},__resolvePath:function(t){var e=(t=v.replace(t,"\\","/")).indexOf(":");if(v.startsWith(t,"http")&&0<e?(e+=3,t=c.substr(t,0,e)+v.replace(c.substr(t,e,null),"//","/")):t=v.replace(t,"//","/"),-1<t.indexOf("./")){e=[];for(var i=0,s=(t=t.split("/")).length;i<s;){var n=i++;".."==t[n]?0==n||".."==e[n-1]?e.push(".."):e.pop():"."==t[n]?0==n&&e.push("."):e.push(t[n])}t=e.join("/")}return t},loadAudioBuffer_onComplete:function(t,e){if(this.cachedAudioBuffers.h[t]=e,Object.prototype.hasOwnProperty.call(this.pathGroups.h,t))for(var i=this.pathGroups.h[t],s=Object.keys(this.pathGroups.h),n=s.length,r=0;r<n;){var a=s[r++];if(a!=t)for(var o=0;o<i.length;){var l=i[o];if(++o,-1<this.pathGroups.h[a].indexOf(l)){this.cachedAudioBuffers.h[a]=e;break}}}this.__assetLoaded(t)},loadAudioBuffer_onError:function(t,e){null!=e&&""!=e?d_.warn('Could not load "'+t+'": '+g.string(e),{fileName:"lime/utils/AssetLibrary.hx",lineNumber:868,className:"lime.utils.AssetLibrary",methodName:"loadAudioBuffer_onError"}):d_.warn('Could not load "'+t+'"',{fileName:"lime/utils/AssetLibrary.hx",lineNumber:872,className:"lime.utils.AssetLibrary",methodName:"loadAudioBuffer_onError"}),this.loadAudioBuffer_onComplete(t,new ql)},loadBytes_onComplete:function(t,e){this.cachedBytes.h[t]=e,this.__assetLoaded(t)},loadFont_onComplete:function(t,e){this.cachedFonts.h[t]=e,this.__assetLoaded(t)},loadImage_onComplete:function(t,e){this.cachedImages.h[t]=e,this.__assetLoaded(t)},loadText_onComplete:function(t,e){this.cachedText.h[t]=e,this.__assetLoaded(t)},load_onError:function(t,e){null!=e&&""!=e?this.promise.error('Error loading asset "'+t+'": '+g.string(e)):this.promise.error('Error loading asset "'+t+'"')},load_onProgress:function(t,e,i){if(0<e){var s=this.sizes.h[t];0<i?(1<(e/=i)&&(e=1),e=Math.floor(e*s)):e>s&&(e=s),Object.prototype.hasOwnProperty.call(this.bytesLoadedCache.h,t)?e!=(s=this.bytesLoadedCache.h[t])&&(this.bytesLoaded+=e-s):this.bytesLoaded+=e,this.bytesLoadedCache.h[t]=e,this.promise.progress(this.bytesLoaded,this.bytesTotal)}},__class__:s_};var n_=function(){this.assets=[],this.libraryArgs=[],this.version=2};r["lime.utils.AssetManifest"]=n_,n_.__name__="lime.utils.AssetManifest",n_.fromBytes=function(t,e){return null!=t?n_.parse(t.getString(0,t.length),e):null},n_.fromFile=function(t,e){return t=n_.__resolvePath(t),e=n_.__resolveRootPath(e,t),null==t?null:n_.fromBytes(h_.fromFile(t),e)},n_.loadFromBytes=function(t,e){return rl.withValue(n_.fromBytes(t,e))},n_.loadFromFile=function(t,e){return t=n_.__resolvePath(t),e=n_.__resolveRootPath(e,t),null==t?null:h_.loadFromFile(t).then(function(t){return rl.withValue(n_.fromBytes(t,e))})},n_.parse=function(t,e){if(null==t||""==t)return null;t=JSON.parse(t);var i=new n_;if(Object.prototype.hasOwnProperty.call(t,"name")&&(i.name=t.name),Object.prototype.hasOwnProperty.call(t,"libraryType")&&(i.libraryType=t.libraryType),Object.prototype.hasOwnProperty.call(t,"libraryArgs")&&(i.libraryArgs=t.libraryArgs),Object.prototype.hasOwnProperty.call(t,"assets")){var s=t.assets;Object.prototype.hasOwnProperty.call(t,"version")&&2>=t.version?i.assets=ka.run(s):i.assets=s}return Object.prototype.hasOwnProperty.call(t,"rootPath")&&(i.rootPath=t.rootPath),null!=e&&""!=e&&(i.rootPath=null==i.rootPath||""==i.rootPath?e:e+"/"+i.rootPath),i},n_.__resolvePath=function(t){if(null==t)return null;var e=t.indexOf("?"),i=-1<e?c.substr(t,0,e):t;for(i=v.replace(i,"\\","/");v.endsWith(i,"/");)i=c.substr(i,0,i.length-1);return v.endsWith(i,".bundle")?-1<e?i+"/library.json"+c.substr(t,e,null):i+"/library.json":t},n_.__resolveRootPath=function(t,e){if(null!=t)return t;for(t=-1<(t=e.indexOf("?"))?c.substr(e,0,t):e,t=v.replace(t,"\\","/");v.endsWith(t,"/");){if("/"==t)return t;t=c.substr(t,0,t.length-1)}return v.endsWith(t,".bundle")?t:so.directory(t)},n_.prototype={assets:null,libraryArgs:null,libraryType:null,name:null,rootPath:null,version:null,serialize:function(){var t={};return t.version=this.version,t.libraryType=this.libraryType,t.libraryArgs=this.libraryArgs,t.name=this.name,t.assets=Ca.run(this.assets),t.rootPath=this.rootPath,JSON.stringify(t)},__class__:n_};var r_=function(){};r["lime.utils.Assets"]=r_,r_.__name__="lime.utils.Assets",r_.exists=function(t,e){null==e&&(e="BINARY");var i=t.indexOf(":"),s=t.substring(0,i);return t=t.substring(i+1),null!=(s=r_.getLibrary(s))&&s.exists(t,e)},r_.getAsset=function(t,e,i){if(i&&r_.cache.enabled)switch(e){case"BINARY":case"TEXT":i=!1;break;case"FONT":var s=r_.cache.font.h[t];if(null!=s)return s;break;case"IMAGE":if(s=r_.cache.image.h[t],r_.isValidImage(s))return s;break;case"MUSIC":case"SOUND":if(s=r_.cache.audio.h[t],r_.isValidAudio(s))return s;break;case"TEMPLATE":throw wa.thrown("Not sure how to get template: "+t);default:return null}var n=t.indexOf(":");s=t.substring(0,n),n=t.substring(n+1);var r=r_.getLibrary(s);if(null!=r)if(r.exists(n,e)){if(r.isLocal(n,e))return s=r.getAsset(n,e),i&&r_.cache.enabled&&r_.cache.set(t,e,s),s;d_.error(e+' asset "'+t+'" exists, but only asynchronously',{fileName:"lime/utils/Assets.hx",lineNumber:133,className:"lime.utils.Assets",methodName:"getAsset"})}else d_.error("There is no "+e+' asset with an ID of "'+t+'"',{fileName:"lime/utils/Assets.hx",lineNumber:138,className:"lime.utils.Assets",methodName:"getAsset"});else d_.error(r_.__libraryNotFound(s),{fileName:"lime/utils/Assets.hx",lineNumber:143,className:"lime.utils.Assets",methodName:"getAsset"});return null},r_.getAudioBuffer=function(t,e){return null==e&&(e=!0),r_.getAsset(t,"SOUND",e)},r_.getBytes=function(t){return r_.getAsset(t,"BINARY",!1)},r_.getFont=function(t,e){return null==e&&(e=!0),r_.getAsset(t,"FONT",e)},r_.getImage=function(t,e){return null==e&&(e=!0),r_.getAsset(t,"IMAGE",e)},r_.getLibrary=function(t){return null!=t&&""!=t||(t="default"),r_.libraries.h[t]},r_.getPath=function(t){var e=t.indexOf(":"),i=t.substring(0,e);e=t.substring(e+1);var s=r_.getLibrary(i);if(null!=s){if(s.exists(e,null))return s.getPath(e);d_.error('There is no asset with an ID of "'+t+'"',{fileName:"lime/utils/Assets.hx",lineNumber:224,className:"lime.utils.Assets",methodName:"getPath"})}else d_.error(r_.__libraryNotFound(i),{fileName:"lime/utils/Assets.hx",lineNumber:229,className:"lime.utils.Assets",methodName:"getPath"});return null},r_.getText=function(t){return r_.getAsset(t,"TEXT",!1)},r_.hasLibrary=function(t){return null!=t&&""!=t||(t="default"),Object.prototype.hasOwnProperty.call(r_.libraries.h,t)},r_.isLocal=function(t,e,i){if(null==i&&(i=!0),i&&r_.cache.enabled&&r_.cache.exists(t,e))return!0;var s=t.indexOf(":");return i=t.substring(0,s),t=t.substring(s+1),null!=(i=r_.getLibrary(i))&&i.isLocal(t,e)},r_.isValidAudio=function(t){return null!=t},r_.isValidImage=function(t){return null!=t&&null!=t.buffer},r_.list=function(t){for(var e=[],i=r_.libraries.h,s=Object.keys(i),n=s.length,r=0;r<n;){var a=i[s[r++]].list(t);null!=a&&(e=e.concat(a))}return e},r_.loadAsset=function(t,e,i){if(i&&r_.cache.enabled)switch(e){case"BINARY":case"TEXT":i=!1;break;case"FONT":var s=r_.cache.font.h[t];if(null!=s)return rl.withValue(s);break;case"IMAGE":if(s=r_.cache.image.h[t],r_.isValidImage(s))return rl.withValue(s);break;case"MUSIC":case"SOUND":if(s=r_.cache.audio.h[t],r_.isValidAudio(s))return rl.withValue(s);break;case"TEMPLATE":throw wa.thrown("Not sure how to get template: "+t);default:return null}var n=t.indexOf(":");s=t.substring(0,n),n=t.substring(n+1);var r=r_.getLibrary(s);return null!=r?r.exists(n,e)?(s=r.loadAsset(n,e),i&&r_.cache.enabled&&s.onComplete(function(i){r_.cache.set(t,e,i)}),s):rl.withError("There is no "+e+' asset with an ID of "'+t+'"'):rl.withError(r_.__libraryNotFound(s))},r_.loadAudioBuffer=function(t,e){return null==e&&(e=!0),r_.loadAsset(t,"SOUND",e)},r_.loadBytes=function(t){return r_.loadAsset(t,"BINARY",!1)},r_.loadFont=function(t,e){return null==e&&(e=!0),r_.loadAsset(t,"FONT",e)},r_.loadImage=function(t,e){return null==e&&(e=!0),r_.loadAsset(t,"IMAGE",e)},r_.loadLibrary=function(t){var e=new ol,i=r_.getLibrary(t);if(null!=i)return i.load();i=t;var s=null;return Object.prototype.hasOwnProperty.call(r_.bundlePaths.h,t)?e_.loadFromFile(r_.bundlePaths.h[t]).onComplete(function(i){null==i?e.error('Cannot load bundle for library "'+t+'"'):null==(i=s_.fromBundle(i))?e.error('Cannot open library "'+t+'"'):(r_.libraries.h[t]=i,i.onChange.add(n(l=r_.onChange,l.dispatch)),e.completeWith(i.load()))}).onError(function(i){e.error('There is no asset library with an ID of "'+t+'"')}):(Object.prototype.hasOwnProperty.call(r_.libraryPaths.h,t)?(i=r_.libraryPaths.h[t],s=so.directory(i)):(v.endsWith(i,".bundle")?(s=i,i+="/library.json"):s=so.directory(i),i=r_.__cacheBreak(i)),n_.loadFromFile(i,s).onComplete(function(i){null==i?e.error('Cannot parse asset manifest for library "'+t+'"'):null==(i=s_.fromManifest(i))?e.error('Cannot open library "'+t+'"'):(r_.libraries.h[t]=i,i.onChange.add(n(l=r_.onChange,l.dispatch)),e.completeWith(i.load()))}).onError(function(i){e.error('There is no asset library with an ID of "'+t+'"')})),e.future},r_.loadText=function(t){return r_.loadAsset(t,"TEXT",!1)},r_.registerLibrary=function(t,e){if(Object.prototype.hasOwnProperty.call(r_.libraries.h,t)){if(r_.libraries.h[t]==e)return;r_.unloadLibrary(t)}null!=e&&e.onChange.add(r_.library_onChange),r_.libraries.h[t]=e},r_.unloadLibrary=function(t){null!=t&&""!=t||(t="default");var e=r_.libraries.h[t];null!=e&&(r_.cache.clear(t+":"),e.onChange.remove(r_.library_onChange),e.unload()),e=r_.libraries,Object.prototype.hasOwnProperty.call(e.h,t)&&delete e.h[t]},r_.__cacheBreak=function(t){return 0<r_.cache.version&&(t=-1<t.indexOf("?")?t+"&"+r_.cache.version:t+"?"+r_.cache.version),t},r_.__libraryNotFound=function(t){return null!=t&&""!=t||(t="default"),null==sl.current||null==sl.current.__preloader||sl.current.__preloader.complete?'There is no asset library named "'+t+'"':'There is no asset library named "'+t+'", or it is not yet preloaded'},r_.library_onChange=function(){r_.cache.clear(),r_.onChange.dispatch()};var a_=function(t){var e=t.indexOf(":");this.libraryName=t.substring(0,e),this.symbolName=t.substring(e+1),this.library=r_.getLibrary(this.libraryName)};r["lime.utils._Assets.LibrarySymbol"]=a_,a_.__name__="lime.utils._Assets.LibrarySymbol",a_.prototype={library:null,libraryName:null,symbolName:null,isLocal:function(t){return this.library.isLocal(this.symbolName,t)},exists:function(t){return this.library.exists(this.symbolName,t)},__class__:a_};var o_={_new:function(t,e){return null==e&&(e=0),new l_(t,e)},set:function(t,e,i,s,n){null!=s&&(e=La.ofData(s)),null!=e||null==i?(t.bytes=e,t.offset=null!=n?n:0):(t.bytes=La.ofData(i.buffer),t.offset=null!=n?i.byteOffset+n:i.byteOffset)},__arrayGet:function(t,e){return null!=t.bytes?t.bytes.b[e+t.offset]:0},__arraySet:function(t,e,i){return null==t.bytes&&(t.bytes.b[e+t.offset]=255&i),i},fromArrayBufferView:function(t){return null==t?null:new l_(La.ofData(t.buffer),t.byteOffset)},fromArrayBuffer:function(t){return null==t?null:new l_(La.ofData(t),0)},fromBytes:function(t){return new l_(t,0)},fromBytesData:function(t){return new l_(null==t?null:La.ofData(t),0)},fromFile:function(t){return new l_(h_.fromFile(t),0)},fromLimeBytes:function(t){return new l_(t,0)},toUInt8Array:function(t){var e=t.bytes.b.bufferValue;return null==(t=t.offset/8|0)&&(t=0),null!=e?new Uint8Array(e,t):null},toUInt8ClampedArray:function(t){if(null==t||null==t.bytes)return null;var e=t.bytes.b.bufferValue;return null==(t=t.offset/8|0)&&(t=0),null!=e?new Uint8ClampedArray(e,t):null},toInt8Array:function(t){if(null==t||null==t.bytes)return null;var e=t.bytes.b.bufferValue;return null==(t=t.offset/8|0)&&(t=0),null!=e?new Int8Array(e,t):null},toUInt16Array:function(t){if(null==t||null==t.bytes)return null;var e=t.bytes.b.bufferValue;return null==(t=t.offset/16|0)&&(t=0),null!=e?new Uint16Array(e,t):null},toInt16Array:function(t){if(null==t||null==t.bytes)return null;var e=t.bytes.b.bufferValue;return null==(t=t.offset/16|0)&&(t=0),null!=e?new Int16Array(e,t):null},toUInt32Array:function(t){if(null==t||null==t.bytes)return null;var e=t.bytes.b.bufferValue;return null==(t=t.offset/32|0)&&(t=0),null!=e?new Uint32Array(e,t):null},toInt32Array:function(t){if(null==t||null==t.bytes)return null;var e=t.bytes.b.bufferValue;return null==(t=t.offset/32|0)&&(t=0),null!=e?new Int32Array(e,t):null},toFloat32Array:function(t){if(null==t||null==t.bytes)return null;var e=t.bytes.b.bufferValue;return null==(t=t.offset/32|0)&&(t=0),null!=e?new Float32Array(e,t):null},toFloat64Array:function(t){if(null==t||null==t.bytes)return null;var e=t.bytes.b.bufferValue;return null==(t=t.offset/64|0)&&(t=0),null!=e?new Float64Array(e,t):null}},l_=function(t,e){this.bytes=t,this.offset=e};r["lime.utils.BytePointerData"]=l_,l_.__name__="lime.utils.BytePointerData",l_.prototype={bytes:null,offset:null,__class__:l_};var h_={_new:function(t,e){return new La(e)},alloc:function(t){return new La(new ArrayBuffer(t))},compress:function(t,e){switch(e._hx_index){case 0:return Fo.compress(t);case 1:return Bo.compress(t);case 2:return Lo.compress(t);case 3:return Oo.compress(t)}},decompress:function(t,e){switch(e._hx_index){case 0:return Fo.decompress(t);case 1:return Bo.decompress(t);case 2:return Lo.decompress(t);case 3:return Oo.decompress(t)}},fastGet:function(t,e){return t.bytes[e]},fromBytes:function(t){return null==t?null:h_._new(t.length,t.b.bufferValue)},fromFile:function(t){return null},loadFromBytes:function(t){return rl.withValue(h_.fromBytes(t))},loadFromFile:function(t){return(new gh).load(t)},ofData:function(t){return t=La.ofData(t),h_._new(t.length,t.b.bufferValue)},ofString:function(t){return t=La.ofString(t),h_._new(t.length,t.b.bufferValue)}},__=o["lime.utils.CompressionAlgorithm"]={__ename__:"lime.utils.CompressionAlgorithm",__constructs__:null,DEFLATE:{_hx_name:"DEFLATE",_hx_index:0,__enum__:"lime.utils.CompressionAlgorithm",toString:a},GZIP:{_hx_name:"GZIP",_hx_index:1,__enum__:"lime.utils.CompressionAlgorithm",toString:a},LZMA:{_hx_name:"LZMA",_hx_index:2,__enum__:"lime.utils.CompressionAlgorithm",toString:a},ZLIB:{_hx_name:"ZLIB",_hx_index:3,__enum__:"lime.utils.CompressionAlgorithm",toString:a}};__.__constructs__=[__.DEFLATE,__.GZIP,__.LZMA,__.ZLIB];var c_={_new:function(t){return t},fromFloat:function(t){return t},fromBytesPointer:function(t){return c_.fromFloat(0)},fromArrayBufferView:function(t){return c_.fromFloat(0)},fromArrayBuffer:function(t){return c_.fromFloat(0)},fromBytes:function(t){return c_.fromFloat(0)},fromBytesData:function(t){return c_.fromFloat(0)},fromLimeBytes:function(t){return c_.fromBytes(t)},fromCFFIPointer:function(t){return c_.fromFloat(0)},fromFile:function(t){return c_.fromFloat(0)},__withOffset:function(t,e){return c_.fromFloat(0)},equals:function(t,e){return t==e},equalsPointer:function(t,e){return t==e},greaterThan:function(t,e){return t>e},greaterThanPointer:function(t,e){return vh.get(t)>vh.get(e)},greaterThanOrEqual:function(t,e){return t>=e},greaterThanOrEqualPointer:function(t,e){return vh.get(t)>=vh.get(e)},lessThan:function(t,e){return t<e},lessThanPointer:function(t,e){return vh.get(t)<vh.get(e)},lessThanOrEqual:function(t,e){return t<=e},lessThanOrEqualPointer:function(t,e){return vh.get(t)<=vh.get(e)},notEquals:function(t,e){return t!=e},notEqualsPointer:function(t,e){return t!=e},plus:function(t,e){return c_.__withOffset(t,e)},plusPointer:function(t,e){return c_.__withOffset(t,0|e)},minus:function(t,e){return c_.__withOffset(t,-e)},minusPointer:function(t,e){return c_.__withOffset(t,-(0|e))}},u_={toArrayBufferView:function(t){return t},fromBytes:function(t,e,i){return null==e&&(e=0),null==e?new Float32Array(t.b.bufferValue):null==i?new Float32Array(t.b.bufferValue,e):new Float32Array(t.b.bufferValue,e,i)},toBytes:function(t){return new La(new Uint8Array(t.buffer))},toString:function(t){return null!=t?"Float32Array [byteLength:"+t.byteLength+", length:"+t.length+"]":null}},d_=function(){};r["lime.utils.Log"]=d_,d_.__name__="lime.utils.Log",d_.debug=function(t,e){4<=d_.level&&console.debug("["+e.className+"] "+g.string(t))},d_.error=function(t,e){if(1<=d_.level){if(t="["+e.className+"] ERROR: "+g.string(t),d_.throwErrors)throw wa.thrown(t);console.error(t)}},d_.info=function(t,e){3<=d_.level&&console.info("["+e.className+"] "+g.string(t))},d_.print=function(t){console.log(t)},d_.println=function(t){console.log(t)},d_.verbose=function(t,e){5<=d_.level&&(t="["+e.className+"] "+g.string(t),console.log(t))},d_.warn=function(t,e){2<=d_.level&&console.warn("["+e.className+"] WARNING: "+g.string(t))};var m_=function(t,e){this.positions=new pr,this.lengths=new pr,s_.call(this),this.id=t,this.type=e};r["lime.utils.PackedAssetLibrary"]=m_,m_.__name__="lime.utils.PackedAssetLibrary",m_.fromBytes=function(t,e){return m_.fromManifest(n_.fromBytes(t,e))},m_.fromFile=function(t,e){return m_.fromManifest(n_.fromFile(t,e))},m_.fromManifest=function(t){return s_.fromManifest(t)},m_.loadFromBytes=function(t,e){return s_.loadFromBytes(t,e).then(function(t){return rl.withValue(t)})},m_.loadFromFile=function(t,e){return s_.loadFromFile(t,e).then(function(t){return rl.withValue(t)})},m_.loadFromManifest=function(t){return s_.loadFromManifest(t).then(function(t){return rl.withValue(t)})},m_.__super__=s_,m_.prototype=i(s_.prototype,{id:null,lengths:null,packedData:null,positions:null,type:null,rootPath:null,getAudioBuffer:function(t){return s_.prototype.getAudioBuffer.call(this,t)},getBytes:function(t){if(Object.prototype.hasOwnProperty.call(this.cachedBytes.h,t))return this.cachedBytes.h[t];if(Object.prototype.hasOwnProperty.call(this.cachedText.h,t)){var e=h_.ofString(this.cachedText.h[t]);this.cachedBytes.h[t]=e}else(e=h_.alloc(this.lengths.h[t])).blit(0,this.packedData,this.positions.h[t],this.lengths.h[t]),"gzip"==this.type?e=h_.decompress(e,__.GZIP):"zip"!=this.type&&"deflate"!=this.type||(e=h_.decompress(e,__.DEFLATE));return e},getFont:function(t){return s_.prototype.getFont.call(this,t)},getImage:function(t){if(Object.prototype.hasOwnProperty.call(this.cachedImages.h,t))return this.cachedImages.h[t];var e=h_.alloc(this.lengths.h[t]);return e.blit(0,this.packedData,this.positions.h[t],this.lengths.h[t]),"gzip"==this.type?e=h_.decompress(e,__.GZIP):"zip"!=this.type&&"deflate"!=this.type||(e=h_.decompress(e,__.DEFLATE)),El.fromBytes(e)},getText:function(t){if(Object.prototype.hasOwnProperty.call(this.cachedText.h,t))return this.cachedText.h[t];if("gzip"==this.type||"zip"==this.type||"deflate"==this.type){var e=h_.alloc(this.lengths.h[t]);return e.blit(0,this.packedData,this.positions.h[t],this.lengths.h[t]),"gzip"==this.type?e=h_.decompress(e,__.GZIP):"zip"!=this.type&&"deflate"!=this.type||(e=h_.decompress(e,__.DEFLATE)),e.getString(0,e.length)}return this.packedData.getString(this.positions.h[t],this.lengths.h[t])},isLocal:function(t,e){return!0},load:function(){var t=this;if(this.loaded)return rl.withValue(this);if(null==this.promise){this.promise=new ol,this.bytesLoadedCache=new pr,this.assetsLoaded=0,this.assetsTotal=2;for(var e=Object.keys(this.preload.h),i=e.length,s=0;s<i;){var r=e[s++];if(this.preload.h[r]){var a=this.types.h[r];if(null!=a)switch(a){case"BINARY":case"FONT":case"IMAGE":case"TEXT":this.assetsTotal++;break;case"MUSIC":case"SOUND":d_.verbose("Preloading asset: "+r+" ["+this.types.h[r]+"]",{fileName:"lime/utils/PackedAssetLibrary.hx",lineNumber:189,className:"lime.utils.PackedAssetLibrary",methodName:"load"}),this.assetsTotal++;var o=this.loadAudioBuffer(r);o.onProgress(function(t,e){return function(i,s){e[0](t[0],i,s)}}([r],[n(this,this.load_onProgress)])),o.onError(function(t,e){return function(i){e[0](t[0],i)}}([r],[n(this,this.loadAudioBuffer_onError)])),o.onComplete(function(t,e){return function(i){e[0](t[0],i)}}([r],[n(this,this.loadAudioBuffer_onComplete)]))}}}e=function(e){t.cachedBytes.h[t.id]=e,t.packedData=e,t.__assetLoaded(t.id);for(var i=(e=Object.keys(t.preload.h)).length,s=0;s<i;){var r=e[s++];if(t.preload.h[r]){var a=t.types.h[r];if(null!=a)switch(a){case"BINARY":d_.verbose("Preloading asset: "+r+" ["+t.types.h[r]+"]",{fileName:"lime/utils/PackedAssetLibrary.hx",lineNumber:215,className:"lime.utils.PackedAssetLibrary",methodName:"load"}),(a=t.loadBytes(r)).onError(function(t,e){return function(i){e[0](t[0],i)}}([r],[n(t,t.load_onError)])),a.onComplete(function(t,e){return function(i){e[0](t[0],i)}}([r],[n(t,t.loadBytes_onComplete)]));break;case"FONT":d_.verbose("Preloading asset: "+r+" ["+t.types.h[r]+"]",{fileName:"lime/utils/PackedAssetLibrary.hx",lineNumber:222,className:"lime.utils.PackedAssetLibrary",methodName:"load"}),(a=t.loadFont(r)).onError(function(t,e){return function(i){e[0](t[0],i)}}([r],[n(t,t.load_onError)])),a.onComplete(function(t,e){return function(i){e[0](t[0],i)}}([r],[n(t,t.loadFont_onComplete)]));break;case"IMAGE":d_.verbose("Preloading asset: "+r+" ["+t.types.h[r]+"]",{fileName:"lime/utils/PackedAssetLibrary.hx",lineNumber:229,className:"lime.utils.PackedAssetLibrary",methodName:"load"}),(a=t.loadImage(r)).onError(function(t,e){return function(i){e[0](t[0],i)}}([r],[n(t,t.load_onError)])),a.onComplete(function(t,e){return function(i){e[0](t[0],i)}}([r],[n(t,t.loadImage_onComplete)]));break;case"TEXT":d_.verbose("Preloading asset: "+r+" ["+t.types.h[r]+"]",{fileName:"lime/utils/PackedAssetLibrary.hx",lineNumber:236,className:"lime.utils.PackedAssetLibrary",methodName:"load"}),(a=t.loadText(r)).onError(function(t,e){return function(i){e[0](t[0],i)}}([r],[n(t,t.load_onError)])),a.onComplete(function(t,e){return function(i){e[0](t[0],i)}}([r],[n(t,t.loadText_onComplete)]))}}}},this.__assetLoaded(null),Object.prototype.hasOwnProperty.call(this.cachedBytes.h,this.id)?e(this.cachedBytes.h[this.id]):(i=null==this.rootPath||""==this.rootPath?"":so.addTrailingSlash(this.rootPath),s=Object.prototype.hasOwnProperty.call(this.paths.h,this.id)?this.paths.h[this.id]:this.id,i=so.join([i,s]),i=this.__cacheBreak(i),a=n(this,this.load_onProgress),r=this.id,h_.loadFromFile(i).onProgress(function(t,e){a(r,t,e)}).onError((l=this.promise,n(l,l.error))).onComplete(e))}return this.promise.future},loadAudioBuffer:function(t){return s_.prototype.loadAudioBuffer.call(this,t)},loadBytes:function(t){if(Object.prototype.hasOwnProperty.call(this.cachedBytes.h,t))return rl.withValue(this.cachedBytes.h[t]);var e=h_.alloc(this.lengths.h[t]);return e.blit(0,this.packedData,this.positions.h[t],this.lengths.h[t]),"gzip"==this.type?e=h_.decompress(e,__.GZIP):"zip"!=this.type&&"deflate"!=this.type||(e=h_.decompress(e,__.DEFLATE)),rl.withValue(e)},loadFont:function(t){return s_.prototype.loadFont.call(this,t)},loadImage:function(t){if(Object.prototype.hasOwnProperty.call(this.cachedImages.h,t))return rl.withValue(this.cachedImages.h[t]);var e=h_.alloc(this.lengths.h[t]);return e.blit(0,this.packedData,this.positions.h[t],this.lengths.h[t]),"gzip"==this.type?e=h_.decompress(e,__.GZIP):"zip"!=this.type&&"deflate"!=this.type||(e=h_.decompress(e,__.DEFLATE)),El.loadFromBytes(e)},loadText:function(t){if(Object.prototype.hasOwnProperty.call(this.cachedText.h,t))return rl.withValue(this.cachedText.h[t]);if(Object.prototype.hasOwnProperty.call(this.cachedBytes.h,t)){var e=this.getBytes(t);return null==e?rl.withValue(null):(e=e.getString(0,e.length),this.cachedText.h[t]=e,rl.withValue(e))}return"gzip"==this.type||"deflate"==this.type?((e=h_.alloc(this.lengths.h[t])).blit(0,this.packedData,this.positions.h[t],this.lengths.h[t]),"gzip"==this.type?e=h_.decompress(e,__.GZIP):"zip"!=this.type&&"deflate"!=this.type||(e=h_.decompress(e,__.DEFLATE)),rl.withValue(e.getString(0,e.length))):rl.withValue(this.packedData.getString(this.positions.h[t],this.lengths.h[t]))},unload:function(){},__fromManifest:function(t){this.rootPath=t.rootPath,s_.prototype.__fromManifest.call(this,t);var e=0,i=this.bytesTotal=0;for(t=t.assets;i<t.length;){var s=t[i];++i;var n=s.id;Object.prototype.hasOwnProperty.call(s,"position")&&(this.positions.h[n]=f.field(s,"position")),Object.prototype.hasOwnProperty.call(s,"length")&&(s=f.field(s,"length"),this.lengths.h[n]=s,this.sizes.h[n]=Math.floor(s/10),e+=s),Object.prototype.hasOwnProperty.call(this.preload.h,n)&&this.preload.h[n]&&Object.prototype.hasOwnProperty.call(this.sizes.h,n)&&(this.bytesTotal+=this.sizes.h[n])}this.sizes.h[this.id]=e,this.bytesTotal+=e},__assetLoaded:function(t){if(this.assetsLoaded++,null!=t&&d_.verbose("Loaded asset: "+t+" ["+this.types.h[t]+"] ("+(this.assetsLoaded-1)+"/"+(this.assetsTotal-1)+")",{fileName:"lime/utils/PackedAssetLibrary.hx",lineNumber:457,className:"lime.utils.PackedAssetLibrary",methodName:"__assetLoaded"}),null!=t){var e=Object.prototype.hasOwnProperty.call(this.sizes.h,t)?this.sizes.h[t]:0;if(Object.prototype.hasOwnProperty.call(this.bytesLoadedCache.h,t)){var i=this.bytesLoadedCache.h[t];i<e&&(this.bytesLoaded+=e-i)}else this.bytesLoaded+=e;this.bytesLoadedCache.h[t]=e}this.assetsLoaded<this.assetsTotal?this.promise.progress(this.bytesLoaded,this.bytesTotal):(this.loaded=!0,this.promise.progress(this.bytesTotal,this.bytesTotal),this.promise.complete(this))},__class__:m_});var p_=function(){this.bytesTotalCache=new pr,this.bytesLoadedCache2=new pr,this.bytesLoadedCache=new I,this.onProgress=new fl,this.onComplete=new xl,this.bytesTotal=this.bytesLoaded=0,this.libraries=[],this.libraryNames=[],this.onProgress.add(n(this,this.update))};r["lime.utils.Preloader"]=p_,p_.__name__="lime.utils.Preloader",p_.prototype={complete:null,onComplete:null,onProgress:null,bytesLoaded:null,bytesLoadedCache:null,bytesLoadedCache2:null,bytesTotal:null,bytesTotalCache:null,initLibraryNames:null,libraries:null,libraryNames:null,loadedLibraries:null,loadedStage:null,preloadComplete:null,preloadStarted:null,simulateProgress:null,addLibrary:function(t){this.libraries.push(t)},addLibraryName:function(t){-1==this.libraryNames.indexOf(t)&&this.libraryNames.push(t)},load:function(){for(var t=this,e=0,i=this.libraries;e<i.length;){var s=i[e];++e,this.bytesTotal+=s.bytesTotal}for(this.loadedLibraries=-1,this.preloadStarted=!1,e=0,i=this.libraries;e<i.length;)s=[i[e]],++e,d_.verbose("Preloading asset library",{fileName:"lime/utils/Preloader.hx",lineNumber:134,className:"lime.utils.Preloader",methodName:"load"}),s[0].load().onProgress(function(e){return function(i,s){t.bytesLoaded=null==t.bytesLoadedCache.h.__keys__[e[0].__id__]?t.bytesLoaded+i:t.bytesLoaded+(i-t.bytesLoadedCache.h[e[0].__id__]),t.bytesLoadedCache.set(e[0],i),t.simulateProgress||t.onProgress.dispatch(t.bytesLoaded,t.bytesTotal)}}(s)).onComplete(function(e){return function(i){t.bytesLoaded=null==t.bytesLoadedCache.h.__keys__[e[0].__id__]?t.bytesLoaded+e[0].bytesTotal:t.bytesLoaded+((0|e[0].bytesTotal)-t.bytesLoadedCache.h[e[0].__id__]),t.loadedAssetLibrary()}}(s)).onError(function(){return function(t){d_.error(t,{fileName:"lime/utils/Preloader.hx",lineNumber:170,className:"lime.utils.Preloader",methodName:"load"})}}());for(e=0,i=this.libraryNames;e<i.length;)++e,this.bytesTotal+=200;this.loadedLibraries++,this.preloadStarted=!0,this.updateProgress()},loadedAssetLibrary:function(t){this.loadedLibraries++;var e=this.loadedLibraries;this.preloadStarted||++e;var i=this.libraries.length+this.libraryNames.length;null!=t?d_.verbose("Loaded asset library: "+t+" ["+e+"/"+i+"]",{fileName:"lime/utils/Preloader.hx",lineNumber:197,className:"lime.utils.Preloader",methodName:"loadedAssetLibrary"}):d_.verbose("Loaded asset library ["+e+"/"+i+"]",{fileName:"lime/utils/Preloader.hx",lineNumber:201,className:"lime.utils.Preloader",methodName:"loadedAssetLibrary"}),this.updateProgress()},start:function(){this.complete||this.simulateProgress||!this.preloadComplete||(this.complete=!0,this.onComplete.dispatch())},update:function(t,e){},updateProgress:function(){var t=this;if(this.simulateProgress||this.onProgress.dispatch(this.bytesLoaded,this.bytesTotal),this.loadedLibraries==this.libraries.length&&!this.initLibraryNames){this.initLibraryNames=!0;for(var e=0,i=this.libraryNames;e<i.length;){var s=[i[e]];++e,d_.verbose("Preloading asset library: "+s[0],{fileName:"lime/utils/Preloader.hx",lineNumber:239,className:"lime.utils.Preloader",methodName:"updateProgress"}),r_.loadLibrary(s[0]).onProgress(function(e){return function(i,s){0<s&&(Object.prototype.hasOwnProperty.call(t.bytesTotalCache.h,e[0])||(t.bytesTotalCache.h[e[0]]=s,t.bytesTotal+=s-200),i>s&&(i=s),Object.prototype.hasOwnProperty.call(t.bytesLoadedCache2.h,e[0])?t.bytesLoaded+=i-t.bytesLoadedCache2.h[e[0]]:t.bytesLoaded+=i,t.bytesLoadedCache2.h[e[0]]=i,t.simulateProgress||t.onProgress.dispatch(t.bytesLoaded,t.bytesTotal))}}(s)).onComplete(function(e){return function(i){i=200,Object.prototype.hasOwnProperty.call(t.bytesTotalCache.h,e[0])&&(i=t.bytesTotalCache.h[e[0]]),Object.prototype.hasOwnProperty.call(t.bytesLoadedCache2.h,e[0])?t.bytesLoaded+=i-t.bytesLoadedCache2.h[e[0]]:t.bytesLoaded+=i,t.loadedAssetLibrary(e[0])}}(s)).onError(function(){return function(t){d_.error(t,{fileName:"lime/utils/Preloader.hx",lineNumber:293,className:"lime.utils.Preloader",methodName:"updateProgress"})}}())}}this.simulateProgress||this.loadedLibraries!=this.libraries.length+this.libraryNames.length||(this.preloadComplete||(this.preloadComplete=!0,d_.verbose("Preload complete",{fileName:"lime/utils/Preloader.hx",lineNumber:306,className:"lime.utils.Preloader",methodName:"updateProgress"})),this.start())},__class__:p_};var f_=function(t,e,i){this.name=t,this.type=e,this.address=i};r["mbs.core.MbsField"]=f_,f_.__name__="mbs.core.MbsField",f_.prototype={name:null,type:null,address:null,getName:function(){return this.name},getType:function(){return this.type},getAddress:function(){return this.address},__class__:f_};var g_=function(t,e,i){f_.call(this,t,null,i),this.typeName=e};r["mbs.core.reflect.SubstituteField"]=g_,g_.__name__="mbs.core.reflect.SubstituteField",g_.__super__=f_,g_.prototype=i(f_.prototype,{typeName:null,toString:function(){return"MbsField [name="+this.getName()+", typeName="+this.typeName+", address="+this.address+"]"},__class__:g_});var y_=function(t,e,i,s){vs.call(this,t),this.parentName=e,this.fields=i.slice(0),this.size=s};r["mbs.core.reflect.SubstituteType"]=y_,y_.__name__="mbs.core.reflect.SubstituteType",y_.__super__=vs,y_.prototype=i(vs.prototype,{parentName:null,mapTypes:function(t){if(this.parent=t.h[this.parentName],null!=this.fields)for(var e=0,i=this.fields.length;e<i;){var s=e++;(s=this.fields[s]).type=t.h[s.typeName]}},__class__:y_});var b_=function(){};r["mbs.io.MbsDynamicHelper"]=b_,b_.__name__="mbs.io.MbsDynamicHelper",b_.writeDynamic=function(t,e,i){null==i&&t.writeTypecode(e,ys.NULL),"boolean"==typeof i?(t.writeTypecode(e,ys.BOOLEAN),t.writeBool(e+ys.INTEGER.getSize(),i)):"number"==typeof i?(t.writeTypecode(e,ys.FLOAT),t.writeFloat(e+ys.INTEGER.getSize(),i)):"number"==typeof i&&(0|i)===i?(t.writeTypecode(e,ys.INTEGER),t.writeInt(e+ys.INTEGER.getSize(),i)):"string"==typeof i?(t.writeTypecode(e,ys.STRING),t.writeString(e+ys.INTEGER.getSize(),i)):(t.writeTypecode(e,i.getMbsType()),t.writeInt(e+ys.INTEGER.getSize(),i.getAddress()))},b_.readDynamic=function(t,e){var i=t.readTypecode(e);return i==ys.NULL?null:i==ys.BOOLEAN?t.readBool(e+ys.INTEGER.getSize()):i==ys.FLOAT?t.readFloat(e+ys.INTEGER.getSize()):i==ys.INTEGER?t.readInt(e+ys.INTEGER.getSize()):i==ys.STRING?t.readString(e+ys.INTEGER.getSize()):i==ys.LIST?0!=(e=t.readInt(e+ys.INTEGER.getSize()))?(i=t.readTypecode(e+ys.INTEGER.getSize()),(t=i==ys.BOOLEAN?new R_(t):i==ys.FLOAT?new A_(t):i==ys.INTEGER?new T_(t):i==ys.STRING?new M_(t):i==ys.DYNAMIC?new P_(t):new S_(t,i,i.createInstance(t))).setAddress(e),t):null:((i=i.createInstance(t)).setAddress(t.readInt(e+ys.INTEGER.getSize())),i)},b_.createObjectPool=function(t){return new I},b_.readDynamicUsingPool=function(t,e,i){var s=t.readTypecode(e);if(s==ys.NULL)return null;if(s==ys.BOOLEAN)return t.readBool(e+ys.INTEGER.getSize());if(s==ys.FLOAT)return t.readFloat(e+ys.INTEGER.getSize());if(s==ys.INTEGER)return t.readInt(e+ys.INTEGER.getSize());if(s==ys.STRING)return t.readString(e+ys.INTEGER.getSize());if(s==ys.LIST)return 0!=(e=t.readInt(e+ys.INTEGER.getSize()))?(s=t.readTypecode(e+ys.INTEGER.getSize()),(t=s==ys.BOOLEAN?new R_(t):s==ys.FLOAT?new A_(t):s==ys.INTEGER?new T_(t):s==ys.STRING?new M_(t):s==ys.DYNAMIC?new P_(t):new S_(t,s,s.createInstance(t))).setAddress(e),t):null;var n=i.h[s.__id__];return null==n&&(n=s.createInstance(t),i.set(s,n)),n.setAddress(t.readInt(e+ys.INTEGER.getSize())),n};var v_=function(){};r["mbs.io.MbsIO"]=v_,v_.__name__="mbs.io.MbsIO",v_.__isInterface__=!0,v_.prototype={readBool:null,readFloat:null,readInt:null,readString:null,writeInt:null,writeBool:null,writeFloat:null,writeString:null,isReader:null,isWriter:null,allocate:null,writeTypecode:null,readTypecode:null,__class__:v_};var x_=function(){};r["mbs.io.MbsInternalVersion"]=x_,x_.__name__="mbs.io.MbsInternalVersion";var w_=function(t,e){this.data=t,null!=e&&(this.type=e,this.elementSize=e.getSize())};r["mbs.io.MbsListBase"]=w_,w_.__name__="mbs.io.MbsListBase",w_.__super__=_s,w_.prototype=i(_s.prototype,{type:null,elementAddress:null,elementSize:null,_length:null,setAddress:function(t){_s.prototype.setAddress.call(this,t),this.data.isReader()&&(0!=t?(this._length=this.data.readInt(t),this.type=this.data.readTypecode(t+ys.INTEGER.getSize()),this.elementSize=this.type.getSize(),this.elementAddress=t+2*ys.INTEGER.getSize()):(this.type=null,this.elementAddress=this.elementSize=this._length=0))},allocateNew:function(t){if(this.data.isWriter())return this._length=t,this.address=this.data.allocate(2*ys.INTEGER.getSize()+this.elementSize*t),this.data.writeInt(this.address,t),this.data.writeTypecode(this.address+ys.INTEGER.getSize(),this.type),this.elementAddress=this.address+2*ys.INTEGER.getSize(),this.address;throw wa.thrown("Can't allocate new objects when reading")},length:function(){return this._length},__class__:w_});var S_=function(t,e,i){w_.call(this,t,e),this.obj=i};r["mbs.io.MbsList"]=S_,S_.__name__="mbs.io.MbsList",S_.__super__=w_,S_.prototype=i(w_.prototype,{obj:null,getNextObject:function(){return this.obj.setAddress(this.elementAddress),this.elementAddress+=this.elementSize,this.obj},__class__:S_});var R_=function(t){w_.call(this,t,ys.BOOLEAN)};r["mbs.io.MbsBoolList"]=R_,R_.__name__="mbs.io.MbsBoolList",R_.__super__=w_,R_.prototype=i(w_.prototype,{readBool:function(){var t=this.data.readBool(this.elementAddress);return this.elementAddress+=this.elementSize,t},writeBool:function(t){this.data.writeBool(this.elementAddress,t),this.elementAddress+=this.elementSize},__class__:R_});var A_=function(t){w_.call(this,t,ys.FLOAT)};r["mbs.io.MbsFloatList"]=A_,A_.__name__="mbs.io.MbsFloatList",A_.__super__=w_,A_.prototype=i(w_.prototype,{readFloat:function(){var t=this.data.readFloat(this.elementAddress);return this.elementAddress+=this.elementSize,t},writeFloat:function(t){this.data.writeFloat(this.elementAddress,t),this.elementAddress+=this.elementSize},__class__:A_});var T_=function(t){w_.call(this,t,ys.INTEGER)};r["mbs.io.MbsIntList"]=T_,T_.__name__="mbs.io.MbsIntList",T_.__super__=w_,T_.prototype=i(w_.prototype,{readInt:function(){var t=this.data.readInt(this.elementAddress);return this.elementAddress+=this.elementSize,t},writeInt:function(t){this.data.writeInt(this.elementAddress,t),this.elementAddress+=this.elementSize},__class__:T_});var M_=function(t){w_.call(this,t,ys.STRING)};r["mbs.io.MbsStringList"]=M_,M_.__name__="mbs.io.MbsStringList",M_.__super__=w_,M_.prototype=i(w_.prototype,{readString:function(){var t=this.data.readString(this.elementAddress);return this.elementAddress+=this.elementSize,t},writeString:function(t){this.data.writeString(this.elementAddress,t),this.elementAddress+=this.elementSize},__class__:M_});var P_=function(t){w_.call(this,t,ys.DYNAMIC)};r["mbs.io.MbsDynamicList"]=P_,P_.__name__="mbs.io.MbsDynamicList",P_.__super__=w_,P_.prototype=i(w_.prototype,{readObject:function(){var t=b_.readDynamic(this.data,this.elementAddress);return this.elementAddress+=this.elementSize,t},readObjectUsingPool:function(t){return t=b_.readDynamicUsingPool(this.data,this.elementAddress,t),this.elementAddress+=this.elementSize,t},writeObject:function(t){b_.writeDynamic(this.data,this.elementAddress,t),this.elementAddress+=this.elementSize},__class__:P_});var C_=function(t,e,i){this.typedefSet=t,this.readStoredTypeInformation=e,this.initStringList=i,this.header=new bs(this),this.header.setAddress(0)};r["mbs.io.MbsReader"]=C_,C_.__name__="mbs.io.MbsReader",C_.__interfaces__=[v_],C_.prototype={data:null,stringTable:null,typeTable:null,rootAddress:null,subTypeMap:null,initStringList:null,stringTableAddress:null,readStoredTypeInformation:null,typedefSet:null,header:null,canRead:function(t){var e=null;return(null==t||t.length<this.header.getMbsType().getSize())&&(e="Missing header"),this.data=t,2!=this.header.getVersion()&&(e="Mismatched version -- "+this.header.getVersion()),this.header.getTypeTableHash()!=this.typedefSet.getHash()&&(e="Mismatched typetable"),this.readStoredTypeInformation&&0==this.header.getTypeTablePointer()&&(e="Missing required type information"),this.data=null,e},readData:function(t){if(this.data=t,2!=this.header.getVersion())throw wa.thrown("Can't read mbs. Wrong version.");if(this.header.getTypeTableHash()!=this.typedefSet.getHash())throw wa.thrown("Can't read mbs. Wrong typedef info.");var e=ys.INTEGER.getSize();this.stringTableAddress=this.header.getStringTablePointer();var i=Array(this.readInt(this.stringTableAddress));if(this.stringTable=i,this.initStringList)for(var s=this.stringTableAddress+e,n=0,r=this.stringTable.length;n<r;){var a=n++,o=this.readInt(s),l=this.readInt(o);this.stringTable[a]=t.getString(o+4,l),s+=e}if(this.readStoredTypeInformation){for(t=new xs(this),s=this.header.getTypeTablePointer(),this.typeTable=i=Array(this.readInt(s)),s+=e,this.subTypeMap=new pr,(o=Object.create(null))[(a=ys.BOOLEAN).getName()]=a,o[(a=ys.INTEGER).getName()]=a,o[(a=ys.FLOAT).getName()]=a,o[(a=ys.STRING).getName()]=a,o[(a=ys.DYNAMIC).getName()]=a,o[(a=ys.LIST).getName()]=a,n=0,r=this.typeTable.length;n<r;){a=n++,t.setAddress(this.readInt(s)),s+=e,l=t.getName();var h=t.getParent(),_=t.getSize();i=null;var c=t.getFieldsPointer();if(0!=c){var u=this.readInt(c);c+=e,i=Array(u);for(var d=new ws(this),m=0;m<u;){var p=m++;d.setAddress(c),c+=ws.MBS_FIELD_INFO.getSize();var f=d.getName(),g=d.getType(),y=d.getFieldAddress();i[p]=new g_(f,g,y)}}Object.prototype.hasOwnProperty.call(o,l)?this.typeTable[a]=o[l]:this.typeTable[a]=new y_(l,h,i,_),this.subTypeMap.h[l]=this.typeTable[a]}for(n=0,r=this.typeTable.length;n<r;)a=n++,this.typeTable[a]instanceof y_&&vo.__cast(this.typeTable[a],y_).mapTypes(this.subTypeMap)}else for(this.typeTable=i=Array(this.typedefSet.getTypes().length),n=0,r=this.typedefSet.getTypes();n<r.length;)a=r[n],++n,this.typeTable[this.typedefSet.getTypecode(a)]=a},reconfigureComposition:function(t){var e=this.subTypeMap,i=t.getName();if(Object.prototype.hasOwnProperty.call(e.h,i)){e=this.subTypeMap,i=t.getName();var s=e.h[i];for(e=Object.create(null),i=0,s=s.getFields();i<s.length;){var n=s[i];++i,e[n.getName()]=n}for(i=0,s=t.getFields();i<s.length;)n=s[i],++i,n.address=e[n.getName()].address}},getRoot:function(){return this.header.getRoot()},readInt:function(t){return this.data.b[t]<<24|this.data.b[t+1]<<16|this.data.b[t+2]<<8|this.data.b[t+3]},readBool:function(t){return 0!=this.data.b[t]},readFloat:function(t){return io.i32ToFloat(this.readInt(t))},readString:function(t){if(this.initStringList)return this.stringTable[this.readInt(t)];if(t=this.readInt(t),null==this.stringTable[t]){var e=this.readInt(this.stringTableAddress+ys.INTEGER.getSize()*(t+1)),i=this.readInt(e);this.stringTable[t]=this.data.getString(e+4,i)}return this.stringTable[t]},readTypecode:function(t){return this.typeTable[this.readInt(t)]},getTypeTable:function(){return this.typeTable},writeInt:function(t,e){throw wa.thrown("Can't write on an MBS reader")},writeBool:function(t,e){throw wa.thrown("Can't write on an MBS reader")},writeFloat:function(t,e){throw wa.thrown("Can't write on an MBS reader")},writeString:function(t,e){throw wa.thrown("Can't write on an MBS reader")},isReader:function(){return!0},isWriter:function(){return!1},allocate:function(t){throw wa.thrown("Can't allocate on an MBS reader")},writeTypecode:function(t,e){throw wa.thrown("Can't write on an MBS reader")},__class__:C_};var I_=function(){};r["openfl.Lib"]=I_,I_.__name__="openfl.Lib",I_.__properties__={get_current:"get_current",get_application:"get_application"},I_.as=function(t,e){return vo.__instanceof(t,e)?t:null},I_.attach=function(t){return new pc},I_.clearInterval=function(t){I_.__timers.h.hasOwnProperty(t)&&(I_.__timers.h[t].stop(),I_.__timers.remove(t))},I_.clearTimeout=function(t){I_.__timers.h.hasOwnProperty(t)&&(I_.__timers.h[t].stop(),I_.__timers.remove(t))},I_.getDefinitionByName=function(t){return null==t?null:r[t]},I_.getQualifiedClassName=function(t){if(null==t)return null;var e=vo.__instanceof(t,Ob)?t:vo.getClass(t);return null==e?"boolean"==typeof t||t==Nb?"Bool":"number"==typeof t&&(0|t)===t||t==Bb?"Int":"number"==typeof t||t==Lb?"Float":null:e.__name__},I_.getQualifiedSuperclassName=function(t){return null==t||null==(t=vo.__instanceof(t,Ob)?t:vo.getClass(t))||null==(t=t.__super__)?null:t.__name__},I_.getTimer=function(){return Bh.getTimer()},I_.getURL=function(t,e){I_.navigateToURL(t,e)},I_.navigateToURL=function(t,e){null==e&&(e="_blank");var i=t.url;if(w.typeof(t.data)==x.TObject){for(var s="",n=f.fields(t.data),r=0;r<n.length;){var a=n[r];++r,0<s.length&&(s+="&");var o=encodeURIComponent(a)+"=";a=g.string(f.field(t.data,a)),s+=o+encodeURIComponent(a)}i=-1<i.indexOf("?")?i+"&"+s:i+"?"+s}Bh.openURL(i,e)},I_.notImplemented=function(t){var e=t.className+"."+t.methodName;Object.prototype.hasOwnProperty.call(I_.__sentWarnings.h,e)||(I_.__sentWarnings.h[e]=!0,d_.warn(t.methodName+" is not implemented",t))},I_.preventDefaultTouchMove=function(){window.document.addEventListener("touchmove",function(t){t.preventDefault()},!1)},I_.sendToURL=function(t){(new Yd).load(t)},I_.setInterval=function(t,e,i){var s=++I_.__lastTimerID;return e=new Ia(e),I_.__timers.h[s]=e,e.run=function(){t.apply(t,null==i?[]:i)},s},I_.setTimeout=function(t,e,i){var s=++I_.__lastTimerID,n=I_.__timers;return e=Ia.delay(function(){I_.__timers.remove(s),t.apply(t,null==i?[]:i)},e),n.h[s]=e,s},I_.trace=function(t){Ta.trace(t,{fileName:"openfl/Lib.hx",lineNumber:569,className:"openfl.Lib",methodName:"trace"})},I_.isXMLName=function(t){return!(null==t||!new _("^[a-zA-Z_]","").match(t)||new _("^[xX][mM][lL]","").match(t)||!new _("^[a-zA-Z0-9_\\-\\.]+$","").match(t))},I_.getClassByAlias=function(t){if(!Object.prototype.hasOwnProperty.call(I_.__registeredClassAliases.h,t))throw new ed("Class "+t+" could not be found.");return I_.__registeredClassAliases.h[t]},I_.registerClassAlias=function(t,e){if(null==e)throw new ld("Parameter classObject must be non-null");if(null==t)throw new ld("Parameter aliasName must be non-null");I_.__registeredClassAliases.h[t]=e},I_.get_application=function(){return Xm.application},I_.get_current=function(){return null==Xm.current&&(Xm.current=new pc),Xm.current};var E_=function(){};r["openfl._Vector.IVector"]=E_,E_.__name__="openfl._Vector.IVector",E_.__isInterface__=!0,E_.prototype={get_length:null,set_length:null,fixed:null,concat:null,copy:null,filter:null,get:null,indexOf:null,insertAt:null,iterator:null,join:null,lastIndexOf:null,pop:null,push:null,removeAt:null,reverse:null,set:null,shift:null,slice:null,sort:null,splice:null,toString:null,unshift:null,__tempIndex:null,__class__:E_,__properties__:{set_length:"set_length",get_length:"get_length"}};var k_=function(t,e,i){null==e&&(e=!1),null==t&&(t=0),null==i&&(i=[]),this.__array=i,0<t&&this.set_length(t),this.fixed=e};r["openfl._Vector.BoolVector"]=k_,k_.__name__="openfl._Vector.BoolVector",k_.__interfaces__=[E_],k_.prototype={fixed:null,__array:null,__tempIndex:null,concat:function(t){return null==t?new k_(0,!1,this.__array.slice()):0<t.__array.length?new k_(0,!1,this.__array.concat(t.__array)):new k_(0,!1,this.__array.slice())},copy:function(){return new k_(0,this.fixed,this.__array.slice())},filter:function(t){for(var e=this.fixed,i=[],s=0,n=this.__array;s<n.length;){var r=n[s];++s,t(r)&&i.push(r)}return new k_(0,e,i)},get:function(t){return!(t>=this.__array.length)&&this.__array[t]},indexOf:function(t,e){null==e&&(e=0);for(var i=this.__array.length;e<i;){var s=e++;if(this.__array[s]==t)return s}return-1},insertAt:function(t,e){(!this.fixed||t<this.__array.length)&&this.__array.splice(t,0,e)},iterator:function(){return new no(this.__array)},join:function(t){return null==t&&(t=","),this.__array.join(t)},lastIndexOf:function(t,e){for(e=null==e||e>=this.__array.length?this.__array.length-1:e;0<=e;){if(this.__array[e]==t)return e;--e}return-1},pop:function(){return this.fixed?null:this.__array.pop()},push:function(t){return this.fixed?this.__array.length:this.__array.push(t)},removeAt:function(t){return(!this.fixed||t<this.__array.length)&&this.__array.splice(t,1)[0]},reverse:function(){return this.__array.reverse(),this},set:function(t,e){return!this.fixed||t<this.__array.length?this.__array[t]=e:e},shift:function(){return this.fixed?null:this.__array.shift()},slice:function(t,e){return null==t&&(t=0),null==e&&(e=16777215),new k_(0,!1,this.__array.slice(t,e))},sort:function(t){this.__array.sort(t)},splice:function(t,e){return new k_(0,!1,this.__array.splice(t,e))},toJSON:function(){return this.__array},toString:function(){return null!=this.__array?this.__array.toString():null},unshift:function(t){this.fixed||this.__array.unshift(t)},get_length:function(){return this.__array.length},set_length:function(t){if(!this.fixed){var e=this.__array.length;if(0>t&&(t=0),t>e)for(;e<t;){var i=e++;this.__array[i]=!1}else for(;this.__array.length>t;)this.__array.pop()}return this.__array.length},__class__:k_,__properties__:{set_length:"set_length",get_length:"get_length"}};var F_=function(t,e,i,s){if(null==s&&(s=!1),null==e&&(e=!1),null==t&&(t=0),s){if(this.__array=[],null!=i){s=0;for(var n=i.length;s<n;){var r=s++;this.__array[r]=i[r]}}}else null==i&&(i=[]),this.__array=i;0<t&&this.set_length(t),this.fixed=e};r["openfl._Vector.FloatVector"]=F_,F_.__name__="openfl._Vector.FloatVector",F_.__interfaces__=[E_],F_.prototype={fixed:null,__array:null,__tempIndex:null,concat:function(t){return null==t?new F_(0,!1,this.__array.slice()):0<t.__array.length?new F_(0,!1,this.__array.concat(t.__array)):new F_(0,!1,this.__array.slice())},copy:function(){return new F_(0,this.fixed,this.__array.slice())},filter:function(t){for(var e=this.fixed,i=[],s=0,n=this.__array;s<n.length;){var r=n[s];++s,t(r)&&i.push(r)}return new F_(0,e,i)},get:function(t){return this.__array[t]},indexOf:function(t,e){null==e&&(e=0);for(var i=this.__array.length;e<i;){var s=e++;if(this.__array[s]==t)return s}return-1},insertAt:function(t,e){(!this.fixed||t<this.__array.length)&&this.__array.splice(t,0,e)},iterator:function(){return new no(this.__array)},join:function(t){return null==t&&(t=","),this.__array.join(t)},lastIndexOf:function(t,e){for(e=null==e||e>=this.__array.length?this.__array.length-1:e;0<=e;){if(this.__array[e]==t)return e;--e}return-1},pop:function(){return this.fixed?null:this.__array.pop()},push:function(t){return this.fixed?this.__array.length:this.__array.push(t)},removeAt:function(t){return!this.fixed||t<this.__array.length?this.__array.splice(t,1)[0]:0},reverse:function(){return this.__array.reverse(),this},set:function(t,e){return!this.fixed||t<this.__array.length?this.__array[t]=e:e},shift:function(){return this.fixed?null:this.__array.shift()},slice:function(t,e){return null==t&&(t=0),null==e&&(e=16777215),new F_(0,!1,this.__array.slice(t,e))},sort:function(t){this.__array.sort(t)},splice:function(t,e){return new F_(0,!1,this.__array.splice(t,e))},toJSON:function(){return this.__array},toString:function(){return null!=this.__array?this.__array.toString():null},unshift:function(t){this.fixed||this.__array.unshift(t)},get_length:function(){return this.__array.length},set_length:function(t){if(t!=this.__array.length&&!this.fixed){var e=this.__array.length;if(0>t&&(t=0),t>e)for(;e<t;){var i=e++;this.__array[i]=0}else for(;this.__array.length>t;)this.__array.pop()}return this.__array.length},__class__:F_,__properties__:{set_length:"set_length",get_length:"get_length"}};var B_=function(t,e,i){null==e&&(e=!1),null==t&&(t=0),null==i&&(i=[]),this.__array=i,0<t&&this.set_length(t),this.fixed=e};r["openfl._Vector.FunctionVector"]=B_,B_.__name__="openfl._Vector.FunctionVector",B_.__interfaces__=[E_],B_.prototype={fixed:null,__array:null,__tempIndex:null,concat:function(t){return null==t?new B_(0,!1,this.__array.slice()):0<t.__array.length?new B_(0,!1,this.__array.concat(t.__array)):new B_(0,!1,this.__array.slice())},copy:function(){return new B_(0,this.fixed,this.__array.slice())},filter:function(t){for(var e=this.fixed,i=[],s=0,n=this.__array;s<n.length;){var r=n[s];++s,t(r)&&i.push(r)}return new B_(0,e,i)},get:function(t){return t>=this.__array.length?null:this.__array[t]},indexOf:function(t,e){null==e&&(e=0);for(var i=this.__array.length;e<i;){var s=e++;if(f.compareMethods(this.__array[s],t))return s}return-1},insertAt:function(t,e){(!this.fixed||t<this.__array.length)&&this.__array.splice(t,0,e)},iterator:function(){return new no(this.__array)},join:function(t){return null==t&&(t=","),this.__array.join(t)},lastIndexOf:function(t,e){for(e=null==e||e>=this.__array.length?this.__array.length-1:e;0<=e;){if(f.compareMethods(this.__array[e],t))return e;--e}return-1},pop:function(){return this.fixed?null:this.__array.pop()},push:function(t){return this.fixed?this.__array.length:this.__array.push(t)},removeAt:function(t){return!this.fixed||t<this.__array.length?this.__array.splice(t,1)[0]:null},reverse:function(){return this.__array.reverse(),this},set:function(t,e){return!this.fixed||t<this.__array.length?this.__array[t]=e:e},shift:function(){return this.fixed?null:this.__array.shift()},slice:function(t,e){return null==t&&(t=0),null==e&&(e=16777215),new B_(0,!1,this.__array.slice(t,e))},sort:function(t){this.__array.sort(t)},splice:function(t,e){return new B_(0,!1,this.__array.splice(t,e))},toJSON:function(){return this.__array},toString:function(){return null!=this.__array?this.__array.toString():null},unshift:function(t){this.fixed||this.__array.unshift(t)},get_length:function(){return this.__array.length},set_length:function(t){if(!this.fixed){var e=this.__array.length;if(0>t&&(t=0),t>e)for(;e<t;){var i=e++;this.__array[i]=null}else for(;this.__array.length>t;)this.__array.pop()}return this.__array.length},__class__:B_,__properties__:{set_length:"set_length",get_length:"get_length"}};var D_=function(t,e,i){null==e&&(e=!1),null==t&&(t=0),null==i&&(i=[]),this.__array=i,0<t&&this.set_length(t),this.fixed=e};r["openfl._Vector.IntVector"]=D_,D_.__name__="openfl._Vector.IntVector",D_.__interfaces__=[E_],D_.prototype={fixed:null,__array:null,__tempIndex:null,concat:function(t){return null==t?new D_(0,!1,this.__array.slice()):0<t.__array.length?new D_(0,!1,this.__array.concat(t.__array)):new D_(0,!1,this.__array.slice())},copy:function(){return new D_(0,this.fixed,this.__array.slice())},filter:function(t){for(var e=this.fixed,i=[],s=0,n=this.__array;s<n.length;){var r=n[s];++s,t(r)&&i.push(r)}return new D_(0,e,i)},get:function(t){return this.__array[t]},indexOf:function(t,e){null==e&&(e=0);for(var i=this.__array.length;e<i;){var s=e++;if(this.__array[s]==t)return s}return-1},insertAt:function(t,e){(!this.fixed||t<this.__array.length)&&this.__array.splice(t,0,e)},iterator:function(){return new no(this.__array)},join:function(t){return null==t&&(t=","),this.__array.join(t)},lastIndexOf:function(t,e){for(e=null==e||e>=this.__array.length?this.__array.length-1:e;0<=e;){if(this.__array[e]==t)return e;--e}return-1},pop:function(){return this.fixed?null:this.__array.pop()},push:function(t){return this.fixed?this.__array.length:this.__array.push(t)},removeAt:function(t){return!this.fixed||t<this.__array.length?this.__array.splice(t,1)[0]:0},reverse:function(){return this.__array.reverse(),this},set:function(t,e){return!this.fixed||t<this.__array.length?this.__array[t]=e:e},shift:function(){return this.fixed?null:this.__array.shift()},slice:function(t,e){return null==t&&(t=0),null==e&&(e=16777215),new D_(0,!1,this.__array.slice(t,e))},sort:function(t){this.__array.sort(t)},splice:function(t,e){return new D_(0,!1,this.__array.splice(t,e))},toJSON:function(){return this.__array},toString:function(){return null!=this.__array?this.__array.toString():null},unshift:function(t){this.fixed||this.__array.unshift(t)},get_length:function(){return this.__array.length},set_length:function(t){if(!this.fixed){var e=this.__array.length;if(0>t&&(t=0),t>e)for(;e<t;){var i=e++;this.__array[i]=0}else for(;this.__array.length>t;)this.__array.pop()}return this.__array.length},__class__:D_,__properties__:{set_length:"set_length",get_length:"get_length"}};var L_=function(t,e,i,s){if(null==s&&(s=!1),null==e&&(e=!1),null==t&&(t=0),s){if(this.__array=[],null!=i){s=0;for(var n=i.length;s<n;){var r=s++;this.__array[r]=i[r]}}}else null==i&&(i=[]),this.__array=i;0<t&&this.set_length(t),this.fixed=e};r["openfl._Vector.ObjectVector"]=L_,L_.__name__="openfl._Vector.ObjectVector",L_.__interfaces__=[E_],L_.prototype={fixed:null,__array:null,__tempIndex:null,concat:function(t){return null==t?new L_(0,!1,this.__array.slice()):0<t.__array.length?new L_(0,!1,this.__array.concat(t.__array)):new L_(0,!1,this.__array.slice())},copy:function(){return new L_(0,this.fixed,this.__array.slice())},filter:function(t){for(var e=this.fixed,i=[],s=0,n=this.__array;s<n.length;){var r=n[s];++s,t(r)&&i.push(r)}return new L_(0,e,i)},get:function(t){return this.__array[t]},indexOf:function(t,e){null==e&&(e=0);for(var i=this.__array.length;e<i;){var s=e++;if(this.__array[s]==t)return s}return-1},insertAt:function(t,e){(!this.fixed||t<this.__array.length)&&this.__array.splice(t,0,e)},iterator:function(){return new no(this.__array)},join:function(t){return null==t&&(t=","),this.__array.join(t)},lastIndexOf:function(t,e){for(e=null==e||e>=this.__array.length?this.__array.length-1:e;0<=e;){if(this.__array[e]==t)return e;--e}return-1},pop:function(){return this.fixed?null:this.__array.pop()},push:function(t){return this.fixed?this.__array.length:this.__array.push(t)},removeAt:function(t){return!this.fixed||t<this.__array.length?this.__array.splice(t,1)[0]:null},reverse:function(){return this.__array.reverse(),this},set:function(t,e){return!this.fixed||t<this.__array.length?this.__array[t]=e:e},shift:function(){return this.fixed?null:this.__array.shift()},slice:function(t,e){return null==t&&(t=0),null==e&&(e=16777215),new L_(0,!1,this.__array.slice(t,e))},sort:function(t){this.__array.sort(t)},splice:function(t,e){return new L_(0,!1,this.__array.splice(t,e))},toJSON:function(){return this.__array},toString:function(){return null!=this.__array?this.__array.toString():null},unshift:function(t){this.fixed||this.__array.unshift(t)},get_length:function(){return this.__array.length},set_length:function(t){if(!this.fixed){var e=this.__array.length;if(0>t&&(t=0),t>e)for(;e<t;)e++,this.__array.push(null);else for(;this.__array.length>t;)this.__array.pop()}return this.__array.length},__class__:L_,__properties__:{set_length:"set_length",get_length:"get_length"}};var N_=function(){sl.call(this),null==Xm.application&&(Xm.application=this),null==Xm.current&&(Xm.current=new pc),Xm.current.__loaderInfo=mc.create(null),Xm.current.__loaderInfo.content=Xm.current};r["openfl.display.Application"]=N_,N_.__name__="openfl.display.Application",N_.__super__=sl,N_.prototype=i(sl.prototype,{createWindow:function(t){var e=new Bc(this,t);this.__windows.push(e),this.__windowByID.h[e.id]=e;var i=n(this,this.__onWindowClose);return e.onClose.add(function(){i(e)},!1,-1e4),null==this.__window&&(this.__window=e,e.onActivate.add(n(this,this.onWindowActivate)),e.onRenderContextLost.add(n(this,this.onRenderContextLost)),e.onRenderContextRestored.add(n(this,this.onRenderContextRestored)),e.onDeactivate.add(n(this,this.onWindowDeactivate)),e.onDropFile.add(n(this,this.onWindowDropFile)),e.onEnter.add(n(this,this.onWindowEnter)),e.onExpose.add(n(this,this.onWindowExpose)),e.onFocusIn.add(n(this,this.onWindowFocusIn)),e.onFocusOut.add(n(this,this.onWindowFocusOut)),e.onFullscreen.add(n(this,this.onWindowFullscreen)),e.onKeyDown.add(n(this,this.onKeyDown)),e.onKeyUp.add(n(this,this.onKeyUp)),e.onLeave.add(n(this,this.onWindowLeave)),e.onMinimize.add(n(this,this.onWindowMinimize)),e.onMouseDown.add(n(this,this.onMouseDown)),e.onMouseMove.add(n(this,this.onMouseMove)),e.onMouseMoveRelative.add(n(this,this.onMouseMoveRelative)),e.onMouseUp.add(n(this,this.onMouseUp)),e.onMouseWheel.add(n(this,this.onMouseWheel)),e.onMove.add(n(this,this.onWindowMove)),e.onRender.add(n(this,this.render)),e.onResize.add(n(this,this.onWindowResize)),e.onRestore.add(n(this,this.onWindowRestore)),e.onTextEdit.add(n(this,this.onTextEdit)),e.onTextInput.add(n(this,this.onTextInput)),this.onWindowCreate()),this.onCreateWindow.dispatch(e),e},__class__:N_});var O_=function(t,e,i,s){null==s&&(s=-1),null==i&&(i=!0),this.__drawableType=0,this.transparent=i,null==t&&(t=0),null==e&&(e=0),0>t&&(t=0),0>e&&(e=0),this.width=t,this.height=e,this.rect=new je(0,0,t,e),this.__textureWidth=t,this.__textureHeight=e,0<t&&0<e&&(i?!(-16777216&s)&&(s=0):s=-16777216|16777215&s,this.image=new El(null,0,0,t,e,s<<8|s>>>24&255),this.image.set_transparent(i),this.readable=this.__isValid=!0),this.__renderTransform=new yr,this.__worldAlpha=1,this.__worldTransform=new yr,this.__worldColorTransform=new br,this.__renderable=!0};r["openfl.display.BitmapData"]=O_,O_.__name__="openfl.display.BitmapData",O_.__interfaces__=[T],O_.fromBase64=function(t,e){return null},O_.fromBytes=function(t,e){return null},O_.fromCanvas=function(t,e){if(null==e&&(e=!0),null==t)return null;var i=new O_(0,0,e,0);return i.__fromImage(El.fromCanvas(t)),i.image.set_transparent(e),i},O_.fromFile=function(t){return null},O_.fromImage=function(t,e){if(null==e&&(e=!0),null==t||null==t.buffer)return null;var i=new O_(0,0,e,0);return i.__fromImage(t),i.image.set_transparent(e),null!=i.image?i:null},O_.fromTexture=function(t){if(null==t)return null;var e=new O_(t.__width,t.__height,!0,0);return e.readable=!1,e.__texture=t,e.__textureContext=t.__textureContext,e.image=null,e},O_.loadFromBase64=function(t,e){return El.loadFromBase64(t,e).then(function(t){return rl.withValue(O_.fromImage(t))})},O_.loadFromBytes=function(t,e){return El.loadFromBytes(Fm.toBytes(t)).then(function(t){return t=O_.fromImage(t),null!=e&&t.__applyAlpha(e),rl.withValue(t)})},O_.loadFromFile=function(t){return El.loadFromFile(t).then(function(t){return rl.withValue(O_.fromImage(t))})},O_.prototype={height:null,image:null,readable:null,rect:null,transparent:null,width:null,__blendMode:null,__drawableType:null,__framebuffer:null,__framebufferContext:null,__indexBuffer:null,__indexBufferContext:null,__indexBufferData:null,__indexBufferGrid:null,__isMask:null,__isValid:null,__mask:null,__renderable:null,__renderTransform:null,__scrollRect:null,__stencilBuffer:null,__surface:null,__texture:null,__textureContext:null,__textureHeight:null,__textureVersion:null,__textureWidth:null,__transform:null,__uvRect:null,__vertexBuffer:null,__vertexBufferContext:null,__vertexBufferData:null,__vertexBufferGrid:null,__vertexBufferHeight:null,__vertexBufferScaleX:null,__vertexBufferScaleY:null,__vertexBufferWidth:null,__worldAlpha:null,__worldColorTransform:null,__worldTransform:null,applyFilter:function(t,e,i,s){if(this.readable&&null!=t&&t.readable){t=s.__needSecondBitmapData;var n=s.__preserveObject,r=null,a=t?new O_(this.width,this.height,!0,0):this;n&&(r=new O_(this.width,this.height,!0,0)),s.__preserveObject&&r.copyPixels(this,this.rect,i),e=s.__applyFilter(a,this,e,i),s.__preserveObject&&e.draw(r,null,null),t&&e==a&&(a.image.version=this.image.version,this.image=a.image),this.image.dirty=!0,this.image.version++}},clone:function(){if(this.__isValid)if(this.readable||null!=this.image)var t=O_.fromImage(this.image.clone(),this.transparent);else(t=new O_(0,0,this.transparent,0)).width=this.width,t.height=this.height,t.__textureWidth=this.__textureWidth,t.__textureHeight=this.__textureHeight,t.rect.copyFrom(this.rect),t.__framebuffer=this.__framebuffer,t.__framebufferContext=this.__framebufferContext,t.__texture=this.__texture,t.__textureContext=this.__textureContext,t.__isValid=!0;else t=new O_(this.width,this.height,this.transparent,0);return t.__worldTransform.copyFrom(this.__worldTransform),t.__renderTransform.copyFrom(this.__renderTransform),t},colorTransform:function(t,e){this.readable&&this.image.colorTransform(t.__toLimeRectangle(),e.__toLimeColorMatrix())},compare:function(t){if(t==this)return 0;if(null==t)return-1;if(0==this.readable||0==t.readable)return-2;if(this.width!=t.width)return-3;if(this.height!=t.height)return-4;if(null!=this.image&&null!=t.image&&this.image.get_format()==t.image.get_format()){for(var e=this.image.get_data(),i=t.image.get_data(),s=!0,n=0,r=e.length;n<r;){var a=n++;if(e[a]!=i[a]){s=!1;break}}if(s)return 0}for(e=null,n=0,r=this.height;n<r;){a=n++;for(var o=0,l=this.width;o<l;){var h=o++;i=!1;var _=this.getPixel32(h,a),c=t.getPixel32(h,a);if(s=0,_!=c){var u=(_>>>16&255)-(c>>>16&255),d=(_>>>8&255)-(c>>>8&255),m=(255&_)-(255&c);0>u&&(u*=-1),0>d&&(d*=-1),0>m&&(m*=-1),0==u&&0==d&&0==m?0!=(_=(_>>>24&255)-(c>>>24&255))&&(s=(255&_)<<24|((s=((s=((s=(s>>>24&255)<<24|16711680|(s>>>8&255)<<8|255&s)>>>24&255)<<24|(s>>>16&255)<<16|65280|255&s)>>>24&255)<<24|(s>>>16&255)<<16|(s>>>8&255)<<8|255)>>>16&255)<<16|(s>>>8&255)<<8|255&s,i=!0):(s=-16777216|((s=((s=((s=(s>>>24&255)<<24|(255&u)<<16|(s>>>8&255)<<8|255&s)>>>24&255)<<24|(s>>>16&255)<<16|(255&d)<<8|255&s)>>>24&255)<<24|(s>>>16&255)<<16|(s>>>8&255)<<8|255&m)>>>16&255)<<16|(s>>>8&255)<<8|255&s,i=!0)}i&&(null==e&&(e=new O_(this.width,this.height,this.transparent||t.transparent,0)),e.setPixel32(h,a,s))}}return null==e?0:e},copyChannel:function(t,e,i,s,n){if(this.readable){switch(s){case 1:s=Fl.RED;break;case 2:s=Fl.GREEN;break;case 4:s=Fl.BLUE;break;case 8:s=Fl.ALPHA;break;default:return}switch(n){case 1:n=Fl.RED;break;case 2:n=Fl.GREEN;break;case 4:n=Fl.BLUE;break;case 8:n=Fl.ALPHA;break;default:return}this.image.copyChannel(t.image,e.__toLimeRectangle(),i.__toLimeVector2(),s,n)}},copyPixels:function(t,e,i,s,n,r){null==r&&(r=!1),this.readable&&null!=t&&(null!=n&&(O_.__tempVector.x=n.x,O_.__tempVector.y=n.y),this.image.copyPixels(t.image,e.__toLimeRectangle(),i.__toLimeVector2(),null!=s?s.image:null,null!=n?O_.__tempVector:null,r))},dispose:function(){this.image=null,this.height=this.width=0,this.rect=null,this.readable=this.__isValid=!1,this.__textureContext=this.__texture=this.__framebufferContext=this.__framebuffer=this.__vertexBuffer=this.__surface=null},disposeImage:function(){this.readable=!1},draw:function(t,e,i,s,n,r){if(null==r&&(r=!1),null!=t){t.__update(!1,!0);var a=yr.__pool.get();a.copyFrom(t.__renderTransform),a.invert(),null!=e&&a.concat(e),e=null,null!=n&&((e=yr.__pool.get()).copyFrom(a),e.invert());var o=new br;if(o.__copyFrom(t.__worldColorTransform),o.__invert(),this.readable||null==I_.get_current().stage.context3D){if(null!=i){var l=je.__pool.get(),h=yr.__pool.get();t.__getBounds(l,h);var _=Math.ceil(l.width),c=Math.ceil(l.height);h.tx=-l.x,h.ty=-l.y,(_=new O_(_,c,!0,0)).draw(t,h),_.colorTransform(_.rect,i),_.__renderTransform.identity(),_.__renderTransform.tx=l.x,_.__renderTransform.ty=l.y,_.__renderTransform.concat(t.__renderTransform),_.__worldAlpha=t.__worldAlpha,_.__worldColorTransform.__copyFrom(t.__worldColorTransform),t=_,je.__pool.release(l),yr.__pool.release(h)}Vo.convertToCanvas(this.image),(i=new U_(this.image.buffer.__srcContext)).__allowSmoothing=r,i.__overrideBlendMode=s,i.__worldTransform=a,i.__worldAlpha=1/t.__worldAlpha,i.__worldColorTransform=o,null!=n&&i.__pushMaskRect(n,e),this.__drawCanvas(t,i)}else null==this.__textureContext&&(this.__textureContext=sl.current.__window.context),null!=i&&o.__combine(i),(i=new fc(I_.get_current().stage.context3D,this)).__allowSmoothing=r,i.__overrideBlendMode=s,i.__worldTransform=a,i.__worldAlpha=1/t.__worldAlpha,i.__worldColorTransform=o,i.__resize(this.width,this.height),null!=n&&i.__pushMaskRect(n,e),this.__drawGL(t,i);null!=n&&(i.__popMaskRect(),yr.__pool.release(e)),yr.__pool.release(a)}},drawWithQuality:function(t,e,i,s,n,r,a){null==r&&(r=!1),this.draw(t,e,i,s,n,2!=a&&r)},encode:function(t,e,i){if(!this.readable||null==t)return null;null==i&&(i=new Lm(0));var s=this.image;if(!t.equals(this.rect)){var n=yr.__pool.get();n.tx=Math.round(-t.x),n.ty=Math.round(-t.y),(t=new O_(Math.ceil(t.width),Math.ceil(t.height),!0,0)).draw(this,n),s=t.image,yr.__pool.release(n)}return e instanceof gc?(i.writeBytes(Fm.fromBytes(s.encode(Bl.PNG)),0,0),i):e instanceof cc?(i.writeBytes(Fm.fromBytes(s.encode(Bl.JPEG,vo.__cast(e,cc).quality)),0,0),i):null},fillRect:function(t,e){this.__fillRect(t,e,!0)},floodFill:function(t,e,i){this.readable&&this.image.floodFill(t,e,i,1)},generateFilterRect:function(t,e){return t.clone()},getIndexBuffer:function(t,e){if(null==this.__indexBuffer||this.__indexBufferContext!=t.__context||null!=e&&null==this.__indexBufferGrid||null!=this.__indexBufferGrid&&!this.__indexBufferGrid.equals(e)){if(this.__indexBufferContext=t.__context,this.__indexBuffer=null,null!=e){null==this.__indexBufferGrid&&(this.__indexBufferGrid=new je),this.__indexBufferGrid.copyFrom(e);var i=e.width;e=e.height,0!=i&&0!=e?(this.__indexBufferData=i=new Uint16Array(54),this.__indexBufferData[0]=0,this.__indexBufferData[1]=1,this.__indexBufferData[2]=2,this.__indexBufferData[3]=2,this.__indexBufferData[4]=1,this.__indexBufferData[5]=3,this.__indexBufferData[6]=4,this.__indexBufferData[7]=0,this.__indexBufferData[8]=5,this.__indexBufferData[9]=5,this.__indexBufferData[10]=0,this.__indexBufferData[11]=2,this.__indexBufferData[12]=6,this.__indexBufferData[13]=4,this.__indexBufferData[14]=7,this.__indexBufferData[15]=7,this.__indexBufferData[16]=4,this.__indexBufferData[17]=5,this.__indexBufferData[18]=8,this.__indexBufferData[19]=9,this.__indexBufferData[20]=0,this.__indexBufferData[21]=0,this.__indexBufferData[22]=9,this.__indexBufferData[23]=1,this.__indexBufferData[24]=10,this.__indexBufferData[25]=8,this.__indexBufferData[26]=4,this.__indexBufferData[27]=4,this.__indexBufferData[28]=8,this.__indexBufferData[29]=0,this.__indexBufferData[30]=11,this.__indexBufferData[31]=10,this.__indexBufferData[32]=6,this.__indexBufferData[33]=6,this.__indexBufferData[34]=10,this.__indexBufferData[35]=4,this.__indexBufferData[36]=12,this.__indexBufferData[37]=13,this.__indexBufferData[38]=8,this.__indexBufferData[39]=8,this.__indexBufferData[40]=13,this.__indexBufferData[41]=9,this.__indexBufferData[42]=14,this.__indexBufferData[43]=12,this.__indexBufferData[44]=10,this.__indexBufferData[45]=10,this.__indexBufferData[46]=12,this.__indexBufferData[47]=8,this.__indexBufferData[48]=15,this.__indexBufferData[49]=14,this.__indexBufferData[50]=11,this.__indexBufferData[51]=11,this.__indexBufferData[52]=14,this.__indexBufferData[53]=10,this.__indexBuffer=t.createIndexBuffer(54)):0==i&&0!=e?(this.__indexBufferData=i=new Uint16Array(18),this.__indexBufferData[0]=0,this.__indexBufferData[1]=1,this.__indexBufferData[2]=2,this.__indexBufferData[3]=2,this.__indexBufferData[4]=1,this.__indexBufferData[5]=3,this.__indexBufferData[6]=4,this.__indexBufferData[7]=5,this.__indexBufferData[8]=0,this.__indexBufferData[9]=0,this.__indexBufferData[10]=5,this.__indexBufferData[11]=1,this.__indexBufferData[12]=6,this.__indexBufferData[13]=7,this.__indexBufferData[14]=4,this.__indexBufferData[15]=4,this.__indexBufferData[16]=7,this.__indexBufferData[17]=5,this.__indexBuffer=t.createIndexBuffer(18)):0!=i&&0==e&&(this.__indexBufferData=i=new Uint16Array(18),this.__indexBufferData[0]=0,this.__indexBufferData[1]=1,this.__indexBufferData[2]=2,this.__indexBufferData[3]=2,this.__indexBufferData[4]=1,this.__indexBufferData[5]=3,this.__indexBufferData[6]=4,this.__indexBufferData[7]=0,this.__indexBufferData[8]=5,this.__indexBufferData[9]=5,this.__indexBufferData[10]=0,this.__indexBufferData[11]=2,this.__indexBufferData[12]=6,this.__indexBufferData[13]=4,this.__indexBufferData[14]=7,this.__indexBufferData[15]=7,this.__indexBufferData[16]=4,this.__indexBufferData[17]=5,this.__indexBuffer=t.createIndexBuffer(18))}else this.__indexBufferGrid=null;null==this.__indexBuffer&&(this.__indexBufferData=i=new Uint16Array(6),this.__indexBufferData[0]=0,this.__indexBufferData[1]=1,this.__indexBufferData[2]=2,this.__indexBufferData[3]=2,this.__indexBufferData[4]=1,this.__indexBufferData[5]=3,this.__indexBuffer=t.createIndexBuffer(6)),this.__indexBuffer.uploadFromTypedArray(this.__indexBufferData)}return this.__indexBuffer},getVertexBuffer:function(t,e,i){if(null==this.__vertexBuffer||this.__vertexBufferContext!=t.__context||null!=e&&null==this.__vertexBufferGrid||null!=this.__vertexBufferGrid&&!this.__vertexBufferGrid.equals(e)||null!=i&&(this.__vertexBufferWidth!=i.get_width()||this.__vertexBufferHeight!=i.get_height()||this.__vertexBufferScaleX!=i.get_scaleX()||this.__vertexBufferScaleY!=i.get_scaleY())){if(this.__uvRect=new je(0,0,this.width,this.height),this.__vertexBufferContext=t.__context,this.__vertexBuffer=null,null!=i&&(this.__vertexBufferWidth=i.get_width(),this.__vertexBufferHeight=i.get_height(),this.__vertexBufferScaleX=i.get_scaleX(),this.__vertexBufferScaleY=i.get_scaleY()),null!=e&&null!=i){null==this.__vertexBufferGrid&&(this.__vertexBufferGrid=new je),this.__vertexBufferGrid.copyFrom(e),this.__vertexBufferWidth=i.get_width(),this.__vertexBufferHeight=i.get_height(),this.__vertexBufferScaleX=i.get_scaleX(),this.__vertexBufferScaleY=i.get_scaleY();var s=e.width,n=e.height;if(0!=s&&0!=n){var r=new Float32Array(224);this.__vertexBufferData=r;var a=e.x,o=e.y,l=this.width-s-a,h=this.height-n-o;e=a/this.width,r=o/this.height,s/=this.width,n/=this.height,a/=i.get_scaleX(),o/=i.get_scaleY(),l/=i.get_scaleX();var _=h/i.get_scaleY();h=i.get_width()/i.get_scaleX()-a-l,l=i.get_height()/i.get_scaleY()-o-_,this.__vertexBufferData[0]=a,this.__vertexBufferData[1]=o,this.__vertexBufferData[3]=1*e,this.__vertexBufferData[4]=1*r,this.__vertexBufferData[15]=o,this.__vertexBufferData[18]=1*r,this.__vertexBufferData[28]=a,this.__vertexBufferData[31]=1*e,this.__vertexBufferData[56]=a+h,this.__vertexBufferData[57]=o,this.__vertexBufferData[59]=1*(e+s),this.__vertexBufferData[60]=1*r,this.__vertexBufferData[70]=a+h,this.__vertexBufferData[73]=1*(e+s),this.__vertexBufferData[84]=this.width,this.__vertexBufferData[85]=o,this.__vertexBufferData[87]=1,this.__vertexBufferData[88]=1*r,this.__vertexBufferData[98]=this.width,this.__vertexBufferData[101]=1,this.__vertexBufferData[112]=a,this.__vertexBufferData[113]=o+l,this.__vertexBufferData[115]=1*e,this.__vertexBufferData[116]=1*(r+n),this.__vertexBufferData[127]=o+l,this.__vertexBufferData[130]=1*(r+n),this.__vertexBufferData[140]=a+h,this.__vertexBufferData[141]=o+l,this.__vertexBufferData[143]=1*(e+s),this.__vertexBufferData[144]=1*(r+n),this.__vertexBufferData[154]=this.width,this.__vertexBufferData[155]=o+l,this.__vertexBufferData[157]=1,this.__vertexBufferData[158]=1*(r+n),this.__vertexBufferData[168]=a,this.__vertexBufferData[169]=this.height,this.__vertexBufferData[171]=1*e,this.__vertexBufferData[172]=1,this.__vertexBufferData[183]=this.height,this.__vertexBufferData[186]=1,this.__vertexBufferData[196]=a+h,this.__vertexBufferData[197]=this.height,this.__vertexBufferData[199]=1*(e+s),this.__vertexBufferData[200]=1,this.__vertexBufferData[210]=this.width,this.__vertexBufferData[211]=this.height,this.__vertexBufferData[213]=1,this.__vertexBufferData[214]=1,this.__vertexBuffer=t.createVertexBuffer(16,14)}else 0==s&&0!=n?(this.__vertexBufferData=r=new Float32Array(112),o=e.y,h=this.height-n-o,r=o/this.height,n/=this.height,o/=i.get_scaleY(),_=h/i.get_scaleY(),l=i.get_height()/i.get_scaleY()-o-_,i=i.get_width()/i.get_scaleX(),this.__vertexBufferData[0]=i,this.__vertexBufferData[1]=o,this.__vertexBufferData[3]=1,this.__vertexBufferData[4]=1*r,this.__vertexBufferData[15]=o,this.__vertexBufferData[18]=1*r,this.__vertexBufferData[28]=i,this.__vertexBufferData[31]=1,this.__vertexBufferData[56]=i,this.__vertexBufferData[57]=o+l,this.__vertexBufferData[59]=1,this.__vertexBufferData[60]=1*(r+n),this.__vertexBufferData[71]=o+l,this.__vertexBufferData[74]=1*(r+n),this.__vertexBufferData[84]=i,this.__vertexBufferData[85]=this.height,this.__vertexBufferData[87]=1,this.__vertexBufferData[88]=1,this.__vertexBufferData[99]=this.height,this.__vertexBufferData[102]=1,this.__vertexBuffer=t.createVertexBuffer(8,14)):0==n&&0!=s&&(this.__vertexBufferData=r=new Float32Array(112),a=e.x,l=this.width-s-a,e=a/this.width,s/=this.width,a/=i.get_scaleX(),l/=i.get_scaleX(),h=i.get_width()/i.get_scaleX()-a-l,i=i.get_height()/i.get_scaleY(),this.__vertexBufferData[0]=a,this.__vertexBufferData[1]=i,this.__vertexBufferData[3]=1*e,this.__vertexBufferData[4]=1,this.__vertexBufferData[15]=i,this.__vertexBufferData[18]=1,this.__vertexBufferData[28]=a,this.__vertexBufferData[31]=1*e,this.__vertexBufferData[56]=a+h,this.__vertexBufferData[57]=i,this.__vertexBufferData[59]=1*(e+s),this.__vertexBufferData[60]=1,this.__vertexBufferData[70]=a+h,this.__vertexBufferData[73]=1*(e+s),this.__vertexBufferData[84]=this.width,this.__vertexBufferData[85]=i,this.__vertexBufferData[87]=1,this.__vertexBufferData[88]=1,this.__vertexBufferData[98]=this.width,this.__vertexBufferData[101]=1,this.__vertexBuffer=t.createVertexBuffer(8,14))}else this.__vertexBufferGrid=null;null==this.__vertexBuffer&&(this.__vertexBufferData=r=new Float32Array(56),this.__vertexBufferData[0]=this.width,this.__vertexBufferData[1]=this.height,this.__vertexBufferData[3]=1,this.__vertexBufferData[4]=1,this.__vertexBufferData[15]=this.height,this.__vertexBufferData[18]=1,this.__vertexBufferData[28]=this.width,this.__vertexBufferData[31]=1,this.__vertexBuffer=t.createVertexBuffer(3,14)),this.__vertexBuffer.uploadFromTypedArray(u_.toArrayBufferView(this.__vertexBufferData))}return this.__vertexBuffer},getColorBoundsRect:function(t,e,i){return null==i&&(i=!0),this.readable?(t=this.image.getColorBoundsRect(t,e,i,1),new je(t.x,t.y,t.width,t.height)):new je(0,0,this.width,this.height)},getPixel:function(t,e){return this.readable?this.image.getPixel(t,e,1):0},getPixel32:function(t,e){return this.readable?this.image.getPixel32(t,e,1):0},getPixels:function(t){return this.readable?(null==t&&(t=this.rect),(t=Fm.fromBytes(this.image.getPixels(t.__toLimeRectangle(),1))).__endian=0,t):null},getSurface:function(){return this.readable?(null==this.__surface&&(this.__surface=Ul.fromImage(this.image)),this.__surface):null},getTexture:function(t){return this.__isValid?(null!=this.__texture&&this.__textureContext==t.__context||(this.__textureContext=t.__context,this.__texture=t.createRectangleTexture(this.width,this.height,1,!1),this.__textureVersion=-1),Vo.sync(this.image,!1),null!=this.image&&this.image.version>this.__textureVersion&&(null!=this.__surface&&Hl.flush(this.__surface),t=this.image,Zu.__supportsBGRA||0==t.get_format()||(t=t.clone()).set_format(0),this.__texture.__uploadFromImage(t),this.__textureVersion=this.image.version,this.__textureWidth=t.buffer.width,this.__textureHeight=t.buffer.height),this.readable||null==this.image||(this.image=this.__surface=null),this.__texture):null},getVector:function(t){t=this.getPixels(t);for(var e=S.toFloat(Fm.get_length(t))/S.toFloat(4)|0,i=M.toIntVector(null,e,!0),s=0;s<e;){var n=s++;i.set(n,t.readUnsignedInt())}return i},histogram:function(t){t=null!=t?t:new je(0,0,this.width,this.height),t=this.getPixels(t);for(var e=[],i=[],s=0;256>s;)s++,i.push(0);for(e.push(i),i=[],s=0;256>s;)s++,i.push(0);for(e.push(i),i=[],s=0;256>s;)s++,i.push(0);for(e.push(i),i=[],s=0;256>s;)s++,i.push(0);for(e.push(i),s=e,e=0,i=Fm.get_length(t);e<i;)++s[e++%4][t.readUnsignedByte()];return s},hitTest:function(t,e,i,s,n){if(null==n&&(n=1),!this.readable)return!1;if(i instanceof di&&(i=vo.__cast(i,di).__bitmapData),i instanceof Ye){i=(n=i).x-t.x|0;var r=n.y-t.y|0;if(this.rect.contains(i,r)){var a=this.getPixel32(i,r);if((a>>24&255)>e)return!0}}else if(i instanceof O_){if(a=i,null==s?r=i=0:(i=Math.round(s.x-t.x),r=Math.round(s.y-t.y)),(s=je.__pool.get()).setTo(i,r,a.width,a.height),this.rect.intersects(s)){0>i?(s.x=0,s.width=Math.min(a.width+i,this.width)):s.width=Math.min(a.width,this.width-i),0>r?(s.y=0,s.height=Math.min(a.height+r,this.height)):s.height=Math.min(a.height,this.height-r),t=this.getPixels(s),s.x=0>i?-i:0,s.y=0>r?-r:0,r=a.getPixels(s),i=0;for(var o=a=s.width*s.height|0;i<o;){i++,a=t.readUnsignedInt();var l=r.readUnsignedInt();if(S.gt(a>>>24&255,e)&&S.gt(l>>>24&255,n))return je.__pool.release(s),!0}}je.__pool.release(s)}else if(i instanceof je){if((n=je.__pool.get()).copyFrom(i),n.offset(-t.x,-t.y),n.__contract(0,0,this.width,this.height),0<n.width&&0<n.height)for(t=this.getPixels(n),i=0,o=a=S.toFloat(Fm.get_length(t))/S.toFloat(4)|0;i<o;)if(i++,a=t.readUnsignedInt(),S.gt(a>>>24&255,e))return je.__pool.release(n),!0;je.__pool.release(n)}return!1},lock:function(){},merge:function(t,e,i,s,n,r,a){this.readable&&null!=t&&t.readable&&null!=e&&null!=i&&this.image.merge(t.image,e.__toLimeRectangle(),i.__toLimeVector2(),s,n,r,a)},noise:function(t,e,i,s,n){if(null==n&&(n=!1),null==s&&(s=7),null==i&&(i=255),null==e&&(e=0),this.readable){var r=function(){return t=1103515245*t+12345,(0|Math.abs(t/65536))%32768};r(),i-=e;var a=!(1&~s),o=1==(2&s)>>1,l=1==(4&s)>>2;s=1==(8&s)>>3;for(var h=0,_=this.height;h<_;)for(var c=h++,u=0,d=this.width;u<d;){var m=u++,p=0,f=0,g=0,y=255;n?(p=g=f=e+r()%i,y=255):(a&&(p=e+r()%i),o&&(g=e+r()%i),l&&(f=e+r()%i),s&&(y=e+r()%i)),y=((y=((y=(y<<8)+p)<<8)+g)<<8)+f,this.setPixel32(m,c,y)}}},paletteMap:function(t,e,i,s,n,r,a){var o=0|e.width,l=0|e.height;t=t.getPixels(e),e=0;for(var h=l*o;e<h;){var _=e++,c=t.readUnsignedInt(),u=null==a?-16777216&c:a[c>>24&255],d=null==s?16711680&c:s[c>>16&255];d=u+d+(null==n?65280&c:n[c>>8&255])+(c=null==r?255&c:r[255&c]),t.position=4*_,t.writeUnsignedInt(d)}t.position=0,(s=je.__pool.get()).setTo(i.x,i.y,o,l),this.setPixels(s,t),je.__pool.release(s)},perlinNoise:function(t,e,i,s,n,r,a,o,l){null==o&&(o=!1),null==a&&(a=7),this.readable&&new Pu(s,i,a,o,.5,n,.15).fill(this,t,e,0)},scroll:function(t,e){this.readable&&this.image.scroll(t,e)},setPixel:function(t,e,i){this.readable&&this.image.setPixel(t,e,i,1)},setPixel32:function(t,e,i){this.readable&&this.image.setPixel32(t,e,i,1)},setPixels:function(t,e){if(this.readable&&null!=t){var i=t.width*t.height*4;if(S.toFloat(e.length-e.position)<i)throw new ed("End of file was encountered.",2030);this.image.setPixels(t.__toLimeRectangle(),Fm.toBytePointer(e),1,Um.toLimeEndian(e.__endian))}},setVector:function(t,e){var i=new Lm(0);for(Fm.set_length(i,4*e.get_length()),e=e.iterator();e.hasNext();){var s=e.next();i.writeUnsignedInt(s)}i.position=0,this.setPixels(t,i)},threshold:function(t,e,i,s,n,r,a,o){return null==o&&(o=!1),null==a&&(a=-1),null==r&&(r=0),null==t||null==e||null==i||e.x>t.width||e.y>t.height||i.x>this.width||i.y>this.height?0:this.image.threshold(t.image,e.__toLimeRectangle(),i.__toLimeVector2(),s,n,r,a,o,1)},unlock:function(t){},__applyAlpha:function(t){Vo.convertToCanvas(this.image),Vo.createImageData(this.image);for(var e=this.image.buffer.data,i=0,s=Fm.get_length(t);i<s;)e[4*i+++3]=t.readUnsignedByte();this.image.version++},__drawCairo:function(t,e){},__drawCanvas:function(t,e){var i=this.image.buffer;e.__allowSmoothing||e.applySmoothing(i.__srcContext,!1),e.__render(t),e.__allowSmoothing||e.applySmoothing(i.__srcContext,!0),i.__srcContext.setTransform(1,0,0,1,0,0),i.__srcImageData=null,i.data=null,this.image.dirty=!0,this.image.version++},__drawGL:function(t,e){var i=e.__context3D,s=i.__state.renderToTexture,n=i.__state.renderToTextureDepthStencil,r=i.__state.renderToTextureAntiAlias,a=i.__state.renderToTextureSurfaceSelector;i.setRenderToTexture(this.getTexture(i),!0),e.__render(t),null!=s?i.setRenderToTexture(s,n,r,a):i.setRenderToBackBuffer()},__fillRect:function(t,e,i){if(null!=t)if(this.transparent&&!(-16777216&e)&&(e=0),i&&null!=this.__texture&&null!=this.__texture.__glFramebuffer&&"opengl"==I_.get_current().stage.__renderer.__type){i=I_.get_current().stage.__renderer.__context3D;var s=!this.rect.equals(t),n=i.__state.renderToTexture,r=i.__state.renderToTextureDepthStencil,a=i.__state.renderToTextureAntiAlias,o=i.__state.renderToTextureSurfaceSelector;i.setRenderToTexture(this.__texture),s&&i.setScissorRectangle(t),i.clear((e>>>16&255)/255,(e>>>8&255)/255,(255&e)/255,this.transparent?(e>>>24&255)/255:1,0,0,1),s&&i.setScissorRectangle(null),null!=n?i.setRenderToTexture(n,r,a,o):i.setRenderToBackBuffer()}else this.readable&&this.image.fillRect(t.__toLimeRectangle(),e,1)},__fromBase64:function(t,e){t=El.fromBase64(t,e),this.__fromImage(t)},__fromBytes:function(t,e){t=El.fromBytes(Fm.toBytes(t)),this.__fromImage(t),null!=e&&this.__applyAlpha(e)},__fromFile:function(t){t=El.fromFile(t),this.__fromImage(t)},__fromImage:function(t){null!=t&&null!=t.buffer&&(this.image=t,this.width=t.width,this.height=t.height,this.rect=new je(0,0,t.width,t.height),this.__textureWidth=this.width,this.__textureHeight=this.height,this.__isValid=this.readable=!0)},__getBounds:function(t,e){var i=je.__pool.get();this.rect.__transform(i,e),t.__expand(i.x,i.y,i.width,i.height),je.__pool.release(i)},__loadFromBase64:function(t,e){var i=this;return El.loadFromBase64(t,e).then(function(t){return i.__fromImage(t),rl.withValue(i)})},__loadFromBytes:function(t,e){var i=this;return El.loadFromBytes(Fm.toBytes(t)).then(function(t){return i.__fromImage(t),null!=e&&i.__applyAlpha(e),rl.withValue(i)})},__loadFromFile:function(t){var e=this;return El.loadFromFile(t).then(function(t){return e.__fromImage(t),rl.withValue(e)})},__resize:function(t,e){this.width=t,this.height=e,this.rect.width=t,this.rect.height=e,this.__textureWidth=t,this.__textureHeight=e},__setUVRect:function(t,e,i,s,n){if(null!=this.getVertexBuffer(t)&&(s!=this.__uvRect.width||n!=this.__uvRect.height||e!=this.__uvRect.x||i!=this.__uvRect.y)){null==this.__uvRect&&(this.__uvRect=new je),this.__uvRect.setTo(e,i,s,n),t=0<this.__textureWidth?e/this.__textureWidth:0,i=0<this.__textureHeight?i/this.__textureHeight:0,e=0<this.__textureWidth?s/this.__textureWidth:0;var r=0<this.__textureHeight?n/this.__textureHeight:0;this.__vertexBufferData[0]=s,this.__vertexBufferData[1]=n,this.__vertexBufferData[3]=t+e,this.__vertexBufferData[4]=i+r,this.__vertexBufferData[15]=n,this.__vertexBufferData[17]=t,this.__vertexBufferData[18]=i+r,this.__vertexBufferData[28]=s,this.__vertexBufferData[31]=t+e,this.__vertexBufferData[32]=i,this.__vertexBufferData[45]=t,this.__vertexBufferData[46]=i,this.__vertexBuffer.uploadFromTypedArray(u_.toArrayBufferView(this.__vertexBufferData))}},__sync:function(){Vo.sync(this.image,!1)},__update:function(t,e){this.__updateTransforms()},__updateTransforms:function(t){null==t?this.__worldTransform.identity():this.__worldTransform.copyFrom(t),this.__renderTransform.copyFrom(this.__worldTransform)},__class__:O_};var V_=function(){A.call(this),this.__allowSmoothing=!0,this.__pixelRatio=1,this.__tempColorTransform=new br,this.__worldAlpha=1};r["openfl.display.DisplayObjectRenderer"]=V_,V_.__name__="openfl.display.DisplayObjectRenderer",V_.__super__=A,V_.prototype=i(A.prototype,{__allowSmoothing:null,__blendMode:null,__cleared:null,__context:null,__overrideBlendMode:null,__pixelRatio:null,__roundPixels:null,__stage:null,__tempColorTransform:null,__transparent:null,__type:null,__worldAlpha:null,__worldColorTransform:null,__worldTransform:null,__clear:function(){},__getAlpha:function(t){return t*this.__worldAlpha},__getColorTransform:function(t){return null!=this.__worldColorTransform?(this.__tempColorTransform.__copyFrom(this.__worldColorTransform),this.__tempColorTransform.__combine(t),this.__tempColorTransform):t},__popMask:function(){},__popMaskObject:function(t,e){},__popMaskRect:function(){},__pushMask:function(t){},__pushMaskObject:function(t,e){},__pushMaskRect:function(t,e){},__render:function(t){},__renderEvent:function(t){if(null!=t.__customRenderEvent&&t.__renderable){switch(t.__customRenderEvent.allowSmoothing=this.__allowSmoothing,t.__customRenderEvent.objectMatrix.copyFrom(t.__renderTransform),t.__customRenderEvent.objectColorTransform.__copyFrom(t.__worldColorTransform),t.__customRenderEvent.renderer=this,this.__type){case"cairo":t.__customRenderEvent.type="renderCairo";break;case"canvas":t.__customRenderEvent.type="renderCanvas";break;case"dom":t.__customRenderEvent.type=null!=t.stage&&t.__worldVisible?"renderDOM":"clearDOM";break;case"opengl":this.__cleared||this.__clear(),this.setShader(t.__worldShader),this.__context3D.__flushGL(),t.__customRenderEvent.type="renderOpenGL";break;default:return}this.__setBlendMode(t.__worldBlendMode),this.__pushMaskObject(t),t.dispatchEvent(t.__customRenderEvent),this.__popMaskObject(t),"opengl"==this.__type&&this.setViewport()}},__resize:function(t,e){},__setBlendMode:function(t){},__shouldCacheHardware:function(t,e){if(null==t)return null;switch(t.__drawableType){case 4:case 5:if(1==e)return!0;if(1==(e=this.__shouldCacheHardware_DisplayObject(t,e)))return!0;if(null!=t.__children){var i=0;for(t=t.__children;i<t.length;){var s=t[i];if(++i,1==(e=this.__shouldCacheHardware_DisplayObject(s,e)))return!0}}return e;case 7:return 1==e;case 9:return!0;default:return this.__shouldCacheHardware_DisplayObject(t,e)}},__shouldCacheHardware_DisplayObject:function(t,e){return 1==e||null!=t.__filters||!(0==e||null!=t.__graphics&&!lu.isCompatible(t.__graphics))&&null},__updateCacheBitmap:function(t,e){if(null==t)return!1;switch(t.__drawableType){case 2:var i=t;if(null==i.__bitmapData||null==i.__filters&&"opengl"==this.__type&&null==i.__cacheBitmap)return!1;e=null!=i.__bitmapData.image&&i.__bitmapData.image.version!=i.__imageVersion;break;case 7:var s=t;if(null==s.__filters&&"opengl"==this.__type&&null==s.__cacheBitmap&&!s.__domRender)return!1;e&&(s.__renderDirty=!0),e=e||s.__dirty;break;case 9:if(null==t.__filters&&"opengl"==this.__type&&null==t.__cacheBitmap)return!1}if(t.__isCacheBitmapRender)return!1;(s=br.__pool.get()).__copyFrom(t.__worldColorTransform),null!=this.__worldColorTransform&&s.__combine(this.__worldColorTransform);var n=!1;if(t.get_cacheAsBitmap()||"opengl"!=this.__type&&!s.__isDefault(!0)||"opengl"==this.__type&&null!=t.get_scale9Grid()){n=null;var r=(e=null==t.__cacheBitmap||t.__renderDirty&&(e||null!=t.__children&&0<t.__children.length)||t.opaqueBackground!=t.__cacheBitmapBackground)||null!=t.__graphics&&t.__graphics.__softwareDirty||!t.__cacheBitmapColorTransform.__equals(s,!0),a=e||null!=t.__graphics&&t.__graphics.__hardwareDirty,o=this.__type;if((r||a)&&("opengl"==o&&0==this.__shouldCacheHardware(t,null)&&(o="canvas"),!r||"canvas"!=o&&"cairo"!=o||(e=!0),a&&"opengl"==o&&(e=!0)),r=e||!t.__cacheBitmap.__worldTransform.equals(t.__worldTransform),i=null!=t.__filters,"dom"==this.__type&&!i)return!1;if(i&&!e)for(var l=0,h=t.__filters;l<h.length;){var _=h[l];if(++l,_.__renderDirty){e=!0;break}}if(null==t.__cacheBitmapMatrix&&(t.__cacheBitmapMatrix=new yr),l=null!=t.__cacheAsBitmapMatrix?t.__cacheAsBitmapMatrix:t.__renderTransform,e||l.a==t.__cacheBitmapMatrix.a&&l.b==t.__cacheBitmapMatrix.b&&l.c==t.__cacheBitmapMatrix.c&&l.d==t.__cacheBitmapMatrix.d||(e=!0),!e&&"opengl"!=this.__type&&null!=t.__cacheBitmapData&&null!=t.__cacheBitmapData.image&&t.__cacheBitmapData.image.version<t.__cacheBitmapData.__textureVersion&&(e=!0),!e)for(a=t;null!=a;){if(null!=a.get_scrollRect()){r=!0;break}a=a.parent}t.__cacheBitmapMatrix.copyFrom(l),t.__cacheBitmapMatrix.tx=0;var c=a=t.__cacheBitmapMatrix.ty=0,u=0,d=0,m=_=0;if(h=this.__pixelRatio,(r||e)&&(n=je.__pool.get(),t.__getFilterBounds(n,t.__cacheBitmapMatrix),u=0<n.width?Math.ceil((n.width+1)*h):0,d=0<n.height?Math.ceil((n.height+1)*h):0,_=0<n.x?Math.ceil(n.x):Math.floor(n.x),m=0<n.y?Math.ceil(n.y):Math.floor(n.y),null!=t.__cacheBitmapData?u>t.__cacheBitmapData.width||d>t.__cacheBitmapData.height?(a=Math.ceil(Math.max(1.25*u,t.__cacheBitmapData.width)),c=Math.ceil(Math.max(1.25*d,t.__cacheBitmapData.height)),e=!0):(a=t.__cacheBitmapData.width,c=t.__cacheBitmapData.height):(a=u,c=d)),e){if(r=!0,t.__cacheBitmapBackground=t.opaqueBackground,!(.5<=u&&.5<=d))return br.__pool.release(s),t.__cacheBitmap=null,t.__cacheBitmapData=null,t.__cacheBitmapData2=null,t.__cacheBitmapData3=null,t.__cacheBitmapRenderer=null,7==t.__drawableType&&null!=(s=t).__cacheBitmap&&(s.__cacheBitmap.__renderTransform.tx-=s.__offsetX*h,s.__cacheBitmap.__renderTransform.ty-=s.__offsetY*h),!0;var p=null!=t.opaqueBackground&&(a!=u||c!=d),f=null!=t.opaqueBackground?-16777216|t.opaqueBackground:0,g=p?0:f,y="opengl"==this.__type;null==t.__cacheBitmapData||a>t.__cacheBitmapData.width||c>t.__cacheBitmapData.height?(t.__cacheBitmapData=new O_(a,c,!0,g),null==t.__cacheBitmap&&(t.__cacheBitmap=new di),t.__cacheBitmap.__bitmapData=t.__cacheBitmapData,t.__cacheBitmapRenderer=null):t.__cacheBitmapData.__fillRect(t.__cacheBitmapData.rect,g,y),p&&(n.setTo(0,0,u,d),t.__cacheBitmapData.__fillRect(n,f,y))}else t.__cacheBitmapData=t.__cacheBitmap.get_bitmapData(),t.__cacheBitmapData2=null,t.__cacheBitmapData3=null;if((r||e)&&(t.__cacheBitmap.__worldTransform.copyFrom(t.__worldTransform),l==t.__renderTransform?(t.__cacheBitmap.__renderTransform.identity(),t.__cacheBitmap.__renderTransform.scale(1/h,1/h),t.__cacheBitmap.__renderTransform.tx=t.__renderTransform.tx+_,t.__cacheBitmap.__renderTransform.ty=t.__renderTransform.ty+m):(t.__cacheBitmap.__renderTransform.copyFrom(t.__cacheBitmapMatrix),t.__cacheBitmap.__renderTransform.invert(),t.__cacheBitmap.__renderTransform.concat(t.__renderTransform),t.__cacheBitmap.__renderTransform.a*=1/h,t.__cacheBitmap.__renderTransform.d*=1/h,t.__cacheBitmap.__renderTransform.tx+=_,t.__cacheBitmap.__renderTransform.ty+=m)),t.__cacheBitmap.smoothing=this.__allowSmoothing,t.__cacheBitmap.__renderable=t.__renderable,t.__cacheBitmap.__worldAlpha=t.__worldAlpha,t.__cacheBitmap.__worldBlendMode=t.__worldBlendMode,t.__cacheBitmap.__worldShader=t.__worldShader,t.__cacheBitmap.set_mask(t.__mask),e){if(null!=t.__cacheBitmapRenderer&&o==t.__cacheBitmapRenderer.__type||("opengl"==o?t.__cacheBitmapRenderer=new fc(vo.__cast(this,fc).__context3D,t.__cacheBitmapData):(null==t.__cacheBitmapData.image&&(t.__cacheBitmapData=new O_(a,c,!0,null!=t.opaqueBackground?-16777216|t.opaqueBackground:0),t.__cacheBitmap.__bitmapData=t.__cacheBitmapData),Vo.convertToCanvas(t.__cacheBitmapData.image),t.__cacheBitmapRenderer=new U_(t.__cacheBitmapData.image.buffer.__srcContext)),t.__cacheBitmapRenderer.__worldTransform=new yr,t.__cacheBitmapRenderer.__worldColorTransform=new br),null==t.__cacheBitmapColorTransform&&(t.__cacheBitmapColorTransform=new br),t.__cacheBitmapRenderer.__stage=t.stage,t.__cacheBitmapRenderer.__allowSmoothing=this.__allowSmoothing,t.__cacheBitmapRenderer.__setBlendMode(10),t.__cacheBitmapRenderer.__worldAlpha=1/t.__worldAlpha,t.__cacheBitmapRenderer.__worldTransform.copyFrom(t.__renderTransform),t.__cacheBitmapRenderer.__worldTransform.invert(),t.__cacheBitmapRenderer.__worldTransform.concat(t.__cacheBitmapMatrix),t.__cacheBitmapRenderer.__worldTransform.tx-=_,t.__cacheBitmapRenderer.__worldTransform.ty-=m,t.__cacheBitmapRenderer.__worldTransform.scale(h,h),t.__cacheBitmapRenderer.__pixelRatio=h,t.__cacheBitmapRenderer.__worldColorTransform.__copyFrom(s),t.__cacheBitmapRenderer.__worldColorTransform.__invert(),t.__isCacheBitmapRender=!0,"opengl"==t.__cacheBitmapRenderer.__type){g=(f=(p=t.__cacheBitmapRenderer).__context3D).__state.renderToTexture,y=f.__state.renderToTextureDepthStencil;var b=f.__state.renderToTextureAntiAlias,v=f.__state.renderToTextureSurfaceSelector,x=this.__blendMode;if(this.__suspendClipAndMask(),p.__copyShader(this),t.__cacheBitmapData.__setUVRect(f,0,0,u,d),p.__setRenderTarget(t.__cacheBitmapData),null!=t.__cacheBitmapData.image&&(t.__cacheBitmapData.__textureVersion=t.__cacheBitmapData.image.version+1),t.__cacheBitmapData.__drawGL(t,p),i){var w=!1;for(l=0,h=t.__filters;l<h.length;)_=h[l],++l,_.__preserveObject&&(w=!0);for(i=t.__cacheBitmapData,m=null,null==t.__cacheBitmapData2||a>t.__cacheBitmapData2.width||c>t.__cacheBitmapData2.height?t.__cacheBitmapData2=new O_(a,c,!0,0):(t.__cacheBitmapData2.fillRect(t.__cacheBitmapData2.rect,0),null!=t.__cacheBitmapData2.image&&(t.__cacheBitmapData2.__textureVersion=t.__cacheBitmapData2.image.version+1)),t.__cacheBitmapData2.__setUVRect(f,0,0,u,d),o=t.__cacheBitmapData2,w&&(null==t.__cacheBitmapData3||a>t.__cacheBitmapData3.width||c>t.__cacheBitmapData3.height?t.__cacheBitmapData3=new O_(a,c,!0,0):(t.__cacheBitmapData3.fillRect(t.__cacheBitmapData3.rect,0),null!=t.__cacheBitmapData3.image&&(t.__cacheBitmapData3.__textureVersion=t.__cacheBitmapData3.image.version+1)),t.__cacheBitmapData3.__setUVRect(f,0,0,u,d),m=t.__cacheBitmapData3),p.__setBlendMode(10),p.__worldAlpha=1,p.__worldTransform.identity(),p.__worldColorTransform.__identity(),l=0,h=t.__filters;l<h.length;){for(_=h[l],++l,_.__preserveObject&&(p.__setRenderTarget(m),p.__renderFilterPass(i,p.__defaultDisplayShader,_.__smooth)),c=0,u=_.__numShaderPasses;c<u;)a=c++,a=_.__initShader(p,a,_.__preserveObject?m:null),p.__setBlendMode(_.__shaderBlendMode),p.__setRenderTarget(o),p.__renderFilterPass(i,a,_.__smooth),a=i,i=o,o=a;_.__renderDirty=!1}t.__cacheBitmap.__bitmapData=i}this.__blendMode=10,this.__setBlendMode(x),this.__copyShader(p),null!=g?f.setRenderToTexture(g,y,b,v):f.setRenderToBackBuffer(),this.__resumeClipAndMask(p),this.setViewport(),t.__cacheBitmapColorTransform.__copyFrom(s)}else{if(t.__cacheBitmapData.__drawCanvas(t,t.__cacheBitmapRenderer),i){for(w=u=!1,l=0,h=t.__filters;l<h.length;)_=h[l],++l,_.__needSecondBitmapData&&(u=!0),_.__preserveObject&&(w=!0);for(i=t.__cacheBitmapData,m=null,u?(null==t.__cacheBitmapData2||null==t.__cacheBitmapData2.image||a>t.__cacheBitmapData2.width||c>t.__cacheBitmapData2.height?t.__cacheBitmapData2=new O_(a,c,!0,0):t.__cacheBitmapData2.fillRect(t.__cacheBitmapData2.rect,0),o=t.__cacheBitmapData2):o=i,w&&(null==t.__cacheBitmapData3||null==t.__cacheBitmapData3.image||a>t.__cacheBitmapData3.width||c>t.__cacheBitmapData3.height?t.__cacheBitmapData3=new O_(a,c,!0,0):t.__cacheBitmapData3.fillRect(t.__cacheBitmapData3.rect,0),m=t.__cacheBitmapData3),null==t.__tempPoint&&(t.__tempPoint=new Ye),c=t.__tempPoint,l=0,h=t.__filters;l<h.length;)_=h[l],++l,_.__preserveObject&&m.copyPixels(i,i.rect,c),a=_.__applyFilter(o,i,i.rect,c),_.__preserveObject&&a.draw(m,null,null!=t.__objectTransform?t.__objectTransform.__colorTransform:null),_.__renderDirty=!1,u&&a==o&&(a=i,i=o,o=a);t.__cacheBitmapData!=i&&(a=t.__cacheBitmapData,t.__cacheBitmapData=i,t.__cacheBitmapData2=a,t.__cacheBitmap.__bitmapData=t.__cacheBitmapData,t.__cacheBitmapRenderer=null),t.__cacheBitmap.__imageVersion=t.__cacheBitmapData.__textureVersion}t.__cacheBitmapColorTransform.__copyFrom(s),t.__cacheBitmapColorTransform.__isDefault(!0)||(t.__cacheBitmapColorTransform.alphaMultiplier=1,t.__cacheBitmapData.colorTransform(t.__cacheBitmapData.rect,t.__cacheBitmapColorTransform))}t.__isCacheBitmapRender=!1}(r||e)&&je.__pool.release(n),n=r}else null!=t.__cacheBitmap&&("dom"==this.__type&&this.__renderDrawableClear(t.__cacheBitmap),t.__cacheBitmap=null,t.__cacheBitmapData=null,t.__cacheBitmapData2=null,t.__cacheBitmapData3=null,t.__cacheBitmapColorTransform=null,t.__cacheBitmapRenderer=null,n=!0);return br.__pool.release(s),n&&7==t.__drawableType&&null!=(s=t).__cacheBitmap&&(s.__cacheBitmap.__renderTransform.tx-=s.__offsetX,s.__cacheBitmap.__renderTransform.ty-=s.__offsetY),n},__class__:V_});var G_=function(t){V_.call(this)};r["openfl.display.CairoRenderer"]=G_,G_.__name__="openfl.display.CairoRenderer",G_.__super__=V_,G_.prototype=i(V_.prototype,{cairo:null,__matrix:null,__matrix3:null,applyMatrix:function(t,e){null==e&&(e=this.cairo),this.__matrix.copyFrom(t),this.cairo==e&&null!=this.__worldTransform&&this.__matrix.concat(this.__worldTransform),this.__matrix3.a=this.__matrix.a,this.__matrix3.b=this.__matrix.b,this.__matrix3.c=this.__matrix.c,this.__matrix3.d=this.__matrix.d,this.__roundPixels?(this.__matrix3.tx=Math.round(this.__matrix.tx),this.__matrix3.ty=Math.round(this.__matrix.ty)):(this.__matrix3.tx=this.__matrix.tx,this.__matrix3.ty=this.__matrix.ty),e.set_matrix(this.__matrix3)},__clear:function(){if(null!=this.cairo&&(this.cairo.identityMatrix(),null!=this.__stage&&this.__stage.__clearBeforeRender)){var t=this.__blendMode;this.__setBlendMode(10),this.cairo.setSourceRGB(this.__stage.__colorSplit[0],this.__stage.__colorSplit[1],this.__stage.__colorSplit[2]),this.cairo.paint(),this.__setBlendMode(t)}},__popMask:function(){this.cairo.restore()},__popMaskObject:function(t,e){null==e&&(e=!0),t.__isCacheBitmapRender||null==t.__mask||this.__popMask(),e&&null!=t.__scrollRect&&this.__popMaskRect()},__popMaskRect:function(){this.cairo.restore()},__pushMask:function(t){this.cairo.save(),this.applyMatrix(t.__renderTransform,this.cairo),this.cairo.newPath(),this.__renderDrawableMask(t),this.cairo.clip()},__pushMaskObject:function(t,e){null==e&&(e=!0),e&&null!=t.__scrollRect&&this.__pushMaskRect(t.__scrollRect,t.__renderTransform),t.__isCacheBitmapRender||null==t.__mask||this.__pushMask(t.__mask)},__pushMaskRect:function(t,e){this.cairo.save(),this.applyMatrix(e,this.cairo),this.cairo.newPath(),this.cairo.rectangle(t.x,t.y,t.width,t.height),this.cairo.clip()},__render:function(t){null!=this.cairo&&this.__renderDrawable(t)},__renderDrawable:function(t){null!=t&&6===t.__drawableType&&(!t.__renderable||0>=t.__worldAlpha||null==t.__currentState||(this.__pushMaskObject(t),this.__renderDrawable(t.__currentState),this.__popMaskObject(t),this.__renderEvent(t)))},__renderDrawableMask:function(t){if(null!=t)switch(t.__drawableType){case 2:this.cairo.rectangle(0,0,t.get_width(),t.get_height());break;case 6:this.__renderDrawableMask(t.__currentState)}},__setBlendMode:function(t){null!=this.__overrideBlendMode&&(t=this.__overrideBlendMode),this.__blendMode!=t&&(this.__blendMode=t,this.__setBlendModeCairo(this.cairo,t))},__setBlendModeCairo:function(t,e){switch(e){case 0:t.setOperator(12);break;case 2:t.setOperator(17);break;case 3:t.setOperator(23);break;case 5:t.setOperator(21);break;case 7:default:t.setOperator(2);break;case 8:t.setOperator(18);break;case 9:t.setOperator(14);break;case 11:t.setOperator(16);break;case 12:t.setOperator(15)}},__class__:G_});var U_=function(t){V_.call(this),this.context=t,this.__tempMatrix=new yr,this.__type="canvas"};r["openfl.display.CanvasRenderer"]=U_,U_.__name__="openfl.display.CanvasRenderer",U_.__super__=V_,U_.prototype=i(V_.prototype,{context:null,__isDOM:null,__tempMatrix:null,applySmoothing:function(t,e){t.imageSmoothingEnabled=e},setTransform:function(t,e){null==e?e=this.context:this.context==e&&null!=this.__worldTransform&&(this.__tempMatrix.copyFrom(t),this.__tempMatrix.concat(this.__worldTransform),t=this.__tempMatrix),this.__roundPixels?e.setTransform(t.a,t.b,t.c,t.d,0|t.tx,0|t.ty):e.setTransform(t.a,t.b,t.c,t.d,t.tx,t.ty)},__clear:function(){if(null!=this.__stage){var t=this.__blendMode;this.__blendMode=null,this.__setBlendMode(10),this.context.setTransform(1,0,0,1,0,0),this.context.globalAlpha=1,!this.__stage.__transparent&&this.__stage.__clearBeforeRender?(this.context.fillStyle=this.__stage.__colorString,this.context.fillRect(0,0,this.__stage.stageWidth*this.__stage.window.__scale,this.__stage.stageHeight*this.__stage.window.__scale)):this.__stage.__transparent&&this.__stage.__clearBeforeRender&&this.context.clearRect(0,0,this.__stage.stageWidth*this.__stage.window.__scale,this.__stage.stageHeight*this.__stage.window.__scale),this.__setBlendMode(t)}},__popMask:function(){this.context.restore()},__popMaskObject:function(t,e){null==e&&(e=!0),t.__isCacheBitmapRender||null==t.__mask||this.__popMask(),e&&null!=t.__scrollRect&&this.__popMaskRect()},__popMaskRect:function(){this.context.restore()},__pushMask:function(t){this.context.save(),this.setTransform(t.__renderTransform,this.context),this.context.beginPath(),this.__renderDrawableMask(t),this.context.closePath(),this.context.clip()},__pushMaskObject:function(t,e){null==e&&(e=!0),e&&null!=t.__scrollRect&&this.__pushMaskRect(t.__scrollRect,t.__renderTransform),t.__isCacheBitmapRender||null==t.__mask||this.__pushMask(t.__mask)},__pushMaskRect:function(t,e){this.context.save(),this.setTransform(e,this.context),this.context.beginPath(),this.context.rect(t.x,t.y,t.width,t.height),this.context.clip()},__render:function(t){this.__renderDrawable(t)},__renderDrawable:function(t){if(null!=t)switch(t.__drawableType){case 0:Yc.renderDrawable(t,this);break;case 2:Xc.renderDrawable(t,this);break;case 3:jc.renderDrawable(t,this);break;case 4:case 5:Kc.renderDrawable(t,this);break;case 6:qc.renderDrawable(t,this);break;case 7:$c.renderDrawable(t,this);break;case 8:eu.renderDrawable(t,this);break;case 9:tu.renderDrawable(t,this)}},__renderDrawableMask:function(t){if(null!=t)switch(t.__drawableType){case 0:Yc.renderDrawableMask(t,this);break;case 2:Xc.renderDrawableMask(t,this);break;case 3:jc.renderDrawableMask(t,this);break;case 4:case 5:Kc.renderDrawableMask(t,this);break;case 6:qc.renderDrawableMask(t,this);break;case 7:$c.renderDrawableMask(t,this);break;case 8:eu.renderDrawableMask(t,this);break;case 9:tu.renderDrawableMask(t,this)}},__setBlendMode:function(t){null!=this.__overrideBlendMode&&(t=this.__overrideBlendMode),this.__blendMode!=t&&(this.__blendMode=t,this.__setBlendModeContext(this.context,t))},__setBlendModeContext:function(t,e){switch(e){case 0:t.globalCompositeOperation="lighter";break;case 2:t.globalCompositeOperation="darken";break;case 3:t.globalCompositeOperation="difference";break;case 5:t.globalCompositeOperation="hard-light";break;case 8:t.globalCompositeOperation="lighten";break;case 9:t.globalCompositeOperation="multiply";break;case 11:t.globalCompositeOperation="overlay";break;case 12:t.globalCompositeOperation="screen";break;default:t.globalCompositeOperation="source-over"}},__class__:U_});var z_={fromInt:function(t){return t},fromString:function(t){switch(t){case"none":return 0;case"round":return 1;case"square":return 2;default:return null}},toInt:function(t){return t},toString:function(t){switch(t){case 0:return"none";case 1:return"round";case 2:return"square";default:return null}}},H_=function(t){k.call(this),this.__drawableType=10,this.__element=t};r["openfl.display.DOMElement"]=H_,H_.__name__="openfl.display.DOMElement",H_.__super__=k,H_.prototype=i(k.prototype,{__active:null,__element:null,__class__:H_});var W_=function(t){V_.call(this),this.element=t,k.__supportDOM=!0,t=window.getComputedStyle(document.documentElement,""),t=(Array.prototype.slice.call(t).join("").match(/-(moz|webkit|ms)-/)||""===t.OLink&&["","o"])[1],"WebKit|Moz|MS|O".match(new RegExp("("+t+")","i")),t[0].toUpperCase(),t.substr(1),this.__vendorPrefix=t,this.__transformProperty="webkit"==t?"-webkit-transform":"transform",this.__transformOriginProperty="webkit"==t?"-webkit-transform-origin":"transform-origin",this.__clipRects=[],this.__z=this.__numClipRects=0,this.__type="dom",this.__canvasRenderer=new U_(null),this.__canvasRenderer.__isDOM=!0};r["openfl.display.DOMRenderer"]=W_,W_.__name__="openfl.display.DOMRenderer",W_.__super__=V_,W_.prototype=i(V_.prototype,{element:null,__canvasRenderer:null,__clipRects:null,__currentClipRect:null,__numClipRects:null,__transformOriginProperty:null,__transformProperty:null,__vendorPrefix:null,__z:null,applyStyle:function(t,e){null!=t&&null!=e&&(null!=t.__style&&e.parentElement==this.element||this.__initializeElement(t,e),t.__style=e.style,this.__updateClip(t),this.__applyStyle(t,!0,!0,!0))},clearStyle:function(t){null!=t&&t.parentElement==this.element&&this.element.removeChild(t)},__applyStyle:function(t,e,i,s){var n=t.__style;if(e&&t.__renderTransformChanged){e=t.__renderTransform;var r=this.__roundPixels;null==r&&(r=!1),n.setProperty(this.__transformProperty,r?"matrix3d("+e.a+", "+e.b+", 0, 0, "+e.c+", "+e.d+", 0, 0, 0, 0, 1, 0, "+(0|e.tx)+", "+(0|e.ty)+", 0, 1)":"matrix3d("+e.a+", "+e.b+", 0, 0, "+e.c+", "+e.d+", 0, 0, 0, 0, 1, 0, "+e.tx+", "+e.ty+", 0, 1)",null)}t.__worldZ!=++this.__z&&(t.__worldZ=this.__z,n.setProperty("z-index",null==t.__worldZ?"null":""+t.__worldZ,null)),i&&t.__worldAlphaChanged&&(1>t.__worldAlpha?n.setProperty("opacity",null==t.__worldAlpha?"null":""+t.__worldAlpha,null):n.removeProperty("opacity")),s&&t.__worldClipChanged&&(null==t.__worldClip?n.removeProperty("clip"):(t=t.__worldClip,n.setProperty("clip","rect("+t.y+"px, "+t.get_right()+"px, "+t.get_bottom()+"px, "+t.x+"px)",null)))},__initializeElement:function(t,e){var i=t.__style=e.style;i.setProperty("position","absolute",null),i.setProperty("top","0",null),i.setProperty("left","0",null),i.setProperty(this.__transformOriginProperty,"0 0 0",null),this.element.appendChild(e),t.__worldAlphaChanged=!0,t.__renderTransformChanged=!0,t.__worldVisibleChanged=!0,t.__worldClipChanged=!0,t.__worldClip=null,t.__worldZ=-1},__popMask:function(){this.__popMaskRect()},__popMaskObject:function(t,e){null==e&&(e=!0),null!=t.__mask&&this.__popMask(),e&&null!=t.__scrollRect&&this.__popMaskRect()},__popMaskRect:function(){0<this.__numClipRects&&(this.__numClipRects--,this.__currentClipRect=0<this.__numClipRects?this.__clipRects[this.__numClipRects-1]:null)},__pushMask:function(t){this.__pushMaskRect(t.getBounds(t),t.__renderTransform)},__pushMaskObject:function(t,e){null==e&&(e=!0),e&&null!=t.__scrollRect&&this.__pushMaskRect(t.__scrollRect,t.__renderTransform),null!=t.__mask&&this.__pushMask(t.__mask)},__pushMaskRect:function(t,e){this.__numClipRects==this.__clipRects.length&&(this.__clipRects[this.__numClipRects]=new je);var i=this.__clipRects[this.__numClipRects];t.__transform(i,e),0<this.__numClipRects&&(t=this.__clipRects[this.__numClipRects-1],i.__contract(t.x,t.y,t.width,t.height)),0>i.height&&(i.height=0),0>i.width&&(i.width=0),this.__currentClipRect=i,this.__numClipRects++},__render:function(t){this.element.style.background=this.__stage.__transparent?"none":this.__stage.__colorString,this.__z=1,this.__renderDrawable(t)},__renderDrawable:function(t){if(null!=t)switch(t.__drawableType){case 2:pu.renderDrawable(t,this);break;case 3:fu.renderDrawable(t,this);break;case 4:case 5:gu.renderDrawable(t,this);break;case 6:bu.renderDrawable(t,this);break;case 7:vu.renderDrawable(t,this);break;case 8:wu.renderDrawable(t,this);break;case 9:xu.renderDrawable(t,this);break;case 10:null!=t.stage&&t.__worldVisible&&t.__renderable?(t.__active||(this.__initializeElement(t,t.__element),t.__active=!0),this.__updateClip(t),this.__applyStyle(t,!0,!0,!0)):t.__active&&(this.element.removeChild(t.__element),t.__active=!1),fu.renderDrawable(t,this)}},__renderDrawableClear:function(t){if(null!=t)switch(t.__drawableType){case 2:pu.renderDrawableClear(t,this);break;case 3:fu.renderDrawableClear(t,this);break;case 4:case 5:gu.renderDrawableClear(t,this);break;case 6:bu.renderDrawableClear(t,this);break;case 7:vu.renderDrawableClear(t,this);break;case 8:wu.renderDrawableClear(t,this);break;case 9:xu.renderDrawableClear(t,this)}},__setBlendMode:function(t){null!=this.__overrideBlendMode&&(t=this.__overrideBlendMode),this.__blendMode!=t&&(this.__blendMode=t)},__updateClip:function(t){if(null==this.__currentClipRect)t.__worldClipChanged=null!=t.__worldClip,t.__worldClip=null;else{null==t.__worldClip&&(t.__worldClip=new je);var e=je.__pool.get(),i=yr.__pool.get();i.copyFrom(t.__renderTransform),i.invert(),this.__currentClipRect.__transform(e,i),e.equals(t.__worldClip)?t.__worldClipChanged=!1:(t.__worldClip.copyFrom(e),t.__worldClipChanged=!0),je.__pool.release(e),yr.__pool.release(i)}},__class__:W_});var X_=function(t){this.byteCode=t,this.precisionHint=1,this.__glSourceDirty=!0,this.__numPasses=1,this.__data=xc._new(t)};r["openfl.display.Shader"]=X_,X_.__name__="openfl.display.Shader",X_.prototype={byteCode:null,glProgram:null,precisionHint:null,program:null,__alpha:null,__bitmap:null,__colorMultiplier:null,__colorOffset:null,__context:null,__data:null,__glFragmentSource:null,__glSourceDirty:null,__glVertexSource:null,__hasColorTransform:null,__inputBitmapData:null,__isGenerated:null,__matrix:null,__numPasses:null,__paramBool:null,__paramFloat:null,__paramInt:null,__position:null,__textureCoord:null,__texture:null,__textureSize:null,__clearUseArray:function(){for(var t=0,e=this.__paramBool;t<e.length;){var i=e[t];++t,i.__useArray=!1}for(t=0,e=this.__paramFloat;t<e.length;)i=e[t],++t,i.__useArray=!1;for(t=0,e=this.__paramInt;t<e.length;)i=e[t],++t,i.__useArray=!1},__createGLShader:function(t,e){var i=this.__context.gl,s=i.createShader(e);i.shaderSource(s,t),i.compileShader(s);var n=i.getShaderInfoLog(s),r=null!=n&&""!=v.trim(n),a=i.getShaderParameter(s,i.COMPILE_STATUS);return(r||0==a)&&(e=(e=(0==a?"Error":"Info")+(e==i.VERTEX_SHADER?" compiling vertex shader":" compiling fragment shader"))+"\n"+n+"\n"+t,0==a?d_.error(e,{fileName:"openfl/display/Shader.hx",lineNumber:335,className:"openfl.display.Shader",methodName:"__createGLShader"}):r&&d_.debug(e,{fileName:"openfl/display/Shader.hx",lineNumber:336,className:"openfl.display.Shader",methodName:"__createGLShader"})),s},__createGLProgram:function(t,e){var i=this.__context.gl;t=this.__createGLShader(t,i.VERTEX_SHADER);var s=this.__createGLShader(e,i.FRAGMENT_SHADER);e=i.createProgram();for(var n=0,r=this.__paramFloat;n<r.length;){var a=r[n];if(++n,-1<a.name.indexOf("Position")&&v.startsWith(a.name,"openfl_")){i.bindAttribLocation(e,0,a.name);break}}return i.attachShader(e,t),i.attachShader(e,s),i.linkProgram(e),0==i.getProgramParameter(e,i.LINK_STATUS)&&(i="Unable to initialize the shader program\n"+i.getProgramInfoLog(e),d_.error(i,{fileName:"openfl/display/Shader.hx",lineNumber:369,className:"openfl.display.Shader",methodName:"__createGLProgram"})),e},__disable:function(){null!=this.program&&this.__disableGL()},__disableGL:function(){for(var t=this.__context.gl,e=0,i=0,s=this.__inputBitmapData;i<s.length;){var n=s[i];if(++i,n.__disableGL(this.__context,e),++e==t.MAX_TEXTURE_IMAGE_UNITS)break}for(i=0,s=this.__paramBool;i<s.length;)e=s[i],++i,e.__disableGL(this.__context);for(i=0,s=this.__paramFloat;i<s.length;)e=s[i],++i,e.__disableGL(this.__context);for(i=0,s=this.__paramInt;i<s.length;)e=s[i],++i,e.__disableGL(this.__context);this.__context.__bindGLArrayBuffer(null),"opengl"==this.__context.__context.type&&t.disable(t.TEXTURE_2D)},__enable:function(){this.__init(),null!=this.program&&this.__enableGL()},__enableGL:function(){for(var t=0,e=this.__context.gl,i=0,s=this.__inputBitmapData;i<s.length;){var n=s[i];++i,e.uniform1i(n.index,t),++t}"opengl"==this.__context.__context.type&&0<t&&e.enable(e.TEXTURE_2D)},__init:function(){null==this.__data&&(this.__data=xc._new(null)),null==this.__glFragmentSource||null==this.__glVertexSource||null!=this.program&&!this.__glSourceDirty||this.__initGL()},__initGL:function(){if((this.__glSourceDirty||null==this.__paramBool)&&(this.__glSourceDirty=!1,this.program=null,this.__inputBitmapData=[],this.__paramBool=[],this.__paramFloat=[],this.__paramInt=[],this.__processGLData(this.get_glVertexSource(),"attribute"),this.__processGLData(this.get_glVertexSource(),"uniform"),this.__processGLData(this.get_glFragmentSource(),"uniform")),null!=this.__context&&null==this.program){var t=this.__context.gl,e=1==this.precisionHint?"precision mediump float;\n":"precision lowp float;\n",i=e+this.get_glVertexSource(),s=i+(e+=this.get_glFragmentSource());if(Object.prototype.hasOwnProperty.call(this.__context.__programs.h,s)?this.program=this.__context.__programs.h[s]:(this.program=this.__context.createProgram(1),this.program.__glProgram=this.__createGLProgram(i,e),this.__context.__programs.h[s]=this.program),null!=this.program){for(this.glProgram=this.program.__glProgram,i=0,e=this.__inputBitmapData;i<e.length;)s=e[i],++i,s.index=s.__isUniform?t.getUniformLocation(this.glProgram,s.name):t.getAttribLocation(this.glProgram,s.name);for(i=0,e=this.__paramBool;i<e.length;)s=e[i],++i,s.index=s.__isUniform?t.getUniformLocation(this.glProgram,s.name):t.getAttribLocation(this.glProgram,s.name);for(i=0,e=this.__paramFloat;i<e.length;)s=e[i],++i,s.index=s.__isUniform?t.getUniformLocation(this.glProgram,s.name):t.getAttribLocation(this.glProgram,s.name);for(i=0,e=this.__paramInt;i<e.length;)s=e[i],++i,s.index=s.__isUniform?t.getUniformLocation(this.glProgram,s.name):t.getAttribLocation(this.glProgram,s.name)}}},__processGLData:function(t,e){var i,s=0;for(i=new _("uniform"==e?"uniform ([A-Za-z0-9]+) ([A-Za-z0-9_]+)":"attribute ([A-Za-z0-9]+) ([A-Za-z0-9_]+)","");i.matchSub(t,s);){var n=i.matched(1),r=i.matched(2);if(!v.startsWith(r,"gl_")){if(s="uniform"==e,v.startsWith(n,"sampler")){switch((n=new wc).name=r,n.__isUniform=s,this.__inputBitmapData.push(n),r){case"bitmap":this.__bitmap=n;break;case"openfl_Texture":this.__texture=n}this.__data[r]=n,this.__isGenerated&&(this[r]=n)}else if(!Object.prototype.hasOwnProperty.call(this.__data,r)||null==f.field(this.__data,r)){switch(n){case"bool":var a=0;break;case"bvec2":a=1;break;case"bvec3":a=2;break;case"bvec4":a=3;break;case"dvec2":case"vec2":a=5;break;case"dvec3":case"vec3":a=6;break;case"double":case"float":a=4;break;case"ivec3":case"uvec3":a=10;break;case"ivec4":case"uvec4":a=11;break;case"mat2":case"mat2x2":a=12;break;case"mat2x3":a=13;break;case"mat2x4":a=14;break;case"mat3x2":a=15;break;case"mat3":case"mat3x3":a=16;break;case"mat3x4":a=17;break;case"mat4":case"mat4x4":a=20;break;case"mat4x2":a=18;break;case"mat4x3":a=19;break;case"int":case"uint":a=8;break;case"ivec2":case"uvec2":a=9;break;case"dvec4":case"vec4":a=7;break;default:a=null}switch(a){case 1:case 5:case 9:n=2;break;case 3:case 7:case 11:case 12:n=4;break;case 2:case 6:case 10:n=3;break;case 16:n=9;break;case 20:n=16;break;default:n=1}switch(a){case 12:var o=2;break;case 16:o=3;break;case 20:o=4;break;default:o=1}switch(a){case 0:case 1:case 2:case 3:var l=new Sc;l.set_name(r),l.type=a,l.__arrayLength=o,l.__isBool=!0,l.__isUniform=s,l.__length=n,this.__paramBool.push(l),"openfl_HasColorTransform"==r&&(this.__hasColorTransform=l),this.__data[r]=l,this.__isGenerated&&(this[r]=l);break;case 8:case 9:case 10:case 11:(l=new Sc).set_name(r),l.type=a,l.__arrayLength=o,l.__isInt=!0,l.__isUniform=s,l.__length=n,this.__paramInt.push(l),this.__data[r]=l,this.__isGenerated&&(this[r]=l);break;default:if((l=new Sc).set_name(r),l.type=a,l.__arrayLength=o,0<o&&(a=null!=(a=o*o)?new Float32Array(a):null,l.__uniformMatrix=a),l.__isFloat=!0,l.__isUniform=s,l.__length=n,this.__paramFloat.push(l),v.startsWith(r,"openfl_"))switch(r){case"openfl_Alpha":this.__alpha=l;break;case"openfl_ColorMultiplier":this.__colorMultiplier=l;break;case"openfl_ColorOffset":this.__colorOffset=l;break;case"openfl_Matrix":this.__matrix=l;break;case"openfl_Position":this.__position=l;break;case"openfl_TextureCoord":this.__textureCoord=l;break;case"openfl_TextureSize":this.__textureSize=l}this.__data[r]=l,this.__isGenerated&&(this[r]=l)}}s=(r=i.matchedPos()).pos+r.len}}},__update:function(){null!=this.program&&this.__updateGL()},__updateFromBuffer:function(t,e){null!=this.program&&this.__updateGLFromBuffer(t,e)},__updateGL:function(){for(var t=0,e=0,i=this.__inputBitmapData;e<i.length;){var s=i[e];++e,s.__updateGL(this.__context,t),++t}for(e=0,i=this.__paramBool;e<i.length;)t=i[e],++e,t.__updateGL(this.__context);for(e=0,i=this.__paramFloat;e<i.length;)t=i[e],++e,t.__updateGL(this.__context);for(e=0,i=this.__paramInt;e<i.length;)t=i[e],++e,t.__updateGL(this.__context)},__updateGLFromBuffer:function(t,e){for(var i,s,n,r,a,o=0,l=0,h=t.inputCount;l<h;)a=l++,i=t.inputRefs[a],s=t.inputs[a],n=t.inputFilter[a],r=t.inputMipFilter[a],a=t.inputWrap[a],null!=s&&(i.__updateGL(this.__context,o,s,n,r,a),++o);l=this.__context.gl,0<t.paramDataLength?(null==t.paramDataBuffer&&(t.paramDataBuffer=l.createBuffer()),this.__context.__bindGLArrayBuffer(t.paramDataBuffer),Ol.bufferData(l,l.ARRAY_BUFFER,t.paramData,l.DYNAMIC_DRAW)):this.__context.__bindGLArrayBuffer(null),s=i=o=0,n=t.paramBoolCount,r=t.paramFloatCount;var _=t.paramData,c=null,u=null,d=null;for(l=0,h=t.paramCount;l<h;){var m=!1;if((a=l++)<n){for(var p=t.paramRefs_Bool[o],f=0,g=t.overrideBoolCount;f<g;){var y=f++;if(p.name==t.overrideBoolNames[y]){c=t.overrideBoolValues[y],m=!0;break}}m?p.__updateGL(this.__context,c):p.__updateGLFromBuffer(this.__context,_,t.paramPositions[a],t.paramLengths[a],e),++o}else if(a<n+r){for(p=t.paramRefs_Float[i],f=0,g=t.overrideFloatCount;f<g;)if(y=f++,p.name==t.overrideFloatNames[y]){u=t.overrideFloatValues[y],m=!0;break}m?p.__updateGL(this.__context,u):p.__updateGLFromBuffer(this.__context,_,t.paramPositions[a],t.paramLengths[a],e),++i}else{for(p=t.paramRefs_Int[s],f=0,g=t.overrideIntCount;f<g;)if(y=f++,p.name==t.overrideIntNames[y]){d=t.overrideIntValues[y],m=!0;break}m?p.__updateGL(this.__context,d):p.__updateGLFromBuffer(this.__context,_,t.paramPositions[a],t.paramLengths[a],e),++s}}},get_data:function(){return(this.__glSourceDirty||null==this.__data)&&this.__init(),this.__data},set_data:function(t){return this.__data=t},get_glFragmentSource:function(){return this.__glFragmentSource},set_glFragmentSource:function(t){return t!=this.__glFragmentSource&&(this.__glSourceDirty=!0),this.__glFragmentSource=t},get_glVertexSource:function(){return this.__glVertexSource},set_glVertexSource:function(t){return t!=this.__glVertexSource&&(this.__glSourceDirty=!0),this.__glVertexSource=t},__class__:X_,__properties__:{set_glVertexSource:"set_glVertexSource",get_glVertexSource:"get_glVertexSource",set_glFragmentSource:"set_glFragmentSource",get_glFragmentSource:"get_glFragmentSource",set_data:"set_data",get_data:"get_data"}};var Y_=function(t){null==this.__glFragmentSource&&(this.__glFragmentSource="varying float openfl_Alphav;\n\t\tvarying vec4 openfl_ColorMultiplierv;\n\t\tvarying vec4 openfl_ColorOffsetv;\n\t\tvarying vec2 openfl_TextureCoordv;\n\n\t\tuniform bool openfl_HasColorTransform;\n\t\tuniform sampler2D openfl_Texture;\n\t\tuniform vec2 openfl_TextureSize;\n\n\t\tvoid main(void) {\n\n\t\t\tvec4 color = texture2D (openfl_Texture, openfl_TextureCoordv);\n\n\t\tif (color.a == 0.0) {\n\n\t\t\tgl_FragColor = vec4 (0.0, 0.0, 0.0, 0.0);\n\n\t\t} else if (openfl_HasColorTransform) {\n\n\t\t\tcolor = vec4 (color.rgb / color.a, color.a);\n\n\t\t\tmat4 colorMultiplier = mat4 (0);\n\t\t\tcolorMultiplier[0][0] = openfl_ColorMultiplierv.x;\n\t\t\tcolorMultiplier[1][1] = openfl_ColorMultiplierv.y;\n\t\t\tcolorMultiplier[2][2] = openfl_ColorMultiplierv.z;\n\t\t\tcolorMultiplier[3][3] = 1.0; // openfl_ColorMultiplierv.w;\n\n\t\t\tcolor = clamp (openfl_ColorOffsetv + (color * colorMultiplier), 0.0, 1.0);\n\n\t\t\tif (color.a > 0.0) {\n\n\t\t\t\tgl_FragColor = vec4 (color.rgb * color.a * openfl_Alphav, color.a * openfl_Alphav);\n\n\t\t\t} else {\n\n\t\t\t\tgl_FragColor = vec4 (0.0, 0.0, 0.0, 0.0);\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tgl_FragColor = color * openfl_Alphav;\n\n\t\t}\n\n\t\t}"),null==this.__glVertexSource&&(this.__glVertexSource="attribute float openfl_Alpha;\n\t\tattribute vec4 openfl_ColorMultiplier;\n\t\tattribute vec4 openfl_ColorOffset;\n\t\tattribute vec4 openfl_Position;\n\t\tattribute vec2 openfl_TextureCoord;\n\n\t\tvarying float openfl_Alphav;\n\t\tvarying vec4 openfl_ColorMultiplierv;\n\t\tvarying vec4 openfl_ColorOffsetv;\n\t\tvarying vec2 openfl_TextureCoordv;\n\n\t\tuniform mat4 openfl_Matrix;\n\t\tuniform bool openfl_HasColorTransform;\n\t\tuniform vec2 openfl_TextureSize;\n\n\t\tvoid main(void) {\n\n\t\t\topenfl_Alphav = openfl_Alpha;\n\t\topenfl_TextureCoordv = openfl_TextureCoord;\n\n\t\tif (openfl_HasColorTransform) {\n\n\t\t\topenfl_ColorMultiplierv = openfl_ColorMultiplier;\n\t\t\topenfl_ColorOffsetv = openfl_ColorOffset / 255.0;\n\n\t\t}\n\n\t\tgl_Position = openfl_Matrix * openfl_Position;\n\n\t\t}"),X_.call(this,t),this.__isGenerated=!0,this.__initGL()};r["openfl.display.DisplayObjectShader"]=Y_,Y_.__name__="openfl.display.DisplayObjectShader",Y_.__super__=X_,Y_.prototype=i(X_.prototype,{openfl_Alpha:null,openfl_ColorMultiplier:null,openfl_ColorOffset:null,openfl_Position:null,openfl_TextureCoord:null,openfl_Matrix:null,openfl_HasColorTransform:null,openfl_TextureSize:null,openfl_Texture:null,__class__:Y_});var j_=function(t,e){A.call(this),this.name=t,this.frame=e};r["openfl.display.FrameLabel"]=j_,j_.__name__="openfl.display.FrameLabel",j_.__super__=A,j_.prototype=i(A.prototype,{frame:null,name:null,__class__:j_});var K_=function(t,e){this.script=t,this.frame=e};r["openfl.display.FrameScript"]=K_,K_.__name__="openfl.display.FrameScript",K_.prototype={frame:null,script:null,__class__:K_};var J_=function(t){this.__dirty=!0,this.__owner=t,this.__commands=new Jc,this.__positionY=this.__positionX=this.__strokePadding=0,this.__renderTransform=new yr,this.__usedShaderBuffers=new E,this.__worldTransform=new yr,this.__height=this.__width=0,this.__bitmapScale=1,this.__shaderBufferPool=new P(function(){return new Iu}),this.moveTo(0,0)};r["openfl.display.Graphics"]=J_,J_.__name__="openfl.display.Graphics",J_.prototype={__bounds:null,__commands:null,__dirty:null,__hardwareDirty:null,__height:null,__managed:null,__positionX:null,__positionY:null,__quadBuffer:null,__renderTransform:null,__shaderBufferPool:null,__softwareDirty:null,__strokePadding:null,__transformDirty:null,__triangleIndexBuffer:null,__triangleIndexBufferCount:null,__triangleIndexBufferData:null,__usedShaderBuffers:null,__vertexBuffer:null,__vertexBufferCount:null,__vertexBufferCountUVT:null,__vertexBufferData:null,__vertexBufferDataUVT:null,__vertexBufferUVT:null,__visible:null,__owner:null,__width:null,__worldTransform:null,__canvas:null,__context:null,__bitmap:null,__bitmapScale:null,beginBitmapFill:function(t,e,i,s){null==s&&(s=!1),null==i&&(i=!0),this.__commands.beginBitmapFill(t,null!=e?e.clone():null,i,s),this.__visible=!0},beginFill:function(t,e){null==e&&(e=1),null==t&&(t=0),this.__commands.beginFill(16777215&t,e),0<e&&(this.__visible=!0)},beginGradientFill:function(t,e,i,s,n,r,a,o){if(null==o&&(o=0),null==a&&(a=1),null==r&&(r=0),null!=e&&0!=e.length){if(null==i){i=[];for(var l=0,h=e.length;l<h;)l++,i.push(1)}if(null==s)for(s=[],l=0,h=e.length;l<h;){var _=l++;s.push(Math.ceil(_/e.length*255))}if(!(i.length<e.length||s.length<e.length))for(this.__commands.beginGradientFill(t,e,i,s,n,r,a,o),l=0;l<i.length;)if(t=i[l],++l,0<t){this.__visible=!0;break}}},beginShaderFill:function(t,e){null!=t&&(e=this.__shaderBufferPool.get(),this.__usedShaderBuffers.add(e),e.update(t),this.__commands.beginShaderFill(e))},clear:function(){for(var t=this.__usedShaderBuffers.h;null!=t;){var e=t.item;t=t.next,this.__shaderBufferPool.release(e)}this.__usedShaderBuffers.clear(),this.__commands.clear(),this.__strokePadding=0,null!=this.__bounds&&(this.set___dirty(!0),this.__transformDirty=!0,this.__bounds=null),this.__visible=!1,this.__positionY=this.__positionX=0,this.moveTo(0,0)},copyFrom:function(t){this.__bounds=null!=t.__bounds?t.__bounds.clone():null,this.__commands=t.__commands.copy(),this.set___dirty(!0),this.__strokePadding=t.__strokePadding,this.__positionX=t.__positionX,this.__positionY=t.__positionY,this.__transformDirty=!0,this.__visible=t.__visible},cubicCurveTo:function(t,e,i,s,n,r){this.__inflateBounds(this.__positionX-this.__strokePadding,this.__positionY-this.__strokePadding),this.__inflateBounds(this.__positionX+this.__strokePadding,this.__positionY+this.__strokePadding);var a=n,o=n;if(!(t<n&&t>this.__positionX||t>n&&t<this.__positionX)||!(i<n&&i>this.__positionX||i>n&&i<this.__positionX)){var l=2*this.__positionX-4*t+2*i,h=t-this.__positionX,_=-this.__positionX+3*t+n-3*i,c=(-l+Math.sqrt(l*l-4*h*_))/(2*_);l=(-l-Math.sqrt(l*l-4*h*_))/(2*_),0<c&&1>c&&(a=this.__calculateBezierCubicPoint(c,this.__positionX,t,i,n)),0<l&&1>l&&(o=this.__calculateBezierCubicPoint(l,this.__positionX,t,i,n))}var u=r,d=r;(e<r&&e>this.__positionY||e>r&&e<this.__positionY)&&(s<r&&s>this.__positionY||s>r&&s<this.__positionY)||(l=2*this.__positionY-4*e+2*s,h=e-this.__positionY,_=-this.__positionY+3*e+r-3*s,c=(-l+Math.sqrt(l*l-4*h*_))/(2*_),l=(-l-Math.sqrt(l*l-4*h*_))/(2*_),0<c&&1>c&&(u=this.__calculateBezierCubicPoint(c,this.__positionY,e,s,r)),0<l&&1>l&&(d=this.__calculateBezierCubicPoint(l,this.__positionY,e,s,r))),this.__inflateBounds(a-this.__strokePadding,u-this.__strokePadding),this.__inflateBounds(a+this.__strokePadding,u+this.__strokePadding),this.__inflateBounds(o-this.__strokePadding,d-this.__strokePadding),this.__inflateBounds(o+this.__strokePadding,d+this.__strokePadding),this.__positionX=n,this.__positionY=r,this.__inflateBounds(this.__positionX-this.__strokePadding,this.__positionY-this.__strokePadding),this.__inflateBounds(this.__positionX+this.__strokePadding,this.__positionY+this.__strokePadding),this.__commands.cubicCurveTo(t,e,i,s,n,r),this.set___dirty(!0)},curveTo:function(t,e,i,s){this.__inflateBounds(this.__positionX-this.__strokePadding,this.__positionY-this.__strokePadding),this.__inflateBounds(this.__positionX+this.__strokePadding,this.__positionY+this.__strokePadding);var n=t<i&&t>this.__positionX||t>i&&t<this.__positionX?i:this.__calculateBezierQuadPoint((this.__positionX-t)/(this.__positionX-2*t+i),this.__positionX,t,i),r=e<s&&e>this.__positionY||e>s&&e<this.__positionY?s:this.__calculateBezierQuadPoint((this.__positionY-e)/(this.__positionY-2*e+s),this.__positionY,e,s);this.__inflateBounds(n-this.__strokePadding,r-this.__strokePadding),this.__inflateBounds(n+this.__strokePadding,r+this.__strokePadding),this.__positionX=i,this.__positionY=s,this.__inflateBounds(this.__positionX-this.__strokePadding,this.__positionY-this.__strokePadding),this.__inflateBounds(this.__positionX+this.__strokePadding,this.__positionY+this.__strokePadding),this.__commands.curveTo(t,e,i,s),this.set___dirty(!0)},drawCircle:function(t,e,i){0>=i||(this.__inflateBounds(t-i-this.__strokePadding,e-i-this.__strokePadding),this.__inflateBounds(t+i+this.__strokePadding,e+i+this.__strokePadding),this.__commands.drawCircle(t,e,i),this.set___dirty(!0))},drawEllipse:function(t,e,i,s){0>=i||0>=s||(this.__inflateBounds(t-this.__strokePadding,e-this.__strokePadding),this.__inflateBounds(t+i+this.__strokePadding,e+s+this.__strokePadding),this.__commands.drawEllipse(t,e,i,s),this.set___dirty(!0))},drawGraphicsData:function(t){for(t=t.iterator();t.hasNext();){var e=t.next();switch(e.__graphicsDataType){case 0:if(null!=e.fill){var i=e.thickness;switch(isNaN(i)&&(i=null),e.fill.__graphicsFillType){case 0:var s=e.fill;this.lineStyle(i,s.color,s.alpha,e.pixelHinting,e.scaleMode,e.caps,e.joints,e.miterLimit);break;case 1:s=e.fill,this.lineStyle(i,0,1,e.pixelHinting,e.scaleMode,e.caps,e.joints,e.miterLimit),this.lineGradientStyle(s.type,s.colors,s.alphas,s.ratios,s.matrix,s.spreadMethod,s.interpolationMethod,s.focalPointRatio);break;case 2:s=e.fill,this.lineStyle(i,0,1,e.pixelHinting,e.scaleMode,e.caps,e.joints,e.miterLimit),this.lineBitmapStyle(s.bitmapData,s.matrix,s.repeat,s.smooth)}}else this.lineStyle();break;case 1:s=e,this.beginFill(s.color,s.alpha);break;case 2:s=e,this.beginGradientFill(s.type,s.colors,s.alphas,s.ratios,s.matrix,s.spreadMethod,s.interpolationMethod,s.focalPointRatio);break;case 3:this.drawPath(e.commands,e.data,e.winding);break;case 4:s=e,this.beginBitmapFill(s.bitmapData,s.matrix,s.repeat,s.smooth);break;case 5:this.endFill();break;case 6:this.drawQuads(e.rects,e.indices,e.transforms);break;case 7:this.drawTriangles(e.vertices,e.indices,e.uvtData,e.culling);break;case 8:this.beginShaderFill(e.shader,e.matrix)}}},drawPath:function(t,e,i){null==i&&(i=0);var s=0;1==i&&this.__commands.windingNonZero(),t=t.iterator();t:for(;t.hasNext();)switch(t.next()){case 1:this.moveTo(e.get(s),e.get(s+1)),s+=2;break;case 2:this.lineTo(e.get(s),e.get(s+1)),s+=2;break;case 3:this.curveTo(e.get(s),e.get(s+1),e.get(s+2),e.get(s+3)),s+=4;break;case 4:this.moveTo(e.get(s+2),e.get(s+3));break t;case 5:this.lineTo(e.get(s+2),e.get(s+3));break t;case 6:this.cubicCurveTo(e.get(s),e.get(s+1),e.get(s+2),e.get(s+3),e.get(s+4),e.get(s+5)),s+=6}},drawQuads:function(t,e,i){if(null!=t){var s=null!=e,n=!1,r=!1,a=s?e.get_length():Math.floor(t.get_length()/4);if(0!=a){null!=i&&(i.get_length()>=6*a?r=n=!0:i.get_length()>=4*a?n=!0:i.get_length()>=2*a&&(r=!0));for(var o,l=je.__pool.get(),h=yr.__pool.get(),_=1/0,c=1/0,u=-1/0,d=-1/0,m=0;m<a;){var p=m++;0>(o=s?4*e.get(p):4*p)||(l.setTo(0,0,t.get(o+2),t.get(o+3)),0>=l.width||0>=l.height||(n&&r?(o=6*p,h.setTo(i.get(o),i.get(o+1),i.get(o+2),i.get(o+3),i.get(o+4),i.get(o+5))):n?(o=4*p,h.setTo(i.get(o),i.get(o+1),i.get(o+2),i.get(o+3),l.x,l.y)):r?(o=2*p,h.tx=i.get(o),h.ty=i.get(o+1)):(h.tx=l.x,h.ty=l.y),l.__transform(l,h),_>l.x&&(_=l.x),c>l.y&&(c=l.y),u<l.get_right()&&(u=l.get_right()),d<l.get_bottom()&&(d=l.get_bottom())))}this.__inflateBounds(_,c),this.__inflateBounds(u,d),this.__commands.drawQuads(t,e,i),this.set___dirty(!0),this.__visible=!0,je.__pool.release(l),yr.__pool.release(h)}}},drawRect:function(t,e,i,s){if(0!=i||0!=s){var n=0>i?-1:1,r=0>s?-1:1;this.__inflateBounds(t-this.__strokePadding*n,e-this.__strokePadding*r),this.__inflateBounds(t+i+this.__strokePadding*n,e+s+this.__strokePadding*r),this.__commands.drawRect(t,e,i,s),this.set___dirty(!0)}},drawRoundRect:function(t,e,i,s,n,r){if(0!=i||0!=s){var a=0>i?-1:1,o=0>s?-1:1;this.__inflateBounds(t-this.__strokePadding*a,e-this.__strokePadding*o),this.__inflateBounds(t+i+this.__strokePadding*a,e+s+this.__strokePadding*o),this.__commands.drawRoundRect(t,e,i,s,n,r),this.set___dirty(!0)}},drawRoundRectComplex:function(t,e,i,s,n,r,a,o){if(!(0>=i||0>=s)){this.__inflateBounds(t-this.__strokePadding,e-this.__strokePadding),this.__inflateBounds(t+i+this.__strokePadding,e+s+this.__strokePadding);var l=t+i,h=e+s;n<(i=i<s?2*i:2*s)||(n=i),r<i||(r=i),a<i||(a=i),o<i||(o=i);var _=o*(i=1-Math.sin(Math.PI/180*45)),c=o*(s=1-Math.tan(Math.PI/180*22.5));this.moveTo(l,h-o),this.curveTo(l,h-c,l-_,h-_),this.curveTo(l-c,h,l-o,h),_=a*i,c=a*s,this.lineTo(t+a,h),this.curveTo(t+c,h,t+_,h-_),this.curveTo(t,h-c,t,h-a),_=n*i,c=n*s,this.lineTo(t,e+n),this.curveTo(t,e+c,t+_,e+_),this.curveTo(t+c,e,t+n,e),_=r*i,c=r*s,this.lineTo(l-r,e),this.curveTo(l-c,e,l-_,e+_),this.curveTo(l,e+c,l,e+r),this.lineTo(l,h-o),this.set___dirty(!0)}},drawTriangles:function(t,e,i,s){if(null==s&&(s=1),null!=t&&0!=t.get_length()){var n=t.get_length()/2|0;if(null==e){if(0!=n%3)throw new id("Not enough vertices to close a triangle.");e=M.toIntVector(null);for(var r=0,a=n;r<a;){var o=r++;e.push(o)}}null==s&&(s=1);var l=1/0,h=1/0,_=-1/0,c=-1/0;for(r=0,a=n;r<a;)o=r++,l>(n=t.get(2*o))&&(l=n),h>(o=t.get(2*o+1))&&(h=o),_<n&&(_=n),c<o&&(c=o);this.__inflateBounds(l,h),this.__inflateBounds(_,c),this.__commands.drawTriangles(t,e,i,s),this.set___dirty(!0),this.__visible=!0}},endFill:function(){this.__commands.endFill()},lineBitmapStyle:function(t,e,i,s){null==s&&(s=!1),null==i&&(i=!0),this.__commands.lineBitmapStyle(t,null!=e?e.clone():null,i,s)},lineGradientStyle:function(t,e,i,s,n,r,a,o){null==o&&(o=0),null==a&&(a=1),null==r&&(r=0),this.__commands.lineGradientStyle(t,e,i,s,n,r,a,o)},lineStyle:function(t,e,i,s,n,r,a,o){null==o&&(o=3),null==n&&(n=2),null==s&&(s=!1),null==i&&(i=1),null==e&&(e=0),null!=t&&(1==a?t>this.__strokePadding&&(this.__strokePadding=Math.ceil(t)):t/2>this.__strokePadding&&(this.__strokePadding=Math.ceil(t/2))),this.__commands.lineStyle(t,e,i,s,n,r,a,o),null!=t&&(this.__visible=!0)},lineTo:function(t,e){isFinite(t)&&isFinite(e)&&(this.__inflateBounds(this.__positionX-this.__strokePadding,this.__positionY-this.__strokePadding),this.__inflateBounds(this.__positionX+this.__strokePadding,this.__positionY+this.__strokePadding),this.__positionX=t,this.__positionY=e,this.__inflateBounds(this.__positionX-this.__strokePadding,this.__positionY-this.__strokePadding),this.__inflateBounds(this.__positionX+2*this.__strokePadding,this.__positionY+this.__strokePadding),this.__commands.lineTo(t,e),this.set___dirty(!0))},moveTo:function(t,e){this.__positionX=t,this.__positionY=e,this.__commands.moveTo(t,e)},overrideBlendMode:function(t){null==t&&(t=10),this.__commands.overrideBlendMode(t)},readGraphicsData:function(t){null==t&&(t=!0);var e=M.toObjectVector(null);return this.__owner.__readGraphicsData(e,t),e},__calculateBezierCubicPoint:function(t,e,i,s,n){var r=1-t;return e*r*r*r+3*i*t*r*r+3*s*r*t*t+n*t*t*t},__calculateBezierQuadPoint:function(t,e,i,s){var n=1-t;return n*n*e+2*n*t*i+t*t*s},__cleanup:function(){null!=this.__bounds&&null!=this.__canvas&&(this.set___dirty(!0),this.__transformDirty=!0),this.__context=this.__canvas=this.__bitmap=null},__getBounds:function(t,e){if(null!=this.__bounds){var i=je.__pool.get();this.__bounds.__transform(i,e),t.__expand(i.x,i.y,i.width,i.height),je.__pool.release(i)}},__hitTest:function(t,e,i,s){if(null==this.__bounds)return!1;var n=s.a*s.d-s.b*s.c,r=0==n?-s.tx:1/n*(s.c*(s.ty-e)+s.d*(t-s.tx));return t=0==(n=s.a*s.d-s.b*s.c)?-s.ty:1/n*(s.a*(e-s.ty)+s.b*(s.tx-t)),!!(r>this.__bounds.x&&t>this.__bounds.y&&this.__bounds.contains(r,t))&&(!i||Zc.hitTest(this,r,t))},__inflateBounds:function(t,e){null==this.__bounds?(this.__bounds=new je(t,e,0,0),this.__transformDirty=!0):(t<this.__bounds.x&&(this.__bounds.width+=this.__bounds.x-t,this.__bounds.x=t,this.__transformDirty=!0),e<this.__bounds.y&&(this.__bounds.height+=this.__bounds.y-e,this.__bounds.y=e,this.__transformDirty=!0),t>this.__bounds.x+this.__bounds.width&&(this.__bounds.width=t-this.__bounds.x),e>this.__bounds.y+this.__bounds.height&&(this.__bounds.height=e-this.__bounds.y))},__readGraphicsData:function(t){for(var e,i=new Su(this.__commands),s=null,n=this.__commands.types,r=0,a=this.__commands.get_length();r<a;){switch((e=n[e=r++])._hx_index){case 4:case 5:case 6:case 7:case 9:case 10:case 17:case 18:null==s&&(s=new ic);break;default:null!=s&&(t.push(s),s=null)}switch(e._hx_index){case 0:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=Ru.BEGIN_BITMAP_FILL,e=i,t.push(new q_(e.buffer.o[e.oPos],e.buffer.o[e.oPos+1],e.buffer.b[e.bPos],e.buffer.b[e.bPos+1]));break;case 1:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=Ru.BEGIN_FILL,e=i,t.push(new ac(e.buffer.i[e.iPos],1));break;case 2:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=Ru.BEGIN_GRADIENT_FILL,e=i,t.push(new tc(e.buffer.o[e.oPos],e.buffer.ii[e.iiPos],e.buffer.ff[e.ffPos],e.buffer.ii[e.iiPos+1],e.buffer.o[e.oPos+1],e.buffer.o[e.oPos+2],e.buffer.o[e.oPos+3],e.buffer.f[e.fPos]));break;case 3:break;case 4:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=Ru.CUBIC_CURVE_TO,e=i,s.cubicCurveTo(e.buffer.f[e.fPos],e.buffer.f[e.fPos+1],e.buffer.f[e.fPos+2],e.buffer.f[e.fPos+3],e.buffer.f[e.fPos+4],e.buffer.f[e.fPos+5]);break;case 5:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=Ru.CURVE_TO,e=i,s.curveTo(e.buffer.f[e.fPos],e.buffer.f[e.fPos+1],e.buffer.f[e.fPos+2],e.buffer.f[e.fPos+3]);break;case 6:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=Ru.DRAW_CIRCLE,e=i,s.__drawCircle(e.buffer.f[e.fPos],e.buffer.f[e.fPos+1],e.buffer.f[e.fPos+2]);break;case 7:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=Ru.DRAW_ELLIPSE,e=i,s.__drawEllipse(e.buffer.f[e.fPos],e.buffer.f[e.fPos+1],e.buffer.f[e.fPos+2],e.buffer.f[e.fPos+3]);break;case 9:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=Ru.DRAW_RECT,e=i,s.__drawRect(e.buffer.f[e.fPos],e.buffer.f[e.fPos+1],e.buffer.f[e.fPos+2],e.buffer.f[e.fPos+3]);break;case 10:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=Ru.DRAW_ROUND_RECT,e=i,s.__drawRoundRect(e.buffer.f[e.fPos],e.buffer.f[e.fPos+1],e.buffer.f[e.fPos+2],e.buffer.f[e.fPos+3],e.buffer.f[e.fPos+4],null!=e.buffer.o[e.oPos]?e.buffer.o[e.oPos]:e.buffer.f[e.fPos+4]);break;case 13:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=Ru.END_FILL,t.push(new $_);break;case 14:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=Ru.LINE_BITMAP_STYLE,s=null;break;case 15:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=Ru.LINE_GRADIENT_STYLE;break;case 16:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=Ru.LINE_STYLE;var o=i;(e=new lc(o.buffer.o[o.oPos],o.buffer.b[o.bPos],o.buffer.o[o.oPos+1],o.buffer.o[o.oPos+2],o.buffer.o[o.oPos+3],o.buffer.f[o.fPos+1])).fill=new ac(o.buffer.i[o.iPos],o.buffer.f[o.fPos]),t.push(e);break;case 17:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=Ru.LINE_TO,e=i,s.lineTo(e.buffer.f[e.fPos],e.buffer.f[e.fPos+1]);break;case 18:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=Ru.MOVE_TO,e=i,s.moveTo(e.buffer.f[e.fPos],e.buffer.f[e.fPos+1]);break;default:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=e}}null!=s&&t.push(s)},__update:function(t,e){if(!(null==this.__bounds||0>=this.__bounds.width||0>=this.__bounds.height)){var i=this.__owner.__renderTransform;if(null!=i){var s=e,n=e;if(null==this.__owner.__worldScale9Grid&&(s=0==i.b?Math.abs(i.a):Math.sqrt(i.a*i.a+i.b*i.b),n=0==i.c?Math.abs(i.d):Math.sqrt(i.c*i.c+i.d*i.d),null!=t&&(s=0==t.b?s*t.a:s*Math.sqrt(t.a*t.a+t.b*t.b),n=0==t.c?n*t.d:n*Math.sqrt(t.c*t.c+t.d*t.d))),t=this.__bounds.width*s,n*=this.__bounds.height,1>t||1>n)(1<=this.__width||1<=this.__height)&&this.set___dirty(!0),this.__height=this.__width=0;else{null!=J_.maxTextureWidth&&t>J_.maxTextureWidth&&(t=J_.maxTextureWidth),null!=J_.maxTextureWidth&&n>J_.maxTextureHeight&&(n=J_.maxTextureHeight),null!=this.__owner.__worldScale9Grid?(this.__renderTransform.a=e,this.__renderTransform.d=e,s=1/e,e=1/e):(this.__renderTransform.a=t/this.__bounds.width,this.__renderTransform.d=n/this.__bounds.height,s=1/this.__renderTransform.a,e=1/this.__renderTransform.d),this.__worldTransform.a=s*i.a,this.__worldTransform.b=s*i.b,this.__worldTransform.c=e*i.c,this.__worldTransform.d=e*i.d,s=this.__bounds.x;var r=this.__bounds.y;e=s*i.a+r*i.c+i.tx,i=s*i.b+r*i.d+i.ty,this.__worldTransform.tx=Math.round(e),this.__worldTransform.ty=Math.round(i),r=(s=this.__worldTransform).a*s.d-s.b*s.c,this.__renderTransform.tx=0==r?-s.tx:1/r*(s.c*(s.ty-i)+s.d*(e-s.tx)),r=(s=this.__worldTransform).a*s.d-s.b*s.c,this.__renderTransform.ty=0==r?-s.ty:1/r*(s.a*(i-s.ty)+s.b*(s.tx-e)),t=Math.ceil(t+1),n=Math.ceil(n+1),t==this.__width&&n==this.__height||this.set___dirty(!0),this.__width=t,this.__height=n}}}},set___dirty:function(t){if(t&&null!=this.__owner){var e=this.__owner;e.__renderDirty||(e.__renderDirty=!0,e.__setParentRenderDirty())}return t&&(this.__hardwareDirty=this.__softwareDirty=!0),this.__dirty=t},__class__:J_,__properties__:{set___dirty:"set___dirty"}};var Z_=function(){};r["openfl.display.IGraphicsFill"]=Z_,Z_.__name__="openfl.display.IGraphicsFill",Z_.__isInterface__=!0,Z_.prototype={__graphicsFillType:null,__class__:Z_};var Q_=function(){};r["openfl.display.IGraphicsData"]=Q_,Q_.__name__="openfl.display.IGraphicsData",Q_.__isInterface__=!0,Q_.prototype={__graphicsDataType:null,__class__:Q_};var q_=function(t,e,i,s){null==s&&(s=!1),null==i&&(i=!0),this.bitmapData=t,this.matrix=e,this.repeat=i,this.smooth=s,this.__graphicsDataType=4,this.__graphicsFillType=2};r["openfl.display.GraphicsBitmapFill"]=q_,q_.__name__="openfl.display.GraphicsBitmapFill",q_.__interfaces__=[Z_,Q_],q_.prototype={bitmapData:null,matrix:null,repeat:null,smooth:null,__graphicsDataType:null,__graphicsFillType:null,__class__:q_};var $_=function(){this.__graphicsDataType=5,this.__graphicsFillType=3};r["openfl.display.GraphicsEndFill"]=$_,$_.__name__="openfl.display.GraphicsEndFill",$_.__interfaces__=[Z_,Q_],$_.prototype={__graphicsDataType:null,__graphicsFillType:null,__class__:$_};var tc=function(t,e,i,s,n,r,a,o){null==o&&(o=0),null==t&&(t=0),null==r&&(r=0),null==a&&(a=1),this.type=t,this.colors=e,this.alphas=i,this.ratios=s,this.matrix=n,this.spreadMethod=r,this.interpolationMethod=a,this.focalPointRatio=o,this.__graphicsDataType=2,this.__graphicsFillType=1};r["openfl.display.GraphicsGradientFill"]=tc,tc.__name__="openfl.display.GraphicsGradientFill",tc.__interfaces__=[Z_,Q_],tc.prototype={alphas:null,colors:null,focalPointRatio:null,interpolationMethod:null,matrix:null,ratios:null,spreadMethod:null,type:null,__graphicsDataType:null,__graphicsFillType:null,__class__:tc};var ec=function(){};r["openfl.display.IGraphicsPath"]=ec,ec.__name__="openfl.display.IGraphicsPath",ec.__isInterface__=!0;var ic=function(t,e,i){null==i&&(i=0),this.commands=t,this.data=e,this.winding=i,this.__graphicsDataType=3};r["openfl.display.GraphicsPath"]=ic,ic.__name__="openfl.display.GraphicsPath",ic.__interfaces__=[ec,Q_],ic.prototype={commands:null,data:null,winding:null,__graphicsDataType:null,cubicCurveTo:function(t,e,i,s,n,r){null==this.commands&&(this.commands=M.toIntVector(null)),null==this.data&&(this.data=M.toFloatVector(null)),this.commands.push(6),this.data.push(t),this.data.push(e),this.data.push(i),this.data.push(s),this.data.push(n),this.data.push(r)},curveTo:function(t,e,i,s){null==this.commands&&(this.commands=M.toIntVector(null)),null==this.data&&(this.data=M.toFloatVector(null)),this.commands.push(3),this.data.push(t),this.data.push(e),this.data.push(i),this.data.push(s)},lineTo:function(t,e){null==this.commands&&(this.commands=M.toIntVector(null)),null==this.data&&(this.data=M.toFloatVector(null)),this.commands.push(2),this.data.push(t),this.data.push(e)},moveTo:function(t,e){null==this.commands&&(this.commands=M.toIntVector(null)),null==this.data&&(this.data=M.toFloatVector(null)),this.commands.push(1),this.data.push(t),this.data.push(e)},wideLineTo:function(t,e){null==this.commands&&(this.commands=M.toIntVector(null)),null==this.data&&(this.data=M.toFloatVector(null)),this.commands.push(2),this.data.push(t),this.data.push(e)},wideMoveTo:function(t,e){null==this.commands&&(this.commands=M.toIntVector(null)),null==this.data&&(this.data=M.toFloatVector(null)),this.commands.push(1),this.data.push(t),this.data.push(e)},__drawCircle:function(t,e,i){this.__drawRoundRect(t-i,e-i,2*i,2*i,2*i,2*i)},__drawEllipse:function(t,e,i,s){this.__drawRoundRect(t,e,i,s,i,s)},__drawRect:function(t,e,i,s){this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+s),this.lineTo(t,e+s),this.lineTo(t,e)},__drawRoundRect:function(t,e,i,s,n,r){(n*=.5)>i/2&&(n=i/2),(r*=.5)>s/2&&(r=s/2),i=t+i,s=e+s;var a=.7071067811865476*n-n,o=.41421356237309503*n-n,l=.7071067811865476*r-r,h=.41421356237309503*r-r;this.moveTo(i,s-r),this.curveTo(i,s+h,i+a,s+l),this.curveTo(i+o,s,i-n,s),this.lineTo(t+n,s),this.curveTo(t-o,s,t-a,s+l),this.curveTo(t,s+h,t,s-r),this.lineTo(t,e+r),this.curveTo(t,e-h,t-a,e-l),this.curveTo(t-o,e,t+n,e),this.lineTo(i-n,e),this.curveTo(i+o,e,i+a,e-l),this.curveTo(i,e-h,i,e+r),this.lineTo(i,s-r)},__class__:ic};var sc=function(t,e,i){this.rects=t,this.indices=e,this.transforms=i,this.__graphicsDataType=6};r["openfl.display.GraphicsQuadPath"]=sc,sc.__name__="openfl.display.GraphicsQuadPath",sc.__interfaces__=[ec,Q_],sc.prototype={indices:null,rects:null,transforms:null,__graphicsDataType:null,__class__:sc};var nc=function(t){null==this.__glFragmentSource&&(this.__glFragmentSource="varying float openfl_Alphav;\n\t\tvarying vec4 openfl_ColorMultiplierv;\n\t\tvarying vec4 openfl_ColorOffsetv;\n\t\tvarying vec2 openfl_TextureCoordv;\n\n\t\tuniform bool openfl_HasColorTransform;\n\t\tuniform vec2 openfl_TextureSize;\n\t\tuniform sampler2D bitmap;\n\n\t\tvoid main(void) {\n\n\t\t\tvec4 color = texture2D (bitmap, openfl_TextureCoordv);\n\n\t\tif (color.a == 0.0) {\n\n\t\t\tgl_FragColor = vec4 (0.0, 0.0, 0.0, 0.0);\n\n\t\t} else if (openfl_HasColorTransform) {\n\n\t\t\tcolor = vec4 (color.rgb / color.a, color.a);\n\n\t\t\tmat4 colorMultiplier = mat4 (0);\n\t\t\tcolorMultiplier[0][0] = openfl_ColorMultiplierv.x;\n\t\t\tcolorMultiplier[1][1] = openfl_ColorMultiplierv.y;\n\t\t\tcolorMultiplier[2][2] = openfl_ColorMultiplierv.z;\n\t\t\tcolorMultiplier[3][3] = 1.0; // openfl_ColorMultiplierv.w;\n\n\t\t\tcolor = clamp (openfl_ColorOffsetv + (color * colorMultiplier), 0.0, 1.0);\n\n\t\t\tif (color.a > 0.0) {\n\n\t\t\t\tgl_FragColor = vec4 (color.rgb * color.a * openfl_Alphav, color.a * openfl_Alphav);\n\n\t\t\t} else {\n\n\t\t\t\tgl_FragColor = vec4 (0.0, 0.0, 0.0, 0.0);\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tgl_FragColor = color * openfl_Alphav;\n\n\t\t}\n\n\t\t}"),null==this.__glVertexSource&&(this.__glVertexSource="attribute float openfl_Alpha;\n\t\tattribute vec4 openfl_ColorMultiplier;\n\t\tattribute vec4 openfl_ColorOffset;\n\t\tattribute vec4 openfl_Position;\n\t\tattribute vec2 openfl_TextureCoord;\n\n\t\tvarying float openfl_Alphav;\n\t\tvarying vec4 openfl_ColorMultiplierv;\n\t\tvarying vec4 openfl_ColorOffsetv;\n\t\tvarying vec2 openfl_TextureCoordv;\n\n\t\tuniform mat4 openfl_Matrix;\n\t\tuniform bool openfl_HasColorTransform;\n\t\tuniform vec2 openfl_TextureSize;\n\n\t\tvoid main(void) {\n\n\t\t\topenfl_Alphav = openfl_Alpha;\n\t\topenfl_TextureCoordv = openfl_TextureCoord;\n\n\t\tif (openfl_HasColorTransform) {\n\n\t\t\topenfl_ColorMultiplierv = openfl_ColorMultiplier;\n\t\t\topenfl_ColorOffsetv = openfl_ColorOffset / 255.0;\n\n\t\t}\n\n\t\tgl_Position = openfl_Matrix * openfl_Position;\n\n\t\t}"),X_.call(this,t),this.__isGenerated=!0,this.__initGL()};r["openfl.display.GraphicsShader"]=nc,nc.__name__="openfl.display.GraphicsShader",nc.__super__=X_,nc.prototype=i(X_.prototype,{openfl_Alpha:null,openfl_ColorMultiplier:null,openfl_ColorOffset:null,openfl_Position:null,openfl_TextureCoord:null,openfl_Matrix:null,openfl_HasColorTransform:null,openfl_TextureSize:null,bitmap:null,__class__:nc});var rc=function(t,e){this.shader=t,this.matrix=e,this.__graphicsDataType=8,this.__graphicsFillType=4};r["openfl.display.GraphicsShaderFill"]=rc,rc.__name__="openfl.display.GraphicsShaderFill",rc.__interfaces__=[Z_,Q_],rc.prototype={matrix:null,shader:null,__graphicsDataType:null,__graphicsFillType:null,__class__:rc};var ac=function(t,e){null==e&&(e=1),null==t&&(t=0),this.alpha=e,this.color=t,this.__graphicsDataType=1,this.__graphicsFillType=0};r["openfl.display.GraphicsSolidFill"]=ac,ac.__name__="openfl.display.GraphicsSolidFill",ac.__interfaces__=[Z_,Q_],ac.prototype={alpha:null,color:null,__graphicsDataType:null,__graphicsFillType:null,__class__:ac};var oc=function(){};r["openfl.display.IGraphicsStroke"]=oc,oc.__name__="openfl.display.IGraphicsStroke",oc.__isInterface__=!0;var lc=function(t,e,i,s,n,r,a){null==r&&(r=3),null==n&&(n=2),null==s&&(s=0),null==i&&(i=2),null==e&&(e=!1),null==t&&(t=NaN),this.caps=s,this.fill=a,this.joints=n,this.miterLimit=r,this.pixelHinting=e,this.scaleMode=i,this.thickness=t,this.__graphicsDataType=0};r["openfl.display.GraphicsStroke"]=lc,lc.__name__="openfl.display.GraphicsStroke",lc.__interfaces__=[oc,Q_],lc.prototype={caps:null,fill:null,joints:null,miterLimit:null,pixelHinting:null,scaleMode:null,thickness:null,__graphicsDataType:null,__class__:lc};var hc=function(t,e,i,s){null==s&&(s=1),this.vertices=t,this.indices=e,this.uvtData=i,this.culling=s,this.__graphicsDataType=7};r["openfl.display.GraphicsTrianglePath"]=hc,hc.__name__="openfl.display.GraphicsTrianglePath",hc.__interfaces__=[ec,Q_],hc.prototype={culling:null,indices:null,uvtData:null,vertices:null,__graphicsDataType:null,__class__:hc};var _c=function(){};r["openfl.display.ITileContainer"]=_c,_c.__name__="openfl.display.ITileContainer",_c.__isInterface__=!0,_c.prototype={get_numTiles:null,addTile:null,addTileAt:null,addTiles:null,contains:null,getTileAt:null,getTileIndex:null,removeTile:null,removeTileAt:null,removeTiles:null,setTileIndex:null,sortTiles:null,swapTiles:null,swapTilesAt:null,__class__:_c,__properties__:{get_numTiles:"get_numTiles"}};var cc=function(t){null==t&&(t=80),this.quality=t};r["openfl.display.JPEGEncoderOptions"]=cc,cc.__name__="openfl.display.JPEGEncoderOptions",cc.prototype={quality:null,__class__:cc};var uc={fromInt:function(t){return t},fromString:function(t){switch(t){case"bevel":return 0;case"miter":return 1;case"round":return 2;default:return null}},toInt:function(t){return t},toString:function(t){switch(t){case 0:return"bevel";case 1:return"miter";case 2:return"round";default:return null}}},dc=function(){B.call(this),this.__drawableType=4,this.contentLoaderInfo=mc.create(this),this.uncaughtErrorEvents=this.contentLoaderInfo.uncaughtErrorEvents,this.__unloaded=!0};r["openfl.display.Loader"]=dc,dc.__name__="openfl.display.Loader",dc.__super__=B,dc.prototype=i(B.prototype,{content:null,contentLoaderInfo:null,uncaughtErrorEvents:null,__library:null,__path:null,__unloaded:null,addChild:function(t){throw new ed("Error #2069: The Loader class does not implement this method.",2069)},addChildAt:function(t,e){throw new ed("Error #2069: The Loader class does not implement this method.",2069)},close:function(){Xm.notImplemented({fileName:"openfl/display/Loader.hx",lineNumber:228,className:"openfl.display.Loader",methodName:"close"})},load:function(t,e){if(this.unload(),e=new _i("open"),this.contentLoaderInfo.dispatchEvent(e),this.contentLoaderInfo.loaderURL=I_.get_current().get_loaderInfo().url,this.contentLoaderInfo.url=t.url,this.__unloaded=!1,null==t.contentType||""==t.contentType){e="",this.__path=t.url;var i=this.__path.indexOf("?");for(-1<i&&(this.__path=this.__path.substring(0,i));v.endsWith(this.__path,"/");)this.__path=this.__path.substring(0,this.__path.length-1);switch(v.endsWith(this.__path,".bundle")&&(this.__path+="/library.json",t.url=-1<i?this.__path+t.url.substring(i):this.__path),-1<(i=this.__path.lastIndexOf("."))&&(e=this.__path.substring(i+1)),e){case"gif":e="image/gif";break;case"jpeg":case"jpg":e="image/jpeg";break;case"js":e="application/javascript";break;case"json":e="application/json";break;case"png":e="image/png";break;case"swf":e="application/x-shockwave-flash";break;default:e="application/x-www-form-urlencoded"}this.contentLoaderInfo.contentType=e}else this.contentLoaderInfo.contentType=t.contentType;-1<this.contentLoaderInfo.contentType.indexOf("image/")&&"GET"==t.method&&(null==t.requestHeaders||0==t.requestHeaders.length)&&null==t.userAgent?O_.loadFromFile(t.url).onComplete(n(this,this.BitmapData_onLoad)).onError(n(this,this.BitmapData_onError)).onProgress(n(this,this.BitmapData_onProgress)):((e=new Yd).dataFormat=0,(-1<this.contentLoaderInfo.contentType.indexOf("/json")||-1<this.contentLoaderInfo.contentType.indexOf("/javascript")||-1<this.contentLoaderInfo.contentType.indexOf("/ecmascript"))&&(e.dataFormat=1),e.addEventListener("complete",n(this,this.loader_onComplete)),e.addEventListener("ioError",n(this,this.loader_onError)),e.addEventListener("progress",n(this,this.loader_onProgress)),e.load(t))},loadBytes:function(t,e){O_.loadFromBytes(t).onComplete(n(this,this.BitmapData_onLoad)).onError(n(this,this.BitmapData_onError))},removeChild:function(t){if(t==this.content)return B.prototype.removeChild.call(this,this.content);throw new ed("Error #2069: The Loader class does not implement this method.",2069)},removeChildAt:function(t){throw new ed("Error #2069: The Loader class does not implement this method.",2069)},setChildIndex:function(t,e){throw new ed("Error #2069: The Loader class does not implement this method.",2069)},unload:function(){this.__unloaded||(null!=this.content&&this.content.parent==this&&B.prototype.removeChild.call(this,this.content),null!=this.__library&&(km.unloadLibrary(this.contentLoaderInfo.url),this.__library=null),this.content=null,this.contentLoaderInfo.url=null,this.contentLoaderInfo.contentType=null,this.contentLoaderInfo.content=null,this.contentLoaderInfo.bytesLoaded=0,this.contentLoaderInfo.bytesTotal=0,this.contentLoaderInfo.width=0,this.contentLoaderInfo.height=0,this.__unloaded=!0,this.contentLoaderInfo.dispatchEvent(new _i("unload")))},unloadAndStop:function(t){null!=this.content&&this.content.__stopAllMovieClips(),t=0;for(var e=this.get_numChildren();t<e;){var i=t++;this.getChildAt(i).__stopAllMovieClips()}this.unload()},__dispatchError:function(t){var e=new yd("ioError");e.text=t,this.contentLoaderInfo.dispatchEvent(e)},__setContent:function(t,e,i){this.content=t,this.contentLoaderInfo.content=t,this.contentLoaderInfo.width=e,this.contentLoaderInfo.height=i,null!=t&&B.prototype.addChildAt.call(this,t,0)},BitmapData_onError:function(t){this.__dispatchError(g.string(t))},BitmapData_onLoad:function(t){null==t?this.__dispatchError("Unknown error"):(this.__setContent(new di(t),t.width,t.height),this.contentLoaderInfo.dispatchEvent(new _i("complete")))},BitmapData_onProgress:function(t,e){var i=new wd("progress");i.bytesLoaded=t,i.bytesTotal=e,this.contentLoaderInfo.dispatchEvent(i)},loader_onComplete:function(t){var e=this;if(t=t.target,null!=this.contentLoaderInfo.contentType&&-1<this.contentLoaderInfo.contentType.indexOf("/json")){var i=n_.parse(t.data,so.directory(this.__path));if(null==i)this.__dispatchError("Cannot parse asset manifest");else{var s=s_.fromManifest(i);null==s?this.__dispatchError("Cannot open library"):s instanceof Em&&s.load().onComplete(function(t){e.__library=s,km.registerLibrary(e.contentLoaderInfo.url,e.__library),null==i.name||km.hasLibrary(i.name)||km.registerLibrary(i.name,e.__library),t=e.__library.getMovieClip(""),e.__setContent(t,0|t.get_width(),0|t.get_height()),e.contentLoaderInfo.dispatchEvent(new _i("complete"))}).onError(function(t){e.__dispatchError(t)})}}else null!=this.contentLoaderInfo.contentType&&(-1<this.contentLoaderInfo.contentType.indexOf("/javascript")||-1<this.contentLoaderInfo.contentType.indexOf("/ecmascript"))?(this.__setContent(new D,0,0),eval("(function () {"+g.string(t.data)+"})()"),this.contentLoaderInfo.dispatchEvent(new _i("complete"))):(this.contentLoaderInfo.bytes=t.data,O_.loadFromBytes(t.data).onComplete(n(this,this.BitmapData_onLoad)).onError(n(this,this.BitmapData_onError)))},loader_onError:function(t){t.target=this.contentLoaderInfo,this.contentLoaderInfo.dispatchEvent(t)},loader_onProgress:function(t){t.target=this.contentLoaderInfo,this.contentLoaderInfo.dispatchEvent(t)},__class__:dc});var mc=function(){A.call(this),this.applicationDomain=Qd.currentDomain,this.bytesTotal=this.bytesLoaded=0,this.childAllowsParent=!0,this.parameters={}};r["openfl.display.LoaderInfo"]=mc,mc.__name__="openfl.display.LoaderInfo",mc.create=function(t){var e=new mc;return e.uncaughtErrorEvents=new Md,null!=t?e.loader=t:e.url=mc.__rootURL,e},mc.__super__=A,mc.prototype=i(A.prototype,{applicationDomain:null,bytes:null,bytesLoaded:null,bytesTotal:null,childAllowsParent:null,content:null,contentType:null,frameRate:null,height:null,loader:null,loaderURL:null,parameters:null,parentAllowsChild:null,sameDomain:null,sharedEvents:null,uncaughtErrorEvents:null,url:null,width:null,__completed:null,__complete:function(){this.__completed||(this.bytesLoaded<this.bytesTotal&&(this.bytesLoaded=this.bytesTotal),this.__update(this.bytesLoaded,this.bytesTotal),this.__completed=!0,this.dispatchEvent(new _i("complete")))},__update:function(t,e){this.bytesLoaded=t,this.bytesTotal=e,this.dispatchEvent(new wd("progress",!1,!1,t,e))},__class__:mc});var pc=function(){D.call(this),this.__enabled=!0};r["openfl.display.MovieClip"]=pc,pc.__name__="openfl.display.MovieClip",pc.fromTimeline=function(t){var e=new pc;return e.attachTimeline(t),e},pc.__super__=D,pc.prototype=i(D.prototype,{__enabled:null,__hasDown:null,__hasOver:null,__hasUp:null,__mouseIsDown:null,__scene:null,__timeline:null,addFrameScript:function(t,e){null!=this.__timeline&&this.__timeline.__addFrameScript(t,e)},attachTimeline:function(t){this.__timeline=t,null!=t&&(t.__attachMovieClip(this),this.play())},gotoAndPlay:function(t,e){null!=this.__timeline&&this.__timeline.__gotoAndPlay(t,e)},gotoAndStop:function(t,e){null!=this.__timeline&&this.__timeline.__gotoAndStop(t,e)},nextFrame:function(){null!=this.__timeline&&this.__timeline.__nextFrame()},nextScene:function(){null!=this.__timeline&&this.__timeline.__nextScene()},play:function(){null!=this.__timeline&&this.__timeline.__play()},prevFrame:function(){null!=this.__timeline&&this.__timeline.__prevFrame()},prevScene:function(){null!=this.__timeline&&this.__timeline.__prevScene()},stop:function(){null!=this.__timeline&&this.__timeline.__stop()},__enterFrame:function(t){null!=this.__timeline&&this.__timeline.__enterFrame(t);for(var e=0,i=this.__children;e<i.length;){var s=i[e];++e,s.__enterFrame(t)}},__stopAllMovieClips:function(){D.prototype.__stopAllMovieClips.call(this),this.stop()},__tabTest:function(t){this.__enabled&&D.prototype.__tabTest.call(this,t)},__onMouseDown:function(t){this.__enabled&&this.__hasDown&&this.gotoAndStop("_down"),this.__mouseIsDown=!0,null!=this.stage&&this.stage.addEventListener("mouseUp",n(this,this.__onMouseUp),!0)},__onMouseUp:function(t){this.__mouseIsDown=!1,null!=this.stage&&this.stage.removeEventListener("mouseUp",n(this,this.__onMouseUp)),this.__buttonMode&&(zm.__eq(t.target,this)&&this.__enabled&&this.__hasOver?this.gotoAndStop("_over"):this.__enabled&&this.__hasUp&&this.gotoAndStop("_up"))},__onRollOut:function(t){this.__enabled&&(this.__mouseIsDown&&this.__hasOver?this.gotoAndStop("_over"):this.__hasUp&&this.gotoAndStop("_up"))},__onRollOver:function(t){this.__enabled&&this.__hasOver&&this.gotoAndStop("_over")},set_buttonMode:function(t){if(this.__buttonMode!=t){if(t){this.__hasUp=this.__hasOver=this.__hasDown=!1;for(var e=0,i=this.get_currentLabels();e<i.length;){var s=i[e];switch(++e,s.name){case"_down":this.__hasDown=!0;break;case"_over":this.__hasOver=!0;break;case"_up":this.__hasUp=!0}}(this.__hasDown||this.__hasOver||this.__hasUp)&&(this.addEventListener("rollOver",n(this,this.__onRollOver)),this.addEventListener("rollOut",n(this,this.__onRollOut)),this.addEventListener("mouseDown",n(this,this.__onMouseDown)))}else this.removeEventListener("rollOver",n(this,this.__onRollOver)),this.removeEventListener("rollOut",n(this,this.__onRollOut)),this.removeEventListener("mouseDown",n(this,this.__onMouseDown));this.__buttonMode=t}return t},get_currentFrame:function(){return null!=this.__timeline?this.__timeline.__currentFrame:1},get_currentFrameLabel:function(){return null!=this.__timeline?this.__timeline.__currentFrameLabel:null},get_currentLabel:function(){return null!=this.__timeline?this.__timeline.__currentLabel:null},get_currentLabels:function(){return null!=this.__timeline?this.__timeline.__currentLabels.slice():[]},get_currentScene:function(){return null!=this.__timeline?this.__timeline.__currentScene:(null==this.__scene&&(this.__scene=new vc("",[],1)),this.__scene)},get_enabled:function(){return this.__enabled},set_enabled:function(t){return this.__enabled=t},get_framesLoaded:function(){return null!=this.__timeline?this.__timeline.__framesLoaded:1},get_isPlaying:function(){return null!=this.__timeline&&this.__timeline.__isPlaying},get_scenes:function(){return null!=this.__timeline?this.__timeline.scenes.slice():[this.get_currentScene()]},get_totalFrames:function(){return null!=this.__timeline?this.__timeline.__totalFrames:1},__class__:pc,__properties__:i(D.prototype.__properties__,{get_totalFrames:"get_totalFrames",get_scenes:"get_scenes",get_isPlaying:"get_isPlaying",get_framesLoaded:"get_framesLoaded",set_enabled:"set_enabled",get_enabled:"get_enabled",get_currentScene:"get_currentScene",get_currentLabels:"get_currentLabels",get_currentLabel:"get_currentLabel",get_currentFrameLabel:"get_currentFrameLabel",get_currentFrame:"get_currentFrame"})});var fc=function(t,e){V_.call(this),this.__context3D=t,this.__context=t.__context,this.__gl=this.gl=t.__context.webgl,this.__defaultRenderTarget=e,this.__flipped=null==this.__defaultRenderTarget,null==J_.maxTextureWidth&&(J_.maxTextureWidth=J_.maxTextureHeight=this.__gl.getParameter(this.__gl.MAX_TEXTURE_SIZE)),this.__matrix=jl._new(),this.__values=[],this.__softwareRenderer=new U_(null),this.__type="opengl",this.__setBlendMode(10),this.__context3D.__setGLBlend(!0),this.__clipRects=[],this.__maskObjects=[],this.__numClipRects=0,this.__projection=jl._new(),this.__projectionFlipped=jl._new(),this.__stencilReference=0,this.__tempRect=new je,this.__defaultDisplayShader=new Y_,this.__defaultGraphicsShader=new nc,this.__defaultShader=this.__defaultDisplayShader,this.__initShader(this.__defaultShader),this.__scrollRectMasks=new P(function(){return new Rc}),this.__maskShader=new hu};r["openfl.display.OpenGLRenderer"]=fc,fc.__name__="openfl.display.OpenGLRenderer",fc.__super__=V_,fc.prototype=i(V_.prototype,{gl:null,__context3D:null,__clipRects:null,__currentDisplayShader:null,__currentGraphicsShader:null,__currentRenderTarget:null,__currentShader:null,__currentShaderBuffer:null,__defaultDisplayShader:null,__defaultGraphicsShader:null,__defaultRenderTarget:null,__defaultShader:null,__displayHeight:null,__displayWidth:null,__flipped:null,__gl:null,__height:null,__maskShader:null,__matrix:null,__maskObjects:null,__numClipRects:null,__offsetX:null,__offsetY:null,__projection:null,__projectionFlipped:null,__scrollRectMasks:null,__softwareRenderer:null,__stencilReference:null,__tempRect:null,__updatedStencil:null,__upscaled:null,__values:null,__width:null,applyAlpha:function(t){fc.__alphaValue[0]=t*this.__worldAlpha,null!=this.__currentShaderBuffer?this.__currentShaderBuffer.addFloatOverride("openfl_Alpha",fc.__alphaValue):null!=this.__currentShader&&null!=this.__currentShader.__alpha&&(this.__currentShader.__alpha.value=fc.__alphaValue)},applyBitmapData:function(t,e,i){null==i&&(i=!1),null!=this.__currentShaderBuffer?null!=t&&(fc.__textureSizeValue[0]=t.__textureWidth,fc.__textureSizeValue[1]=t.__textureHeight,this.__currentShaderBuffer.addFloatOverride("openfl_TextureSize",fc.__textureSizeValue)):null!=this.__currentShader&&(null!=this.__currentShader.__bitmap&&(this.__currentShader.__bitmap.input=t,this.__currentShader.__bitmap.filter=e&&this.__allowSmoothing?4:5,this.__currentShader.__bitmap.mipFilter=2,this.__currentShader.__bitmap.wrap=i?2:0),null!=this.__currentShader.__texture&&(this.__currentShader.__texture.input=t,this.__currentShader.__texture.filter=e&&this.__allowSmoothing?4:5,this.__currentShader.__texture.mipFilter=2,this.__currentShader.__texture.wrap=i?2:0),null!=this.__currentShader.__textureSize&&(null!=t?(fc.__textureSizeValue[0]=t.__textureWidth,fc.__textureSizeValue[1]=t.__textureHeight,this.__currentShader.__textureSize.value=fc.__textureSizeValue):this.__currentShader.__textureSize.value=null))},applyColorTransform:function(t){var e=null!=t&&!t.__isDefault(!0);this.applyHasColorTransform(e),e?(t.__setArrays(fc.__colorMultipliersValue,fc.__colorOffsetsValue),null!=this.__currentShaderBuffer?(this.__currentShaderBuffer.addFloatOverride("openfl_ColorMultiplier",fc.__colorMultipliersValue),this.__currentShaderBuffer.addFloatOverride("openfl_ColorOffset",fc.__colorOffsetsValue)):null!=this.__currentShader&&(null!=this.__currentShader.__colorMultiplier&&(this.__currentShader.__colorMultiplier.value=fc.__colorMultipliersValue),null!=this.__currentShader.__colorOffset&&(this.__currentShader.__colorOffset.value=fc.__colorOffsetsValue))):null!=this.__currentShaderBuffer?(this.__currentShaderBuffer.addFloatOverride("openfl_ColorMultiplier",fc.__emptyColorValue),this.__currentShaderBuffer.addFloatOverride("openfl_ColorOffset",fc.__emptyColorValue)):null!=this.__currentShader&&(null!=this.__currentShader.__colorMultiplier&&(this.__currentShader.__colorMultiplier.value=fc.__emptyColorValue),null!=this.__currentShader.__colorOffset&&(this.__currentShader.__colorOffset.value=fc.__emptyColorValue))},applyHasColorTransform:function(t){fc.__hasColorTransformValue[0]=t,null!=this.__currentShaderBuffer?this.__currentShaderBuffer.addBoolOverride("openfl_HasColorTransform",fc.__hasColorTransformValue):null!=this.__currentShader&&null!=this.__currentShader.__hasColorTransform&&(this.__currentShader.__hasColorTransform.value=fc.__hasColorTransformValue)},applyMatrix:function(t){null!=this.__currentShaderBuffer?this.__currentShaderBuffer.addFloatOverride("openfl_Matrix",t):null!=this.__currentShader&&null!=this.__currentShader.__matrix&&(this.__currentShader.__matrix.value=t)},getMatrix:function(t){return null!=this.gl?(t=this.__getMatrix(t,1),jl.set(this.__matrix,0,t[0]),jl.set(this.__matrix,1,t[1]),jl.set(this.__matrix,2,t[2]),jl.set(this.__matrix,3,t[3]),jl.set(this.__matrix,4,t[4]),jl.set(this.__matrix,5,t[5]),jl.set(this.__matrix,6,t[6]),jl.set(this.__matrix,7,t[7]),jl.set(this.__matrix,8,t[8]),jl.set(this.__matrix,9,t[9]),jl.set(this.__matrix,10,t[10]),jl.set(this.__matrix,11,t[11]),jl.set(this.__matrix,12,t[12]),jl.set(this.__matrix,13,t[13]),jl.set(this.__matrix,14,t[14]),jl.set(this.__matrix,15,t[15])):(jl.identity(this.__matrix),jl.set(this.__matrix,0,t.a),jl.set(this.__matrix,1,t.b),jl.set(this.__matrix,4,t.c),jl.set(this.__matrix,5,t.d),jl.set(this.__matrix,12,t.tx),jl.set(this.__matrix,13,t.ty)),this.__matrix},setShader:function(t){this.__currentShaderBuffer=null,this.__currentShader!=t&&(null==t?(this.__currentShader=null,this.__context3D.setProgram(null)):(this.__currentShader=t,this.__initShader(t),this.__context3D.setProgram(t.program),this.__context3D.__flushGLProgram(),this.__currentShader.__enable(),this.__context3D.__state.shader=t))},setViewport:function(){this.__gl.viewport(this.__offsetX,this.__offsetY,this.__displayWidth,this.__displayHeight)},updateShader:function(){null!=this.__currentShader&&(null!=this.__currentShader.__position&&(this.__currentShader.__position.__useArray=!0),null!=this.__currentShader.__textureCoord&&(this.__currentShader.__textureCoord.__useArray=!0),this.__context3D.setProgram(this.__currentShader.program),this.__context3D.__flushGLProgram(),this.__context3D.__flushGLTextures(),this.__currentShader.__update())},useAlphaArray:function(){null!=this.__currentShader&&null!=this.__currentShader.__alpha&&(this.__currentShader.__alpha.__useArray=!0)},useColorTransformArray:function(){null!=this.__currentShader&&(null!=this.__currentShader.__colorMultiplier&&(this.__currentShader.__colorMultiplier.__useArray=!0),null!=this.__currentShader.__colorOffset&&(this.__currentShader.__colorOffset.__useArray=!0))},__cleanup:function(){0<this.__stencilReference&&(this.__stencilReference=0,this.__context3D.setStencilActions(),this.__context3D.setStencilReferenceValue(0,0,0)),0<this.__numClipRects&&(this.__numClipRects=0,this.__scissorRect())},__clear:function(){null==this.__stage||this.__stage.__transparent?this.__context3D.clear(0,0,0,0,0,0,1):this.__context3D.clear(this.__stage.__colorSplit[0],this.__stage.__colorSplit[1],this.__stage.__colorSplit[2],1,0,0,1),this.__cleared=!0},__clearShader:function(){null!=this.__currentShader&&(null==this.__currentShaderBuffer?null!=this.__currentShader.__bitmap&&(this.__currentShader.__bitmap.input=null):this.__currentShaderBuffer.clearOverride(),null!=this.__currentShader.__texture&&(this.__currentShader.__texture.input=null),null!=this.__currentShader.__textureSize&&(this.__currentShader.__textureSize.value=null),null!=this.__currentShader.__hasColorTransform&&(this.__currentShader.__hasColorTransform.value=null),null!=this.__currentShader.__position&&(this.__currentShader.__position.value=null),null!=this.__currentShader.__matrix&&(this.__currentShader.__matrix.value=null),this.__currentShader.__clearUseArray())},__copyShader:function(t){this.__currentShader=t.__currentShader,this.__currentShaderBuffer=t.__currentShaderBuffer,this.__currentDisplayShader=t.__currentDisplayShader,this.__currentGraphicsShader=t.__currentGraphicsShader},__getMatrix:function(t,e){var i=yr.__pool.get();return i.copyFrom(t),i.concat(this.__worldTransform),(0==e||1==e&&0==i.b&&0==i.c&&1.001>i.a&&.999<i.a&&1.001>i.d&&.999<i.d)&&(i.tx=Math.round(i.tx),i.ty=Math.round(i.ty)),jl.identity(this.__matrix),jl.set(this.__matrix,0,i.a),jl.set(this.__matrix,1,i.b),jl.set(this.__matrix,4,i.c),jl.set(this.__matrix,5,i.d),jl.set(this.__matrix,12,i.tx),jl.set(this.__matrix,13,i.ty),jl.append(this.__matrix,this.__flipped?this.__projectionFlipped:this.__projection),this.__values[0]=jl.get(this.__matrix,0),this.__values[1]=jl.get(this.__matrix,1),this.__values[2]=jl.get(this.__matrix,2),this.__values[3]=jl.get(this.__matrix,3),this.__values[4]=jl.get(this.__matrix,4),this.__values[5]=jl.get(this.__matrix,5),this.__values[6]=jl.get(this.__matrix,6),this.__values[7]=jl.get(this.__matrix,7),this.__values[8]=jl.get(this.__matrix,8),this.__values[9]=jl.get(this.__matrix,9),this.__values[10]=jl.get(this.__matrix,10),this.__values[11]=jl.get(this.__matrix,11),this.__values[12]=jl.get(this.__matrix,12),this.__values[13]=jl.get(this.__matrix,13),this.__values[14]=jl.get(this.__matrix,14),this.__values[15]=jl.get(this.__matrix,15),yr.__pool.release(i),this.__values},__initShader:function(t){return null!=t?(null==t.__context&&(t.__context=this.__context3D,t.__init()),t):this.__defaultShader},__initDisplayShader:function(t){return null!=t?(null==t.__context&&(t.__context=this.__context3D,t.__init()),t):this.__defaultDisplayShader},__initGraphicsShader:function(t){return null!=t?(null==t.__context&&(t.__context=this.__context3D,t.__init()),t):this.__defaultGraphicsShader},__initShaderBuffer:function(t){return null!=t?this.__initGraphicsShader(t.shader):this.__defaultGraphicsShader},__popMask:function(){if(0!=this.__stencilReference){var t=this.__maskObjects.pop();1<this.__stencilReference?(this.__context3D.setStencilActions(2,1,0,0,5),this.__context3D.setStencilReferenceValue(this.__stencilReference,255,255),this.__context3D.setColorMask(!1,!1,!1,!1),this.__renderDrawableMask(t),this.__stencilReference--,this.__context3D.setStencilActions(2,1,5,5,5),this.__context3D.setStencilReferenceValue(this.__stencilReference,255,0),this.__context3D.setColorMask(!0,!0,!0,!0)):(this.__stencilReference=0,this.__context3D.setStencilActions(),this.__context3D.setStencilReferenceValue(0,0,0))}},__popMaskObject:function(t,e){null==e&&(e=!0),null!=t.__mask&&this.__popMask(),e&&null!=t.__scrollRect&&(0!=t.__renderTransform.b||0!=t.__renderTransform.c?(this.__scrollRectMasks.release(this.__maskObjects[this.__maskObjects.length-1]),this.__popMask()):this.__popMaskRect())},__popMaskRect:function(){0<this.__numClipRects&&(this.__numClipRects--,0<this.__numClipRects?this.__scissorRect(this.__clipRects[this.__numClipRects-1]):this.__scissorRect())},__pushMask:function(t){0==this.__stencilReference&&(this.__context3D.clear(0,0,0,0,0,0,4),this.__updatedStencil=!0),this.__context3D.setStencilActions(2,1,2,5,5),this.__context3D.setStencilReferenceValue(this.__stencilReference,255,255),this.__context3D.setColorMask(!1,!1,!1,!1),this.__renderDrawableMask(t),this.__maskObjects.push(t),this.__stencilReference++,this.__context3D.setStencilActions(2,1,5,5,5),this.__context3D.setStencilReferenceValue(this.__stencilReference,255,0),this.__context3D.setColorMask(!0,!0,!0,!0)},__pushMaskObject:function(t,e){null==e&&(e=!0),e&&null!=t.__scrollRect&&(0!=t.__renderTransform.b||0!=t.__renderTransform.c?((e=this.__scrollRectMasks.get()).get_graphics().clear(),e.get_graphics().beginFill(65280),e.get_graphics().drawRect(t.__scrollRect.x,t.__scrollRect.y,t.__scrollRect.width,t.__scrollRect.height),e.__renderTransform.copyFrom(t.__renderTransform),this.__pushMask(e)):this.__pushMaskRect(t.__scrollRect,t.__renderTransform)),null!=t.__mask&&this.__pushMask(t.__mask)},__pushMaskRect:function(t,e){this.__numClipRects==this.__clipRects.length&&(this.__clipRects[this.__numClipRects]=new je);var i=yr.__pool.get();i.copyFrom(e),i.concat(this.__worldTransform),e=this.__clipRects[this.__numClipRects],t.__transform(e,i),0<this.__numClipRects&&(t=this.__clipRects[this.__numClipRects-1],e.__contract(t.x,t.y,t.width,t.height)),0>e.height&&(e.height=0),0>e.width&&(e.width=0),yr.__pool.release(i),this.__scissorRect(e),this.__numClipRects++},__render:function(t){if(this.__context3D.setColorMask(!0,!0,!0,!0),this.__context3D.setCulling(3),this.__context3D.setDepthTest(!1,0),this.__context3D.setStencilActions(),this.__context3D.setStencilReferenceValue(0,0,0),this.__context3D.setScissorRectangle(null),this.__blendMode=null,this.__setBlendMode(10),null==this.__defaultRenderTarget)fc.__scissorRectangle.setTo(this.__offsetX,this.__offsetY,this.__displayWidth,this.__displayHeight),this.__context3D.setScissorRectangle(fc.__scissorRectangle),this.__upscaled=1!=this.__worldTransform.a||1!=this.__worldTransform.d,this.__renderDrawable(t),(0<this.__offsetX||0<this.__offsetY)&&(0<this.__offsetX&&(fc.__scissorRectangle.setTo(0,0,this.__offsetX,this.__height),this.__context3D.setScissorRectangle(fc.__scissorRectangle),this.__context3D.__flushGL(),this.__gl.clearColor(0,0,0,1),this.__gl.clear(this.__gl.COLOR_BUFFER_BIT),fc.__scissorRectangle.setTo(this.__offsetX+this.__displayWidth,0,this.__width,this.__height),this.__context3D.setScissorRectangle(fc.__scissorRectangle),this.__context3D.__flushGL(),this.__gl.clearColor(0,0,0,1),this.__gl.clear(this.__gl.COLOR_BUFFER_BIT)),0<this.__offsetY&&(fc.__scissorRectangle.setTo(0,0,this.__width,this.__offsetY),this.__context3D.setScissorRectangle(fc.__scissorRectangle),this.__context3D.__flushGL(),this.__gl.clearColor(0,0,0,1),this.__gl.clear(this.__gl.COLOR_BUFFER_BIT),fc.__scissorRectangle.setTo(0,this.__offsetY+this.__displayHeight,this.__width,this.__height),this.__context3D.setScissorRectangle(fc.__scissorRectangle),this.__context3D.__flushGL(),this.__gl.clearColor(0,0,0,1),this.__gl.clear(this.__gl.COLOR_BUFFER_BIT)),this.__context3D.setScissorRectangle(null));else{fc.__scissorRectangle.setTo(this.__offsetX,this.__offsetY,this.__displayWidth,this.__displayHeight),this.__context3D.setScissorRectangle(fc.__scissorRectangle);var e=t.__mask,i=t.__scrollRect;t.__mask=null,t.__scrollRect=null,this.__renderDrawable(t),t.__mask=e,t.__scrollRect=i}this.__context3D.present()},__renderDrawable:function(t){if(null!=t)switch(t.__drawableType){case 0:su.renderDrawable(t,this);break;case 2:iu.renderDrawable(t,this);break;case 3:au.renderDrawable(t,this);break;case 4:case 5:ou.renderDrawable(t,this);break;case 6:cu.renderDrawable(t,this);break;case 7:uu.renderDrawable(t,this);break;case 8:mu.renderDrawable(t,this);break;case 9:du.renderDrawable(t,this)}},__renderDrawableMask:function(t){if(null!=t)switch(t.__drawableType){case 0:su.renderDrawableMask(t,this);break;case 2:iu.renderDrawableMask(t,this);break;case 3:au.renderDrawableMask(t,this);break;case 4:case 5:ou.renderDrawableMask(t,this);break;case 6:cu.renderDrawableMask(t,this);break;case 7:uu.renderDrawableMask(t,this);break;case 8:mu.renderDrawableMask(t,this);break;case 9:du.renderDrawableMask(t,this)}},__renderFilterPass:function(t,e,i,s){if(null==s&&(s=!0),null!=t&&null!=e&&null!=this.__defaultRenderTarget){var n=this.__context3D.__state.renderToTexture,r=this.__context3D.__state.renderToTextureDepthStencil,a=this.__context3D.__state.renderToTextureAntiAlias,o=this.__context3D.__state.renderToTextureSurfaceSelector;this.__context3D.setRenderToTexture(this.__defaultRenderTarget.getTexture(this.__context3D),!1),s&&this.__context3D.clear(0,0,0,0,0,0,1),e=this.__initShader(e),this.setShader(e),this.applyAlpha(1),this.applyBitmapData(t,i),this.applyColorTransform(null),this.applyMatrix(this.__getMatrix(t.__renderTransform,1)),this.updateShader(),i=t.getVertexBuffer(this.__context3D),null!=e.__position&&this.__context3D.setVertexBufferAt(e.__position.index,i,0,3),null!=e.__textureCoord&&this.__context3D.setVertexBufferAt(e.__textureCoord.index,i,3,2),t=t.getIndexBuffer(this.__context3D),this.__context3D.drawTriangles(t),null!=n?this.__context3D.setRenderToTexture(n,r,a,o):this.__context3D.setRenderToBackBuffer(),this.__clearShader()}},__resize:function(t,e){if(this.__width=t,this.__height=e,t=null==this.__defaultRenderTarget?this.__stage.stageWidth:this.__defaultRenderTarget.width,e=null==this.__defaultRenderTarget?this.__stage.stageHeight:this.__defaultRenderTarget.height,null==this.__defaultRenderTarget){var i=this.__worldTransform;i=Math.round(0*i.a+0*i.c+i.tx)}else i=0;this.__offsetX=i,null==this.__defaultRenderTarget?(i=this.__worldTransform,i=Math.round(0*i.b+0*i.d+i.ty)):i=0,this.__offsetY=i,null==this.__defaultRenderTarget?(i=this.__worldTransform,i=Math.round(t*i.a+0*i.c+i.tx-this.__offsetX)):i=t,this.__displayWidth=i,null==this.__defaultRenderTarget?(i=this.__worldTransform,i=Math.round(0*i.b+e*i.d+i.ty-this.__offsetY)):i=e,this.__displayHeight=i,jl.createOrtho(this.__projection,0,this.__displayWidth+2*this.__offsetX,0,this.__displayHeight+2*this.__offsetY,-1e3,1e3),jl.createOrtho(this.__projectionFlipped,0,this.__displayWidth+2*this.__offsetX,this.__displayHeight+2*this.__offsetY,0,-1e3,1e3)},__resumeClipAndMask:function(t){0<this.__stencilReference?(this.__context3D.setStencilActions(2,1,5,5,5),this.__context3D.setStencilReferenceValue(this.__stencilReference,255,0)):(this.__context3D.setStencilActions(),this.__context3D.setStencilReferenceValue(0,0,0)),0<this.__numClipRects?this.__scissorRect(this.__clipRects[this.__numClipRects-1]):this.__scissorRect()},__scissorRect:function(t){if(null!=t){var e=Math.floor(t.x),i=Math.floor(t.y),s=0<t.width?Math.ceil(t.get_right())-e:0;0>s&&(s=0),0>(t=0<t.height?Math.ceil(t.get_bottom())-i:0)&&(t=0),fc.__scissorRectangle.setTo(e,i,s,t),this.__context3D.setScissorRectangle(fc.__scissorRectangle)}else this.__context3D.setScissorRectangle(null)},__setBlendMode:function(t){if(null!=this.__overrideBlendMode&&(t=this.__overrideBlendMode),this.__blendMode!=t)switch(this.__blendMode=t,t){case 0:this.__context3D.setBlendFactors(2,2);break;case 9:this.__context3D.setBlendFactors(1,5);break;case 12:this.__context3D.setBlendFactors(2,6);break;case 14:this.__context3D.setBlendFactors(2,2),this.__context3D.__setGLBlendEquation(this.__gl.FUNC_REVERSE_SUBTRACT);break;default:this.__context3D.setBlendFactors(2,5)}},__setRenderTarget:function(t){this.__defaultRenderTarget=t,this.__flipped=null==t,null!=t&&this.__resize(t.width,t.height)},__setShaderBuffer:function(t){this.setShader(t.shader),this.__currentShaderBuffer=t},__suspendClipAndMask:function(){0<this.__stencilReference&&(this.__context3D.setStencilActions(),this.__context3D.setStencilReferenceValue(0,0,0)),0<this.__numClipRects&&this.__scissorRect()},__updateShaderBuffer:function(t){null!=this.__currentShader&&null!=this.__currentShaderBuffer&&this.__currentShader.__updateFromBuffer(this.__currentShaderBuffer,t)},__class__:fc});var gc=function(t){null==t&&(t=!1),this.fastCompression=t};r["openfl.display.PNGEncoderOptions"]=gc,gc.__name__="openfl.display.PNGEncoderOptions",gc.prototype={fastCompression:null,__class__:gc};var yc=function(t){this.onComplete=new xl,this.display=t,null!=t&&(t.addEventListener("unload",n(this,this.display_onUnload)),I_.get_current().addChild(t))};r["openfl.display.Preloader"]=yc,yc.__name__="openfl.display.Preloader",yc.prototype={onComplete:null,complete:null,display:null,ready:null,start:function(){if(this.ready=!0,I_.get_current().get_loaderInfo().__complete(),null!=this.display){var t=new _i("complete",!0,!0);this.display.dispatchEvent(t),t.isDefaultPrevented()||this.display.dispatchEvent(new _i("unload"))}else this.complete||(this.complete=!0,this.onComplete.dispatch())},update:function(t,e){I_.get_current().get_loaderInfo().__update(t,e),null!=this.display&&this.display.dispatchEvent(new wd("progress",!0,!0,t,e))},display_onUnload:function(t){null!=this.display&&(this.display.removeEventListener("unload",n(this,this.display_onUnload)),this.display.parent==I_.get_current()&&I_.get_current().removeChild(this.display),I_.get_current().stage.set_focus(null),this.display=null),this.ready&&!this.complete&&(this.complete=!0,this.onComplete.dispatch())},__class__:yc};var bc=function(){D.call(this);var t=this.getBackgroundColor(),e=0;70>.299*(t>>16&255)+.587*(t>>8&255)+.114*(255&t)&&(e=16777215),t=this.getHeight()/2-3.5;var i=this.getWidth()-60;this.outline=new Rc,this.outline.get_graphics().beginFill(e,.07),this.outline.get_graphics().drawRect(0,0,i,7),this.outline.set_x(30),this.outline.set_y(t),this.outline.set_alpha(0),this.addChild(this.outline),this.progress=new Rc,this.progress.get_graphics().beginFill(e,.35),this.progress.get_graphics().drawRect(0,0,i-4,3),this.progress.set_x(32),this.progress.set_y(t+2),this.progress.set_scaleX(0),this.progress.set_alpha(0),this.addChild(this.progress),this.startAnimation=I_.getTimer()+100,this.endAnimation=this.startAnimation+1e3,this.addEventListener("addedToStage",n(this,this.this_onAddedToStage))};r["openfl.display.DefaultPreloader"]=bc,bc.__name__="openfl.display.DefaultPreloader",bc.__super__=D,bc.prototype=i(D.prototype,{endAnimation:null,outline:null,progress:null,startAnimation:null,getBackgroundColor:function(){var t=I_.get_current().stage.window.context.attributes;return Object.prototype.hasOwnProperty.call(t,"background")&&null!=t.background?t.background:0},getHeight:function(){var t=I_.get_current().stage.window.__height;return 0<t?t:I_.get_current().stage.stageHeight},getWidth:function(){var t=I_.get_current().stage.window.__width;return 0<t?t:I_.get_current().stage.stageWidth},onInit:function(){this.addEventListener("enterFrame",n(this,this.this_onEnterFrame))},onLoaded:function(){this.removeEventListener("enterFrame",n(this,this.this_onEnterFrame)),this.dispatchEvent(new _i("unload"))},onUpdate:function(t,e){var i=0;0<e&&1<(i=t/e)&&(i=1),this.progress.set_scaleX(i)},this_onAddedToStage:function(t){this.removeEventListener("addedToStage",n(this,this.this_onAddedToStage)),this.onInit(),this.onUpdate(this.get_loaderInfo().bytesLoaded,this.get_loaderInfo().bytesTotal),this.addEventListener("progress",n(this,this.this_onProgress)),this.addEventListener("complete",n(this,this.this_onComplete))},this_onComplete:function(t){t.preventDefault(),this.removeEventListener("progress",n(this,this.this_onProgress)),this.removeEventListener("complete",n(this,this.this_onComplete)),this.onLoaded()},this_onEnterFrame:function(t){0>(t=(I_.getTimer()-this.startAnimation)/(this.endAnimation-this.startAnimation))&&(t=0),1<t&&(t=1),this.outline.set_alpha(this.progress.set_alpha(t))},this_onProgress:function(t){this.onUpdate(0|t.bytesLoaded,0|t.bytesTotal)},__class__:bc});var vc=function(t,e,i){this.name=t,this.labels=e,this.numFrames=i};r["openfl.display.Scene"]=vc,vc.__name__="openfl.display.Scene",vc.prototype={labels:null,name:null,numFrames:null,__class__:vc};var xc={_new:function(t){return{}}},wc=function(){this.channels=0,this.filter=5,this.index=this.height=0,this.mipFilter=2,this.wrap=this.width=0};r["openfl.display.ShaderInput"]=wc,wc.__name__="openfl.display.ShaderInput",wc.prototype={channels:null,filter:null,height:null,index:null,input:null,mipFilter:null,name:null,width:null,wrap:null,__isUniform:null,__disableGL:function(t,e){0>e||t.setTextureAt(e,null)},__updateGL:function(t,e,i,s,n,r){i=null!=i?i:this.input,s=null!=s?s:this.filter,n=null!=n?n:this.mipFilter,r=null!=r?r:this.wrap,null!=i?(t.setTextureAt(e,i.getTexture(t)),t.setSamplerStateAt(e,r,s,n)):t.setTextureAt(e,null)},__class__:wc};var Sc=function(){this.index=0};r["openfl.display.ShaderParameter"]=Sc,Sc.__name__="openfl.display.ShaderParameter",Sc.prototype={index:null,name:null,type:null,value:null,__arrayLength:null,__internal:null,__isBool:null,__isFloat:null,__isInt:null,__isUniform:null,__length:null,__uniformMatrix:null,__useArray:null,__disableGL:function(t){if(!(0>this.index||(t=t.gl,this.__isUniform)))for(var e=0,i=this.__arrayLength;e<i;){var s=e++;t.disableVertexAttribArray(this.index+s)}},__updateGL:function(t,e){if(!(0>this.index)){t=t.gl,e=null!=e?e:this.value;var i=this.__isBool?e:null,s=this.__isFloat?e:null,n=this.__isInt?e:null;if(this.__isUniform)if(null!=e&&e.length>=this.__length)switch(this.type){case 0:t.uniform1i(this.index,i[0]?1:0);break;case 1:t.uniform2i(this.index,i[0]?1:0,i[1]?1:0);break;case 2:t.uniform3i(this.index,i[0]?1:0,i[1]?1:0,i[2]?1:0);break;case 3:t.uniform4i(this.index,i[0]?1:0,i[1]?1:0,i[2]?1:0,i[3]?1:0);break;case 4:t.uniform1f(this.index,s[0]);break;case 5:t.uniform2f(this.index,s[0],s[1]);break;case 6:t.uniform3f(this.index,s[0],s[1],s[2]);break;case 7:t.uniform4f(this.index,s[0],s[1],s[2],s[3]);break;case 8:t.uniform1i(this.index,n[0]);break;case 9:t.uniform2i(this.index,n[0],n[1]);break;case 10:t.uniform3i(this.index,n[0],n[1],n[2]);break;case 11:t.uniform4i(this.index,n[0],n[1],n[2],n[3]);break;case 12:this.__uniformMatrix[0]=s[0],this.__uniformMatrix[1]=s[1],this.__uniformMatrix[2]=s[2],this.__uniformMatrix[3]=s[3],Ol.uniformMatrix2fv(t,this.index,!1,this.__uniformMatrix);break;case 16:this.__uniformMatrix[0]=s[0],this.__uniformMatrix[1]=s[1],this.__uniformMatrix[2]=s[2],this.__uniformMatrix[3]=s[3],this.__uniformMatrix[4]=s[4],this.__uniformMatrix[5]=s[5],this.__uniformMatrix[6]=s[6],this.__uniformMatrix[7]=s[7],this.__uniformMatrix[8]=s[8],Ol.uniformMatrix3fv(t,this.index,!1,this.__uniformMatrix);break;case 20:this.__uniformMatrix[0]=s[0],this.__uniformMatrix[1]=s[1],this.__uniformMatrix[2]=s[2],this.__uniformMatrix[3]=s[3],this.__uniformMatrix[4]=s[4],this.__uniformMatrix[5]=s[5],this.__uniformMatrix[6]=s[6],this.__uniformMatrix[7]=s[7],this.__uniformMatrix[8]=s[8],this.__uniformMatrix[9]=s[9],this.__uniformMatrix[10]=s[10],this.__uniformMatrix[11]=s[11],this.__uniformMatrix[12]=s[12],this.__uniformMatrix[13]=s[13],this.__uniformMatrix[14]=s[14],this.__uniformMatrix[15]=s[15],Ol.uniformMatrix4fv(t,this.index,!1,this.__uniformMatrix)}else switch(this.type){case 1:case 9:t.uniform2i(this.index,0,0);break;case 3:case 11:t.uniform4i(this.index,0,0,0,0);break;case 4:t.uniform1f(this.index,0);break;case 5:t.uniform2f(this.index,0,0);break;case 6:t.uniform3f(this.index,0,0,0);break;case 7:t.uniform4f(this.index,0,0,0,0);break;case 0:case 8:t.uniform1i(this.index,0);break;case 2:case 10:t.uniform3i(this.index,0,0,0);break;case 12:this.__uniformMatrix[0]=0,this.__uniformMatrix[1]=0,this.__uniformMatrix[2]=0,this.__uniformMatrix[3]=0,Ol.uniformMatrix2fv(t,this.index,!1,this.__uniformMatrix);break;case 16:this.__uniformMatrix[0]=0,this.__uniformMatrix[1]=0,this.__uniformMatrix[2]=0,this.__uniformMatrix[3]=0,this.__uniformMatrix[4]=0,this.__uniformMatrix[5]=0,this.__uniformMatrix[6]=0,this.__uniformMatrix[7]=0,this.__uniformMatrix[8]=0,Ol.uniformMatrix3fv(t,this.index,!1,this.__uniformMatrix);break;case 20:this.__uniformMatrix[0]=0,this.__uniformMatrix[1]=0,this.__uniformMatrix[2]=0,this.__uniformMatrix[3]=0,this.__uniformMatrix[4]=0,this.__uniformMatrix[5]=0,this.__uniformMatrix[6]=0,this.__uniformMatrix[7]=0,this.__uniformMatrix[8]=0,this.__uniformMatrix[9]=0,this.__uniformMatrix[10]=0,this.__uniformMatrix[11]=0,this.__uniformMatrix[12]=0,this.__uniformMatrix[13]=0,this.__uniformMatrix[14]=0,this.__uniformMatrix[15]=0,Ol.uniformMatrix4fv(t,this.index,!1,this.__uniformMatrix)}else if(this.__useArray||null!=e&&e.length!=this.__length)for(r=0,a=this.__arrayLength;r<a;)o=r++,t.enableVertexAttribArray(this.index+o);else{for(var r=0,a=this.__arrayLength;r<a;){var o=r++;t.disableVertexAttribArray(this.index+o)}if(null!=e)switch(this.type){case 0:t.vertexAttrib1f(this.index,i[0]?1:0);break;case 1:t.vertexAttrib2f(this.index,i[0]?1:0,i[1]?1:0);break;case 2:t.vertexAttrib3f(this.index,i[0]?1:0,i[1]?1:0,i[2]?1:0);break;case 3:t.vertexAttrib4f(this.index,i[0]?1:0,i[1]?1:0,i[2]?1:0,i[3]?1:0);break;case 4:t.vertexAttrib1f(this.index,s[0]);break;case 5:t.vertexAttrib2f(this.index,s[0],s[1]);break;case 6:t.vertexAttrib3f(this.index,s[0],s[1],s[2]);break;case 7:t.vertexAttrib4f(this.index,s[0],s[1],s[2],s[3]);break;case 8:t.vertexAttrib1f(this.index,n[0]);break;case 9:t.vertexAttrib2f(this.index,n[0],n[1]);break;case 10:t.vertexAttrib3f(this.index,n[0],n[1],n[2]);break;case 11:t.vertexAttrib4f(this.index,n[0],n[1],n[2],n[3]);break;case 12:t.vertexAttrib2f(this.index+0,s[0],s[1]),t.vertexAttrib2f(this.index+1,s[2],s[3]);break;case 16:t.vertexAttrib3f(this.index+0,s[0],s[1],s[2]),t.vertexAttrib3f(this.index+1,s[3],s[4],s[5]),t.vertexAttrib3f(this.index+2,s[6],s[7],s[8]);break;case 20:t.vertexAttrib4f(this.index+0,s[0],s[1],s[2],s[3]),t.vertexAttrib4f(this.index+1,s[4],s[5],s[6],s[7]),t.vertexAttrib4f(this.index+2,s[8],s[9],s[10],s[11]),t.vertexAttrib4f(this.index+3,s[12],s[13],s[14],s[15])}else switch(this.type){case 1:case 5:case 9:t.vertexAttrib2f(this.index,0,0);break;case 3:case 7:case 11:t.vertexAttrib4f(this.index,0,0,0,0);break;case 0:case 4:case 8:t.vertexAttrib1f(this.index,0);break;case 2:case 6:case 10:t.vertexAttrib3f(this.index,0,0,0);break;case 12:t.vertexAttrib2f(this.index+0,0,0),t.vertexAttrib2f(this.index+1,0,0);break;case 16:t.vertexAttrib3f(this.index+0,0,0,0),t.vertexAttrib3f(this.index+1,0,0,0),t.vertexAttrib3f(this.index+2,0,0,0);break;case 20:t.vertexAttrib4f(this.index+0,0,0,0,0),t.vertexAttrib4f(this.index+1,0,0,0,0),t.vertexAttrib4f(this.index+2,0,0,0,0),t.vertexAttrib4f(this.index+3,0,0,0,0)}}}},__updateGLFromBuffer:function(t,e,i,s,n){if(!(0>this.index))if(t=t.gl,this.__isUniform){if(s>=this.__length)switch(this.type){case 1:case 9:t.uniform2i(this.index,0|e[i],0|e[i+1]);break;case 3:case 11:t.uniform4i(this.index,0|e[i],0|e[i+1],0|e[i+2],0|e[i+3]);break;case 4:t.uniform1f(this.index,e[i]);break;case 5:t.uniform2f(this.index,e[i],e[i+1]);break;case 6:t.uniform3f(this.index,e[i],e[i+1],e[i+2]);break;case 7:t.uniform4f(this.index,e[i],e[i+1],e[i+2],e[i+3]);break;case 0:case 8:t.uniform1i(this.index,0|e[i]);break;case 2:case 10:t.uniform3i(this.index,0|e[i],0|e[i+1],0|e[i+2]);break;case 12:this.__uniformMatrix[0]=e[i],this.__uniformMatrix[1]=e[i+1],this.__uniformMatrix[2]=e[i+2],this.__uniformMatrix[3]=e[i+3],Ol.uniformMatrix2fv(t,this.index,!1,this.__uniformMatrix);break;case 16:this.__uniformMatrix[0]=e[i],this.__uniformMatrix[1]=e[i+1],this.__uniformMatrix[2]=e[i+2],this.__uniformMatrix[3]=e[i+3],this.__uniformMatrix[4]=e[i+4],this.__uniformMatrix[5]=e[i+5],this.__uniformMatrix[6]=e[i+6],this.__uniformMatrix[7]=e[i+7],this.__uniformMatrix[8]=e[i+8],Ol.uniformMatrix3fv(t,this.index,!1,this.__uniformMatrix);break;case 20:this.__uniformMatrix[0]=e[i],this.__uniformMatrix[1]=e[i+1],this.__uniformMatrix[2]=e[i+2],this.__uniformMatrix[3]=e[i+3],this.__uniformMatrix[4]=e[i+4],this.__uniformMatrix[5]=e[i+5],this.__uniformMatrix[6]=e[i+6],this.__uniformMatrix[7]=e[i+7],this.__uniformMatrix[8]=e[i+8],this.__uniformMatrix[9]=e[i+9],this.__uniformMatrix[10]=e[i+10],this.__uniformMatrix[11]=e[i+11],this.__uniformMatrix[12]=e[i+12],this.__uniformMatrix[13]=e[i+13],this.__uniformMatrix[14]=e[i+14],this.__uniformMatrix[15]=e[i+15],Ol.uniformMatrix4fv(t,this.index,!1,this.__uniformMatrix)}}else if(this.__internal||0!=s&&s!=this.__length){for(e=t.FLOAT,(this.__isBool||this.__isInt)&&(e=t.INT),r=0,a=this.__arrayLength;r<a;)o=r++,t.enableVertexAttribArray(this.index+o);if(0<s)for(r=0,a=this.__arrayLength;r<a;)o=r++,t.vertexAttribPointer(this.index+o,this.__length,e,!1,4*this.__length,4*(i+n*this.__length+o*this.__arrayLength))}else{for(var r=0,a=this.__arrayLength;r<a;){var o=r++;t.disableVertexAttribArray(this.index+o)}if(0<s)switch(this.type){case 1:case 5:case 9:t.vertexAttrib2f(this.index,e[i],e[i+1]);break;case 3:case 7:case 11:t.vertexAttrib4f(this.index,e[i],e[i+1],e[i+2],e[i+3]);break;case 0:case 4:case 8:t.vertexAttrib1f(this.index,e[i]);break;case 2:case 6:case 10:t.vertexAttrib3f(this.index,e[i],e[i+1],e[i+2]);break;case 12:t.vertexAttrib2f(this.index+0,e[i],e[i+1]),t.vertexAttrib2f(this.index+1,e[i+2],e[i+2+1]);break;case 16:t.vertexAttrib3f(this.index+0,e[i],e[i+1],e[i+2]),t.vertexAttrib3f(this.index+1,e[i+3],e[i+3+1],e[i+3+2]),t.vertexAttrib3f(this.index+2,e[i+6],e[i+6+1],e[i+6+2]);break;case 20:t.vertexAttrib4f(this.index+0,e[i],e[i+1],e[i+2],e[i+3]),t.vertexAttrib4f(this.index+1,e[i+4],e[i+4+1],e[i+4+2],e[i+4+3]),t.vertexAttrib4f(this.index+2,e[i+8],e[i+8+1],e[i+8+2],e[i+8+3]),t.vertexAttrib4f(this.index+3,e[i+12],e[i+12+1],e[i+12+2],e[i+12+3])}else switch(this.type){case 1:case 5:case 9:t.vertexAttrib2f(this.index,0,0);break;case 3:case 7:case 11:t.vertexAttrib4f(this.index,0,0,0,0);break;case 0:case 4:case 8:t.vertexAttrib1f(this.index,0);break;case 2:case 6:case 10:t.vertexAttrib3f(this.index,0,0,0);break;case 12:t.vertexAttrib2f(this.index+0,0,0),t.vertexAttrib2f(this.index+1,0,0);break;case 16:t.vertexAttrib3f(this.index+0,0,0,0),t.vertexAttrib3f(this.index+1,0,0,0),t.vertexAttrib3f(this.index+2,0,0,0);break;case 20:t.vertexAttrib4f(this.index+0,0,0,0,0),t.vertexAttrib4f(this.index+1,0,0,0,0),t.vertexAttrib4f(this.index+2,0,0,0,0),t.vertexAttrib4f(this.index+3,0,0,0,0)}}},set_name:function(t){return this.__internal=v.startsWith(t,"openfl_"),this.name=t},__class__:Sc,__properties__:{set_name:"set_name"}};var Rc=function(){k.call(this),this.__drawableType=3};r["openfl.display.Shape"]=Rc,Rc.__name__="openfl.display.Shape",Rc.__super__=k,Rc.prototype=i(k.prototype,{get_graphics:function(){return null==this.__graphics&&(this.__graphics=new J_(this)),this.__graphics},__class__:Rc,__properties__:i(k.prototype.__properties__,{get_graphics:"get_graphics"})});var Ac=function(t,e,i,s){F.call(this),this.__drawableType=6,this.enabled=!0,this.trackAsMenu=!1,this.useHandCursor=!0,this.__upState=null!=t?t:new k,this.__overState=e,this.__downState=i,this.set_hitTestState(null!=s?s:new k),this.addEventListener("mouseDown",n(this,this.__this_onMouseDown)),this.addEventListener("mouseOut",n(this,this.__this_onMouseOut)),this.addEventListener("mouseOver",n(this,this.__this_onMouseOver)),this.addEventListener("mouseUp",n(this,this.__this_onMouseUp)),this.__tabEnabled=!0,this.set___currentState(this.__upState),null!=Ac.__constructor&&(t=Ac.__constructor,Ac.__constructor=null,t(this))};r["openfl.display.SimpleButton"]=Ac,Ac.__name__="openfl.display.SimpleButton",Ac.__super__=F,Ac.prototype=i(F.prototype,{enabled:null,trackAsMenu:null,useHandCursor:null,__currentState:null,__downState:null,__hitTestState:null,__ignoreEvent:null,__overState:null,__previousStates:null,__soundTransform:null,__upState:null,__getBounds:function(t,e){F.prototype.__getBounds.call(this,t,e);var i=yr.__pool.get(),s=this.__currentState.__transform;i.a=s.a*e.a+s.b*e.c,i.b=s.a*e.b+s.b*e.d,i.c=s.c*e.a+s.d*e.c,i.d=s.c*e.b+s.d*e.d,i.tx=s.tx*e.a+s.ty*e.c+e.tx,i.ty=s.tx*e.b+s.ty*e.d+e.ty,this.__currentState.__getBounds(t,i),yr.__pool.release(i)},__getRenderBounds:function(t,e){if(null!=this.__scrollRect)F.prototype.__getRenderBounds.call(this,t,e);else{F.prototype.__getBounds.call(this,t,e);var i=yr.__pool.get(),s=this.__currentState.__transform;i.a=s.a*e.a+s.b*e.c,i.b=s.a*e.b+s.b*e.d,i.c=s.c*e.a+s.d*e.c,i.d=s.c*e.b+s.d*e.d,i.tx=s.tx*e.a+s.ty*e.c+e.tx,i.ty=s.tx*e.b+s.ty*e.d+e.ty,this.__currentState.__getRenderBounds(t,i),yr.__pool.release(i)}},__getCursor:function(){return this.useHandCursor&&!this.__ignoreEvent&&this.enabled?"button":null},__hitTest:function(t,e,i,s,n,r){var a=!1;if(null!=this.get_hitTestState()?this.get_hitTestState().__hitTest(t,e,i,s,n,r)&&(null!=s&&(0==s.length?s[0]=r:s[s.length-1]=r),a=!n||this.mouseEnabled):null!=this.__currentState&&(!r.get_visible()||this.__isMask||n&&!this.mouseEnabled||null!=this.get_mask()&&!this.get_mask().__hitTestMask(t,e)?a=!1:this.__currentState.__hitTest(t,e,i,s,n,r)&&(a=n)),null!=s)for(;1<s.length&&s[s.length-1]==s[s.length-2];)s.pop();return a},__hitTestMask:function(t,e){var i=!1;return this.__currentState.__hitTestMask(t,e)&&(i=!0),i},__setStageReference:function(t){F.prototype.__setStageReference.call(this,t),null!=this.__currentState&&this.__currentState.__setStageReference(t),null!=this.get_hitTestState()&&this.get_hitTestState()!=this.__currentState&&this.get_hitTestState().__setStageReference(t)},__setTransformDirty:function(){F.prototype.__setTransformDirty.call(this),null!=this.__currentState&&this.__currentState.__setTransformDirty(),null!=this.get_hitTestState()&&this.get_hitTestState()!=this.__currentState&&this.get_hitTestState().__setTransformDirty()},__update:function(t,e){F.prototype.__update.call(this,t,e),e&&(null!=this.__currentState&&this.__currentState.__update(t,!0),null!=this.get_hitTestState()&&this.get_hitTestState()!=this.__currentState&&this.get_hitTestState().__update(t,!0))},__updateTransforms:function(t){F.prototype.__updateTransforms.call(this,t),null!=this.__currentState&&this.__currentState.__updateTransforms(),null!=this.get_hitTestState()&&this.get_hitTestState()!=this.__currentState&&this.get_hitTestState().__updateTransforms()},get_downState:function(){return this.__downState},set_downState:function(t){return null!=this.__downState&&this.__currentState==this.__downState&&this.set___currentState(this.__downState),this.__downState=t},get_hitTestState:function(){return this.__hitTestState},set_hitTestState:function(t){return null!=this.__hitTestState&&this.__hitTestState!=t&&this.__hitTestState!=this.get_downState()&&this.__hitTestState!=this.get_upState()&&this.__hitTestState!=this.get_overState()&&(this.__hitTestState.__renderParent=null),null!=t&&(t.__renderParent=this,t.__renderDirty||(t.__renderDirty=!0,t.__setParentRenderDirty())),this.__hitTestState=t},get_overState:function(){return this.__overState},set_overState:function(t){return null!=this.__overState&&this.__currentState==this.__overState&&this.set___currentState(t),this.__overState=t},get_soundTransform:function(){return null==this.__soundTransform&&(this.__soundTransform=new mr),new mr(this.__soundTransform.volume,this.__soundTransform.pan)},set_soundTransform:function(t){return this.__soundTransform=new mr(t.volume,t.pan),t},get_upState:function(){return this.__upState},set_upState:function(t){return null!=this.__upState&&this.__currentState==this.__upState&&this.set___currentState(t),this.__upState=t},set___currentState:function(t){if(null!=this.__currentState&&this.__currentState!=this.get_hitTestState()&&(this.__currentState.__renderParent=null),null!=t&&null!=t.parent&&t.parent.removeChild(t),k.__supportDOM&&null==this.__previousStates&&(this.__previousStates=M.toObjectVector(null)),t!=this.__currentState){if(k.__supportDOM){null!=this.__currentState&&(this.__currentState.__setStageReference(null),this.__previousStates.push(this.__currentState));var e=this.__previousStates.indexOf(t,0);if(-1<e){var i=this.__previousStates;i.__tempIndex=e,e=0;for(var s=[];e<s.length;){var n=s[e++];i.insertAt(i.__tempIndex,n),i.__tempIndex++}i.splice(i.__tempIndex,1)}}null!=t&&(t.__renderParent=this,t.__renderDirty||(t.__renderDirty=!0,t.__setParentRenderDirty())),this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())}return this.__currentState=t},__this_onMouseDown:function(t){this.enabled&&this.set___currentState(this.get_downState())},__this_onMouseOut:function(t){this.__ignoreEvent=!1,this.get_upState()!=this.__currentState&&this.set___currentState(this.get_upState())},__this_onMouseOver:function(t){t.buttonDown&&(this.__ignoreEvent=!0),this.get_overState()!=this.__currentState&&null!=this.get_overState()&&!this.__ignoreEvent&&this.enabled&&this.set___currentState(this.get_overState())},__this_onMouseUp:function(t){this.__ignoreEvent=!1,this.enabled&&null!=this.get_overState()?this.set___currentState(this.get_overState()):this.set___currentState(this.get_upState())},__class__:Ac,__properties__:i(F.prototype.__properties__,{set___currentState:"set___currentState",set_upState:"set_upState",get_upState:"get_upState",set_soundTransform:"set_soundTransform",get_soundTransform:"get_soundTransform",set_overState:"set_overState",get_overState:"get_overState",set_hitTestState:"set_hitTestState",get_hitTestState:"get_hitTestState",set_downState:"set_downState",get_downState:"get_downState"})});var Tc=function(t,e){B.call(this),this.__drawableType=5,this.set_name(null),this.__color=-1,this.__colorSplit=[255,255,255],this.__colorString="#FFFFFF",this.__contentsScaleFactor=1,this.__deltaTime=this.__currentTabOrderIndex=0,this.__displayState=2,this.__logicalHeight=this.__logicalWidth=this.__lastClickTime=this.__mouseY=this.__mouseX=0,this.__displayMatrix=new yr,this.__displayRect=new je,this.__renderDirty=!0,this.stage3Ds=M.toObjectVector(null),this.stage3Ds.push(new Mc(this)),this.stage3Ds.push(new Mc(this)),this.stage3Ds.push(new Mc(this)),this.stage3Ds.push(new Mc(this)),this.stage=this,this.align=6,this.allowsFullScreenInteractive=this.allowsFullScreen=!0,this.__quality=1,this.__scaleMode=2,this.showDefaultContextMenu=!0,this.softKeyboardRect=new je,this.stageFocusRect=!0,this.__macKeyboard=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent)||/Mac/.test(navigator.platform),this.__clearBeforeRender=!0,this.__forceRender=!1,this.__stack=[],this.__rollOutStack=[],this.__mouseOutStack=[],this.__touchData=new fr,null==I_.get_current().__loaderInfo&&(I_.get_current().__loaderInfo=mc.create(null),I_.get_current().__loaderInfo.content=I_.get_current()),this.__uncaughtErrorEvents=I_.get_current().__loaderInfo.uncaughtErrorEvents,this.application=t.application,this.window=t,this.set_color(e),this.__contentsScaleFactor=t.__scale,this.__wasFullscreen=t.__fullscreen,this.__resize(),null==I_.get_current().stage&&this.stage.addChild(I_.get_current())};r["openfl.display.Stage"]=Tc,Tc.__name__="openfl.display.Stage",Tc.__interfaces__=[el],Tc.__super__=B,Tc.prototype=i(B.prototype,{align:null,allowsFullScreen:null,allowsFullScreenInteractive:null,application:null,context3D:null,showDefaultContextMenu:null,softKeyboardRect:null,stage3Ds:null,stageFocusRect:null,stageHeight:null,stageWidth:null,window:null,__cacheFocus:null,__clearBeforeRender:null,__color:null,__colorSplit:null,__colorString:null,__contentsScaleFactor:null,__currentTabOrderIndex:null,__deltaTime:null,__dirty:null,__displayMatrix:null,__displayRect:null,__displayState:null,__dragBounds:null,__dragObject:null,__dragOffsetX:null,__dragOffsetY:null,__focus:null,__forceRender:null,__fullscreen:null,__fullScreenSourceRect:null,__invalidated:null,__lastClickTime:null,__lastClickTarget:null,__logicalWidth:null,__logicalHeight:null,__macKeyboard:null,__mouseDownLeft:null,__mouseDownMiddle:null,__mouseDownRight:null,__mouseOutStack:null,__mouseOverTarget:null,__mouseX:null,__mouseY:null,__pendingMouseEvent:null,__pendingMouseX:null,__pendingMouseY:null,__quality:null,__renderer:null,__rendering:null,__rollOutStack:null,__scaleMode:null,__stack:null,__touchData:null,__transparent:null,__uncaughtErrorEvents:null,__wasDirty:null,__wasFullscreen:null,__primaryTouch:null,invalidate:function(){this.__renderDirty=this.__invalidated=!0},localToGlobal:function(t){return t.clone()},__broadcastEvent:function(t){if(Object.prototype.hasOwnProperty.call(k.__broadcastEvents.h,t.type))for(var e=k.__broadcastEvents.h[t.type],i=0;i<e.length;){var s=e[i];if(++i,s.stage==this||null==s.stage)if(this.__uncaughtErrorEvents.__enabled)try{s.__dispatch(t)}catch(t){Ma.lastError=t,s=wa.caught(t).unwrap(),this.__handleError(s)}else s.__dispatch(t)}},__createRenderer:function(){var t=this.window.__width*this.window.__scale|0,e=this.window.__height*this.window.__scale|0;switch(this.window.context.type){case"canvas":this.__renderer=new U_(this.window.context.canvas2D);break;case"dom":this.__renderer=new W_(this.window.context.dom);break;case"opengl":case"opengles":case"webgl":this.context3D=new Eu(this),this.context3D.configureBackBuffer(this.stageWidth,this.stageHeight,0,!0,!0,!0),this.context3D.present(),this.__renderer=new fc(this.context3D)}if(null!=this.__renderer){var i=this.get_quality();this.__renderer.__allowSmoothing=2!=i,this.__renderer.__pixelRatio=this.window.__scale,this.__renderer.__worldTransform=this.__displayMatrix,this.__renderer.__stage=this,this.__renderer.__resize(t,e)}},__dispatchEvent:function(t){if(this.__uncaughtErrorEvents.__enabled)try{var e=B.prototype.__dispatchEvent.call(this,t)}catch(i){Ma.lastError=i,t=wa.caught(i).unwrap(),this.__handleError(t),e=!1}else e=B.prototype.__dispatchEvent.call(this,t);return e},__dispatchPendingMouseEvent:function(){this.__pendingMouseEvent&&(this.__onMouse("mouseMove",this.__pendingMouseX,this.__pendingMouseY,0),this.__pendingMouseEvent=!1)},__dispatchStack:function(t,e){if(this.__uncaughtErrorEvents.__enabled)try{var i=e.length;if(0==i){t.eventPhase=2;var s=t.target;s.__dispatch(t)}else{t.eventPhase=1,t.target=e[e.length-1];for(var n=0,r=i-1;n<r;){var a=n++;if(e[a].__dispatch(t),t.__isCanceled)return}if(t.eventPhase=2,(s=t.target).__dispatch(t),!t.__isCanceled&&t.bubbles)for(t.eventPhase=3,a=i-2;0<=a&&(e[a].__dispatch(t),!t.__isCanceled);)--a}}catch(e){Ma.lastError=e,t=wa.caught(e).unwrap(),this.__handleError(t)}else if(0==(i=e.length))t.eventPhase=2,(s=t.target).__dispatch(t);else{for(t.eventPhase=1,t.target=e[e.length-1],n=0,r=i-1;n<r;)if(e[a=n++].__dispatch(t),t.__isCanceled)return;if(t.eventPhase=2,(s=t.target).__dispatch(t),!t.__isCanceled&&t.bubbles)for(t.eventPhase=3,a=i-2;0<=a&&(e[a].__dispatch(t),!t.__isCanceled);)--a}},__dispatchTarget:function(t,e){if(!this.__uncaughtErrorEvents.__enabled)return t.__dispatchEvent(e);try{return t.__dispatchEvent(e)}catch(e){return Ma.lastError=e,t=wa.caught(e).unwrap(),this.__handleError(t),!1}},__drag:function(t){var e=this.__dragObject.parent;if(null!=e){var i=(e=e.__getWorldTransform()).a*e.d-e.b*e.c;if(0==i)t.x=-e.tx,t.y=-e.ty;else{var s=1/i*(e.c*(e.ty-t.y)+e.d*(t.x-e.tx));t.y=1/i*(e.a*(t.y-e.ty)+e.b*(e.tx-t.x)),t.x=s}}e=t.x+this.__dragOffsetX,t=t.y+this.__dragOffsetY,null!=this.__dragBounds&&(e<this.__dragBounds.x?e=this.__dragBounds.x:e>this.__dragBounds.get_right()&&(e=this.__dragBounds.get_right()),t<this.__dragBounds.y?t=this.__dragBounds.y:t>this.__dragBounds.get_bottom()&&(t=this.__dragBounds.get_bottom())),this.__dragObject.set_x(e),this.__dragObject.set_y(t)},__getInteractive:function(t){return null!=t&&t.push(this),!0},__globalToLocal:function(t,e){return t!=e&&e.copyFrom(t),e},__handleError:function(t){var e=new Td("uncaughtError",!0,!0,t);try{I_.get_current().__loaderInfo.uncaughtErrorEvents.dispatchEvent(e)}catch(t){Ma.lastError=t}if(!e.__preventDefault){e=xa.toString(xa.exceptionStack()),console.log(e),e=g.string(t),console.log(e);try{if(null!=t&&Object.prototype.hasOwnProperty.call(t,"stack")&&null!=t.stack&&""!=t.stack)console.log(t.stack),t.stack=t.stack;else{var i=xa.toString(xa.callStack());console.log(i)}}catch(t){Ma.lastError=t}throw t}},__onKey:function(t,e,i){this.__dispatchPendingMouseEvent(),vd.__altKey=Jh.get_altKey(i),vd.__commandKey=Jh.get_metaKey(i),vd.__ctrlKey=Jh.get_ctrlKey(i),vd.__shiftKey=Jh.get_shiftKey(i);var s=[];if(null==this.__focus?this.__getInteractive(s):this.__focus.__getInteractive(s),0<s.length){switch(e){case 1073741908:case 1073741909:case 1073741910:case 1073741911:case 1073741912:case 1073741913:case 1073741914:case 1073741915:case 1073741916:case 1073741917:case 1073741918:case 1073741919:case 1073741920:case 1073741921:case 1073741922:case 1073741923:case 1073742044:var n=3;break;case 1073742048:case 1073742049:case 1073742050:case 1073742051:n=1;break;case 1073742052:case 1073742053:case 1073742054:case 1073742055:n=2;break;default:n=0}switch(e){case 8:e=8;break;case 9:e=9;break;case 13:case 1073741912:case 1073741982:e=13;break;case 27:e=27;break;case 32:e=32;break;case 33:case 49:e=49;break;case 34:case 39:e=222;break;case 35:case 51:e=51;break;case 36:case 52:e=52;break;case 37:case 53:e=53;break;case 38:case 55:e=55;break;case 40:case 57:e=57;break;case 41:case 48:e=48;break;case 42:case 56:e=56;break;case 44:e=188;break;case 45:case 95:e=189;break;case 46:case 62:e=190;break;case 47:case 63:e=191;break;case 50:case 64:e=50;break;case 54:case 94:e=54;break;case 58:case 59:e=186;break;case 60:e=60;break;case 61:e=187;break;case 91:e=219;break;case 92:e=220;break;case 93:e=221;break;case 96:e=192;break;case 97:e=65;break;case 98:e=66;break;case 99:e=67;break;case 100:e=68;break;case 101:e=69;break;case 102:e=70;break;case 103:e=71;break;case 104:e=72;break;case 105:e=73;break;case 106:e=74;break;case 107:e=75;break;case 108:e=76;break;case 109:e=77;break;case 110:e=78;break;case 111:e=79;break;case 112:e=80;break;case 113:e=81;break;case 114:e=82;break;case 115:e=83;break;case 116:e=84;break;case 117:e=85;break;case 118:e=86;break;case 119:e=87;break;case 120:e=88;break;case 121:e=89;break;case 122:e=90;break;case 127:e=46;break;case 1073741881:e=20;break;case 1073741882:e=112;break;case 1073741883:e=113;break;case 1073741884:e=114;break;case 1073741885:e=115;break;case 1073741886:e=116;break;case 1073741887:e=117;break;case 1073741888:e=118;break;case 1073741889:e=119;break;case 1073741890:e=120;break;case 1073741891:e=121;break;case 1073741892:e=122;break;case 1073741893:e=123;break;case 1073741894:e=301;break;case 1073741895:e=145;break;case 1073741896:e=19;break;case 1073741897:e=45;break;case 1073741898:e=36;break;case 1073741899:e=33;break;case 1073741901:e=35;break;case 1073741902:e=34;break;case 1073741903:e=39;break;case 1073741904:e=37;break;case 1073741905:e=40;break;case 1073741906:e=38;break;case 1073741907:e=144;break;case 1073741908:e=111;break;case 1073741909:e=106;break;case 1073741910:e=109;break;case 1073741911:e=107;break;case 1073741913:e=97;break;case 1073741914:e=98;break;case 1073741915:e=99;break;case 1073741916:e=100;break;case 1073741917:e=101;break;case 1073741918:e=102;break;case 1073741919:e=103;break;case 1073741920:e=104;break;case 1073741921:e=105;break;case 1073741922:e=96;break;case 1073741923:case 1073742044:e=110;break;case 1073741925:e=302;break;case 1073741928:e=124;break;case 1073741929:e=125;break;case 1073741930:e=126;break;case 1073742048:case 1073742052:e=17;break;case 1073742049:case 1073742053:e=16;break;case 1073742050:case 1073742054:e=18;break;case 1073742051:case 1073742055:e=15}var r=xm.__getCharCode(e,Jh.get_shiftKey(i));if("keyUp"==t&&(32==e||13==e)&&this.__focus instanceof D){var a=vo.__cast(this.__focus,D);if(a.get_buttonMode()&&1==a.focusRect){var o=Ye.__pool.get(),l=Ye.__pool.get();l.x=this.__mouseX,l.y=this.__mouseY,a=vd.__create("click",0,this.__mouseX,this.__mouseY,a.__globalToLocal(l,o),a),this.__dispatchStack(a,s),Ye.__pool.release(l),Ye.__pool.release(o)}}if(n=new bd(t,!0,!0,r,e,n,this.__macKeyboard?Jh.get_ctrlKey(i)||Jh.get_metaKey(i):Jh.get_ctrlKey(i),Jh.get_altKey(i),Jh.get_shiftKey(i),Jh.get_ctrlKey(i),Jh.get_metaKey(i)),s.reverse(),this.__dispatchStack(n,s),n.__preventDefault)"keyDown"==t?this.window.onKeyDown.cancel():this.window.onKeyUp.cancel();else if("keyDown"==t&&9==e){if(s=[],this.__tabTest(s),e=-1,t=null,n=Jh.get_shiftKey(i)?-1:1,1<s.length){if(Va.sort(s,function(t,e){return t.get_tabIndex()-e.get_tabIndex()}),-1!=s[s.length-1].get_tabIndex())for(o=0;o<s.length;){if(-1<s[o].get_tabIndex()){0<o&&s.splice(0,o);break}++o}if(null!=this.get_focus()){for(o=this.get_focus(),r=s.indexOf(o);-1==r&&null!=o;){if(null!=(e=o.parent)&&e.get_tabChildren()){if(-1==(o=e.getChildIndex(o))){o=e;continue}for(o+=n;Jh.get_shiftKey(i)?0<=o:o<e.get_numChildren();){if((l=e.getChildAt(o))instanceof F&&(r=vo.__cast(l,F),-1!=(r=s.indexOf(r)))){n=0;break}o+=n}}else Jh.get_shiftKey(i)&&-1!=(r=s.indexOf(e))&&(n=0);o=e}e=0>r?0:r+n}else e=this.__currentTabOrderIndex}else 1==s.length&&(t=s[0],this.get_focus()==t&&(t=null));r=0<=e&&e<s.length,1==s.length||0==s.length&&null!=this.get_focus()?e=0:1<s.length&&(0>e&&(e+=s.length),(t=s[e%=s.length])==this.get_focus()&&(0>(e+=n)&&(e+=s.length),t=s[e%=s.length])),n=null,null!=this.get_focus()&&(n=new md("keyFocusChange",!0,!0,t,Jh.get_shiftKey(i),0),s=[],this.get_focus().__getInteractive(s),s.reverse(),this.__dispatchStack(n,s),n.isDefaultPrevented()&&this.window.onKeyDown.cancel()),null!=n&&n.isDefaultPrevented()||(this.__currentTabOrderIndex=e,null!=t&&this.set_focus(t),r&&this.window.onKeyDown.cancel())}}},__onLimeCreateWindow:function(t){if(this.window==t){var e=n(this,this.__onLimeWindowActivate);t.onActivate.add(function(){e(t)});var i=n(this,this.__onLimeWindowClose);t.onClose.add(function(){i(t)},!1,-9e3);var s=n(this,this.__onLimeWindowDeactivate);t.onDeactivate.add(function(){s(t)});var r=n(this,this.__onLimeWindowDropFile),a=function(e){r(t,e)};t.onDropFile.add(a);var o=n(this,this.__onLimeWindowEnter);t.onEnter.add(function(){o(t)});var l=n(this,this.__onLimeWindowExpose);t.onExpose.add(function(){l(t)});var h=n(this,this.__onLimeWindowFocusIn);t.onFocusIn.add(function(){h(t)});var _=n(this,this.__onLimeWindowFocusOut);t.onFocusOut.add(function(){_(t)});var c=n(this,this.__onLimeWindowFullscreen);t.onFullscreen.add(function(){c(t)});var u=n(this,this.__onLimeKeyDown);a=function(e,i){u(t,e,i)},t.onKeyDown.add(a);var d=n(this,this.__onLimeKeyUp);a=function(e,i){d(t,e,i)},t.onKeyUp.add(a);var m=n(this,this.__onLimeWindowLeave);t.onLeave.add(function(){m(t)});var p=n(this,this.__onLimeWindowMinimize);t.onMinimize.add(function(){p(t)});var f=n(this,this.__onLimeMouseDown);a=function(e,i,s){f(t,e,i,s)},t.onMouseDown.add(a);var g=n(this,this.__onLimeMouseMove);a=function(e,i){g(t,e,i)},t.onMouseMove.add(a);var y=n(this,this.__onLimeMouseMoveRelative);a=function(e,i){y(t,e,i)},t.onMouseMoveRelative.add(a);var b=n(this,this.__onLimeMouseUp);a=function(e,i,s){b(t,e,i,s)},t.onMouseUp.add(a);var v=n(this,this.__onLimeMouseWheel);a=function(e,i,s){v(t,e,i,s)},t.onMouseWheel.add(a);var x=n(this,this.__onLimeWindowMove);a=function(e,i){x(t,e,i)},t.onMove.add(a),t.onRender.add(n(this,this.__onLimeRender)),t.onRenderContextLost.add(n(this,this.__onLimeRenderContextLost)),t.onRenderContextRestored.add(n(this,this.__onLimeRenderContextRestored));var w=n(this,this.__onLimeWindowResize);a=function(e,i){w(t,e,i)},t.onResize.add(a);var R=n(this,this.__onLimeWindowRestore);t.onRestore.add(function(){R(t)});var S=n(this,this.__onLimeTextEdit);a=function(e,i,s){S(t,e,i,s)},t.onTextEdit.add(a);var A=n(this,this.__onLimeTextInput);a=function(e){A(t,e)},t.onTextInput.add(a),this.__onLimeWindowCreate(t)}},__onLimeGamepadAxisMove:function(t,e,i){if(this.__uncaughtErrorEvents.__enabled)try{ym.__onGamepadAxisMove(t,e,i)}catch(e){Ma.lastError=e,t=wa.caught(e).unwrap(),this.__handleError(t)}else ym.__onGamepadAxisMove(t,e,i)},__onLimeGamepadButtonDown:function(t,e){if(this.__uncaughtErrorEvents.__enabled)try{ym.__onGamepadButtonDown(t,e)}catch(e){Ma.lastError=e,t=wa.caught(e).unwrap(),this.__handleError(t)}else ym.__onGamepadButtonDown(t,e)},__onLimeGamepadButtonUp:function(t,e){if(this.__uncaughtErrorEvents.__enabled)try{ym.__onGamepadButtonUp(t,e)}catch(e){Ma.lastError=e,t=wa.caught(e).unwrap(),this.__handleError(t)}else ym.__onGamepadButtonUp(t,e)},__onLimeGamepadConnect:function(t){if(this.__uncaughtErrorEvents.__enabled)try{ym.__onGamepadConnect(t)}catch(t){Ma.lastError=t;var e=wa.caught(t).unwrap();this.__handleError(e)}else ym.__onGamepadConnect(t);var i=n(this,this.__onLimeGamepadAxisMove);e=function(e,s){i(t,e,s)},t.onAxisMove.add(e);var s=n(this,this.__onLimeGamepadButtonDown);e=function(e){s(t,e)},t.onButtonDown.add(e);var r=n(this,this.__onLimeGamepadButtonUp);e=function(e){r(t,e)},t.onButtonUp.add(e);var a=n(this,this.__onLimeGamepadDisconnect);t.onDisconnect.add(function(){a(t)})},__onLimeGamepadDisconnect:function(t){if(this.__uncaughtErrorEvents.__enabled)try{ym.__onGamepadDisconnect(t)}catch(e){Ma.lastError=e,t=wa.caught(e).unwrap(),this.__handleError(t)}else ym.__onGamepadDisconnect(t)},__onLimeKeyDown:function(t,e,i){null!=this.window&&this.window==t&&this.__onKey("keyDown",e,i)},__onLimeKeyUp:function(t,e,i){null!=this.window&&this.window==t&&this.__onKey("keyUp",e,i)},__onLimeModuleExit:function(t){null!=this.window&&(t=new _i("deactivate"),this.__broadcastEvent(t))},__onLimeMouseDown:function(t,e,i,s){if(null!=this.window&&this.window==t){switch(this.__dispatchPendingMouseEvent(),s){case 1:var n="middleMouseDown";break;case 2:n="rightMouseDown";break;default:n="mouseDown"}this.__onMouse(n,e*t.__scale|0,i*t.__scale|0,s),this.showDefaultContextMenu||2!=s||t.onMouseDown.cancel()}},__onLimeMouseMove:function(t,e,i){null!=this.window&&this.window==t&&(this.__pendingMouseEvent=!0,this.__pendingMouseX=e*t.__scale|0,this.__pendingMouseY=i*t.__scale|0)},__onLimeMouseMoveRelative:function(t,e,i){},__onLimeMouseUp:function(t,e,i,s){if(null!=this.window&&this.window==t){switch(this.__dispatchPendingMouseEvent(),s){case 1:var n="middleMouseUp";break;case 2:n="rightMouseUp";break;default:n="mouseUp"}this.__onMouse(n,e*t.__scale|0,i*t.__scale|0,s),this.showDefaultContextMenu||2!=s||t.onMouseUp.cancel()}},__onLimeMouseWheel:function(t,e,i,s){null!=this.window&&this.window==t&&(this.__dispatchPendingMouseEvent(),s==Qh.PIXELS?this.__onMouseWheel(e*t.__scale|0,i*t.__scale|0,s):this.__onMouseWheel(0|e,0|i,s))},__onLimeRender:function(t){if(!this.__rendering){if(this.__rendering=!0,this.__broadcastEvent(new _i("enterFrame")),this.__broadcastEvent(new _i("frameConstructed")),this.__broadcastEvent(new _i("exitFrame")),this.__renderable=!0,this.__enterFrame(this.__deltaTime),this.__deltaTime=0,t=null!=this.__renderer&&(this.__renderDirty||this.__forceRender),this.__invalidated&&t){this.__invalidated=!1;var e=new _i("render");this.__broadcastEvent(e)}if(this.__update(!1,!0),null!=this.__renderer){if(null!=this.context3D){for(e=this.stage3Ds.iterator();e.hasNext();){var i=e.next();this.context3D.__renderStage3D(i)}this.context3D.__present&&(t=!0)}t?(null==this.context3D&&this.__renderer.__clear(),this.__renderer.__render(this)):null==this.context3D&&this.window.onRender.cancel(),null!=this.context3D&&(this.context3D.__present?(this.__renderer.__cleared||this.__renderer.__clear(),this.context3D.__present=!1,this.context3D.__cleared=!1):this.window.onRender.cancel()),this.__renderer.__cleared=!1}this.__rendering=!1}},__onLimeRenderContextLost:function(){this.context3D=this.__renderer=null;for(var t=this.stage3Ds.iterator();t.hasNext();)t.next().__lostContext()},__onLimeRenderContextRestored:function(t){for(this.__createRenderer(),t=this.stage3Ds.iterator();t.hasNext();)t.next().__restoreContext()},__onLimeTextEdit:function(t,e,i,s){},__onLimeTextInput:function(t,e){if(null!=this.window&&this.window==t){var i=[];null==this.__focus?this.__getInteractive(i):this.__focus.__getInteractive(i),e=new _d("textInput",!0,!0,e),0<i.length?(i.reverse(),this.__dispatchStack(e,i)):this.__dispatchEvent(e),e.isDefaultPrevented()&&t.onTextInput.cancel()}},__onLimeTouchCancel:function(t){var e=this.__primaryTouch==t;e&&(this.__primaryTouch=null),this.__onTouch("touchEnd",t,e)},__onLimeTouchMove:function(t){this.__onTouch("touchMove",t,this.__primaryTouch==t)},__onLimeTouchEnd:function(t){var e=this.__primaryTouch==t;e&&(this.__primaryTouch=null),this.__onTouch("touchEnd",t,e)},__onLimeTouchStart:function(t){null==this.__primaryTouch&&(this.__primaryTouch=t),this.__onTouch("touchBegin",t,this.__primaryTouch==t)},__onLimeUpdate:function(t){this.__deltaTime=t,this.__dispatchPendingMouseEvent()},__onLimeWindowActivate:function(t){},__onLimeWindowClose:function(t){this.window==t&&(this.window=null),this.__primaryTouch=null,t=new _i("deactivate"),this.__broadcastEvent(t)},__onLimeWindowCreate:function(t){null!=this.window&&this.window==t&&null!=t.context&&this.__createRenderer()},__onLimeWindowDeactivate:function(t){},__onLimeWindowDropFile:function(t,e){},__onLimeWindowEnter:function(t){},__onLimeWindowExpose:function(t){null!=this.window&&this.window==t&&(this.__renderDirty=!0)},__onLimeWindowFocusIn:function(t){null!=this.window&&this.window==t&&(this.__renderDirty=!0,t=new _i("activate"),this.__broadcastEvent(t),this.set_focus(this.__cacheFocus))},__onLimeWindowFocusOut:function(t){null!=this.window&&this.window==t&&(this.__primaryTouch=null,t=new _i("deactivate"),this.__broadcastEvent(t),t=this.get_focus(),this.set_focus(null),this.__cacheFocus=t,vd.__altKey=!1,vd.__commandKey=!1,vd.__ctrlKey=!1,vd.__shiftKey=!1)},__onLimeWindowFullscreen:function(t){null!=this.window&&this.window==t&&(this.__resize(),this.__wasFullscreen||(this.__wasFullscreen=!0,2==this.__displayState&&(this.__displayState=1),this.__dispatchEvent(new pd("fullScreen",!1,!1,!0,!0))))},__onLimeWindowLeave:function(t){null==this.window||this.window!=t||vd.__buttonDown||(this.__dispatchPendingMouseEvent(),t=new _i("mouseLeave"),this.__dispatchEvent(t))},__onLimeWindowMinimize:function(t){},__onLimeWindowMove:function(t,e,i){},__onLimeWindowResize:function(t,e,i){null!=this.window&&this.window==t&&(this.__resize(),this.__wasFullscreen&&!t.__fullscreen&&(this.__wasFullscreen=!1,this.__displayState=2,this.__dispatchEvent(new pd("fullScreen",!1,!1,!1,!0))))},__onLimeWindowRestore:function(t){null!=this.window&&this.window==t&&this.__wasFullscreen&&!t.__fullscreen&&(this.__wasFullscreen=!1,this.__displayState=2,this.__dispatchEvent(new pd("fullScreen",!1,!1,!1,!0)))},__onMouse:function(t,e,i,s){if(!(2<s)){var n=Ye.__pool.get();if(n.setTo(e,i),0==(i=(e=this.__displayMatrix).a*e.d-e.b*e.c))n.x=-e.tx,n.y=-e.ty;else{var r=1/i*(e.c*(e.ty-n.y)+e.d*(n.x-e.tx));n.y=1/i*(e.a*(n.y-e.ty)+e.b*(e.tx-n.x)),n.x=r}this.__mouseX=n.x,this.__mouseY=n.y,e=[],this.__hitTest(this.__mouseX,this.__mouseY,!0,e,!0,this)?r=e[e.length-1]:(r=this,e=[this]),null==r&&(r=this);var a=null;switch(t){case"middleMouseDown":this.__mouseDownMiddle=r;break;case"middleMouseUp":this.__mouseDownMiddle==r&&(a="middleClick"),this.__mouseDownMiddle=null;break;case"mouseDown":null!=this.get_focus()?this.get_focus()!=r&&(i=new md("mouseFocusChange",!0,!0,r,!1,0),this.get_focus().dispatchEvent(i),i.isDefaultPrevented()||(r.__allowMouseFocus()?this.set_focus(r):this.set_focus(null))):r.__allowMouseFocus()?this.set_focus(r):this.set_focus(null),this.__mouseDownLeft=r,vd.__buttonDown=!0;break;case"mouseUp":if(null!=this.__mouseDownLeft){if(vd.__buttonDown=!1,this.__mouseDownLeft==r)a="click";else{var o=vd.__create("releaseOutside",1,this.__mouseX,this.__mouseY,new Ye(this.__mouseX,this.__mouseY),this);this.__mouseDownLeft.dispatchEvent(o)}this.__mouseDownLeft=null}break;case"rightMouseDown":this.__mouseDownRight=r;break;case"rightMouseUp":this.__mouseDownRight==r&&(a="rightClick"),this.__mouseDownRight=null}if(i=Ye.__pool.get(),o=vd.__create(t,s,this.__mouseX,this.__mouseY,r.__globalToLocal(n,i),r),this.__dispatchStack(o,e),null!=a&&(o=vd.__create(a,s,this.__mouseX,this.__mouseY,r.__globalToLocal(n,i),r),this.__dispatchStack(o,e),"mouseUp"==t&&r.doubleClickEnabled&&(500>(t=I_.getTimer())-this.__lastClickTime&&r==this.__lastClickTarget?(o=vd.__create("doubleClick",s,this.__mouseX,this.__mouseY,r.__globalToLocal(n,i),r),this.__dispatchStack(o,e),this.__lastClickTime=0,this.__lastClickTarget=null):(this.__lastClickTarget=r,this.__lastClickTime=t))),"auto"==wm.__cursor&&!wm.__hidden){if(o=null,null!=this.__mouseDownLeft)o=this.__mouseDownLeft.__getCursor();else for(t=0;t<e.length;)if(o=e[t],++t,null!=(o=o.__getCursor())&&null!=this.window){this.window.set_cursor(Sm.toLimeCursor(o));break}null==o&&null!=this.window&&this.window.set_cursor(Zh.ARROW)}for(r!=this.__mouseOverTarget&&null!=this.__mouseOverTarget&&(o=vd.__create("mouseOut",s,this.__mouseX,this.__mouseY,this.__mouseOverTarget.__globalToLocal(n,i),this.__mouseOverTarget),this.__dispatchStack(o,this.__mouseOutStack)),t=0;t<this.__rollOutStack.length;)a=this.__rollOutStack[t],-1==e.indexOf(a)?(c.remove(this.__rollOutStack,a),(o=vd.__create("rollOut",s,this.__mouseX,this.__mouseY,this.__mouseOverTarget.__globalToLocal(n,i),a)).bubbles=!1,this.__dispatchTarget(a,o)):++t;for(t=0;t<e.length;)a=e[t],++t,-1==this.__rollOutStack.indexOf(a)&&null!=this.__mouseOverTarget&&(a.hasEventListener("rollOver")&&((o=vd.__create("rollOver",s,this.__mouseX,this.__mouseY,this.__mouseOverTarget.__globalToLocal(n,i),a)).bubbles=!1,this.__dispatchTarget(a,o)),(a.hasEventListener("rollOut")||a.hasEventListener("rollOver"))&&this.__rollOutStack.push(a));r!=this.__mouseOverTarget&&(null!=r&&(o=vd.__create("mouseOver",s,this.__mouseX,this.__mouseY,r.__globalToLocal(n,i),r),this.__dispatchStack(o,e)),this.__mouseOverTarget=r,this.__mouseOutStack=e),null!=this.__dragObject&&(this.__drag(n),s=null,this.__mouseOverTarget==this.__dragObject?(r=this.__dragObject.mouseEnabled,t=this.__dragObject.mouseChildren,this.__dragObject.mouseEnabled=!1,this.__dragObject.mouseChildren=!1,e=[],this.__hitTest(this.__mouseX,this.__mouseY,!0,e,!0,this)&&(s=e[e.length-1]),this.__dragObject.mouseEnabled=r,this.__dragObject.mouseChildren=t):this.__mouseOverTarget!=this&&(s=this.__mouseOverTarget),this.__dragObject.dropTarget=s),Ye.__pool.release(n),Ye.__pool.release(i)}},__onMouseWheel:function(t,e,i){var s=this.__mouseX,n=this.__mouseY;if(t=[],this.__hitTest(this.__mouseX,this.__mouseY,!0,t,!0,this))var r=t[t.length-1];else r=this,t=[this];if(null==r&&(r=this),(i=Ye.__pool.get()).setTo(s,n),0==(n=(s=this.__displayMatrix).a*s.d-s.b*s.c))i.x=-s.tx,i.y=-s.ty;else{var a=1/n*(s.c*(s.ty-i.y)+s.d*(i.x-s.tx));i.y=1/n*(s.a*(i.y-s.ty)+s.b*(s.tx-i.x)),i.x=a}e|=0,(e=vd.__create("mouseWheel",0,this.__mouseX,this.__mouseY,r.__globalToLocal(i,i),r,e)).cancelable=!0,this.__dispatchStack(e,t),e.isDefaultPrevented()&&this.window.onMouseWheel.cancel(),Ye.__pool.release(i)},__onTouch:function(t,e,i){var s=Ye.__pool.get();s.setTo(Math.round(e.x*this.window.__width*this.window.__scale),Math.round(e.y*this.window.__height*this.window.__scale));var n=this.__displayMatrix,r=n.a*n.d-n.b*n.c;if(0==r)s.x=-n.tx,s.y=-n.ty;else{var a=1/r*(n.c*(n.ty-s.y)+n.d*(s.x-n.tx));s.y=1/r*(n.a*(s.y-n.ty)+n.b*(n.tx-s.x)),s.x=a}if(n=s.x,r=s.y,a=[],this.__hitTest(n,r,!1,a,!0,this))var o=a[a.length-1];else o=this,a=[this];null==o&&(o=this);var l=e.id;if(this.__touchData.h.hasOwnProperty(l))var h=this.__touchData.h[l];else(h=Ym.__pool.get()).reset(),h.touch=e,this.__touchData.h[l]=h;var _=null,u=!1;switch(t){case"touchBegin":h.touchDownTarget=o;break;case"touchEnd":h.touchDownTarget==o&&(_="touchTap"),h.touchDownTarget=null,u=!0}var d=Ye.__pool.get();(t=Ad.__create(t,null,n,r,o.__globalToLocal(s,d),o)).touchPointID=l,t.isPrimaryTouchPoint=i,t.pressure=e.pressure,this.__dispatchStack(t,a),null!=_&&((t=Ad.__create(_,null,n,r,o.__globalToLocal(s,d),o)).touchPointID=l,t.isPrimaryTouchPoint=i,t.pressure=e.pressure,this.__dispatchStack(t,a)),o!=(_=h.touchOverTarget)&&null!=_&&((t=Ad.__create("touchOut",null,n,r,_.__globalToLocal(s,d),_)).touchPointID=l,t.isPrimaryTouchPoint=i,t.pressure=e.pressure,this.__dispatchTarget(_,t));for(var m,p=h.rollOutStack,f=0;f<p.length;)m=p[f],-1==a.indexOf(m)?(c.remove(p,m),(t=Ad.__create("touchRollOut",null,n,r,_.__globalToLocal(s,d),_)).touchPointID=l,t.isPrimaryTouchPoint=i,t.bubbles=!1,t.pressure=e.pressure,this.__dispatchTarget(m,t)):++f;for(f=0;f<a.length;)m=a[f],++f,-1==p.indexOf(m)&&(m.hasEventListener("touchRollOver")&&((t=Ad.__create("touchRollOver",null,n,r,_.__globalToLocal(s,d),m)).touchPointID=l,t.isPrimaryTouchPoint=i,t.bubbles=!1,t.pressure=e.pressure,this.__dispatchTarget(m,t)),m.hasEventListener("touchRollOut")&&p.push(m));o!=_&&(null!=o&&((t=Ad.__create("touchOver",null,n,r,o.__globalToLocal(s,d),o)).touchPointID=l,t.isPrimaryTouchPoint=i,t.bubbles=!0,t.pressure=e.pressure,this.__dispatchTarget(o,t)),h.touchOverTarget=o),Ye.__pool.release(s),Ye.__pool.release(d),u&&(this.__touchData.remove(l),h.reset(),Ym.__pool.release(h))},__registerLimeModule:function(t){for(t.onCreateWindow.add(n(this,this.__onLimeCreateWindow)),t.onUpdate.add(n(this,this.__onLimeUpdate)),t.onExit.add(n(this,this.__onLimeModuleExit),!1,0),t=jh.devices.iterator();t.hasNext();){var e=t.next();this.__onLimeGamepadConnect(e)}jh.onConnect.add(n(this,this.__onLimeGamepadConnect)),qh.onStart.add(n(this,this.__onLimeTouchStart)),qh.onMove.add(n(this,this.__onLimeTouchMove)),qh.onEnd.add(n(this,this.__onLimeTouchEnd)),qh.onCancel.add(n(this,this.__onLimeTouchCancel))},__resize:function(){var t=this.stageWidth,e=this.stageHeight,i=this.window.__width*this.window.__scale|0,s=this.window.__height*this.window.__scale|0;if(this.__displayMatrix.identity(),null!=this.get_fullScreenSourceRect()&&this.window.__fullscreen){this.stageWidth=0|this.get_fullScreenSourceRect().width,this.stageHeight=0|this.get_fullScreenSourceRect().height;var n=i/this.stageWidth,r=s/this.stageHeight;this.__displayMatrix.translate(-this.get_fullScreenSourceRect().x,-this.get_fullScreenSourceRect().y),this.__displayMatrix.scale(n,r),this.__displayRect.setTo(this.get_fullScreenSourceRect().get_left(),this.get_fullScreenSourceRect().get_right(),this.get_fullScreenSourceRect().get_top(),this.get_fullScreenSourceRect().get_bottom())}else if(0==this.__logicalWidth||0==this.__logicalHeight||2==this.get_scaleMode()||0==i||0==s)this.stageWidth=Math.round(i/this.window.__scale),this.stageHeight=Math.round(s/this.window.__scale),this.__displayMatrix.scale(this.window.__scale,this.window.__scale),this.__displayRect.setTo(0,0,this.stageWidth,this.stageHeight);else switch(this.stageWidth=this.__logicalWidth,this.stageHeight=this.__logicalHeight,this.get_scaleMode()){case 0:n=i/this.stageWidth,r=s/this.stageHeight,this.__displayMatrix.scale(n,r),this.__displayRect.setTo(0,0,this.stageWidth,this.stageHeight);break;case 1:n=i/this.stageWidth,r=s/this.stageHeight,n=Math.max(n,r),r=this.stageWidth*n;var a=this.stageHeight*n;r=this.stageWidth-Math.round((r-i)/n),a=this.stageHeight-Math.round((a-s)/n);var o=Math.round((this.stageWidth-r)/2),l=Math.round((this.stageHeight-a)/2);this.__displayMatrix.translate(-o,-l),this.__displayMatrix.scale(n,n),this.__displayRect.setTo(o,l,r,a);break;default:n=i/this.stageWidth,r=s/this.stageHeight,n=Math.min(n,r),r=this.stageWidth*n,a=this.stageHeight*n,r=this.stageWidth-Math.round((r-i)/n),a=this.stageHeight-Math.round((a-s)/n),o=Math.round((this.stageWidth-r)/2),l=Math.round((this.stageHeight-a)/2),this.__displayMatrix.translate(-o,-l),this.__displayMatrix.scale(n,n),this.__displayRect.setTo(o,l,r,a)}for(null!=this.context3D&&this.context3D.configureBackBuffer(this.stageWidth,this.stageHeight,0,!0,!0,!0),n=this.stage3Ds.iterator();n.hasNext();)n.next().__resize(i,s);null!=this.__renderer&&this.__renderer.__resize(i,s),this.__renderDirty=!0,this.stageWidth==t&&this.stageHeight==e||(this.__setTransformDirty(),t=new _i("resize"),this.__dispatchEvent(t))},__setLogicalSize:function(t,e){this.__logicalWidth=t,this.__logicalHeight=e,this.__resize()},__startDrag:function(t,e,i){if(null==i)this.__dragBounds=null;else{this.__dragBounds=new je;var s=i.get_right(),n=i.get_bottom();this.__dragBounds.x=s<i.x?s:i.x,this.__dragBounds.y=n<i.y?n:i.y,this.__dragBounds.width=Math.abs(i.width),this.__dragBounds.height=Math.abs(i.height)}this.__dragObject=t,null!=this.__dragObject&&(e?this.__dragOffsetY=this.__dragOffsetX=0:((t=Ye.__pool.get()).setTo(this.get_mouseX(),this.get_mouseY()),null!=(e=this.__dragObject.parent)&&(0==(i=(e=e.__getWorldTransform()).a*e.d-e.b*e.c)?(t.x=-e.tx,t.y=-e.ty):(s=1/i*(e.c*(e.ty-t.y)+e.d*(t.x-e.tx)),t.y=1/i*(e.a*(t.y-e.ty)+e.b*(e.tx-t.x)),t.x=s)),this.__dragOffsetX=this.__dragObject.get_x()-t.x,this.__dragOffsetY=this.__dragObject.get_y()-t.y,Ye.__pool.release(t)))},__stopDrag:function(t){this.__dragObject=this.__dragBounds=null},__unregisterLimeModule:function(t){t.onCreateWindow.remove(n(this,this.__onLimeCreateWindow)),t.onUpdate.remove(n(this,this.__onLimeUpdate)),t.onExit.remove(n(this,this.__onLimeModuleExit)),jh.onConnect.remove(n(this,this.__onLimeGamepadConnect)),qh.onStart.remove(n(this,this.__onLimeTouchStart)),qh.onMove.remove(n(this,this.__onLimeTouchMove)),qh.onEnd.remove(n(this,this.__onLimeTouchEnd)),qh.onCancel.remove(n(this,this.__onLimeTouchCancel))},__update:function(t,e){t?this.__transformDirty&&(B.prototype.__update.call(this,!0,e),e&&(this.__transformDirty=!1)):this.__transformDirty||this.__renderDirty?(B.prototype.__update.call(this,!1,e),e&&k.__supportDOM&&(this.__wasDirty=!0)):!this.__renderDirty&&this.__wasDirty&&(B.prototype.__update.call(this,!1,e),e&&(this.__wasDirty=!1))},get_color:function(){return this.__color},set_color:function(t){return null==t?(this.__transparent=!0,t=0):this.__transparent=!1,this.__color!=t&&(this.__colorSplit[0]=((16711680&t)>>>16)/255,this.__colorSplit[1]=((65280&t)>>>8)/255,this.__colorSplit[2]=(255&t)/255,this.__colorString="#"+v.hex(16777215&t,6),this.__renderDirty=!0,this.__color=-16777216|16777215&t),t},get_contentsScaleFactor:function(){return this.__contentsScaleFactor},get_displayState:function(){return this.__displayState},set_displayState:function(t){return null!=this.window&&(2==t?this.window.__fullscreen&&this.window.set_fullscreen(!1):this.window.__fullscreen||this.window.set_fullscreen(!0)),this.__displayState=t},get_focus:function(){return this.__focus},set_focus:function(t){if(t!=this.__focus){var e=this.__focus;if(this.__cacheFocus=this.__focus=t,null!=e){var i=new md("focusOut",!0,!1,t,!1,0),s=[];e.__getInteractive(s),s.reverse(),this.__dispatchStack(i,s)}null!=t&&(i=new md("focusIn",!0,!1,e,!1,0),s=[],t.__getInteractive(s),s.reverse(),this.__dispatchStack(i,s))}return t},get_frameRate:function(){return null!=this.window?this.window.__backend.getFrameRate():0},set_frameRate:function(t){return null!=this.window?this.window.__backend.setFrameRate(t):t},get_fullScreenHeight:function(){return Math.ceil(this.window.get_display().currentMode.height*this.window.__scale)},get_fullScreenSourceRect:function(){return null==this.__fullScreenSourceRect?null:this.__fullScreenSourceRect.clone()},set_fullScreenSourceRect:function(t){return null==t?null!=this.__fullScreenSourceRect&&(this.__fullScreenSourceRect=null,this.__resize()):t.equals(this.__fullScreenSourceRect)||(this.__fullScreenSourceRect=t.clone(),this.__resize()),t},get_fullScreenWidth:function(){return Math.ceil(this.window.get_display().currentMode.width*this.window.__scale)},set_height:function(t){return this.get_height()},get_mouseX:function(){return this.__mouseX},get_mouseY:function(){return this.__mouseY},get_quality:function(){return this.__quality},set_quality:function(t){if(this.__quality=t,null!=this.__renderer){var e=this.get_quality();this.__renderer.__allowSmoothing=2!=e}return t},set_rotation:function(t){return 0},get_scaleMode:function(){return this.__scaleMode},set_scaleMode:function(t){return t!=this.__scaleMode&&(this.__scaleMode=t,this.__resize()),t},set_scaleX:function(t){return 0},set_scaleY:function(t){return 0},get_tabEnabled:function(){return!1},set_tabEnabled:function(t){throw new rd("Error: The Stage class does not implement this property or method.")},get_tabIndex:function(){return-1},set_tabIndex:function(t){throw new rd("Error: The Stage class does not implement this property or method.")},set_transform:function(t){return this.get_transform()},set_width:function(t){return this.get_width()},set_x:function(t){return 0},set_y:function(t){return 0},__class__:Tc,__properties__:i(B.prototype.__properties__,{set_scaleMode:"set_scaleMode",get_scaleMode:"get_scaleMode",set_quality:"set_quality",get_quality:"get_quality",get_fullScreenWidth:"get_fullScreenWidth",set_fullScreenSourceRect:"set_fullScreenSourceRect",get_fullScreenSourceRect:"get_fullScreenSourceRect",get_fullScreenHeight:"get_fullScreenHeight",set_frameRate:"set_frameRate",get_frameRate:"get_frameRate",set_focus:"set_focus",get_focus:"get_focus",set_displayState:"set_displayState",get_displayState:"get_displayState",get_contentsScaleFactor:"get_contentsScaleFactor",set_color:"set_color",get_color:"get_color"})});var Mc=function(t){A.call(this),this.__stage=t,this.__height=0,this.__projectionTransform=new kd,this.__renderTransform=new kd,this.__y=this.__x=this.__width=0,this.visible=!0,0<t.stageWidth&&0<t.stageHeight&&this.__resize(t.stageWidth,t.stageHeight)};r["openfl.display.Stage3D"]=Mc,Mc.__name__="openfl.display.Stage3D",Mc.__super__=A,Mc.prototype=i(A.prototype,{context3D:null,visible:null,__contextLost:null,__contextRequested:null,__height:null,__indexBuffer:null,__projectionTransform:null,__renderTransform:null,__stage:null,__vertexBuffer:null,__width:null,__x:null,__y:null,__canvas:null,__renderContext:null,__style:null,__webgl:null,requestContext3D:function(t,e){this.__contextLost?this.__contextRequested=!0:null!=this.context3D?(this.__contextRequested=!0,Ia.delay(n(this,this.__dispatchCreate),1)):this.__contextRequested||(this.__contextRequested=!0,Ia.delay(n(this,this.__createContext),1))},requestContext3DMatchingProfiles:function(t){this.requestContext3D()},__createContext:function(){var t=this.__stage,e=t.__renderer;if("cairo"==e.__type||"canvas"==e.__type)this.__dispatchError();else if("opengl"==e.__type)this.context3D=new Eu(t,t.context3D.__contextState,this),this.__dispatchCreate();else if("dom"==e.__type)if(null==t.context3D){this.__canvas=window.document.createElement("canvas"),this.__canvas.width=t.stageWidth,this.__canvas.height=t.stageHeight;var i=t.window.context.attributes,s=Object.prototype.hasOwnProperty.call(i,"background")&&null==i.background,n=Object.prototype.hasOwnProperty.call(i,"colorDepth")?i.colorDepth:32;i=Object.prototype.hasOwnProperty.call(i,"antialiasing")&&0<i.antialiasing,this.__webgl=wo.getContextWebGL(this.__canvas,{alpha:s||16<n,antialias:i,depth:!0,premultipliedAlpha:!0,stencil:!0,preserveDrawingBuffer:!1}),null!=this.__webgl&&(null==Wl.context&&(Wl.context=this.__webgl,Wl.type="webgl",Wl.version=1),t.context3D=new Eu(t),t.context3D.configureBackBuffer(t.window.__width,t.window.__height,0,!0,!0,!0),t.context3D.present(),e.element.appendChild(this.__canvas),this.__style=this.__canvas.style,this.__style.setProperty("position","absolute",null),this.__style.setProperty("top","0",null),this.__style.setProperty("left","0",null),this.__style.setProperty(e.__transformOriginProperty,"0 0 0",null),this.__style.setProperty("z-index","-1",null)),null!=t.context3D&&(this.context3D=new Eu(t,t.context3D.__contextState,this)),this.__dispatchCreate()}else this.__dispatchError()},__dispatchError:function(){this.__contextRequested=!1,this.dispatchEvent(new cd("error",!1,!1,"Context3D not available"))},__dispatchCreate:function(){this.__contextRequested&&(this.__contextRequested=!1,this.dispatchEvent(new _i("context3DCreate")))},__lostContext:function(){this.__contextLost=!0,null!=this.context3D&&(this.context3D.__dispose(),this.__contextRequested=!0)},__resize:function(t,e){t==this.__width&&e==this.__height||(null!=this.__canvas&&(this.__canvas.width=t,this.__canvas.height=e),this.__projectionTransform.copyRawDataFrom(M.toFloatVector(null,null,null,[2/(0<t?t:1),0,0,0,0,-2/(0<e?e:1),0,0,0,0,-.001,0,-1,1,0,1])),this.__renderTransform.identity(),this.__renderTransform.appendTranslation(this.__x,this.__y,0),this.__renderTransform.append(this.__projectionTransform),this.__width=t,this.__height=e)},__restoreContext:function(){this.__contextLost=!1,this.__createContext()},get_x:function(){return this.__x},set_x:function(t){return this.__x==t||(this.__x=t,this.__renderTransform.identity(),this.__renderTransform.appendTranslation(this.__x,this.__y,0),this.__renderTransform.append(this.__projectionTransform)),t},get_y:function(){return this.__y},set_y:function(t){return this.__y==t||(this.__y=t,this.__renderTransform.identity(),this.__renderTransform.appendTranslation(this.__x,this.__y,0),this.__renderTransform.append(this.__projectionTransform)),t},__class__:Mc,__properties__:{set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x"}});var Pc=function(t,e,i,s,n,r,a,o){null==o&&(o=0),null==a&&(a=0),null==r&&(r=0),null==n&&(n=1),null==s&&(s=1),null==i&&(i=0),null==e&&(e=0),null==t&&(t=0),this.__id=t,this.__matrix=new yr,0!=e&&this.set_x(e),0!=i&&this.set_y(i),1!=s&&this.set_scaleX(s),1!=n&&this.set_scaleY(n),0!=r&&this.set_rotation(r),this.__dirty=!0,this.__length=0,this.__originX=a,this.__originY=o,this.__alpha=1,this.__blendMode=null,this.__visible=!0};r["openfl.display.Tile"]=Pc,Pc.__name__="openfl.display.Tile",Pc.prototype={data:null,parent:null,__alpha:null,__blendMode:null,__colorTransform:null,__dirty:null,__id:null,__length:null,__matrix:null,__originX:null,__originY:null,__rect:null,__rotation:null,__rotationCosine:null,__rotationSine:null,__scaleX:null,__scaleY:null,__shader:null,__tileset:null,__visible:null,clone:function(){var t=new Pc(this.__id);return t.__alpha=this.__alpha,t.__blendMode=this.__blendMode,t.__originX=this.__originX,t.__originY=this.__originY,null!=this.__rect&&(t.__rect=this.__rect.clone()),t.set_matrix(this.__matrix.clone()),t.__shader=this.__shader,t.set_tileset(this.__tileset),null!=this.__colorTransform&&(t.__colorTransform=this.__colorTransform.__clone()),t},getBounds:function(t){var e=new je;this.__findTileRect(e);var i=yr.__pool.get();if(null!=t&&t!=this){i.copyFrom(this.__getWorldTransform());var s=yr.__pool.get();s.copyFrom(t.__getWorldTransform()),s.invert(),i.concat(s),yr.__pool.release(s)}else i.identity();return this.__getBounds(e,i),yr.__pool.release(i),e},__getBounds:function(t,e){t.__transform(t,e)},hitTestTile:function(t){if(null!=t&&null!=t.parent&&null!=this.parent){var e=this.getBounds(this);return t=t.getBounds(this),e.intersects(t)}return!1},invalidate:function(){this.__setRenderDirty()},__findTileRect:function(t){if(null==this.get_tileset())if(null!=this.parent){var e=this.parent.__findTileset();null==e||null==(e=e.getRect(this.get_id()))?t.setTo(0,0,0,0):t.copyFrom(e)}else t.setTo(0,0,0,0);else t.copyFrom(this.get_tileset().getRect(this.get_id()));t.x=0,t.y=0},__findTileset:function(){return null!=this.get_tileset()?this.get_tileset():this.parent instanceof Ic?this.parent.get_tileset():null==this.parent?null:this.parent.__findTileset()},__getWorldTransform:function(){var t=this.get_matrix().clone();return null!=this.parent&&t.concat(this.parent.__getWorldTransform()),t},__setRenderDirty:function(){this.__dirty||(this.__dirty=!0,null!=this.parent&&this.parent.__setRenderDirty())},get_alpha:function(){return this.__alpha},set_alpha:function(t){return t!=this.__alpha&&(this.__alpha=t,this.__setRenderDirty()),t},get_blendMode:function(){return this.__blendMode},set_blendMode:function(t){return t!=this.__blendMode&&(this.__blendMode=t,this.__setRenderDirty()),t},get_colorTransform:function(){return this.__colorTransform},set_colorTransform:function(t){return t!=this.__colorTransform&&(this.__colorTransform=t,this.__setRenderDirty()),t},get_height:function(){var t=je.__pool.get();this.__findTileRect(t),this.__getBounds(t,this.get_matrix());var e=t.height;return je.__pool.release(t),e},set_height:function(t){var e=je.__pool.get();return this.__findTileRect(e),0!=e.height&&this.set_scaleY(t/e.height),je.__pool.release(e),t},get_id:function(){return this.__id},set_id:function(t){return t!=this.__id&&(this.__id=t,this.__setRenderDirty()),t},get_matrix:function(){return this.__matrix},set_matrix:function(t){return t!=this.__matrix&&(this.__scaleY=this.__scaleX=this.__rotation=null,this.__matrix=t,this.__setRenderDirty()),t},get_originX:function(){return this.__originX},set_originX:function(t){return t!=this.__originX&&(this.__originX=t,this.__setRenderDirty()),t},get_originY:function(){return this.__originY},set_originY:function(t){return t!=this.__originY&&(this.__originY=t,this.__setRenderDirty()),t},get_rect:function(){return this.__rect},set_rect:function(t){return t!=this.__rect&&(this.__rect=t,this.__setRenderDirty()),t},get_rotation:function(){if(null==this.__rotation)if(0==this.__matrix.b&&0==this.__matrix.c)this.__rotationSine=this.__rotation=0,this.__rotationCosine=1;else{var t=Math.atan2(this.__matrix.d,this.__matrix.c)-Math.PI/2;this.__rotation=180/Math.PI*t,this.__rotationSine=Math.sin(t),this.__rotationCosine=Math.cos(t)}return this.__rotation},set_rotation:function(t){if(t!=this.__rotation){this.__rotation=t;var e=Math.PI/180*t;this.__rotationSine=Math.sin(e),this.__rotationCosine=Math.cos(e),e=this.get_scaleX();var i=this.get_scaleY();this.__matrix.a=this.__rotationCosine*e,this.__matrix.b=this.__rotationSine*e,this.__matrix.c=-this.__rotationSine*i,this.__matrix.d=this.__rotationCosine*i,this.__setRenderDirty()}return t},get_scaleX:function(){return null==this.__scaleX&&(0==this.get_matrix().b?this.__scaleX=this.__matrix.a:this.__scaleX=Math.sqrt(this.__matrix.a*this.__matrix.a+this.__matrix.b*this.__matrix.b)),this.__scaleX},set_scaleX:function(t){if(t!=this.__scaleX){if(this.__scaleX=t,0==this.__matrix.b)this.__matrix.a=t;else{this.get_rotation();var e=this.__rotationSine*t;this.__matrix.a=this.__rotationCosine*t,this.__matrix.b=e}this.__setRenderDirty()}return t},get_scaleY:function(){return null==this.__scaleY&&(this.__scaleY=0==this.__matrix.c?this.get_matrix().d:Math.sqrt(this.__matrix.c*this.__matrix.c+this.__matrix.d*this.__matrix.d)),this.__scaleY},set_scaleY:function(t){if(t!=this.__scaleY){if(this.__scaleY=t,0==this.__matrix.c)this.__matrix.d=t;else{this.get_rotation();var e=this.__rotationCosine*t;this.__matrix.c=-this.__rotationSine*t,this.__matrix.d=e}this.__setRenderDirty()}return t},get_shader:function(){return this.__shader},set_shader:function(t){return t!=this.__shader&&(this.__shader=t,this.__setRenderDirty()),t},get_tileset:function(){return this.__tileset},set_tileset:function(t){return t!=this.__tileset&&(this.__tileset=t,this.__setRenderDirty()),t},get_visible:function(){return this.__visible},set_visible:function(t){return t!=this.__visible&&(this.__visible=t,this.__setRenderDirty()),t},get_width:function(){var t=je.__pool.get();this.__findTileRect(t),this.__getBounds(t,this.get_matrix());var e=t.width;return je.__pool.release(t),e},set_width:function(t){var e=je.__pool.get();return this.__findTileRect(e),0!=e.width&&this.set_scaleX(t/e.width),je.__pool.release(e),t},get_x:function(){return this.__matrix.tx},set_x:function(t){return t!=this.__matrix.tx&&(this.__matrix.tx=t,this.__setRenderDirty()),t},get_y:function(){return this.__matrix.ty},set_y:function(t){return t!=this.__matrix.ty&&(this.__matrix.ty=t,this.__setRenderDirty()),t},__class__:Pc,__properties__:{set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x",set_width:"set_width",get_width:"get_width",set_visible:"set_visible",get_visible:"get_visible",set_tileset:"set_tileset",get_tileset:"get_tileset",set_shader:"set_shader",get_shader:"get_shader",set_scaleY:"set_scaleY",get_scaleY:"get_scaleY",set_scaleX:"set_scaleX",get_scaleX:"get_scaleX",set_rotation:"set_rotation",get_rotation:"get_rotation",set_rect:"set_rect",get_rect:"get_rect",set_originY:"set_originY",get_originY:"get_originY",set_originX:"set_originX",get_originX:"get_originX",set_matrix:"set_matrix",get_matrix:"get_matrix",set_id:"set_id",get_id:"get_id",set_height:"set_height",get_height:"get_height",set_colorTransform:"set_colorTransform",get_colorTransform:"get_colorTransform",set_blendMode:"set_blendMode",get_blendMode:"get_blendMode",set_alpha:"set_alpha",get_alpha:"get_alpha"}};var Cc=function(t,e,i,s,n,r,a){null==a&&(a=0),null==r&&(r=0),null==n&&(n=0),null==s&&(s=1),null==i&&(i=1),null==e&&(e=0),null==t&&(t=0),Pc.call(this,-1,t,e,i,s,n,r,a),this.__tiles=[],this.__length=0};r["openfl.display.TileContainer"]=Cc,Cc.__name__="openfl.display.TileContainer",Cc.__interfaces__=[_c],Cc.__super__=Pc,Cc.prototype=i(Pc.prototype,{__tiles:null,addTile:function(t){return null==t?null:(t.parent==this&&(c.remove(this.__tiles,t),this.__length--),this.__tiles[this.get_numTiles()]=t,t.parent=this,this.__length++,this.__setRenderDirty(),t)},addTileAt:function(t,e){return null==t?null:(t.parent==this&&(c.remove(this.__tiles,t),this.__length--),this.__tiles.splice(e,0,t),t.parent=this,this.__length++,this.__setRenderDirty(),t)},addTiles:function(t){for(var e=0;e<t.length;){var i=t[e];++e,this.addTile(i)}return t},clone:function(){for(var t=new Cc,e=0,i=this.__tiles;e<i.length;){var s=i[e];++e,t.addTile(s.clone())}return t},contains:function(t){return-1<this.__tiles.indexOf(t)},getBounds:function(t){for(var e,i=new je,s=0,n=this.__tiles;s<n.length;)e=n[s],++s,e=e.getBounds(t),i.__expand(e.x,e.y,e.width,e.height);return i},getTileAt:function(t){return 0<=t&&t<this.get_numTiles()?this.__tiles[t]:null},getTileIndex:function(t){for(var e=0,i=this.__tiles.length;e<i;){var s=e++;if(this.__tiles[s]==t)return s}return-1},removeTile:function(t){return null!=t&&t.parent==this&&(t.parent=null,c.remove(this.__tiles,t),this.__length--,this.__setRenderDirty()),t},removeTileAt:function(t){return 0<=t&&t<this.get_numTiles()?this.removeTile(this.__tiles[t]):null},removeTiles:function(t,e){for(null==e&&(e=2147483647),null==t&&(t=0),0>t&&(t=0),e>this.__tiles.length-1&&(e=this.__tiles.length-1),t=this.__tiles.splice(t,e-t+1),e=0;e<t.length;){var i=t[e];++e,i.parent=null}this.__length=this.__tiles.length,this.__setRenderDirty()},setTileIndex:function(t,e){0<=e&&e<=this.get_numTiles()&&t.parent==this&&(c.remove(this.__tiles,t),this.__tiles.splice(e,0,t),this.__setRenderDirty())},sortTiles:function(t){this.__tiles.sort(t),this.__setRenderDirty()},swapTiles:function(t,e){if(t.parent==this&&e.parent==this){var i=this.__tiles.indexOf(t),s=this.__tiles.indexOf(e);this.__tiles[i]=e,this.__tiles[s]=t,this.__setRenderDirty()}},swapTilesAt:function(t,e){var i=this.__tiles[t];this.__tiles[t]=this.__tiles[e],this.__tiles[e]=i,this.__setRenderDirty()},get_numTiles:function(){return this.__length},get_height:function(){for(var t,e=je.__pool.get(),i=0,s=this.__tiles;i<s.length;)t=s[i],++i,t=t.getBounds(this),e.__expand(t.x,t.y,t.width,t.height);return this.__getBounds(e,this.get_matrix()),i=e.height,je.__pool.release(e),i},set_height:function(t){for(var e,i=je.__pool.get(),s=0,n=this.__tiles;s<n.length;)e=n[s],++s,e=e.getBounds(this),i.__expand(e.x,e.y,e.width,e.height);return 0!=i.height&&this.set_scaleY(t/i.height),je.__pool.release(i),t},get_width:function(){for(var t,e=je.__pool.get(),i=0,s=this.__tiles;i<s.length;)t=s[i],++i,t=t.getBounds(this),e.__expand(t.x,t.y,t.width,t.height);return this.__getBounds(e,this.get_matrix()),i=e.width,je.__pool.release(e),i},set_width:function(t){for(var e,i=je.__pool.get(),s=0,n=this.__tiles;s<n.length;)e=n[s],++s,e=e.getBounds(this),i.__expand(e.x,e.y,e.width,e.height);return 0!=i.width&&this.set_scaleX(t/i.width),je.__pool.release(i),t},__class__:Cc,__properties__:i(Pc.prototype.__properties__,{get_numTiles:"get_numTiles"})});var Ic=function(t,e,i,s){null==s&&(s=!0),k.call(this),this.__drawableType=9,this.__tileset=i,this.smoothing=s,this.tileColorTransformEnabled=this.tileBlendModeEnabled=this.tileAlphaEnabled=!0,this.__group=new Cc,this.__group.set_tileset(i),this.__width=t,this.__height=e};r["openfl.display.Tilemap"]=Ic,Ic.__name__="openfl.display.Tilemap",Ic.__interfaces__=[_c],Ic.__super__=k,Ic.prototype=i(k.prototype,{tileAlphaEnabled:null,tileBlendModeEnabled:null,tileColorTransformEnabled:null,smoothing:null,__group:null,__tileset:null,__buffer:null,__bufferDirty:null,__height:null,__width:null,addTile:function(t){return this.__group.addTile(t)},addTileAt:function(t,e){return this.__group.addTileAt(t,e)},addTiles:function(t){return this.__group.addTiles(t)},contains:function(t){return this.__group.contains(t)},getTileAt:function(t){return this.__group.getTileAt(t)},getTileIndex:function(t){return this.__group.getTileIndex(t)},getTiles:function(){return this.__group.clone()},removeTile:function(t){return this.__group.removeTile(t)},removeTileAt:function(t){return this.__group.removeTileAt(t)},removeTiles:function(t,e){null==e&&(e=2147483647),null==t&&(t=0),this.__group.removeTiles(t,e)},setTileIndex:function(t,e){this.__group.setTileIndex(t,e)},setTiles:function(t){for(var e=0,i=this.__group.__tiles;e<i.length;){var s=i[e];++e,this.removeTile(s)}for(e=0,i=t.__tiles;e<i.length;)s=i[e],++e,this.addTile(s)},sortTiles:function(t){this.__group.sortTiles(t)},swapTiles:function(t,e){this.__group.swapTiles(t,e)},swapTilesAt:function(t,e){this.__group.swapTilesAt(t,e)},__enterFrame:function(t){this.__group.__dirty&&!this.__renderDirty&&(this.__renderDirty=!0,this.__setParentRenderDirty())},__getBounds:function(t,e){var i=je.__pool.get();i.setTo(0,0,this.__width,this.__height),i.__transform(i,e),t.__expand(i.x,i.y,i.width,i.height),je.__pool.release(i)},__hitTest:function(t,e,i,s,n,r){if(!r.get_visible()||this.__isMask||null!=this.get_mask()&&!this.get_mask().__hitTestMask(t,e))return!1;this.__getRenderTransform();var a=this.__renderTransform,o=a.a*a.d-a.b*a.c;return i=0==o?-a.tx:1/o*(a.c*(a.ty-e)+a.d*(t-a.tx)),t=0==(o=(a=this.__renderTransform).a*a.d-a.b*a.c)?-a.ty:1/o*(a.a*(e-a.ty)+a.b*(a.tx-t)),0<i&&0<t&&i<=this.__width&&t<=this.__height&&(null==s||n||s.push(r),!0)},__renderFlash:function(){},get_height:function(){return this.__height*Math.abs(this.get_scaleY())},set_height:function(t){return this.__height=0|t,this.__height*Math.abs(this.get_scaleY())},get_numTiles:function(){return this.__group.__length},get_tileset:function(){return this.__tileset},set_tileset:function(t){return t!=this.__tileset&&(this.__tileset=t,this.__group.set_tileset(t),this.__group.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())),t},get_width:function(){return this.__width*Math.abs(this.__scaleX)},set_width:function(t){return this.__width=0|t,this.__width*Math.abs(this.__scaleX)},__class__:Ic,__properties__:i(k.prototype.__properties__,{set_tileset:"set_tileset",get_tileset:"get_tileset",get_numTiles:"get_numTiles"})});var Ec=function(t,e){if(this.__bitmapData=t,this.rectData=M.toFloatVector(null),this.__data=[],null!=e)for(t=0;t<e.length;){var i=e[t];++t,this.addRect(i)}};r["openfl.display.Tileset"]=Ec,Ec.__name__="openfl.display.Tileset",Ec.prototype={rectData:null,__bitmapData:null,__data:null,addRect:function(t){return null==t?-1:(this.rectData.push(t.x),this.rectData.push(t.y),this.rectData.push(t.width),this.rectData.push(t.height),(t=new kc(t)).__update(this.__bitmapData),this.__data.push(t),this.__data.length-1)},clone:function(){for(var t=new Ec(this.__bitmapData,null),e=je.__pool.get(),i=0,s=this.__data;i<s.length;){var n=s[i];++i,e.setTo(n.x,n.y,n.width,n.height),t.addRect(e)}return je.__pool.release(e),t},hasRect:function(t){for(var e=0,i=this.__data;e<i.length;){var s=i[e];if(++e,t.x==s.x&&t.y==s.y&&t.width==s.width&&t.height==s.height)return!0}return!1},getRect:function(t){return t<this.__data.length&&0<=t?new je(this.__data[t].x,this.__data[t].y,this.__data[t].width,this.__data[t].height):null},getRectID:function(t){for(var e,i=0,s=this.__data.length;i<s;){var n=i++;if(e=this.__data[n],t.x==e.x&&t.y==e.y&&t.width==e.width&&t.height==e.height)return n}return null},get_bitmapData:function(){return this.__bitmapData},set_bitmapData:function(t){this.__bitmapData=t;for(var e=0,i=this.__data;e<i.length;){var s=i[e];++e,s.__update(this.__bitmapData)}return t},get_numRects:function(){return this.__data.length},__class__:Ec,__properties__:{get_numRects:"get_numRects",set_bitmapData:"set_bitmapData",get_bitmapData:"get_bitmapData"}};var kc=function(t){null!=t&&(this.x=0|t.x,this.y=0|t.y,this.width=0|t.width,this.height=0|t.height)};r["openfl.display._Tileset.TileData"]=kc,kc.__name__="openfl.display._Tileset.TileData",kc.prototype={height:null,width:null,x:null,y:null,__bitmapData:null,__uvHeight:null,__uvWidth:null,__uvX:null,__uvY:null,__update:function(t){if(null!=t){var e=t.width;t=t.height,this.__uvX=this.x/e,this.__uvY=this.y/t,this.__uvWidth=(this.x+this.width)/e,this.__uvHeight=(this.y+this.height)/t}},__class__:kc};var Fc=function(){this.__totalFrames=this.__framesLoaded=1,this.__currentLabels=[],this.__currentFrame=1,this.__lastFrameUpdate=this.__lastFrameScriptEval=-1};r["openfl.display.Timeline"]=Fc,Fc.__name__="openfl.display.Timeline",Fc.prototype={frameRate:null,scenes:null,scripts:null,__currentFrame:null,__currentFrameLabel:null,__currentLabel:null,__currentLabels:null,__currentScene:null,__frameScripts:null,__framesLoaded:null,__frameTime:null,__isPlaying:null,__lastFrameScriptEval:null,__lastFrameUpdate:null,__scope:null,__timeElapsed:null,__totalFrames:null,attachMovieClip:function(t){},enterFrame:function(t){},initializeSprite:function(t){},__addFrameScript:function(t,e){0>t||(t+=1,null!=e?(null==this.__frameScripts&&(this.__frameScripts=new fr),this.__frameScripts.h[t]=function(t){e()}):null!=this.__frameScripts&&this.__frameScripts.remove(t))},__attachMovieClip:function(t){if(this.__scope=t,this.__framesLoaded=this.__totalFrames=0,null!=this.scenes&&0<this.scenes.length){for(var e=0,i=this.scenes;e<i.length;){var s=i[e];++e,this.__totalFrames+=s.numFrames,this.__framesLoaded+=s.numFrames,null!=s.labels&&(this.__currentLabels=this.__currentLabels.concat(s.labels))}this.__currentScene=this.scenes[0]}if(null!=this.scripts&&0<this.scripts.length)for(this.__frameScripts=new fr,e=0,i=this.scripts;e<i.length;)s=i[e],++e,this.__frameScripts.h.hasOwnProperty(s.frame)?this.__frameScripts.h[s.frame]=function(t,e){return function(i){e[0](i),t[0](i)}}([s.script],[this.__frameScripts.h[s.frame]]):this.__frameScripts.h[s.frame]=s.script;this.attachMovieClip(t)},__enterFrame:function(t){if(this.__isPlaying){if(t=this.__getNextFrame(t),this.__lastFrameScriptEval==t)return;if(null!=this.__frameScripts){if(t<this.__currentFrame){if(!this.__evaluateFrameScripts(this.__totalFrames))return;this.__currentFrame=1}if(!this.__evaluateFrameScripts(t))return}else this.__currentFrame=t}this.__updateSymbol(this.__currentFrame)},__evaluateFrameScripts:function(t){if(null==this.__frameScripts)return!0;var e=this.__currentFrame;for(t+=1;e<t;){var i=e++;if(i!=this.__lastFrameScriptEval&&(this.__currentFrame=this.__lastFrameScriptEval=i,this.__frameScripts.h.hasOwnProperty(i)&&(this.__updateSymbol(i),(0,this.__frameScripts.h[i])(this.__scope),this.__currentFrame!=i)||!this.__isPlaying))return!1}return!0},__getNextFrame:function(t){return null!=this.frameRate?(this.__timeElapsed+=t,1>(t=this.__currentFrame+Math.floor(this.__timeElapsed/this.__frameTime))&&(t=1),t>this.__totalFrames&&(t=Math.floor((t-1)%this.__totalFrames)+1),this.__timeElapsed%=this.__frameTime):(t=this.__currentFrame+1)>this.__totalFrames&&(t=1),t},__goto:function(t){1>t?t=1:t>this.__totalFrames&&(t=this.__totalFrames),this.__lastFrameScriptEval=-1,this.__currentFrame=t,this.__updateSymbol(this.__currentFrame),this.__evaluateFrameScripts(this.__currentFrame)},__gotoAndPlay:function(t,e){this.__play(),this.__goto(this.__resolveFrameReference(t))},__gotoAndStop:function(t,e){this.__stop(),this.__goto(this.__resolveFrameReference(t))},__nextFrame:function(){this.__stop(),this.__goto(this.__currentFrame+1)},__nextScene:function(){},__play:function(){this.__isPlaying||2>this.__totalFrames||(this.__isPlaying=!0,null!=this.frameRate&&(this.__frameTime=1e3/this.frameRate|0,this.__timeElapsed=0))},__prevFrame:function(){this.__stop(),this.__goto(this.__currentFrame-1)},__prevScene:function(){},__stop:function(){this.__isPlaying=!1},__resolveFrameReference:function(t){if("number"==typeof t&&(0|t)===t)return t;if("string"==typeof t){for(var e=0,i=this.__currentLabels;e<i.length;){var s=i[e];if(++e,s.name==t)return s.frame}throw new id("Error #2109: Frame label "+t+" not found in scene.")}throw wa.thrown("Invalid type for frame "+t.__name__)},__updateFrameLabel:function(){this.__currentFrameLabel=this.__currentLabel=null;for(var t=0,e=this.__currentLabels;t<e.length;){var i=e[t];if(++t,i.frame<this.__currentFrame)this.__currentLabel=i.name;else{if(i.frame!=this.__currentFrame)break;this.__currentFrameLabel=this.__currentLabel=i.name}}},__updateSymbol:function(t){this.__currentFrame!=this.__lastFrameUpdate&&(this.__updateFrameLabel(),this.enterFrame(t),this.__lastFrameUpdate=this.__currentFrame)},__class__:Fc};var Bc=function(t,e){if($h.call(this,t,e),this.stage=new Tc(this,Object.prototype.hasOwnProperty.call(e.context,"background")?e.context.background:16777215),Object.prototype.hasOwnProperty.call(e,"parameters"))try{this.stage.get_loaderInfo().parameters=e.parameters}catch(t){Ma.lastError=t}this.stage.__setLogicalSize(e.width,e.height),Object.prototype.hasOwnProperty.call(e,"resizable")&&!e.resizable&&this.stage.set_scaleMode(3),t.addModule(this.stage)};r["openfl.display.Window"]=Bc,Bc.__name__="openfl.display.Window",Bc.__super__=$h,Bc.prototype=i($h.prototype,{__class__:Bc});var Dc=function(t,e,i,s,n,r,a){null==a&&(a=.05),null==r&&(r=!1),this.stitch=r,this.stitch_threshold=a,this.octaves=e,this.channels=i,this.grayscale=s,this.calculateOctaves(n)};r["openfl.display._internal.AbstractNoise"]=Dc,Dc.__name__="openfl.display._internal.AbstractNoise",Dc.prototype={octaves:null,stitch:null,stitch_threshold:null,channels:null,grayscale:null,octaves_frequencies:null,octaves_persistences:null,persistence_max:null,fill:function(t,e,i,s){},stitching:function(t,e,i,s,n,r,a,o){var l=e>>16&255,h=e>>8&255;if(e&=255,a-n<i){var _=t.getPixel32(a-i,s),c=_>>8&255,u=255&_;n=(a-i)/n,l=this.mixI(_>>16&255,l,n),h=this.mixI(c,h,n),e=this.mixI(u,e,n)}return o-r<s&&(c=(_=t.getPixel32(i,o-s))>>8&255,u=255&_,n=(o-s)/r,l=this.mixI(_>>16&255,l,n),h=this.mixI(c,h,n),e=this.mixI(u,e,n)),-16777216|l<<16|h<<8|e},color:function(t,e,i){var s=0,n=0,r=0;return null!=t&&(s=this.noiseToColor(t)),null!=e&&(n=this.noiseToColor(e)),null!=i&&(r=this.noiseToColor(i)),-16777216|s<<16|n<<8|r},noiseToColor:function(t){return 128*(t*this.persistence_max+1)|0},fade:function(t){return t*t*t*(t*(6*t-15)+10)},mixI:function(t,e,i){return(1-i)*t+i*e|0},mix:function(t,e,i){return(1-i)*t+i*e},fastfloor:function(t){return 0<t?0|t:t-1|0},dot2d:function(t,e,i){return t[0]*e+t[1]*i},dot:function(t,e,i,s){return t[0]*e+t[1]*i+t[2]*s},calculateOctaves:function(t){this.octaves_frequencies=[],this.octaves_persistences=[];for(var e=this.persistence_max=0,i=this.octaves;e<i;){var s=e++,n=Math.pow(2,s);s=Math.pow(t,s),this.persistence_max+=s,this.octaves_frequencies.push(n),this.octaves_persistences.push(s)}this.persistence_max=1/this.persistence_max},__class__:Dc};var Lc=function(){};r["openfl.display._internal.CairoBitmap"]=Lc,Lc.__name__="openfl.display._internal.CairoBitmap",Lc.render=function(t,e){if(t.__renderable){var i=e.__getAlpha(t.__worldAlpha);if(0<i&&null!=t.__bitmapData&&t.__bitmapData.__isValid){var s=e.cairo;e.__setBlendMode(t.__worldBlendMode),e.__pushMaskObject(t),e.applyMatrix(t.__renderTransform,s);var n=t.__bitmapData.getSurface();null!=n&&(n=zl.createForSurface(n),zl.set_filter(n,e.__allowSmoothing&&t.smoothing?1:3),s.set_source(n),1==i?s.paint():s.paintWithAlpha(i)),e.__popMaskObject(t),e.__setBlendMode(10)}}},Lc.renderDrawable=function(t,e){},Lc.renderDrawableMask=function(t,e){e.cairo.rectangle(0,0,t.get_width(),t.get_height())};var Nc=function(){};r["openfl.display._internal.CairoBitmapData"]=Nc,Nc.__name__="openfl.display._internal.CairoBitmapData",Nc.renderDrawable=function(t,e){},Nc.renderDrawableMask=function(t,e){};var Oc=function(){};r["openfl.display._internal.CairoDisplayObject"]=Oc,Oc.__name__="openfl.display._internal.CairoDisplayObject",Oc.render=function(t,e){},Oc.renderDrawable=function(t,e){},Oc.renderDrawableMask=function(t,e){};var Vc=function(){};r["openfl.display._internal.CairoDisplayObjectContainer"]=Vc,Vc.__name__="openfl.display._internal.CairoDisplayObjectContainer",Vc.renderDrawable=function(t,e){},Vc.renderDrawableMask=function(t,e){};var Gc=function(){};r["openfl.display._internal.CairoGraphics"]=Gc,Gc.__name__="openfl.display._internal.CairoGraphics",Gc.hitTest=function(t,e,i){return!1},Gc.render=function(t,e){},Gc.renderMask=function(t,e){};var Uc=function(){};r["openfl.display._internal.CairoShape"]=Uc,Uc.__name__="openfl.display._internal.CairoShape",Uc.render=function(t,e){},Uc.renderDrawable=function(t,e){},Uc.renderDrawableMask=function(t,e){};var zc=function(){};r["openfl.display._internal.CairoSimpleButton"]=zc,zc.__name__="openfl.display._internal.CairoSimpleButton",zc.renderDrawable=function(t,e){!t.__renderable||0>=t.__worldAlpha||null==t.__currentState||(e.__pushMaskObject(t),e.__renderDrawable(t.__currentState),e.__popMaskObject(t),e.__renderEvent(t))},zc.renderDrawableMask=function(t,e){e.__renderDrawableMask(t.__currentState)};var Hc=function(){};r["openfl.display._internal.CairoTextField"]=Hc,Hc.__name__="openfl.display._internal.CairoTextField",Hc.render=function(t,e,i){},Hc.renderDrawable=function(t,e){},Hc.renderDrawableMask=function(t,e){};var Wc=function(){};r["openfl.display._internal.CairoTilemap"]=Wc,Wc.__name__="openfl.display._internal.CairoTilemap",Wc.render=function(t,e){if(t.__renderable&&0!=t.__group.__tiles.length){var i=e.__getAlpha(t.__worldAlpha);if(!(0>=i)){e.__setBlendMode(t.__worldBlendMode),e.__pushMaskObject(t);var s=je.__pool.get();s.setTo(0,0,t.__width,t.__height),e.__pushMaskRect(s,t.__renderTransform),Wc.renderTileContainer(t.__group,e,t.__renderTransform,t.__tileset,e.__allowSmoothing&&t.smoothing,t.tileAlphaEnabled,i,t.tileBlendModeEnabled,t.__worldBlendMode,null,null,null,s,new gr),e.__popMaskRect(),e.__popMaskObject(t),je.__pool.release(s)}}},Wc.renderTileContainer=function(t,e,i,s,n,r,a,o,l,h,_,c,u,d){var m=e.cairo,p=yr.__pool.get();t=t.__tiles;for(var f,g,y,b,v=null,x=0;x<t.length;)if(f=t[x],++x,p.setTo(1,0,0,1,-f.get_originX(),-f.get_originY()),p.concat(f.get_matrix()),p.concat(i),g=null!=f.get_tileset()?f.get_tileset():s,y=f.get_alpha()*a,(b=f.get_visible())&&!(0>=y))if(r||(y=1),o&&(v=null!=f.__blendMode?f.__blendMode:l),0<f.__length)Wc.renderTileContainer(f,e,p,g,n,r,y,o,v,h,_,c,u,d);else if(null!=g){if(-1==(b=f.get_id())){if(null==(f=f.__rect)||0>=f.width||0>=f.height)continue}else{if(null==(f=g.__data[b]))continue;u.setTo(f.x,f.y,f.width,f.height),f=u}null!=(g=g.__bitmapData)&&(g!=h&&(_=g.getSurface(),c=zl.createForSurface(_),zl.set_filter(c,n?1:3),m.set_source(c),h=g),o&&e.__setBlendMode(v),e.applyMatrix(p,m),d.tx=f.x,d.ty=f.y,zl.set_matrix(c,d),m.set_source(c),m.save(),m.newPath(),m.rectangle(0,0,f.width,f.height),m.clip(),1==y?m.paint():m.paintWithAlpha(y),m.restore())}yr.__pool.release(p)},Wc.renderDrawable=function(t,e){},Wc.renderDrawableMask=function(t,e){};var Xc=function(){};r["openfl.display._internal.CanvasBitmap"]=Xc,Xc.__name__="openfl.display._internal.CanvasBitmap",Xc.render=function(t,e){if(t.__renderable){var i=e.__getAlpha(t.__worldAlpha);if(0<i&&null!=t.__bitmapData&&t.__bitmapData.__isValid&&t.__bitmapData.readable){var s=e.context;e.__setBlendMode(t.__worldBlendMode),e.__pushMaskObject(t,!1),Vo.convertToCanvas(t.__bitmapData.image),s.globalAlpha=i,i=t.__scrollRect,e.setTransform(t.__renderTransform,s),e.__allowSmoothing&&t.smoothing||(s.imageSmoothingEnabled=!1),null==i?s.drawImage(t.__bitmapData.image.get_src(),0,0,t.__bitmapData.image.width,t.__bitmapData.image.height):s.drawImage(t.__bitmapData.image.get_src(),i.x,i.y,i.width,i.height,i.x,i.y,i.width,i.height),e.__allowSmoothing&&t.smoothing||(s.imageSmoothingEnabled=!0),e.__popMaskObject(t,!1)}}},Xc.renderDrawable=function(t,e){if(e.__updateCacheBitmap(t,!1),null!=t.__bitmapData&&null!=t.__bitmapData.image&&(t.__imageVersion=t.__bitmapData.image.version),null==t.__cacheBitmap||t.__isCacheBitmapRender){if(!(null==t.opaqueBackground&&null==t.__graphics||!t.__renderable||(f=e.__getAlpha(t.__worldAlpha),0>=f))){if(null!=t.opaqueBackground&&!t.__isCacheBitmapRender&&0<t.get_width()&&0<t.get_height()){e.__setBlendMode(t.__worldBlendMode),e.__pushMaskObject(t),g=e.context,e.setTransform(t.__renderTransform,g);var i=t.opaqueBackground;g.fillStyle="rgb("+(i>>>16&255)+","+(i>>>8&255)+","+(255&i)+")",g.fillRect(0,0,t.get_width(),t.get_height()),e.__popMaskObject(t)}if(null!=t.__graphics&&t.__renderable&&!(0>=(f=e.__getAlpha(t.__worldAlpha)))){var s=t.__graphics;if(null!=s){Zc.render(s,e);var n=s.__width,r=s.__height;if(null!=(i=s.__canvas)&&s.__visible&&1<=n&&1<=r){var a=s.__worldTransform;g=e.context,y=t.__scrollRect;var o=t.__worldScale9Grid;if(null==y||0<y.width&&0<y.height){if(e.__setBlendMode(t.__worldBlendMode),e.__pushMaskObject(t),g.globalAlpha=f,null!=o&&0==a.b&&0==a.c){var l=e.__pixelRatio;(f=yr.__pool.get()).translate(a.tx,a.ty),e.setTransform(f,g),yr.__pool.release(f),f=s.__bounds;var h=s.__renderTransform.a/s.__bitmapScale,_=s.__renderTransform.d/s.__bitmapScale,c=h*a.a,u=_*a.d;a=Math.max(1,Math.round(o.x*h)),s=Math.round(o.y*_),y=Math.max(1,Math.round((f.get_right()-o.get_right())*h));var d=Math.round((f.get_bottom()-o.get_bottom())*_);h=Math.round(o.width*h),o=Math.round(o.height*_),_=Math.round(a/l);var m=Math.round(s/l),p=Math.round(y/l);l=Math.round(d/l),c=f.width*c-_-p,f=f.height*u-m-l,e.applySmoothing(g,!1),0!=h&&0!=o?(g.drawImage(i,0,0,a,s,0,0,_,m),g.drawImage(i,a,0,h,s,_,0,c,m),g.drawImage(i,a+h,0,y,s,_+c,0,p,m),g.drawImage(i,0,s,a,o,0,m,_,f),g.drawImage(i,a,s,h,o,_,m,c,f),g.drawImage(i,a+h,s,y,o,_+c,m,p,f),g.drawImage(i,0,s+o,a,d,0,m+f,_,l),g.drawImage(i,a,s+o,h,d,_,m+f,c,l),g.drawImage(i,a+h,s+o,y,d,_+c,m+f,p,l)):0==h&&0!=o?(r=_+c+p,g.drawImage(i,0,0,n,s,0,0,r,m),g.drawImage(i,0,s,n,o,0,m,r,f),g.drawImage(i,0,s+o,n,d,0,m+f,r,l)):0==o&&0!=h&&(n=m+f+l,g.drawImage(i,0,0,a,r,0,0,_,n),g.drawImage(i,a,0,h,r,_,0,c,n),g.drawImage(i,a+h,0,y,r,_+c,0,p,n))}else e.setTransform(a,g),g.drawImage(i,0,0,n,r);e.__popMaskObject(t)}}}}}t.__renderable&&0<(f=e.__getAlpha(t.__worldAlpha))&&null!=t.__bitmapData&&t.__bitmapData.__isValid&&t.__bitmapData.readable&&(g=e.context,e.__setBlendMode(t.__worldBlendMode),e.__pushMaskObject(t,!1),Vo.convertToCanvas(t.__bitmapData.image),g.globalAlpha=f,y=t.__scrollRect,e.setTransform(t.__renderTransform,g),e.__allowSmoothing&&t.smoothing||(g.imageSmoothingEnabled=!1),null==y?g.drawImage(t.__bitmapData.image.get_src(),0,0,t.__bitmapData.image.width,t.__bitmapData.image.height):g.drawImage(t.__bitmapData.image.get_src(),y.x,y.y,y.width,y.height,y.x,y.y,y.width,y.height),e.__allowSmoothing&&t.smoothing||(g.imageSmoothingEnabled=!0),e.__popMaskObject(t,!1))}else if((i=t.__cacheBitmap).__renderable){var f=e.__getAlpha(i.__worldAlpha);if(0<f&&null!=i.__bitmapData&&i.__bitmapData.__isValid&&i.__bitmapData.readable){var g=e.context;e.__setBlendMode(i.__worldBlendMode),e.__pushMaskObject(i,!1),Vo.convertToCanvas(i.__bitmapData.image),g.globalAlpha=f;var y=i.__scrollRect;e.setTransform(i.__renderTransform,g),e.__allowSmoothing&&i.smoothing||(g.imageSmoothingEnabled=!1),null==y?g.drawImage(i.__bitmapData.image.get_src(),0,0,i.__bitmapData.image.width,i.__bitmapData.image.height):g.drawImage(i.__bitmapData.image.get_src(),y.x,y.y,y.width,y.height,y.x,y.y,y.width,y.height),e.__allowSmoothing&&i.smoothing||(g.imageSmoothingEnabled=!0),e.__popMaskObject(i,!1)}}e.__renderEvent(t)},Xc.renderDrawableMask=function(t,e){e.context.rect(0,0,t.get_width(),t.get_height())};var Yc=function(){};r["openfl.display._internal.CanvasBitmapData"]=Yc,Yc.__name__="openfl.display._internal.CanvasBitmapData",Yc.renderDrawable=function(t,e){if(t.readable){var i=t.image;i.type==Dl.DATA&&Vo.convertToCanvas(i);var s=e.context;s.globalAlpha=1,e.setTransform(t.__renderTransform,s),s.drawImage(i.get_src(),0,0,i.width,i.height)}},Yc.renderDrawableMask=function(t,e){};var jc=function(){};r["openfl.display._internal.CanvasDisplayObject"]=jc,jc.__name__="openfl.display._internal.CanvasDisplayObject",jc.render=function(t,e){if((null!=t.opaqueBackground||null!=t.__graphics)&&t.__renderable){var i=e.__getAlpha(t.__worldAlpha);if(!(0>=i)){if(null!=t.opaqueBackground&&!t.__isCacheBitmapRender&&0<t.get_width()&&0<t.get_height()){e.__setBlendMode(t.__worldBlendMode),e.__pushMaskObject(t);var s=e.context;e.setTransform(t.__renderTransform,s);var n=t.opaqueBackground;s.fillStyle="rgb("+(n>>>16&255)+","+(n>>>8&255)+","+(255&n)+")",s.fillRect(0,0,t.get_width(),t.get_height()),e.__popMaskObject(t)}if(null!=t.__graphics&&t.__renderable&&!(0>=(i=e.__getAlpha(t.__worldAlpha)))){var r=t.__graphics;if(null!=r){Zc.render(r,e);var a=r.__width,o=r.__height;if(null!=(n=r.__canvas)&&r.__visible&&1<=a&&1<=o){var l=r.__worldTransform;s=e.context;var h=t.__scrollRect,_=t.__worldScale9Grid;if(null==h||0<h.width&&0<h.height){if(e.__setBlendMode(t.__worldBlendMode),e.__pushMaskObject(t),s.globalAlpha=i,null!=_&&0==l.b&&0==l.c){var c=e.__pixelRatio;(i=yr.__pool.get()).translate(l.tx,l.ty),e.setTransform(i,s),yr.__pool.release(i),i=r.__bounds;var u=r.__renderTransform.a/r.__bitmapScale,d=r.__renderTransform.d/r.__bitmapScale,m=u*l.a,p=d*l.d;l=Math.max(1,Math.round(_.x*u)),r=Math.round(_.y*d),h=Math.max(1,Math.round((i.get_right()-_.get_right())*u));var f=Math.round((i.get_bottom()-_.get_bottom())*d);u=Math.round(_.width*u),_=Math.round(_.height*d),d=Math.round(l/c);var g=Math.round(r/c),y=Math.round(h/c);c=Math.round(f/c),m=i.width*m-d-y,i=i.height*p-g-c,e.applySmoothing(s,!1),0!=u&&0!=_?(s.drawImage(n,0,0,l,r,0,0,d,g),s.drawImage(n,l,0,u,r,d,0,m,g),s.drawImage(n,l+u,0,h,r,d+m,0,y,g),s.drawImage(n,0,r,l,_,0,g,d,i),s.drawImage(n,l,r,u,_,d,g,m,i),s.drawImage(n,l+u,r,h,_,d+m,g,y,i),s.drawImage(n,0,r+_,l,f,0,g+i,d,c),s.drawImage(n,l,r+_,u,f,d,g+i,m,c),s.drawImage(n,l+u,r+_,h,f,d+m,g+i,y,c)):0==u&&0!=_?(o=d+m+y,s.drawImage(n,0,0,a,r,0,0,o,g),s.drawImage(n,0,r,a,_,0,g,o,i),s.drawImage(n,0,r+_,a,f,0,g+i,o,c)):0==_&&0!=u&&(a=g+i+c,s.drawImage(n,0,0,l,o,0,0,d,a),s.drawImage(n,l,0,u,o,d,0,m,a),s.drawImage(n,l+u,0,h,o,d+m,0,y,a))}else e.setTransform(l,s),s.drawImage(n,0,0,a,o);e.__popMaskObject(t)}}}}}}},jc.renderDrawable=function(t,e){if(null==t.get_mask()||0<t.get_mask().get_width()&&0<t.get_mask().get_height())if(e.__updateCacheBitmap(t,!1),null==t.__cacheBitmap||t.__isCacheBitmapRender){if(!(null==t.opaqueBackground&&null==t.__graphics||!t.__renderable||(f=e.__getAlpha(t.__worldAlpha),0>=f||(null!=t.opaqueBackground&&!t.__isCacheBitmapRender&&0<t.get_width()&&0<t.get_height()&&(e.__setBlendMode(t.__worldBlendMode),e.__pushMaskObject(t),g=e.context,e.setTransform(t.__renderTransform,g),p=t.opaqueBackground,g.fillStyle="rgb("+(p>>>16&255)+","+(p>>>8&255)+","+(255&p)+")",g.fillRect(0,0,t.get_width(),t.get_height()),e.__popMaskObject(t)),null==t.__graphics||!t.__renderable||(f=e.__getAlpha(t.__worldAlpha),0>=f))))){var i=t.__graphics;if(null!=i){Zc.render(i,e);var s=i.__width,n=i.__height;if(null!=(p=i.__canvas)&&i.__visible&&1<=s&&1<=n){var r=i.__worldTransform;g=e.context,y=t.__scrollRect;var a=t.__worldScale9Grid;if(null==y||0<y.width&&0<y.height){if(e.__setBlendMode(t.__worldBlendMode),e.__pushMaskObject(t),g.globalAlpha=f,null!=a&&0==r.b&&0==r.c){var o=e.__pixelRatio;(f=yr.__pool.get()).translate(r.tx,r.ty),e.setTransform(f,g),yr.__pool.release(f),f=i.__bounds;var l=i.__renderTransform.a/i.__bitmapScale,h=i.__renderTransform.d/i.__bitmapScale,_=l*r.a,c=h*r.d;r=Math.max(1,Math.round(a.x*l)),i=Math.round(a.y*h),y=Math.max(1,Math.round((f.get_right()-a.get_right())*l));var u=Math.round((f.get_bottom()-a.get_bottom())*h);l=Math.round(a.width*l),a=Math.round(a.height*h),h=Math.round(r/o);var d=Math.round(i/o),m=Math.round(y/o);o=Math.round(u/o),_=f.width*_-h-m,f=f.height*c-d-o,e.applySmoothing(g,!1),0!=l&&0!=a?(g.drawImage(p,0,0,r,i,0,0,h,d),g.drawImage(p,r,0,l,i,h,0,_,d),g.drawImage(p,r+l,0,y,i,h+_,0,m,d),g.drawImage(p,0,i,r,a,0,d,h,f),g.drawImage(p,r,i,l,a,h,d,_,f),g.drawImage(p,r+l,i,y,a,h+_,d,m,f),g.drawImage(p,0,i+a,r,u,0,d+f,h,o),g.drawImage(p,r,i+a,l,u,h,d+f,_,o),g.drawImage(p,r+l,i+a,y,u,h+_,d+f,m,o)):0==l&&0!=a?(n=h+_+m,g.drawImage(p,0,0,s,i,0,0,n,d),g.drawImage(p,0,i,s,a,0,d,n,f),g.drawImage(p,0,i+a,s,u,0,d+f,n,o)):0==a&&0!=l&&(s=d+f+o,g.drawImage(p,0,0,r,n,0,0,h,s),g.drawImage(p,r,0,l,n,h,0,_,s),g.drawImage(p,r+l,0,y,n,h+_,0,m,s))}else e.setTransform(r,g),g.drawImage(p,0,0,s,n);e.__popMaskObject(t)}}}}}else{var p=t.__cacheBitmap;if(p.__renderable){var f=e.__getAlpha(p.__worldAlpha);if(0<f&&null!=p.__bitmapData&&p.__bitmapData.__isValid&&p.__bitmapData.readable){var g=e.context;e.__setBlendMode(p.__worldBlendMode),e.__pushMaskObject(p,!1),Vo.convertToCanvas(p.__bitmapData.image),g.globalAlpha=f;var y=p.__scrollRect;e.setTransform(p.__renderTransform,g),e.__allowSmoothing&&p.smoothing||(g.imageSmoothingEnabled=!1),null==y?g.drawImage(p.__bitmapData.image.get_src(),0,0,p.__bitmapData.image.width,p.__bitmapData.image.height):g.drawImage(p.__bitmapData.image.get_src(),y.x,y.y,y.width,y.height,y.x,y.y,y.width,y.height),e.__allowSmoothing&&p.smoothing||(g.imageSmoothingEnabled=!0),e.__popMaskObject(p,!1)}}}e.__renderEvent(t)},jc.renderDrawableMask=function(t,e){null!=t.__graphics&&Zc.renderMask(t.__graphics,e)};var Kc=function(){};r["openfl.display._internal.CanvasDisplayObjectContainer"]=Kc,Kc.__name__="openfl.display._internal.CanvasDisplayObjectContainer",Kc.renderDrawable=function(t,e){for(var i=t.__removedChildren.iterator();i.hasNext();){var s=i.next();null==s.stage&&s.__cleanup()}if(t.__removedChildren.set_length(0),!(!t.__renderable||0>=t.__worldAlpha||null!=t.get_mask()&&(0>=t.get_mask().get_width()||0>=t.get_mask().get_height()))&&(jc.renderDrawable(t,e),null==t.__cacheBitmap||t.__isCacheBitmapRender)){if(e.__pushMaskObject(t),null!=e.__stage){for(i=0,s=t.__children;i<s.length;){var n=s[i];++i,e.__renderDrawable(n),n.__renderDirty=!1}t.__renderDirty=!1}else for(i=0,s=t.__children;i<s.length;)n=s[i],++i,e.__renderDrawable(n);e.__popMaskObject(t)}},Kc.renderDrawableMask=function(t,e){for(var i=t.__removedChildren.iterator();i.hasNext();){var s=i.next();null==s.stage&&s.__cleanup()}for(t.__removedChildren.set_length(0),null!=t.__graphics&&Zc.renderMask(t.__graphics,e),i=0,t=t.__children;i<t.length;)s=t[i],++i,e.__renderDrawableMask(s)};var Jc=function(){this.__dirty=!0,this.t_i=this.b_i=this.f_i=this.ff_i=this.i_i=this.ii_i=this.o_i=this.__lastLength=0,null==Jc.empty?(this.types=[],this.b=[],this.i=[],this.f=[],this.o=[],this.ff=[],this.ii=[],this.objVersions=[],this.copyOnWrite=!0):this.__initFromEmpty()};r["openfl.display._internal.DrawCommandBuffer"]=Jc,Jc.__name__="openfl.display._internal.DrawCommandBuffer",Jc.prototype={__replace_openfl_display_TriangleCulling:function(t,e,i){!this.__dirty&&(e>=t.length||t[e]!=i)&&(this.__dirty=!0),t[e]=i},__replace_openfl_Vector_Int:function(t,e,i){!this.__dirty&&(e>=t.length||t[e]!=i)&&(this.__dirty=!0),t[e]=i},__replace_openfl_Vector_Float:function(t,e,i){!this.__dirty&&(e>=t.length||t[e]!=i)&&(this.__dirty=!0),t[e]=i},__replace_openfl_display__internal_ShaderBuffer:function(t,e,i){!this.__dirty&&(e>=t.length||t[e]!=i)&&(this.__dirty=!0),t[e]=i},__replace_openfl_display_JointStyle:function(t,e,i){!this.__dirty&&(e>=t.length||t[e]!=i)&&(this.__dirty=!0),t[e]=i},__replace_openfl_display_CapsStyle:function(t,e,i){!this.__dirty&&(e>=t.length||t[e]!=i)&&(this.__dirty=!0),t[e]=i},__replace_openfl_display_LineScaleMode:function(t,e,i){!this.__dirty&&(e>=t.length||t[e]!=i)&&(this.__dirty=!0),t[e]=i},__replace_Int:function(t,e,i){!this.__dirty&&(e>=t.length||t[e]!=i)&&(this.__dirty=!0),t[e]=i},__replace_Bool:function(t,e,i){!this.__dirty&&(e>=t.length||t[e]!=i)&&(this.__dirty=!0),t[e]=i},__replace_openfl_display_InterpolationMethod:function(t,e,i){!this.__dirty&&(e>=t.length||t[e]!=i)&&(this.__dirty=!0),t[e]=i},__replace_openfl_display_SpreadMethod:function(t,e,i){!this.__dirty&&(e>=t.length||t[e]!=i)&&(this.__dirty=!0),t[e]=i},__replace_Array_Float:function(t,e,i){!this.__dirty&&(e>=t.length||t[e]!=i)&&(this.__dirty=!0),t[e]=i},__replace_Array_Int:function(t,e,i){!this.__dirty&&(e>=t.length||t[e]!=i)&&(this.__dirty=!0),t[e]=i},__replace_openfl_display_GradientType:function(t,e,i){!this.__dirty&&(e>=t.length||t[e]!=i)&&(this.__dirty=!0),t[e]=i},__replace_Float:function(t,e,i){!this.__dirty&&(e>=t.length||t[e]!=i)&&(this.__dirty=!0),t[e]=i},__replace_openfl_display__internal_DrawCommandType:function(t,e,i){!this.__dirty&&(e>=t.length||t[e]!=i)&&(this.__dirty=!0),t[e]=i},dirty:null,types:null,b:null,copyOnWrite:null,f:null,ff:null,i:null,ii:null,o:null,t_i:null,b_i:null,f_i:null,ff_i:null,i_i:null,ii_i:null,o_i:null,objVersions:null,__lastLength:null,__dirty:null,append:function(t){if(0==this.get_length())return this.types=t.types,this.b=t.b,this.i=t.i,this.f=t.f,this.o=t.o,this.ff=t.ff,this.ii=t.ii,this.t_i=t.t_i,this.b_i=t.b_i,this.f_i=t.f_i,this.ff_i=t.ff_i,this.i_i=t.i_i,this.ii_i=t.ii_i,this.o_i=t.o_i,this.objVersions=t.objVersions,this.copyOnWrite=t.copyOnWrite=!0,t;for(var e=new Su(t),i=0,s=t.types;i<s.length;){var n=s[i];switch(++i,n._hx_index){case 0:switch(e.prev._hx_index){case 0:case 14:e.oPos+=2,e.bPos+=2;break;case 1:e.iPos+=1,e.fPos+=1;break;case 2:case 15:e.oPos+=4,e.iiPos+=2,e.ffPos+=1,e.fPos+=1;break;case 3:case 19:case 20:e.oPos+=1;break;case 4:e.fPos+=6;break;case 5:case 7:case 9:e.fPos+=4;break;case 6:e.fPos+=3;break;case 8:e.oPos+=3;break;case 10:e.fPos+=5,e.oPos+=1;break;case 12:e.oPos+=4;break;case 16:e.oPos+=4,e.iPos+=1,e.fPos+=2,e.bPos+=1;break;case 17:case 18:e.fPos+=2}e.prev=Ru.BEGIN_BITMAP_FILL,n=e,this.beginBitmapFill(n.buffer.o[n.oPos],n.buffer.o[n.oPos+1],n.buffer.b[n.bPos],n.buffer.b[n.bPos+1]);break;case 1:switch(e.prev._hx_index){case 0:case 14:e.oPos+=2,e.bPos+=2;break;case 1:e.iPos+=1,e.fPos+=1;break;case 2:case 15:e.oPos+=4,e.iiPos+=2,e.ffPos+=1,e.fPos+=1;break;case 3:case 19:case 20:e.oPos+=1;break;case 4:e.fPos+=6;break;case 5:case 7:case 9:e.fPos+=4;break;case 6:e.fPos+=3;break;case 8:e.oPos+=3;break;case 10:e.fPos+=5,e.oPos+=1;break;case 12:e.oPos+=4;break;case 16:e.oPos+=4,e.iPos+=1,e.fPos+=2,e.bPos+=1;break;case 17:case 18:e.fPos+=2}e.prev=Ru.BEGIN_FILL,n=e,this.beginFill(n.buffer.i[n.iPos],n.buffer.f[n.fPos]);break;case 2:switch(e.prev._hx_index){case 0:case 14:e.oPos+=2,e.bPos+=2;break;case 1:e.iPos+=1,e.fPos+=1;break;case 2:case 15:e.oPos+=4,e.iiPos+=2,e.ffPos+=1,e.fPos+=1;break;case 3:case 19:case 20:e.oPos+=1;break;case 4:e.fPos+=6;break;case 5:case 7:case 9:e.fPos+=4;break;case 6:e.fPos+=3;break;case 8:e.oPos+=3;break;case 10:e.fPos+=5,e.oPos+=1;break;case 12:e.oPos+=4;break;case 16:e.oPos+=4,e.iPos+=1,e.fPos+=2,e.bPos+=1;break;case 17:case 18:e.fPos+=2}e.prev=Ru.BEGIN_GRADIENT_FILL,n=e,this.beginGradientFill(n.buffer.o[n.oPos],n.buffer.ii[n.iiPos],n.buffer.ff[n.ffPos],n.buffer.ii[n.iiPos+1],n.buffer.o[n.oPos+1],n.buffer.o[n.oPos+2],n.buffer.o[n.oPos+3],n.buffer.f[n.fPos]);break;case 3:switch(e.prev._hx_index){case 0:case 14:e.oPos+=2,e.bPos+=2;break;case 1:e.iPos+=1,e.fPos+=1;break;case 2:case 15:e.oPos+=4,e.iiPos+=2,e.ffPos+=1,e.fPos+=1;break;case 3:case 19:case 20:e.oPos+=1;break;case 4:e.fPos+=6;break;case 5:case 7:case 9:e.fPos+=4;break;case 6:e.fPos+=3;break;case 8:e.oPos+=3;break;case 10:e.fPos+=5,e.oPos+=1;break;case 12:e.oPos+=4;break;case 16:e.oPos+=4,e.iPos+=1,e.fPos+=2,e.bPos+=1;break;case 17:case 18:e.fPos+=2}e.prev=Ru.BEGIN_SHADER_FILL,n=e,this.beginShaderFill(n.buffer.o[n.oPos]);break;case 4:switch(e.prev._hx_index){case 0:case 14:e.oPos+=2,e.bPos+=2;break;case 1:e.iPos+=1,e.fPos+=1;break;case 2:case 15:e.oPos+=4,e.iiPos+=2,e.ffPos+=1,e.fPos+=1;break;case 3:case 19:case 20:e.oPos+=1;break;case 4:e.fPos+=6;break;case 5:case 7:case 9:e.fPos+=4;break;case 6:e.fPos+=3;break;case 8:e.oPos+=3;break;case 10:e.fPos+=5,e.oPos+=1;break;case 12:e.oPos+=4;break;case 16:e.oPos+=4,e.iPos+=1,e.fPos+=2,e.bPos+=1;break;case 17:case 18:e.fPos+=2}e.prev=Ru.CUBIC_CURVE_TO,n=e,this.cubicCurveTo(n.buffer.f[n.fPos],n.buffer.f[n.fPos+1],n.buffer.f[n.fPos+2],n.buffer.f[n.fPos+3],n.buffer.f[n.fPos+4],n.buffer.f[n.fPos+5]);break;case 5:switch(e.prev._hx_index){case 0:case 14:e.oPos+=2,e.bPos+=2;break;case 1:e.iPos+=1,e.fPos+=1;break;case 2:case 15:e.oPos+=4,e.iiPos+=2,e.ffPos+=1,e.fPos+=1;break;case 3:case 19:case 20:e.oPos+=1;break;case 4:e.fPos+=6;break;case 5:case 7:case 9:e.fPos+=4;break;case 6:e.fPos+=3;break;case 8:e.oPos+=3;break;case 10:e.fPos+=5,e.oPos+=1;break;case 12:e.oPos+=4;break;case 16:e.oPos+=4,e.iPos+=1,e.fPos+=2,e.bPos+=1;break;case 17:case 18:e.fPos+=2}e.prev=Ru.CURVE_TO,n=e,this.curveTo(n.buffer.f[n.fPos],n.buffer.f[n.fPos+1],n.buffer.f[n.fPos+2],n.buffer.f[n.fPos+3]);break;case 6:switch(e.prev._hx_index){case 0:case 14:e.oPos+=2,e.bPos+=2;break;case 1:e.iPos+=1,e.fPos+=1;break;case 2:case 15:e.oPos+=4,e.iiPos+=2,e.ffPos+=1,e.fPos+=1;break;case 3:case 19:case 20:e.oPos+=1;break;case 4:e.fPos+=6;break;case 5:case 7:case 9:e.fPos+=4;break;case 6:e.fPos+=3;break;case 8:e.oPos+=3;break;case 10:e.fPos+=5,e.oPos+=1;break;case 12:e.oPos+=4;break;case 16:e.oPos+=4,e.iPos+=1,e.fPos+=2,e.bPos+=1;break;case 17:case 18:e.fPos+=2}e.prev=Ru.DRAW_CIRCLE,n=e,this.drawCircle(n.buffer.f[n.fPos],n.buffer.f[n.fPos+1],n.buffer.f[n.fPos+2]);break;case 7:switch(e.prev._hx_index){case 0:case 14:e.oPos+=2,e.bPos+=2;break;case 1:e.iPos+=1,e.fPos+=1;break;case 2:case 15:e.oPos+=4,e.iiPos+=2,e.ffPos+=1,e.fPos+=1;break;case 3:case 19:case 20:e.oPos+=1;break;case 4:e.fPos+=6;break;case 5:case 7:case 9:e.fPos+=4;break;case 6:e.fPos+=3;break;case 8:e.oPos+=3;break;case 10:e.fPos+=5,e.oPos+=1;break;case 12:e.oPos+=4;break;case 16:e.oPos+=4,e.iPos+=1,e.fPos+=2,e.bPos+=1;break;case 17:case 18:e.fPos+=2}e.prev=Ru.DRAW_ELLIPSE,n=e,this.drawEllipse(n.buffer.f[n.fPos],n.buffer.f[n.fPos+1],n.buffer.f[n.fPos+2],n.buffer.f[n.fPos+3]);break;case 8:switch(e.prev._hx_index){case 0:case 14:e.oPos+=2,e.bPos+=2;break;case 1:e.iPos+=1,e.fPos+=1;break;case 2:case 15:e.oPos+=4,e.iiPos+=2,e.ffPos+=1,e.fPos+=1;break;case 3:case 19:case 20:e.oPos+=1;break;case 4:e.fPos+=6;break;case 5:case 7:case 9:e.fPos+=4;break;case 6:e.fPos+=3;break;case 8:e.oPos+=3;break;case 10:e.fPos+=5,e.oPos+=1;break;case 12:e.oPos+=4;break;case 16:e.oPos+=4,e.iPos+=1,e.fPos+=2,e.bPos+=1;break;case 17:case 18:e.fPos+=2}e.prev=Ru.DRAW_QUADS,n=e,this.drawQuads(n.buffer.o[n.oPos],n.buffer.o[n.oPos+1],n.buffer.o[n.oPos+2]);break;case 9:switch(e.prev._hx_index){case 0:case 14:e.oPos+=2,e.bPos+=2;break;case 1:e.iPos+=1,e.fPos+=1;break;case 2:case 15:e.oPos+=4,e.iiPos+=2,e.ffPos+=1,e.fPos+=1;break;case 3:case 19:case 20:e.oPos+=1;break;case 4:e.fPos+=6;break;case 5:case 7:case 9:e.fPos+=4;break;case 6:e.fPos+=3;break;case 8:e.oPos+=3;break;case 10:e.fPos+=5,e.oPos+=1;break;case 12:e.oPos+=4;break;case 16:e.oPos+=4,e.iPos+=1,e.fPos+=2,e.bPos+=1;break;case 17:case 18:e.fPos+=2}e.prev=Ru.DRAW_RECT,n=e,this.drawRect(n.buffer.f[n.fPos],n.buffer.f[n.fPos+1],n.buffer.f[n.fPos+2],n.buffer.f[n.fPos+3]);break;case 10:switch(e.prev._hx_index){case 0:case 14:e.oPos+=2,e.bPos+=2;break;case 1:e.iPos+=1,e.fPos+=1;break;case 2:case 15:e.oPos+=4,e.iiPos+=2,e.ffPos+=1,e.fPos+=1;break;case 3:case 19:case 20:e.oPos+=1;break;case 4:e.fPos+=6;break;case 5:case 7:case 9:e.fPos+=4;break;case 6:e.fPos+=3;break;case 8:e.oPos+=3;break;case 10:e.fPos+=5,e.oPos+=1;break;case 12:e.oPos+=4;break;case 16:e.oPos+=4,e.iPos+=1,e.fPos+=2,e.bPos+=1;break;case 17:case 18:e.fPos+=2}e.prev=Ru.DRAW_ROUND_RECT,n=e,this.drawRoundRect(n.buffer.f[n.fPos],n.buffer.f[n.fPos+1],n.buffer.f[n.fPos+2],n.buffer.f[n.fPos+3],n.buffer.f[n.fPos+4],n.buffer.o[n.oPos]);break;case 12:switch(e.prev._hx_index){case 0:case 14:e.oPos+=2,e.bPos+=2;break;case 1:e.iPos+=1,e.fPos+=1;break;case 2:case 15:e.oPos+=4,e.iiPos+=2,e.ffPos+=1,e.fPos+=1;break;case 3:case 19:case 20:e.oPos+=1;break;case 4:e.fPos+=6;break;case 5:case 7:case 9:e.fPos+=4;break;case 6:e.fPos+=3;break;case 8:e.oPos+=3;break;case 10:e.fPos+=5,e.oPos+=1;break;case 12:e.oPos+=4;break;case 16:e.oPos+=4,e.iPos+=1,e.fPos+=2,e.bPos+=1;break;case 17:case 18:e.fPos+=2}e.prev=Ru.DRAW_TRIANGLES,n=e,this.drawTriangles(n.buffer.o[n.oPos],n.buffer.o[n.oPos+1],n.buffer.o[n.oPos+2],n.buffer.o[n.oPos+3]);break;case 13:switch(e.prev._hx_index){case 0:case 14:e.oPos+=2,e.bPos+=2;break;case 1:e.iPos+=1,e.fPos+=1;break;case 2:case 15:e.oPos+=4,e.iiPos+=2,e.ffPos+=1,e.fPos+=1;break;case 3:case 19:case 20:e.oPos+=1;break;case 4:e.fPos+=6;break;case 5:case 7:case 9:e.fPos+=4;break;case 6:e.fPos+=3;break;case 8:e.oPos+=3;break;case 10:e.fPos+=5,e.oPos+=1;break;case 12:e.oPos+=4;break;case 16:e.oPos+=4,e.iPos+=1,e.fPos+=2,e.bPos+=1;break;case 17:case 18:e.fPos+=2}e.prev=Ru.END_FILL,this.endFill();break;case 14:switch(e.prev._hx_index){case 0:case 14:e.oPos+=2,e.bPos+=2;break;case 1:e.iPos+=1,e.fPos+=1;break;case 2:case 15:e.oPos+=4,e.iiPos+=2,e.ffPos+=1,e.fPos+=1;break;case 3:case 19:case 20:e.oPos+=1;break;case 4:e.fPos+=6;break;case 5:case 7:case 9:e.fPos+=4;break;case 6:e.fPos+=3;break;case 8:e.oPos+=3;break;case 10:e.fPos+=5,e.oPos+=1;break;case 12:e.oPos+=4;break;case 16:e.oPos+=4,e.iPos+=1,e.fPos+=2,e.bPos+=1;break;case 17:case 18:e.fPos+=2}e.prev=Ru.LINE_BITMAP_STYLE,n=e,this.lineBitmapStyle(n.buffer.o[n.oPos],n.buffer.o[n.oPos+1],n.buffer.b[n.bPos],n.buffer.b[n.bPos+1]);break;case 15:switch(e.prev._hx_index){case 0:case 14:e.oPos+=2,e.bPos+=2;break;case 1:e.iPos+=1,e.fPos+=1;break;case 2:case 15:e.oPos+=4,e.iiPos+=2,e.ffPos+=1,e.fPos+=1;break;case 3:case 19:case 20:e.oPos+=1;break;case 4:e.fPos+=6;break;case 5:case 7:case 9:e.fPos+=4;break;case 6:e.fPos+=3;break;case 8:e.oPos+=3;break;case 10:e.fPos+=5,e.oPos+=1;break;case 12:e.oPos+=4;break;case 16:e.oPos+=4,e.iPos+=1,e.fPos+=2,e.bPos+=1;break;case 17:case 18:e.fPos+=2}e.prev=Ru.LINE_GRADIENT_STYLE,n=e,this.lineGradientStyle(n.buffer.o[n.oPos],n.buffer.ii[n.iiPos],n.buffer.ff[n.ffPos],n.buffer.ii[n.iiPos+1],n.buffer.o[n.oPos+1],n.buffer.o[n.oPos+2],n.buffer.o[n.oPos+3],n.buffer.f[n.fPos]);break;case 16:switch(e.prev._hx_index){case 0:case 14:e.oPos+=2,e.bPos+=2;break;case 1:e.iPos+=1,e.fPos+=1;break;case 2:case 15:e.oPos+=4,e.iiPos+=2,e.ffPos+=1,e.fPos+=1;break;case 3:case 19:case 20:e.oPos+=1;break;case 4:e.fPos+=6;break;case 5:case 7:case 9:e.fPos+=4;break;case 6:e.fPos+=3;break;case 8:e.oPos+=3;break;case 10:e.fPos+=5,e.oPos+=1;break;case 12:e.oPos+=4;break;case 16:e.oPos+=4,e.iPos+=1,e.fPos+=2,e.bPos+=1;break;case 17:case 18:e.fPos+=2}e.prev=Ru.LINE_STYLE,n=e,this.lineStyle(n.buffer.o[n.oPos],n.buffer.i[n.iPos],n.buffer.f[n.fPos],n.buffer.b[n.bPos],n.buffer.o[n.oPos+1],n.buffer.o[n.oPos+2],n.buffer.o[n.oPos+3],n.buffer.f[n.fPos+1]);break;case 17:switch(e.prev._hx_index){case 0:case 14:e.oPos+=2,e.bPos+=2;break;case 1:e.iPos+=1,e.fPos+=1;break;case 2:case 15:e.oPos+=4,e.iiPos+=2,e.ffPos+=1,e.fPos+=1;break;case 3:case 19:case 20:e.oPos+=1;break;case 4:e.fPos+=6;break;case 5:case 7:case 9:e.fPos+=4;break;case 6:e.fPos+=3;break;case 8:e.oPos+=3;break;case 10:e.fPos+=5,e.oPos+=1;break;case 12:e.oPos+=4;break;case 16:e.oPos+=4,e.iPos+=1,e.fPos+=2,e.bPos+=1;break;case 17:case 18:e.fPos+=2}e.prev=Ru.LINE_TO,n=e,this.lineTo(n.buffer.f[n.fPos],n.buffer.f[n.fPos+1]);break;case 18:switch(e.prev._hx_index){case 0:case 14:e.oPos+=2,e.bPos+=2;break;case 1:e.iPos+=1,e.fPos+=1;break;case 2:case 15:e.oPos+=4,e.iiPos+=2,e.ffPos+=1,e.fPos+=1;break;case 3:case 19:case 20:e.oPos+=1;break;case 4:e.fPos+=6;break;case 5:case 7:case 9:e.fPos+=4;break;case 6:e.fPos+=3;break;case 8:e.oPos+=3;break;case 10:e.fPos+=5,e.oPos+=1;break;case 12:e.oPos+=4;break;case 16:e.oPos+=4,e.iPos+=1,e.fPos+=2,e.bPos+=1;break;case 17:case 18:e.fPos+=2}e.prev=Ru.MOVE_TO,n=e,this.moveTo(n.buffer.f[n.fPos],n.buffer.f[n.fPos+1]);break;case 20:switch(e.prev._hx_index){case 0:case 14:e.oPos+=2,e.bPos+=2;break;case 1:e.iPos+=1,e.fPos+=1;break;case 2:case 15:e.oPos+=4,e.iiPos+=2,e.ffPos+=1,e.fPos+=1;break;case 3:case 19:case 20:e.oPos+=1;break;case 4:e.fPos+=6;break;case 5:case 7:case 9:e.fPos+=4;break;case 6:e.fPos+=3;break;case 8:e.oPos+=3;break;case 10:e.fPos+=5,e.oPos+=1;break;case 12:e.oPos+=4;break;case 16:e.oPos+=4,e.iPos+=1,e.fPos+=2,e.bPos+=1;break;case 17:case 18:e.fPos+=2}e.prev=Ru.OVERRIDE_MATRIX,n=e,this.overrideMatrix(n.buffer.o[n.oPos]);break;case 21:switch(e.prev._hx_index){case 0:case 14:e.oPos+=2,e.bPos+=2;break;case 1:e.iPos+=1,e.fPos+=1;break;case 2:case 15:e.oPos+=4,e.iiPos+=2,e.ffPos+=1,e.fPos+=1;break;case 3:case 19:case 20:e.oPos+=1;break;case 4:e.fPos+=6;break;case 5:case 7:case 9:e.fPos+=4;break;case 6:e.fPos+=3;break;case 8:e.oPos+=3;break;case 10:e.fPos+=5,e.oPos+=1;break;case 12:e.oPos+=4;break;case 16:e.oPos+=4,e.iPos+=1,e.fPos+=2,e.bPos+=1;break;case 17:case 18:e.fPos+=2}e.prev=Ru.WINDING_EVEN_ODD,this.windingEvenOdd();break;case 22:switch(e.prev._hx_index){case 0:case 14:e.oPos+=2,e.bPos+=2;break;case 1:e.iPos+=1,e.fPos+=1;break;case 2:case 15:e.oPos+=4,e.iiPos+=2,e.ffPos+=1,e.fPos+=1;break;case 3:case 19:case 20:e.oPos+=1;break;case 4:e.fPos+=6;break;case 5:case 7:case 9:e.fPos+=4;break;case 6:e.fPos+=3;break;case 8:e.oPos+=3;break;case 10:e.fPos+=5,e.oPos+=1;break;case 12:e.oPos+=4;break;case 16:e.oPos+=4,e.iPos+=1,e.fPos+=2,e.bPos+=1;break;case 17:case 18:e.fPos+=2}e.prev=Ru.WINDING_NON_ZERO,this.windingNonZero()}}return e.destroy(),t},beginBitmapFill:function(t,e,i,s){this.prepareWrite();var n=this.types,r=this.t_i++,a=Ru.BEGIN_BITMAP_FILL;for(!this.__dirty&&(r>=n.length||n[r]!=a)&&(this.__dirty=!0),n[r]=a,n=this.o,r=this.o_i++,!this.__dirty&&(r>=n.length||t!=n[r]||t.image.version!=this.objVersions[r])&&(this.__dirty=!0),n[r]=t;this.objVersions.length<r;)this.objVersions.push(0);this.objVersions[r]=t.image.version,n=this.o,r=this.o_i++,this.__dirty||!(r>=n.length)&&e.equals(n[r])||(this.__dirty=!0),n[r]=e,n=this.b,r=this.b_i++,!this.__dirty&&(r>=n.length||n[r]!=i)&&(this.__dirty=!0),n[r]=i,n=this.b,r=this.b_i++,!this.__dirty&&(r>=n.length||n[r]!=s)&&(this.__dirty=!0),n[r]=s},beginFill:function(t,e){this.prepareWrite();var i=this.types,s=this.t_i++,n=Ru.BEGIN_FILL;!this.__dirty&&(s>=i.length||i[s]!=n)&&(this.__dirty=!0),i[s]=n,i=this.i,s=this.i_i++,!this.__dirty&&(s>=i.length||i[s]!=t)&&(this.__dirty=!0),i[s]=t,i=this.f,s=this.f_i++,!this.__dirty&&(s>=i.length||i[s]!=e)&&(this.__dirty=!0),i[s]=e},beginGradientFill:function(t,e,i,s,n,r,a,o){this.prepareWrite();var l=this.types,h=this.t_i++,_=Ru.BEGIN_GRADIENT_FILL;!this.__dirty&&(h>=l.length||l[h]!=_)&&(this.__dirty=!0),l[h]=_,l=this.o,h=this.o_i++,!this.__dirty&&(h>=l.length||l[h]!=t)&&(this.__dirty=!0),l[h]=t,l=this.ii,h=this.ii_i++,!this.__dirty&&(h>=l.length||l[h]!=e)&&(this.__dirty=!0),l[h]=e,l=this.ff,h=this.ff_i++,!this.__dirty&&(h>=l.length||l[h]!=i)&&(this.__dirty=!0),l[h]=i,l=this.ii,h=this.ii_i++,!this.__dirty&&(h>=l.length||l[h]!=s)&&(this.__dirty=!0),l[h]=s,l=this.o,h=this.o_i++,this.__dirty||!(h>=l.length)&&n.equals(l[h])||(this.__dirty=!0),l[h]=n,l=this.o,h=this.o_i++,!this.__dirty&&(h>=l.length||l[h]!=r)&&(this.__dirty=!0),l[h]=r,l=this.o,h=this.o_i++,!this.__dirty&&(h>=l.length||l[h]!=a)&&(this.__dirty=!0),l[h]=a,l=this.f,h=this.f_i++,!this.__dirty&&(h>=l.length||l[h]!=o)&&(this.__dirty=!0),l[h]=o},beginShaderFill:function(t){this.prepareWrite();var e=this.types,i=this.t_i++,s=Ru.BEGIN_SHADER_FILL;!this.__dirty&&(i>=e.length||e[i]!=s)&&(this.__dirty=!0),e[i]=s,e=this.o,i=this.o_i++,!this.__dirty&&(i>=e.length||e[i]!=t)&&(this.__dirty=!0),e[i]=t},clear:function(){this.o_i=this.ii_i=this.i_i=this.ff_i=this.f_i=this.b_i=this.t_i=0},copy:function(){var t=new Jc;return t.append(this),t},cubicCurveTo:function(t,e,i,s,n,r){this.prepareWrite();var a=this.types,o=this.t_i++,l=Ru.CUBIC_CURVE_TO;!this.__dirty&&(o>=a.length||a[o]!=l)&&(this.__dirty=!0),a[o]=l,a=this.f,o=this.f_i++,!this.__dirty&&(o>=a.length||a[o]!=t)&&(this.__dirty=!0),a[o]=t,a=this.f,o=this.f_i++,!this.__dirty&&(o>=a.length||a[o]!=e)&&(this.__dirty=!0),a[o]=e,a=this.f,o=this.f_i++,!this.__dirty&&(o>=a.length||a[o]!=i)&&(this.__dirty=!0),a[o]=i,a=this.f,o=this.f_i++,!this.__dirty&&(o>=a.length||a[o]!=s)&&(this.__dirty=!0),a[o]=s,a=this.f,o=this.f_i++,!this.__dirty&&(o>=a.length||a[o]!=n)&&(this.__dirty=!0),a[o]=n,a=this.f,o=this.f_i++,!this.__dirty&&(o>=a.length||a[o]!=r)&&(this.__dirty=!0),a[o]=r},curveTo:function(t,e,i,s){this.prepareWrite();var n=this.types,r=this.t_i++,a=Ru.CURVE_TO;!this.__dirty&&(r>=n.length||n[r]!=a)&&(this.__dirty=!0),n[r]=a,n=this.f,r=this.f_i++,!this.__dirty&&(r>=n.length||n[r]!=t)&&(this.__dirty=!0),n[r]=t,n=this.f,r=this.f_i++,!this.__dirty&&(r>=n.length||n[r]!=e)&&(this.__dirty=!0),n[r]=e,n=this.f,r=this.f_i++,!this.__dirty&&(r>=n.length||n[r]!=i)&&(this.__dirty=!0),n[r]=i,n=this.f,r=this.f_i++,!this.__dirty&&(r>=n.length||n[r]!=s)&&(this.__dirty=!0),n[r]=s},destroy:function(){this.ii=this.ff=this.o=this.f=this.i=this.b=this.types=null},drawCircle:function(t,e,i){this.prepareWrite();var s=this.types,n=this.t_i++,r=Ru.DRAW_CIRCLE;!this.__dirty&&(n>=s.length||s[n]!=r)&&(this.__dirty=!0),s[n]=r,s=this.f,n=this.f_i++,!this.__dirty&&(n>=s.length||s[n]!=t)&&(this.__dirty=!0),s[n]=t,s=this.f,n=this.f_i++,!this.__dirty&&(n>=s.length||s[n]!=e)&&(this.__dirty=!0),s[n]=e,s=this.f,n=this.f_i++,!this.__dirty&&(n>=s.length||s[n]!=i)&&(this.__dirty=!0),s[n]=i},drawEllipse:function(t,e,i,s){this.prepareWrite();var n=this.types,r=this.t_i++,a=Ru.DRAW_ELLIPSE;!this.__dirty&&(r>=n.length||n[r]!=a)&&(this.__dirty=!0),n[r]=a,n=this.f,r=this.f_i++,!this.__dirty&&(r>=n.length||n[r]!=t)&&(this.__dirty=!0),n[r]=t,n=this.f,r=this.f_i++,!this.__dirty&&(r>=n.length||n[r]!=e)&&(this.__dirty=!0),n[r]=e,n=this.f,r=this.f_i++,!this.__dirty&&(r>=n.length||n[r]!=i)&&(this.__dirty=!0),n[r]=i,n=this.f,r=this.f_i++,!this.__dirty&&(r>=n.length||n[r]!=s)&&(this.__dirty=!0),n[r]=s},drawQuads:function(t,e,i){this.prepareWrite();var s=this.types,n=this.t_i++,r=Ru.DRAW_QUADS;!this.__dirty&&(n>=s.length||s[n]!=r)&&(this.__dirty=!0),s[n]=r,s=this.o,n=this.o_i++,!this.__dirty&&(n>=s.length||s[n]!=t)&&(this.__dirty=!0),s[n]=t,s=this.o,n=this.o_i++,!this.__dirty&&(n>=s.length||s[n]!=e)&&(this.__dirty=!0),s[n]=e,s=this.o,n=this.o_i++,!this.__dirty&&(n>=s.length||s[n]!=i)&&(this.__dirty=!0),s[n]=i},drawRect:function(t,e,i,s){this.prepareWrite();var n=this.types,r=this.t_i++,a=Ru.DRAW_RECT;!this.__dirty&&(r>=n.length||n[r]!=a)&&(this.__dirty=!0),n[r]=a,n=this.f,r=this.f_i++,!this.__dirty&&(r>=n.length||n[r]!=t)&&(this.__dirty=!0),n[r]=t,n=this.f,r=this.f_i++,!this.__dirty&&(r>=n.length||n[r]!=e)&&(this.__dirty=!0),n[r]=e,n=this.f,r=this.f_i++,!this.__dirty&&(r>=n.length||n[r]!=i)&&(this.__dirty=!0),n[r]=i,n=this.f,r=this.f_i++,!this.__dirty&&(r>=n.length||n[r]!=s)&&(this.__dirty=!0),n[r]=s},drawRoundRect:function(t,e,i,s,n,r){this.prepareWrite();var a=this.types,o=this.t_i++,l=Ru.DRAW_ROUND_RECT;!this.__dirty&&(o>=a.length||a[o]!=l)&&(this.__dirty=!0),a[o]=l,a=this.f,o=this.f_i++,!this.__dirty&&(o>=a.length||a[o]!=t)&&(this.__dirty=!0),a[o]=t,a=this.f,o=this.f_i++,!this.__dirty&&(o>=a.length||a[o]!=e)&&(this.__dirty=!0),a[o]=e,a=this.f,o=this.f_i++,!this.__dirty&&(o>=a.length||a[o]!=i)&&(this.__dirty=!0),a[o]=i,a=this.f,o=this.f_i++,!this.__dirty&&(o>=a.length||a[o]!=s)&&(this.__dirty=!0),a[o]=s,a=this.f,o=this.f_i++,!this.__dirty&&(o>=a.length||a[o]!=n)&&(this.__dirty=!0),a[o]=n,!this.__dirty&&(this.o_i>=this.o.length||this.o[this.o_i]!=r)&&(this.__dirty=!0),this.o[this.o_i++]=r},drawTriangles:function(t,e,i,s){this.prepareWrite();var n=this.types,r=this.t_i++,a=Ru.DRAW_TRIANGLES;!this.__dirty&&(r>=n.length||n[r]!=a)&&(this.__dirty=!0),n[r]=a,n=this.o,r=this.o_i++,!this.__dirty&&(r>=n.length||n[r]!=t)&&(this.__dirty=!0),n[r]=t,n=this.o,r=this.o_i++,!this.__dirty&&(r>=n.length||n[r]!=e)&&(this.__dirty=!0),n[r]=e,n=this.o,r=this.o_i++,!this.__dirty&&(r>=n.length||n[r]!=i)&&(this.__dirty=!0),n[r]=i,n=this.o,r=this.o_i++,!this.__dirty&&(r>=n.length||n[r]!=s)&&(this.__dirty=!0),n[r]=s},endFill:function(){this.prepareWrite();var t=this.types,e=this.t_i++,i=Ru.END_FILL;!this.__dirty&&(e>=t.length||t[e]!=i)&&(this.__dirty=!0),t[e]=i},lineBitmapStyle:function(t,e,i,s){this.prepareWrite();var n=this.types,r=this.t_i++,a=Ru.LINE_BITMAP_STYLE;for(!this.__dirty&&(r>=n.length||n[r]!=a)&&(this.__dirty=!0),n[r]=a,n=this.o,r=this.o_i++,!this.__dirty&&(r>=n.length||t!=n[r]||t.image.version!=this.objVersions[r])&&(this.__dirty=!0),n[r]=t;this.objVersions.length<r;)this.objVersions.push(0);this.objVersions[r]=t.image.version,n=this.o,r=this.o_i++,this.__dirty||!(r>=n.length)&&e.equals(n[r])||(this.__dirty=!0),n[r]=e,n=this.b,r=this.b_i++,!this.__dirty&&(r>=n.length||n[r]!=i)&&(this.__dirty=!0),n[r]=i,n=this.b,r=this.b_i++,!this.__dirty&&(r>=n.length||n[r]!=s)&&(this.__dirty=!0),n[r]=s},lineGradientStyle:function(t,e,i,s,n,r,a,o){this.prepareWrite();var l=this.types,h=this.t_i++,_=Ru.LINE_GRADIENT_STYLE;!this.__dirty&&(h>=l.length||l[h]!=_)&&(this.__dirty=!0),l[h]=_,l=this.o,h=this.o_i++,!this.__dirty&&(h>=l.length||l[h]!=t)&&(this.__dirty=!0),l[h]=t,l=this.ii,h=this.ii_i++,!this.__dirty&&(h>=l.length||l[h]!=e)&&(this.__dirty=!0),l[h]=e,l=this.ff,h=this.ff_i++,!this.__dirty&&(h>=l.length||l[h]!=i)&&(this.__dirty=!0),l[h]=i,l=this.ii,h=this.ii_i++,!this.__dirty&&(h>=l.length||l[h]!=s)&&(this.__dirty=!0),l[h]=s,l=this.o,h=this.o_i++,this.__dirty||!(h>=l.length)&&n.equals(l[h])||(this.__dirty=!0),l[h]=n,l=this.o,h=this.o_i++,!this.__dirty&&(h>=l.length||l[h]!=r)&&(this.__dirty=!0),l[h]=r,l=this.o,h=this.o_i++,!this.__dirty&&(h>=l.length||l[h]!=a)&&(this.__dirty=!0),l[h]=a,l=this.f,h=this.f_i++,!this.__dirty&&(h>=l.length||l[h]!=o)&&(this.__dirty=!0),l[h]=o},lineStyle:function(t,e,i,s,n,r,a,o){this.prepareWrite();var l=this.types,h=this.t_i++,_=Ru.LINE_STYLE;!this.__dirty&&(h>=l.length||l[h]!=_)&&(this.__dirty=!0),l[h]=_,!this.__dirty&&(this.o_i>=this.o.length||this.o[this.o_i]!=t)&&(this.__dirty=!0),this.o[this.o_i++]=t,l=this.i,h=this.i_i++,!this.__dirty&&(h>=l.length||l[h]!=e)&&(this.__dirty=!0),l[h]=e,l=this.f,h=this.f_i++,!this.__dirty&&(h>=l.length||l[h]!=i)&&(this.__dirty=!0),l[h]=i,l=this.b,h=this.b_i++,!this.__dirty&&(h>=l.length||l[h]!=s)&&(this.__dirty=!0),l[h]=s,l=this.o,h=this.o_i++,!this.__dirty&&(h>=l.length||l[h]!=n)&&(this.__dirty=!0),l[h]=n,l=this.o,h=this.o_i++,!this.__dirty&&(h>=l.length||l[h]!=r)&&(this.__dirty=!0),l[h]=r,l=this.o,h=this.o_i++,!this.__dirty&&(h>=l.length||l[h]!=a)&&(this.__dirty=!0),l[h]=a,l=this.f,h=this.f_i++,!this.__dirty&&(h>=l.length||l[h]!=o)&&(this.__dirty=!0),l[h]=o},lineTo:function(t,e){this.prepareWrite();var i=this.types,s=this.t_i++,n=Ru.LINE_TO;!this.__dirty&&(s>=i.length||i[s]!=n)&&(this.__dirty=!0),i[s]=n,i=this.f,s=this.f_i++,!this.__dirty&&(s>=i.length||i[s]!=t)&&(this.__dirty=!0),i[s]=t,i=this.f,s=this.f_i++,!this.__dirty&&(s>=i.length||i[s]!=e)&&(this.__dirty=!0),i[s]=e},markAsClean:function(){this.__dirty=!1},moveTo:function(t,e){this.prepareWrite();var i=this.types,s=this.t_i++,n=Ru.MOVE_TO;!this.__dirty&&(s>=i.length||i[s]!=n)&&(this.__dirty=!0),i[s]=n,i=this.f,s=this.f_i++,!this.__dirty&&(s>=i.length||i[s]!=t)&&(this.__dirty=!0),i[s]=t,i=this.f,s=this.f_i++,!this.__dirty&&(s>=i.length||i[s]!=e)&&(this.__dirty=!0),i[s]=e},prepareWrite:function(){this.copyOnWrite&&(this.types=this.types.slice(),this.b=this.b.slice(),this.i=this.i.slice(),this.f=this.f.slice(),this.o=this.o.slice(),this.ff=this.ff.slice(),this.ii=this.ii.slice(),this.objVersions=this.objVersions.slice(),this.copyOnWrite=!1)},overrideBlendMode:function(t){this.prepareWrite(),this.types.push(Ru.OVERRIDE_BLEND_MODE),this.o.push(t)},overrideMatrix:function(t){this.prepareWrite();var e=this.types,i=this.t_i++,s=Ru.OVERRIDE_MATRIX;!this.__dirty&&(i>=e.length||e[i]!=s)&&(this.__dirty=!0),e[i]=s,e=this.o,i=this.o_i++,this.__dirty||!(i>=e.length)&&t.equals(e[i])||(this.__dirty=!0),e[i]=t},windingEvenOdd:function(){this.prepareWrite();var t=this.types,e=this.t_i++,i=Ru.WINDING_EVEN_ODD;!this.__dirty&&(e>=t.length||t[e]!=i)&&(this.__dirty=!0),t[e]=i},windingNonZero:function(){this.prepareWrite();var t=this.types,e=this.t_i++,i=Ru.WINDING_NON_ZERO;!this.__dirty&&(e>=t.length||t[e]!=i)&&(this.__dirty=!0),t[e]=i},get_dirty:function(){return this.__dirty},get_length:function(){return this.t_i},__initFromEmpty:function(){this.types=Jc.empty.types,this.b=Jc.empty.b,this.i=Jc.empty.i,this.f=Jc.empty.f,this.o=Jc.empty.o,this.ff=Jc.empty.ff,this.ii=Jc.empty.ii,this.objVersions=Jc.empty.objVersions,this.copyOnWrite=!0},__endBuffer:function(){this.__lastLength!=this.t_i&&(this.__dirty=!0),this.__lastLength=this.t_i},__replaceMtx:function(t,e,i){this.__dirty||!(e>=t.length)&&i.equals(t[e])||(this.__dirty=!0),t[e]=i},__replaceBmp:function(t,e,i){for(!this.__dirty&&(e>=t.length||i!=t[e]||i.image.version!=this.objVersions[e])&&(this.__dirty=!0),t[e]=i;this.objVersions.length<e;)this.objVersions.push(0);this.objVersions[e]=i.image.version},__class__:Jc,__properties__:{get_length:"get_length",get_dirty:"get_dirty"}};var Zc=function(){};r["openfl.display._internal.CanvasGraphics"]=Zc,Zc.__name__="openfl.display._internal.CanvasGraphics",Zc.closePath=function(t){null==t&&(t=!1),null!=Zc.context.strokeStyle&&(t||Zc.context.closePath(),Zc.context.stroke(),t&&Zc.context.closePath(),Zc.context.beginPath())},Zc.createBitmapFill=function(t,e,i){return Vo.convertToCanvas(t.image),Zc.setSmoothing(i),Zc.context.createPattern(t.image.get_src(),e?"repeat":"no-repeat")},Zc.createGradientPattern=function(t,e,i,s,n,r,a,o){switch(r=null,a=!1,null==n&&((n=yr.__pool.get()).identity(),a=!0),t){case 0:r=Zc.context.createLinearGradient(-819.2,0,819.2,0),Zc.pendingMatrix=n.clone(),Zc.inversePendingMatrix=n.clone(),Zc.inversePendingMatrix.invert();break;case 1:1<o?o=1:-1>o&&(o=-1),r=Zc.context.createRadialGradient(819.2*o,0,0,0,0,819.2),Zc.pendingMatrix=n.clone(),Zc.inversePendingMatrix=n.clone(),Zc.inversePendingMatrix.invert()}for(var l,h,_,c=0,u=e.length;c<u;)l=e[_=c++],t=i[_],o=(16711680&l)>>>16,h=(65280&l)>>>8,l&=255,0>(_=s[_]/255)&&(_=0),1<_&&(_=1),r.addColorStop(_,"rgba("+o+", "+h+", "+l+", "+t+")");return a&&yr.__pool.release(n),r},Zc.createTempPatternCanvas=function(t,e,i,s){var n=window.document.createElement("canvas"),r=n.getContext("2d");return n.width=i,n.height=s,t=t.image.get_src(),r.fillStyle=r.createPattern(t,e?"repeat":"no-repeat"),r.beginPath(),r.moveTo(0,0),r.lineTo(0,s),r.lineTo(i,s),r.lineTo(i,0),r.lineTo(0,0),r.closePath(),Zc.hitTesting||r.fill(Zc.windingRule),n},Zc.drawRoundRect=function(t,e,i,s,n,r){null==r&&(r=n),(n*=.5)>i/2&&(n=i/2),(r*=.5)>s/2&&(r=s/2),i=t+i,s=e+s;var a=.7071067811865476*n-n,o=.41421356237309503*n-n,l=.7071067811865476*r-r,h=.41421356237309503*r-r;Zc.context.moveTo(i,s-r),Zc.context.quadraticCurveTo(i,s+h,i+a,s+l),Zc.context.quadraticCurveTo(i+o,s,i-n,s),Zc.context.lineTo(t+n,s),Zc.context.quadraticCurveTo(t-o,s,t-a,s+l),Zc.context.quadraticCurveTo(t,s+h,t,s-r),Zc.context.lineTo(t,e+r),Zc.context.quadraticCurveTo(t,e-h,t-a,e-l),Zc.context.quadraticCurveTo(t-o,e,t+n,e),Zc.context.lineTo(i-n,e),Zc.context.quadraticCurveTo(i+o,e,i+a,e-l),Zc.context.quadraticCurveTo(i,e-h,i,e+r),Zc.context.lineTo(i,s-r)},Zc.endFill=function(){Zc.context.beginPath(),Zc.playCommands(Zc.fillCommands,!1),Zc.fillCommands.clear()},Zc.endStroke=function(){Zc.context.beginPath(),Zc.playCommands(Zc.strokeCommands,!0),Zc.context.closePath(),Zc.strokeCommands.clear()},Zc.hitTest=function(t,e,i){if(Zc.bounds=t.__bounds,Zc.graphics=t,0==t.__commands.get_length()||null==Zc.bounds||0>=Zc.bounds.width||0>=Zc.bounds.height)return!1;Zc.hitTesting=!0;var s=t.__renderTransform,n=e*s.b+i*s.d+s.ty;e=e*s.a+i*s.c+s.tx-(Zc.bounds.x*s.a+Zc.bounds.y*s.c+s.tx),i=n-(Zc.bounds.x*s.b+Zc.bounds.y*s.d+s.ty),n=t.__canvas;var r=t.__context;t.__canvas=Zc.hitTestCanvas,t.__context=Zc.hitTestContext,Zc.context=t.__context,Zc.context.setTransform(s.a,s.b,s.c,s.d,s.tx,s.ty),Zc.fillCommands.clear(),Zc.strokeCommands.clear(),Zc.hasFill=!1,Zc.hasStroke=!1,Zc.bitmapFill=null,Zc.bitmapRepeat=!1,Zc.windingRule="evenodd",s=new Su(t.__commands);for(var a=t.__commands.types,o=0,l=t.__commands.get_length();o<l;){var h=o++;switch((h=a[h])._hx_index){case 0:case 1:case 2:case 3:if(Zc.endFill(),Zc.hasFill&&Zc.context.isPointInPath(e,i,Zc.windingRule))return s.destroy(),t.__canvas=n,t.__context=r,!0;if(Zc.endStroke(),Zc.hasStroke&&Zc.context.isPointInStroke(e,i))return s.destroy(),t.__canvas=n,t.__context=r,!0;if(h==Ru.BEGIN_BITMAP_FILL){switch(s.prev._hx_index){case 0:case 14:s.oPos+=2,s.bPos+=2;break;case 1:s.iPos+=1,s.fPos+=1;break;case 2:case 15:s.oPos+=4,s.iiPos+=2,s.ffPos+=1,s.fPos+=1;break;case 3:case 19:case 20:s.oPos+=1;break;case 4:s.fPos+=6;break;case 5:case 7:case 9:s.fPos+=4;break;case 6:s.fPos+=3;break;case 8:s.oPos+=3;break;case 10:s.fPos+=5,s.oPos+=1;break;case 12:s.oPos+=4;break;case 16:s.oPos+=4,s.iPos+=1,s.fPos+=2,s.bPos+=1;break;case 17:case 18:s.fPos+=2}s.prev=Ru.BEGIN_BITMAP_FILL,h=s,Zc.fillCommands.beginBitmapFill(h.buffer.o[h.oPos],h.buffer.o[h.oPos+1],h.buffer.b[h.bPos],h.buffer.b[h.bPos+1]),Zc.strokeCommands.beginBitmapFill(h.buffer.o[h.oPos],h.buffer.o[h.oPos+1],h.buffer.b[h.bPos],h.buffer.b[h.bPos+1])}else if(h==Ru.BEGIN_GRADIENT_FILL){switch(s.prev._hx_index){case 0:case 14:s.oPos+=2,s.bPos+=2;break;case 1:s.iPos+=1,s.fPos+=1;break;case 2:case 15:s.oPos+=4,s.iiPos+=2,s.ffPos+=1,s.fPos+=1;break;case 3:case 19:case 20:s.oPos+=1;break;case 4:s.fPos+=6;break;case 5:case 7:case 9:s.fPos+=4;break;case 6:s.fPos+=3;break;case 8:s.oPos+=3;break;case 10:s.fPos+=5,s.oPos+=1;break;case 12:s.oPos+=4;break;case 16:s.oPos+=4,s.iPos+=1,s.fPos+=2,s.bPos+=1;break;case 17:case 18:s.fPos+=2}s.prev=Ru.BEGIN_GRADIENT_FILL,h=s,Zc.fillCommands.beginGradientFill(h.buffer.o[h.oPos],h.buffer.ii[h.iiPos],h.buffer.ff[h.ffPos],h.buffer.ii[h.iiPos+1],h.buffer.o[h.oPos+1],h.buffer.o[h.oPos+2],h.buffer.o[h.oPos+3],h.buffer.f[h.fPos]),Zc.strokeCommands.beginGradientFill(h.buffer.o[h.oPos],h.buffer.ii[h.iiPos],h.buffer.ff[h.ffPos],h.buffer.ii[h.iiPos+1],h.buffer.o[h.oPos+1],h.buffer.o[h.oPos+2],h.buffer.o[h.oPos+3],h.buffer.f[h.fPos])}else if(h==Ru.BEGIN_SHADER_FILL){switch(s.prev._hx_index){case 0:case 14:s.oPos+=2,s.bPos+=2;break;case 1:s.iPos+=1,s.fPos+=1;break;case 2:case 15:s.oPos+=4,s.iiPos+=2,s.ffPos+=1,s.fPos+=1;break;case 3:case 19:case 20:s.oPos+=1;break;case 4:s.fPos+=6;break;case 5:case 7:case 9:s.fPos+=4;break;case 6:s.fPos+=3;break;case 8:s.oPos+=3;break;case 10:s.fPos+=5,s.oPos+=1;break;case 12:s.oPos+=4;break;case 16:s.oPos+=4,s.iPos+=1,s.fPos+=2,s.bPos+=1;break;case 17:case 18:s.fPos+=2}s.prev=Ru.BEGIN_SHADER_FILL,h=s,Zc.fillCommands.beginShaderFill(h.buffer.o[h.oPos]),Zc.strokeCommands.beginShaderFill(h.buffer.o[h.oPos])}else{switch(s.prev._hx_index){case 0:case 14:s.oPos+=2,s.bPos+=2;break;case 1:s.iPos+=1,s.fPos+=1;break;case 2:case 15:s.oPos+=4,s.iiPos+=2,s.ffPos+=1,s.fPos+=1;break;case 3:case 19:case 20:s.oPos+=1;break;case 4:s.fPos+=6;break;case 5:case 7:case 9:s.fPos+=4;break;case 6:s.fPos+=3;break;case 8:s.oPos+=3;break;case 10:s.fPos+=5,s.oPos+=1;break;case 12:s.oPos+=4;break;case 16:s.oPos+=4,s.iPos+=1,s.fPos+=2,s.bPos+=1;break;case 17:case 18:s.fPos+=2}s.prev=Ru.BEGIN_FILL,h=s,Zc.fillCommands.beginFill(h.buffer.i[h.iPos],1),Zc.strokeCommands.beginFill(h.buffer.i[h.iPos],1)}break;case 4:switch(s.prev._hx_index){case 0:case 14:s.oPos+=2,s.bPos+=2;break;case 1:s.iPos+=1,s.fPos+=1;break;case 2:case 15:s.oPos+=4,s.iiPos+=2,s.ffPos+=1,s.fPos+=1;break;case 3:case 19:case 20:s.oPos+=1;break;case 4:s.fPos+=6;break;case 5:case 7:case 9:s.fPos+=4;break;case 6:s.fPos+=3;break;case 8:s.oPos+=3;break;case 10:s.fPos+=5,s.oPos+=1;break;case 12:s.oPos+=4;break;case 16:s.oPos+=4,s.iPos+=1,s.fPos+=2,s.bPos+=1;break;case 17:case 18:s.fPos+=2}s.prev=Ru.CUBIC_CURVE_TO,h=s,Zc.fillCommands.cubicCurveTo(h.buffer.f[h.fPos],h.buffer.f[h.fPos+1],h.buffer.f[h.fPos+2],h.buffer.f[h.fPos+3],h.buffer.f[h.fPos+4],h.buffer.f[h.fPos+5]),Zc.strokeCommands.cubicCurveTo(h.buffer.f[h.fPos],h.buffer.f[h.fPos+1],h.buffer.f[h.fPos+2],h.buffer.f[h.fPos+3],h.buffer.f[h.fPos+4],h.buffer.f[h.fPos+5]);break;case 5:switch(s.prev._hx_index){case 0:case 14:s.oPos+=2,s.bPos+=2;break;case 1:s.iPos+=1,s.fPos+=1;break;case 2:case 15:s.oPos+=4,s.iiPos+=2,s.ffPos+=1,s.fPos+=1;break;case 3:case 19:case 20:s.oPos+=1;break;case 4:s.fPos+=6;break;case 5:case 7:case 9:s.fPos+=4;break;case 6:s.fPos+=3;break;case 8:s.oPos+=3;break;case 10:s.fPos+=5,s.oPos+=1;break;case 12:s.oPos+=4;break;case 16:s.oPos+=4,s.iPos+=1,s.fPos+=2,s.bPos+=1;break;case 17:case 18:s.fPos+=2}s.prev=Ru.CURVE_TO,h=s,Zc.fillCommands.curveTo(h.buffer.f[h.fPos],h.buffer.f[h.fPos+1],h.buffer.f[h.fPos+2],h.buffer.f[h.fPos+3]),Zc.strokeCommands.curveTo(h.buffer.f[h.fPos],h.buffer.f[h.fPos+1],h.buffer.f[h.fPos+2],h.buffer.f[h.fPos+3]);break;case 6:switch(s.prev._hx_index){case 0:case 14:s.oPos+=2,s.bPos+=2;break;case 1:s.iPos+=1,s.fPos+=1;break;case 2:case 15:s.oPos+=4,s.iiPos+=2,s.ffPos+=1,s.fPos+=1;break;case 3:case 19:case 20:s.oPos+=1;break;case 4:s.fPos+=6;break;case 5:case 7:case 9:s.fPos+=4;break;case 6:s.fPos+=3;break;case 8:s.oPos+=3;break;case 10:s.fPos+=5,s.oPos+=1;break;case 12:s.oPos+=4;break;case 16:s.oPos+=4,s.iPos+=1,s.fPos+=2,s.bPos+=1;break;case 17:case 18:s.fPos+=2}s.prev=Ru.DRAW_CIRCLE,h=s,Zc.fillCommands.drawCircle(h.buffer.f[h.fPos],h.buffer.f[h.fPos+1],h.buffer.f[h.fPos+2]),Zc.strokeCommands.drawCircle(h.buffer.f[h.fPos],h.buffer.f[h.fPos+1],h.buffer.f[h.fPos+2]);break;case 7:switch(s.prev._hx_index){case 0:case 14:s.oPos+=2,s.bPos+=2;break;case 1:s.iPos+=1,s.fPos+=1;break;case 2:case 15:s.oPos+=4,s.iiPos+=2,s.ffPos+=1,s.fPos+=1;break;case 3:case 19:case 20:s.oPos+=1;break;case 4:s.fPos+=6;break;case 5:case 7:case 9:s.fPos+=4;break;case 6:s.fPos+=3;break;case 8:s.oPos+=3;break;case 10:s.fPos+=5,s.oPos+=1;break;case 12:s.oPos+=4;break;case 16:s.oPos+=4,s.iPos+=1,s.fPos+=2,s.bPos+=1;break;case 17:case 18:s.fPos+=2}s.prev=Ru.DRAW_ELLIPSE,h=s,Zc.fillCommands.drawEllipse(h.buffer.f[h.fPos],h.buffer.f[h.fPos+1],h.buffer.f[h.fPos+2],h.buffer.f[h.fPos+3]),Zc.strokeCommands.drawEllipse(h.buffer.f[h.fPos],h.buffer.f[h.fPos+1],h.buffer.f[h.fPos+2],h.buffer.f[h.fPos+3]);break;case 9:switch(s.prev._hx_index){case 0:case 14:s.oPos+=2,s.bPos+=2;break;case 1:s.iPos+=1,s.fPos+=1;break;case 2:case 15:s.oPos+=4,s.iiPos+=2,s.ffPos+=1,s.fPos+=1;break;case 3:case 19:case 20:s.oPos+=1;break;case 4:s.fPos+=6;break;case 5:case 7:case 9:s.fPos+=4;break;case 6:s.fPos+=3;break;case 8:s.oPos+=3;break;case 10:s.fPos+=5,s.oPos+=1;break;case 12:s.oPos+=4;break;case 16:s.oPos+=4,s.iPos+=1,s.fPos+=2,s.bPos+=1;break;case 17:case 18:s.fPos+=2}s.prev=Ru.DRAW_RECT,h=s,Zc.fillCommands.drawRect(h.buffer.f[h.fPos],h.buffer.f[h.fPos+1],h.buffer.f[h.fPos+2],h.buffer.f[h.fPos+3]),Zc.strokeCommands.drawRect(h.buffer.f[h.fPos],h.buffer.f[h.fPos+1],h.buffer.f[h.fPos+2],h.buffer.f[h.fPos+3]);break;case 10:switch(s.prev._hx_index){case 0:case 14:s.oPos+=2,s.bPos+=2;break;case 1:s.iPos+=1,s.fPos+=1;break;case 2:case 15:s.oPos+=4,s.iiPos+=2,s.ffPos+=1,s.fPos+=1;break;case 3:case 19:case 20:s.oPos+=1;break;case 4:s.fPos+=6;break;case 5:case 7:case 9:s.fPos+=4;break;case 6:s.fPos+=3;break;case 8:s.oPos+=3;break;case 10:s.fPos+=5,s.oPos+=1;break;case 12:s.oPos+=4;break;case 16:s.oPos+=4,s.iPos+=1,s.fPos+=2,s.bPos+=1;break;case 17:case 18:s.fPos+=2}s.prev=Ru.DRAW_ROUND_RECT,h=s,Zc.fillCommands.drawRoundRect(h.buffer.f[h.fPos],h.buffer.f[h.fPos+1],h.buffer.f[h.fPos+2],h.buffer.f[h.fPos+3],h.buffer.f[h.fPos+4],h.buffer.o[h.oPos]),Zc.strokeCommands.drawRoundRect(h.buffer.f[h.fPos],h.buffer.f[h.fPos+1],h.buffer.f[h.fPos+2],h.buffer.f[h.fPos+3],h.buffer.f[h.fPos+4],h.buffer.o[h.oPos]);break;case 13:switch(s.prev._hx_index){case 0:case 14:s.oPos+=2,s.bPos+=2;break;case 1:s.iPos+=1,s.fPos+=1;break;case 2:case 15:s.oPos+=4,s.iiPos+=2,s.ffPos+=1,s.fPos+=1;break;case 3:case 19:case 20:s.oPos+=1;break;case 4:s.fPos+=6;break;case 5:case 7:case 9:s.fPos+=4;break;case 6:s.fPos+=3;break;case 8:s.oPos+=3;break;case 10:s.fPos+=5,s.oPos+=1;break;case 12:s.oPos+=4;break;case 16:s.oPos+=4,s.iPos+=1,s.fPos+=2,s.bPos+=1;break;case 17:case 18:s.fPos+=2}if(s.prev=Ru.END_FILL,Zc.endFill(),Zc.hasFill&&Zc.context.isPointInPath(e,i,Zc.windingRule))return s.destroy(),t.__canvas=n,t.__context=r,!0;if(Zc.endStroke(),Zc.hasStroke&&Zc.context.isPointInStroke(e,i))return s.destroy(),t.__canvas=n,t.__context=r,!0;Zc.hasFill=!1,Zc.bitmapFill=null;break;case 14:switch(s.prev._hx_index){case 0:case 14:s.oPos+=2,s.bPos+=2;break;case 1:s.iPos+=1,s.fPos+=1;break;case 2:case 15:s.oPos+=4,s.iiPos+=2,s.ffPos+=1,s.fPos+=1;break;case 3:case 19:case 20:s.oPos+=1;break;case 4:s.fPos+=6;break;case 5:case 7:case 9:s.fPos+=4;break;case 6:s.fPos+=3;break;case 8:s.oPos+=3;break;case 10:s.fPos+=5,s.oPos+=1;break;case 12:s.oPos+=4;break;case 16:s.oPos+=4,s.iPos+=1,s.fPos+=2,s.bPos+=1;break;case 17:case 18:s.fPos+=2}s.prev=Ru.LINE_BITMAP_STYLE,h=s,Zc.strokeCommands.lineBitmapStyle(h.buffer.o[h.oPos],h.buffer.o[h.oPos+1],h.buffer.b[h.bPos],h.buffer.b[h.bPos+1]);break;case 15:switch(s.prev._hx_index){case 0:case 14:s.oPos+=2,s.bPos+=2;break;case 1:s.iPos+=1,s.fPos+=1;break;case 2:case 15:s.oPos+=4,s.iiPos+=2,s.ffPos+=1,s.fPos+=1;break;case 3:case 19:case 20:s.oPos+=1;break;case 4:s.fPos+=6;break;case 5:case 7:case 9:s.fPos+=4;break;case 6:s.fPos+=3;break;case 8:s.oPos+=3;break;case 10:s.fPos+=5,s.oPos+=1;break;case 12:s.oPos+=4;break;case 16:s.oPos+=4,s.iPos+=1,s.fPos+=2,s.bPos+=1;break;case 17:case 18:s.fPos+=2}s.prev=Ru.LINE_GRADIENT_STYLE,h=s,Zc.strokeCommands.lineGradientStyle(h.buffer.o[h.oPos],h.buffer.ii[h.iiPos],h.buffer.ff[h.ffPos],h.buffer.ii[h.iiPos+1],h.buffer.o[h.oPos+1],h.buffer.o[h.oPos+2],h.buffer.o[h.oPos+3],h.buffer.f[h.fPos]);break;case 16:switch(s.prev._hx_index){case 0:case 14:s.oPos+=2,s.bPos+=2;break;case 1:s.iPos+=1,s.fPos+=1;break;case 2:case 15:s.oPos+=4,s.iiPos+=2,s.ffPos+=1,s.fPos+=1;break;case 3:case 19:case 20:s.oPos+=1;break;case 4:s.fPos+=6;break;case 5:case 7:case 9:s.fPos+=4;break;case 6:s.fPos+=3;break;case 8:s.oPos+=3;break;case 10:s.fPos+=5,s.oPos+=1;break;case 12:s.oPos+=4;break;case 16:s.oPos+=4,s.iPos+=1,s.fPos+=2,s.bPos+=1;break;case 17:case 18:s.fPos+=2}s.prev=Ru.LINE_STYLE,h=s,Zc.strokeCommands.lineStyle(h.buffer.o[h.oPos],h.buffer.i[h.iPos],1,h.buffer.b[h.bPos],h.buffer.o[h.oPos+1],h.buffer.o[h.oPos+2],h.buffer.o[h.oPos+3],h.buffer.f[h.fPos+1]);break;case 17:switch(s.prev._hx_index){case 0:case 14:s.oPos+=2,s.bPos+=2;break;case 1:s.iPos+=1,s.fPos+=1;break;case 2:case 15:s.oPos+=4,s.iiPos+=2,s.ffPos+=1,s.fPos+=1;break;case 3:case 19:case 20:s.oPos+=1;break;case 4:s.fPos+=6;break;case 5:case 7:case 9:s.fPos+=4;break;case 6:s.fPos+=3;break;case 8:s.oPos+=3;break;case 10:s.fPos+=5,s.oPos+=1;break;case 12:s.oPos+=4;break;case 16:s.oPos+=4,s.iPos+=1,s.fPos+=2,s.bPos+=1;break;case 17:case 18:s.fPos+=2}s.prev=Ru.LINE_TO,h=s,Zc.fillCommands.lineTo(h.buffer.f[h.fPos],h.buffer.f[h.fPos+1]),Zc.strokeCommands.lineTo(h.buffer.f[h.fPos],h.buffer.f[h.fPos+1]);break;case 18:switch(s.prev._hx_index){case 0:case 14:s.oPos+=2,s.bPos+=2;break;case 1:s.iPos+=1,s.fPos+=1;break;case 2:case 15:s.oPos+=4,s.iiPos+=2,s.ffPos+=1,s.fPos+=1;break;case 3:case 19:case 20:s.oPos+=1;break;case 4:s.fPos+=6;break;case 5:case 7:case 9:s.fPos+=4;break;case 6:s.fPos+=3;break;case 8:s.oPos+=3;break;case 10:s.fPos+=5,s.oPos+=1;break;case 12:s.oPos+=4;break;case 16:s.oPos+=4,s.iPos+=1,s.fPos+=2,s.bPos+=1;break;case 17:case 18:s.fPos+=2}s.prev=Ru.MOVE_TO,h=s,Zc.fillCommands.moveTo(h.buffer.f[h.fPos],h.buffer.f[h.fPos+1]),Zc.strokeCommands.moveTo(h.buffer.f[h.fPos],h.buffer.f[h.fPos+1]);break;case 21:Zc.windingRule="evenodd";break;case 22:Zc.windingRule="nonzero";break;default:switch(s.prev._hx_index){case 0:case 14:s.oPos+=2,s.bPos+=2;break;case 1:s.iPos+=1,s.fPos+=1;break;case 2:case 15:s.oPos+=4,s.iiPos+=2,s.ffPos+=1,s.fPos+=1;break;case 3:case 19:case 20:s.oPos+=1;break;case 4:s.fPos+=6;break;case 5:case 7:case 9:s.fPos+=4;break;case 6:s.fPos+=3;break;case 8:s.oPos+=3;break;case 10:s.fPos+=5,s.oPos+=1;break;case 12:s.oPos+=4;break;case 16:s.oPos+=4,s.iPos+=1,s.fPos+=2,s.bPos+=1;break;case 17:case 18:s.fPos+=2}s.prev=h}}return a=!1,0<Zc.fillCommands.get_length()&&Zc.endFill(),Zc.hasFill&&Zc.context.isPointInPath(e,i,Zc.windingRule)&&(a=!0),0<Zc.strokeCommands.get_length()&&Zc.endStroke(),Zc.hasStroke&&Zc.context.isPointInStroke(e,i)&&(a=!0),s.destroy(),t.__canvas=n,t.__context=r,a},Zc.isCCW=function(t,e,i,s,n,r){return 0>(i-t)*(r-e)-(s-e)*(n-t)},Zc.normalizeUVT=function(t,e){null==e&&(e=!1);for(var i,s=-1/0,n=t.get_length(),r=1,a=n+1;r<a;)i=r++,e&&0==i%3||s<(i=t.get(i-1))&&(s=i);if(!e)return{max:s,uvt:t};var o=M.toFloatVector(null);for(r=1,a=n+1;r<a;)i=r++,e&&0==i%3||o.push(t.get(i-1));return{max:s,uvt:o}},Zc.playCommands=function(t,e){null==e&&(e=!1),Zc.bounds=Zc.graphics.__bounds;var i=Zc.bounds.x,s=Zc.bounds.y,n=0,r=0,a=!1,o=0,l=0,h=!1;Zc.windingRule="evenodd",Zc.setSmoothing(!0);var _,c,u,d=!1,m=new Su(t),p=null,f=null,g=t.types,y=0,b=t.get_length();t:for(;y<b;){var x=g[y++];switch(x._hx_index){case 0:switch(m.prev._hx_index){case 0:case 14:m.oPos+=2,m.bPos+=2;break;case 1:m.iPos+=1,m.fPos+=1;break;case 2:case 15:m.oPos+=4,m.iiPos+=2,m.ffPos+=1,m.fPos+=1;break;case 3:case 19:case 20:m.oPos+=1;break;case 4:m.fPos+=6;break;case 5:case 7:case 9:m.fPos+=4;break;case 6:m.fPos+=3;break;case 8:m.oPos+=3;break;case 10:m.fPos+=5,m.oPos+=1;break;case 12:m.oPos+=4;break;case 16:m.oPos+=4,m.iPos+=1,m.fPos+=2,m.bPos+=1;break;case 17:case 18:m.fPos+=2}m.prev=Ru.BEGIN_BITMAP_FILL;var w=m;Zc.bitmapFill=w.buffer.o[w.oPos],Zc.context.fillStyle=Zc.createBitmapFill(w.buffer.o[w.oPos],w.buffer.b[w.bPos],w.buffer.b[w.bPos+1]),Zc.hasFill=!0,null!=w.buffer.o[w.oPos+1]?(Zc.pendingMatrix=w.buffer.o[w.oPos+1],Zc.inversePendingMatrix=w.buffer.o[w.oPos+1].clone(),Zc.inversePendingMatrix.invert()):(Zc.pendingMatrix=null,Zc.inversePendingMatrix=null);break;case 1:switch(m.prev._hx_index){case 0:case 14:m.oPos+=2,m.bPos+=2;break;case 1:m.iPos+=1,m.fPos+=1;break;case 2:case 15:m.oPos+=4,m.iiPos+=2,m.ffPos+=1,m.fPos+=1;break;case 3:case 19:case 20:m.oPos+=1;break;case 4:m.fPos+=6;break;case 5:case 7:case 9:m.fPos+=4;break;case 6:m.fPos+=3;break;case 8:m.oPos+=3;break;case 10:m.fPos+=5,m.oPos+=1;break;case 12:m.oPos+=4;break;case 16:m.oPos+=4,m.iPos+=1,m.fPos+=2,m.bPos+=1;break;case 17:case 18:m.fPos+=2}m.prev=Ru.BEGIN_FILL;var R=m;if(.005>R.buffer.f[R.fPos])Zc.hasFill=!1;else{if(1==R.buffer.f[R.fPos]){var S=v.hex(16777215&R.buffer.i[R.iPos],6);Zc.context.fillStyle="#"+S}else{var A=(16711680&R.buffer.i[R.iPos])>>>16,T=(65280&R.buffer.i[R.iPos])>>>8,P=255&R.buffer.i[R.iPos];Zc.context.fillStyle="rgba("+A+", "+T+", "+P+", "+R.buffer.f[R.fPos]+")"}Zc.bitmapFill=null,Zc.setSmoothing(!0),Zc.hasFill=!0}break;case 2:switch(m.prev._hx_index){case 0:case 14:m.oPos+=2,m.bPos+=2;break;case 1:m.iPos+=1,m.fPos+=1;break;case 2:case 15:m.oPos+=4,m.iiPos+=2,m.ffPos+=1,m.fPos+=1;break;case 3:case 19:case 20:m.oPos+=1;break;case 4:m.fPos+=6;break;case 5:case 7:case 9:m.fPos+=4;break;case 6:m.fPos+=3;break;case 8:m.oPos+=3;break;case 10:m.fPos+=5,m.oPos+=1;break;case 12:m.oPos+=4;break;case 16:m.oPos+=4,m.iPos+=1,m.fPos+=2,m.bPos+=1;break;case 17:case 18:m.fPos+=2}m.prev=Ru.BEGIN_GRADIENT_FILL;var C=m;Zc.context.fillStyle=Zc.createGradientPattern(C.buffer.o[C.oPos],C.buffer.ii[C.iiPos],C.buffer.ff[C.ffPos],C.buffer.ii[C.iiPos+1],C.buffer.o[C.oPos+1],C.buffer.o[C.oPos+2],C.buffer.o[C.oPos+3],C.buffer.f[C.fPos]),Zc.bitmapFill=null,Zc.setSmoothing(!0),Zc.hasFill=!0;break;case 3:switch(m.prev._hx_index){case 0:case 14:m.oPos+=2,m.bPos+=2;break;case 1:m.iPos+=1,m.fPos+=1;break;case 2:case 15:m.oPos+=4,m.iiPos+=2,m.ffPos+=1,m.fPos+=1;break;case 3:case 19:case 20:m.oPos+=1;break;case 4:m.fPos+=6;break;case 5:case 7:case 9:m.fPos+=4;break;case 6:m.fPos+=3;break;case 8:m.oPos+=3;break;case 10:m.fPos+=5,m.oPos+=1;break;case 12:m.oPos+=4;break;case 16:m.oPos+=4,m.iPos+=1,m.fPos+=2,m.bPos+=1;break;case 17:case 18:m.fPos+=2}m.prev=Ru.BEGIN_SHADER_FILL;var I=m,k=I.buffer.o[I.oPos];0<k.inputCount&&(Zc.bitmapFill=k.inputs[0],Zc.context.fillStyle=Zc.createBitmapFill(Zc.bitmapFill,0!=k.inputWrap[0],5!=k.inputFilter[0]),Zc.hasFill=!0,Zc.pendingMatrix=null,Zc.inversePendingMatrix=null);break;case 4:switch(m.prev._hx_index){case 0:case 14:m.oPos+=2,m.bPos+=2;break;case 1:m.iPos+=1,m.fPos+=1;break;case 2:case 15:m.oPos+=4,m.iiPos+=2,m.ffPos+=1,m.fPos+=1;break;case 3:case 19:case 20:m.oPos+=1;break;case 4:m.fPos+=6;break;case 5:case 7:case 9:m.fPos+=4;break;case 6:m.fPos+=3;break;case 8:m.oPos+=3;break;case 10:m.fPos+=5,m.oPos+=1;break;case 12:m.oPos+=4;break;case 16:m.oPos+=4,m.iPos+=1,m.fPos+=2,m.bPos+=1;break;case 17:case 18:m.fPos+=2}m.prev=Ru.CUBIC_CURVE_TO;var E=m;d=!0,Zc.context.bezierCurveTo(E.buffer.f[E.fPos]-i,E.buffer.f[E.fPos+1]-s,E.buffer.f[E.fPos+2]-i,E.buffer.f[E.fPos+3]-s,E.buffer.f[E.fPos+4]-i,E.buffer.f[E.fPos+5]-s);break;case 5:switch(m.prev._hx_index){case 0:case 14:m.oPos+=2,m.bPos+=2;break;case 1:m.iPos+=1,m.fPos+=1;break;case 2:case 15:m.oPos+=4,m.iiPos+=2,m.ffPos+=1,m.fPos+=1;break;case 3:case 19:case 20:m.oPos+=1;break;case 4:m.fPos+=6;break;case 5:case 7:case 9:m.fPos+=4;break;case 6:m.fPos+=3;break;case 8:m.oPos+=3;break;case 10:m.fPos+=5,m.oPos+=1;break;case 12:m.oPos+=4;break;case 16:m.oPos+=4,m.iPos+=1,m.fPos+=2,m.bPos+=1;break;case 17:case 18:m.fPos+=2}m.prev=Ru.CURVE_TO;var F=m;d=!0,Zc.context.quadraticCurveTo(F.buffer.f[F.fPos]-i,F.buffer.f[F.fPos+1]-s,F.buffer.f[F.fPos+2]-i,F.buffer.f[F.fPos+3]-s);break;case 6:switch(m.prev._hx_index){case 0:case 14:m.oPos+=2,m.bPos+=2;break;case 1:m.iPos+=1,m.fPos+=1;break;case 2:case 15:m.oPos+=4,m.iiPos+=2,m.ffPos+=1,m.fPos+=1;break;case 3:case 19:case 20:m.oPos+=1;break;case 4:m.fPos+=6;break;case 5:case 7:case 9:m.fPos+=4;break;case 6:m.fPos+=3;break;case 8:m.oPos+=3;break;case 10:m.fPos+=5,m.oPos+=1;break;case 12:m.oPos+=4;break;case 16:m.oPos+=4,m.iPos+=1,m.fPos+=2,m.bPos+=1;break;case 17:case 18:m.fPos+=2}m.prev=Ru.DRAW_CIRCLE;var B=m;d=!0,Zc.context.moveTo(B.buffer.f[B.fPos]-i+B.buffer.f[B.fPos+2],B.buffer.f[B.fPos+1]-s),Zc.context.arc(B.buffer.f[B.fPos]-i,B.buffer.f[B.fPos+1]-s,B.buffer.f[B.fPos+2],0,2*Math.PI,!0);break;case 7:switch(m.prev._hx_index){case 0:case 14:m.oPos+=2,m.bPos+=2;break;case 1:m.iPos+=1,m.fPos+=1;break;case 2:case 15:m.oPos+=4,m.iiPos+=2,m.ffPos+=1,m.fPos+=1;break;case 3:case 19:case 20:m.oPos+=1;break;case 4:m.fPos+=6;break;case 5:case 7:case 9:m.fPos+=4;break;case 6:m.fPos+=3;break;case 8:m.oPos+=3;break;case 10:m.fPos+=5,m.oPos+=1;break;case 12:m.oPos+=4;break;case 16:m.oPos+=4,m.iPos+=1,m.fPos+=2,m.bPos+=1;break;case 17:case 18:m.fPos+=2}m.prev=Ru.DRAW_ELLIPSE;var D=m;d=!0;var L=D.buffer.f[D.fPos],N=D.buffer.f[D.fPos+1],G=D.buffer.f[D.fPos+2],O=D.buffer.f[D.fPos+3],K=G/2*.5522848,V=O/2*.5522848,U=(L-=i)+G,z=(N-=s)+O,W=L+G/2,X=N+O/2;Zc.context.moveTo(L,X),Zc.context.bezierCurveTo(L,X-V,W-K,N,W,N),Zc.context.bezierCurveTo(W+K,N,U,X-V,U,X),Zc.context.bezierCurveTo(U,X+V,W+K,z,W,z),Zc.context.bezierCurveTo(W-K,z,L,X+V,L,X);break;case 8:switch(m.prev._hx_index){case 0:case 14:m.oPos+=2,m.bPos+=2;break;case 1:m.iPos+=1,m.fPos+=1;break;case 2:case 15:m.oPos+=4,m.iiPos+=2,m.ffPos+=1,m.fPos+=1;break;case 3:case 19:case 20:m.oPos+=1;break;case 4:m.fPos+=6;break;case 5:case 7:case 9:m.fPos+=4;break;case 6:m.fPos+=3;break;case 8:m.oPos+=3;break;case 10:m.fPos+=5,m.oPos+=1;break;case 12:m.oPos+=4;break;case 16:m.oPos+=4,m.iPos+=1,m.fPos+=2,m.bPos+=1;break;case 17:case 18:m.fPos+=2}m.prev=Ru.DRAW_QUADS;var H=m,Y=H.buffer.o[H.oPos],j=H.buffer.o[H.oPos+1],J=H.buffer.o[H.oPos+2],Z=null!=j,Q=!1,q=!1,$=Z?j.get_length():Math.floor(Y.get_length()/4);if(0==$)return;null!=J&&(J.get_length()>=6*$?q=Q=!0:J.get_length()>=4*$?Q=!0:J.get_length()>=2*$&&(q=!0));var tt=je.__pool.get(),et=yr.__pool.get(),it=Zc.graphics.__renderTransform;Zc.context.save();for(var st=0,nt=$;st<nt;){var rt=st++,at=Z?4*j.get(rt):4*rt;if(!(0>at||(tt.setTo(Y.get(at),Y.get(at+1),Y.get(at+2),Y.get(at+3)),0>=tt.width||0>=tt.height))){if(Q&&q){var ot=6*rt;et.setTo(J.get(ot),J.get(ot+1),J.get(ot+2),J.get(ot+3),J.get(ot+4),J.get(ot+5))}else Q?(ot=4*rt,et.setTo(J.get(ot),J.get(ot+1),J.get(ot+2),J.get(ot+3),tt.x,tt.y)):q?(ot=2*rt,et.tx=J.get(ot),et.ty=J.get(ot+1)):(et.tx=tt.x,et.ty=tt.y);et.tx+=n-i,et.ty+=r-s,et.concat(it),Zc.context.setTransform(et.a,et.b,et.c,et.d,et.tx,et.ty),null!=Zc.bitmapFill?Zc.context.drawImage(Zc.bitmapFill.image.get_src(),tt.x,tt.y,tt.width,tt.height,0,0,tt.width,tt.height):Zc.context.fillRect(0,0,tt.width,tt.height)}}je.__pool.release(tt),yr.__pool.release(et),Zc.context.restore();break;case 9:switch(m.prev._hx_index){case 0:case 14:m.oPos+=2,m.bPos+=2;break;case 1:m.iPos+=1,m.fPos+=1;break;case 2:case 15:m.oPos+=4,m.iiPos+=2,m.ffPos+=1,m.fPos+=1;break;case 3:case 19:case 20:m.oPos+=1;break;case 4:m.fPos+=6;break;case 5:case 7:case 9:m.fPos+=4;break;case 6:m.fPos+=3;break;case 8:m.oPos+=3;break;case 10:m.fPos+=5,m.oPos+=1;break;case 12:m.oPos+=4;break;case 16:m.oPos+=4,m.iPos+=1,m.fPos+=2,m.bPos+=1;break;case 17:case 18:m.fPos+=2}m.prev=Ru.DRAW_RECT;var lt=m,ht=!1;if(null!=Zc.bitmapFill&&!Zc.hitTesting){var _t=u=c=_=0,ct=!0;if(null!=Zc.pendingMatrix)if(0!=Zc.pendingMatrix.b||0!=Zc.pendingMatrix.c)ct=!1;else{null==p&&(p=Ye.__pool.get()),null==f&&(f=Ye.__pool.get()),p.setTo(lt.buffer.f[lt.fPos],lt.buffer.f[lt.fPos+1]);var ut=Zc.inversePendingMatrix,dt=p.x,mt=p.y;p.x=dt*ut.a+mt*ut.c+ut.tx,p.y=dt*ut.b+mt*ut.d+ut.ty,f.setTo(lt.buffer.f[lt.fPos]+lt.buffer.f[lt.fPos+2],lt.buffer.f[lt.fPos+1]+lt.buffer.f[lt.fPos+3]);var pt=Zc.inversePendingMatrix,ft=f.x,gt=f.y;f.x=ft*pt.a+gt*pt.c+pt.tx,f.y=ft*pt.b+gt*pt.d+pt.ty,_=p.y,_t=p.x,u=f.y,c=f.x}else _=lt.buffer.f[lt.fPos+1],_t=lt.buffer.f[lt.fPos],u=lt.buffer.f[lt.fPos+1]+lt.buffer.f[lt.fPos+3],c=lt.buffer.f[lt.fPos]+lt.buffer.f[lt.fPos+2];ct&&0<=_&&0<=_t&&c<=Zc.bitmapFill.width&&u<=Zc.bitmapFill.height&&(ht=!0,Zc.hitTesting||Zc.context.drawImage(Zc.bitmapFill.image.get_src(),_t,_,c-_t,u-_,lt.buffer.f[lt.fPos]-i,lt.buffer.f[lt.fPos+1]-s,lt.buffer.f[lt.fPos+2],lt.buffer.f[lt.fPos+3]))}ht||(d=!0,Zc.context.rect(lt.buffer.f[lt.fPos]-i,lt.buffer.f[lt.fPos+1]-s,lt.buffer.f[lt.fPos+2],lt.buffer.f[lt.fPos+3]));break;case 10:switch(m.prev._hx_index){case 0:case 14:m.oPos+=2,m.bPos+=2;break;case 1:m.iPos+=1,m.fPos+=1;break;case 2:case 15:m.oPos+=4,m.iiPos+=2,m.ffPos+=1,m.fPos+=1;break;case 3:case 19:case 20:m.oPos+=1;break;case 4:m.fPos+=6;break;case 5:case 7:case 9:m.fPos+=4;break;case 6:m.fPos+=3;break;case 8:m.oPos+=3;break;case 10:m.fPos+=5,m.oPos+=1;break;case 12:m.oPos+=4;break;case 16:m.oPos+=4,m.iPos+=1,m.fPos+=2,m.bPos+=1;break;case 17:case 18:m.fPos+=2}m.prev=Ru.DRAW_ROUND_RECT;var yt=m;d=!0,Zc.drawRoundRect(yt.buffer.f[yt.fPos]-i,yt.buffer.f[yt.fPos+1]-s,yt.buffer.f[yt.fPos+2],yt.buffer.f[yt.fPos+3],yt.buffer.f[yt.fPos+4],yt.buffer.o[yt.oPos]);break;case 12:switch(m.prev._hx_index){case 0:case 14:m.oPos+=2,m.bPos+=2;break;case 1:m.iPos+=1,m.fPos+=1;break;case 2:case 15:m.oPos+=4,m.iiPos+=2,m.ffPos+=1,m.fPos+=1;break;case 3:case 19:case 20:m.oPos+=1;break;case 4:m.fPos+=6;break;case 5:case 7:case 9:m.fPos+=4;break;case 6:m.fPos+=3;break;case 8:m.oPos+=3;break;case 10:m.fPos+=5,m.oPos+=1;break;case 12:m.oPos+=4;break;case 16:m.oPos+=4,m.iPos+=1,m.fPos+=2,m.bPos+=1;break;case 17:case 18:m.fPos+=2}m.prev=Ru.DRAW_TRIANGLES;var bt=m,vt=bt.buffer.o[bt.oPos],xt=bt.buffer.o[bt.oPos+1],wt=bt.buffer.o[bt.oPos+2],Rt=null,St=null==Zc.bitmapFill;if(St&&null!=wt)break t;if(!St){if(null==wt){wt=M.toFloatVector(null);for(var At=0,Tt=vt.get_length()/2|0;At<Tt;){var Mt=At++;wt.push(vt.get(2*Mt)-i/Zc.bitmapFill.width),wt.push(vt.get(2*Mt+1)-s/Zc.bitmapFill.height)}}var Pt=wt.get_length()!=vt.get_length(),Ct=Zc.normalizeUVT(wt,Pt),It=Ct.max;wt=Ct.uvt,Rt=1<It?Zc.createTempPatternCanvas(Zc.bitmapFill,Zc.bitmapRepeat,0|Zc.bounds.width,0|Zc.bounds.height):Zc.createTempPatternCanvas(Zc.bitmapFill,Zc.bitmapRepeat,Zc.bitmapFill.width,Zc.bitmapFill.height)}for(var kt,Et,Ft,Bt,Dt,Lt,Nt,Gt,Ot,Kt,Vt,Ut,zt,Wt,Xt,Ht,Yt,jt,Jt,Zt,Qt,qt,$t,te,ee,ie,se,ne,re=0,ae=xt.get_length();re<ae;){switch(kt=re,Et=re+1,Ft=re+2,Bt=2*xt.get(kt),Dt=2*xt.get(kt)+1,Lt=2*xt.get(Et),Nt=2*xt.get(Et)+1,Gt=2*xt.get(Ft),Ot=2*xt.get(Ft)+1,Kt=vt.get(Bt)-i,Vt=vt.get(Dt)-s,Ut=vt.get(Lt)-i,zt=vt.get(Nt)-s,Wt=vt.get(Gt)-i,Xt=vt.get(Ot)-s,bt.buffer.o[bt.oPos+3]){case 0:if(0>(Ut-Kt)*(Xt-Vt)-(zt-Vt)*(Wt-Kt)){re+=3;continue}break;case 2:if(!(0>(Ut-Kt)*(Xt-Vt)-(zt-Vt)*(Wt-Kt))){re+=3;continue}}St?(Zc.context.beginPath(),Zc.context.moveTo(Kt,Vt),Zc.context.lineTo(Ut,zt),Zc.context.lineTo(Wt,Xt),Zc.context.closePath(),Zc.hitTesting||Zc.context.fill(Zc.windingRule),re+=3):(Ht=wt.get(Bt)*Rt.width,jt=wt.get(Lt)*Rt.width,Zt=wt.get(Gt)*Rt.width,Yt=wt.get(Dt)*Rt.height,Jt=wt.get(Nt)*Rt.height,0==(qt=Ht*((Qt=wt.get(Ot)*Rt.height)-Jt)-jt*Qt+Zt*Jt+(jt-Zt)*Yt)?(re+=3,Zc.context.restore()):(Zc.context.save(),Zc.context.beginPath(),Zc.context.moveTo(Kt,Vt),Zc.context.lineTo(Ut,zt),Zc.context.lineTo(Wt,Xt),Zc.context.closePath(),Zc.context.clip(),$t=-(Yt*(Wt-Ut)-Jt*Wt+Qt*Ut+(Jt-Qt)*Kt)/qt,te=(Jt*Xt+Yt*(zt-Xt)-Qt*zt+(Qt-Jt)*Vt)/qt,ee=(Ht*(Wt-Ut)-jt*Wt+Zt*Ut+(jt-Zt)*Kt)/qt,ie=-(jt*Xt+Ht*(zt-Xt)-Zt*zt+(Zt-jt)*Vt)/qt,se=(Ht*(Qt*Ut-Jt*Wt)+Yt*(jt*Wt-Zt*Ut)+(Zt*Jt-jt*Qt)*Kt)/qt,ne=(Ht*(Qt*zt-Jt*Xt)+Yt*(jt*Xt-Zt*zt)+(Zt*Jt-jt*Qt)*Vt)/qt,Zc.context.transform($t,te,ee,ie,se,ne),Zc.context.drawImage(Rt,0,0,Rt.width,Rt.height),Zc.context.restore(),re+=3))}break;case 14:switch(m.prev._hx_index){case 0:case 14:m.oPos+=2,m.bPos+=2;break;case 1:m.iPos+=1,m.fPos+=1;break;case 2:case 15:m.oPos+=4,m.iiPos+=2,m.ffPos+=1,m.fPos+=1;break;case 3:case 19:case 20:m.oPos+=1;break;case 4:m.fPos+=6;break;case 5:case 7:case 9:m.fPos+=4;break;case 6:m.fPos+=3;break;case 8:m.oPos+=3;break;case 10:m.fPos+=5,m.oPos+=1;break;case 12:m.oPos+=4;break;case 16:m.oPos+=4,m.iPos+=1,m.fPos+=2,m.bPos+=1;break;case 17:case 18:m.fPos+=2}m.prev=Ru.LINE_BITMAP_STYLE;var oe=m;e&&Zc.hasStroke&&Zc.closePath(!0),Zc.context.moveTo(n-i,r-s),Zc.context.strokeStyle=Zc.createBitmapFill(oe.buffer.o[oe.oPos],oe.buffer.b[oe.bPos],oe.buffer.b[oe.bPos+1]),Zc.hasStroke=!0;break;case 15:switch(m.prev._hx_index){case 0:case 14:m.oPos+=2,m.bPos+=2;break;case 1:m.iPos+=1,m.fPos+=1;break;case 2:case 15:m.oPos+=4,m.iiPos+=2,m.ffPos+=1,m.fPos+=1;break;case 3:case 19:case 20:m.oPos+=1;break;case 4:m.fPos+=6;break;case 5:case 7:case 9:m.fPos+=4;break;case 6:m.fPos+=3;break;case 8:m.oPos+=3;break;case 10:m.fPos+=5,m.oPos+=1;break;case 12:m.oPos+=4;break;case 16:m.oPos+=4,m.iPos+=1,m.fPos+=2,m.bPos+=1;break;case 17:case 18:m.fPos+=2}m.prev=Ru.LINE_GRADIENT_STYLE;var le=m;e&&Zc.hasStroke&&Zc.closePath(!0),Zc.context.moveTo(n-i,r-s),Zc.context.strokeStyle=Zc.createGradientPattern(le.buffer.o[le.oPos],le.buffer.ii[le.iiPos],le.buffer.ff[le.ffPos],le.buffer.ii[le.iiPos+1],le.buffer.o[le.oPos+1],le.buffer.o[le.oPos+2],le.buffer.o[le.oPos+3],le.buffer.f[le.fPos]),Zc.setSmoothing(!0),Zc.hasStroke=!0;break;case 16:switch(m.prev._hx_index){case 0:case 14:m.oPos+=2,m.bPos+=2;break;case 1:m.iPos+=1,m.fPos+=1;break;case 2:case 15:m.oPos+=4,m.iiPos+=2,m.ffPos+=1,m.fPos+=1;break;case 3:case 19:case 20:m.oPos+=1;break;case 4:m.fPos+=6;break;case 5:case 7:case 9:m.fPos+=4;break;case 6:m.fPos+=3;break;case 8:m.oPos+=3;break;case 10:m.fPos+=5,m.oPos+=1;break;case 12:m.oPos+=4;break;case 16:m.oPos+=4,m.iPos+=1,m.fPos+=2,m.bPos+=1;break;case 17:case 18:m.fPos+=2}m.prev=Ru.LINE_STYLE;var he=m;if(e&&Zc.hasStroke&&Zc.closePath(!0),Zc.context.moveTo(n-i,r-s),null==he.buffer.o[he.oPos])Zc.hasStroke=!1;else{Zc.context.lineWidth=0<he.buffer.o[he.oPos]?he.buffer.o[he.oPos]:1;var _e=null==he.buffer.o[he.oPos+3]?"round":uc.toString(he.buffer.o[he.oPos+3]).toLowerCase();Zc.context.lineJoin=_e;var ce=null==he.buffer.o[he.oPos+2]?"round":0==he.buffer.o[he.oPos+2]?"butt":z_.toString(he.buffer.o[he.oPos+2]).toLowerCase();if(Zc.context.lineCap=ce,Zc.context.miterLimit=he.buffer.f[he.fPos+1],1==he.buffer.f[he.fPos]){var ue=v.hex(16777215&he.buffer.i[he.iPos],6);Zc.context.strokeStyle="#"+ue}else A=(16711680&he.buffer.i[he.iPos])>>>16,T=(65280&he.buffer.i[he.iPos])>>>8,P=255&he.buffer.i[he.iPos],Zc.context.strokeStyle="rgba("+A+", "+T+", "+P+", "+he.buffer.f[he.fPos]+")";Zc.setSmoothing(!0),Zc.hasStroke=!0}break;case 17:switch(m.prev._hx_index){case 0:case 14:m.oPos+=2,m.bPos+=2;break;case 1:m.iPos+=1,m.fPos+=1;break;case 2:case 15:m.oPos+=4,m.iiPos+=2,m.ffPos+=1,m.fPos+=1;break;case 3:case 19:case 20:m.oPos+=1;break;case 4:m.fPos+=6;break;case 5:case 7:case 9:m.fPos+=4;break;case 6:m.fPos+=3;break;case 8:m.oPos+=3;break;case 10:m.fPos+=5,m.oPos+=1;break;case 12:m.oPos+=4;break;case 16:m.oPos+=4,m.iPos+=1,m.fPos+=2,m.bPos+=1;break;case 17:case 18:m.fPos+=2}m.prev=Ru.LINE_TO;var de=m;d=!0,Zc.context.lineTo(de.buffer.f[de.fPos]-i,de.buffer.f[de.fPos+1]-s),n=de.buffer.f[de.fPos],r=de.buffer.f[de.fPos+1],n==o&&r==l&&(a=!0);break;case 18:switch(m.prev._hx_index){case 0:case 14:m.oPos+=2,m.bPos+=2;break;case 1:m.iPos+=1,m.fPos+=1;break;case 2:case 15:m.oPos+=4,m.iiPos+=2,m.ffPos+=1,m.fPos+=1;break;case 3:case 19:case 20:m.oPos+=1;break;case 4:m.fPos+=6;break;case 5:case 7:case 9:m.fPos+=4;break;case 6:m.fPos+=3;break;case 8:m.oPos+=3;break;case 10:m.fPos+=5,m.oPos+=1;break;case 12:m.oPos+=4;break;case 16:m.oPos+=4,m.iPos+=1,m.fPos+=2,m.bPos+=1;break;case 17:case 18:m.fPos+=2}m.prev=Ru.MOVE_TO;var me=m;Zc.context.moveTo(me.buffer.f[me.fPos]-i,me.buffer.f[me.fPos+1]-s),n=me.buffer.f[me.fPos],r=me.buffer.f[me.fPos+1],h&&me.buffer.f[me.fPos]!=o&&me.buffer.f[me.fPos+1]!=l&&(a=!0),o=me.buffer.f[me.fPos],l=me.buffer.f[me.fPos+1],h=!0;break;case 21:Zc.windingRule="evenodd";break;case 22:Zc.windingRule="nonzero";break;default:switch(m.prev._hx_index){case 0:case 14:m.oPos+=2,m.bPos+=2;break;case 1:m.iPos+=1,m.fPos+=1;break;case 2:case 15:m.oPos+=4,m.iiPos+=2,m.ffPos+=1,m.fPos+=1;break;case 3:case 19:case 20:m.oPos+=1;break;case 4:m.fPos+=6;break;case 5:case 7:case 9:m.fPos+=4;break;case 6:m.fPos+=3;break;case 8:m.oPos+=3;break;case 10:m.fPos+=5,m.oPos+=1;break;case 12:m.oPos+=4;break;case 16:m.oPos+=4,m.iPos+=1,m.fPos+=2,m.bPos+=1;break;case 17:case 18:m.fPos+=2}m.prev=x}}null!=p&&Ye.__pool.release(p),null!=f&&Ye.__pool.release(f),m.destroy(),d&&(e&&Zc.hasStroke&&(Zc.hasFill?(n==o&&r==l||(Zc.context.lineTo(o-i,l-s),a=!0),a&&Zc.closePath(!0)):a&&n==o&&r==l&&Zc.closePath(!0),Zc.hitTesting||Zc.context.stroke()),e||!Zc.hasFill&&null==Zc.bitmapFill||(Zc.context.translate(-Zc.bounds.x,-Zc.bounds.y),null!=Zc.pendingMatrix?(Zc.context.transform(Zc.pendingMatrix.a,Zc.pendingMatrix.b,Zc.pendingMatrix.c,Zc.pendingMatrix.d,Zc.pendingMatrix.tx,Zc.pendingMatrix.ty),Zc.hitTesting||Zc.context.fill(Zc.windingRule),Zc.context.transform(Zc.inversePendingMatrix.a,Zc.inversePendingMatrix.b,Zc.inversePendingMatrix.c,Zc.inversePendingMatrix.d,Zc.inversePendingMatrix.tx,Zc.inversePendingMatrix.ty)):Zc.hitTesting||Zc.context.fill(Zc.windingRule),Zc.context.translate(Zc.bounds.x,Zc.bounds.y),Zc.context.closePath()))},Zc.render=function(t,e){if(t.__update(e.__worldTransform,e.__pixelRatio),t.__commands.__endBuffer(),t.__softwareDirty&&t.__commands.get_dirty()){Zc.hitTesting=!1,Zc.graphics=t,Zc.allowSmoothing=e.__allowSmoothing,Zc.worldAlpha=e.__getAlpha(t.__owner.__worldAlpha),Zc.bounds=t.__bounds;var i=t.__width,s=t.__height;if(!t.__visible||0==t.__commands.get_length()||null==Zc.bounds||1>i||1>s)t.__canvas=null,t.__context=null,t.__bitmap=null;else{null==t.__canvas&&(t.__canvas=window.document.createElement("canvas"),t.__context=t.__canvas.getContext("2d")),Zc.context=t.__context;var n=t.__renderTransform,r=t.__canvas,a=e.__pixelRatio,o=i*a|0,l=s*a|0;for(e.__setBlendModeContext(Zc.context,10),e.__isDOM?(r.width==o&&r.height==l?Zc.context.clearRect(0,0,o,l):(r.width=o,r.height=l,r.style.width=i+"px",r.style.height=s+"px"),i=t.__renderTransform,Zc.context.setTransform(i.a*a,i.b*a,i.c*a,i.d*a,i.tx*a,i.ty*a)):(r.width==o&&r.height==l?(Zc.context.closePath(),Zc.context.setTransform(1,0,0,1,0,0),Zc.context.clearRect(0,0,o,l)):(r.width=i,r.height=s),Zc.context.setTransform(n.a,n.b,n.c,n.d,n.tx,n.ty)),Zc.fillCommands.clear(),Zc.strokeCommands.clear(),Zc.hasFill=!1,Zc.hasStroke=!1,Zc.bitmapFill=null,a=Zc.bitmapRepeat=!1,s=i=0,Zc.windingRule="evenodd",n=new Su(t.__commands),r=t.__commands.types,o=0,l=t.__commands.get_length();o<l;){var h=o++;switch((h=r[h])._hx_index){case 0:case 1:case 2:case 3:if(Zc.endFill(),Zc.endStroke(),h==Ru.BEGIN_BITMAP_FILL){switch(n.prev._hx_index){case 0:case 14:n.oPos+=2,n.bPos+=2;break;case 1:n.iPos+=1,n.fPos+=1;break;case 2:case 15:n.oPos+=4,n.iiPos+=2,n.ffPos+=1,n.fPos+=1;break;case 3:case 19:case 20:n.oPos+=1;break;case 4:n.fPos+=6;break;case 5:case 7:case 9:n.fPos+=4;break;case 6:n.fPos+=3;break;case 8:n.oPos+=3;break;case 10:n.fPos+=5,n.oPos+=1;break;case 12:n.oPos+=4;break;case 16:n.oPos+=4,n.iPos+=1,n.fPos+=2,n.bPos+=1;break;case 17:case 18:n.fPos+=2}n.prev=Ru.BEGIN_BITMAP_FILL,h=n,Zc.fillCommands.beginBitmapFill(h.buffer.o[h.oPos],h.buffer.o[h.oPos+1],h.buffer.b[h.bPos],h.buffer.b[h.bPos+1]),Zc.strokeCommands.beginBitmapFill(h.buffer.o[h.oPos],h.buffer.o[h.oPos+1],h.buffer.b[h.bPos],h.buffer.b[h.bPos+1])}else if(h==Ru.BEGIN_GRADIENT_FILL){switch(n.prev._hx_index){case 0:case 14:n.oPos+=2,n.bPos+=2;break;case 1:n.iPos+=1,n.fPos+=1;break;case 2:case 15:n.oPos+=4,n.iiPos+=2,n.ffPos+=1,n.fPos+=1;break;case 3:case 19:case 20:n.oPos+=1;break;case 4:n.fPos+=6;break;case 5:case 7:case 9:n.fPos+=4;break;case 6:n.fPos+=3;break;case 8:n.oPos+=3;break;case 10:n.fPos+=5,n.oPos+=1;break;case 12:n.oPos+=4;break;case 16:n.oPos+=4,n.iPos+=1,n.fPos+=2,n.bPos+=1;break;case 17:case 18:n.fPos+=2}n.prev=Ru.BEGIN_GRADIENT_FILL,h=n,Zc.fillCommands.beginGradientFill(h.buffer.o[h.oPos],h.buffer.ii[h.iiPos],h.buffer.ff[h.ffPos],h.buffer.ii[h.iiPos+1],h.buffer.o[h.oPos+1],h.buffer.o[h.oPos+2],h.buffer.o[h.oPos+3],h.buffer.f[h.fPos]),Zc.strokeCommands.beginGradientFill(h.buffer.o[h.oPos],h.buffer.ii[h.iiPos],h.buffer.ff[h.ffPos],h.buffer.ii[h.iiPos+1],h.buffer.o[h.oPos+1],h.buffer.o[h.oPos+2],h.buffer.o[h.oPos+3],h.buffer.f[h.fPos])}else if(h==Ru.BEGIN_SHADER_FILL){switch(n.prev._hx_index){case 0:case 14:n.oPos+=2,n.bPos+=2;break;case 1:n.iPos+=1,n.fPos+=1;break;case 2:case 15:n.oPos+=4,n.iiPos+=2,n.ffPos+=1,n.fPos+=1;break;case 3:case 19:case 20:n.oPos+=1;break;case 4:n.fPos+=6;break;case 5:case 7:case 9:n.fPos+=4;break;case 6:n.fPos+=3;break;case 8:n.oPos+=3;break;case 10:n.fPos+=5,n.oPos+=1;break;case 12:n.oPos+=4;break;case 16:n.oPos+=4,n.iPos+=1,n.fPos+=2,n.bPos+=1;break;case 17:case 18:n.fPos+=2}n.prev=Ru.BEGIN_SHADER_FILL,h=n,Zc.fillCommands.beginShaderFill(h.buffer.o[h.oPos]),Zc.strokeCommands.beginShaderFill(h.buffer.o[h.oPos])}else{switch(n.prev._hx_index){case 0:case 14:n.oPos+=2,n.bPos+=2;break;case 1:n.iPos+=1,n.fPos+=1;break;case 2:case 15:n.oPos+=4,n.iiPos+=2,n.ffPos+=1,n.fPos+=1;break;case 3:case 19:case 20:n.oPos+=1;break;case 4:n.fPos+=6;break;case 5:case 7:case 9:n.fPos+=4;break;case 6:n.fPos+=3;break;case 8:n.oPos+=3;break;case 10:n.fPos+=5,n.oPos+=1;break;case 12:n.oPos+=4;break;case 16:n.oPos+=4,n.iPos+=1,n.fPos+=2,n.bPos+=1;break;case 17:case 18:n.fPos+=2}n.prev=Ru.BEGIN_FILL,h=n,Zc.fillCommands.beginFill(h.buffer.i[h.iPos],h.buffer.f[h.fPos]),Zc.strokeCommands.beginFill(h.buffer.i[h.iPos],h.buffer.f[h.fPos])}break;case 4:switch(n.prev._hx_index){case 0:case 14:n.oPos+=2,n.bPos+=2;break;case 1:n.iPos+=1,n.fPos+=1;break;case 2:case 15:n.oPos+=4,n.iiPos+=2,n.ffPos+=1,n.fPos+=1;break;case 3:case 19:case 20:n.oPos+=1;break;case 4:n.fPos+=6;break;case 5:case 7:case 9:n.fPos+=4;break;case 6:n.fPos+=3;break;case 8:n.oPos+=3;break;case 10:n.fPos+=5,n.oPos+=1;break;case 12:n.oPos+=4;break;case 16:n.oPos+=4,n.iPos+=1,n.fPos+=2,n.bPos+=1;break;case 17:case 18:n.fPos+=2}n.prev=Ru.CUBIC_CURVE_TO,h=n,Zc.fillCommands.cubicCurveTo(h.buffer.f[h.fPos],h.buffer.f[h.fPos+1],h.buffer.f[h.fPos+2],h.buffer.f[h.fPos+3],h.buffer.f[h.fPos+4],h.buffer.f[h.fPos+5]),a?Zc.strokeCommands.cubicCurveTo(h.buffer.f[h.fPos],h.buffer.f[h.fPos+1],h.buffer.f[h.fPos+2],h.buffer.f[h.fPos+3],h.buffer.f[h.fPos+4],h.buffer.f[h.fPos+5]):(i=h.buffer.f[h.fPos+4],s=h.buffer.f[h.fPos+5]);break;case 5:switch(n.prev._hx_index){case 0:case 14:n.oPos+=2,n.bPos+=2;break;case 1:n.iPos+=1,n.fPos+=1;break;case 2:case 15:n.oPos+=4,n.iiPos+=2,n.ffPos+=1,n.fPos+=1;break;case 3:case 19:case 20:n.oPos+=1;break;case 4:n.fPos+=6;break;case 5:case 7:case 9:n.fPos+=4;break;case 6:n.fPos+=3;break;case 8:n.oPos+=3;break;case 10:n.fPos+=5,n.oPos+=1;break;case 12:n.oPos+=4;break;case 16:n.oPos+=4,n.iPos+=1,n.fPos+=2,n.bPos+=1;break;case 17:case 18:n.fPos+=2}n.prev=Ru.CURVE_TO,h=n,Zc.fillCommands.curveTo(h.buffer.f[h.fPos],h.buffer.f[h.fPos+1],h.buffer.f[h.fPos+2],h.buffer.f[h.fPos+3]),a?Zc.strokeCommands.curveTo(h.buffer.f[h.fPos],h.buffer.f[h.fPos+1],h.buffer.f[h.fPos+2],h.buffer.f[h.fPos+3]):(i=h.buffer.f[h.fPos+2],s=h.buffer.f[h.fPos+3]);break;case 6:switch(n.prev._hx_index){case 0:case 14:n.oPos+=2,n.bPos+=2;break;case 1:n.iPos+=1,n.fPos+=1;break;case 2:case 15:n.oPos+=4,n.iiPos+=2,n.ffPos+=1,n.fPos+=1;break;case 3:case 19:case 20:n.oPos+=1;break;case 4:n.fPos+=6;break;case 5:case 7:case 9:n.fPos+=4;break;case 6:n.fPos+=3;break;case 8:n.oPos+=3;break;case 10:n.fPos+=5,n.oPos+=1;break;case 12:n.oPos+=4;break;case 16:n.oPos+=4,n.iPos+=1,n.fPos+=2,n.bPos+=1;break;case 17:case 18:n.fPos+=2}n.prev=Ru.DRAW_CIRCLE,h=n,Zc.fillCommands.drawCircle(h.buffer.f[h.fPos],h.buffer.f[h.fPos+1],h.buffer.f[h.fPos+2]),a&&Zc.strokeCommands.drawCircle(h.buffer.f[h.fPos],h.buffer.f[h.fPos+1],h.buffer.f[h.fPos+2]);break;case 7:switch(n.prev._hx_index){case 0:case 14:n.oPos+=2,n.bPos+=2;break;case 1:n.iPos+=1,n.fPos+=1;break;case 2:case 15:n.oPos+=4,n.iiPos+=2,n.ffPos+=1,n.fPos+=1;break;case 3:case 19:case 20:n.oPos+=1;break;case 4:n.fPos+=6;break;case 5:case 7:case 9:n.fPos+=4;break;case 6:n.fPos+=3;break;case 8:n.oPos+=3;break;case 10:n.fPos+=5,n.oPos+=1;break;case 12:n.oPos+=4;break;case 16:n.oPos+=4,n.iPos+=1,n.fPos+=2,n.bPos+=1;break;case 17:case 18:n.fPos+=2}n.prev=Ru.DRAW_ELLIPSE,h=n,Zc.fillCommands.drawEllipse(h.buffer.f[h.fPos],h.buffer.f[h.fPos+1],h.buffer.f[h.fPos+2],h.buffer.f[h.fPos+3]),a&&Zc.strokeCommands.drawEllipse(h.buffer.f[h.fPos],h.buffer.f[h.fPos+1],h.buffer.f[h.fPos+2],h.buffer.f[h.fPos+3]);break;case 8:switch(n.prev._hx_index){case 0:case 14:n.oPos+=2,n.bPos+=2;break;case 1:n.iPos+=1,n.fPos+=1;break;case 2:case 15:n.oPos+=4,n.iiPos+=2,n.ffPos+=1,n.fPos+=1;break;case 3:case 19:case 20:n.oPos+=1;break;case 4:n.fPos+=6;break;case 5:case 7:case 9:n.fPos+=4;break;case 6:n.fPos+=3;break;case 8:n.oPos+=3;break;case 10:n.fPos+=5,n.oPos+=1;break;case 12:n.oPos+=4;break;case 16:n.oPos+=4,n.iPos+=1,n.fPos+=2,n.bPos+=1;break;case 17:case 18:n.fPos+=2}n.prev=Ru.DRAW_QUADS,h=n,Zc.fillCommands.drawQuads(h.buffer.o[h.oPos],h.buffer.o[h.oPos+1],h.buffer.o[h.oPos+2]);break;case 9:switch(n.prev._hx_index){case 0:case 14:n.oPos+=2,n.bPos+=2;break;case 1:n.iPos+=1,n.fPos+=1;break;case 2:case 15:n.oPos+=4,n.iiPos+=2,n.ffPos+=1,n.fPos+=1;break;case 3:case 19:case 20:n.oPos+=1;break;case 4:n.fPos+=6;break;case 5:case 7:case 9:n.fPos+=4;break;case 6:n.fPos+=3;break;case 8:n.oPos+=3;break;case 10:n.fPos+=5,n.oPos+=1;break;case 12:n.oPos+=4;break;case 16:n.oPos+=4,n.iPos+=1,n.fPos+=2,n.bPos+=1;break;case 17:case 18:n.fPos+=2}n.prev=Ru.DRAW_RECT,h=n,Zc.fillCommands.drawRect(h.buffer.f[h.fPos],h.buffer.f[h.fPos+1],h.buffer.f[h.fPos+2],h.buffer.f[h.fPos+3]),a&&Zc.strokeCommands.drawRect(h.buffer.f[h.fPos],h.buffer.f[h.fPos+1],h.buffer.f[h.fPos+2],h.buffer.f[h.fPos+3]);break;case 10:switch(n.prev._hx_index){case 0:case 14:n.oPos+=2,n.bPos+=2;break;case 1:n.iPos+=1,n.fPos+=1;break;case 2:case 15:n.oPos+=4,n.iiPos+=2,n.ffPos+=1,n.fPos+=1;break;case 3:case 19:case 20:n.oPos+=1;break;case 4:n.fPos+=6;break;case 5:case 7:case 9:n.fPos+=4;break;case 6:n.fPos+=3;break;case 8:n.oPos+=3;break;case 10:n.fPos+=5,n.oPos+=1;break;case 12:n.oPos+=4;break;case 16:n.oPos+=4,n.iPos+=1,n.fPos+=2,n.bPos+=1;break;case 17:case 18:n.fPos+=2}n.prev=Ru.DRAW_ROUND_RECT,h=n,Zc.fillCommands.drawRoundRect(h.buffer.f[h.fPos],h.buffer.f[h.fPos+1],h.buffer.f[h.fPos+2],h.buffer.f[h.fPos+3],h.buffer.f[h.fPos+4],h.buffer.o[h.oPos]),a&&Zc.strokeCommands.drawRoundRect(h.buffer.f[h.fPos],h.buffer.f[h.fPos+1],h.buffer.f[h.fPos+2],h.buffer.f[h.fPos+3],h.buffer.f[h.fPos+4],h.buffer.o[h.oPos]);break;case 12:switch(n.prev._hx_index){case 0:case 14:n.oPos+=2,n.bPos+=2;break;case 1:n.iPos+=1,n.fPos+=1;break;case 2:case 15:n.oPos+=4,n.iiPos+=2,n.ffPos+=1,n.fPos+=1;break;case 3:case 19:case 20:n.oPos+=1;break;case 4:n.fPos+=6;break;case 5:case 7:case 9:n.fPos+=4;break;case 6:n.fPos+=3;break;case 8:n.oPos+=3;break;case 10:n.fPos+=5,n.oPos+=1;break;case 12:n.oPos+=4;break;case 16:n.oPos+=4,n.iPos+=1,n.fPos+=2,n.bPos+=1;break;case 17:case 18:n.fPos+=2}n.prev=Ru.DRAW_TRIANGLES,h=n,Zc.fillCommands.drawTriangles(h.buffer.o[h.oPos],h.buffer.o[h.oPos+1],h.buffer.o[h.oPos+2],h.buffer.o[h.oPos+3]);break;case 13:switch(n.prev._hx_index){case 0:case 14:n.oPos+=2,n.bPos+=2;break;case 1:n.iPos+=1,n.fPos+=1;break;case 2:case 15:n.oPos+=4,n.iiPos+=2,n.ffPos+=1,n.fPos+=1;break;case 3:case 19:case 20:n.oPos+=1;break;case 4:n.fPos+=6;break;case 5:case 7:case 9:n.fPos+=4;break;case 6:n.fPos+=3;break;case 8:n.oPos+=3;break;case 10:n.fPos+=5,n.oPos+=1;break;case 12:n.oPos+=4;break;case 16:n.oPos+=4,n.iPos+=1,n.fPos+=2,n.bPos+=1;break;case 17:case 18:n.fPos+=2}n.prev=Ru.END_FILL,Zc.endFill(),Zc.endStroke(),a=Zc.hasFill=!1,Zc.bitmapFill=null,s=i=0;break;case 14:switch(n.prev._hx_index){case 0:case 14:n.oPos+=2,n.bPos+=2;break;case 1:n.iPos+=1,n.fPos+=1;break;case 2:case 15:n.oPos+=4,n.iiPos+=2,n.ffPos+=1,n.fPos+=1;break;case 3:case 19:case 20:n.oPos+=1;break;case 4:n.fPos+=6;break;case 5:case 7:case 9:n.fPos+=4;break;case 6:n.fPos+=3;break;case 8:n.oPos+=3;break;case 10:n.fPos+=5,n.oPos+=1;break;case 12:n.oPos+=4;break;case 16:n.oPos+=4,n.iPos+=1,n.fPos+=2,n.bPos+=1;break;case 17:case 18:n.fPos+=2}n.prev=Ru.LINE_BITMAP_STYLE,h=n,a||0==i&&0==s||(Zc.strokeCommands.moveTo(i,s),s=i=0),a=!0,Zc.strokeCommands.lineBitmapStyle(h.buffer.o[h.oPos],h.buffer.o[h.oPos+1],h.buffer.b[h.bPos],h.buffer.b[h.bPos+1]);break;case 15:switch(n.prev._hx_index){case 0:case 14:n.oPos+=2,n.bPos+=2;break;case 1:n.iPos+=1,n.fPos+=1;break;case 2:case 15:n.oPos+=4,n.iiPos+=2,n.ffPos+=1,n.fPos+=1;break;case 3:case 19:case 20:n.oPos+=1;break;case 4:n.fPos+=6;break;case 5:case 7:case 9:n.fPos+=4;break;case 6:n.fPos+=3;break;case 8:n.oPos+=3;break;case 10:n.fPos+=5,n.oPos+=1;break;case 12:n.oPos+=4;break;case 16:n.oPos+=4,n.iPos+=1,n.fPos+=2,n.bPos+=1;break;case 17:case 18:n.fPos+=2}n.prev=Ru.LINE_GRADIENT_STYLE,h=n,a||0==i&&0==s||(Zc.strokeCommands.moveTo(i,s),s=i=0),a=!0,Zc.strokeCommands.lineGradientStyle(h.buffer.o[h.oPos],h.buffer.ii[h.iiPos],h.buffer.ff[h.ffPos],h.buffer.ii[h.iiPos+1],h.buffer.o[h.oPos+1],h.buffer.o[h.oPos+2],h.buffer.o[h.oPos+3],h.buffer.f[h.fPos]);break;case 16:switch(n.prev._hx_index){case 0:case 14:n.oPos+=2,n.bPos+=2;break;case 1:n.iPos+=1,n.fPos+=1;break;case 2:case 15:n.oPos+=4,n.iiPos+=2,n.ffPos+=1,n.fPos+=1;break;case 3:case 19:case 20:n.oPos+=1;break;case 4:n.fPos+=6;break;case 5:case 7:case 9:n.fPos+=4;break;case 6:n.fPos+=3;break;case 8:n.oPos+=3;break;case 10:n.fPos+=5,n.oPos+=1;break;case 12:n.oPos+=4;break;case 16:n.oPos+=4,n.iPos+=1,n.fPos+=2,n.bPos+=1;break;case 17:case 18:n.fPos+=2}n.prev=Ru.LINE_STYLE,h=n,a||null==h.buffer.o[h.oPos]||0==i&&0==s||(Zc.strokeCommands.moveTo(i,s),s=i=0),a=null!=h.buffer.o[h.oPos],Zc.strokeCommands.lineStyle(h.buffer.o[h.oPos],h.buffer.i[h.iPos],h.buffer.f[h.fPos],h.buffer.b[h.bPos],h.buffer.o[h.oPos+1],h.buffer.o[h.oPos+2],h.buffer.o[h.oPos+3],h.buffer.f[h.fPos+1]);break;case 17:switch(n.prev._hx_index){case 0:case 14:n.oPos+=2,n.bPos+=2;break;case 1:n.iPos+=1,n.fPos+=1;break;case 2:case 15:n.oPos+=4,n.iiPos+=2,n.ffPos+=1,n.fPos+=1;break;case 3:case 19:case 20:n.oPos+=1;break;case 4:n.fPos+=6;break;case 5:case 7:case 9:n.fPos+=4;break;case 6:n.fPos+=3;break;case 8:n.oPos+=3;break;case 10:n.fPos+=5,n.oPos+=1;break;case 12:n.oPos+=4;break;case 16:n.oPos+=4,n.iPos+=1,n.fPos+=2,n.bPos+=1;break;case 17:case 18:n.fPos+=2}n.prev=Ru.LINE_TO,h=n,Zc.fillCommands.lineTo(h.buffer.f[h.fPos],h.buffer.f[h.fPos+1]),a?Zc.strokeCommands.lineTo(h.buffer.f[h.fPos],h.buffer.f[h.fPos+1]):(i=h.buffer.f[h.fPos],s=h.buffer.f[h.fPos+1]);break;case 18:switch(n.prev._hx_index){case 0:case 14:n.oPos+=2,n.bPos+=2;break;case 1:n.iPos+=1,n.fPos+=1;break;case 2:case 15:n.oPos+=4,n.iiPos+=2,n.ffPos+=1,n.fPos+=1;break;case 3:case 19:case 20:n.oPos+=1;break;case 4:n.fPos+=6;break;case 5:case 7:case 9:n.fPos+=4;break;case 6:n.fPos+=3;break;case 8:n.oPos+=3;break;case 10:n.fPos+=5,n.oPos+=1;break;case 12:n.oPos+=4;break;case 16:n.oPos+=4,n.iPos+=1,n.fPos+=2,n.bPos+=1;break;case 17:case 18:n.fPos+=2}n.prev=Ru.MOVE_TO,h=n,Zc.fillCommands.moveTo(h.buffer.f[h.fPos],h.buffer.f[h.fPos+1]),a?Zc.strokeCommands.moveTo(h.buffer.f[h.fPos],h.buffer.f[h.fPos+1]):(i=h.buffer.f[h.fPos],s=h.buffer.f[h.fPos+1]);break;case 19:switch(n.prev._hx_index){case 0:case 14:n.oPos+=2,n.bPos+=2;break;case 1:n.iPos+=1,n.fPos+=1;break;case 2:case 15:n.oPos+=4,n.iiPos+=2,n.ffPos+=1,n.fPos+=1;break;case 3:case 19:case 20:n.oPos+=1;break;case 4:n.fPos+=6;break;case 5:case 7:case 9:n.fPos+=4;break;case 6:n.fPos+=3;break;case 8:n.oPos+=3;break;case 10:n.fPos+=5,n.oPos+=1;break;case 12:n.oPos+=4;break;case 16:n.oPos+=4,n.iPos+=1,n.fPos+=2,n.bPos+=1;break;case 17:case 18:n.fPos+=2}n.prev=Ru.OVERRIDE_BLEND_MODE,h=n,e.__setBlendModeContext(Zc.context,h.buffer.o[h.oPos]);break;case 21:switch(n.prev._hx_index){case 0:case 14:n.oPos+=2,n.bPos+=2;break;case 1:n.iPos+=1,n.fPos+=1;break;case 2:case 15:n.oPos+=4,n.iiPos+=2,n.ffPos+=1,n.fPos+=1;break;case 3:case 19:case 20:n.oPos+=1;break;case 4:n.fPos+=6;break;case 5:case 7:case 9:n.fPos+=4;break;case 6:n.fPos+=3;break;case 8:n.oPos+=3;break;case 10:n.fPos+=5,n.oPos+=1;break;case 12:n.oPos+=4;break;case 16:n.oPos+=4,n.iPos+=1,n.fPos+=2,n.bPos+=1;break;case 17:case 18:n.fPos+=2}n.prev=Ru.WINDING_EVEN_ODD,Zc.fillCommands.windingEvenOdd(),Zc.windingRule="evenodd";break;case 22:switch(n.prev._hx_index){case 0:case 14:n.oPos+=2,n.bPos+=2;break;case 1:n.iPos+=1,n.fPos+=1;break;case 2:case 15:n.oPos+=4,n.iiPos+=2,n.ffPos+=1,n.fPos+=1;break;case 3:case 19:case 20:n.oPos+=1;break;case 4:n.fPos+=6;break;case 5:case 7:case 9:n.fPos+=4;break;case 6:n.fPos+=3;break;case 8:n.oPos+=3;break;case 10:n.fPos+=5,n.oPos+=1;break;case 12:n.oPos+=4;break;case 16:n.oPos+=4,n.iPos+=1,n.fPos+=2,n.bPos+=1;break;case 17:case 18:n.fPos+=2}n.prev=Ru.WINDING_NON_ZERO,Zc.fillCommands.windingNonZero(),Zc.windingRule="nonzero";break;default:switch(n.prev._hx_index){case 0:case 14:n.oPos+=2,n.bPos+=2;break;case 1:n.iPos+=1,n.fPos+=1;break;case 2:case 15:n.oPos+=4,n.iiPos+=2,n.ffPos+=1,n.fPos+=1;break;case 3:case 19:case 20:n.oPos+=1;break;case 4:n.fPos+=6;break;case 5:case 7:case 9:n.fPos+=4;break;case 6:n.fPos+=3;break;case 8:n.oPos+=3;break;case 10:n.fPos+=5,n.oPos+=1;break;case 12:n.oPos+=4;break;case 16:n.oPos+=4,n.iPos+=1,n.fPos+=2,n.bPos+=1;break;case 17:case 18:n.fPos+=2}n.prev=h}}0<Zc.fillCommands.get_length()&&Zc.endFill(),0<Zc.strokeCommands.get_length()&&Zc.endStroke(),n.destroy(),t.__bitmap=O_.fromCanvas(t.__canvas)}t.__softwareDirty=!1,t.set___dirty(!1)}},Zc.renderMask=function(t,e){if(0!=t.__commands.get_length()){Zc.context=e.context,e=new Su(t.__commands);var i=t.__commands.types,s=0;for(t=t.__commands.get_length();s<t;){var n=s++;switch((n=i[n])._hx_index){case 4:switch(e.prev._hx_index){case 0:case 14:e.oPos+=2,e.bPos+=2;break;case 1:e.iPos+=1,e.fPos+=1;break;case 2:case 15:e.oPos+=4,e.iiPos+=2,e.ffPos+=1,e.fPos+=1;break;case 3:case 19:case 20:e.oPos+=1;break;case 4:e.fPos+=6;break;case 5:case 7:case 9:e.fPos+=4;break;case 6:e.fPos+=3;break;case 8:e.oPos+=3;break;case 10:e.fPos+=5,e.oPos+=1;break;case 12:e.oPos+=4;break;case 16:e.oPos+=4,e.iPos+=1,e.fPos+=2,e.bPos+=1;break;case 17:case 18:e.fPos+=2}e.prev=Ru.CUBIC_CURVE_TO,n=e,Zc.context.bezierCurveTo(n.buffer.f[n.fPos]-0,n.buffer.f[n.fPos+1]-0,n.buffer.f[n.fPos+2]-0,n.buffer.f[n.fPos+3]-0,n.buffer.f[n.fPos+4]-0,n.buffer.f[n.fPos+5]-0);break;case 5:switch(e.prev._hx_index){case 0:case 14:e.oPos+=2,e.bPos+=2;break;case 1:e.iPos+=1,e.fPos+=1;break;case 2:case 15:e.oPos+=4,e.iiPos+=2,e.ffPos+=1,e.fPos+=1;break;case 3:case 19:case 20:e.oPos+=1;break;case 4:e.fPos+=6;break;case 5:case 7:case 9:e.fPos+=4;break;case 6:e.fPos+=3;break;case 8:e.oPos+=3;break;case 10:e.fPos+=5,e.oPos+=1;break;case 12:e.oPos+=4;break;case 16:e.oPos+=4,e.iPos+=1,e.fPos+=2,e.bPos+=1;break;case 17:case 18:e.fPos+=2}e.prev=Ru.CURVE_TO,n=e,Zc.context.quadraticCurveTo(n.buffer.f[n.fPos]-0,n.buffer.f[n.fPos+1]-0,n.buffer.f[n.fPos+2]-0,n.buffer.f[n.fPos+3]-0);break;case 6:switch(e.prev._hx_index){case 0:case 14:e.oPos+=2,e.bPos+=2;break;case 1:e.iPos+=1,e.fPos+=1;break;case 2:case 15:e.oPos+=4,e.iiPos+=2,e.ffPos+=1,e.fPos+=1;break;case 3:case 19:case 20:e.oPos+=1;break;case 4:e.fPos+=6;break;case 5:case 7:case 9:e.fPos+=4;break;case 6:e.fPos+=3;break;case 8:e.oPos+=3;break;case 10:e.fPos+=5,e.oPos+=1;break;case 12:e.oPos+=4;break;case 16:e.oPos+=4,e.iPos+=1,e.fPos+=2,e.bPos+=1;break;case 17:case 18:e.fPos+=2}e.prev=Ru.DRAW_CIRCLE,n=e,Zc.context.arc(n.buffer.f[n.fPos]-0,n.buffer.f[n.fPos+1]-0,n.buffer.f[n.fPos+2],0,2*Math.PI,!0);break;case 7:switch(e.prev._hx_index){case 0:case 14:e.oPos+=2,e.bPos+=2;break;case 1:e.iPos+=1,e.fPos+=1;break;case 2:case 15:e.oPos+=4,e.iiPos+=2,e.ffPos+=1,e.fPos+=1;break;case 3:case 19:case 20:e.oPos+=1;break;case 4:e.fPos+=6;break;case 5:case 7:case 9:e.fPos+=4;break;case 6:e.fPos+=3;break;case 8:e.oPos+=3;break;case 10:e.fPos+=5,e.oPos+=1;break;case 12:e.oPos+=4;break;case 16:e.oPos+=4,e.iPos+=1,e.fPos+=2,e.bPos+=1;break;case 17:case 18:e.fPos+=2}e.prev=Ru.DRAW_ELLIPSE;var r=e;n=r.buffer.f[r.fPos];var a=r.buffer.f[r.fPos+1],o=r.buffer.f[r.fPos+2],l=r.buffer.f[r.fPos+3];r=o/2*.5522848;var h=l/2*.5522848,_=(n-=0)+o,c=(a-=0)+l;o=n+o/2,l=a+l/2,Zc.context.moveTo(n,l),Zc.context.bezierCurveTo(n,l-h,o-r,a,o,a),Zc.context.bezierCurveTo(o+r,a,_,l-h,_,l),Zc.context.bezierCurveTo(_,l+h,o+r,c,o,c),Zc.context.bezierCurveTo(o-r,c,n,l+h,n,l);break;case 9:switch(e.prev._hx_index){case 0:case 14:e.oPos+=2,e.bPos+=2;break;case 1:e.iPos+=1,e.fPos+=1;break;case 2:case 15:e.oPos+=4,e.iiPos+=2,e.ffPos+=1,e.fPos+=1;break;case 3:case 19:case 20:e.oPos+=1;break;case 4:e.fPos+=6;break;case 5:case 7:case 9:e.fPos+=4;break;case 6:e.fPos+=3;break;case 8:e.oPos+=3;break;case 10:e.fPos+=5,e.oPos+=1;break;case 12:e.oPos+=4;break;case 16:e.oPos+=4,e.iPos+=1,e.fPos+=2,e.bPos+=1;break;case 17:case 18:e.fPos+=2}e.prev=Ru.DRAW_RECT,n=e,Zc.context.beginPath(),Zc.context.rect(n.buffer.f[n.fPos]-0,n.buffer.f[n.fPos+1]-0,n.buffer.f[n.fPos+2],n.buffer.f[n.fPos+3]),Zc.context.closePath();break;case 10:switch(e.prev._hx_index){case 0:case 14:e.oPos+=2,e.bPos+=2;break;case 1:e.iPos+=1,e.fPos+=1;break;case 2:case 15:e.oPos+=4,e.iiPos+=2,e.ffPos+=1,e.fPos+=1;break;case 3:case 19:case 20:e.oPos+=1;break;case 4:e.fPos+=6;break;case 5:case 7:case 9:e.fPos+=4;break;case 6:e.fPos+=3;break;case 8:e.oPos+=3;break;case 10:e.fPos+=5,e.oPos+=1;break;case 12:e.oPos+=4;break;case 16:e.oPos+=4,e.iPos+=1,e.fPos+=2,e.bPos+=1;break;case 17:case 18:e.fPos+=2}e.prev=Ru.DRAW_ROUND_RECT,n=e,Zc.drawRoundRect(n.buffer.f[n.fPos]-0,n.buffer.f[n.fPos+1]-0,n.buffer.f[n.fPos+2],n.buffer.f[n.fPos+3],n.buffer.f[n.fPos+4],n.buffer.o[n.oPos]);break;case 17:switch(e.prev._hx_index){case 0:case 14:e.oPos+=2,e.bPos+=2;break;case 1:e.iPos+=1,e.fPos+=1;break;case 2:case 15:e.oPos+=4,e.iiPos+=2,e.ffPos+=1,e.fPos+=1;break;case 3:case 19:case 20:e.oPos+=1;break;case 4:e.fPos+=6;break;case 5:case 7:case 9:e.fPos+=4;break;case 6:e.fPos+=3;break;case 8:e.oPos+=3;break;case 10:e.fPos+=5,e.oPos+=1;break;case 12:e.oPos+=4;break;case 16:e.oPos+=4,e.iPos+=1,e.fPos+=2,e.bPos+=1;break;case 17:case 18:e.fPos+=2}e.prev=Ru.LINE_TO,n=e,Zc.context.lineTo(n.buffer.f[n.fPos]-0,n.buffer.f[n.fPos+1]-0);break;case 18:switch(e.prev._hx_index){case 0:case 14:e.oPos+=2,e.bPos+=2;break;case 1:e.iPos+=1,e.fPos+=1;break;case 2:case 15:e.oPos+=4,e.iiPos+=2,e.ffPos+=1,e.fPos+=1;break;case 3:case 19:case 20:e.oPos+=1;break;case 4:e.fPos+=6;break;case 5:case 7:case 9:e.fPos+=4;break;case 6:e.fPos+=3;break;case 8:e.oPos+=3;break;case 10:e.fPos+=5,e.oPos+=1;break;case 12:e.oPos+=4;break;case 16:e.oPos+=4,e.iPos+=1,e.fPos+=2,e.bPos+=1;break;case 17:case 18:e.fPos+=2}e.prev=Ru.MOVE_TO,n=e,Zc.context.moveTo(n.buffer.f[n.fPos]-0,n.buffer.f[n.fPos+1]-0);break;default:switch(e.prev._hx_index){case 0:case 14:e.oPos+=2,e.bPos+=2;break;case 1:e.iPos+=1,e.fPos+=1;break;case 2:case 15:e.oPos+=4,e.iiPos+=2,e.ffPos+=1,e.fPos+=1;break;case 3:case 19:case 20:e.oPos+=1;break;case 4:e.fPos+=6;break;case 5:case 7:case 9:e.fPos+=4;break;case 6:e.fPos+=3;break;case 8:e.oPos+=3;break;case 10:e.fPos+=5,e.oPos+=1;break;case 12:e.oPos+=4;break;case 16:e.oPos+=4,e.iPos+=1,e.fPos+=2,e.bPos+=1;break;case 17:case 18:e.fPos+=2}e.prev=n}}e.destroy()}},Zc.setSmoothing=function(t){Zc.allowSmoothing||(t=!1),Zc.context.imageSmoothingEnabled!=t&&(Zc.context.imageSmoothingEnabled=t)};var Qc=function(){};r["openfl.display._internal.CanvasShape"]=Qc,Qc.__name__="openfl.display._internal.CanvasShape",Qc.render=function(t,e){if(t.__renderable){var i=e.__getAlpha(t.__worldAlpha);if(!(0>=i)){var s=t.__graphics;if(null!=s){Zc.render(s,e);var n=s.__width,r=s.__height,a=s.__canvas;if(null!=a&&s.__visible&&1<=n&&1<=r){var o=s.__worldTransform,l=e.context,h=t.__scrollRect,_=t.__worldScale9Grid;if(null==h||0<h.width&&0<h.height){if(e.__setBlendMode(t.__worldBlendMode),e.__pushMaskObject(t),l.globalAlpha=i,null!=_&&0==o.b&&0==o.c){var c=e.__pixelRatio;(i=yr.__pool.get()).translate(o.tx,o.ty),e.setTransform(i,l),yr.__pool.release(i),i=s.__bounds;var u=s.__renderTransform.a/s.__bitmapScale,d=s.__renderTransform.d/s.__bitmapScale,m=u*o.a,p=d*o.d;o=Math.max(1,Math.round(_.x*u)),s=Math.round(_.y*d),h=Math.max(1,Math.round((i.get_right()-_.get_right())*u));var f=Math.round((i.get_bottom()-_.get_bottom())*d);u=Math.round(_.width*u),_=Math.round(_.height*d),d=Math.round(o/c);var g=Math.round(s/c),y=Math.round(h/c);c=Math.round(f/c),m=i.width*m-d-y,i=i.height*p-g-c,e.applySmoothing(l,!1),0!=u&&0!=_?(l.drawImage(a,0,0,o,s,0,0,d,g),l.drawImage(a,o,0,u,s,d,0,m,g),l.drawImage(a,o+u,0,h,s,d+m,0,y,g),l.drawImage(a,0,s,o,_,0,g,d,i),l.drawImage(a,o,s,u,_,d,g,m,i),l.drawImage(a,o+u,s,h,_,d+m,g,y,i),l.drawImage(a,0,s+_,o,f,0,g+i,d,c),l.drawImage(a,o,s+_,u,f,d,g+i,m,c),l.drawImage(a,o+u,s+_,h,f,d+m,g+i,y,c)):0==u&&0!=_?(r=d+m+y,l.drawImage(a,0,0,n,s,0,0,r,g),l.drawImage(a,0,s,n,_,0,g,r,i),l.drawImage(a,0,s+_,n,f,0,g+i,r,c)):0==_&&0!=u&&(n=g+i+c,l.drawImage(a,0,0,o,r,0,0,d,n),l.drawImage(a,o,0,u,r,d,0,m,n),l.drawImage(a,o+u,0,h,r,d+m,0,y,n))}else e.setTransform(o,l),l.drawImage(a,0,0,n,r);e.__popMaskObject(t)}}}}}};var qc=function(){};r["openfl.display._internal.CanvasSimpleButton"]=qc,qc.__name__="openfl.display._internal.CanvasSimpleButton",qc.renderDrawable=function(t,e){!t.__renderable||0>=t.__worldAlpha||null==t.__currentState||(e.__pushMaskObject(t),e.__renderDrawable(t.__currentState),e.__popMaskObject(t),e.__renderEvent(t))},qc.renderDrawableMask=function(t,e){e.__renderDrawableMask(t.__currentState)};var $c=function(){};r["openfl.display._internal.CanvasTextField"]=$c,$c.__name__="openfl.display._internal.CanvasTextField",$c.render=function(t,e,i){var s=!((i=t.__textEngine).background||i.border),n=s?i.textBounds:i.bounds,r=t.__graphics,a=0;if(t.__dirty){if(t.__updateLayout(),null==r.__bounds&&(r.__bounds=new je),0==t.get_text().length){a=i.bounds.width-4;var o=t.get_defaultTextFormat().align;switch(a=3==o?0:4==o?a:a/2,o){case 0:a+=t.get_defaultTextFormat().leftMargin/2,a-=t.get_defaultTextFormat().rightMargin/2,a+=t.get_defaultTextFormat().indent/2,a+=t.get_defaultTextFormat().blockIndent/2;break;case 2:case 3:a+=t.get_defaultTextFormat().leftMargin,a+=t.get_defaultTextFormat().indent,a+=t.get_defaultTextFormat().blockIndent;break;case 4:a-=t.get_defaultTextFormat().rightMargin}s&&(n.y=i.bounds.y,n.x=a)}r.__bounds.copyFrom(n)}if(o=e.__pixelRatio,r.__update(e.__worldTransform,o),t.__dirty||r.__softwareDirty){var l=Math.round(r.__width*o),h=Math.round(r.__height*o);if(!(null!=i.text&&""!=i.text||i.background||i.border||i.__hasFocus||1==i.type&&i.selectable)||(0>=i.width||0>=i.height)&&2!=i.autoSize)t.__graphics.__canvas=null,t.__graphics.__context=null,t.__graphics.__bitmap=null,t.__graphics.__softwareDirty=!1,t.__graphics.set___dirty(!1),t.__dirty=!1;else{if(null==t.__graphics.__canvas&&(t.__graphics.__canvas=window.document.createElement("canvas"),t.__graphics.__context=t.__graphics.__canvas.getContext("2d")),$c.context=r.__context,r.__canvas.width=l,r.__canvas.height=h,e.__isDOM&&(r.__canvas.style.width=Math.round(l/o)+"px",r.__canvas.style.height=Math.round(h/o)+"px"),(l=yr.__pool.get()).scale(o,o),l.concat(r.__renderTransform),$c.context.setTransform(l.a,l.b,l.c,l.d,l.tx,l.ty),yr.__pool.release(l),null==$c.clearRect&&($c.clearRect="undefined"!=typeof navigator&&void 0!==navigator.isCocoonJS),$c.clearRect&&$c.context.clearRect(0,0,r.__canvas.width,r.__canvas.height),null!=i.text&&""!=i.text||i.__hasFocus){if(s=i.text,r.__context.imageSmoothingEnabled=!(!e.__allowSmoothing||0==i.antiAliasType&&400==i.sharpness),i.border||i.background){if($c.context.rect(.5,.5,n.width-1,n.height-1),i.background){var _=v.hex(16777215&i.backgroundColor,6);$c.context.fillStyle="#"+_,$c.context.fill()}i.border&&($c.context.lineWidth=1,_=v.hex(16777215&i.borderColor,6),$c.context.strokeStyle="#"+_,$c.context.stroke())}$c.context.textBaseline="alphabetic",$c.context.textAlign="start",e=-t.get_scrollH();var c,u=a=0;for(_=t.get_scrollV()-1;u<_;){var d=u++;a-=i.lineHeights.get(d)}for(l=i.layoutGroups.iterator();l.hasNext();)if(!((h=l.next()).lineIndex<t.get_scrollV()-1)){if(h.lineIndex>i.get_bottomScrollV()-1)break;var m="#"+v.hex(16777215&h.format.color,6);if($c.context.font=dm.getFont(h.format),$c.context.fillStyle=m,$c.context.fillText(s.substring(h.startIndex,h.endIndex),h.offsetX+e-n.x,h.offsetY+h.ascent+a-n.y),-1<t.__caretIndex&&i.selectable)if(t.__selectionIndex==t.__caretIndex){if(t.__showCursor&&h.startIndex<=t.__caretIndex&&h.endIndex>=t.__caretIndex){for(u=c=0,_=t.__caretIndex-h.startIndex;u<_&&(d=u++,!(h.positions.length<=d));)c+=h.positions[d];for(u=0,_=t.get_scrollV(),d=h.lineIndex+1;_<d;){var p=_++;u+=i.lineHeights.get(p-1)}$c.context.beginPath(),_=v.hex(16777215&h.format.color,6),$c.context.strokeStyle="#"+_,$c.context.moveTo(h.offsetX+c-t.get_scrollH()-n.x,u+2-n.y),$c.context.lineWidth=1,$c.context.lineTo(h.offsetX+c-t.get_scrollH()-n.x,u+dm.getFormatHeight(t.get_defaultTextFormat())-1-n.y),$c.context.stroke(),$c.context.closePath()}}else(h.startIndex<=t.__caretIndex&&h.endIndex>=t.__caretIndex||h.startIndex<=t.__selectionIndex&&h.endIndex>=t.__selectionIndex||h.startIndex>t.__caretIndex&&h.endIndex<t.__selectionIndex||h.startIndex>t.__selectionIndex&&h.endIndex<t.__caretIndex)&&(c=0|Math.min(t.__selectionIndex,t.__caretIndex),u=0|Math.max(t.__selectionIndex,t.__caretIndex),h.startIndex>c&&(c=h.startIndex),h.endIndex<u&&(u=h.endIndex),d=t.getCharBoundaries(c),u>=h.endIndex?null!=(_=t.getCharBoundaries(h.endIndex-1))&&(_.x+=_.width+2):_=t.getCharBoundaries(u),null!=d&&null!=_&&($c.context.fillStyle="#000000",$c.context.fillRect(d.x+e-n.x,d.y+a,_.x-d.x,h.height),$c.context.fillStyle="#FFFFFF",$c.context.fillText(s.substring(c,u),e+d.x-n.x,h.offsetY+h.ascent+a)));h.format.underline&&($c.context.beginPath(),$c.context.strokeStyle=m,$c.context.lineWidth=1,m=h.offsetX+e-n.x,c=Math.ceil(h.offsetY+a+h.ascent-n.y)+Math.floor(.185*h.ascent)+.5,$c.context.moveTo(m,c),$c.context.lineTo(m+h.width,c),$c.context.stroke(),$c.context.closePath())}}else if((i.border||i.background)&&(i.border?$c.context.rect(.5,.5,n.width-1,n.height-1):$c.context.rect(0,0,n.width,n.height),i.background&&(_=v.hex(16777215&i.backgroundColor,6),$c.context.fillStyle="#"+_,$c.context.fill()),i.border&&($c.context.lineWidth=1,$c.context.lineCap="square",_=v.hex(16777215&i.borderColor,6),$c.context.strokeStyle="#"+_,$c.context.stroke())),-1<t.__caretIndex&&i.selectable&&t.__showCursor){for(e=-t.get_scrollH()+(s?0:a),u=a=0,_=t.get_scrollV()-1;u<_;)d=u++,a+=i.lineHeights.get(d);$c.context.beginPath(),_=v.hex(16777215&t.get_defaultTextFormat().color,6),$c.context.strokeStyle="#"+_,$c.context.moveTo(e+2.5,a+2.5),$c.context.lineWidth=1,$c.context.lineTo(e+2.5,a+dm.getFormatHeight(t.get_defaultTextFormat())-1),$c.context.stroke(),$c.context.closePath()}r.__bitmap=O_.fromCanvas(t.__graphics.__canvas),r.__bitmapScale=o,r.__visible=!0,t.__dirty=!1,r.__softwareDirty=!1,r.set___dirty(!1)}}},$c.renderDrawable=function(t,e){if(e.__isDOM&&!t.__renderedOnCanvasWhileOnDOM&&(t.__renderedOnCanvasWhileOnDOM=!0,1==t.get_type()&&t.replaceText(0,t.__text.length,t.__text),t.__isHTML&&t.__updateText(cm.parse(t.__text,t.get_multiline(),t.__styleSheet,t.__textFormat,t.__textEngine.textFormatRanges)),t.__dirty=!0,t.__layoutDirty=!0,t.__renderDirty||(t.__renderDirty=!0,t.__setParentRenderDirty())),null==t.get_mask()||0<t.get_mask().get_width()&&0<t.get_mask().get_height())if(e.__updateCacheBitmap(t,t.__dirty),null==t.__cacheBitmap||t.__isCacheBitmapRender){var i=t.__textEngine,s=!(i.background||i.border),n=s?i.textBounds:i.bounds,r=t.__graphics,a=0;if(t.__dirty){if(t.__updateLayout(),null==r.__bounds&&(r.__bounds=new je),0==t.get_text().length){var o=i.bounds.width-4,l=t.get_defaultTextFormat().align;switch(a=3==l?0:4==l?o:o/2,l){case 0:a+=t.get_defaultTextFormat().leftMargin/2,a-=t.get_defaultTextFormat().rightMargin/2,a+=t.get_defaultTextFormat().indent/2,a+=t.get_defaultTextFormat().blockIndent/2;break;case 2:case 3:a+=t.get_defaultTextFormat().leftMargin,a+=t.get_defaultTextFormat().indent,a+=t.get_defaultTextFormat().blockIndent;break;case 4:a-=t.get_defaultTextFormat().rightMargin}s&&(n.y=i.bounds.y,n.x=a)}r.__bounds.copyFrom(n)}if(l=e.__pixelRatio,r.__update(e.__worldTransform,l),t.__dirty||r.__softwareDirty){o=Math.round(r.__width*l);var h=Math.round(r.__height*l);if(!(null!=i.text&&""!=i.text||i.background||i.border||i.__hasFocus||1==i.type&&i.selectable)||(0>=i.width||0>=i.height)&&2!=i.autoSize)t.__graphics.__canvas=null,t.__graphics.__context=null,t.__graphics.__bitmap=null,t.__graphics.__softwareDirty=!1,t.__graphics.set___dirty(!1),t.__dirty=!1;else{null==t.__graphics.__canvas&&(t.__graphics.__canvas=window.document.createElement("canvas"),t.__graphics.__context=t.__graphics.__canvas.getContext("2d")),$c.context=r.__context,r.__canvas.width=o,r.__canvas.height=h,e.__isDOM&&(r.__canvas.style.width=Math.round(o/l)+"px",r.__canvas.style.height=Math.round(h/l)+"px");var _=yr.__pool.get();if(_.scale(l,l),_.concat(r.__renderTransform),$c.context.setTransform(_.a,_.b,_.c,_.d,_.tx,_.ty),yr.__pool.release(_),null==$c.clearRect&&($c.clearRect="undefined"!=typeof navigator&&void 0!==navigator.isCocoonJS),$c.clearRect&&$c.context.clearRect(0,0,r.__canvas.width,r.__canvas.height),null!=i.text&&""!=i.text||i.__hasFocus){if(o=i.text,r.__context.imageSmoothingEnabled=!(!e.__allowSmoothing||0==i.antiAliasType&&400==i.sharpness),i.border||i.background){if($c.context.rect(.5,.5,n.width-1,n.height-1),i.background){var c=v.hex(16777215&i.backgroundColor,6);$c.context.fillStyle="#"+c,$c.context.fill()}i.border&&($c.context.lineWidth=1,c=v.hex(16777215&i.borderColor,6),$c.context.strokeStyle="#"+c,$c.context.stroke())}$c.context.textBaseline="alphabetic",$c.context.textAlign="start",h=-t.get_scrollH();var u,d=s=0;for(c=t.get_scrollV()-1;d<c;){var m=d++;s-=i.lineHeights.get(m)}for(a=i.layoutGroups.iterator();a.hasNext();){var p=a.next();if(!(p.lineIndex<t.get_scrollV()-1)){if(p.lineIndex>i.get_bottomScrollV()-1)break;if(_="#"+v.hex(16777215&p.format.color,6),$c.context.font=dm.getFont(p.format),$c.context.fillStyle=_,$c.context.fillText(o.substring(p.startIndex,p.endIndex),p.offsetX+h-n.x,p.offsetY+p.ascent+s-n.y),-1<t.__caretIndex&&i.selectable)if(t.__selectionIndex==t.__caretIndex){if(t.__showCursor&&p.startIndex<=t.__caretIndex&&p.endIndex>=t.__caretIndex){for(d=u=0,c=t.__caretIndex-p.startIndex;d<c&&(m=d++,!(p.positions.length<=m));)u+=p.positions[m];for(d=0,c=t.get_scrollV(),m=p.lineIndex+1;c<m;){var f=c++;d+=i.lineHeights.get(f-1)}$c.context.beginPath(),c=v.hex(16777215&p.format.color,6),$c.context.strokeStyle="#"+c,$c.context.moveTo(p.offsetX+u-t.get_scrollH()-n.x,d+2-n.y),$c.context.lineWidth=1,$c.context.lineTo(p.offsetX+u-t.get_scrollH()-n.x,d+dm.getFormatHeight(t.get_defaultTextFormat())-1-n.y),$c.context.stroke(),$c.context.closePath()}}else(p.startIndex<=t.__caretIndex&&p.endIndex>=t.__caretIndex||p.startIndex<=t.__selectionIndex&&p.endIndex>=t.__selectionIndex||p.startIndex>t.__caretIndex&&p.endIndex<t.__selectionIndex||p.startIndex>t.__selectionIndex&&p.endIndex<t.__caretIndex)&&(u=0|Math.min(t.__selectionIndex,t.__caretIndex),d=0|Math.max(t.__selectionIndex,t.__caretIndex),p.startIndex>u&&(u=p.startIndex),p.endIndex<d&&(d=p.endIndex),m=t.getCharBoundaries(u),d>=p.endIndex?null!=(c=t.getCharBoundaries(p.endIndex-1))&&(c.x+=c.width+2):c=t.getCharBoundaries(d),null!=m&&null!=c&&($c.context.fillStyle="#000000",$c.context.fillRect(m.x+h-n.x,m.y+s,c.x-m.x,p.height),$c.context.fillStyle="#FFFFFF",$c.context.fillText(o.substring(u,d),h+m.x-n.x,p.offsetY+p.ascent+s)));p.format.underline&&($c.context.beginPath(),$c.context.strokeStyle=_,$c.context.lineWidth=1,_=p.offsetX+h-n.x,u=Math.ceil(p.offsetY+s+p.ascent-n.y)+Math.floor(.185*p.ascent)+.5,$c.context.moveTo(_,u),$c.context.lineTo(_+p.width,u),$c.context.stroke(),$c.context.closePath())}}}else if((i.border||i.background)&&(i.border?$c.context.rect(.5,.5,n.width-1,n.height-1):$c.context.rect(0,0,n.width,n.height),i.background&&(c=v.hex(16777215&i.backgroundColor,6),$c.context.fillStyle="#"+c,$c.context.fill()),i.border&&($c.context.lineWidth=1,$c.context.lineCap="square",c=v.hex(16777215&i.borderColor,6),$c.context.strokeStyle="#"+c,$c.context.stroke())),-1<t.__caretIndex&&i.selectable&&t.__showCursor){for(h=-t.get_scrollH()+(s?0:a),d=s=0,c=t.get_scrollV()-1;d<c;)m=d++,s+=i.lineHeights.get(m);$c.context.beginPath(),c=v.hex(16777215&t.get_defaultTextFormat().color,6),$c.context.strokeStyle="#"+c,$c.context.moveTo(h+2.5,s+2.5),$c.context.lineWidth=1,$c.context.lineTo(h+2.5,s+dm.getFormatHeight(t.get_defaultTextFormat())-1),$c.context.stroke(),$c.context.closePath()}r.__bitmap=O_.fromCanvas(t.__graphics.__canvas),r.__bitmapScale=l,r.__visible=!0,t.__dirty=!1,r.__softwareDirty=!1,r.set___dirty(!1)}}if(s=!1,0==t.__textEngine.antiAliasType&&1==t.__textEngine.gridFitType&&(s=e.context.imageSmoothingEnabled)&&(e.context.imageSmoothingEnabled=!1),(null!=t.opaqueBackground||null!=t.__graphics)&&t.__renderable&&!(0>=(n=e.__getAlpha(t.__worldAlpha)))&&(null!=t.opaqueBackground&&!t.__isCacheBitmapRender&&0<t.get_width()&&0<t.get_height()&&(e.__setBlendMode(t.__worldBlendMode),e.__pushMaskObject(t),i=e.context,e.setTransform(t.__renderTransform,i),_=t.opaqueBackground,i.fillStyle="rgb("+(_>>>16&255)+","+(_>>>8&255)+","+(255&_)+")",i.fillRect(0,0,t.get_width(),t.get_height()),e.__popMaskObject(t)),null!=t.__graphics&&t.__renderable&&!(0>=(n=e.__getAlpha(t.__worldAlpha)))&&null!=(r=t.__graphics)&&(Zc.render(r,e),o=r.__width,h=r.__height,null!=(a=r.__canvas)&&r.__visible&&1<=o&&1<=h&&(p=r.__worldTransform,i=e.context,l=t.__scrollRect,f=t.__worldScale9Grid,null==l||0<l.width&&0<l.height)))){if(e.__setBlendMode(t.__worldBlendMode),e.__pushMaskObject(t),i.globalAlpha=n,null!=f&&0==p.b&&0==p.c){l=e.__pixelRatio,(_=yr.__pool.get()).translate(p.tx,p.ty),e.setTransform(_,i),yr.__pool.release(_),n=r.__bounds,d=r.__renderTransform.a/r.__bitmapScale;var g=r.__renderTransform.d/r.__bitmapScale;c=d*p.a,m=g*p.d,r=Math.max(1,Math.round(f.x*d)),p=Math.round(f.y*g),_=Math.max(1,Math.round((n.get_right()-f.get_right())*d)),u=Math.round((n.get_bottom()-f.get_bottom())*g),d=Math.round(f.width*d),f=Math.round(f.height*g),g=Math.round(r/l);var y=Math.round(p/l),b=Math.round(_/l);l=Math.round(u/l),c=n.width*c-g-b,n=n.height*m-y-l,e.applySmoothing(i,!1),0!=d&&0!=f?(i.drawImage(a,0,0,r,p,0,0,g,y),i.drawImage(a,r,0,d,p,g,0,c,y),i.drawImage(a,r+d,0,_,p,g+c,0,b,y),i.drawImage(a,0,p,r,f,0,y,g,n),i.drawImage(a,r,p,d,f,g,y,c,n),i.drawImage(a,r+d,p,_,f,g+c,y,b,n),i.drawImage(a,0,p+f,r,u,0,y+n,g,l),i.drawImage(a,r,p+f,d,u,g,y+n,c,l),i.drawImage(a,r+d,p+f,_,u,g+c,y+n,b,l)):0==d&&0!=f?(r=g+c+b,i.drawImage(a,0,0,o,p,0,0,r,y),i.drawImage(a,0,p,o,f,0,y,r,n),i.drawImage(a,0,p+f,o,u,0,y+n,r,l)):0==f&&0!=d&&(n=y+n+l,i.drawImage(a,0,0,r,h,0,0,g,n),i.drawImage(a,r,0,d,h,g,0,c,n),i.drawImage(a,r+d,0,_,h,g+c,0,b,n))}else e.setTransform(p,i),i.drawImage(a,0,0,o,h);e.__popMaskObject(t)}s&&(e.context.imageSmoothingEnabled=!0)}else(t=t.__cacheBitmap).__renderable&&0<(n=e.__getAlpha(t.__worldAlpha))&&null!=t.__bitmapData&&t.__bitmapData.__isValid&&t.__bitmapData.readable&&(i=e.context,e.__setBlendMode(t.__worldBlendMode),e.__pushMaskObject(t,!1),Vo.convertToCanvas(t.__bitmapData.image),i.globalAlpha=n,l=t.__scrollRect,e.setTransform(t.__renderTransform,i),e.__allowSmoothing&&t.smoothing||(i.imageSmoothingEnabled=!1),null==l?i.drawImage(t.__bitmapData.image.get_src(),0,0,t.__bitmapData.image.width,t.__bitmapData.image.height):i.drawImage(t.__bitmapData.image.get_src(),l.x,l.y,l.width,l.height,l.x,l.y,l.width,l.height),e.__allowSmoothing&&t.smoothing||(i.imageSmoothingEnabled=!0),e.__popMaskObject(t,!1))},$c.renderDrawableMask=function(t,e){jc.renderDrawableMask(t,e)};var tu=function(){};r["openfl.display._internal.CanvasTilemap"]=tu,tu.__name__="openfl.display._internal.CanvasTilemap",tu.render=function(t,e){if(t.__renderable&&0!=t.__group.__tiles.length){var i=e.__getAlpha(t.__worldAlpha);if(!(0>=i)){var s=e.context;e.__setBlendMode(t.__worldBlendMode),e.__pushMaskObject(t);var n=je.__pool.get();n.setTo(0,0,t.__width,t.__height),e.__pushMaskRect(n,t.__renderTransform),e.__allowSmoothing&&t.smoothing||(s.imageSmoothingEnabled=!1),tu.renderTileContainer(t.__group,e,t.__renderTransform,t.__tileset,e.__allowSmoothing&&t.smoothing,t.tileAlphaEnabled,i,t.tileBlendModeEnabled,t.__worldBlendMode,null,null,n),e.__allowSmoothing&&t.smoothing||(s.imageSmoothingEnabled=!0),e.__popMaskRect(),e.__popMaskObject(t),je.__pool.release(n)}}},tu.renderTileContainer=function(t,e,i,s,n,r,a,o,l,h,_,c){var u,d=e.context,m=e.__roundPixels,p=yr.__pool.get(),f=t.__tiles,g=null,y=0;for(t=t.__length;y<t;){var b=y++,v=f[b];p.setTo(1,0,0,1,-v.get_originX(),-v.get_originY()),p.concat(v.get_matrix()),p.concat(i),m&&(p.tx=Math.round(p.tx),p.ty=Math.round(p.ty));var x=null!=v.get_tileset()?v.get_tileset():s;if(b=v.get_alpha()*a,(u=v.get_visible())&&!(0>=b))if(r||(b=1),o&&(g=null!=v.__blendMode?v.__blendMode:l),0<v.__length)tu.renderTileContainer(v,e,p,x,n,r,b,o,g,h,_,c);else if(null!=x){if(-1==(u=v.get_id())){if(null==(v=v.__rect)||0>=v.width||0>=v.height)continue}else{if(null==(v=x.__data[u]))continue;c.setTo(v.x,v.y,v.width,v.height),v=c}null!=(x=x.__bitmapData)&&(x!=h&&(null==x.image.buffer.__srcImage&&Vo.convertToCanvas(x.image),_=x.image.get_src(),h=x),d.globalAlpha=b,o&&e.__setBlendMode(g),e.setTransform(p,d),d.drawImage(_,v.x,v.y,v.width,v.height,0,0,v.width,v.height))}}yr.__pool.release(p)},tu.renderDrawable=function(t,e){if(e.__updateCacheBitmap(t,!1),null==t.__cacheBitmap||t.__isCacheBitmapRender){if(!(null==t.opaqueBackground&&null==t.__graphics||!t.__renderable||(f=e.__getAlpha(t.__worldAlpha),0>=f))){if(null!=t.opaqueBackground&&!t.__isCacheBitmapRender&&0<t.get_width()&&0<t.get_height()){e.__setBlendMode(t.__worldBlendMode),e.__pushMaskObject(t),g=e.context,e.setTransform(t.__renderTransform,g);var i=t.opaqueBackground;g.fillStyle="rgb("+(i>>>16&255)+","+(i>>>8&255)+","+(255&i)+")",g.fillRect(0,0,t.get_width(),t.get_height()),e.__popMaskObject(t)}if(null!=t.__graphics&&t.__renderable&&!(0>=(f=e.__getAlpha(t.__worldAlpha)))){var s=t.__graphics;if(null!=s){Zc.render(s,e);var n=s.__width,r=s.__height;if(null!=(i=s.__canvas)&&s.__visible&&1<=n&&1<=r){var a=s.__worldTransform;g=e.context,y=t.__scrollRect;var o=t.__worldScale9Grid;if(null==y||0<y.width&&0<y.height){if(e.__setBlendMode(t.__worldBlendMode),e.__pushMaskObject(t),g.globalAlpha=f,null!=o&&0==a.b&&0==a.c){var l=e.__pixelRatio;(f=yr.__pool.get()).translate(a.tx,a.ty),e.setTransform(f,g),yr.__pool.release(f),f=s.__bounds;var h=s.__renderTransform.a/s.__bitmapScale,_=s.__renderTransform.d/s.__bitmapScale,c=h*a.a,u=_*a.d;a=Math.max(1,Math.round(o.x*h)),s=Math.round(o.y*_),y=Math.max(1,Math.round((f.get_right()-o.get_right())*h));var d=Math.round((f.get_bottom()-o.get_bottom())*_);h=Math.round(o.width*h),o=Math.round(o.height*_),_=Math.round(a/l);var m=Math.round(s/l),p=Math.round(y/l);l=Math.round(d/l),c=f.width*c-_-p,f=f.height*u-m-l,e.applySmoothing(g,!1),0!=h&&0!=o?(g.drawImage(i,0,0,a,s,0,0,_,m),g.drawImage(i,a,0,h,s,_,0,c,m),g.drawImage(i,a+h,0,y,s,_+c,0,p,m),g.drawImage(i,0,s,a,o,0,m,_,f),g.drawImage(i,a,s,h,o,_,m,c,f),g.drawImage(i,a+h,s,y,o,_+c,m,p,f),g.drawImage(i,0,s+o,a,d,0,m+f,_,l),g.drawImage(i,a,s+o,h,d,_,m+f,c,l),g.drawImage(i,a+h,s+o,y,d,_+c,m+f,p,l)):0==h&&0!=o?(r=_+c+p,g.drawImage(i,0,0,n,s,0,0,r,m),g.drawImage(i,0,s,n,o,0,m,r,f),g.drawImage(i,0,s+o,n,d,0,m+f,r,l)):0==o&&0!=h&&(n=m+f+l,g.drawImage(i,0,0,a,r,0,0,_,n),g.drawImage(i,a,0,h,r,_,0,c,n),g.drawImage(i,a+h,0,y,r,_+c,0,p,n))}else e.setTransform(a,g),g.drawImage(i,0,0,n,r);e.__popMaskObject(t)}}}}}t.__renderable&&0!=t.__group.__tiles.length&&(0>=(f=e.__getAlpha(t.__worldAlpha))||(g=e.context,e.__setBlendMode(t.__worldBlendMode),e.__pushMaskObject(t),(i=je.__pool.get()).setTo(0,0,t.__width,t.__height),e.__pushMaskRect(i,t.__renderTransform),e.__allowSmoothing&&t.smoothing||(g.imageSmoothingEnabled=!1),tu.renderTileContainer(t.__group,e,t.__renderTransform,t.__tileset,e.__allowSmoothing&&t.smoothing,t.tileAlphaEnabled,f,t.tileBlendModeEnabled,t.__worldBlendMode,null,null,i),e.__allowSmoothing&&t.smoothing||(g.imageSmoothingEnabled=!0),e.__popMaskRect(),e.__popMaskObject(t),je.__pool.release(i)))}else if((i=t.__cacheBitmap).__renderable){var f=e.__getAlpha(i.__worldAlpha);if(0<f&&null!=i.__bitmapData&&i.__bitmapData.__isValid&&i.__bitmapData.readable){var g=e.context;e.__setBlendMode(i.__worldBlendMode),e.__pushMaskObject(i,!1),Vo.convertToCanvas(i.__bitmapData.image),g.globalAlpha=f;var y=i.__scrollRect;e.setTransform(i.__renderTransform,g),e.__allowSmoothing&&i.smoothing||(g.imageSmoothingEnabled=!1),null==y?g.drawImage(i.__bitmapData.image.get_src(),0,0,i.__bitmapData.image.width,i.__bitmapData.image.height):g.drawImage(i.__bitmapData.image.get_src(),y.x,y.y,y.width,y.height,y.x,y.y,y.width,y.height),e.__allowSmoothing&&i.smoothing||(g.imageSmoothingEnabled=!0),e.__popMaskObject(i,!1)}}e.__renderEvent(t)},tu.renderDrawableMask=function(t,e){};var eu=function(){};r["openfl.display._internal.CanvasVideo"]=eu,eu.__name__="openfl.display._internal.CanvasVideo",eu.render=function(t,e){if(t.__renderable&&null!=t.__stream){var i=e.__getAlpha(t.__worldAlpha);if(!(0>=i)){var s=e.context;if(null!=t.__stream.__video){e.__setBlendMode(t.__worldBlendMode),e.__pushMaskObject(t),s.globalAlpha=i,i=t.__scrollRect;var n=t.smoothing;e.setTransform(t.__worldTransform,s),n||(s.imageSmoothingEnabled=!1),null==i?s.drawImage(t.__stream.__video,0,0,t.get_width(),t.get_height()):s.drawImage(t.__stream.__video,i.x,i.y,i.width,i.height,i.x,i.y,i.width,i.height),n||(s.imageSmoothingEnabled=!0),e.__popMaskObject(t)}}}},eu.renderDrawable=function(t,e){eu.render(t,e),e.__renderEvent(t)},eu.renderDrawableMask=function(t,e){};var iu=function(){};r["openfl.display._internal.Context3DBitmap"]=iu,iu.__name__="openfl.display._internal.Context3DBitmap",iu.render=function(t,e){if(t.__renderable&&!(0>=t.__worldAlpha)&&null!=t.__bitmapData&&t.__bitmapData.__isValid){var i=e.__context3D;e.__setBlendMode(t.__worldBlendMode),e.__pushMaskObject(t);var s=e.__initDisplayShader(t.__worldShader);e.setShader(s),e.applyBitmapData(t.__bitmapData,e.__allowSmoothing&&(t.smoothing||e.__upscaled)),e.applyMatrix(e.__getMatrix(t.__renderTransform,t.pixelSnapping)),e.applyAlpha(t.__worldAlpha),e.applyColorTransform(t.__worldColorTransform),e.updateShader();var n=t.__bitmapData.getVertexBuffer(i);null!=s.__position&&i.setVertexBufferAt(s.__position.index,n,0,3),null!=s.__textureCoord&&i.setVertexBufferAt(s.__textureCoord.index,n,3,2),s=t.__bitmapData.getIndexBuffer(i),i.drawTriangles(s),e.__clearShader(),e.__popMaskObject(t)}},iu.renderDrawable=function(t,e){if(e.__updateCacheBitmap(t,!1),null!=t.__bitmapData&&null!=t.__bitmapData.image&&(t.__imageVersion=t.__bitmapData.image.version),null==t.__cacheBitmap||t.__isCacheBitmapRender){if(!(null==t.opaqueBackground&&null==t.__graphics||!t.__renderable||0>=t.__worldAlpha)){if(null!=t.opaqueBackground&&!t.__isCacheBitmapRender&&0<t.get_width()&&0<t.get_height()){e.__setBlendMode(t.__worldBlendMode),e.__pushMaskObject(t);var i=e.__context3D,s=je.__pool.get();s.setTo(0,0,t.get_width(),t.get_height()),e.__pushMaskRect(s,t.__renderTransform);var n=t.opaqueBackground;i.clear((n>>>16&255)/255,(n>>>8&255)/255,(255&n)/255,1,0,0,1),e.__popMaskRect(),e.__popMaskObject(t),je.__pool.release(s)}null!=t.__graphics&&_u.render(t,e)}iu.render(t,e)}else iu.render(t.__cacheBitmap,e);e.__renderEvent(t)},iu.renderDrawableMask=function(t,e){iu.renderMask(t,e)},iu.renderMask=function(t,e){if(null!=t.__bitmapData&&t.__bitmapData.__isValid){var i=e.__context3D,s=e.__maskShader;e.setShader(s),e.applyBitmapData(hu.opaqueBitmapData,!0),e.applyMatrix(e.__getMatrix(t.__renderTransform,t.pixelSnapping)),e.updateShader();var n=t.__bitmapData.getVertexBuffer(i);null!=s.__position&&i.setVertexBufferAt(s.__position.index,n,0,3),null!=s.__textureCoord&&i.setVertexBufferAt(s.__textureCoord.index,n,3,2),t=t.__bitmapData.getIndexBuffer(i),i.drawTriangles(t),e.__clearShader()}};var su=function(){};r["openfl.display._internal.Context3DBitmapData"]=su,su.__name__="openfl.display._internal.Context3DBitmapData",su.renderDrawable=function(t,e){var i=e.__context3D;e.__setBlendMode(10);var s=e.__defaultDisplayShader;e.setShader(s),e.applyBitmapData(t,e.__upscaled),e.applyMatrix(e.__getMatrix(t.__worldTransform,1)),e.applyAlpha(t.__worldAlpha),e.applyColorTransform(t.__worldColorTransform),e.updateShader();var n=t.getVertexBuffer(i);null!=s.__position&&i.setVertexBufferAt(s.__position.index,n,0,3),null!=s.__textureCoord&&i.setVertexBufferAt(s.__textureCoord.index,n,3,2),t=t.getIndexBuffer(i),i.drawTriangles(t),e.__clearShader()},su.renderDrawableMask=function(t,e){var i=e.__context3D,s=e.__maskShader;e.setShader(s),e.applyBitmapData(t,e.__upscaled),e.applyMatrix(e.__getMatrix(t.__worldTransform,1)),e.updateShader();var n=t.getVertexBuffer(i);null!=s.__position&&i.setVertexBufferAt(s.__position.index,n,0,3),null!=s.__textureCoord&&i.setVertexBufferAt(s.__textureCoord.index,n,3,2),t=t.getIndexBuffer(i),i.drawTriangles(t),e.__clearShader()};var nu=function(t,e,i,s){this.context3D=t,this.elementType=e,this.dataPerVertex=s,this.vertexCount=this.indexCount=0,this.resize(i)};r["openfl.display._internal.Context3DBuffer"]=nu,nu.__name__="openfl.display._internal.Context3DBuffer",nu.prototype={dataPerVertex:null,elementCount:null,elementType:null,indexBufferData:null,indexBuffers:null,indexCount:null,vertexBuffer:null,vertexBufferData:null,vertexCount:null,context3D:null,drawElements:function(t,e){if(null==e&&(e=-1),0!=this.indexCount&&0!=this.vertexCount&&0==this.elementType._hx_index)if(-1==e&&(e=2*this.elementCount),10922>t&&10922>e-t)this.context3D.drawTriangles(this.indexBuffers[0],t,2*e);else for(var i=t+e;t<i;){var s=Math.floor(t/10922);if(0>=(e=0|Math.min(i-t,10922)))break;this.context3D.drawTriangles(this.indexBuffers[s],3*(t-10922*s),2*e),t+=e}},flushVertexBufferData:function(){this.vertexBufferData.length>this.vertexCount&&(this.vertexCount=this.vertexBufferData.length,this.vertexBuffer=this.context3D.createVertexBuffer(this.vertexCount,this.dataPerVertex,0)),this.vertexBuffer.uploadFromTypedArray(u_.toArrayBufferView(this.vertexBufferData))},resize:function(t,e){null==e&&(e=-1),this.elementCount=t,-1==e&&(e=this.dataPerVertex),e!=this.dataPerVertex&&(this.vertexBuffer=null,this.vertexCount=0,this.dataPerVertex=e);var i=0;switch(this.elementType._hx_index){case 0:i=4*t;break;case 1:case 2:i=3*t}if(e*=i,null==this.vertexBufferData){var s=i=null,n=null,r=null,a=null;this.vertexBufferData=e=null!=e?new Float32Array(e):null!=i?new Float32Array(i):null!=s?new Float32Array(s.__array):null!=n?new Float32Array(n):null!=r?null==a?new Float32Array(r,0):new Float32Array(r,0,a):null}else e>this.vertexBufferData.length&&(t=this.vertexBufferData,a=r=n=s=i=null,this.vertexBufferData=e=null!=e?new Float32Array(e):null!=i?new Float32Array(i):null!=s?new Float32Array(s.__array):null!=n?new Float32Array(n):null!=r?null==a?new Float32Array(r,0):new Float32Array(r,0,a):null,this.vertexBufferData.set(t))},__class__:nu};var ru=o["openfl.display._internal.Context3DElementType"]={__ename__:"openfl.display._internal.Context3DElementType",__constructs__:null,QUADS:{_hx_name:"QUADS",_hx_index:0,__enum__:"openfl.display._internal.Context3DElementType",toString:a},TRIANGLES:{_hx_name:"TRIANGLES",_hx_index:1,__enum__:"openfl.display._internal.Context3DElementType",toString:a},TRIANGLE_INDICES:{_hx_name:"TRIANGLE_INDICES",_hx_index:2,__enum__:"openfl.display._internal.Context3DElementType",toString:a}};ru.__constructs__=[ru.QUADS,ru.TRIANGLES,ru.TRIANGLE_INDICES];var au=function(){};r["openfl.display._internal.Context3DDisplayObject"]=au,au.__name__="openfl.display._internal.Context3DDisplayObject",au.render=function(t,e){if(!(null==t.opaqueBackground&&null==t.__graphics||!t.__renderable||0>=t.__worldAlpha)){if(null!=t.opaqueBackground&&!t.__isCacheBitmapRender&&0<t.get_width()&&0<t.get_height()){e.__setBlendMode(t.__worldBlendMode),e.__pushMaskObject(t);var i=e.__context3D,s=je.__pool.get();s.setTo(0,0,t.get_width(),t.get_height()),e.__pushMaskRect(s,t.__renderTransform);var n=t.opaqueBackground;i.clear((n>>>16&255)/255,(n>>>8&255)/255,(255&n)/255,1,0,0,1),e.__popMaskRect(),e.__popMaskObject(t),je.__pool.release(s)}null!=t.__graphics&&_u.render(t,e)}},au.renderDrawable=function(t,e){if(e.__updateCacheBitmap(t,!1),null==t.__cacheBitmap||t.__isCacheBitmapRender){if(!(null==t.opaqueBackground&&null==t.__graphics||!t.__renderable||0>=t.__worldAlpha)){if(null!=t.opaqueBackground&&!t.__isCacheBitmapRender&&0<t.get_width()&&0<t.get_height()){e.__setBlendMode(t.__worldBlendMode),e.__pushMaskObject(t);var i=e.__context3D,s=je.__pool.get();s.setTo(0,0,t.get_width(),t.get_height()),e.__pushMaskRect(s,t.__renderTransform);var n=t.opaqueBackground;i.clear((n>>>16&255)/255,(n>>>8&255)/255,(255&n)/255,1,0,0,1),e.__popMaskRect(),e.__popMaskObject(t),je.__pool.release(s)}null!=t.__graphics&&_u.render(t,e)}}else iu.render(t.__cacheBitmap,e);e.__renderEvent(t)},au.renderDrawableMask=function(t,e){null!=t.__graphics&&_u.renderMask(t,e)},au.renderMask=function(t,e){null==t.opaqueBackground&&null==t.__graphics||(null!=t.opaqueBackground&&!t.__isCacheBitmapRender&&0<t.get_width()&&t.get_height(),null!=t.__graphics&&_u.renderMask(t,e))};var ou=function(){};r["openfl.display._internal.Context3DDisplayObjectContainer"]=ou,ou.__name__="openfl.display._internal.Context3DDisplayObjectContainer",ou.renderDrawable=function(t,e){for(var i=t.__removedChildren.iterator();i.hasNext();){var s=i.next();null==s.stage&&s.__cleanup()}if(t.__removedChildren.set_length(0),t.__renderable&&!(0>=t.__worldAlpha)&&(au.renderDrawable(t,e),null==t.__cacheBitmap||t.__isCacheBitmapRender)){if(0<t.__children.length)if(e.__pushMaskObject(t),null!=e.__stage){for(i=0,s=t.__children;i<s.length;){var n=s[i];++i,e.__renderDrawable(n),n.__renderDirty=!1}t.__renderDirty=!1}else for(i=0,s=t.__children;i<s.length;)n=s[i],++i,e.__renderDrawable(n);0<t.__children.length&&e.__popMaskObject(t)}},ou.renderDrawableMask=function(t,e){for(var i=t.__removedChildren.iterator();i.hasNext();){var s=i.next();null==s.stage&&s.__cleanup()}for(t.__removedChildren.set_length(0),null!=t.__graphics&&_u.renderMask(t,e),i=0,t=t.__children;i<t.length;)s=t[i],++i,e.__renderDrawableMask(s)};var lu=function(){};r["openfl.display._internal.Context3DGraphics"]=lu,lu.__name__="openfl.display._internal.Context3DGraphics",lu.buildBuffer=function(t,e){var i,s=i=0,n=0,r=new Su(t.__commands);e=e.__context3D;for(var a=je.__pool.get(),o=yr.__pool.get(),l=null,h=0,_=t.__commands.types;h<_.length;){var c=_[h];switch(++h,c._hx_index){case 0:switch(r.prev._hx_index){case 0:case 14:r.oPos+=2,r.bPos+=2;break;case 1:r.iPos+=1,r.fPos+=1;break;case 2:case 15:r.oPos+=4,r.iiPos+=2,r.ffPos+=1,r.fPos+=1;break;case 3:case 19:case 20:r.oPos+=1;break;case 4:r.fPos+=6;break;case 5:case 7:case 9:r.fPos+=4;break;case 6:r.fPos+=3;break;case 8:r.oPos+=3;break;case 10:r.fPos+=5,r.oPos+=1;break;case 12:r.oPos+=4;break;case 16:r.oPos+=4,r.iPos+=1,r.fPos+=2,r.bPos+=1;break;case 17:case 18:r.fPos+=2}r.prev=Ru.BEGIN_BITMAP_FILL,l=(l=r).buffer.o[l.oPos];break;case 1:switch(l=null,r.prev._hx_index){case 0:case 14:r.oPos+=2,r.bPos+=2;break;case 1:r.iPos+=1,r.fPos+=1;break;case 2:case 15:r.oPos+=4,r.iiPos+=2,r.ffPos+=1,r.fPos+=1;break;case 3:case 19:case 20:r.oPos+=1;break;case 4:r.fPos+=6;break;case 5:case 7:case 9:r.fPos+=4;break;case 6:r.fPos+=3;break;case 8:r.oPos+=3;break;case 10:r.fPos+=5,r.oPos+=1;break;case 12:r.oPos+=4;break;case 16:r.oPos+=4,r.iPos+=1,r.fPos+=2,r.bPos+=1;break;case 17:case 18:r.fPos+=2}r.prev=c;break;case 3:switch(r.prev._hx_index){case 0:case 14:r.oPos+=2,r.bPos+=2;break;case 1:r.iPos+=1,r.fPos+=1;break;case 2:case 15:r.oPos+=4,r.iiPos+=2,r.ffPos+=1,r.fPos+=1;break;case 3:case 19:case 20:r.oPos+=1;break;case 4:r.fPos+=6;break;case 5:case 7:case 9:r.fPos+=4;break;case 6:r.fPos+=3;break;case 8:r.oPos+=3;break;case 10:r.fPos+=5,r.oPos+=1;break;case 12:r.oPos+=4;break;case 16:r.oPos+=4,r.iPos+=1,r.fPos+=2,r.bPos+=1;break;case 17:case 18:r.fPos+=2}if(r.prev=Ru.BEGIN_SHADER_FILL,c=(l=r).buffer.o[l.oPos],l=null,null!=c)for(var u=0,d=c.inputCount;u<d;){var m=u++;if("bitmap"==c.inputRefs[m].name){l=c.inputs[m];break}}break;case 8:if(null!=l){switch(r.prev._hx_index){case 0:case 14:r.oPos+=2,r.bPos+=2;break;case 1:r.iPos+=1,r.fPos+=1;break;case 2:case 15:r.oPos+=4,r.iiPos+=2,r.ffPos+=1,r.fPos+=1;break;case 3:case 19:case 20:r.oPos+=1;break;case 4:r.fPos+=6;break;case 5:case 7:case 9:r.fPos+=4;break;case 6:r.fPos+=3;break;case 8:r.oPos+=3;break;case 10:r.fPos+=5,r.oPos+=1;break;case 12:r.oPos+=4;break;case 16:r.oPos+=4,r.iPos+=1,r.fPos+=2,r.bPos+=1;break;case 17:case 18:r.fPos+=2}r.prev=Ru.DRAW_QUADS,c=(d=r).buffer.o[d.oPos],u=d.buffer.o[d.oPos+1],d=d.buffer.o[d.oPos+2];var p=!1,f=!1,g=(m=null!=u)?u.get_length():Math.floor(c.get_length()/4);if(0==g)return;null!=d&&(d.get_length()>=6*g?f=p=!0:d.get_length()>=4*g?p=!0:d.get_length()>=2*g&&(f=!0)),null==t.__quadBuffer?t.__quadBuffer=new nu(e,ru.QUADS,g,4):t.__quadBuffer.resize(i+g,4);for(var y,b,v,x,w,R,S,A,T,M,P,C,I,k,E=t.__quadBuffer.vertexBufferData,F=l.width,B=l.height,D=0,L=g;D<L;)y=16*(i+(x=D++)),0>(b=m?4*u.get(x):4*x)||(a.setTo(c.get(b),c.get(b+1),c.get(b+2),c.get(b+3)),b=a.width,v=a.height,0>=b||0>=v||(p&&f?(x*=6,o.setTo(d.get(x),d.get(x+1),d.get(x+2),d.get(x+3),d.get(x+4),d.get(x+5))):p?(x*=4,o.setTo(d.get(x),d.get(x+1),d.get(x+2),d.get(x+3),a.x,a.y)):f?(x*=2,o.tx=d.get(x),o.ty=d.get(x+1)):(o.tx=a.x,o.ty=a.y),x=a.x/F,w=a.y/B,R=a.get_right()/F,S=a.get_bottom()/B,A=0*o.a+0*o.c+o.tx,T=0*o.b+0*o.d+o.ty,M=b*o.a+0*o.c+o.tx,P=b*o.b+0*o.d+o.ty,C=0*o.a+v*o.c+o.tx,I=0*o.b+v*o.d+o.ty,k=b*o.a+v*o.c+o.tx,b=b*o.b+v*o.d+o.ty,E[y]=A,E[y+1]=T,E[y+2]=x,E[y+3]=w,E[y+4]=M,E[y+4+1]=P,E[y+4+2]=R,E[y+4+3]=w,E[y+8]=C,E[y+8+1]=I,E[y+8+2]=x,E[y+8+3]=S,E[y+12]=k,E[y+12+1]=b,E[y+12+2]=R,E[y+12+3]=S));i+=g}break;case 12:switch(r.prev._hx_index){case 0:case 14:r.oPos+=2,r.bPos+=2;break;case 1:r.iPos+=1,r.fPos+=1;break;case 2:case 15:r.oPos+=4,r.iiPos+=2,r.ffPos+=1,r.fPos+=1;break;case 3:case 19:case 20:r.oPos+=1;break;case 4:r.fPos+=6;break;case 5:case 7:case 9:r.fPos+=4;break;case 6:r.fPos+=3;break;case 8:r.oPos+=3;break;case 10:r.fPos+=5,r.oPos+=1;break;case 12:r.oPos+=4;break;case 16:r.oPos+=4,r.iPos+=1,r.fPos+=2,r.bPos+=1;break;case 17:case 18:r.fPos+=2}for(r.prev=Ru.DRAW_TRIANGLES,c=(d=r).buffer.o[d.oPos],u=d.buffer.o[d.oPos+1],d=d.buffer.o[d.oPos+2],m=null!=u,g=Math.floor(c.get_length()/2),p=m?u.get_length():g,y=(g=(f=null!=d)&&d.get_length()>=3*g)?4:2,E=g?3:2,F=y+2,B=g?n:s,lu.resizeVertexBuffer(t,g,B+p*F),D=g?t.__vertexBufferDataUVT:t.__vertexBufferData,v=0,x=p;v<x;)L=B+(w=v++)*F,b=m?2*u.get(w):2*w,w=m?u.get(w)*E:w*E,g?(R=d.get(w+2),D[L]=c.get(b)/R,D[L+1]=c.get(b+1)/R,D[L+2]=0,D[L+3]=1/R):(D[L]=c.get(b),D[L+1]=c.get(b+1)),D[L+y]=f?d.get(w):0,D[L+y+1]=f?d.get(w+1):0;g?n+=p*F:s+=p*F;break;case 13:l=null;break;default:switch(r.prev._hx_index){case 0:case 14:r.oPos+=2,r.bPos+=2;break;case 1:r.iPos+=1,r.fPos+=1;break;case 2:case 15:r.oPos+=4,r.iiPos+=2,r.ffPos+=1,r.fPos+=1;break;case 3:case 19:case 20:r.oPos+=1;break;case 4:r.fPos+=6;break;case 5:case 7:case 9:r.fPos+=4;break;case 6:r.fPos+=3;break;case 8:r.oPos+=3;break;case 10:r.fPos+=5,r.oPos+=1;break;case 12:r.oPos+=4;break;case 16:r.oPos+=4,r.iPos+=1,r.fPos+=2,r.bPos+=1;break;case 17:case 18:r.fPos+=2}r.prev=c}}0<i&&t.__quadBuffer.flushVertexBufferData(),0<s&&((null==(i=t.__vertexBuffer)||s>t.__vertexBufferCount)&&(i=e.createVertexBuffer(s,4,0),t.__vertexBuffer=i,t.__vertexBufferCount=s),i.uploadFromTypedArray(u_.toArrayBufferView(t.__vertexBufferData))),0<n&&((null==(i=t.__vertexBufferUVT)||n>t.__vertexBufferCountUVT)&&(i=e.createVertexBuffer(n,6,0),t.__vertexBufferUVT=i,t.__vertexBufferCountUVT=n),i.uploadFromTypedArray(u_.toArrayBufferView(t.__vertexBufferDataUVT))),je.__pool.release(a),yr.__pool.release(o)},lu.isCompatible=function(t){if(null!=t.__owner.__worldScale9Grid)return!1;var e=new Su(t.__commands),i=!1,s=!1,n=!1,r=0;for(t=t.__commands.types;r<t.length;){var a=t[r];switch(++r,a._hx_index){case 0:switch(s=!0,n=i=!1,e.prev._hx_index){case 0:case 14:e.oPos+=2,e.bPos+=2;break;case 1:e.iPos+=1,e.fPos+=1;break;case 2:case 15:e.oPos+=4,e.iiPos+=2,e.ffPos+=1,e.fPos+=1;break;case 3:case 19:case 20:e.oPos+=1;break;case 4:e.fPos+=6;break;case 5:case 7:case 9:e.fPos+=4;break;case 6:e.fPos+=3;break;case 8:e.oPos+=3;break;case 10:e.fPos+=5,e.oPos+=1;break;case 12:e.oPos+=4;break;case 16:e.oPos+=4,e.iPos+=1,e.fPos+=2,e.bPos+=1;break;case 17:case 18:e.fPos+=2}e.prev=a;break;case 1:switch(s=!1,i=!0,n=!1,e.prev._hx_index){case 0:case 14:e.oPos+=2,e.bPos+=2;break;case 1:e.iPos+=1,e.fPos+=1;break;case 2:case 15:e.oPos+=4,e.iiPos+=2,e.ffPos+=1,e.fPos+=1;break;case 3:case 19:case 20:e.oPos+=1;break;case 4:e.fPos+=6;break;case 5:case 7:case 9:e.fPos+=4;break;case 6:e.fPos+=3;break;case 8:e.oPos+=3;break;case 10:e.fPos+=5,e.oPos+=1;break;case 12:e.oPos+=4;break;case 16:e.oPos+=4,e.iPos+=1,e.fPos+=2,e.bPos+=1;break;case 17:case 18:e.fPos+=2}e.prev=a;break;case 3:switch(i=s=!1,n=!0,e.prev._hx_index){case 0:case 14:e.oPos+=2,e.bPos+=2;break;case 1:e.iPos+=1,e.fPos+=1;break;case 2:case 15:e.oPos+=4,e.iiPos+=2,e.ffPos+=1,e.fPos+=1;break;case 3:case 19:case 20:e.oPos+=1;break;case 4:e.fPos+=6;break;case 5:case 7:case 9:e.fPos+=4;break;case 6:e.fPos+=3;break;case 8:e.oPos+=3;break;case 10:e.fPos+=5,e.oPos+=1;break;case 12:e.oPos+=4;break;case 16:e.oPos+=4,e.iPos+=1,e.fPos+=2,e.bPos+=1;break;case 17:case 18:e.fPos+=2}e.prev=a;break;case 8:case 12:if(!s&&!n)return e.destroy(),!1;switch(e.prev._hx_index){case 0:case 14:e.oPos+=2,e.bPos+=2;break;case 1:e.iPos+=1,e.fPos+=1;break;case 2:case 15:e.oPos+=4,e.iiPos+=2,e.ffPos+=1,e.fPos+=1;break;case 3:case 19:case 20:e.oPos+=1;break;case 4:e.fPos+=6;break;case 5:case 7:case 9:e.fPos+=4;break;case 6:e.fPos+=3;break;case 8:e.oPos+=3;break;case 10:e.fPos+=5,e.oPos+=1;break;case 12:e.oPos+=4;break;case 16:e.oPos+=4,e.iPos+=1,e.fPos+=2,e.bPos+=1;break;case 17:case 18:e.fPos+=2}e.prev=a;break;case 9:if(!i)return e.destroy(),!1;switch(e.prev._hx_index){case 0:case 14:e.oPos+=2,e.bPos+=2;break;case 1:e.iPos+=1,e.fPos+=1;break;case 2:case 15:e.oPos+=4,e.iiPos+=2,e.ffPos+=1,e.fPos+=1;break;case 3:case 19:case 20:e.oPos+=1;break;case 4:e.fPos+=6;break;case 5:case 7:case 9:e.fPos+=4;break;case 6:e.fPos+=3;break;case 8:e.oPos+=3;break;case 10:e.fPos+=5,e.oPos+=1;break;case 12:e.oPos+=4;break;case 16:e.oPos+=4,e.iPos+=1,e.fPos+=2,e.bPos+=1;break;case 17:case 18:e.fPos+=2}e.prev=a;break;case 13:switch(n=i=s=!1,e.prev._hx_index){case 0:case 14:e.oPos+=2,e.bPos+=2;break;case 1:e.iPos+=1,e.fPos+=1;break;case 2:case 15:e.oPos+=4,e.iiPos+=2,e.ffPos+=1,e.fPos+=1;break;case 3:case 19:case 20:e.oPos+=1;break;case 4:e.fPos+=6;break;case 5:case 7:case 9:e.fPos+=4;break;case 6:e.fPos+=3;break;case 8:e.oPos+=3;break;case 10:e.fPos+=5,e.oPos+=1;break;case 12:e.oPos+=4;break;case 16:e.oPos+=4,e.iPos+=1,e.fPos+=2,e.bPos+=1;break;case 17:case 18:e.fPos+=2}e.prev=a;break;case 18:case 19:switch(e.prev._hx_index){case 0:case 14:e.oPos+=2,e.bPos+=2;break;case 1:e.iPos+=1,e.fPos+=1;break;case 2:case 15:e.oPos+=4,e.iiPos+=2,e.ffPos+=1,e.fPos+=1;break;case 3:case 19:case 20:e.oPos+=1;break;case 4:e.fPos+=6;break;case 5:case 7:case 9:e.fPos+=4;break;case 6:e.fPos+=3;break;case 8:e.oPos+=3;break;case 10:e.fPos+=5,e.oPos+=1;break;case 12:e.oPos+=4;break;case 16:e.oPos+=4,e.iPos+=1,e.fPos+=2,e.bPos+=1;break;case 17:case 18:e.fPos+=2}e.prev=a;break;default:return e.destroy(),!1}}return e.destroy(),!0},lu.render=function(t,e){if(t.__visible&&0!=t.__commands.get_length())if(null!=t.__bitmap&&!t.__dirty||!lu.isCompatible(t)){e.__softwareRenderer.__pixelRatio=e.__pixelRatio;var i=e.__softwareRenderer.__worldTransform;e.__softwareRenderer.__worldTransform=7==t.__owner.__drawableType?yr.__identity:e.__worldTransform,Zc.render(t,e.__softwareRenderer),e.__softwareRenderer.__worldTransform=i}else{t.__bitmap=null,t.__update(e.__worldTransform,e.__pixelRatio);var s=t.__width,n=t.__height;if(null!=t.__bounds&&1<=s&&1<=n){(t.__hardwareDirty||null==t.__quadBuffer&&null==t.__vertexBuffer&&null==t.__vertexBufferUVT)&&lu.buildBuffer(t,e),i=new Su(t.__commands);for(var r=e.__context3D,a=yr.__pool.get(),o=null,l=null,h=!1,_=!1,c=null,u=0,d=0,m=0,p=0,f=0,g=t.__commands.types;f<g.length;)switch(s=g[f],++f,s._hx_index){case 0:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=Ru.BEGIN_BITMAP_FILL,l=(_=i).buffer.o[_.oPos],h=_.buffer.b[_.bPos],_=_.buffer.b[_.bPos+1],c=o=null;break;case 1:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=Ru.BEGIN_FILL,c=16777215&(l=i).buffer.i[l.iPos]|255*l.buffer.f[l.fPos]<<24,l=o=null;break;case 3:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=Ru.BEGIN_SHADER_FILL,o=(d=i).buffer.o[d.oPos],d=0,l=null==o||null==o.shader||null==o.shader.__bitmap?null:o.shader.__bitmap.input,c=null;break;case 8:if(null!=l){switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=Ru.DRAW_QUADS;var y=i;s=y.buffer.o[y.oPos],s=null!=(y=y.buffer.o[y.oPos+1])?y.get_length():Math.floor(s.get_length()/4);var b=e.__getMatrix(t.__owner.__renderTransform,1);for(null==o||lu.maskRender?(y=lu.maskRender?e.__maskShader:e.__initGraphicsShader(null),e.setShader(y),e.applyMatrix(b),e.applyBitmapData(l,_,h),e.applyAlpha(t.__owner.__worldAlpha),e.applyColorTransform(t.__owner.__worldColorTransform),e.updateShader()):(y=e.__initShaderBuffer(o),e.__setShaderBuffer(o),e.applyMatrix(b),e.applyBitmapData(l,!1,h),e.applyAlpha(t.__owner.__worldAlpha),e.applyColorTransform(t.__owner.__worldColorTransform)),b=u+s;u<b&&!(0>=(s=0|Math.min(b-u,r.__quadIndexBufferElements)));)null==o||lu.maskRender||e.__updateShaderBuffer(d),null!=y.__position&&r.setVertexBufferAt(y.__position.index,t.__quadBuffer.vertexBuffer,16*u,2),null!=y.__textureCoord&&r.setVertexBufferAt(y.__textureCoord.index,t.__quadBuffer.vertexBuffer,16*u+2,2),r.drawTriangles(r.__quadIndexBuffer,0,2*s),d+=4*s,u+=s;e.__clearShader()}break;case 9:if(null!=c){switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=Ru.DRAW_RECT;var v=i;y=v.buffer.f[v.fPos],b=v.buffer.f[v.fPos+1],s=v.buffer.f[v.fPos+2],n=v.buffer.f[v.fPos+3],v=c,lu.tempColorTransform.redOffset=v>>>16&255,lu.tempColorTransform.greenOffset=v>>>8&255,lu.tempColorTransform.blueOffset=255&v,lu.tempColorTransform.__combine(t.__owner.__worldColorTransform),a.identity(),a.scale(s,n),a.tx=y,a.ty=b,a.concat(t.__owner.__renderTransform),s=lu.maskRender?e.__maskShader:e.__initGraphicsShader(null),e.setShader(s),e.applyMatrix(e.__getMatrix(a,1)),e.applyBitmapData(lu.blankBitmapData,!0,h),e.applyAlpha((v>>>24&255)/255*t.__owner.__worldAlpha),e.applyColorTransform(lu.tempColorTransform),e.updateShader(),y=lu.blankBitmapData.getVertexBuffer(r),null!=s.__position&&r.setVertexBufferAt(s.__position.index,y,0,3),null!=s.__textureCoord&&r.setVertexBufferAt(s.__textureCoord.index,y,3,2),s=lu.blankBitmapData.getIndexBuffer(r),r.drawTriangles(s),d+=4,e.__clearShader()}break;case 12:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=Ru.DRAW_TRIANGLES,y=(n=i).buffer.o[n.oPos+1],b=n.buffer.o[n.oPos+2],s=n.buffer.o[n.oPos+3],v=null!=y,n=Math.floor(n.buffer.o[n.oPos].get_length()/2),y=v?y.get_length():n,n=2+(v=(b=null!=b&&b.get_length()>=3*n)?4:2);var x=b?t.__vertexBufferUVT:t.__vertexBuffer,w=b?p:m,R=e.__getMatrix(t.__owner.__renderTransform,1);if(null==o||lu.maskRender){var S=lu.maskRender?e.__maskShader:e.__initGraphicsShader(null);e.setShader(S),e.applyMatrix(R),e.applyBitmapData(l,_,h),e.applyAlpha(t.__owner.__worldAlpha),e.applyColorTransform(t.__owner.__worldColorTransform),e.updateShader()}else S=e.__initShaderBuffer(o),e.__setShaderBuffer(o),e.applyMatrix(R),e.applyBitmapData(l,!1,h),e.applyAlpha(1),e.applyColorTransform(null),e.__updateShaderBuffer(d);switch(null!=S.__position&&r.setVertexBufferAt(S.__position.index,x,w,b?4:2),null!=S.__textureCoord&&r.setVertexBufferAt(S.__textureCoord.index,x,w+v,2),s){case 0:r.setCulling(0);break;case 1:r.setCulling(3);break;case 2:r.setCulling(1)}switch(r.__drawTriangles(0,y),d+=y,b?p+=n*y:m+=n*y,s){case 1:case 2:r.setCulling(0)}e.__clearShader();break;case 13:switch(o=c=l=null,i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=s,r.setCulling(3);break;case 18:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=Ru.MOVE_TO;break;case 19:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=Ru.OVERRIDE_BLEND_MODE,s=i,e.__setBlendMode(s.buffer.o[s.oPos]);break;default:switch(i.prev._hx_index){case 0:case 14:i.oPos+=2,i.bPos+=2;break;case 1:i.iPos+=1,i.fPos+=1;break;case 2:case 15:i.oPos+=4,i.iiPos+=2,i.ffPos+=1,i.fPos+=1;break;case 3:case 19:case 20:i.oPos+=1;break;case 4:i.fPos+=6;break;case 5:case 7:case 9:i.fPos+=4;break;case 6:i.fPos+=3;break;case 8:i.oPos+=3;break;case 10:i.fPos+=5,i.oPos+=1;break;case 12:i.oPos+=4;break;case 16:i.oPos+=4,i.iPos+=1,i.fPos+=2,i.bPos+=1;break;case 17:case 18:i.fPos+=2}i.prev=s}yr.__pool.release(a)}t.__hardwareDirty=!1,t.set___dirty(!1)}},lu.renderMask=function(t,e){lu.maskRender=!0,lu.render(t,e),lu.maskRender=!1},lu.resizeIndexBuffer=function(t,e,i){if(!e){var s=e?null:t.__triangleIndexBufferData,n=null;if(null==s){var r=n=null,a=null,o=null,l=null;n=i=null!=i?new Uint16Array(i):null!=n?new Uint16Array(n):null!=r?new Uint16Array(r.__array):null!=a?new Uint16Array(a):null!=o?null==l?new Uint16Array(o,0):new Uint16Array(o,0,l):null}else i>s.length&&(l=o=a=r=n=null,(n=i=null!=i?new Uint16Array(i):null!=n?new Uint16Array(n):null!=r?new Uint16Array(r.__array):null!=a?new Uint16Array(a):null!=o?null==l?new Uint16Array(o,0):new Uint16Array(o,0,l):null).set(s));null==n||e||(t.__triangleIndexBufferData=n)}},lu.resizeVertexBuffer=function(t,e,i){var s=e?t.__vertexBufferDataUVT:t.__vertexBufferData,n=null;if(null==s){var r=n=null,a=null,o=null,l=null;n=i=null!=i?new Float32Array(i):null!=n?new Float32Array(n):null!=r?new Float32Array(r.__array):null!=a?new Float32Array(a):null!=o?null==l?new Float32Array(o,0):new Float32Array(o,0,l):null}else i>s.length&&(l=o=a=r=n=null,(n=i=null!=i?new Float32Array(i):null!=n?new Float32Array(n):null!=r?new Float32Array(r.__array):null!=a?new Float32Array(a):null!=o?null==l?new Float32Array(o,0):new Float32Array(o,0,l):null).set(s));null!=n&&(e?t.__vertexBufferDataUVT=n:t.__vertexBufferData=n)};var hu=function(){null==this.__glFragmentSource&&(this.__glFragmentSource="varying vec2 openfl_TextureCoordv;\n\n\t\tuniform sampler2D openfl_Texture;\n\n\t\tvoid main(void) {\n\n\t\t\tvec4 color = texture2D (openfl_Texture, openfl_TextureCoordv);\n\n\t\t\tif (color.a == 0.0) {\n\n\t\t\t\tdiscard;\n\n\t\t\t} else {\n\n\t\t\t\tgl_FragColor = color;\n\n\t\t\t}\n\n\t\t}"),null==this.__glVertexSource&&(this.__glVertexSource="attribute vec4 openfl_Position;\n\t\tattribute vec2 openfl_TextureCoord;\n\t\tvarying vec2 openfl_TextureCoordv;\n\n\t\tuniform mat4 openfl_Matrix;\n\n\t\tvoid main(void) {\n\n\t\t\topenfl_TextureCoordv = openfl_TextureCoord;\n\n\t\t\tgl_Position = openfl_Matrix * openfl_Position;\n\n\t\t}"),X_.call(this),this.__isGenerated=!0,this.__initGL()};r["openfl.display._internal.Context3DMaskShader"]=hu,hu.__name__="openfl.display._internal.Context3DMaskShader",hu.__super__=X_,hu.prototype=i(X_.prototype,{openfl_Position:null,openfl_TextureCoord:null,openfl_Matrix:null,openfl_Texture:null,__class__:hu});var _u=function(){};r["openfl.display._internal.Context3DShape"]=_u,_u.__name__="openfl.display._internal.Context3DShape",_u.render=function(t,e){if(t.__renderable&&!(0>=t.__worldAlpha)){var i=t.__graphics;if(null!=i){if(e.__setBlendMode(t.__worldBlendMode),e.__pushMaskObject(t),lu.render(i,e),null!=i.__bitmap&&i.__visible){var s=e.__context3D,n=e.__initDisplayShader(t.__worldShader);e.setShader(n),e.applyBitmapData(i.__bitmap,!0);var r=yr.__pool.get();r.scale(1/i.__bitmapScale,1/i.__bitmapScale),r.concat(i.__worldTransform),e.applyMatrix(e.__getMatrix(r,1)),yr.__pool.release(r),e.applyAlpha(t.__worldAlpha),e.applyColorTransform(t.__worldColorTransform),e.updateShader(),r=i.__bitmap.getVertexBuffer(s),null!=n.__position&&s.setVertexBufferAt(n.__position.index,r,0,3),null!=n.__textureCoord&&s.setVertexBufferAt(n.__textureCoord.index,r,3,2),i=i.__bitmap.getIndexBuffer(s),s.drawTriangles(i),e.__clearShader()}e.__popMaskObject(t)}}},_u.renderMask=function(t,e){var i=t.__graphics;if(null!=i&&(lu.renderMask(i,e),null!=i.__bitmap)){t=e.__context3D;var s=e.__maskShader;e.setShader(s),e.applyBitmapData(i.__bitmap,!0),e.applyMatrix(e.__getMatrix(i.__worldTransform,1)),e.updateShader();var n=i.__bitmap.getVertexBuffer(t);null!=s.__position&&t.setVertexBufferAt(s.__position.index,n,0,3),null!=s.__textureCoord&&t.setVertexBufferAt(s.__textureCoord.index,n,3,2),i=i.__bitmap.getIndexBuffer(t),t.drawTriangles(i),e.__clearShader()}};var cu=function(){};r["openfl.display._internal.Context3DSimpleButton"]=cu,cu.__name__="openfl.display._internal.Context3DSimpleButton",cu.renderDrawable=function(t,e){!t.__renderable||0>=t.__worldAlpha||null==t.__currentState||(e.__pushMaskObject(t),e.__renderDrawable(t.__currentState),e.__popMaskObject(t),e.__renderEvent(t))},cu.renderDrawableMask=function(t,e){null!=t.__currentState&&e.__renderDrawableMask(t.__currentState)};var uu=function(){};r["openfl.display._internal.Context3DTextField"]=uu,uu.__name__="openfl.display._internal.Context3DTextField",uu.render=function(t,e){e.__softwareRenderer.__pixelRatio=e.__pixelRatio;var i=e.__softwareRenderer,s=!((e=t.__textEngine).background||e.border),n=s?e.textBounds:e.bounds,r=t.__graphics,a=0;if(t.__dirty){if(t.__updateLayout(),null==r.__bounds&&(r.__bounds=new je),0==t.get_text().length){a=e.bounds.width-4;var o=t.get_defaultTextFormat().align;switch(a=3==o?0:4==o?a:a/2,o){case 0:a+=t.get_defaultTextFormat().leftMargin/2,a-=t.get_defaultTextFormat().rightMargin/2,a+=t.get_defaultTextFormat().indent/2,a+=t.get_defaultTextFormat().blockIndent/2;break;case 2:case 3:a+=t.get_defaultTextFormat().leftMargin,a+=t.get_defaultTextFormat().indent,a+=t.get_defaultTextFormat().blockIndent;break;case 4:a-=t.get_defaultTextFormat().rightMargin}s&&(n.y=e.bounds.y,n.x=a)}r.__bounds.copyFrom(n)}if(o=i.__pixelRatio,r.__update(i.__worldTransform,o),t.__dirty||r.__softwareDirty){var l=Math.round(r.__width*o),h=Math.round(r.__height*o);if(!(null!=e.text&&""!=e.text||e.background||e.border||e.__hasFocus||1==e.type&&e.selectable)||(0>=e.width||0>=e.height)&&2!=e.autoSize)t.__graphics.__canvas=null,t.__graphics.__context=null,t.__graphics.__bitmap=null,t.__graphics.__softwareDirty=!1,t.__graphics.set___dirty(!1),t.__dirty=!1;else{if(null==t.__graphics.__canvas&&(t.__graphics.__canvas=window.document.createElement("canvas"),t.__graphics.__context=t.__graphics.__canvas.getContext("2d")),$c.context=r.__context,r.__canvas.width=l,r.__canvas.height=h,i.__isDOM&&(r.__canvas.style.width=Math.round(l/o)+"px",r.__canvas.style.height=Math.round(h/o)+"px"),(l=yr.__pool.get()).scale(o,o),l.concat(r.__renderTransform),$c.context.setTransform(l.a,l.b,l.c,l.d,l.tx,l.ty),yr.__pool.release(l),null==$c.clearRect&&($c.clearRect="undefined"!=typeof navigator&&void 0!==navigator.isCocoonJS),$c.clearRect&&$c.context.clearRect(0,0,r.__canvas.width,r.__canvas.height),null!=e.text&&""!=e.text||e.__hasFocus){if(s=e.text,r.__context.imageSmoothingEnabled=!(!i.__allowSmoothing||0==e.antiAliasType&&400==e.sharpness),e.border||e.background){if($c.context.rect(.5,.5,n.width-1,n.height-1),e.background){var _=v.hex(16777215&e.backgroundColor,6);$c.context.fillStyle="#"+_,$c.context.fill()}e.border&&($c.context.lineWidth=1,_=v.hex(16777215&e.borderColor,6),$c.context.strokeStyle="#"+_,$c.context.stroke())}$c.context.textBaseline="alphabetic",$c.context.textAlign="start",i=-t.get_scrollH();var c,u=a=0;for(_=t.get_scrollV()-1;u<_;){var d=u++;a-=e.lineHeights.get(d)}for(l=e.layoutGroups.iterator();l.hasNext();)if(!((h=l.next()).lineIndex<t.get_scrollV()-1)){if(h.lineIndex>e.get_bottomScrollV()-1)break;var m="#"+v.hex(16777215&h.format.color,6);if($c.context.font=dm.getFont(h.format),$c.context.fillStyle=m,$c.context.fillText(s.substring(h.startIndex,h.endIndex),h.offsetX+i-n.x,h.offsetY+h.ascent+a-n.y),-1<t.__caretIndex&&e.selectable)if(t.__selectionIndex==t.__caretIndex){if(t.__showCursor&&h.startIndex<=t.__caretIndex&&h.endIndex>=t.__caretIndex){for(u=c=0,_=t.__caretIndex-h.startIndex;u<_&&(d=u++,!(h.positions.length<=d));)c+=h.positions[d];for(u=0,_=t.get_scrollV(),d=h.lineIndex+1;_<d;){var p=_++;u+=e.lineHeights.get(p-1)}$c.context.beginPath(),_=v.hex(16777215&h.format.color,6),$c.context.strokeStyle="#"+_,$c.context.moveTo(h.offsetX+c-t.get_scrollH()-n.x,u+2-n.y),$c.context.lineWidth=1,$c.context.lineTo(h.offsetX+c-t.get_scrollH()-n.x,u+dm.getFormatHeight(t.get_defaultTextFormat())-1-n.y),$c.context.stroke(),$c.context.closePath()}}else(h.startIndex<=t.__caretIndex&&h.endIndex>=t.__caretIndex||h.startIndex<=t.__selectionIndex&&h.endIndex>=t.__selectionIndex||h.startIndex>t.__caretIndex&&h.endIndex<t.__selectionIndex||h.startIndex>t.__selectionIndex&&h.endIndex<t.__caretIndex)&&(c=0|Math.min(t.__selectionIndex,t.__caretIndex),u=0|Math.max(t.__selectionIndex,t.__caretIndex),h.startIndex>c&&(c=h.startIndex),h.endIndex<u&&(u=h.endIndex),d=t.getCharBoundaries(c),u>=h.endIndex?null!=(_=t.getCharBoundaries(h.endIndex-1))&&(_.x+=_.width+2):_=t.getCharBoundaries(u),null!=d&&null!=_&&($c.context.fillStyle="#000000",$c.context.fillRect(d.x+i-n.x,d.y+a,_.x-d.x,h.height),$c.context.fillStyle="#FFFFFF",$c.context.fillText(s.substring(c,u),i+d.x-n.x,h.offsetY+h.ascent+a)));h.format.underline&&($c.context.beginPath(),$c.context.strokeStyle=m,$c.context.lineWidth=1,m=h.offsetX+i-n.x,c=Math.ceil(h.offsetY+a+h.ascent-n.y)+Math.floor(.185*h.ascent)+.5,$c.context.moveTo(m,c),$c.context.lineTo(m+h.width,c),$c.context.stroke(),$c.context.closePath())}}else if((e.border||e.background)&&(e.border?$c.context.rect(.5,.5,n.width-1,n.height-1):$c.context.rect(0,0,n.width,n.height),e.background&&(_=v.hex(16777215&e.backgroundColor,6),$c.context.fillStyle="#"+_,$c.context.fill()),e.border&&($c.context.lineWidth=1,$c.context.lineCap="square",_=v.hex(16777215&e.borderColor,6),$c.context.strokeStyle="#"+_,$c.context.stroke())),-1<t.__caretIndex&&e.selectable&&t.__showCursor){for(i=-t.get_scrollH()+(s?0:a),u=a=0,_=t.get_scrollV()-1;u<_;)d=u++,a+=e.lineHeights.get(d);$c.context.beginPath(),_=v.hex(16777215&t.get_defaultTextFormat().color,6),$c.context.strokeStyle="#"+_,$c.context.moveTo(i+2.5,a+2.5),$c.context.lineWidth=1,$c.context.lineTo(i+2.5,a+dm.getFormatHeight(t.get_defaultTextFormat())-1),$c.context.stroke(),$c.context.closePath()}r.__bitmap=O_.fromCanvas(t.__graphics.__canvas),r.__bitmapScale=o,r.__visible=!0,t.__dirty=!1,r.__softwareDirty=!1,r.set___dirty(!1)}}t.__graphics.__hardwareDirty=!1},uu.renderDrawable=function(t,e){if(e.__updateCacheBitmap(t,!1),null==t.__cacheBitmap||t.__isCacheBitmapRender){if(uu.render(t,e),!(null==t.opaqueBackground&&null==t.__graphics||!t.__renderable||0>=t.__worldAlpha)){if(null!=t.opaqueBackground&&!t.__isCacheBitmapRender&&0<t.get_width()&&0<t.get_height()){e.__setBlendMode(t.__worldBlendMode),e.__pushMaskObject(t);var i=e.__context3D,s=je.__pool.get();s.setTo(0,0,t.get_width(),t.get_height()),e.__pushMaskRect(s,t.__renderTransform);var n=t.opaqueBackground;i.clear((n>>>16&255)/255,(n>>>8&255)/255,(255&n)/255,1,0,0,1),e.__popMaskRect(),e.__popMaskObject(t),je.__pool.release(s)}null!=t.__graphics&&_u.render(t,e)}}else iu.render(t.__cacheBitmap,e);e.__renderEvent(t)},uu.renderDrawableMask=function(t,e){uu.renderMask(t,e),au.renderDrawableMask(t,e)},uu.renderMask=function(t,e){var i=e.__softwareRenderer,s=!((e=t.__textEngine).background||e.border),n=s?e.textBounds:e.bounds,r=t.__graphics,a=0;if(t.__dirty){if(t.__updateLayout(),null==r.__bounds&&(r.__bounds=new je),0==t.get_text().length){a=e.bounds.width-4;var o=t.get_defaultTextFormat().align;switch(a=3==o?0:4==o?a:a/2,o){case 0:a+=t.get_defaultTextFormat().leftMargin/2,a-=t.get_defaultTextFormat().rightMargin/2,a+=t.get_defaultTextFormat().indent/2,a+=t.get_defaultTextFormat().blockIndent/2;break;case 2:case 3:a+=t.get_defaultTextFormat().leftMargin,a+=t.get_defaultTextFormat().indent,a+=t.get_defaultTextFormat().blockIndent;break;case 4:a-=t.get_defaultTextFormat().rightMargin}s&&(n.y=e.bounds.y,n.x=a)}r.__bounds.copyFrom(n)}if(o=i.__pixelRatio,r.__update(i.__worldTransform,o),t.__dirty||r.__softwareDirty){var l=Math.round(r.__width*o),h=Math.round(r.__height*o);if(!(null!=e.text&&""!=e.text||e.background||e.border||e.__hasFocus||1==e.type&&e.selectable)||(0>=e.width||0>=e.height)&&2!=e.autoSize)t.__graphics.__canvas=null,t.__graphics.__context=null,t.__graphics.__bitmap=null,t.__graphics.__softwareDirty=!1,t.__graphics.set___dirty(!1),t.__dirty=!1;else{if(null==t.__graphics.__canvas&&(t.__graphics.__canvas=window.document.createElement("canvas"),t.__graphics.__context=t.__graphics.__canvas.getContext("2d")),$c.context=r.__context,r.__canvas.width=l,r.__canvas.height=h,i.__isDOM&&(r.__canvas.style.width=Math.round(l/o)+"px",r.__canvas.style.height=Math.round(h/o)+"px"),(l=yr.__pool.get()).scale(o,o),l.concat(r.__renderTransform),$c.context.setTransform(l.a,l.b,l.c,l.d,l.tx,l.ty),yr.__pool.release(l),null==$c.clearRect&&($c.clearRect="undefined"!=typeof navigator&&void 0!==navigator.isCocoonJS),$c.clearRect&&$c.context.clearRect(0,0,r.__canvas.width,r.__canvas.height),null!=e.text&&""!=e.text||e.__hasFocus){if(s=e.text,r.__context.imageSmoothingEnabled=!(!i.__allowSmoothing||0==e.antiAliasType&&400==e.sharpness),e.border||e.background){if($c.context.rect(.5,.5,n.width-1,n.height-1),e.background){var _=v.hex(16777215&e.backgroundColor,6);$c.context.fillStyle="#"+_,$c.context.fill()}e.border&&($c.context.lineWidth=1,_=v.hex(16777215&e.borderColor,6),$c.context.strokeStyle="#"+_,$c.context.stroke())}$c.context.textBaseline="alphabetic",$c.context.textAlign="start",i=-t.get_scrollH();var c,u=a=0;for(_=t.get_scrollV()-1;u<_;){var d=u++;a-=e.lineHeights.get(d)}for(l=e.layoutGroups.iterator();l.hasNext();)if(!((h=l.next()).lineIndex<t.get_scrollV()-1)){if(h.lineIndex>e.get_bottomScrollV()-1)break;var m="#"+v.hex(16777215&h.format.color,6);if($c.context.font=dm.getFont(h.format),$c.context.fillStyle=m,$c.context.fillText(s.substring(h.startIndex,h.endIndex),h.offsetX+i-n.x,h.offsetY+h.ascent+a-n.y),-1<t.__caretIndex&&e.selectable)if(t.__selectionIndex==t.__caretIndex){if(t.__showCursor&&h.startIndex<=t.__caretIndex&&h.endIndex>=t.__caretIndex){for(u=c=0,_=t.__caretIndex-h.startIndex;u<_&&(d=u++,!(h.positions.length<=d));)c+=h.positions[d];for(u=0,_=t.get_scrollV(),d=h.lineIndex+1;_<d;){var p=_++;u+=e.lineHeights.get(p-1)}$c.context.beginPath(),_=v.hex(16777215&h.format.color,6),$c.context.strokeStyle="#"+_,$c.context.moveTo(h.offsetX+c-t.get_scrollH()-n.x,u+2-n.y),$c.context.lineWidth=1,$c.context.lineTo(h.offsetX+c-t.get_scrollH()-n.x,u+dm.getFormatHeight(t.get_defaultTextFormat())-1-n.y),$c.context.stroke(),$c.context.closePath()}}else(h.startIndex<=t.__caretIndex&&h.endIndex>=t.__caretIndex||h.startIndex<=t.__selectionIndex&&h.endIndex>=t.__selectionIndex||h.startIndex>t.__caretIndex&&h.endIndex<t.__selectionIndex||h.startIndex>t.__selectionIndex&&h.endIndex<t.__caretIndex)&&(c=0|Math.min(t.__selectionIndex,t.__caretIndex),u=0|Math.max(t.__selectionIndex,t.__caretIndex),h.startIndex>c&&(c=h.startIndex),h.endIndex<u&&(u=h.endIndex),d=t.getCharBoundaries(c),u>=h.endIndex?null!=(_=t.getCharBoundaries(h.endIndex-1))&&(_.x+=_.width+2):_=t.getCharBoundaries(u),null!=d&&null!=_&&($c.context.fillStyle="#000000",$c.context.fillRect(d.x+i-n.x,d.y+a,_.x-d.x,h.height),$c.context.fillStyle="#FFFFFF",$c.context.fillText(s.substring(c,u),i+d.x-n.x,h.offsetY+h.ascent+a)));h.format.underline&&($c.context.beginPath(),$c.context.strokeStyle=m,$c.context.lineWidth=1,m=h.offsetX+i-n.x,c=Math.ceil(h.offsetY+a+h.ascent-n.y)+Math.floor(.185*h.ascent)+.5,$c.context.moveTo(m,c),$c.context.lineTo(m+h.width,c),$c.context.stroke(),$c.context.closePath())}}else if((e.border||e.background)&&(e.border?$c.context.rect(.5,.5,n.width-1,n.height-1):$c.context.rect(0,0,n.width,n.height),e.background&&(_=v.hex(16777215&e.backgroundColor,6),$c.context.fillStyle="#"+_,$c.context.fill()),e.border&&($c.context.lineWidth=1,$c.context.lineCap="square",_=v.hex(16777215&e.borderColor,6),$c.context.strokeStyle="#"+_,$c.context.stroke())),-1<t.__caretIndex&&e.selectable&&t.__showCursor){for(i=-t.get_scrollH()+(s?0:a),u=a=0,_=t.get_scrollV()-1;u<_;)d=u++,a+=e.lineHeights.get(d);$c.context.beginPath(),_=v.hex(16777215&t.get_defaultTextFormat().color,6),$c.context.strokeStyle="#"+_,$c.context.moveTo(i+2.5,a+2.5),$c.context.lineWidth=1,$c.context.lineTo(i+2.5,a+dm.getFormatHeight(t.get_defaultTextFormat())-1),$c.context.stroke(),$c.context.closePath()}r.__bitmap=O_.fromCanvas(t.__graphics.__canvas),r.__bitmapScale=o,r.__visible=!0,t.__dirty=!1,r.__softwareDirty=!1,r.set___dirty(!1)}}t.__graphics.__hardwareDirty=!1};var du=function(){};r["openfl.display._internal.Context3DTilemap"]=du,du.__name__="openfl.display._internal.Context3DTilemap",du.buildBuffer=function(t,e){if(!t.__renderable||0==t.__group.__tiles.length||0>=t.__worldAlpha)t.__group.__dirty=!1;else{du.numTiles=0,du.vertexBufferData=null!=t.__buffer?t.__buffer.vertexBufferData:null,du.vertexDataPosition=0;var i=je.__pool.get(),s=yr.__pool.get(),n=yr.__pool.get();du.dataPerVertex=4,t.tileAlphaEnabled&&du.dataPerVertex++,t.tileColorTransformEnabled&&(du.dataPerVertex+=8),du.buildBufferTileContainer(t,t.__group,e,n,t.__tileset,t.tileAlphaEnabled,t.__worldAlpha,t.tileColorTransformEnabled,t.__worldColorTransform,null,i,s),t.__buffer.flushVertexBufferData(),je.__pool.release(i),yr.__pool.release(s),yr.__pool.release(n)}},du.buildBufferTileContainer=function(t,e,i,s,n,r,a,o,l,h,_,c,u){null==u&&(u=!0);var d=yr.__pool.get(),m=i.__roundPixels,p=e.__tiles,f=null;f=function(t){t=t.__tiles;for(var e=0,i=0;i<t.length;){var s=t[i];++i,0<s.__length?e+=f(s):++e}return e},u&&du.resizeBuffer(t,du.numTiles+f(e)),u=null;for(var g,y,b,v,x,w,R,S,A,T,M=r?5:4,P=0;P<p.length;){var C=p[P];++P,d.setTo(1,0,0,1,-C.get_originX(),-C.get_originY()),d.concat(C.get_matrix()),d.concat(s),m&&(d.tx=Math.round(d.tx),d.ty=Math.round(d.ty));var I=null!=C.get_tileset()?C.get_tileset():n,k=C.get_alpha()*a,E=C.get_visible();if(C.__dirty=!1,E&&!(0>=k))if(o&&(null!=C.get_colorTransform()?null==l?u=C.get_colorTransform():(null==du.cacheColorTransform&&(du.cacheColorTransform=new br),(u=du.cacheColorTransform).redMultiplier=l.redMultiplier*C.get_colorTransform().redMultiplier,u.greenMultiplier=l.greenMultiplier*C.get_colorTransform().greenMultiplier,u.blueMultiplier=l.blueMultiplier*C.get_colorTransform().blueMultiplier,u.alphaMultiplier=l.alphaMultiplier*C.get_colorTransform().alphaMultiplier,u.redOffset=l.redOffset+C.get_colorTransform().redOffset,u.greenOffset=l.greenOffset+C.get_colorTransform().greenOffset,u.blueOffset=l.blueOffset+C.get_colorTransform().blueOffset,u.alphaOffset=l.alphaOffset+C.get_colorTransform().alphaOffset):u=l),r||(k=1),0<C.__length)du.buildBufferTileContainer(t,C,i,d,I,r,k,o,u,h,_,c,!1);else if(null!=I&&(E=C.get_id(),null!=(g=I.__bitmapData))){if(-1==E){if(null==(y=C.__rect)||0>=y.width||0>=y.height)continue;C=y.x/g.width,I=y.y/g.height,E=y.get_right()/g.width,v=y.get_bottom()/g.height}else{if(null==(g=I.__data[E]))continue;_.setTo(g.x,g.y,g.width,g.height),y=_,C=g.__uvX,I=g.__uvY,E=g.__uvWidth,v=g.__uvHeight}if(g=y.width,b=y.height,y=0*d.a+0*d.c+d.tx,x=0*d.b+0*d.d+d.ty,w=g*d.a+0*d.c+d.tx,R=g*d.b+0*d.d+d.ty,S=0*d.a+b*d.c+d.tx,A=0*d.b+b*d.d+d.ty,T=g*d.a+b*d.c+d.tx,b=g*d.b+b*d.d+d.ty,g=du.vertexDataPosition,du.vertexBufferData[g]=y,du.vertexBufferData[g+1]=x,du.vertexBufferData[g+2]=C,du.vertexBufferData[g+3]=I,du.vertexBufferData[g+du.dataPerVertex]=w,du.vertexBufferData[g+du.dataPerVertex+1]=R,du.vertexBufferData[g+du.dataPerVertex+2]=E,du.vertexBufferData[g+du.dataPerVertex+3]=I,du.vertexBufferData[g+2*du.dataPerVertex]=S,du.vertexBufferData[g+2*du.dataPerVertex+1]=A,du.vertexBufferData[g+2*du.dataPerVertex+2]=C,du.vertexBufferData[g+2*du.dataPerVertex+3]=v,du.vertexBufferData[g+3*du.dataPerVertex]=T,du.vertexBufferData[g+3*du.dataPerVertex+1]=b,du.vertexBufferData[g+3*du.dataPerVertex+2]=E,du.vertexBufferData[g+3*du.dataPerVertex+3]=v,r&&(du.vertexBufferData[g+0*du.dataPerVertex+4]=k,du.vertexBufferData[g+du.dataPerVertex+4]=k,du.vertexBufferData[g+2*du.dataPerVertex+4]=k,du.vertexBufferData[g+3*du.dataPerVertex+4]=k),o)if(null!=u)for(k=0;4>k;)C=k++,du.vertexBufferData[g+du.dataPerVertex*C+M]=u.redMultiplier,du.vertexBufferData[g+du.dataPerVertex*C+M+1]=u.greenMultiplier,du.vertexBufferData[g+du.dataPerVertex*C+M+2]=u.blueMultiplier,du.vertexBufferData[g+du.dataPerVertex*C+M+3]=u.alphaMultiplier,du.vertexBufferData[g+du.dataPerVertex*C+M+4]=u.redOffset,du.vertexBufferData[g+du.dataPerVertex*C+M+5]=u.greenOffset,du.vertexBufferData[g+du.dataPerVertex*C+M+6]=u.blueOffset,du.vertexBufferData[g+du.dataPerVertex*C+M+7]=u.alphaOffset;else for(k=0;4>k;)C=k++,du.vertexBufferData[g+du.dataPerVertex*C+M]=1,du.vertexBufferData[g+du.dataPerVertex*C+M+1]=1,du.vertexBufferData[g+du.dataPerVertex*C+M+2]=1,du.vertexBufferData[g+du.dataPerVertex*C+M+3]=1,du.vertexBufferData[g+du.dataPerVertex*C+M+4]=0,du.vertexBufferData[g+du.dataPerVertex*C+M+5]=0,du.vertexBufferData[g+du.dataPerVertex*C+M+6]=0,du.vertexBufferData[g+du.dataPerVertex*C+M+7]=0;du.vertexDataPosition+=4*du.dataPerVertex}}e.__dirty=!1,yr.__pool.release(d)},du.flush=function(t,e,i){if(null==du.currentShader&&(du.currentShader=e.__defaultDisplayShader),du.bufferPosition>du.lastFlushedPosition&&null!=du.currentBitmapData&&null!=du.currentShader){var s=e.__initDisplayShader(du.currentShader);e.setShader(s),e.applyBitmapData(du.currentBitmapData,t.smoothing),e.applyMatrix(e.__getMatrix(t.__renderTransform,1)),t.tileAlphaEnabled?e.useAlphaArray():e.applyAlpha(t.__worldAlpha),t.tileBlendModeEnabled&&e.__setBlendMode(i),t.tileColorTransformEnabled?(e.applyHasColorTransform(!0),e.useColorTransformArray()):e.applyColorTransform(t.__worldColorTransform),e.updateShader(),i=t.__buffer.vertexBuffer;for(var n,r=du.lastFlushedPosition*du.dataPerVertex*4;du.lastFlushedPosition<du.bufferPosition&&!(0>=(n=0|Math.min(du.bufferPosition-du.lastFlushedPosition,du.context.__quadIndexBufferElements)));){if(null!=s.__position&&du.context.setVertexBufferAt(s.__position.index,i,r,2),null!=s.__textureCoord&&du.context.setVertexBufferAt(s.__textureCoord.index,i,r+2,2),t.tileAlphaEnabled&&null!=s.__alpha&&du.context.setVertexBufferAt(s.__alpha.index,i,r+4,1),t.tileColorTransformEnabled){var a=t.tileAlphaEnabled?5:4;null!=s.__colorMultiplier&&du.context.setVertexBufferAt(s.__colorMultiplier.index,i,r+a,4),null!=s.__colorOffset&&du.context.setVertexBufferAt(s.__colorOffset.index,i,r+a+4,4)}du.context.drawTriangles(du.context.__quadIndexBuffer,0,2*n),du.lastFlushedPosition+=n}e.__clearShader()}du.lastUsedBitmapData=du.currentBitmapData,du.lastUsedShader=du.currentShader},du.render=function(t,e){if(t.__renderable&&!(0>=t.__worldAlpha)&&(du.context=e.__context3D,du.buildBuffer(t,e),0!=du.numTiles)){du.bufferPosition=0,du.lastFlushedPosition=0,du.lastUsedBitmapData=null,du.lastUsedShader=null,du.currentBitmapData=null,du.currentShader=null,du.currentBlendMode=t.__worldBlendMode,t.tileBlendModeEnabled||e.__setBlendMode(du.currentBlendMode),e.__pushMaskObject(t);var i=je.__pool.get();i.setTo(0,0,t.__width,t.__height),e.__pushMaskRect(i,t.__renderTransform),du.renderTileContainer(t,e,t.__group,t.__worldShader,t.__tileset,t.__worldAlpha,t.tileBlendModeEnabled,du.currentBlendMode,null),du.flush(t,e,du.currentBlendMode),e.__popMaskRect(),e.__popMaskObject(t),je.__pool.release(i)}},du.renderDrawable=function(t,e){if(e.__updateCacheBitmap(t,!1),null==t.__cacheBitmap||t.__isCacheBitmapRender){if(!(null==t.opaqueBackground&&null==t.__graphics||!t.__renderable||0>=t.__worldAlpha)){if(null!=t.opaqueBackground&&!t.__isCacheBitmapRender&&0<t.get_width()&&0<t.get_height()){e.__setBlendMode(t.__worldBlendMode),e.__pushMaskObject(t);var i=e.__context3D,s=je.__pool.get();s.setTo(0,0,t.get_width(),t.get_height()),e.__pushMaskRect(s,t.__renderTransform);var n=t.opaqueBackground;i.clear((n>>>16&255)/255,(n>>>8&255)/255,(255&n)/255,1,0,0,1),e.__popMaskRect(),e.__popMaskObject(t),je.__pool.release(s)}null!=t.__graphics&&_u.render(t,e)}du.render(t,e)}else iu.render(t.__cacheBitmap,e);e.__renderEvent(t)},du.renderDrawableMask=function(t,e){null==t.opaqueBackground&&null==t.__graphics||(null!=t.opaqueBackground&&!t.__isCacheBitmapRender&&0<t.get_width()&&t.get_height(),null!=t.__graphics&&_u.renderMask(t,e)),du.renderMask(t,e)},du.renderTileContainer=function(t,e,i,s,n,r,a,o,l){i=i.__tiles;for(var h,_,c,u,d,m=null,p=0;p<i.length;)if(h=i[p],++p,_=null!=h.get_tileset()?h.get_tileset():n,c=h.get_alpha()*r,(u=h.get_visible())&&!(0>=c))if(u=null!=h.get_shader()?h.get_shader():s,a&&(m=null!=h.__blendMode?h.__blendMode:o),0<h.__length)du.renderTileContainer(t,e,h,u,_,c,a,m,l);else if(null!=_&&(d=h.get_id(),null!=(c=_.__bitmapData))){if(-1==d){if(null==(h=h.__rect)||0>=h.width||0>=h.height)continue}else if(null==(h=_.__data[d]))continue;(u!=du.currentShader||c!=du.currentBitmapData&&null!=du.currentBitmapData||du.currentBlendMode!=m)&&du.flush(t,e,du.currentBlendMode),du.currentBitmapData=c,du.currentShader=u,du.currentBlendMode=m,du.bufferPosition++}},du.renderMask=function(t,e){},du.resizeBuffer=function(t,e){du.numTiles=e,null==t.__buffer?t.__buffer=new nu(du.context,ru.QUADS,du.numTiles,du.dataPerVertex):t.__buffer.resize(du.numTiles,du.dataPerVertex),du.vertexBufferData=t.__buffer.vertexBufferData};var mu=function(){};r["openfl.display._internal.Context3DVideo"]=mu,mu.__name__="openfl.display._internal.Context3DVideo",mu.render=function(t,e){if(t.__renderable&&!(0>=t.__worldAlpha)&&null!=t.__stream&&null!=t.__stream.__video){var i=e.__context3D,s=i.gl;if(null!=t.__getTexture(i)){e.__setBlendMode(t.__worldBlendMode),e.__pushMaskObject(t);var n=e.__initDisplayShader(t.__worldShader);e.setShader(n),e.applyBitmapData(null,!0,!1),e.applyMatrix(e.__getMatrix(t.__renderTransform,1)),e.applyAlpha(t.__worldAlpha),e.applyColorTransform(t.__worldColorTransform),null!=n.__textureSize&&(mu.__textureSizeValue[0]=null!=t.__stream?t.__stream.__video.videoWidth:0,mu.__textureSizeValue[1]=null!=t.__stream?t.__stream.__video.videoHeight:0,n.__textureSize.value=mu.__textureSizeValue),e.updateShader(),i.setTextureAt(0,t.__getTexture(i)),i.__flushGLTextures(),s.uniform1i(n.__texture.index,0),t.smoothing?(s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MAG_FILTER,s.LINEAR),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MIN_FILTER,s.LINEAR)):(s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MAG_FILTER,s.NEAREST),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MIN_FILTER,s.NEAREST)),s=t.__getVertexBuffer(i),null!=n.__position&&i.setVertexBufferAt(n.__position.index,s,0,3),null!=n.__textureCoord&&i.setVertexBufferAt(n.__textureCoord.index,s,3,2),n=t.__getIndexBuffer(i),i.drawTriangles(n),e.__clearShader(),e.__popMaskObject(t)}}},mu.renderDrawable=function(t,e){mu.render(t,e),e.__renderEvent(t)},mu.renderDrawableMask=function(t,e){mu.renderMask(t,e)},mu.renderMask=function(t,e){if(null!=t.__stream&&null!=t.__stream.__video){var i=e.__context3D,s=e.__maskShader;e.setShader(s),e.applyBitmapData(hu.opaqueBitmapData,!0),e.applyMatrix(e.__getMatrix(t.__renderTransform,1)),e.updateShader();var n=t.__getVertexBuffer(i);null!=s.__position&&i.setVertexBufferAt(s.__position.index,n,0,3),null!=s.__textureCoord&&i.setVertexBufferAt(s.__textureCoord.index,n,3,2),t=t.__getIndexBuffer(i),i.drawTriangles(t),e.__clearShader()}};var pu=function(){};r["openfl.display._internal.DOMBitmap"]=pu,pu.__name__="openfl.display._internal.DOMBitmap",pu.clear=function(t,e){fu.clear(t,e),null!=t.__image&&(e.element.removeChild(t.__image),t.__image=null,t.__style=null),null!=t.__canvas&&(e.element.removeChild(t.__canvas),t.__canvas=null,t.__style=null)},pu.render=function(t,e){if(null!=t.stage&&t.__worldVisible&&t.__renderable&&null!=t.__bitmapData&&t.__bitmapData.__isValid&&t.__bitmapData.readable){if(e.__pushMaskObject(t),null!=t.__bitmapData.image.buffer.__srcImage){var i=t.__bitmapData.image.buffer.__srcImage.src;v.startsWith(i,"data:")||v.startsWith(i,"blob:")?pu.renderCanvas(t,e):pu.renderImage(t,e)}else pu.renderCanvas(t,e);e.__popMaskObject(t)}else pu.clear(t,e)},pu.renderCanvas=function(t,e){null!=t.__image&&(e.element.removeChild(t.__image),t.__image=null),null==t.__canvas&&(t.__canvas=window.document.createElement("canvas"),t.__context=t.__canvas.getContext("2d"),t.__imageVersion=-1,e.__allowSmoothing&&t.smoothing||(t.__context.imageSmoothingEnabled=!1),e.__initializeElement(t,t.__canvas)),t.__imageVersion!=t.__bitmapData.image.version&&(Vo.convertToCanvas(t.__bitmapData.image),t.__canvas.width=t.__bitmapData.width+1,t.__canvas.width=t.__bitmapData.width,t.__canvas.height=t.__bitmapData.height,t.__context.drawImage(t.__bitmapData.image.buffer.__srcCanvas,0,0),t.__imageVersion=t.__bitmapData.image.version),e.__updateClip(t),e.__applyStyle(t,!0,!0,!0)},pu.renderDrawable=function(t,e){if(e.__updateCacheBitmap(t,!1),null==t.__cacheBitmap||t.__isCacheBitmapRender){null!=t.opaqueBackground&&!t.__isCacheBitmapRender&&0<t.get_width()&&t.get_height();var i=t.__graphics;if(null!=t.stage&&t.__worldVisible&&t.__renderable&&null!=i){if(Zc.render(i,e.__canvasRenderer),(i.__softwareDirty||t.__worldAlphaChanged||t.__canvas!=i.__canvas)&&(null!=i.__canvas?t.__canvas!=i.__canvas&&(null!=t.__canvas&&e.element.removeChild(t.__canvas),t.__canvas=i.__canvas,t.__context=i.__context,e.__initializeElement(t,t.__canvas)):yu.clear(t,e)),null!=t.__canvas){e.__pushMaskObject(t);var s=t.__renderTransform;t.__renderTransform=i.__worldTransform,i.__transformDirty&&(i.__transformDirty=!1,t.__renderTransformChanged=!0),e.__updateClip(t),e.__applyStyle(t,!0,!0,!0),t.__renderTransform=s,e.__popMaskObject(t)}}else yu.clear(t,e);null!=t.stage&&t.__worldVisible&&t.__renderable&&null!=t.__bitmapData&&t.__bitmapData.__isValid&&t.__bitmapData.readable?(e.__pushMaskObject(t),null!=t.__bitmapData.image.buffer.__srcImage?(s=t.__bitmapData.image.buffer.__srcImage.src,v.startsWith(s,"data:")||v.startsWith(s,"blob:")?pu.renderCanvas(t,e):pu.renderImage(t,e)):pu.renderCanvas(t,e),e.__popMaskObject(t)):pu.clear(t,e)}else e.__renderDrawableClear(t),t.__cacheBitmap.stage=t.stage,null!=(i=t.__cacheBitmap).stage&&i.__worldVisible&&i.__renderable&&null!=i.__bitmapData&&i.__bitmapData.__isValid&&i.__bitmapData.readable?(e.__pushMaskObject(i),null!=i.__bitmapData.image.buffer.__srcImage?(s=i.__bitmapData.image.buffer.__srcImage.src,v.startsWith(s,"data:")||v.startsWith(s,"blob:")?pu.renderCanvas(i,e):pu.renderImage(i,e)):pu.renderCanvas(i,e),e.__popMaskObject(i)):pu.clear(i,e);e.__renderEvent(t)},pu.renderDrawableClear=function(t,e){pu.clear(t,e)},pu.renderImage=function(t,e){null!=t.__canvas&&(e.element.removeChild(t.__canvas),t.__canvas=null),null==t.__image&&(t.__image=window.document.createElement("img"),t.__image.crossOrigin="Anonymous",t.__image.src=t.__bitmapData.image.buffer.__srcImage.src,e.__initializeElement(t,t.__image)),e.__updateClip(t),e.__applyStyle(t,!0,!0,!0)};var fu=function(){};r["openfl.display._internal.DOMDisplayObject"]=fu,fu.__name__="openfl.display._internal.DOMDisplayObject",fu.clear=function(t,e){null!=t.__cacheBitmap&&pu.clear(t.__cacheBitmap,e),yu.clear(t,e)},fu.render=function(t,e){null!=t.opaqueBackground&&!t.__isCacheBitmapRender&&0<t.get_width()&&t.get_height();var i=t.__graphics;if(null!=t.stage&&t.__worldVisible&&t.__renderable&&null!=i){if(Zc.render(i,e.__canvasRenderer),(i.__softwareDirty||t.__worldAlphaChanged||t.__canvas!=i.__canvas)&&(null!=i.__canvas?t.__canvas!=i.__canvas&&(null!=t.__canvas&&e.element.removeChild(t.__canvas),t.__canvas=i.__canvas,t.__context=i.__context,e.__initializeElement(t,t.__canvas)):yu.clear(t,e)),null!=t.__canvas){e.__pushMaskObject(t);var s=t.__renderTransform;t.__renderTransform=i.__worldTransform,i.__transformDirty&&(i.__transformDirty=!1,t.__renderTransformChanged=!0),e.__updateClip(t),e.__applyStyle(t,!0,!0,!0),t.__renderTransform=s,e.__popMaskObject(t)}}else yu.clear(t,e)},fu.renderDrawable=function(t,e){if(e.__updateCacheBitmap(t,!1),null==t.__cacheBitmap||t.__isCacheBitmapRender){null!=t.opaqueBackground&&!t.__isCacheBitmapRender&&0<t.get_width()&&t.get_height();var i=t.__graphics;if(null!=t.stage&&t.__worldVisible&&t.__renderable&&null!=i){if(Zc.render(i,e.__canvasRenderer),(i.__softwareDirty||t.__worldAlphaChanged||t.__canvas!=i.__canvas)&&(null!=i.__canvas?t.__canvas!=i.__canvas&&(null!=t.__canvas&&e.element.removeChild(t.__canvas),t.__canvas=i.__canvas,t.__context=i.__context,e.__initializeElement(t,t.__canvas)):yu.clear(t,e)),null!=t.__canvas){e.__pushMaskObject(t);var s=t.__renderTransform;t.__renderTransform=i.__worldTransform,i.__transformDirty&&(i.__transformDirty=!1,t.__renderTransformChanged=!0),e.__updateClip(t),e.__applyStyle(t,!0,!0,!0),t.__renderTransform=s,e.__popMaskObject(t)}}else yu.clear(t,e)}else e.__renderDrawableClear(t),t.__cacheBitmap.stage=t.stage,null!=(i=t.__cacheBitmap).stage&&i.__worldVisible&&i.__renderable&&null!=i.__bitmapData&&i.__bitmapData.__isValid&&i.__bitmapData.readable?(e.__pushMaskObject(i),null!=i.__bitmapData.image.buffer.__srcImage?(s=i.__bitmapData.image.buffer.__srcImage.src,v.startsWith(s,"data:")||v.startsWith(s,"blob:")?pu.renderCanvas(i,e):pu.renderImage(i,e)):pu.renderCanvas(i,e),e.__popMaskObject(i)):pu.clear(i,e);e.__renderEvent(t)},fu.renderDrawableClear=function(t,e){fu.clear(t,e)};var gu=function(){};r["openfl.display._internal.DOMDisplayObjectContainer"]=gu,gu.__name__="openfl.display._internal.DOMDisplayObjectContainer",gu.renderDrawable=function(t,e){for(var i=t.__removedChildren.iterator();i.hasNext();){var s=i.next();null==s.stage&&e.__renderDrawable(s)}for(i=t.__removedChildren.iterator();i.hasNext();)null==(s=i.next()).stage&&s.__cleanup();if(t.__removedChildren.set_length(0),fu.renderDrawable(t,e),null==t.__cacheBitmap||t.__isCacheBitmapRender){if(e.__pushMaskObject(t),null!=e.__stage){for(i=0,s=t.__children;i<s.length;)n=s[i],++i,e.__renderDrawable(n),n.__renderDirty=!1;t.__renderDirty=!1}else for(i=0,s=t.__children;i<s.length;)n=s[i],++i,e.__renderDrawable(n);e.__popMaskObject(t)}else{for(i=0,s=t.__children;i<s.length;){var n=s[i];++i,e.__renderDrawableClear(n)}yu.clear(t,e),t.__cacheBitmap.stage=t.stage}},gu.renderDrawableClear=function(t,e){for(var i=t.__removedChildren.iterator();i.hasNext();){var s=i.next();null==s.stage&&e.__renderDrawableClear(s)}for(i=t.__removedChildren.iterator();i.hasNext();)null==(s=i.next()).stage&&s.__cleanup();for(t.__removedChildren.set_length(0),i=0,s=t.__children;i<s.length;){var n=s[i];++i,e.__renderDrawableClear(n)}fu.clear(t,e)};var yu=function(){};r["openfl.display._internal.DOMShape"]=yu,yu.__name__="openfl.display._internal.DOMShape",yu.clear=function(t,e){null!=t.__canvas&&(e.element.removeChild(t.__canvas),t.__canvas=null,t.__style=null)},yu.render=function(t,e){var i=t.__graphics;if(null!=t.stage&&t.__worldVisible&&t.__renderable&&null!=i){if(Zc.render(i,e.__canvasRenderer),(i.__softwareDirty||t.__worldAlphaChanged||t.__canvas!=i.__canvas)&&(null!=i.__canvas?t.__canvas!=i.__canvas&&(null!=t.__canvas&&e.element.removeChild(t.__canvas),t.__canvas=i.__canvas,t.__context=i.__context,e.__initializeElement(t,t.__canvas)):yu.clear(t,e)),null!=t.__canvas){e.__pushMaskObject(t);var s=t.__renderTransform;t.__renderTransform=i.__worldTransform,i.__transformDirty&&(i.__transformDirty=!1,t.__renderTransformChanged=!0),e.__updateClip(t),e.__applyStyle(t,!0,!0,!0),t.__renderTransform=s,e.__popMaskObject(t)}}else yu.clear(t,e)};var bu=function(){};r["openfl.display._internal.DOMSimpleButton"]=bu,bu.__name__="openfl.display._internal.DOMSimpleButton",bu.renderDrawable=function(t,e){e.__pushMaskObject(t);for(var i=t.__previousStates.iterator();i.hasNext();){var s=i.next();e.__renderDrawable(s)}t.__previousStates.set_length(0),null!=t.__currentState&&(t.__currentState.stage!=t.stage&&t.__currentState.__setStageReference(t.stage),e.__renderDrawable(t.__currentState)),e.__popMaskObject(t),e.__renderEvent(t)},bu.renderDrawableClear=function(t,e){fu.renderDrawableClear(t,e)};var vu=function(){};r["openfl.display._internal.DOMTextField"]=vu,vu.__name__="openfl.display._internal.DOMTextField",vu.clear=function(t,e){fu.clear(t,e),null!=t.__div&&(e.element.removeChild(t.__div),t.__div=null,t.__style=null)},vu.measureText=function(t){var e=t.__textEngine,i=t.__div;null==i&&((i=window.document.createElement("div")).innerHTML=e.text.replace(/\n/g,"<br>"),i.style.setProperty("font",dm.getFont(t.__textFormat),null),i.style.setProperty("pointer-events","none",null),i.style.position="absolute",i.style.top="110%",window.document.body.appendChild(i)),e.__measuredWidth=i.clientWidth,null==t.__div&&(i.style.width=g.string(e.width-4)+"px"),e.__measuredHeight=i.clientHeight,null==t.__div&&window.document.body.removeChild(i)},vu.render=function(t,e){var i=t.__textEngine;if(null!=t.stage&&t.__worldVisible&&t.__renderable){if(t.__dirty||t.__renderTransformChanged||null==t.__div)if(""!=i.text||i.background||i.border||1==i.type){t.__updateLayout(),null==t.__div&&(t.__div=window.document.createElement("div"),e.__initializeElement(t,t.__div),t.__style.setProperty("outline","none",null),t.__div.addEventListener("input",function(e){e.preventDefault(),t.get_htmlText()!=t.__div.innerHTML&&(t.set_htmlText(t.__div.innerHTML),t.__dirty=!1,t.dispatchEvent(new _d("textInput",!1,!1,t.get_htmlText())))},!0)),i.wordWrap?t.__style.setProperty("word-wrap","break-word",null):t.__style.setProperty("white-space","nowrap",null),t.__style.setProperty("overflow","hidden",null),i.selectable?(t.__style.setProperty("cursor","text",null),t.__style.setProperty("-webkit-user-select","text",null),t.__style.setProperty("-moz-user-select","text",null),t.__style.setProperty("-ms-user-select","text",null),t.__style.setProperty("-o-user-select","text",null)):t.__style.setProperty("cursor","inherit",null),t.__div.contentEditable=1==i.type;var s=t.__style;i.background?s.setProperty("background-color","#"+v.hex(16777215&i.backgroundColor,6),null):s.removeProperty("background-color");var n=i.width,r=i.height,a="";t.__isHTML&&t.__updateText(cm.parse(t.__text,t.get_multiline(),t.__styleSheet,t.__textFormat,t.__textEngine.textFormatRanges));for(var o=-t.get_scrollH(),l=i.layoutGroups.iterator();l.hasNext();){var h=l.next();if(!(h.lineIndex<t.get_scrollV()-1)){if(h.lineIndex>i.get_bottomScrollV()-1)break;if(a+='<div style="',null!=h.format.font&&(a+="font: "+dm.getFont(h.format)+"; "),null!=h.format.color&&(a+="color: #"+v.hex(16777215&h.format.color,6)+"; "),1==h.format.underline&&(a+="text-decoration: underline; "),null!=h.format.align)switch(h.format.align){case 0:a+="text-align: center; ";break;case 2:a+="text-align: justify; ";break;case 4:a+="text-align: right; ";break;default:a+="text-align: left; "}if(null!=h.format.leftMargin&&(a+="padding-left: "+1*h.format.leftMargin+"px; "),null!=h.format.rightMargin&&(a+="padding-right: "+1*h.format.rightMargin+"px; "),null!=h.format.indent&&(a+="text-indent: "+1*h.format.indent+"px; "),a+="left: "+(h.offsetX+o)+"px; top: "+(h.offsetY+0+3)+'px; vertical-align: top; position: absolute;">',null!=h.format.url&&""!=h.format.url){var _="text-decoration: underline; ";null!=h.format.color&&(_+="color: #"+v.hex(16777215&h.format.color,6)+"; "),a+="<a style='"+_+"' href='"+h.format.url+"' target='"+h.format.target+"'>"}a=t.__isHTML?a+v.replace(i.text.substring(h.startIndex,h.endIndex)," ","&nbsp;"):a+v.replace(v.htmlEscape(i.text.substring(h.startIndex,h.endIndex))," ","&nbsp;"),null!=h.format.url&&""!=h.format.url&&(a+="</a>"),a+="</div>"}}i.border?(s.setProperty("border","solid 1px #"+v.hex(16777215&i.borderColor,6),null),t.__renderTransform.translate(-1,-1),t.__renderTransformChanged=!0,t.__transformDirty=!0):""!=s.border&&(s.removeProperty("border"),t.__renderTransformChanged=!0),s.setProperty("width",n+"px",null),s.setProperty("height",r+"px",null),t.__div.innerHTML=a,t.__dirty=!1}else null!=t.__div&&(e.element.removeChild(t.__div),t.__div=null);null!=t.__div&&(i=e.__roundPixels,e.__roundPixels=!0,e.__updateClip(t),e.__applyStyle(t,!0,!0,!0),e.__roundPixels=i)}else vu.clear(t,e)},vu.renderDrawable=function(t,e){if(t.__domRender=!0,e.__updateCacheBitmap(t,t.__forceCachedBitmapUpdate),t.__forceCachedBitmapUpdate=!1,t.__domRender=!1,null==t.__cacheBitmap||t.__isCacheBitmapRender){t.__renderedOnCanvasWhileOnDOM&&(t.__renderedOnCanvasWhileOnDOM=!1,t.__isHTML&&null!=t.__htmlText&&(t.__updateText(t.__htmlText),t.__dirty=!0,t.__layoutDirty=!0,t.__renderDirty||(t.__renderDirty=!0,t.__setParentRenderDirty())));var i=t.__textEngine;if(null!=t.stage&&t.__worldVisible&&t.__renderable){if(t.__dirty||t.__renderTransformChanged||null==t.__div)if(""!=i.text||i.background||i.border||1==i.type){t.__updateLayout(),null==t.__div&&(t.__div=window.document.createElement("div"),e.__initializeElement(t,t.__div),t.__style.setProperty("outline","none",null),t.__div.addEventListener("input",function(e){e.preventDefault(),t.get_htmlText()!=t.__div.innerHTML&&(t.set_htmlText(t.__div.innerHTML),t.__dirty=!1,t.dispatchEvent(new _d("textInput",!1,!1,t.get_htmlText())))},!0)),i.wordWrap?t.__style.setProperty("word-wrap","break-word",null):t.__style.setProperty("white-space","nowrap",null),t.__style.setProperty("overflow","hidden",null),i.selectable?(t.__style.setProperty("cursor","text",null),t.__style.setProperty("-webkit-user-select","text",null),t.__style.setProperty("-moz-user-select","text",null),t.__style.setProperty("-ms-user-select","text",null),t.__style.setProperty("-o-user-select","text",null)):t.__style.setProperty("cursor","inherit",null),t.__div.contentEditable=1==i.type;var s=t.__style;i.background?s.setProperty("background-color","#"+v.hex(16777215&i.backgroundColor,6),null):s.removeProperty("background-color");var n=i.width,r=i.height,a="";t.__isHTML&&t.__updateText(cm.parse(t.__text,t.get_multiline(),t.__styleSheet,t.__textFormat,t.__textEngine.textFormatRanges));for(var o=-t.get_scrollH(),l=i.layoutGroups.iterator();l.hasNext();){var h=l.next();if(!(h.lineIndex<t.get_scrollV()-1)){if(h.lineIndex>i.get_bottomScrollV()-1)break;if(a+='<div style="',null!=h.format.font&&(a+="font: "+dm.getFont(h.format)+"; "),null!=h.format.color&&(a+="color: #"+v.hex(16777215&h.format.color,6)+"; "),1==h.format.underline&&(a+="text-decoration: underline; "),null!=h.format.align)switch(h.format.align){case 0:a+="text-align: center; ";break;case 2:a+="text-align: justify; ";break;case 4:a+="text-align: right; ";break;default:a+="text-align: left; "}if(null!=h.format.leftMargin&&(a+="padding-left: "+1*h.format.leftMargin+"px; "),null!=h.format.rightMargin&&(a+="padding-right: "+1*h.format.rightMargin+"px; "),null!=h.format.indent&&(a+="text-indent: "+1*h.format.indent+"px; "),a+="left: "+(h.offsetX+o)+"px; top: "+(h.offsetY+0+3)+'px; vertical-align: top; position: absolute;">',null!=h.format.url&&""!=h.format.url){var _="text-decoration: underline; ";null!=h.format.color&&(_+="color: #"+v.hex(16777215&h.format.color,6)+"; "),a+="<a style='"+_+"' href='"+h.format.url+"' target='"+h.format.target+"'>"}a=t.__isHTML?a+v.replace(i.text.substring(h.startIndex,h.endIndex)," ","&nbsp;"):a+v.replace(v.htmlEscape(i.text.substring(h.startIndex,h.endIndex))," ","&nbsp;"),null!=h.format.url&&""!=h.format.url&&(a+="</a>"),a+="</div>"}}i.border?(s.setProperty("border","solid 1px #"+v.hex(16777215&i.borderColor,6),null),t.__renderTransform.translate(-1,-1),t.__renderTransformChanged=!0,t.__transformDirty=!0):""!=s.border&&(s.removeProperty("border"),t.__renderTransformChanged=!0),s.setProperty("width",n+"px",null),s.setProperty("height",r+"px",null),t.__div.innerHTML=a,t.__dirty=!1}else null!=t.__div&&(e.element.removeChild(t.__div),t.__div=null);null!=t.__div&&(i=e.__roundPixels,e.__roundPixels=!0,e.__updateClip(t),e.__applyStyle(t,!0,!0,!0),e.__roundPixels=i)}else vu.clear(t,e)}else e.__renderDrawableClear(t),t.__cacheBitmap.stage=t.stage,null!=(i=t.__cacheBitmap).stage&&i.__worldVisible&&i.__renderable&&null!=i.__bitmapData&&i.__bitmapData.__isValid&&i.__bitmapData.readable?(e.__pushMaskObject(i),null!=i.__bitmapData.image.buffer.__srcImage?(s=i.__bitmapData.image.buffer.__srcImage.src,v.startsWith(s,"data:")||v.startsWith(s,"blob:")?pu.renderCanvas(i,e):pu.renderImage(i,e)):pu.renderCanvas(i,e),e.__popMaskObject(i)):pu.clear(i,e);e.__renderEvent(t)},vu.renderDrawableClear=function(t,e){vu.clear(t,e)},vu.__getAttributeMatch=function(t){return null!=t.matched(2)?t.matched(2):t.matched(3)};var xu=function(){};r["openfl.display._internal.DOMTilemap"]=xu,xu.__name__="openfl.display._internal.DOMTilemap",xu.clear=function(t,e){fu.clear(t,e),null!=t.__canvas&&(e.element.removeChild(t.__canvas),t.__canvas=null,t.__style=null)},xu.render=function(t,e){if(null!=t.stage&&t.__worldVisible&&t.__renderable&&0<t.__group.__tiles.length){null==t.__canvas&&(t.__canvas=window.document.createElement("canvas"),t.__context=t.__canvas.getContext("2d"),e.__initializeElement(t,t.__canvas)),t.__canvas.width=t.__width,t.__canvas.height=t.__height,e.__canvasRenderer.context=t.__context;var i=t.__renderTransform;t.__renderTransform=yr.__identity;var s=e.__canvasRenderer;if((null!=t.opaqueBackground||null!=t.__graphics)&&t.__renderable){var n=s.__getAlpha(t.__worldAlpha);if(!(0>=n)){if(null!=t.opaqueBackground&&!t.__isCacheBitmapRender&&0<t.get_width()&&0<t.get_height()){s.__setBlendMode(t.__worldBlendMode),s.__pushMaskObject(t);var r=s.context;s.setTransform(t.__renderTransform,r);var a=t.opaqueBackground;r.fillStyle="rgb("+(a>>>16&255)+","+(a>>>8&255)+","+(255&a)+")",r.fillRect(0,0,t.get_width(),t.get_height()),s.__popMaskObject(t)}if(null!=t.__graphics&&t.__renderable&&!(0>=(n=s.__getAlpha(t.__worldAlpha)))){var o=t.__graphics;if(null!=o){Zc.render(o,s);var l=o.__width,h=o.__height;if(null!=(a=o.__canvas)&&o.__visible&&1<=l&&1<=h){var _=o.__worldTransform;r=s.context;var c=t.__scrollRect,u=t.__worldScale9Grid;if(null==c||0<c.width&&0<c.height){if(s.__setBlendMode(t.__worldBlendMode),s.__pushMaskObject(t),r.globalAlpha=n,null!=u&&0==_.b&&0==_.c){var d=s.__pixelRatio;(n=yr.__pool.get()).translate(_.tx,_.ty),s.setTransform(n,r),yr.__pool.release(n),n=o.__bounds;var m=o.__renderTransform.a/o.__bitmapScale,p=o.__renderTransform.d/o.__bitmapScale,f=m*_.a,g=p*_.d;_=Math.max(1,Math.round(u.x*m)),o=Math.round(u.y*p),c=Math.max(1,Math.round((n.get_right()-u.get_right())*m));var y=Math.round((n.get_bottom()-u.get_bottom())*p);m=Math.round(u.width*m),u=Math.round(u.height*p),p=Math.round(_/d);var b=Math.round(o/d),v=Math.round(c/d);d=Math.round(y/d),f=n.width*f-p-v,n=n.height*g-b-d,s.applySmoothing(r,!1),0!=m&&0!=u?(r.drawImage(a,0,0,_,o,0,0,p,b),r.drawImage(a,_,0,m,o,p,0,f,b),r.drawImage(a,_+m,0,c,o,p+f,0,v,b),r.drawImage(a,0,o,_,u,0,b,p,n),r.drawImage(a,_,o,m,u,p,b,f,n),r.drawImage(a,_+m,o,c,u,p+f,b,v,n),r.drawImage(a,0,o+u,_,y,0,b+n,p,d),r.drawImage(a,_,o+u,m,y,p,b+n,f,d),r.drawImage(a,_+m,o+u,c,y,p+f,b+n,v,d)):0==m&&0!=u?(h=p+f+v,r.drawImage(a,0,0,l,o,0,0,h,b),r.drawImage(a,0,o,l,u,0,b,h,n),r.drawImage(a,0,o+u,l,y,0,b+n,h,d)):0==u&&0!=m&&(l=b+n+d,r.drawImage(a,0,0,_,h,0,0,p,l),r.drawImage(a,_,0,m,h,p,0,f,l),r.drawImage(a,_+m,0,c,h,p+f,0,v,l))}else s.setTransform(_,r),r.drawImage(a,0,0,l,h);s.__popMaskObject(t)}}}}}}s=e.__canvasRenderer,t.__renderable&&0!=t.__group.__tiles.length&&(0>=(n=s.__getAlpha(t.__worldAlpha))||(r=s.context,s.__setBlendMode(t.__worldBlendMode),s.__pushMaskObject(t),(a=je.__pool.get()).setTo(0,0,t.__width,t.__height),s.__pushMaskRect(a,t.__renderTransform),s.__allowSmoothing&&t.smoothing||(r.imageSmoothingEnabled=!1),tu.renderTileContainer(t.__group,s,t.__renderTransform,t.__tileset,s.__allowSmoothing&&t.smoothing,t.tileAlphaEnabled,n,t.tileBlendModeEnabled,t.__worldBlendMode,null,null,a),s.__allowSmoothing&&t.smoothing||(r.imageSmoothingEnabled=!0),s.__popMaskRect(),s.__popMaskObject(t),je.__pool.release(a))),t.__renderTransform=i,e.__canvasRenderer.context=null,e.__updateClip(t),e.__applyStyle(t,!0,!1,!0)}else xu.clear(t,e)},xu.renderDrawable=function(t,e){if(e.__updateCacheBitmap(t,!1),null==t.__cacheBitmap||t.__isCacheBitmapRender)if(null!=t.stage&&t.__worldVisible&&t.__renderable&&0<t.__group.__tiles.length){null==t.__canvas&&(t.__canvas=window.document.createElement("canvas"),t.__context=t.__canvas.getContext("2d"),e.__initializeElement(t,t.__canvas)),t.__canvas.width=t.__width,t.__canvas.height=t.__height,e.__canvasRenderer.context=t.__context;var i=t.__renderTransform;t.__renderTransform=yr.__identity;var s=e.__canvasRenderer;if((null!=t.opaqueBackground||null!=t.__graphics)&&t.__renderable){var n=s.__getAlpha(t.__worldAlpha);if(!(0>=n)){if(null!=t.opaqueBackground&&!t.__isCacheBitmapRender&&0<t.get_width()&&0<t.get_height()){s.__setBlendMode(t.__worldBlendMode),s.__pushMaskObject(t);var r=s.context;s.setTransform(t.__renderTransform,r);var a=t.opaqueBackground;r.fillStyle="rgb("+(a>>>16&255)+","+(a>>>8&255)+","+(255&a)+")",r.fillRect(0,0,t.get_width(),t.get_height()),s.__popMaskObject(t)}if(null!=t.__graphics&&t.__renderable&&!(0>=(n=s.__getAlpha(t.__worldAlpha)))){var o=t.__graphics;if(null!=o){Zc.render(o,s);var l=o.__width,h=o.__height;if(null!=(a=o.__canvas)&&o.__visible&&1<=l&&1<=h){var _=o.__worldTransform;r=s.context;var c=t.__scrollRect,u=t.__worldScale9Grid;if(null==c||0<c.width&&0<c.height){if(s.__setBlendMode(t.__worldBlendMode),s.__pushMaskObject(t),r.globalAlpha=n,null!=u&&0==_.b&&0==_.c){var d=s.__pixelRatio;(n=yr.__pool.get()).translate(_.tx,_.ty),s.setTransform(n,r),yr.__pool.release(n),n=o.__bounds;var m=o.__renderTransform.a/o.__bitmapScale,p=o.__renderTransform.d/o.__bitmapScale,f=m*_.a,g=p*_.d;_=Math.max(1,Math.round(u.x*m)),o=Math.round(u.y*p),c=Math.max(1,Math.round((n.get_right()-u.get_right())*m));var y=Math.round((n.get_bottom()-u.get_bottom())*p);m=Math.round(u.width*m),u=Math.round(u.height*p),p=Math.round(_/d);var b=Math.round(o/d),x=Math.round(c/d);d=Math.round(y/d),f=n.width*f-p-x,n=n.height*g-b-d,s.applySmoothing(r,!1),0!=m&&0!=u?(r.drawImage(a,0,0,_,o,0,0,p,b),r.drawImage(a,_,0,m,o,p,0,f,b),r.drawImage(a,_+m,0,c,o,p+f,0,x,b),r.drawImage(a,0,o,_,u,0,b,p,n),r.drawImage(a,_,o,m,u,p,b,f,n),r.drawImage(a,_+m,o,c,u,p+f,b,x,n),r.drawImage(a,0,o+u,_,y,0,b+n,p,d),r.drawImage(a,_,o+u,m,y,p,b+n,f,d),r.drawImage(a,_+m,o+u,c,y,p+f,b+n,x,d)):0==m&&0!=u?(h=p+f+x,r.drawImage(a,0,0,l,o,0,0,h,b),r.drawImage(a,0,o,l,u,0,b,h,n),r.drawImage(a,0,o+u,l,y,0,b+n,h,d)):0==u&&0!=m&&(l=b+n+d,r.drawImage(a,0,0,_,h,0,0,p,l),r.drawImage(a,_,0,m,h,p,0,f,l),r.drawImage(a,_+m,0,c,h,p+f,0,x,l))}else s.setTransform(_,r),r.drawImage(a,0,0,l,h);s.__popMaskObject(t)}}}}}}s=e.__canvasRenderer,t.__renderable&&0!=t.__group.__tiles.length&&(0>=(n=s.__getAlpha(t.__worldAlpha))||(r=s.context,s.__setBlendMode(t.__worldBlendMode),s.__pushMaskObject(t),(a=je.__pool.get()).setTo(0,0,t.__width,t.__height),s.__pushMaskRect(a,t.__renderTransform),s.__allowSmoothing&&t.smoothing||(r.imageSmoothingEnabled=!1),tu.renderTileContainer(t.__group,s,t.__renderTransform,t.__tileset,s.__allowSmoothing&&t.smoothing,t.tileAlphaEnabled,n,t.tileBlendModeEnabled,t.__worldBlendMode,null,null,a),s.__allowSmoothing&&t.smoothing||(r.imageSmoothingEnabled=!0),s.__popMaskRect(),s.__popMaskObject(t),je.__pool.release(a))),t.__renderTransform=i,e.__canvasRenderer.context=null,e.__updateClip(t),e.__applyStyle(t,!0,!1,!0)}else xu.clear(t,e);else e.__renderDrawableClear(t),t.__cacheBitmap.stage=t.stage,null!=(i=t.__cacheBitmap).stage&&i.__worldVisible&&i.__renderable&&null!=i.__bitmapData&&i.__bitmapData.__isValid&&i.__bitmapData.readable?(e.__pushMaskObject(i),null!=i.__bitmapData.image.buffer.__srcImage?(s=i.__bitmapData.image.buffer.__srcImage.src,v.startsWith(s,"data:")||v.startsWith(s,"blob:")?pu.renderCanvas(i,e):pu.renderImage(i,e)):pu.renderCanvas(i,e),e.__popMaskObject(i)):pu.clear(i,e);e.__renderEvent(t)},xu.renderDrawableClear=function(t,e){xu.clear(t,e)};var wu=function(){};r["openfl.display._internal.DOMVideo"]=wu,wu.__name__="openfl.display._internal.DOMVideo",wu.clear=function(t,e){fu.clear(t,e),t.__active&&(e.element.removeChild(t.__stream.__video),t.__active=!1)},wu.render=function(t,e){null!=t.stage&&null!=t.__stream&&t.__worldVisible&&t.__renderable?(t.__active||(e.__initializeElement(t,t.__stream.__video),t.__active=!0,t.__dirty=!0),t.__dirty&&(t.__stream.__video.width=0|t.__width,t.__stream.__video.height=0|t.__height,t.__dirty=!1),e.__updateClip(t),e.__applyStyle(t,!0,!0,!0)):wu.clear(t,e)},wu.renderDrawable=function(t,e){wu.render(t,e),e.__renderEvent(t)},wu.renderDrawableClear=function(t,e){fu.renderDrawableClear(t,e)};var Su=function(t){this.buffer=t,this.bPos=this.iPos=this.fPos=this.oPos=this.ffPos=this.iiPos=this.tsPos=0,this.prev=Ru.UNKNOWN};r["openfl.display._internal.DrawCommandReader"]=Su,Su.__name__="openfl.display._internal.DrawCommandReader",Su.prototype={buffer:null,bPos:null,iiPos:null,iPos:null,ffPos:null,fPos:null,oPos:null,prev:null,tsPos:null,advance:function(){switch(this.prev._hx_index){case 0:case 14:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:case 19:case 20:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:case 7:case 9:this.fPos+=4;break;case 6:this.fPos+=3;break;case 8:this.oPos+=3;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2}},bool:function(t){return this.buffer.b[this.bPos+t]},destroy:function(){this.buffer=null,this.reset()},fArr:function(t){return this.buffer.ff[this.ffPos+t]},float:function(t){return this.buffer.f[this.fPos+t]},iArr:function(t){return this.buffer.ii[this.iiPos+t]},int:function(t){return this.buffer.i[this.iPos+t]},obj:function(t){return this.buffer.o[this.oPos+t]},readBeginBitmapFill:function(){switch(this.prev._hx_index){case 0:case 14:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:case 19:case 20:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:case 7:case 9:this.fPos+=4;break;case 6:this.fPos+=3;break;case 8:this.oPos+=3;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2}return this.prev=Ru.BEGIN_BITMAP_FILL,this},readBeginFill:function(){switch(this.prev._hx_index){case 0:case 14:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:case 19:case 20:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:case 7:case 9:this.fPos+=4;break;case 6:this.fPos+=3;break;case 8:this.oPos+=3;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2}return this.prev=Ru.BEGIN_FILL,this},readBeginGradientFill:function(){switch(this.prev._hx_index){case 0:case 14:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:case 19:case 20:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:case 7:case 9:this.fPos+=4;break;case 6:this.fPos+=3;break;case 8:this.oPos+=3;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2}return this.prev=Ru.BEGIN_GRADIENT_FILL,this},readBeginShaderFill:function(){switch(this.prev._hx_index){case 0:case 14:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:case 19:case 20:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:case 7:case 9:this.fPos+=4;break;case 6:this.fPos+=3;break;case 8:this.oPos+=3;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2}return this.prev=Ru.BEGIN_SHADER_FILL,this},readCubicCurveTo:function(){switch(this.prev._hx_index){case 0:case 14:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:case 19:case 20:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:case 7:case 9:this.fPos+=4;break;case 6:this.fPos+=3;break;case 8:this.oPos+=3;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2}return this.prev=Ru.CUBIC_CURVE_TO,this},readCurveTo:function(){switch(this.prev._hx_index){case 0:case 14:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:case 19:case 20:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:case 7:case 9:this.fPos+=4;break;case 6:this.fPos+=3;break;case 8:this.oPos+=3;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2}return this.prev=Ru.CURVE_TO,this},readDrawCircle:function(){switch(this.prev._hx_index){case 0:case 14:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:case 19:case 20:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:case 7:case 9:this.fPos+=4;break;case 6:this.fPos+=3;break;case 8:this.oPos+=3;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2}return this.prev=Ru.DRAW_CIRCLE,this},readDrawEllipse:function(){switch(this.prev._hx_index){case 0:case 14:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:case 19:case 20:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:case 7:case 9:this.fPos+=4;break;case 6:this.fPos+=3;break;case 8:this.oPos+=3;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2}return this.prev=Ru.DRAW_ELLIPSE,this},readDrawQuads:function(){switch(this.prev._hx_index){case 0:case 14:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:case 19:case 20:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:case 7:case 9:this.fPos+=4;break;case 6:this.fPos+=3;break;case 8:this.oPos+=3;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2}return this.prev=Ru.DRAW_QUADS,this},readDrawRect:function(){switch(this.prev._hx_index){case 0:case 14:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:case 19:case 20:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:case 7:case 9:this.fPos+=4;break;case 6:this.fPos+=3;break;case 8:this.oPos+=3;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2}return this.prev=Ru.DRAW_RECT,this},readDrawRoundRect:function(){switch(this.prev._hx_index){case 0:case 14:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:case 19:case 20:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:case 7:case 9:this.fPos+=4;break;case 6:this.fPos+=3;break;case 8:this.oPos+=3;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2}return this.prev=Ru.DRAW_ROUND_RECT,this},readDrawTriangles:function(){switch(this.prev._hx_index){case 0:case 14:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:case 19:case 20:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:case 7:case 9:this.fPos+=4;break;case 6:this.fPos+=3;break;case 8:this.oPos+=3;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2}return this.prev=Ru.DRAW_TRIANGLES,this},readEndFill:function(){switch(this.prev._hx_index){case 0:case 14:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:case 19:case 20:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:case 7:case 9:this.fPos+=4;break;case 6:this.fPos+=3;break;case 8:this.oPos+=3;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2}return this.prev=Ru.END_FILL,this},readLineBitmapStyle:function(){switch(this.prev._hx_index){case 0:case 14:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:case 19:case 20:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:case 7:case 9:this.fPos+=4;break;case 6:this.fPos+=3;break;case 8:this.oPos+=3;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2}return this.prev=Ru.LINE_BITMAP_STYLE,this},readLineGradientStyle:function(){switch(this.prev._hx_index){case 0:case 14:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:case 19:case 20:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:case 7:case 9:this.fPos+=4;break;case 6:this.fPos+=3;break;case 8:this.oPos+=3;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2}return this.prev=Ru.LINE_GRADIENT_STYLE,this},readLineStyle:function(){switch(this.prev._hx_index){case 0:case 14:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:case 19:case 20:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:case 7:case 9:this.fPos+=4;break;case 6:this.fPos+=3;break;case 8:this.oPos+=3;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2}return this.prev=Ru.LINE_STYLE,this},readLineTo:function(){switch(this.prev._hx_index){case 0:case 14:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:case 19:case 20:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:case 7:case 9:this.fPos+=4;break;case 6:this.fPos+=3;break;case 8:this.oPos+=3;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2}return this.prev=Ru.LINE_TO,this},readMoveTo:function(){switch(this.prev._hx_index){case 0:case 14:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:case 19:case 20:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:case 7:case 9:this.fPos+=4;break;case 6:this.fPos+=3;break;case 8:this.oPos+=3;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2}return this.prev=Ru.MOVE_TO,this},readOverrideBlendMode:function(){switch(this.prev._hx_index){case 0:case 14:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:case 19:case 20:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:case 7:case 9:this.fPos+=4;break;case 6:this.fPos+=3;break;case 8:this.oPos+=3;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2}return this.prev=Ru.OVERRIDE_BLEND_MODE,this},readOverrideMatrix:function(){switch(this.prev._hx_index){case 0:case 14:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:case 19:case 20:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:case 7:case 9:this.fPos+=4;break;case 6:this.fPos+=3;break;case 8:this.oPos+=3;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2}return this.prev=Ru.OVERRIDE_MATRIX,this},readWindingEvenOdd:function(){switch(this.prev._hx_index){case 0:case 14:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:case 19:case 20:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:case 7:case 9:this.fPos+=4;break;case 6:this.fPos+=3;break;case 8:this.oPos+=3;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2}return this.prev=Ru.WINDING_EVEN_ODD,this},readWindingNonZero:function(){switch(this.prev._hx_index){case 0:case 14:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:case 19:case 20:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:case 7:case 9:this.fPos+=4;break;case 6:this.fPos+=3;break;case 8:this.oPos+=3;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2}return this.prev=Ru.WINDING_NON_ZERO,this},reset:function(){this.bPos=this.iPos=this.fPos=this.oPos=this.ffPos=this.iiPos=this.tsPos=0},skip:function(t){switch(this.prev._hx_index){case 0:case 14:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:case 19:case 20:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:case 7:case 9:this.fPos+=4;break;case 6:this.fPos+=3;break;case 8:this.oPos+=3;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:case 18:this.fPos+=2}this.prev=t},__class__:Su};var Ru=o["openfl.display._internal.DrawCommandType"]={__ename__:"openfl.display._internal.DrawCommandType",__constructs__:null,BEGIN_BITMAP_FILL:{_hx_name:"BEGIN_BITMAP_FILL",_hx_index:0,__enum__:"openfl.display._internal.DrawCommandType",toString:a},BEGIN_FILL:{_hx_name:"BEGIN_FILL",_hx_index:1,__enum__:"openfl.display._internal.DrawCommandType",toString:a},BEGIN_GRADIENT_FILL:{_hx_name:"BEGIN_GRADIENT_FILL",_hx_index:2,__enum__:"openfl.display._internal.DrawCommandType",toString:a},BEGIN_SHADER_FILL:{_hx_name:"BEGIN_SHADER_FILL",_hx_index:3,__enum__:"openfl.display._internal.DrawCommandType",toString:a},CUBIC_CURVE_TO:{_hx_name:"CUBIC_CURVE_TO",_hx_index:4,__enum__:"openfl.display._internal.DrawCommandType",toString:a},CURVE_TO:{_hx_name:"CURVE_TO",_hx_index:5,__enum__:"openfl.display._internal.DrawCommandType",toString:a},DRAW_CIRCLE:{_hx_name:"DRAW_CIRCLE",_hx_index:6,__enum__:"openfl.display._internal.DrawCommandType",toString:a},DRAW_ELLIPSE:{_hx_name:"DRAW_ELLIPSE",_hx_index:7,__enum__:"openfl.display._internal.DrawCommandType",toString:a},DRAW_QUADS:{_hx_name:"DRAW_QUADS",_hx_index:8,__enum__:"openfl.display._internal.DrawCommandType",toString:a},DRAW_RECT:{_hx_name:"DRAW_RECT",_hx_index:9,__enum__:"openfl.display._internal.DrawCommandType",toString:a},DRAW_ROUND_RECT:{_hx_name:"DRAW_ROUND_RECT",_hx_index:10,__enum__:"openfl.display._internal.DrawCommandType",toString:a},DRAW_TILES:{_hx_name:"DRAW_TILES",_hx_index:11,__enum__:"openfl.display._internal.DrawCommandType",toString:a},DRAW_TRIANGLES:{_hx_name:"DRAW_TRIANGLES",_hx_index:12,__enum__:"openfl.display._internal.DrawCommandType",toString:a},END_FILL:{_hx_name:"END_FILL",_hx_index:13,__enum__:"openfl.display._internal.DrawCommandType",toString:a},LINE_BITMAP_STYLE:{_hx_name:"LINE_BITMAP_STYLE",_hx_index:14,__enum__:"openfl.display._internal.DrawCommandType",toString:a},LINE_GRADIENT_STYLE:{_hx_name:"LINE_GRADIENT_STYLE",_hx_index:15,__enum__:"openfl.display._internal.DrawCommandType",toString:a},LINE_STYLE:{_hx_name:"LINE_STYLE",_hx_index:16,__enum__:"openfl.display._internal.DrawCommandType",toString:a},LINE_TO:{_hx_name:"LINE_TO",_hx_index:17,__enum__:"openfl.display._internal.DrawCommandType",toString:a},MOVE_TO:{_hx_name:"MOVE_TO",_hx_index:18,__enum__:"openfl.display._internal.DrawCommandType",toString:a},OVERRIDE_BLEND_MODE:{_hx_name:"OVERRIDE_BLEND_MODE",_hx_index:19,__enum__:"openfl.display._internal.DrawCommandType",toString:a},OVERRIDE_MATRIX:{_hx_name:"OVERRIDE_MATRIX",_hx_index:20,__enum__:"openfl.display._internal.DrawCommandType",toString:a},WINDING_EVEN_ODD:{_hx_name:"WINDING_EVEN_ODD",_hx_index:21,__enum__:"openfl.display._internal.DrawCommandType",toString:a},WINDING_NON_ZERO:{_hx_name:"WINDING_NON_ZERO",_hx_index:22,__enum__:"openfl.display._internal.DrawCommandType",toString:a},UNKNOWN:{_hx_name:"UNKNOWN",_hx_index:23,__enum__:"openfl.display._internal.DrawCommandType",toString:a}};Ru.__constructs__=[Ru.BEGIN_BITMAP_FILL,Ru.BEGIN_FILL,Ru.BEGIN_GRADIENT_FILL,Ru.BEGIN_SHADER_FILL,Ru.CUBIC_CURVE_TO,Ru.CURVE_TO,Ru.DRAW_CIRCLE,Ru.DRAW_ELLIPSE,Ru.DRAW_QUADS,Ru.DRAW_RECT,Ru.DRAW_ROUND_RECT,Ru.DRAW_TILES,Ru.DRAW_TRIANGLES,Ru.END_FILL,Ru.LINE_BITMAP_STYLE,Ru.LINE_GRADIENT_STYLE,Ru.LINE_STYLE,Ru.LINE_TO,Ru.MOVE_TO,Ru.OVERRIDE_BLEND_MODE,Ru.OVERRIDE_MATRIX,Ru.WINDING_EVEN_ODD,Ru.WINDING_NON_ZERO,Ru.UNKNOWN];var Au=function(){};r["openfl.display._internal.FlashRenderer"]=Au,Au.__name__="openfl.display._internal.FlashRenderer",Au.register=function(t){null==Au.instances&&(Au.instances=Nm.toObjectMap(null,!0),I_.get_current().stage.addEventListener("enterFrame",Au.render,!1,-2147483648)),Au.instances.set(t,!0)},Au.render=function(t){for(t=Au.instances.keys();t.hasNext();)t.next().__renderFlash()};var Tu=function(){};r["openfl.display._internal.IDisplayObject"]=Tu,Tu.__name__="openfl.display._internal.IDisplayObject",Tu.__isInterface__=!0,Tu.prototype={__renderFlash:null,__class__:Tu};var Mu=function(){};r["openfl.display._internal.FlashTilemap"]=Mu,Mu.__name__="openfl.display._internal.FlashTilemap",Mu.render=function(t){},Mu.renderTileContainer=function(t,e,i,s,n,r,a,o,l,h,_,c){};var Pu=function(t,e,i,s,n,r,a){for(null==a&&(a=.05),null==r&&(r=!1),Dc.call(this,t,e,i,s,n,r,a),this.p_perm=[],e=0;512>e;)i=e++,this.p_perm[i]=Pu.P[255&i];this.base_factor=.03125,this.setSeed(t)};r["openfl.display._internal.PerlinNoise"]=Pu,Pu.__name__="openfl.display._internal.PerlinNoise",Pu.__super__=Dc,Pu.prototype=i(Dc.prototype,{p_perm:null,x_offset:null,y_offset:null,z_offset:null,base_factor:null,fill:function(t,e,i,s){var n=t.width,r=t.height,a=this.octaves,o=this.octaves_frequencies,l=this.octaves_persistences,h=!(1&~this.channels),_=!(2&~this.channels),c=!(4&~this.channels),u=0;h&&++u,_&&++u,c&&++u;var d=this.grayscale,m=this.stitch_threshold*n|0,p=this.stitch_threshold*r|0,f=e*this.base_factor+this.x_offset;i=i*this.base_factor+this.y_offset,s=s*this.base_factor+this.z_offset;for(var g=0;g<r;){var y=g++;e=f;for(var b=0,v=n;b<v;){for(var x=b++,w=0,R=0,S=0,A=0,T=a;A<T;){var M=A++,P=o[M];M=l[M],w+=this.noise(e*P,i*P,s*P)*M,d||(1<u&&(R+=this.noise((e+1)*P,(i+1)*P,s*P)*M),2<u&&(S+=this.noise((e+2)*P,(i+2)*P,s*P)*M))}A=0,d?A=this.color(w,w,w):h&&_&&c?A=this.color(w,R,S):h&&_?A=this.color(w,R,null):h&&c?A=this.color(w,null,R):_&&c?A=this.color(null,w,R):h?A=this.color(w,null,null):_?A=this.color(null,w,null):c&&(A=this.color(null,null,w)),this.stitch&&(A=this.stitching(t,A,x,y,m,p,n,r)),t.setPixel32(x,y,A),e+=this.base_factor}i+=this.base_factor}},noise:function(t,e,i){var s=t-t%1,n=e-e%1,r=i-i%1;t-=s,e-=n,i-=r;var a=255&s,o=255&n,l=255&r;r=this.fade(t),n=this.fade(e),s=this.fade(i);var h=this.p_perm[a]+o,_=this.p_perm[h]+l;h=this.p_perm[h+1]+l,o=this.p_perm[a+1]+o,a=this.p_perm[o]+l;var c=this.p_perm[o+1]+l,u=t-1,d=e-1,m=i-1,p=15&this.p_perm[c+1];l=(1&p?8>p?-u:-d:8>p?u:d)+(2&p?4>p?-d:14==p?-u:-m:4>p?d:12==p?u:m),o=(1&(p=15&this.p_perm[h+1])?8>p?-t:-d:8>p?t:d)+(2&p?4>p?-d:14==p?-t:-m:4>p?d:12==p?t:m);var f=(1&(p=15&this.p_perm[a+1])?8>p?-u:-e:8>p?u:e)+(2&p?4>p?-e:14==p?-u:-m:4>p?e:12==p?u:m);return m=(1&(p=15&this.p_perm[_+1])?8>p?-t:-e:8>p?t:e)+(2&p?4>p?-e:14==p?-t:-m:4>p?e:12==p?t:m),c=(1&(p=15&this.p_perm[c])?8>p?-u:-d:8>p?u:d)+(2&p?4>p?-d:14==p?-u:-i:4>p?d:12==p?u:i),h=(1&(p=15&this.p_perm[h])?8>p?-t:-d:8>p?t:d)+(2&p?4>p?-d:14==p?-t:-i:4>p?d:12==p?t:i),a=(1&(p=15&this.p_perm[a])?8>p?-u:-e:8>p?u:e)+(2&p?4>p?-e:14==p?-u:-i:4>p?e:12==p?u:i),t=(1&(p=15&this.p_perm[_])?8>p?-t:-e:8>p?t:e)+(2&p?4>p?-e:14==p?-t:-i:4>p?e:12==p?t:i),t+=r*(a-t),(t+=n*(h+r*(c-h)-t))+s*((m+=r*(f-m))+n*(o+r*(l-o)-m)-t)},setSeed:function(t){this.x_offset=t=16807*t%2147483647|0,this.y_offset=t=16807*t%2147483647|0,this.z_offset=16807*t%2147483647|0},__class__:Pu});var Cu=function(t,e,i,s,n,r,a){null==a&&(a=!1),null==r&&(r=!1),null==n&&(n=!1),null==s&&(s=0),null==i&&(i=2),null==e&&(e=5),null==t&&(t=0),this.wrap=t,this.filter=e,this.mipfilter=i,this.lodBias=s,this.ignoreSampler=n,this.centroid=r,this.textureAlpha=a};r["openfl.display._internal.SamplerState"]=Cu,Cu.__name__="openfl.display._internal.SamplerState",Cu.prototype={centroid:null,filter:null,ignoreSampler:null,lodBias:null,mipfilter:null,mipmapGenerated:null,textureAlpha:null,wrap:null,clone:function(){var t=new Cu(this.wrap,this.filter,this.mipfilter,this.lodBias,this.ignoreSampler,this.centroid,this.textureAlpha);return t.mipmapGenerated=this.mipmapGenerated,t},copyFrom:function(t){null==t||t.ignoreSampler||(this.wrap=t.wrap,this.filter=t.filter,this.mipfilter=t.mipfilter,this.lodBias=t.lodBias,this.centroid=t.centroid,this.textureAlpha=t.textureAlpha)},equals:function(t){return null!=t&&this.wrap==t.wrap&&this.filter==t.filter&&this.mipfilter==t.mipfilter&&this.lodBias==t.lodBias&&this.textureAlpha==t.textureAlpha},__class__:Cu};var Iu=function(){this.inputRefs=[],this.inputFilter=[],this.inputMipFilter=[],this.inputs=[],this.inputWrap=[],this.overrideIntNames=[],this.overrideIntValues=[],this.overrideFloatNames=[],this.overrideFloatValues=[],this.overrideBoolNames=[],this.overrideBoolValues=[],this.paramLengths=[],this.paramPositions=[],this.paramRefs_Bool=[],this.paramRefs_Float=[],this.paramRefs_Int=[],this.paramTypes=[]};r["openfl.display._internal.ShaderBuffer"]=Iu,Iu.__name__="openfl.display._internal.ShaderBuffer",Iu.prototype={inputCount:null,inputRefs:null,inputFilter:null,inputMipFilter:null,inputs:null,inputWrap:null,overrideBoolCount:null,overrideBoolNames:null,overrideBoolValues:null,overrideFloatCount:null,overrideFloatNames:null,overrideFloatValues:null,overrideIntCount:null,overrideIntNames:null,overrideIntValues:null,paramBoolCount:null,paramCount:null,paramData:null,paramDataBuffer:null,paramDataLength:null,paramFloatCount:null,paramIntCount:null,paramLengths:null,paramPositions:null,paramRefs_Bool:null,paramRefs_Float:null,paramRefs_Int:null,paramTypes:null,shader:null,addBoolOverride:function(t,e){this.overrideBoolNames[this.overrideBoolCount]=t,this.overrideBoolValues[this.overrideBoolCount]=e,this.overrideBoolCount++},addFloatOverride:function(t,e){this.overrideFloatNames[this.overrideFloatCount]=t,this.overrideFloatValues[this.overrideFloatCount]=e,this.overrideFloatCount++},addIntOverride:function(t,e){this.overrideIntNames[this.overrideIntCount]=t,this.overrideIntValues[this.overrideIntCount]=e,this.overrideIntCount++},clearOverride:function(){this.overrideBoolCount=this.overrideFloatCount=this.overrideIntCount=0},update:function(t){if(this.paramIntCount=this.paramFloatCount=this.paramDataLength=this.paramCount=this.paramBoolCount=this.overrideBoolCount=this.overrideFloatCount=this.overrideIntCount=this.inputCount=0,this.shader=null,null!=t){t.__init(),this.inputCount=t.__inputBitmapData.length;for(var e,i=0,s=this.inputCount;i<s;){var n=i++;e=t.__inputBitmapData[n],this.inputs[n]=e.input,this.inputFilter[n]=e.filter,this.inputMipFilter[n]=e.mipFilter,this.inputRefs[n]=e,this.inputWrap[n]=e.wrap}e=t.__paramBool.length;var r=t.__paramFloat.length,a=t.__paramInt.length;this.paramCount=e+r+a,this.paramBoolCount=e,this.paramFloatCount=r,this.paramIntCount=a;var o=0;for(i=0,s=e;i<s;){n=i++;var l=t.__paramBool[n];this.paramPositions[o]=this.paramDataLength;var h=null!=l.value?l.value.length:0;this.paramLengths[o]=h,this.paramDataLength+=h,this.paramTypes[o]=0,this.paramRefs_Bool[n]=l,++o}for(i=0,s=r;i<s;)n=i++,l=t.__paramFloat[n],this.paramPositions[o]=this.paramDataLength,h=null!=l.value?l.value.length:0,this.paramLengths[o]=h,this.paramDataLength+=h,this.paramTypes[o]=1,this.paramRefs_Float[n]=l,++o;for(i=0,s=a;i<s;)n=i++,l=t.__paramInt[n],this.paramPositions[o]=this.paramDataLength,h=null!=l.value?l.value.length:0,this.paramLengths[o]=h,this.paramDataLength+=h,this.paramTypes[o]=2,this.paramRefs_Int[n]=l,++o;if(0<this.paramDataLength)if(null==this.paramData){i=this.paramDataLength;var _=l=o=a=s=null;this.paramData=i=null!=i?new Float32Array(i):null!=s?new Float32Array(s):null!=a?new Float32Array(a.__array):null!=o?new Float32Array(o):null!=l?null==_?new Float32Array(l,0):new Float32Array(l,0,_):null}else this.paramDataLength>this.paramData.length&&(_=l=o=a=s=null,(i=null!=(i=this.paramDataLength)?new Float32Array(i):null!=s?new Float32Array(s):null!=a?new Float32Array(a.__array):null!=o?new Float32Array(o):null!=l?null==_?new Float32Array(l,0):new Float32Array(l,0,_):null).set(this.paramData),this.paramData=i);for(i=_=l=o=a=0,s=this.paramCount;i<s;)if(n=i++,h=this.paramLengths[n],n<e){n=this.paramRefs_Bool[a],++a;for(var c=0;c<h;){var u=c++;this.paramData[_]=n.value[u]?1:0,++_}}else if(n<e+r)for(n=this.paramRefs_Float[o],++o,c=0;c<h;)u=c++,this.paramData[_]=n.value[u],++_;else for(n=this.paramRefs_Int[l],++l,c=0;c<h;)u=c++,this.paramData[_]=n.value[u],++_;this.shader=t}},__class__:Iu};var Eu=function(t,e,i){var s;this.profile=3,this.driverInfo="OpenGL (Direct blitting)",this.backBufferHeight=this.backBufferWidth=0,A.call(this),this.__stage=t,this.__contextState=e,this.__stage3D=i,this.__context=t.window.context,this.gl=this.__context.webgl,null==this.__contextState&&(this.__contextState=new Ju),this.__state=new Ju,this.__vertexConstants=t=new Float32Array(512),this.__fragmentConstants=t=new Float32Array(512);var n=null;t=[1,1,1,1];var r=s=i=e=null;for(this.__positionScale=t=null!=n?new Float32Array(n):null!=t?new Float32Array(t):null!=e?new Float32Array(e.__array):null!=i?new Float32Array(i):null!=s?null==r?new Float32Array(s,0):new Float32Array(s,0,r):null,this.__programs=new pr,-1==Eu.__glMaxViewportDims&&(Eu.__glMaxViewportDims=this.gl.getParameter(this.gl.MAX_VIEWPORT_DIMS)),this.maxBackBufferHeight=this.maxBackBufferWidth=Eu.__glMaxViewportDims,-1==Eu.__glMaxTextureMaxAnisotropy&&(null!=(t=this.gl.getExtension("EXT_texture_filter_anisotropic"))&&Object.prototype.hasOwnProperty.call(t,"MAX_TEXTURE_MAX_ANISOTROPY_EXT")||(t=this.gl.getExtension("MOZ_EXT_texture_filter_anisotropic")),null!=t&&Object.prototype.hasOwnProperty.call(t,"MAX_TEXTURE_MAX_ANISOTROPY_EXT")||(t=this.gl.getExtension("WEBKIT_EXT_texture_filter_anisotropic")),null!=t?(Eu.__glTextureMaxAnisotropy=t.TEXTURE_MAX_ANISOTROPY_EXT,Eu.__glMaxTextureMaxAnisotropy=this.gl.getParameter(t.MAX_TEXTURE_MAX_ANISOTROPY_EXT)):(Eu.__glTextureMaxAnisotropy=0,Eu.__glMaxTextureMaxAnisotropy=0)),-1==Eu.__glDepthStencil&&(Eu.__glDepthStencil=this.gl.DEPTH_STENCIL),-1==Eu.__glMemoryTotalAvailable&&null!=(t=this.gl.getExtension("NVX_gpu_memory_info"))&&(Eu.__glMemoryTotalAvailable=t.GPU_MEMORY_INFO_DEDICATED_VIDMEM_NVX,Eu.__glMemoryCurrentAvailable=t.GPU_MEMORY_INFO_CURRENT_AVAILABLE_VIDMEM_NVX),null==Eu.__driverInfo&&(t=this.gl.getParameter(this.gl.VENDOR),e=this.gl.getParameter(this.gl.VERSION),i=this.gl.getParameter(this.gl.RENDERER),s=this.gl.getParameter(this.gl.SHADING_LANGUAGE_VERSION),Eu.__driverInfo="OpenGL Vendor="+t+" Version="+e+" Renderer="+i+" GLSL="+s),this.driverInfo=Eu.__driverInfo,this.__quadIndexBufferElements=16383,r=s=i=e=t=null,t=null!=(n=this.__quadIndexBufferCount=6*this.__quadIndexBufferElements)?new Uint16Array(n):null!=t?new Uint16Array(t):null!=e?new Uint16Array(e.__array):null!=i?new Uint16Array(i):null!=s?null==r?new Uint16Array(s,0):new Uint16Array(s,0,r):null,s=i=e=0,r=this.__quadIndexBufferElements;s<r;)s++,t[e]=i,t[e+1]=i+1,t[e+2]=i+2,t[e+3]=i+2,t[e+4]=i+1,t[e+5]=i+3,e+=6,i+=4;this.__quadIndexBuffer=this.createIndexBuffer(this.__quadIndexBufferCount),this.__quadIndexBuffer.uploadFromTypedArray(t)};r["openfl.display3D.Context3D"]=Eu,Eu.__name__="openfl.display3D.Context3D",Eu.__super__=A,Eu.prototype=i(A.prototype,{backBufferHeight:null,backBufferWidth:null,driverInfo:null,maxBackBufferHeight:null,maxBackBufferWidth:null,profile:null,gl:null,__backBufferAntiAlias:null,__backBufferTexture:null,__backBufferWantsBestResolution:null,__backBufferWantsBestResolutionOnBrowserZoom:null,__cleared:null,__context:null,__contextState:null,__renderStage3DProgram:null,__enableErrorChecking:null,__fragmentConstants:null,__frontBufferTexture:null,__positionScale:null,__present:null,__programs:null,__quadIndexBuffer:null,__quadIndexBufferCount:null,__quadIndexBufferElements:null,__stage:null,__stage3D:null,__state:null,__vertexConstants:null,clear:function(t,e,i,s,n,r,a){null==a&&(a=7),null==r&&(r=0),null==n&&(n=1),null==s&&(s=1),null==i&&(i=0),null==e&&(e=0),null==t&&(t=0),this.__flushGLFramebuffer(),this.__flushGLViewport();var o=0;1&a&&(null==this.__state.renderToTexture&&(this.__stage.context3D!=this||this.__stage.__renderer.__cleared||(this.__stage.__renderer.__cleared=!0),this.__cleared=!0),o|=this.gl.COLOR_BUFFER_BIT,1==this.__contextState.colorMaskRed&&1==this.__contextState.colorMaskGreen&&1==this.__contextState.colorMaskBlue&&1==this.__contextState.colorMaskAlpha||(this.gl.colorMask(!0,!0,!0,!0),this.__contextState.colorMaskRed=!0,this.__contextState.colorMaskGreen=!0,this.__contextState.colorMaskBlue=!0,this.__contextState.colorMaskAlpha=!0),this.gl.clearColor(t,e,i,s)),2&a&&(o|=this.gl.DEPTH_BUFFER_BIT,1!=this.__contextState.depthMask&&(this.gl.depthMask(!0),this.__contextState.depthMask=!0),this.gl.clearDepth(n)),4&a&&(o|=this.gl.STENCIL_BUFFER_BIT,255!=this.__contextState.stencilWriteMask&&(this.gl.stencilMask(255),this.__contextState.stencilWriteMask=255),this.gl.clearStencil(r),this.__contextState.stencilWriteMask=255),0!=o&&(this.__setGLScissorTest(!1),this.gl.clear(o))},configureBackBuffer:function(t,e,i,s,n,r){if(null==r&&(r=!1),null==n&&(n=!1),null==s&&(s=!0),n&&(t=t*this.__stage.window.__scale|0,e=e*this.__stage.window.__scale|0),null==this.__stage3D)this.backBufferWidth=t,this.backBufferHeight=e,this.__backBufferAntiAlias=i,this.__state.backBufferEnableDepthAndStencil=s,this.__backBufferWantsBestResolution=n,this.__backBufferWantsBestResolutionOnBrowserZoom=r;else{if(null==this.__backBufferTexture||this.backBufferWidth!=t||this.backBufferHeight!=e){null!=this.__backBufferTexture&&this.__backBufferTexture.dispose(),null!=this.__frontBufferTexture&&this.__frontBufferTexture.dispose(),this.__backBufferTexture=this.createRectangleTexture(t,e,1,!0),this.__frontBufferTexture=this.createRectangleTexture(t,e,1,!0),null==this.__stage3D.__vertexBuffer&&(this.__stage3D.__vertexBuffer=this.createVertexBuffer(4,5));var a=n?t:t*this.__stage.window.__scale|0,o=n?e:e*this.__stage.window.__scale|0;a=M.toFloatVector(null,null,null,[a,o,0,1,1,0,o,0,0,1,a,0,0,1,0,0,0,0,0,0]),this.__stage3D.__vertexBuffer.uploadFromVector(a,0,20),null==this.__stage3D.__indexBuffer&&(this.__stage3D.__indexBuffer=this.createIndexBuffer(6),a=M.toIntVector(null,null,null,[0,1,2,2,1,3]),this.__stage3D.__indexBuffer.uploadFromVector(a,0,6))}this.backBufferWidth=t,this.backBufferHeight=e,this.__backBufferAntiAlias=i,this.__state.backBufferEnableDepthAndStencil=s,this.__backBufferWantsBestResolution=n,this.__backBufferWantsBestResolutionOnBrowserZoom=r,this.__state.__primaryGLFramebuffer=this.__backBufferTexture.__getGLFramebuffer(s,i,0),this.__frontBufferTexture.__getGLFramebuffer(s,i,0)}},createCubeTexture:function(t,e,i,s){return null==s&&(s=0),new Qu(this,t,e,i,s)},createIndexBuffer:function(t,e){return null==e&&(e=1),new Du(this,t,e)},createProgram:function(t){return null==t&&(t=0),new Lu(this,t)},createRectangleTexture:function(t,e,i,s){return new qu(this,t,e,Bu.toString(i),s)},createTexture:function(t,e,i,s,n){return null==n&&(n=0),new $u(this,t,e,i,s,n)},createVertexBuffer:function(t,e,i){return null==i&&(i=1),new Vu(this,t,e,ku.toString(i))},createVideoTexture:function(){return new td(this)},dispose:function(t){this.gl=null,this.__dispose()},drawToBitmapData:function(t,e,i){if(null!=t)if(e=null!=e?e.__toLimeRectangle():new Jl(0,0,this.backBufferWidth,this.backBufferHeight),i=null!=i?i.__toLimeVector2():new Zl,this.__stage.context3D==this){if(null!=this.__stage.window){if(null!=this.__stage3D){var s=0|-this.__stage3D.get_x(),n=0|-this.__stage3D.get_y();i.x=s,i.y=n}n=this.__stage.window.readPixels(),t.image.copyPixels(n,e,i)}}else if(null!=this.__backBufferTexture){s=this.__state.renderToTexture,this.setRenderToBackBuffer(),this.__flushGLFramebuffer(),this.__flushGLViewport();var r=n=null!=(n=this.backBufferWidth*this.backBufferHeight*4)?new Uint8Array(n):null;(n=this.gl).readPixels(0,0,this.backBufferWidth,this.backBufferHeight,this.__backBufferTexture.__format,this.gl.UNSIGNED_BYTE,r),n=new El(new kl(r,this.backBufferWidth,this.backBufferHeight,32,2)),t.image.copyPixels(n,e,i),null!=s&&this.setRenderToTexture(s,this.__state.renderToTextureDepthStencil,this.__state.renderToTextureAntiAlias,this.__state.renderToTextureSurfaceSelector)}},drawTriangles:function(t,e,i){null==i&&(i=-1),null==e&&(e=0),null==this.__state.renderToTexture&&(this.__stage.context3D!=this||this.__stage.__renderer.__cleared?this.__cleared||this.clear(0,0,0,0,1,0,1):this.__stage.__renderer.__clear()),this.__flushGL(),null!=this.__state.program&&this.__state.program.__flush(),i=-1==i?t.__numIndices:3*i,this.__bindGLElementArrayBuffer(t.__id),this.gl.drawElements(this.gl.TRIANGLES,i,this.gl.UNSIGNED_SHORT,2*e)},present:function(){if(this.setRenderToBackBuffer(),null!=this.__stage3D&&null!=this.__backBufferTexture){this.__cleared||this.clear(0,0,0,0,1,0,1);var t=this.__backBufferTexture;this.__backBufferTexture=this.__frontBufferTexture,this.__frontBufferTexture=t,this.__state.__primaryGLFramebuffer=this.__backBufferTexture.__getGLFramebuffer(this.__state.backBufferEnableDepthAndStencil,this.__backBufferAntiAlias,0),this.__cleared=!1}this.__present=!0},setBlendFactors:function(t,e){this.setBlendFactorsSeparate(t,e,t,e)},setBlendFactorsSeparate:function(t,e,i,s){this.__state.blendSourceRGBFactor=t,this.__state.blendDestinationRGBFactor=e,this.__state.blendSourceAlphaFactor=i,this.__state.blendDestinationAlphaFactor=s,this.__setGLBlendEquation(this.gl.FUNC_ADD)},setColorMask:function(t,e,i,s){this.__state.colorMaskRed=t,this.__state.colorMaskGreen=e,this.__state.colorMaskBlue=i,this.__state.colorMaskAlpha=s},setCulling:function(t){this.__state.culling=t},setDepthTest:function(t,e){this.__state.depthMask=t,this.__state.depthCompareMode=e},setProgram:function(t){if(this.__state.program=t,this.__state.shader=null,null!=t)for(var e=0,i=t.__samplerStates.length;e<i;){var s=e++;null==this.__state.samplerStates[s]?this.__state.samplerStates[s]=t.__samplerStates[s].clone():this.__state.samplerStates[s].copyFrom(t.__samplerStates[s])}},setProgramConstantsFromByteArray:function(t,e,i,s,n){if(0!=i&&null!=this.__state.program&&(null==this.__state.program||1!=this.__state.program.__format)){-1==i&&(i=(Fm.get_length(s)>>>2)-n);var r=(t=1==t)?this.__vertexConstants:this.__fragmentConstants;s=Fm.toBytes(s);var a=0;null==a&&(a=0),s=null==a?new Float32Array(s.b.bufferValue):new Float32Array(s.b.bufferValue,a),a=4*e,n=S.toFloat(n)/S.toFloat(4)|0;for(var o=0,l=4*i;o<l;){var h=o++;r[a+h]=s[n+h]}null!=this.__state.program&&this.__state.program.__markDirty(t,e,i)}},setProgramConstantsFromMatrix:function(t,e,i,s){if(null==s&&(s=!1),null!=this.__state.program&&1==this.__state.program.__format)this.__flushGLProgram(),(t=new Float32Array(16))[0]=i.rawData.get(0),t[1]=i.rawData.get(1),t[2]=i.rawData.get(2),t[3]=i.rawData.get(3),t[4]=i.rawData.get(4),t[5]=i.rawData.get(5),t[6]=i.rawData.get(6),t[7]=i.rawData.get(7),t[8]=i.rawData.get(8),t[9]=i.rawData.get(9),t[10]=i.rawData.get(10),t[11]=i.rawData.get(11),t[12]=i.rawData.get(12),t[13]=i.rawData.get(13),t[14]=i.rawData.get(14),t[15]=i.rawData.get(15),Ol.uniformMatrix4fv(this.gl,e,s,t);else{var n=(t=1==t)?this.__vertexConstants:this.__fragmentConstants;i=i.rawData;var r=4*e;s?(n[r++]=i.get(0),n[r++]=i.get(4),n[r++]=i.get(8),n[r++]=i.get(12),n[r++]=i.get(1),n[r++]=i.get(5),n[r++]=i.get(9),n[r++]=i.get(13),n[r++]=i.get(2),n[r++]=i.get(6),n[r++]=i.get(10),n[r++]=i.get(14),n[r++]=i.get(3),n[r++]=i.get(7),n[r++]=i.get(11)):(n[r++]=i.get(0),n[r++]=i.get(1),n[r++]=i.get(2),n[r++]=i.get(3),n[r++]=i.get(4),n[r++]=i.get(5),n[r++]=i.get(6),n[r++]=i.get(7),n[r++]=i.get(8),n[r++]=i.get(9),n[r++]=i.get(10),n[r++]=i.get(11),n[r++]=i.get(12),n[r++]=i.get(13),n[r++]=i.get(14)),n[r++]=i.get(15),null!=this.__state.program&&this.__state.program.__markDirty(t,e,4)}},setProgramConstantsFromVector:function(t,e,i,s){if(null==s&&(s=-1),0!=s&&(null==this.__state.program||1!=this.__state.program.__format)){-1==s&&(s=i.get_length()>>2);for(var n=(t=1==t)?this.__vertexConstants:this.__fragmentConstants,r=0,a=4*e,o=0,l=s;o<l;)o++,n[a++]=i.get(r++),n[a++]=i.get(r++),n[a++]=i.get(r++),n[a++]=i.get(r++);null!=this.__state.program&&this.__state.program.__markDirty(t,e,s)}},setRenderToBackBuffer:function(){this.__state.renderToTexture=null},setRenderToTexture:function(t,e,i,s){null==s&&(s=0),null==i&&(i=0),null==e&&(e=!1),this.__state.renderToTexture=t,this.__state.renderToTextureDepthStencil=e,this.__state.renderToTextureAntiAlias=i,this.__state.renderToTextureSurfaceSelector=s},setSamplerStateAt:function(t,e,i,s){null==this.__state.samplerStates[t]&&(this.__state.samplerStates[t]=new Cu),(t=this.__state.samplerStates[t]).wrap=e,t.filter=i,t.mipfilter=s},setScissorRectangle:function(t){null!=t?(this.__state.scissorEnabled=!0,this.__state.scissorRectangle.copyFrom(t)):this.__state.scissorEnabled=!1},setStencilActions:function(t,e,i,s,n){null==n&&(n=5),null==s&&(s=5),null==i&&(i=5),null==e&&(e=0),null==t&&(t=2),this.__state.stencilTriangleFace=t,this.__state.stencilCompareMode=e,this.__state.stencilPass=i,this.__state.stencilDepthFail=s,this.__state.stencilFail=n},setStencilReferenceValue:function(t,e,i){null==i&&(i=255),null==e&&(e=255),this.__state.stencilReferenceValue=t,this.__state.stencilReadMask=e,this.__state.stencilWriteMask=i},setTextureAt:function(t,e){this.__state.textures[t]=e},setVertexBufferAt:function(t,e,i,s){if(null==s&&(s=4),null==i&&(i=0),!(0>t))if(null==e)this.gl.disableVertexAttribArray(t),this.__bindGLArrayBuffer(null);else switch(this.__bindGLArrayBuffer(e.__id),this.gl.enableVertexAttribArray(t),i*=4,s){case 0:this.gl.vertexAttribPointer(t,4,this.gl.UNSIGNED_BYTE,!0,e.__stride,i);break;case 1:this.gl.vertexAttribPointer(t,1,this.gl.FLOAT,!1,e.__stride,i);break;case 2:this.gl.vertexAttribPointer(t,2,this.gl.FLOAT,!1,e.__stride,i);break;case 3:this.gl.vertexAttribPointer(t,3,this.gl.FLOAT,!1,e.__stride,i);break;case 4:this.gl.vertexAttribPointer(t,4,this.gl.FLOAT,!1,e.__stride,i);break;default:throw new rd}},__bindGLArrayBuffer:function(t){this.__contextState.__currentGLArrayBuffer!=t&&(this.gl.bindBuffer(this.gl.ARRAY_BUFFER,t),this.__contextState.__currentGLArrayBuffer=t)},__bindGLElementArrayBuffer:function(t){this.__contextState.__currentGLElementArrayBuffer!=t&&(this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,t),this.__contextState.__currentGLElementArrayBuffer=t)},__bindGLFramebuffer:function(t){this.__contextState.__currentGLFramebuffer!=t&&(this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,t),this.__contextState.__currentGLFramebuffer=t)},__bindGLTexture2D:function(t){this.gl.bindTexture(this.gl.TEXTURE_2D,t),this.__contextState.__currentGLTexture2D=t},__bindGLTextureCubeMap:function(t){this.gl.bindTexture(this.gl.TEXTURE_CUBE_MAP,t),this.__contextState.__currentGLTextureCubeMap=t},__dispose:function(){this.driverInfo+=" (Disposed)",null!=this.__stage3D&&(this.__stage3D.__indexBuffer=null,this.__stage3D.__vertexBuffer=null,this.__stage3D=this.__stage3D.context3D=null),this.__positionScale=this.__frontBufferTexture=this.__fragmentConstants=this.__renderStage3DProgram=this.__context=this.__backBufferTexture=null,this.__present=!1,this.__vertexConstants=this.__stage=this.__quadIndexBuffer=null},__drawTriangles:function(t,e){null==t&&(t=0),null==this.__state.renderToTexture&&(this.__stage.context3D!=this||this.__stage.__renderer.__cleared?this.__cleared||this.clear(0,0,0,0,1,0,1):this.__stage.__renderer.__clear()),this.__flushGL(),null!=this.__state.program&&this.__state.program.__flush(),this.gl.drawArrays(this.gl.TRIANGLES,t,e)},__flushGL:function(){this.__flushGLProgram(),this.__flushGLFramebuffer(),this.__flushGLViewport(),this.__flushGLBlend(),this.__contextState.colorMaskRed==this.__state.colorMaskRed&&this.__contextState.colorMaskGreen==this.__state.colorMaskGreen&&this.__contextState.colorMaskBlue==this.__state.colorMaskBlue&&this.__contextState.colorMaskAlpha==this.__state.colorMaskAlpha||(this.gl.colorMask(this.__state.colorMaskRed,this.__state.colorMaskGreen,this.__state.colorMaskBlue,this.__state.colorMaskAlpha),this.__contextState.colorMaskRed=this.__state.colorMaskRed,this.__contextState.colorMaskGreen=this.__state.colorMaskGreen,this.__contextState.colorMaskBlue=this.__state.colorMaskBlue,this.__contextState.colorMaskAlpha=this.__state.colorMaskAlpha),this.__flushGLCulling(),this.__flushGLDepth(),this.__flushGLScissor(),this.__flushGLStencil(),this.__flushGLTextures()},__flushGLBlend:function(){this.__contextState.blendDestinationRGBFactor==this.__state.blendDestinationRGBFactor&&this.__contextState.blendSourceRGBFactor==this.__state.blendSourceRGBFactor&&this.__contextState.blendDestinationAlphaFactor==this.__state.blendDestinationAlphaFactor&&this.__contextState.blendSourceAlphaFactor==this.__state.blendSourceAlphaFactor||(this.__setGLBlend(!0),this.__state.blendDestinationRGBFactor==this.__state.blendDestinationAlphaFactor&&this.__state.blendSourceRGBFactor==this.__state.blendSourceAlphaFactor?this.gl.blendFunc(this.__getGLBlend(this.__state.blendSourceRGBFactor),this.__getGLBlend(this.__state.blendDestinationRGBFactor)):this.gl.blendFuncSeparate(this.__getGLBlend(this.__state.blendSourceRGBFactor),this.__getGLBlend(this.__state.blendDestinationRGBFactor),this.__getGLBlend(this.__state.blendSourceAlphaFactor),this.__getGLBlend(this.__state.blendDestinationAlphaFactor)),this.__contextState.blendDestinationRGBFactor=this.__state.blendDestinationRGBFactor,this.__contextState.blendSourceRGBFactor=this.__state.blendSourceRGBFactor,this.__contextState.blendDestinationAlphaFactor=this.__state.blendDestinationAlphaFactor,this.__contextState.blendSourceAlphaFactor=this.__state.blendSourceAlphaFactor)},__flushGLColor:function(){this.__contextState.colorMaskRed==this.__state.colorMaskRed&&this.__contextState.colorMaskGreen==this.__state.colorMaskGreen&&this.__contextState.colorMaskBlue==this.__state.colorMaskBlue&&this.__contextState.colorMaskAlpha==this.__state.colorMaskAlpha||(this.gl.colorMask(this.__state.colorMaskRed,this.__state.colorMaskGreen,this.__state.colorMaskBlue,this.__state.colorMaskAlpha),this.__contextState.colorMaskRed=this.__state.colorMaskRed,this.__contextState.colorMaskGreen=this.__state.colorMaskGreen,this.__contextState.colorMaskBlue=this.__state.colorMaskBlue,this.__contextState.colorMaskAlpha=this.__state.colorMaskAlpha)},__flushGLCulling:function(){if(this.__contextState.culling!=this.__state.culling){if(3==this.__state.culling)this.__setGLCullFace(!1);else switch(this.__setGLCullFace(!0),this.__state.culling){case 0:this.gl.cullFace(this.gl.BACK);break;case 1:this.gl.cullFace(this.gl.FRONT);break;case 2:this.gl.cullFace(this.gl.FRONT_AND_BACK);break;case 3:break;default:throw new rd}this.__contextState.culling=this.__state.culling}},__flushGLDepth:function(){var t=this.__state.depthMask&&(null!=this.__state.renderToTexture?this.__state.renderToTextureDepthStencil:this.__state.backBufferEnableDepthAndStencil);if(this.__contextState.depthMask!=t&&(this.gl.depthMask(t),this.__contextState.depthMask=t),this.__contextState.depthCompareMode!=this.__state.depthCompareMode){switch(this.__state.depthCompareMode){case 0:this.gl.depthFunc(this.gl.ALWAYS);break;case 1:this.gl.depthFunc(this.gl.EQUAL);break;case 2:this.gl.depthFunc(this.gl.GREATER);break;case 3:this.gl.depthFunc(this.gl.GEQUAL);break;case 4:this.gl.depthFunc(this.gl.LESS);break;case 5:this.gl.depthFunc(this.gl.LEQUAL);break;case 6:this.gl.depthFunc(this.gl.NEVER);break;case 7:this.gl.depthFunc(this.gl.NOTEQUAL);break;default:throw new rd}this.__contextState.depthCompareMode=this.__state.depthCompareMode}},__flushGLFramebuffer:function(){if(null!=this.__state.renderToTexture){if(this.__contextState.renderToTexture!=this.__state.renderToTexture||this.__contextState.renderToTextureSurfaceSelector!=this.__state.renderToTextureSurfaceSelector){var t=this.__state.renderToTexture.__getGLFramebuffer(this.__state.renderToTextureDepthStencil,this.__state.renderToTextureAntiAlias,this.__state.renderToTextureSurfaceSelector);this.__bindGLFramebuffer(t),this.__contextState.renderToTexture=this.__state.renderToTexture,this.__contextState.renderToTextureAntiAlias=this.__state.renderToTextureAntiAlias,this.__contextState.renderToTextureDepthStencil=this.__state.renderToTextureDepthStencil,this.__contextState.renderToTextureSurfaceSelector=this.__state.renderToTextureSurfaceSelector}this.__setGLDepthTest(this.__state.renderToTextureDepthStencil),this.__setGLStencilTest(this.__state.renderToTextureDepthStencil),this.__setGLFrontFace(!0)}else{if(null==this.__stage&&0==this.backBufferWidth&&0==this.backBufferHeight)throw new ed("Context3D backbuffer has not been configured");null==this.__contextState.renderToTexture&&this.__contextState.__currentGLFramebuffer==this.__state.__primaryGLFramebuffer&&this.__contextState.backBufferEnableDepthAndStencil==this.__state.backBufferEnableDepthAndStencil||(this.__bindGLFramebuffer(this.__state.__primaryGLFramebuffer),this.__contextState.renderToTexture=null,this.__contextState.backBufferEnableDepthAndStencil=this.__state.backBufferEnableDepthAndStencil),this.__setGLDepthTest(this.__state.backBufferEnableDepthAndStencil),this.__setGLStencilTest(this.__state.backBufferEnableDepthAndStencil),this.__setGLFrontFace(this.__stage.context3D!=this)}},__flushGLProgram:function(){var t=this.__state.shader,e=this.__state.program;this.__contextState.shader!=t&&(null!=this.__contextState.shader&&this.__contextState.shader.__disable(),null!=t&&t.__enable(),this.__contextState.shader=t),this.__contextState.program!=e&&(null!=this.__contextState.program&&this.__contextState.program.__disable(),null!=e&&e.__enable(),this.__contextState.program=e),null!=e&&0==e.__format&&(this.__positionScale[1]=this.__stage.context3D==this&&null==this.__state.renderToTexture?1:-1,e.__setPositionScale(this.__positionScale))},__flushGLScissor:function(){if(this.__state.scissorEnabled){this.__setGLScissorTest(!0),this.__contextState.scissorEnabled=!0;var t=0|this.__state.scissorRectangle.x,e=0|this.__state.scissorRectangle.y,i=0|this.__state.scissorRectangle.width,s=0|this.__state.scissorRectangle.height;this.__backBufferWantsBestResolution&&(t=this.__state.scissorRectangle.x*this.__stage.window.__scale|0,e=this.__state.scissorRectangle.y*this.__stage.window.__scale|0,i=this.__state.scissorRectangle.width*this.__stage.window.__scale|0,s=this.__state.scissorRectangle.height*this.__stage.window.__scale|0),null==this.__state.renderToTexture&&null==this.__stage3D&&(e=(this.__stage.window.__height*this.__stage.window.__scale|0)-(0|this.__state.scissorRectangle.height)-e),this.__contextState.scissorRectangle.x==t&&this.__contextState.scissorRectangle.y==e&&this.__contextState.scissorRectangle.width==i&&this.__contextState.scissorRectangle.height==s||(this.gl.scissor(t,e,i,s),this.__contextState.scissorRectangle.setTo(t,e,i,s))}else this.__contextState.scissorEnabled!=this.__state.scissorEnabled&&(this.__setGLScissorTest(!1),this.__contextState.scissorEnabled=!1)},__flushGLStencil:function(){this.__contextState.stencilTriangleFace==this.__state.stencilTriangleFace&&this.__contextState.stencilPass==this.__state.stencilPass&&this.__contextState.stencilDepthFail==this.__state.stencilDepthFail&&this.__contextState.stencilFail==this.__state.stencilFail||(this.gl.stencilOpSeparate(this.__getGLTriangleFace(this.__state.stencilTriangleFace),this.__getGLStencilAction(this.__state.stencilFail),this.__getGLStencilAction(this.__state.stencilDepthFail),this.__getGLStencilAction(this.__state.stencilPass)),this.__contextState.stencilTriangleFace=this.__state.stencilTriangleFace,this.__contextState.stencilPass=this.__state.stencilPass,this.__contextState.stencilDepthFail=this.__state.stencilDepthFail,this.__contextState.stencilFail=this.__state.stencilFail),this.__contextState.stencilWriteMask!=this.__state.stencilWriteMask&&(this.gl.stencilMask(this.__state.stencilWriteMask),this.__contextState.stencilWriteMask=this.__state.stencilWriteMask),this.__contextState.stencilCompareMode==this.__state.stencilCompareMode&&this.__contextState.stencilReferenceValue==this.__state.stencilReferenceValue&&this.__contextState.stencilReadMask==this.__state.stencilReadMask||(this.gl.stencilFunc(this.__getGLCompareMode(this.__state.stencilCompareMode),this.__state.stencilReferenceValue,this.__state.stencilReadMask),this.__contextState.stencilCompareMode=this.__state.stencilCompareMode,this.__contextState.stencilReferenceValue=this.__state.stencilReferenceValue,this.__contextState.stencilReadMask=this.__state.stencilReadMask)},__flushGLTextures:function(){for(var t,e,i=0,s=0,n=this.__state.textures.length;s<n;){var r=s++;t=this.__state.textures[r],null==(e=this.__state.samplerStates[r])&&(this.__state.samplerStates[r]=new Cu,e=this.__state.samplerStates[r]),this.gl.activeTexture(this.gl.TEXTURE0+i),null!=t?(t.__textureTarget==this.gl.TEXTURE_2D?this.__bindGLTexture2D(t.__getTexture()):this.__bindGLTextureCubeMap(t.__getTexture()),this.__contextState.textures[r]=t,t.__setSamplerState(e)):this.__bindGLTexture2D(null),null!=this.__state.program&&0==this.__state.program.__format&&e.textureAlpha&&(this.gl.activeTexture(this.gl.TEXTURE0+i+4),null!=t&&null!=t.__alphaTexture?(t.__alphaTexture.__textureTarget==this.gl.TEXTURE_2D?this.__bindGLTexture2D(t.__alphaTexture.__getTexture()):this.__bindGLTextureCubeMap(t.__alphaTexture.__getTexture()),t.__alphaTexture.__setSamplerState(e),this.gl.uniform1i(this.__state.program.__agalAlphaSamplerEnabled[i].location,1)):(this.__bindGLTexture2D(null),null!=this.__state.program.__agalAlphaSamplerEnabled[i]&&this.gl.uniform1i(this.__state.program.__agalAlphaSamplerEnabled[i].location,0))),++i}},__flushGLViewport:function(){if(null==this.__state.renderToTexture)if(this.__stage.context3D==this){var t=this.backBufferWidth,e=this.backBufferHeight;null!=this.__stage3D||this.__backBufferWantsBestResolution||(t=this.backBufferWidth*this.__stage.window.__scale|0,e=this.backBufferHeight*this.__stage.window.__scale|0);var i=null==this.__stage3D?0:0|this.__stage3D.get_x(),s=this.__stage.window.__height*this.__stage.window.__scale-e-(null==this.__stage3D?0:this.__stage3D.get_y())|0;this.gl.viewport(i,s,t,e)}else this.gl.viewport(0,0,this.backBufferWidth,this.backBufferHeight);else e=t=0,this.__state.renderToTexture instanceof $u||this.__state.renderToTexture instanceof qu?(t=(e=this.__state.renderToTexture).__width,e=e.__height):this.__state.renderToTexture instanceof Qu&&(e=t=(e=this.__state.renderToTexture).__size),this.gl.viewport(0,0,t,e)},__getGLBlend:function(t){switch(t){case 0:return this.gl.DST_ALPHA;case 1:return this.gl.DST_COLOR;case 2:return this.gl.ONE;case 3:return this.gl.ONE_MINUS_DST_ALPHA;case 4:return this.gl.ONE_MINUS_DST_COLOR;case 5:return this.gl.ONE_MINUS_SRC_ALPHA;case 6:return this.gl.ONE_MINUS_SRC_COLOR;case 7:return this.gl.SRC_ALPHA;case 8:return this.gl.SRC_COLOR;case 9:return this.gl.ZERO;default:throw new rd}},__getGLCompareMode:function(t){switch(t){case 0:return this.gl.ALWAYS;case 1:default:return this.gl.EQUAL;case 2:return this.gl.GREATER;case 3:return this.gl.GEQUAL;case 4:return this.gl.LESS;case 5:return this.gl.LEQUAL;case 6:return this.gl.NEVER;case 7:return this.gl.NOTEQUAL}},__getGLStencilAction:function(t){switch(t){case 0:return this.gl.DECR;case 1:return this.gl.DECR_WRAP;case 2:return this.gl.INCR;case 3:return this.gl.INCR_WRAP;case 4:return this.gl.INVERT;case 5:default:return this.gl.KEEP;case 6:return this.gl.REPLACE;case 7:return this.gl.ZERO}},__getGLTriangleFace:function(t){switch(t){case 0:return this.gl.BACK;case 1:return this.gl.FRONT;case 2:default:return this.gl.FRONT_AND_BACK;case 3:return this.gl.NONE}},__renderStage3D:function(t){var e=t.context3D;if(null!=e&&e!=this&&null!=e.__frontBufferTexture&&t.visible&&0<this.backBufferHeight&&0<this.backBufferWidth){if(null==this.__renderStage3DProgram){var i=new Am;i.assemble(Fu.toString(1),"m44 op, va0, vc0\nmov v0, va1");var s=new Am;s.assemble(Fu.toString(0),"tex ft1, v0, fs0 <2d,nearest,nomip>\nmov oc, ft1"),this.__renderStage3DProgram=this.createProgram(),this.__renderStage3DProgram.upload(i.agalcode,s.agalcode)}this.setProgram(this.__renderStage3DProgram),this.setBlendFactors(2,9),this.setColorMask(!0,!0,!0,!0),this.setCulling(3),this.setDepthTest(!1,0),this.setStencilActions(),this.setStencilReferenceValue(0,0,0),this.setScissorRectangle(null),this.setTextureAt(0,e.__frontBufferTexture),this.setVertexBufferAt(0,t.__vertexBuffer,0,3),this.setVertexBufferAt(1,t.__vertexBuffer,3,2),this.setProgramConstantsFromMatrix(1,0,t.__renderTransform,!0),this.drawTriangles(t.__indexBuffer),this.__present=!0}},__setGLBlend:function(t){this.__contextState.__enableGLBlend!=t&&(t?this.gl.enable(this.gl.BLEND):this.gl.disable(this.gl.BLEND),this.__contextState.__enableGLBlend=t)},__setGLBlendEquation:function(t){this.__contextState.__glBlendEquation!=t&&(this.gl.blendEquation(t),this.__contextState.__glBlendEquation=t)},__setGLCullFace:function(t){this.__contextState.__enableGLCullFace!=t&&(t?this.gl.enable(this.gl.CULL_FACE):this.gl.disable(this.gl.CULL_FACE),this.__contextState.__enableGLCullFace=t)},__setGLDepthTest:function(t){this.__contextState.__enableGLDepthTest!=t&&(t?this.gl.enable(this.gl.DEPTH_TEST):this.gl.disable(this.gl.DEPTH_TEST),this.__contextState.__enableGLDepthTest=t)},__setGLFrontFace:function(t){this.__contextState.__frontFaceGLCCW!=t&&(this.gl.frontFace(t?this.gl.CCW:this.gl.CW),this.__contextState.__frontFaceGLCCW=t)},__setGLScissorTest:function(t){this.__contextState.__enableGLScissorTest!=t&&(t?this.gl.enable(this.gl.SCISSOR_TEST):this.gl.disable(this.gl.SCISSOR_TEST),this.__contextState.__enableGLScissorTest=t)},__setGLStencilTest:function(t){this.__contextState.__enableGLStencilTest!=t&&(t?this.gl.enable(this.gl.STENCIL_TEST):this.gl.disable(this.gl.STENCIL_TEST),this.__contextState.__enableGLStencilTest=t)},get_enableErrorChecking:function(){return this.__enableErrorChecking},set_enableErrorChecking:function(t){return this.__enableErrorChecking=t},get_totalGPUMemory:function(){if(-1!=Eu.__glMemoryCurrentAvailable){var t=this.gl.getParameter(Eu.__glMemoryCurrentAvailable),e=this.gl.getParameter(Eu.__glMemoryTotalAvailable);if(0<e)return 1024*(e-t)}return 0},__class__:Eu,__properties__:{get_totalGPUMemory:"get_totalGPUMemory",set_enableErrorChecking:"set_enableErrorChecking",get_enableErrorChecking:"get_enableErrorChecking"}});var ku={fromString:function(t){switch(t){case"dynamicDraw":return 0;case"staticDraw":return 1;default:return null}},toString:function(t){switch(t){case 0:return"dynamicDraw";case 1:return"staticDraw";default:return null}}},Fu={fromString:function(t){switch(t){case"fragment":return 0;case"vertex":return 1;default:return null}},toString:function(t){switch(t){case 0:return"fragment";case 1:return"vertex";default:return null}}},Bu={fromString:function(t){switch(t){case"bgrPacked565":return 0;case"bgra":return 1;case"bgraPacked4444":return 2;case"compressed":return 3;case"compressedAlpha":return 4;case"rgbaHalfFloat":return 5;default:return null}},toString:function(t){switch(t){case 0:return"bgrPacked565";case 1:return"bgra";case 2:return"bgraPacked4444";case 3:return"compressed";case 4:return"compressedAlpha";case 5:return"rgbaHalfFloat";default:return null}}},Du=function(t,e,i){this.__context=t,this.__numIndices=e,t=this.__context.gl,this.__id=t.createBuffer(),this.__usage=0==i?t.DYNAMIC_DRAW:t.STATIC_DRAW};r["openfl.display3D.IndexBuffer3D"]=Du,Du.__name__="openfl.display3D.IndexBuffer3D",Du.prototype={__context:null,__id:null,__memoryUsage:null,__numIndices:null,__tempUInt16Array:null,__usage:null,dispose:function(){this.__context.gl.deleteBuffer(this.__id)},uploadFromByteArray:function(t,e,i,s){null==(e+=2*i)&&(e=0),s=null!=(t=Fm.toArrayBuffer(t))?null==s?new Uint16Array(t,e):new Uint16Array(t,e,s):null,this.uploadFromTypedArray(s)},uploadFromTypedArray:function(t,e){null!=t&&(e=this.__context.gl,this.__context.__bindGLElementArrayBuffer(this.__id),Ol.bufferData(e,e.ELEMENT_ARRAY_BUFFER,t,this.__usage))},uploadFromVector:function(t,e,i){if(null!=t){var s=e+i,n=this.__tempUInt16Array;for((null==this.__tempUInt16Array||this.__tempUInt16Array.length<i)&&(this.__tempUInt16Array=null!=i?new Uint16Array(i):null,null!=n&&this.__tempUInt16Array.set(n)),i=e;i<s;)n=i++,this.__tempUInt16Array[n-e]=t.get(n);this.uploadFromTypedArray(this.__tempUInt16Array)}},__class__:Du};var Lu=function(t,e){this.__context=t,this.__format=e,0==this.__format?(this.__agalSamplerUsageMask=0,this.__agalUniforms=new E,this.__agalSamplerUniforms=new E,this.__agalAlphaSamplerUniforms=new E,this.__agalAlphaSamplerEnabled=[]):(this.__glslAttribNames=[],this.__glslAttribTypes=[],this.__glslSamplerNames=[],this.__glslUniformLocations=[],this.__glslUniformNames=[],this.__glslUniformTypes=[]),this.__samplerStates=[]};r["openfl.display3D.Program3D"]=Lu,Lu.__name__="openfl.display3D.Program3D",Lu.prototype={__agalAlphaSamplerEnabled:null,__agalAlphaSamplerUniforms:null,__agalFragmentUniformMap:null,__agalPositionScale:null,__agalSamplerUniforms:null,__agalSamplerUsageMask:null,__agalUniforms:null,__agalVertexUniformMap:null,__context:null,__format:null,__glFragmentShader:null,__glFragmentSource:null,__glProgram:null,__glslAttribNames:null,__glslAttribTypes:null,__glslSamplerNames:null,__glslUniformLocations:null,__glslUniformNames:null,__glslUniformTypes:null,__glVertexShader:null,__glVertexSource:null,__samplerStates:null,dispose:function(){this.__deleteShaders()},getAttributeIndex:function(t){if(0==this.__format)return v.startsWith(t,"va")?g.parseInt(t.substring(2)):-1;for(var e=0,i=this.__glslAttribNames.length;e<i;){var s=e++;if(this.__glslAttribNames[s]==t)return s}return-1},getConstantIndex:function(t){if(0==this.__format)return v.startsWith(t,"vc")||v.startsWith(t,"fc")?g.parseInt(t.substring(2)):-1;for(var e=0,i=this.__glslUniformNames.length;e<i;){var s=e++;if(this.__glslUniformNames[s]==t)return this.__glslUniformLocations[s]}return-1},upload:function(t,e){if(0==this.__format){var i=[];for(t=Gu.convertToGLSL(t,null),e=Gu.convertToGLSL(e,i),5==d_.level&&(d_.info(t,{fileName:"openfl/display3D/Program3D.hx",lineNumber:399,className:"openfl.display3D.Program3D",methodName:"upload"}),d_.info(e,{fileName:"openfl/display3D/Program3D.hx",lineNumber:400,className:"openfl.display3D.Program3D",methodName:"upload"})),this.__deleteShaders(),this.__uploadFromGLSL(t,e),this.__buildAGALUniformList(),e=0,t=i.length;e<t;){var s=e++;this.__samplerStates[s]=i[s]}}},uploadSources:function(t,e){if(1==this.__format){var i="#ifdef GL_ES\n\t\t\t#ifdef GL_FRAGMENT_PRECISION_HIGH\n\t\t\tprecision highp float;\n\t\t\t#else\n\t\t\tprecision mediump float;\n\t\t\t#endif\n\t\t\t#endif\n\t\t\t"+t,s="#ifdef GL_ES\n\t\t\t#ifdef GL_FRAGMENT_PRECISION_HIGH\n\t\t\tprecision highp float;\n\t\t\t#else\n\t\t\tprecision mediump float;\n\t\t\t#endif\n\t\t\t#endif\n\t\t\t"+e;if(i!=this.__glVertexSource||s!=this.__glFragmentSource){this.__processGLSLData(t,"attribute"),this.__processGLSLData(t,"uniform"),this.__processGLSLData(e,"uniform"),this.__deleteShaders(),this.__uploadFromGLSL(i,s);var n=this.__glslSamplerNames;s=this.__glslAttribNames;var r=this.__glslAttribTypes;for(t=this.__glslUniformNames,this.__glslSamplerNames=[],this.__glslAttribNames=[],this.__glslAttribTypes=[],this.__glslUniformLocations=[],e=this.__context.gl,i=0;i<n.length;){var a=n[i];++i;var o=e.getUniformLocation(this.__glProgram,a);this.__glslSamplerNames[o]=a}for(i=0,n=s.length;i<n;)a=i++,o=e.getAttribLocation(this.__glProgram,s[a]),this.__glslAttribNames[o]=s[a],this.__glslAttribTypes[o]=r[a];for(i=0,n=t.length;i<n;)a=i++,s=e.getUniformLocation(this.__glProgram,t[a]),this.__glslUniformLocations[a]=s}}},__buildAGALUniformList:function(){if(1!=this.__format){var t=this.__context.gl;this.__agalUniforms.clear(),this.__agalSamplerUniforms.clear(),this.__agalAlphaSamplerUniforms.clear(),this.__agalAlphaSamplerEnabled=[],this.__agalSamplerUsageMask=0;for(var e=t.getProgramParameter(this.__glProgram,t.ACTIVE_UNIFORMS),i=new E,s=new E,n=0;n<e;){var r=n++,a=t.getActiveUniform(this.__glProgram,r),o=a.name,l=a.size,h=a.type;switch((a=new Nu(this.__context)).name=o,a.size=l,a.type=h,a.location=t.getUniformLocation(this.__glProgram,a.name),0<=(o=a.name.indexOf("["))&&(a.name=a.name.substring(0,o)),a.type){case 35674:a.regCount=2;break;case 35675:a.regCount=3;break;case 35676:a.regCount=4;break;default:a.regCount=1}if(a.regCount*=a.size,this.__agalUniforms.add(a),"vcPositionScale"==a.name)this.__agalPositionScale=a;else if(v.startsWith(a.name,"vc"))a.regIndex=g.parseInt(a.name.substring(2)),a.regData=this.__context.__vertexConstants,i.add(a);else if(v.startsWith(a.name,"fc"))a.regIndex=g.parseInt(a.name.substring(2)),a.regData=this.__context.__fragmentConstants,s.add(a);else if(v.startsWith(a.name,"sampler")&&-1==a.name.indexOf("alpha"))for(a.regIndex=g.parseInt(a.name.substring(7)),this.__agalSamplerUniforms.add(a),o=0,l=a.regCount;o<l;)h=o++,this.__agalSamplerUsageMask|=1<<a.regIndex+h;else v.startsWith(a.name,"sampler")&&v.endsWith(a.name,"_alpha")?(o=a.name.indexOf("_")-7,a.regIndex=g.parseInt(a.name.substring(7,7+o))+4,this.__agalAlphaSamplerUniforms.add(a)):v.startsWith(a.name,"sampler")&&v.endsWith(a.name,"_alphaEnabled")&&(a.regIndex=g.parseInt(a.name.substring(7)),this.__agalAlphaSamplerEnabled[a.regIndex]=a);5==d_.level&&d_.verbose(r+" name:"+a.name+" type:"+a.type+" size:"+a.size+" location:"+g.string(a.location),{fileName:"openfl/display3D/Program3D.hx",lineNumber:577,className:"openfl.display3D.Program3D",methodName:"__buildAGALUniformList"})}this.__agalVertexUniformMap=new Ou(d.array(i)),this.__agalFragmentUniformMap=new Ou(d.array(s))}},__deleteShaders:function(){var t=this.__context.gl;null!=this.__glProgram&&(this.__glProgram=null),null!=this.__glVertexShader&&(t.deleteShader(this.__glVertexShader),this.__glVertexShader=null),null!=this.__glFragmentShader&&(t.deleteShader(this.__glFragmentShader),this.__glFragmentShader=null)},__disable:function(){},__enable:function(){var t=this.__context.gl;if(t.useProgram(this.__glProgram),0==this.__format){this.__agalVertexUniformMap.markAllDirty(),this.__agalFragmentUniformMap.markAllDirty();for(var e=this.__agalSamplerUniforms.h;null!=e;){var i=e.item;if(e=e.next,1!=i.regCount)throw new rd("!!! TODO: uniform location on webgl");t.uniform1i(i.location,i.regIndex)}for(e=this.__agalAlphaSamplerUniforms.h;null!=e;){if(i=e.item,e=e.next,1!=i.regCount)throw new rd("!!! TODO: uniform location on webgl");t.uniform1i(i.location,i.regIndex)}}},__flush:function(){0==this.__format&&(this.__agalVertexUniformMap.flush(),this.__agalFragmentUniformMap.flush())},__getSamplerState:function(t){return this.__samplerStates[t]},__markDirty:function(t,e,i){1!=this.__format&&(t?this.__agalVertexUniformMap.markDirty(e,i):this.__agalFragmentUniformMap.markDirty(e,i))},__processGLSLData:function(t,e){var i,s=0;for(i=new _("uniform"==e?"uniform ([A-Za-z0-9]+) ([A-Za-z0-9_]+)":"attribute ([A-Za-z0-9]+) ([A-Za-z0-9_]+)","");i.matchSub(t,s);){var n=i.matched(1),r=i.matched(2);if(!v.startsWith(r,"gl_")){if(v.startsWith(n,"sampler"))this.__glslSamplerNames.push(r);else{switch(n){case"bool":s=0;break;case"bvec2":s=1;break;case"bvec3":s=2;break;case"bvec4":s=3;break;case"dvec2":case"vec2":s=5;break;case"dvec3":case"vec3":s=6;break;case"double":case"float":s=4;break;case"ivec3":case"uvec3":s=10;break;case"ivec4":case"uvec4":s=11;break;case"mat2":case"mat2x2":s=12;break;case"mat2x3":s=13;break;case"mat2x4":s=14;break;case"mat3x2":s=15;break;case"mat3":case"mat3x3":s=16;break;case"mat3x4":s=17;break;case"mat4":case"mat4x4":s=20;break;case"mat4x2":s=18;break;case"mat4x3":s=19;break;case"int":case"uint":s=8;break;case"ivec2":case"uvec2":s=9;break;case"dvec4":case"vec4":s=7;break;default:s=null}"uniform"==e?(this.__glslUniformNames.push(r),this.__glslUniformTypes.push(s)):(this.__glslAttribNames.push(r),this.__glslAttribTypes.push(s))}s=(r=i.matchedPos()).pos+r.len}}},__setPositionScale:function(t){1!=this.__format&&null!=this.__agalPositionScale&&this.__context.gl.uniform4fv(this.__agalPositionScale.location,t)},__setSamplerState:function(t,e){this.__samplerStates[t]=e},__uploadFromGLSL:function(t,e){var i=this.__context.gl;if(this.__glVertexSource=t,this.__glFragmentSource=e,this.__glVertexShader=i.createShader(i.VERTEX_SHADER),i.shaderSource(this.__glVertexShader,t),i.compileShader(this.__glVertexShader),0==i.getShaderParameter(this.__glVertexShader,i.COMPILE_STATUS)){var s="Error compiling vertex shader\n"+i.getShaderInfoLog(this.__glVertexShader);d_.error(s+"\n"+t,{fileName:"openfl/display3D/Program3D.hx",lineNumber:869,className:"openfl.display3D.Program3D",methodName:"__uploadFromGLSL"})}if(this.__glFragmentShader=i.createShader(i.FRAGMENT_SHADER),i.shaderSource(this.__glFragmentShader,e),i.compileShader(this.__glFragmentShader),0==i.getShaderParameter(this.__glFragmentShader,i.COMPILE_STATUS)&&(s="Error compiling fragment shader\n"+i.getShaderInfoLog(this.__glFragmentShader),d_.error(s+"\n"+e,{fileName:"openfl/display3D/Program3D.hx",lineNumber:881,className:"openfl.display3D.Program3D",methodName:"__uploadFromGLSL"})),this.__glProgram=i.createProgram(),0==this.__format)for(e=0;16>e;){var n=e++;s="va"+n,-1!=t.indexOf(" "+s)&&i.bindAttribLocation(this.__glProgram,n,s)}else for(e=0,t=this.__glslAttribNames;e<t.length;)if(s=t[e],++e,-1<s.indexOf("Position")&&v.startsWith(s,"openfl_")){i.bindAttribLocation(this.__glProgram,0,s);break}i.attachShader(this.__glProgram,this.__glVertexShader),i.attachShader(this.__glProgram,this.__glFragmentShader),i.linkProgram(this.__glProgram),0==i.getProgramParameter(this.__glProgram,i.LINK_STATUS)&&(s="Unable to initialize the shader program\n"+i.getProgramInfoLog(this.__glProgram),d_.error(s,{fileName:"openfl/display3D/Program3D.hx",lineNumber:922,className:"openfl.display3D.Program3D",methodName:"__uploadFromGLSL"}))},__class__:Lu};var Nu=function(t){this.context=t,this.isDirty=!0,this.regDataPointer=new l_(null,0)};r["openfl.display3D.Uniform"]=Nu,Nu.__name__="openfl.display3D.Uniform",Nu.prototype={name:null,location:null,type:null,size:null,regData:null,regIndex:null,regCount:null,isDirty:null,context:null,regDataPointer:null,flush:function(){var t=this.context.gl,e=4*this.regIndex;switch(this.type){case 35664:Nl.uniform2fv(t,this.location,this.regData.subarray(e,e+2*this.regCount));break;case 35665:var i=this.location;e=this.regData.subarray(e,e+3*this.regCount);var s=null;null!=s?t.uniform3fv(i,e,s,null):t.uniform3fv(i,e);break;case 35666:default:i=this.location,e=this.regData.subarray(e,e+4*this.regCount),null!=(s=null)?t.uniform4fv(i,e,s,null):t.uniform4fv(i,e);break;case 35674:Ol.uniformMatrix2fv(t,this.location,!1,this.regData.subarray(e,e+4*this.size));break;case 35675:Ol.uniformMatrix3fv(t,this.location,!1,this.regData.subarray(e,e+9*this.size));break;case 35676:Ol.uniformMatrix4fv(t,this.location,!1,this.regData.subarray(e,e+16*this.size))}},__getUniformRegisters:function(t,e){return this.regData.subarray(t,t+e)},__class__:Nu};var Ou=function(t){this.__uniforms=t,this.__uniforms.sort(function(t,e){return f.compare(t.regIndex,e.regIndex)});var e=0;t=0;for(var i=this.__uniforms;t<i.length;){var s=i[t];++t,s.regIndex+s.regCount>e&&(e=s.regIndex+s.regCount)}for(this.__registerLookup=M.toObjectVector(null,e),t=0,i=this.__uniforms;t<i.length;){s=i[t],++t,e=0;for(var n=s.regCount;e<n;){var r=e++;this.__registerLookup.set(s.regIndex+r,s)}}this.__anyDirty=this.__allDirty=!0};r["openfl.display3D.UniformMap"]=Ou,Ou.__name__="openfl.display3D.UniformMap",Ou.prototype={__allDirty:null,__anyDirty:null,__registerLookup:null,__uniforms:null,flush:function(){if(this.__anyDirty){for(var t=0,e=this.__uniforms;t<e.length;){var i=e[t];++t,(this.__allDirty||i.isDirty)&&(i.flush(),i.isDirty=!1)}this.__anyDirty=this.__allDirty=!1}},markAllDirty:function(){this.__anyDirty=this.__allDirty=!0},markDirty:function(t,e){if(!this.__allDirty)for((e=t+e)>this.__registerLookup.get_length()&&(e=this.__registerLookup.get_length());t<e;){var i=this.__registerLookup.get(t);null!=i?(this.__anyDirty=i.isDirty=!0,t=i.regIndex+i.regCount):++t}},__class__:Ou};var Vu=function(t,e,i,s){this.__context=t,this.__numVertices=e,this.__vertexSize=i,t=this.__context.gl,this.__id=t.createBuffer(),this.__stride=4*this.__vertexSize,this.__usage=0==ku.fromString(s)?t.DYNAMIC_DRAW:t.STATIC_DRAW};r["openfl.display3D.VertexBuffer3D"]=Vu,Vu.__name__="openfl.display3D.VertexBuffer3D",Vu.prototype={__context:null,__data:null,__id:null,__memoryUsage:null,__numVertices:null,__stride:null,__tempFloat32Array:null,__usage:null,__vertexSize:null,dispose:function(){this.__context.gl.deleteBuffer(this.__id)},uploadFromByteArray:function(t,e,i,s){e+=i*this.__stride,s*=this.__vertexSize,null==e&&(e=0),t=null!=(t=Fm.toArrayBuffer(t))?null==s?new Float32Array(t,e):new Float32Array(t,e,s):null,this.uploadFromTypedArray(u_.toArrayBufferView(t))},uploadFromTypedArray:function(t,e){null!=t&&(e=this.__context.gl,this.__context.__bindGLArrayBuffer(this.__id),Ol.bufferData(e,e.ARRAY_BUFFER,t,this.__usage))},uploadFromVector:function(t,e,i){if(null!=t){e*=this.__vertexSize;var s=i*this.__vertexSize;i=e+s;var n=this.__tempFloat32Array;for((null==this.__tempFloat32Array||this.__tempFloat32Array.length<s)&&(this.__tempFloat32Array=null!=s?new Float32Array(s):null,null!=n&&this.__tempFloat32Array.set(n)),s=e;s<i;)n=s++,this.__tempFloat32Array[n-e]=t.get(n);this.uploadFromTypedArray(u_.toArrayBufferView(this.__tempFloat32Array))}},__class__:Vu};var Gu=function(){};r["openfl.display3D._internal.AGALConverter"]=Gu,Gu.__name__="openfl.display3D._internal.AGALConverter",Gu.prefixFromType=function(t,e){switch(t){case 0:return"va";case 1:return e==zu.VERTEX?"vc":"fc";case 2:return e==zu.VERTEX?"vt":"ft";case 3:return"output_";case 4:return"v";case 5:return"sampler";default:throw new rd("Invalid data!")}},Gu.readUInt64=function(t){var e=t.readInt();return t=t.readInt(),new Aa(t,e)},Gu.convertToGLSL=function(t,e){t.position=0,t.__endian=1;var i=255&t.readByte();if(176==i)return t.readUTF();if(160!=i)throw new rd("Magic value must be 0xA0, may not be AGAL");var s=t.readInt();if(1!=s)throw new rd("Version must be 1");if(161!=(255&t.readByte()))throw new rd("Shader type ID must be 0xA1");i=255&t.readByte()?zu.FRAGMENT:zu.VERTEX;for(var n=new Hu,r="";s=t.position,S.gt(Fm.get_length(t),s);){var a=t.readInt();s=t.readUnsignedInt();var o=Gu.readUInt64(t),l=Gu.readUInt64(t);s=Uu.parse(s,i),o=ju.parse(o,i,s.mask);var h=ju.parse(l,i,s.mask);switch(r+="\t",a){case 0:r+=g.string(s.toGLSL()+" = "+o.toGLSL()+"; // mov"),n.addDR(s,Xu.VECTOR_4),n.addSR(o,Xu.VECTOR_4);break;case 1:r+=g.string(s.toGLSL()+" = "+o.toGLSL()+" + "+h.toGLSL()+"; // add"),n.addDR(s,Xu.VECTOR_4),n.addSR(o,Xu.VECTOR_4),n.addSR(h,Xu.VECTOR_4);break;case 2:r+=g.string(s.toGLSL()+" = "+o.toGLSL()+" - "+h.toGLSL()+"; // sub"),n.addDR(s,Xu.VECTOR_4),n.addSR(o,Xu.VECTOR_4),n.addSR(h,Xu.VECTOR_4);break;case 3:r+=g.string(s.toGLSL()+" = "+o.toGLSL()+" * "+h.toGLSL()+"; // mul"),n.addDR(s,Xu.VECTOR_4),n.addSR(o,Xu.VECTOR_4),n.addSR(h,Xu.VECTOR_4);break;case 4:r+=g.string(s.toGLSL()+" = "+o.toGLSL()+" / "+h.toGLSL()+"; // div"),n.addDR(s,Xu.VECTOR_4),n.addSR(o,Xu.VECTOR_4),n.addSR(h,Xu.VECTOR_4);break;case 5:r=-1<o.toGLSL().indexOf(".")?r+g.string(s.toGLSL()+" = 1.0 / "+o.toGLSL()+"; // rcp"):r+g.string(s.toGLSL()+" = vec4(1) / "+o.toGLSL()+"; // rcp"),n.addDR(s,Xu.VECTOR_4),n.addSR(o,Xu.VECTOR_4);break;case 6:r+=g.string(s.toGLSL()+" = min("+o.toGLSL()+", "+h.toGLSL()+"); // min"),n.addDR(s,Xu.VECTOR_4),n.addSR(o,Xu.VECTOR_4),n.addSR(h,Xu.VECTOR_4);break;case 7:r+=g.string(s.toGLSL()+" = max("+o.toGLSL()+", "+h.toGLSL()+"); // max"),n.addDR(s,Xu.VECTOR_4),n.addSR(o,Xu.VECTOR_4),n.addSR(h,Xu.VECTOR_4);break;case 8:r+=g.string(s.toGLSL()+" = fract("+o.toGLSL()+"); // frc"),n.addDR(s,Xu.VECTOR_4),n.addSR(o,Xu.VECTOR_4);break;case 9:r+=g.string(s.toGLSL()+" = sqrt("+o.toGLSL()+"); // sqrt"),n.addDR(s,Xu.VECTOR_4),n.addSR(o,Xu.VECTOR_4);break;case 10:r+=g.string(s.toGLSL()+" = inversesqrt("+o.toGLSL()+"); // rsq"),n.addDR(s,Xu.VECTOR_4),n.addSR(o,Xu.VECTOR_4);break;case 11:r+=g.string(s.toGLSL()+" = pow("+o.toGLSL()+", "+h.toGLSL()+"); // pow"),n.addDR(s,Xu.VECTOR_4),n.addSR(o,Xu.VECTOR_4),n.addSR(h,Xu.VECTOR_4);break;case 12:r+=g.string(s.toGLSL()+" = log2("+o.toGLSL()+"); // log"),n.addDR(s,Xu.VECTOR_4),n.addSR(o,Xu.VECTOR_4);break;case 13:r+=g.string(s.toGLSL()+" = exp2("+o.toGLSL()+"); // exp"),n.addDR(s,Xu.VECTOR_4),n.addSR(o,Xu.VECTOR_4);break;case 14:r+=g.string(s.toGLSL()+" = normalize("+o.toGLSL()+"); // normalize"),n.addDR(s,Xu.VECTOR_4),n.addSR(o,Xu.VECTOR_4);break;case 15:r+=g.string(s.toGLSL()+" = sin("+o.toGLSL()+"); // sin"),n.addDR(s,Xu.VECTOR_4),n.addSR(o,Xu.VECTOR_4);break;case 16:r+=g.string(s.toGLSL()+" = cos("+o.toGLSL()+"); // cos"),n.addDR(s,Xu.VECTOR_4),n.addSR(o,Xu.VECTOR_4);break;case 17:o.sourceMask=h.sourceMask=7,r+=g.string(s.toGLSL()+" = cross(vec3("+o.toGLSL()+"), vec3("+h.toGLSL()+")); // crs"),n.addDR(s,Xu.VECTOR_4),n.addSR(o,Xu.VECTOR_4),n.addSR(h,Xu.VECTOR_4);break;case 18:o.sourceMask=h.sourceMask=7,r+=g.string(s.toGLSL()+" = vec4(dot(vec3("+o.toGLSL()+"), vec3("+h.toGLSL()+")))"+s.getWriteMask()+"; // dp3"),n.addDR(s,Xu.VECTOR_4),n.addSR(o,Xu.VECTOR_4),n.addSR(h,Xu.VECTOR_4);break;case 19:o.sourceMask=h.sourceMask=15,r+=g.string(s.toGLSL()+" = vec4(dot(vec4("+o.toGLSL()+"), vec4("+h.toGLSL()+")))"+s.getWriteMask()+"; // dp4"),n.addDR(s,Xu.VECTOR_4),n.addSR(o,Xu.VECTOR_4),n.addSR(h,Xu.VECTOR_4);break;case 20:r+=g.string(s.toGLSL()+" = abs("+o.toGLSL()+"); // abs"),n.addDR(s,Xu.VECTOR_4),n.addSR(o,Xu.VECTOR_4);break;case 21:r+=g.string(s.toGLSL()+" = -"+o.toGLSL()+"; // neg"),n.addDR(s,Xu.VECTOR_4),n.addSR(o,Xu.VECTOR_4);break;case 22:r+=g.string(s.toGLSL()+" = clamp("+o.toGLSL()+", 0.0, 1.0); // saturate"),n.addDR(s,Xu.VECTOR_4),n.addSR(o,Xu.VECTOR_4);break;case 23:(a=n.getRegisterUsage(h))!=Xu.VECTOR_4&&a!=Xu.VECTOR_4_ARRAY?(r+=g.string(s.toGLSL()+" = "+o.toGLSL()+" * mat3("+h.toGLSL(!1)+"); // m33"),n.addDR(s,Xu.VECTOR_4),n.addSR(o,Xu.VECTOR_4),n.addSR(h,Xu.MATRIX_4_4)):(o.sourceMask=h.sourceMask=7,r+=g.string(s.toGLSL()+" = vec3(dot("+o.toGLSL(!0)+","+h.toGLSL(!0,0)+"), dot("+o.toGLSL(!0)+","+h.toGLSL(!0,1)+"),dot("+o.toGLSL(!0)+","+h.toGLSL(!0,2)+")); // m33"),n.addDR(s,Xu.VECTOR_4),n.addSR(o,Xu.VECTOR_4),n.addSR(h,Xu.VECTOR_4,0),n.addSR(h,Xu.VECTOR_4,1),n.addSR(h,Xu.VECTOR_4,2));break;case 24:(a=n.getRegisterUsage(h))!=Xu.VECTOR_4&&a!=Xu.VECTOR_4_ARRAY?(r+=g.string(s.toGLSL()+" = "+o.toGLSL()+" * "+h.toGLSL(!1)+"; // m44"),n.addDR(s,Xu.VECTOR_4),n.addSR(o,Xu.VECTOR_4),n.addSR(h,Xu.MATRIX_4_4)):(o.sourceMask=h.sourceMask=15,r+=g.string(s.toGLSL()+" = vec4(dot("+o.toGLSL(!0)+","+h.toGLSL(!0,0)+"), dot("+o.toGLSL(!0)+","+h.toGLSL(!0,1)+"), dot("+o.toGLSL(!0)+","+h.toGLSL(!0,2)+"), dot("+o.toGLSL(!0)+","+h.toGLSL(!0,3)+")); // m44"),n.addDR(s,Xu.VECTOR_4),n.addSR(o,Xu.VECTOR_4),n.addSR(h,Xu.VECTOR_4,0),n.addSR(h,Xu.VECTOR_4,1),n.addSR(h,Xu.VECTOR_4,2),n.addSR(h,Xu.VECTOR_4,3));break;case 25:s.mask&=7,(a=n.getRegisterUsage(h))!=Xu.VECTOR_4&&a!=Xu.VECTOR_4_ARRAY?(r+=g.string(s.toGLSL()+" = "+o.toGLSL()+" * "+h.toGLSL(!1)+"; // m34"),n.addDR(s,Xu.VECTOR_4),n.addSR(o,Xu.VECTOR_4),n.addSR(h,Xu.MATRIX_4_4)):(o.sourceMask=h.sourceMask=15,r+=g.string(s.toGLSL()+" = vec3(dot("+o.toGLSL(!0)+","+h.toGLSL(!0,0)+"), dot("+o.toGLSL(!0)+","+h.toGLSL(!0,1)+"),dot("+o.toGLSL(!0)+","+h.toGLSL(!0,2)+")); // m34"),n.addDR(s,Xu.VECTOR_4),n.addSR(o,Xu.VECTOR_4),n.addSR(h,Xu.VECTOR_4,0),n.addSR(h,Xu.VECTOR_4,1),n.addSR(h,Xu.VECTOR_4,2));break;case 39:o.sourceMask=15,r+=g.string("if (any(lessThan("+o.toGLSL()+", vec4(0)))) discard;"),n.addSR(o,Xu.VECTOR_4);break;case 40:switch((h=Yu.parse(l,i)).d){case 0:2==h.t?(o.sourceMask=3,n.addSaR(h,Xu.SAMPLER_2D_ALPHA),r+=g.string("if ("+h.toGLSL()+"_alphaEnabled) {\n"),r+=g.string("\t\t"+s.toGLSL()+" = vec4(texture2D("+h.toGLSL()+", "+o.toGLSL()+").xyz, texture2D("+h.toGLSL()+"_alpha, "+o.toGLSL()+").x); // tex + alpha\n"),r+="\t} else {\n",r+=g.string("\t\t"+s.toGLSL()+" = texture2D("+h.toGLSL()+", "+o.toGLSL()+"); // tex\n"),r+="\t}"):(o.sourceMask=3,n.addSaR(h,Xu.SAMPLER_2D),r+=g.string(s.toGLSL()+" = texture2D("+h.toGLSL()+", "+o.toGLSL()+"); // tex"));break;case 1:2==h.t?(o.sourceMask=7,n.addSaR(h,Xu.SAMPLER_CUBE_ALPHA),r+=g.string("if ("+h.toGLSL()+"_alphaEnabled) {\n"),r+=g.string("\t\t"+s.toGLSL()+" = vec4(textureCube("+h.toGLSL()+", "+o.toGLSL()+").xyz, textureCube("+h.toGLSL()+"_alpha, "+o.toGLSL()+").x); // tex + alpha\n"),r+="\t} else {\n",r+=g.string("\t\t"+s.toGLSL()+" = textureCube("+h.toGLSL()+", "+o.toGLSL()+"); // tex"),r+="\t}"):(o.sourceMask=7,r+=g.string(s.toGLSL()+" = textureCube("+h.toGLSL()+", "+o.toGLSL()+"); // tex"),n.addSaR(h,Xu.SAMPLER_CUBE))}n.addDR(s,Xu.VECTOR_4),n.addSR(o,Xu.VECTOR_4),null!=e&&(e[h.n]=h.toSamplerState());break;case 41:o.sourceMask=h.sourceMask=15,r+=g.string(s.toGLSL()+" = vec4(greaterThanEqual("+o.toGLSL()+", "+h.toGLSL()+"))"+s.getWriteMask()+"; // ste"),n.addDR(s,Xu.VECTOR_4),n.addSR(o,Xu.VECTOR_4),n.addSR(h,Xu.VECTOR_4);break;case 42:o.sourceMask=h.sourceMask=15,r+=g.string(s.toGLSL()+" = vec4(lessThan("+o.toGLSL()+", "+h.toGLSL()+"))"+s.getWriteMask()+"; // slt"),n.addDR(s,Xu.VECTOR_4),n.addSR(o,Xu.VECTOR_4),n.addSR(h,Xu.VECTOR_4);break;case 44:o.sourceMask=h.sourceMask=15,r+=g.string(s.toGLSL()+" = vec4(equal("+o.toGLSL()+", "+h.toGLSL()+"))"+s.getWriteMask()+"; // seq"),n.addDR(s,Xu.VECTOR_4),n.addSR(o,Xu.VECTOR_4),n.addSR(h,Xu.VECTOR_4);break;case 45:o.sourceMask=h.sourceMask=15,r+=g.string(s.toGLSL()+" = vec4(notEqual("+o.toGLSL()+", "+h.toGLSL()+"))"+s.getWriteMask()+"; // sne"),n.addDR(s,Xu.VECTOR_4),n.addSR(o,Xu.VECTOR_4),n.addSR(h,Xu.VECTOR_4);break;default:throw new rd("Opcode "+a)}r+="\n"}return null==Gu.limitedProfile&&(s=Wl.context.getParameter(7938),Gu.limitedProfile=-1<s.indexOf("OpenGL ES")||-1<s.indexOf("WebGL")),t=""+g.string("// AGAL "+(i==zu.VERTEX?"vertex":"fragment")+" shader\n"),t=Gu.limitedProfile?t+"#version 100\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\n":t+"#version 120\n",t+=g.string(n.toGLSL(!1)),i==zu.VERTEX&&(t+="uniform vec4 vcPositionScale;\n"),t=t+"void main() {\n"+g.string(n.toGLSL(!0)),t+=g.string(r),i==zu.VERTEX&&(t+="\tgl_Position *= vcPositionScale;\n"),t+"}\n"};var Uu=function(){};r["openfl.display3D._internal._AGALConverter.DestRegister"]=Uu,Uu.__name__="openfl.display3D._internal._AGALConverter.DestRegister",Uu.parse=function(t,e){var i=new Uu;return i.programType=e,i.type=t>>>24&15,i.mask=t>>>16&15,i.n=65535&t,i},Uu.prototype={mask:null,n:null,programType:null,type:null,getWriteMask:function(){var t=".";return 1&this.mask&&(t+="x"),2&this.mask&&(t+="y"),4&this.mask&&(t+="z"),8&this.mask&&(t+="w"),t},toGLSL:function(t){null==t&&(t=!0);var e=3==this.type?this.programType==zu.VERTEX?"gl_Position":"gl_FragColor":Gu.prefixFromType(this.type,this.programType)+this.n;return t&&15!=this.mask&&(e+=this.getWriteMask()),e},__class__:Uu};var zu=o["openfl.display3D._internal._AGALConverter.ProgramType"]={__ename__:"openfl.display3D._internal._AGALConverter.ProgramType",__constructs__:null,VERTEX:{_hx_name:"VERTEX",_hx_index:0,__enum__:"openfl.display3D._internal._AGALConverter.ProgramType",toString:a},FRAGMENT:{_hx_name:"FRAGMENT",_hx_index:1,__enum__:"openfl.display3D._internal._AGALConverter.ProgramType",toString:a}};zu.__constructs__=[zu.VERTEX,zu.FRAGMENT];var Hu=function(){this.mEntries=[]};r["openfl.display3D._internal.RegisterMap"]=Hu,Hu.__name__="openfl.display3D._internal.RegisterMap",Hu.prototype={mEntries:null,add:function(t,e,i,s){for(var n=0,r=this.mEntries;n<r.length;){var a=r[n];if(++n,a.type==t&&a.name==e&&a.number==i){if(a.usage!=s)throw new rd("Cannot use register in multiple ways yet (mat4/vec4)");return}}(a=new Wu).type=t,a.name=e,a.number=i,a.usage=s,this.mEntries.push(a)},addDR:function(t,e){this.add(t.type,t.toGLSL(!1),t.n,e)},addSaR:function(t,e){this.add(t.type,t.toGLSL(),t.n,e)},addSR:function(t,e,i){null==i&&(i=0),0!=t.d?(this.add(t.itype,Gu.prefixFromType(t.itype,t.programType)+t.n,t.n,Xu.VECTOR_4),this.add(t.type,Gu.prefixFromType(t.type,t.programType)+t.o,t.o,Xu.VECTOR_4_ARRAY)):this.add(t.type,t.toGLSL(!1,i),t.n+i,e)},getRegisterUsage:function(t){return 0!=t.d?Xu.VECTOR_4_ARRAY:this.getUsage(t.type,t.toGLSL(!1),t.n)},getUsage:function(t,e,i){for(var s=0,n=this.mEntries;s<n.length;){var r=n[s];if(++s,r.type==t&&r.name==e&&r.number==i)return r.usage}return Xu.UNUSED},toGLSL:function(t){this.mEntries.sort(function(t,e){return t.number-e.number}),this.mEntries.sort(function(t,e){return vo.__cast(t.type,Bb)-vo.__cast(e.type,Bb)});for(var e="",i=0,s=this.mEntries.length;i<s;){var n=i++;if(n=this.mEntries[n],!(t&&2!=n.type||!t&&2==n.type)&&3!=n.type){switch(n.type){case 0:e+="attribute ";break;case 1:case 5:e+="uniform ";break;case 2:e+="\t";break;case 3:break;case 4:e+="varying ";break;default:throw new rd}switch(n.usage._hx_index){case 0:d_.info("Missing switch patten: RegisterUsage.UNUSED",{fileName:"openfl/display3D/_internal/AGALConverter.hx",lineNumber:750,className:"openfl.display3D._internal.RegisterMap",methodName:"toGLSL"});break;case 1:case 7:e+="vec4 ";break;case 2:e+="mat4 ";break;case 3:e+="sampler2D ";break;case 5:e+="samplerCube "}n.usage==Xu.SAMPLER_2D_ALPHA?(e+="sampler2D ",e+=g.string(n.name),e+=";\n",e+="uniform ",e+="sampler2D ",e+=g.string(n.name+"_alpha"),e+=";\n",e+="uniform ",e+="bool ",e+=g.string(n.name+"_alphaEnabled")):n.usage==Xu.SAMPLER_CUBE_ALPHA?(e+="samplerCube ",e+=g.string(n.name),e+=";\n",e+="uniform ",e+="samplerCube ",e+=g.string(n.name+"_alpha"),e+=";\n",e+="uniform ",e+="bool ",e+=g.string(n.name+"_alphaEnabled")):e=n.usage==Xu.VECTOR_4_ARRAY?e+g.string(n.name+"[128]"):e+g.string(n.name),e+=";\n"}}return e},__class__:Hu};var Wu=function(){};r["openfl.display3D._internal._AGALConverter.RegisterMapEntry"]=Wu,Wu.__name__="openfl.display3D._internal._AGALConverter.RegisterMapEntry",Wu.prototype={name:null,number:null,type:null,usage:null,__class__:Wu};var Xu=o["openfl.display3D._internal._AGALConverter.RegisterUsage"]={__ename__:"openfl.display3D._internal._AGALConverter.RegisterUsage",__constructs__:null,UNUSED:{_hx_name:"UNUSED",_hx_index:0,__enum__:"openfl.display3D._internal._AGALConverter.RegisterUsage",toString:a},VECTOR_4:{_hx_name:"VECTOR_4",_hx_index:1,__enum__:"openfl.display3D._internal._AGALConverter.RegisterUsage",toString:a},MATRIX_4_4:{_hx_name:"MATRIX_4_4",_hx_index:2,__enum__:"openfl.display3D._internal._AGALConverter.RegisterUsage",toString:a},SAMPLER_2D:{_hx_name:"SAMPLER_2D",_hx_index:3,__enum__:"openfl.display3D._internal._AGALConverter.RegisterUsage",toString:a},SAMPLER_2D_ALPHA:{_hx_name:"SAMPLER_2D_ALPHA",_hx_index:4,__enum__:"openfl.display3D._internal._AGALConverter.RegisterUsage",toString:a},SAMPLER_CUBE:{_hx_name:"SAMPLER_CUBE",_hx_index:5,__enum__:"openfl.display3D._internal._AGALConverter.RegisterUsage",toString:a},SAMPLER_CUBE_ALPHA:{_hx_name:"SAMPLER_CUBE_ALPHA",_hx_index:6,__enum__:"openfl.display3D._internal._AGALConverter.RegisterUsage",toString:a},VECTOR_4_ARRAY:{_hx_name:"VECTOR_4_ARRAY",_hx_index:7,__enum__:"openfl.display3D._internal._AGALConverter.RegisterUsage",toString:a}};Xu.__constructs__=[Xu.UNUSED,Xu.VECTOR_4,Xu.MATRIX_4_4,Xu.SAMPLER_2D,Xu.SAMPLER_2D_ALPHA,Xu.SAMPLER_CUBE,Xu.SAMPLER_CUBE_ALPHA,Xu.VECTOR_4_ARRAY];var Yu=function(){};r["openfl.display3D._internal._AGALConverter.SamplerRegister"]=Yu,Yu.__name__="openfl.display3D._internal._AGALConverter.SamplerRegister",Yu.parse=function(t,e){var i=new Yu;return i.programType=e,e=15&(e=0==(e=60)?new Aa(t.high,t.low):32>e?new Aa(t.high>>e,t.high<<32-e|t.low>>>e):new Aa(t.high>>31,t.high>>e-32)).low,i.f=e,e=15&(e=0==(e=56)?new Aa(t.high,t.low):32>e?new Aa(t.high>>e,t.high<<32-e|t.low>>>e):new Aa(t.high>>31,t.high>>e-32)).low,i.m=e,e=15&(e=0==(e=52)?new Aa(t.high,t.low):32>e?new Aa(t.high>>e,t.high<<32-e|t.low>>>e):new Aa(t.high>>31,t.high>>e-32)).low,i.w=e,e=15&(e=0==(e=48)?new Aa(t.high,t.low):32>e?new Aa(t.high>>e,t.high<<32-e|t.low>>>e):new Aa(t.high>>31,t.high>>e-32)).low,i.s=e,e=15&(e=0==(e=44)?new Aa(t.high,t.low):32>e?new Aa(t.high>>e,t.high<<32-e|t.low>>>e):new Aa(t.high>>31,t.high>>e-32)).low,i.d=e,e=15&(e=0==(e=40)?new Aa(t.high,t.low):32>e?new Aa(t.high>>e,t.high<<32-e|t.low>>>e):new Aa(t.high>>31,t.high>>e-32)).low,i.t=e,e=15&(e=0==(e=32)?new Aa(t.high,t.low):32>e?new Aa(t.high>>e,t.high<<32-e|t.low>>>e):new Aa(t.high>>31,t.high>>e-32)).low,i.type=e,e=255&(e=0==(e=16)?new Aa(t.high,t.low):32>e?new Aa(t.high>>e,t.high<<32-e|t.low>>>e):new Aa(t.high>>31,t.high>>e-32)).low,i.b=e,e=65535&t.low,i.n=e,i},Yu.prototype={b:null,d:null,f:null,m:null,n:null,programType:null,s:null,t:null,type:null,w:null,toGLSL:function(){return Gu.prefixFromType(this.type,this.programType)+this.n},toSamplerState:function(){switch(this.f){case 0:var t=5;break;case 1:t=4;break;default:throw new rd}switch(this.m){case 0:var e=2;break;case 1:e=1;break;case 2:e=0;break;default:throw new rd}switch(this.w){case 0:var i=0;break;case 1:i=2;break;default:throw new rd}return new Cu(i,t,e,(this.b<<24>>24)/8,!(4&~this.s),!(1&~this.s),2==this.t)},__class__:Yu};var ju=function(){};r["openfl.display3D._internal._AGALConverter.SourceRegister"]=ju,ju.__name__="openfl.display3D._internal._AGALConverter.SourceRegister",ju.parse=function(t,e,i){var s=new ju;return s.programType=e,e=1&(e=0==(e=63)?new Aa(t.high,t.low):32>e?new Aa(t.high>>e,t.high<<32-e|t.low>>>e):new Aa(t.high>>31,t.high>>e-32)).low,s.d=e,e=3&(e=0==(e=48)?new Aa(t.high,t.low):32>e?new Aa(t.high>>e,t.high<<32-e|t.low>>>e):new Aa(t.high>>31,t.high>>e-32)).low,s.q=e,e=15&(e=0==(e=40)?new Aa(t.high,t.low):32>e?new Aa(t.high>>e,t.high<<32-e|t.low>>>e):new Aa(t.high>>31,t.high>>e-32)).low,s.itype=e,e=15&(e=0==(e=32)?new Aa(t.high,t.low):32>e?new Aa(t.high>>e,t.high<<32-e|t.low>>>e):new Aa(t.high>>31,t.high>>e-32)).low,s.type=e,e=255&(e=0==(e=24)?new Aa(t.high,t.low):32>e?new Aa(t.high>>e,t.high<<32-e|t.low>>>e):new Aa(t.high>>31,t.high>>e-32)).low,s.s=e,e=255&(e=0==(e=16)?new Aa(t.high,t.low):32>e?new Aa(t.high>>e,t.high<<32-e|t.low>>>e):new Aa(t.high>>31,t.high>>e-32)).low,s.o=e,e=65535&t.low,s.n=e,s.sourceMask=i,s},ju.prototype={d:null,itype:null,n:null,o:null,programType:null,q:null,s:null,sourceMask:null,type:null,toGLSL:function(t,e){if(null==e&&(e=0),null==t&&(t=!0),3==this.type)return this.programType==zu.VERTEX?"gl_Position":"gl_FragColor";var i=228==this.s&&15==this.sourceMask,s="";if(5!=this.type&&!i){if(1&this.sourceMask)switch(3&this.s){case 0:s+="x";break;case 1:s+="y";break;case 2:s+="z";break;case 3:s+="w"}if(2&this.sourceMask)switch(this.s>>2&3){case 0:s+="x";break;case 1:s+="y";break;case 2:s+="z";break;case 3:s+="w"}if(4&this.sourceMask)switch(this.s>>4&3){case 0:s+="x";break;case 1:s+="y";break;case 2:s+="z";break;case 3:s+="w"}if(8&this.sourceMask)switch(this.s>>6&3){case 0:s+="x";break;case 1:s+="y";break;case 2:s+="z";break;case 3:s+="w"}}if(i=Gu.prefixFromType(this.type,this.programType),0==this.d)i+=this.n+e;else{i+=this.o;var n="";switch(this.q){case 0:n="x";break;case 1:n="y";break;case 2:n="z";break;case 3:n="w"}i+="[ int("+(n=Gu.prefixFromType(this.itype,this.programType)+this.n+"."+n)+") +"+e+"]"}return t&&""!=s&&(i+="."+s),i},__class__:ju};var Ku=function(t,e){this.version=0,t.position=e;var i=t.readUTFBytes(3);if(t.position=e,"ATF"!=i)throw new rd("ATF signature not found");if(255==t.b[e+6]?(this.version=t.b[e+7],t.position=e+8,i=this.__readUInt32(t)):(this.version=0,t.position=e+3,i=this.__readUInt24(t)),S.gt(vo.__cast(e+i,Bb),Fm.get_length(t)))throw new rd("ATF length exceeds byte array length");this.data=t};r["openfl.display3D._internal.ATFReader"]=Ku,Ku.__name__="openfl.display3D._internal.ATFReader",Ku.prototype={atfFormat:null,cubeMap:null,data:null,height:null,mipCount:null,version:null,width:null,readHeader:function(t,e,i){var s=this.data.readUnsignedByte(),n=s>>>7;if(!i&&0!=n)throw new rd("ATF Cube map not expected");if(i&&1!=n)throw new rd("ATF Cube map expected");if(this.cubeMap=i,this.atfFormat=127&s,3!=this.atfFormat&&5!=this.atfFormat&&d_.warn("Only ATF block compressed textures without JPEG-XR+LZMA are supported",{fileName:"openfl/display3D/_internal/ATFReader.hx",lineNumber:96,className:"openfl.display3D._internal.ATFReader",methodName:"readHeader"}),this.width=1<<this.data.readUnsignedByte(),this.height=1<<this.data.readUnsignedByte(),this.width!=t||this.height!=e)throw new rd("ATF width and height dont match");return this.mipCount=this.data.readUnsignedByte(),5==this.atfFormat},readTextures:function(t){for(var e=3>this.version?3:4,i=0,s=this.cubeMap?6:1;i<s;)for(var n=i++,r=0,a=this.mipCount;r<a;)for(var o=r++,l=0,h=e;l<h;){var _=l++,c=0==this.version?this.__readUInt24(this.data):this.__readUInt32(this.data);if(S.gt(this.data.position+c,Fm.get_length(this.data)))throw new rd("Block length exceeds ATF file length");if(S.gt(c,0)){var u=new La(new ArrayBuffer(c)),d=this.data,m=Fm.fromBytes(u),p=0,f=c;null==f&&(f=0),null==p&&(p=0),d.readBytes(m,p,f),t(n,o,_,this.width>>o,this.height>>o,c,u)}}},__readUInt24:function(t){var e=t.readUnsignedByte()<<16;return(e|=t.readUnsignedByte()<<8)|t.readUnsignedByte()},__readUInt32:function(t){var e=t.readUnsignedByte()<<24;return e|=t.readUnsignedByte()<<16,(e|=t.readUnsignedByte()<<8)|t.readUnsignedByte()},__class__:Ku};var Ju=function(){this.backBufferEnableDepthAndStencil=!1,this.blendDestinationAlphaFactor=9,this.blendSourceAlphaFactor=2,this.blendDestinationRGBFactor=9,this.blendSourceRGBFactor=2,this.colorMaskAlpha=this.colorMaskBlue=this.colorMaskGreen=this.colorMaskRed=!0,this.culling=3,this.depthCompareMode=4,this.depthMask=!0,this.samplerStates=[],this.scissorRectangle=new je,this.stencilCompareMode=0,this.stencilPass=this.stencilFail=this.stencilDepthFail=5,this.stencilReadMask=255,this.stencilReferenceValue=0,this.stencilTriangleFace=2,this.stencilWriteMask=255,this.textures=[],this.__frontFaceGLCCW=!0,this.__glBlendEquation=32774};r["openfl.display3D._internal.Context3DState"]=Ju,Ju.__name__="openfl.display3D._internal.Context3DState",Ju.prototype={backBufferEnableDepthAndStencil:null,blendDestinationAlphaFactor:null,blendSourceAlphaFactor:null,blendDestinationRGBFactor:null,blendSourceRGBFactor:null,colorMaskRed:null,colorMaskGreen:null,colorMaskBlue:null,colorMaskAlpha:null,culling:null,depthCompareMode:null,depthMask:null,program:null,renderToTexture:null,renderToTextureAntiAlias:null,renderToTextureDepthStencil:null,renderToTextureSurfaceSelector:null,samplerStates:null,scissorEnabled:null,scissorRectangle:null,stencilCompareMode:null,stencilDepthFail:null,stencilFail:null,stencilPass:null,stencilReadMask:null,stencilReferenceValue:null,stencilTriangleFace:null,stencilWriteMask:null,textures:null,shader:null,__currentGLArrayBuffer:null,__currentGLElementArrayBuffer:null,__currentGLFramebuffer:null,__currentGLTexture2D:null,__currentGLTextureCubeMap:null,__enableGLBlend:null,__enableGLCullFace:null,__enableGLDepthTest:null,__enableGLScissorTest:null,__enableGLStencilTest:null,__frontFaceGLCCW:null,__glBlendEquation:null,__primaryGLFramebuffer:null,__rttDepthGLRenderbuffer:null,__rttGLFramebuffer:null,__rttGLRenderbuffer:null,__rttStencilGLRenderbuffer:null,__class__:Ju};var Zu=function(t){A.call(this),this.__context=t;var e=this.__context.gl;if(this.__textureID=e.createTexture(),this.__textureContext=this.__context.__context,null==Zu.__supportsBGRA){Zu.__textureInternalFormat=e.RGBA,Zu.__supportsBGRA=!1,Zu.__textureFormat=e.RGBA,Zu.__compressedFormats=new fr,Zu.__compressedFormatsAlpha=new fr,t=e.getExtension("WEBGL_compressed_texture_s3tc");var i=e.getExtension("WEBGL_compressed_texture_etc1");if(e=e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),null!=t){var s=t.COMPRESSED_RGBA_S3TC_DXT1_EXT;Zu.__compressedFormats.h[0]=s,s=t.COMPRESSED_RGBA_S3TC_DXT5_EXT,Zu.__compressedFormatsAlpha.h[0]=s}null!=i&&(s=i.COMPRESSED_RGB_ETC1_WEBGL,Zu.__compressedFormats.h[2]=s,s=i.COMPRESSED_RGB_ETC1_WEBGL,Zu.__compressedFormatsAlpha.h[2]=s),null!=e&&(s=e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG,Zu.__compressedFormats.h[1]=s,s=e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG,Zu.__compressedFormatsAlpha.h[1]=s)}this.__internalFormat=Zu.__textureInternalFormat,this.__format=Zu.__textureFormat};r["openfl.display3D.textures.TextureBase"]=Zu,Zu.__name__="openfl.display3D.textures.TextureBase",Zu.__super__=A,Zu.prototype=i(A.prototype,{__alphaTexture:null,__context:null,__format:null,__glDepthRenderbuffer:null,__glFramebuffer:null,__glStencilRenderbuffer:null,__height:null,__internalFormat:null,__optimizeForRenderToTexture:null,__samplerState:null,__streamingLevels:null,__textureContext:null,__textureID:null,__textureTarget:null,__width:null,dispose:function(){var t=this.__context.gl;null!=this.__alphaTexture&&(this.__alphaTexture.dispose(),this.__alphaTexture=null),null!=this.__textureID&&(t.deleteTexture(this.__textureID),this.__textureID=null),null!=this.__glFramebuffer&&(t.deleteFramebuffer(this.__glFramebuffer),this.__glFramebuffer=null),null!=this.__glDepthRenderbuffer&&(t.deleteRenderbuffer(this.__glDepthRenderbuffer),this.__glDepthRenderbuffer=null),null!=this.__glStencilRenderbuffer&&(t.deleteRenderbuffer(this.__glStencilRenderbuffer),this.__glStencilRenderbuffer=null)},__getGLFramebuffer:function(t,e,i){return e=this.__context.gl,null==this.__glFramebuffer&&(this.__glFramebuffer=e.createFramebuffer(),this.__context.__bindGLFramebuffer(this.__glFramebuffer),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.__textureID,0),this.__context.__enableErrorChecking&&(i=e.checkFramebufferStatus(e.FRAMEBUFFER))!=e.FRAMEBUFFER_COMPLETE&&d_.warn("Error: Context3D.setRenderToTexture status:"+i+" width:"+this.__width+" height:"+this.__height,{fileName:"openfl/display3D/textures/TextureBase.hx",lineNumber:201,className:"openfl.display3D.textures.TextureBase",methodName:"__getGLFramebuffer"})),t&&null==this.__glDepthRenderbuffer&&(this.__context.__bindGLFramebuffer(this.__glFramebuffer),0!=Eu.__glDepthStencil?(this.__glStencilRenderbuffer=this.__glDepthRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,this.__glDepthRenderbuffer),e.renderbufferStorage(e.RENDERBUFFER,Eu.__glDepthStencil,this.__width,this.__height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,this.__glDepthRenderbuffer)):(this.__glDepthRenderbuffer=e.createRenderbuffer(),this.__glStencilRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,this.__glDepthRenderbuffer),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,this.__width,this.__height),e.bindRenderbuffer(e.RENDERBUFFER,this.__glStencilRenderbuffer),e.renderbufferStorage(e.RENDERBUFFER,e.STENCIL_INDEX8,this.__width,this.__height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,this.__glDepthRenderbuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.STENCIL_ATTACHMENT,e.RENDERBUFFER,this.__glStencilRenderbuffer)),this.__context.__enableErrorChecking&&(i=e.checkFramebufferStatus(e.FRAMEBUFFER))!=e.FRAMEBUFFER_COMPLETE&&d_.warn("Error: Context3D.setRenderToTexture status:"+i+" width:"+this.__width+" height:"+this.__height,{fileName:"openfl/display3D/textures/TextureBase.hx",lineNumber:239,className:"openfl.display3D.textures.TextureBase",methodName:"__getGLFramebuffer"}),e.bindRenderbuffer(e.RENDERBUFFER,null)),this.__glFramebuffer},__getImage:function(t){var e=t.image;return t.__isValid&&null!=e?(Vo.sync(e,!1),t=this.__context.gl,e.type==Dl.DATA||e.get_premultiplied()?!e.get_premultiplied()&&e.get_transparent()&&(t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,0),(e=e.clone()).set_premultiplied(!0)):t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,1),0!=e.get_format()&&((e=e.clone()).set_format(0),e.buffer.premultiplied=!0),e):null},__getTexture:function(){return this.__textureID},__setSamplerState:function(t){if(!t.equals(this.__samplerState)){var e,i=this.__context.gl;switch(this.__textureTarget==this.__context.gl.TEXTURE_CUBE_MAP?this.__context.__bindGLTextureCubeMap(this.__textureID):this.__context.__bindGLTexture2D(this.__textureID),t.wrap){case 0:var s=e=i.CLAMP_TO_EDGE;break;case 1:e=i.CLAMP_TO_EDGE,s=i.REPEAT;break;case 2:s=e=i.REPEAT;break;case 3:e=i.REPEAT,s=i.CLAMP_TO_EDGE;break;default:throw new ed("wrap bad enum")}var n=5==t.filter?i.NEAREST:i.LINEAR;switch(t.mipfilter){case 0:var r=5==t.filter?i.NEAREST_MIPMAP_LINEAR:i.LINEAR_MIPMAP_LINEAR;break;case 1:r=5==t.filter?i.NEAREST_MIPMAP_NEAREST:i.LINEAR_MIPMAP_NEAREST;break;case 2:r=5==t.filter?i.NEAREST:i.LINEAR;break;default:throw new ed("mipfiter bad enum")}return i.texParameteri(this.__textureTarget,i.TEXTURE_MIN_FILTER,r),i.texParameteri(this.__textureTarget,i.TEXTURE_MAG_FILTER,n),i.texParameteri(this.__textureTarget,i.TEXTURE_WRAP_S,e),i.texParameteri(this.__textureTarget,i.TEXTURE_WRAP_T,s),null==this.__samplerState&&(this.__samplerState=t.clone()),this.__samplerState.copyFrom(t),!0}return!1},__uploadFromImage:function(t){var e,i=this.__context.gl;if(this.__textureTarget==i.TEXTURE_2D){if(1==t.buffer.bitsPerPixel)var s=e=i.ALPHA;else e=Zu.__textureInternalFormat,s=Zu.__textureFormat;this.__context.__bindGLTexture2D(this.__textureID),t.type==Dl.DATA||t.get_premultiplied()?!t.get_premultiplied()&&t.get_transparent()&&i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,1):i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,1),t.type==Dl.DATA?Ol.texImage2D(i,i.TEXTURE_2D,0,e,t.buffer.width,t.buffer.height,0,s,i.UNSIGNED_BYTE,t.get_data()):Ol.texImage2D(i,i.TEXTURE_2D,0,e,s,i.UNSIGNED_BYTE,t.get_src()),this.__context.__bindGLTexture2D(null)}},__class__:Zu});var Qu=function(t,e,i,s,n){Zu.call(this,t),this.__width=this.__height=this.__size=e,this.__optimizeForRenderToTexture=s,this.__streamingLevels=n,this.__textureTarget=this.__context.gl.TEXTURE_CUBE_MAP,this.__uploadedSides=0};r["openfl.display3D.textures.CubeTexture"]=Qu,Qu.__name__="openfl.display3D.textures.CubeTexture",Qu.__super__=Zu,Qu.prototype=i(Zu.prototype,{__framebufferSurface:null,__size:null,__uploadedSides:null,uploadCompressedTextureFromByteArray:function(t,e,i){null==i&&(i=!1);var s=this;i?Ia.delay(function(){s.__uploadCompressedTextureFromByteArray(t,e);var i=new _i("textureReady");s.dispatchEvent(i)},1):this.__uploadCompressedTextureFromByteArray(t,e)},uploadFromBitmapData:function(t,e,i,s){if(null==i&&(i=0),null!=t&&0!=(s=this.__size>>i)&&null!=(t=this.__getImage(t)))if(0==i&&null!=t.buffer&&null==t.buffer.data&&null!=t.buffer.get_src()){var n=this.__context.gl;0!=(s=this.__size>>i)&&(s=this.__sideToTarget(e),this.__context.__bindGLTextureCubeMap(this.__textureID),Ol.texImage2D(n,s,i,this.__internalFormat,this.__format,n.UNSIGNED_BYTE,t.buffer.get_src()),this.__context.__bindGLTextureCubeMap(null),this.__uploadedSides|=1<<e)}else this.uploadFromTypedArray(t.get_data(),e,i)},uploadFromByteArray:function(t,e,i,s){null==s&&(s=0),0==e?this.uploadFromTypedArray(t.b,i,s):(null==e&&(e=0),e=null!=(t=Fm.toArrayBuffer(t))?new Uint8Array(t,e):null,this.uploadFromTypedArray(e,i,s))},uploadFromTypedArray:function(t,e,i){if(null==i&&(i=0),null!=t){var s=this.__context.gl,n=this.__size>>i;if(0!=n){var r=this.__sideToTarget(e);this.__context.__bindGLTextureCubeMap(this.__textureID),Ol.texImage2D(s,r,i,this.__internalFormat,n,n,0,this.__format,s.UNSIGNED_BYTE,t),this.__context.__bindGLTextureCubeMap(null),this.__uploadedSides|=1<<e}}},__getGLFramebuffer:function(t,e,i){var s=this.__context.gl;if(null==this.__glFramebuffer&&(this.__glFramebuffer=s.createFramebuffer(),this.__framebufferSurface=-1),this.__framebufferSurface!=i&&(this.__framebufferSurface=i,this.__context.__bindGLFramebuffer(this.__glFramebuffer),s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_CUBE_MAP_POSITIVE_X+i,this.__textureID,0),this.__context.__enableErrorChecking)){var n=s.checkFramebufferStatus(s.FRAMEBUFFER);n!=s.FRAMEBUFFER_COMPLETE&&d_.error("Error: Context3D.setRenderToTexture status:"+n+" width:"+this.__width+" height:"+this.__height,{fileName:"openfl/display3D/textures/CubeTexture.hx",lineNumber:279,className:"openfl.display3D.textures.CubeTexture",methodName:"__getGLFramebuffer"})}return Zu.prototype.__getGLFramebuffer.call(this,t,e,i)},__setSamplerState:function(t){if(Zu.prototype.__setSamplerState.call(this,t)){var e=this.__context.gl;if(2==t.mipfilter||this.__samplerState.mipmapGenerated||(e.generateMipmap(e.TEXTURE_CUBE_MAP),this.__samplerState.mipmapGenerated=!0),0!=Eu.__glMaxTextureMaxAnisotropy){switch(t.filter){case 0:t=16;break;case 1:t=2;break;case 2:t=4;break;case 3:t=8;break;default:t=1}t>Eu.__glMaxTextureMaxAnisotropy&&(t=Eu.__glMaxTextureMaxAnisotropy),e.texParameterf(e.TEXTURE_CUBE_MAP,Eu.__glTextureMaxAnisotropy,t)}return!0}return!1},__sideToTarget:function(t){var e=this.__context.gl;switch(t){case 0:return e.TEXTURE_CUBE_MAP_POSITIVE_X;case 1:return e.TEXTURE_CUBE_MAP_NEGATIVE_X;case 2:return e.TEXTURE_CUBE_MAP_POSITIVE_Y;case 3:return e.TEXTURE_CUBE_MAP_NEGATIVE_Y;case 4:return e.TEXTURE_CUBE_MAP_POSITIVE_Z;case 5:return e.TEXTURE_CUBE_MAP_NEGATIVE_Z;default:throw new rd}},__uploadCompressedTextureFromByteArray:function(t,e){var i=this,s=(t=new Ku(t,e)).readHeader(this.__size,this.__size,!0),n=this.__context.gl;this.__context.__bindGLTextureCubeMap(this.__textureID);var r=!1;if(t.readTextures(function(t,e,a,o,l,h,_){var c=s?Zu.__compressedFormatsAlpha.h[a]:Zu.__compressedFormats.h[a];if(0!=c)if(r=!0,t=i.__sideToTarget(t),i.__format=c,i.__internalFormat=c,s&&2==a){h=h/2|0;var u=a=null,d=null,m=null,p=_.b.buffer,f=0;null==f&&(f=0),a=null!=a?new Uint8Array(a):null!=u?new Uint8Array(u):null!=d?new Uint8Array(d.__array):null!=m?new Uint8Array(m):null!=p?null==h?new Uint8Array(p,f):new Uint8Array(p,f,h):null,Ol.compressedTexImage2D(n,t,e,i.__internalFormat,o,l,0,a);var g=new Qu(i.__context,i.__size,3,i.__optimizeForRenderToTexture,i.__streamingLevels);g.__format=c,g.__internalFormat=c,i.__context.__bindGLTextureCubeMap(g.__textureID),m=d=u=a=null,p=_.b.buffer,null==(f=h)&&(f=0),a=null!=a?new Uint8Array(a):null!=u?new Uint8Array(u):null!=d?new Uint8Array(d.__array):null!=m?new Uint8Array(m):null!=p?null==h?new Uint8Array(p,f):new Uint8Array(p,f,h):null,Ol.compressedTexImage2D(n,t,e,g.__internalFormat,o,l,0,a),i.__alphaTexture=g}else m=d=u=a=null,p=_.b.buffer,null==(f=0)&&(f=0),a=null!=a?new Uint8Array(a):null!=u?new Uint8Array(u):null!=d?new Uint8Array(d.__array):null!=m?new Uint8Array(m):null!=p?null==h?new Uint8Array(p,f):new Uint8Array(p,f,h):null,Ol.compressedTexImage2D(n,t,e,i.__internalFormat,o,l,0,a)}),!r){var a=e=null,o=null,l=null,h=null;t=null!=(t=this.__size*this.__size*4)?new Uint8Array(t):null!=e?new Uint8Array(e):null!=a?new Uint8Array(a.__array):null!=o?new Uint8Array(o):null!=l?null==h?new Uint8Array(l,0):new Uint8Array(l,0,h):null,Ol.texImage2D(n,this.__sideToTarget(0),0,this.__internalFormat,this.__size,this.__size,0,this.__format,n.UNSIGNED_BYTE,t),h=l=o=a=e=null,t=null!=(t=this.__size*this.__size*4)?new Uint8Array(t):null!=e?new Uint8Array(e):null!=a?new Uint8Array(a.__array):null!=o?new Uint8Array(o):null!=l?null==h?new Uint8Array(l,0):new Uint8Array(l,0,h):null,Ol.texImage2D(n,this.__sideToTarget(1),0,this.__internalFormat,this.__size,this.__size,0,this.__format,n.UNSIGNED_BYTE,t),h=l=o=a=e=null,t=null!=(t=this.__size*this.__size*4)?new Uint8Array(t):null!=e?new Uint8Array(e):null!=a?new Uint8Array(a.__array):null!=o?new Uint8Array(o):null!=l?null==h?new Uint8Array(l,0):new Uint8Array(l,0,h):null,Ol.texImage2D(n,this.__sideToTarget(2),0,this.__internalFormat,this.__size,this.__size,0,this.__format,n.UNSIGNED_BYTE,t),h=l=o=a=e=null,t=null!=(t=this.__size*this.__size*4)?new Uint8Array(t):null!=e?new Uint8Array(e):null!=a?new Uint8Array(a.__array):null!=o?new Uint8Array(o):null!=l?null==h?new Uint8Array(l,0):new Uint8Array(l,0,h):null,Ol.texImage2D(n,this.__sideToTarget(3),0,this.__internalFormat,this.__size,this.__size,0,this.__format,n.UNSIGNED_BYTE,t),h=l=o=a=e=null,t=null!=(t=this.__size*this.__size*4)?new Uint8Array(t):null!=e?new Uint8Array(e):null!=a?new Uint8Array(a.__array):null!=o?new Uint8Array(o):null!=l?null==h?new Uint8Array(l,0):new Uint8Array(l,0,h):null,Ol.texImage2D(n,this.__sideToTarget(4),0,this.__internalFormat,this.__size,this.__size,0,this.__format,n.UNSIGNED_BYTE,t),h=l=o=a=e=null,t=null!=(t=this.__size*this.__size*4)?new Uint8Array(t):null!=e?new Uint8Array(e):null!=a?new Uint8Array(a.__array):null!=o?new Uint8Array(o):null!=l?null==h?new Uint8Array(l,0):new Uint8Array(l,0,h):null,Ol.texImage2D(n,this.__sideToTarget(5),0,this.__internalFormat,this.__size,this.__size,0,this.__format,n.UNSIGNED_BYTE,t)}this.__context.__bindGLTextureCubeMap(null)},__class__:Qu});var qu=function(t,e,i,s,n){Zu.call(this,t),this.__width=e,this.__height=i,this.__optimizeForRenderToTexture=n,this.__textureTarget=this.__context.gl.TEXTURE_2D,this.uploadFromTypedArray(null),n&&this.__getGLFramebuffer(!0,0,0)};r["openfl.display3D.textures.RectangleTexture"]=qu,qu.__name__="openfl.display3D.textures.RectangleTexture",qu.__super__=Zu,qu.prototype=i(Zu.prototype,{uploadFromBitmapData:function(t){if(null!=t&&null!=(t=this.__getImage(t)))if(null!=t.buffer&&null==t.buffer.data&&null!=t.buffer.get_src()){var e=this.__context.gl;this.__context.__bindGLTexture2D(this.__textureID),Ol.texImage2D(e,this.__textureTarget,0,this.__internalFormat,this.__format,e.UNSIGNED_BYTE,t.buffer.get_src()),this.__context.__bindGLTexture2D(null)}else this.uploadFromTypedArray(t.get_data())},uploadFromByteArray:function(t,e){0==e?this.uploadFromTypedArray(t.b):(null==e&&(e=0),e=null!=(t=Fm.toArrayBuffer(t))?new Uint8Array(t,e):null,this.uploadFromTypedArray(e))},uploadFromTypedArray:function(t){var e=this.__context.gl;this.__context.__bindGLTexture2D(this.__textureID),Ol.texImage2D(e,this.__textureTarget,0,this.__internalFormat,this.__width,this.__height,0,this.__format,e.UNSIGNED_BYTE,t),this.__context.__bindGLTexture2D(null)},__setSamplerState:function(t){if(Zu.prototype.__setSamplerState.call(this,t)){var e=this.__context.gl;if(0!=Eu.__glMaxTextureMaxAnisotropy){switch(t.filter){case 0:t=16;break;case 1:t=2;break;case 2:t=4;break;case 3:t=8;break;default:t=1}t>Eu.__glMaxTextureMaxAnisotropy&&(t=Eu.__glMaxTextureMaxAnisotropy),e.texParameterf(e.TEXTURE_2D,Eu.__glTextureMaxAnisotropy,t)}return!0}return!1},__class__:qu});var $u=function(t,e,i,s,n,r){Zu.call(this,t),this.__width=e,this.__height=i,this.__optimizeForRenderToTexture=n,this.__streamingLevels=r,t=this.__context.gl,this.__textureTarget=t.TEXTURE_2D,this.__context.__bindGLTexture2D(this.__textureID),Ol.texImage2D(t,this.__textureTarget,0,this.__internalFormat,this.__width,this.__height,0,this.__format,t.UNSIGNED_BYTE,null),this.__context.__bindGLTexture2D(null),n&&this.__getGLFramebuffer(!0,0,0)};r["openfl.display3D.textures.Texture"]=$u,$u.__name__="openfl.display3D.textures.Texture",$u.__super__=Zu,$u.prototype=i(Zu.prototype,{uploadCompressedTextureFromByteArray:function(t,e,i){null==i&&(i=!1);var s=this;i?Ia.delay(function(){s.__uploadCompressedTextureFromByteArray(t,e);var i=new _i("textureReady");s.dispatchEvent(i)},1):this.__uploadCompressedTextureFromByteArray(t,e)},uploadFromBitmapData:function(t,e,i){if(null==e&&(e=0),null!=t){i=this.__width>>e;var s=this.__height>>e;if((0!=i||0!=s)&&(0==i&&(i=1),0==s&&(s=1),t.width==i&&t.height==s||((i=new O_(i,s,!0,0)).draw(t),t=i),null!=(t=this.__getImage(t))))if(0==e&&null!=t.buffer&&null==t.buffer.data&&null!=t.buffer.get_src()){var n=this.__context.gl;i=this.__width>>e,s=this.__height>>e,0==i&&0==s||(this.__context.__bindGLTexture2D(this.__textureID),Ol.texImage2D(n,this.__textureTarget,e,this.__internalFormat,this.__format,n.UNSIGNED_BYTE,t.buffer.get_src()),this.__context.__bindGLTexture2D(null))}else this.uploadFromTypedArray(t.get_data(),e)}},uploadFromByteArray:function(t,e,i){null==i&&(i=0),0==e?this.uploadFromTypedArray(t.b,i):(null==e&&(e=0),e=null!=(t=Fm.toArrayBuffer(t))?new Uint8Array(t,e):null,this.uploadFromTypedArray(e,i))},uploadFromTypedArray:function(t,e){if(null==e&&(e=0),null!=t){var i=this.__context.gl,s=this.__width>>e,n=this.__height>>e;0==s&&0==n||(0==s&&(s=1),0==n&&(n=1),this.__context.__bindGLTexture2D(this.__textureID),Ol.texImage2D(i,this.__textureTarget,e,this.__internalFormat,s,n,0,this.__format,i.UNSIGNED_BYTE,t),this.__context.__bindGLTexture2D(null))}},__setSamplerState:function(t){if(Zu.prototype.__setSamplerState.call(this,t)){var e=this.__context.gl;if(2==t.mipfilter||this.__samplerState.mipmapGenerated||(e.generateMipmap(e.TEXTURE_2D),this.__samplerState.mipmapGenerated=!0),0!=Eu.__glMaxTextureMaxAnisotropy){switch(t.filter){case 0:t=16;break;case 1:t=2;break;case 2:t=4;break;case 3:t=8;break;default:t=1}t>Eu.__glMaxTextureMaxAnisotropy&&(t=Eu.__glMaxTextureMaxAnisotropy),e.texParameterf(e.TEXTURE_2D,Eu.__glTextureMaxAnisotropy,t)}return!0}return!1},__uploadCompressedTextureFromByteArray:function(t,e){var i=this,s=(t=new Ku(t,e)).readHeader(this.__width,this.__height,!1),n=this.__context.gl;this.__context.__bindGLTexture2D(this.__textureID);var r=!1;t.readTextures(function(t,e,a,o,l,h,_){if(0!=(t=s?Zu.__compressedFormatsAlpha.h[a]:Zu.__compressedFormats.h[a]))if(r=!0,i.__format=t,i.__internalFormat=t,s&&2==a){h=h/2|0;var c=a=null,u=null,d=null,m=_.b.buffer,p=0;null==p&&(p=0),a=null!=a?new Uint8Array(a):null!=c?new Uint8Array(c):null!=u?new Uint8Array(u.__array):null!=d?new Uint8Array(d):null!=m?null==h?new Uint8Array(m,p):new Uint8Array(m,p,h):null,Ol.compressedTexImage2D(n,i.__textureTarget,e,i.__internalFormat,o,l,0,a);var f=new $u(i.__context,i.__width,i.__height,3,i.__optimizeForRenderToTexture,i.__streamingLevels);f.__format=t,f.__internalFormat=t,i.__context.__bindGLTexture2D(f.__textureID),d=u=c=a=null,m=_.b.buffer,null==(p=h)&&(p=0),a=null!=a?new Uint8Array(a):null!=c?new Uint8Array(c):null!=u?new Uint8Array(u.__array):null!=d?new Uint8Array(d):null!=m?null==h?new Uint8Array(m,p):new Uint8Array(m,p,h):null,Ol.compressedTexImage2D(n,f.__textureTarget,e,f.__internalFormat,o,l,0,a),i.__alphaTexture=f}else d=u=c=a=null,m=_.b.buffer,null==(p=0)&&(p=0),a=null!=a?new Uint8Array(a):null!=c?new Uint8Array(c):null!=u?new Uint8Array(u.__array):null!=d?new Uint8Array(d):null!=m?null==h?new Uint8Array(m,p):new Uint8Array(m,p,h):null,Ol.compressedTexImage2D(n,i.__textureTarget,e,i.__internalFormat,o,l,0,a)}),r||(t=null!=(t=this.__width*this.__height*4)?new Uint8Array(t):null,Ol.texImage2D(n,this.__textureTarget,0,this.__internalFormat,this.__width,this.__height,0,this.__format,n.UNSIGNED_BYTE,t)),this.__context.__bindGLTexture2D(null)},__class__:$u});var td=function(t){Zu.call(this,t),this.__textureTarget=this.__context.gl.TEXTURE_2D};r["openfl.display3D.textures.VideoTexture"]=td,td.__name__="openfl.display3D.textures.VideoTexture",td.__super__=Zu,td.prototype=i(Zu.prototype,{videoHeight:null,videoWidth:null,__cacheTime:null,__netStream:null,attachNetStream:function(t){var e=this;null!=this.__netStream&&this.__netStream.__video.removeEventListener("canplay",n(this,this.__onCanPlay),!1),this.__cacheTime=-1,this.__netStream=t,null!=this.__netStream&&(2<=this.__netStream.__video.readyState?Ia.delay(function(){e.__textureReady()},0):this.__netStream.__video.addEventListener("canplay",n(this,this.__onCanPlay),!1))},dispose:function(){null!=this.__netStream&&null!=this.__netStream.__video&&this.__netStream.__video.removeEventListener("timeupdate",n(this,this.__onTimeUpdate)),Zu.prototype.dispose.call(this)},__onCanPlay:function(t){this.__netStream.__video.addEventListener("timeupdate",n(this,this.__onTimeUpdate)),this.__textureReady()},__onTimeUpdate:function(t){null!=this.__netStream&&this.__netStream.__video.currentTime!=this.__cacheTime&&2<=this.__netStream.__video.readyState&&this.__textureReady()},__getTexture:function(){if(this.__netStream.__video.currentTime!=this.__cacheTime&&2<=this.__netStream.__video.readyState){var t=this.__context.gl;this.__context.__bindGLTexture2D(this.__textureID),Ol.texImage2D(t,t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,this.__netStream.__video),this.__cacheTime=this.__netStream.__video.currentTime}return this.__textureID},__textureReady:function(){this.videoWidth=this.__netStream.__video.videoWidth,this.videoHeight=this.__netStream.__video.videoHeight;var t=new _i("textureReady");this.dispatchEvent(t)},__class__:td});var ed=function(t,e){null==e&&(e=0),null==t&&(t=""),wa.call(this,t),this.errorID=e,this.name="Error",this.__skipStack++};r["openfl.errors.Error"]=ed,ed.__name__="openfl.errors.Error",ed.__super__=wa,ed.prototype=i(wa.prototype,{errorID:null,name:null,getStackTrace:function(){return xa.toString(xa.exceptionStack())},toString:function(){return null!=this.get_message()?this.get_message():"Error"},__class__:ed});var id=function(t){null==t&&(t=""),ed.call(this,t),this.name="ArgumentError",this.__skipStack++};r["openfl.errors.ArgumentError"]=id,id.__name__="openfl.errors.ArgumentError",id.__super__=ed,id.prototype=i(ed.prototype,{__class__:id});var sd=function(t){null==t&&(t=""),ed.call(this,t),this.name="IOError",this.__skipStack++};r["openfl.errors.IOError"]=sd,sd.__name__="openfl.errors.IOError",sd.__super__=ed,sd.prototype=i(ed.prototype,{__class__:sd});var nd=function(t,e){sd.call(this,"End of file was encountered"),this.name="EOFError",this.errorID=2030,this.__skipStack++};r["openfl.errors.EOFError"]=nd,nd.__name__="openfl.errors.EOFError",nd.__super__=sd,nd.prototype=i(sd.prototype,{__class__:nd});var rd=function(t){null==t&&(t=""),ed.call(this,t,0),this.name="IllegalOperationError",this.__skipStack++};r["openfl.errors.IllegalOperationError"]=rd,rd.__name__="openfl.errors.IllegalOperationError",rd.__super__=ed,rd.prototype=i(ed.prototype,{__class__:rd});var ad=function(t){null==t&&(t=""),ed.call(this,t,0),this.name="RangeError",this.__skipStack++};r["openfl.errors.RangeError"]=ad,ad.__name__="openfl.errors.RangeError",ad.__super__=ed,ad.prototype=i(ed.prototype,{__class__:ad});var od=function(t){null==t&&(t=""),ed.call(this,t,0),this.name="SecurityError",this.__skipStack++};r["openfl.errors.SecurityError"]=od,od.__name__="openfl.errors.SecurityError",od.__super__=ed,od.prototype=i(ed.prototype,{__class__:od});var ld=function(t){null==t&&(t=""),ed.call(this,t,0),this.name="TypeError",this.__skipStack++};r["openfl.errors.TypeError"]=ld,ld.__name__="openfl.errors.TypeError",ld.__super__=ed,ld.prototype=i(ed.prototype,{__class__:ld});var hd=function(t,e,i,s){null==s&&(s=!1),null==i&&(i=!1),null==e&&(e=!1),_i.call(this,t,e,i),this.activating=s};r["openfl.events.ActivityEvent"]=hd,hd.__name__="openfl.events.ActivityEvent",hd.__super__=_i,hd.prototype=i(_i.prototype,{activating:null,clone:function(){var t=new hd(this.type,this.bubbles,this.cancelable,this.activating);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("ActivityEvent",["type","bubbles","cancelable","activating"])},__init:function(){_i.prototype.__init.call(this),this.activating=!1},__class__:hd});var _d=function(t,e,i,s){null==s&&(s=""),null==i&&(i=!1),null==e&&(e=!1),_i.call(this,t,e,i),this.text=s};r["openfl.events.TextEvent"]=_d,_d.__name__="openfl.events.TextEvent",_d.__super__=_i,_d.prototype=i(_i.prototype,{text:null,clone:function(){var t=new _d(this.type,this.bubbles,this.cancelable,this.text);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("TextEvent",["type","bubbles","cancelable","text"])},__init:function(){_i.prototype.__init.call(this),this.text=""},__class__:_d});var cd=function(t,e,i,s,n){null==n&&(n=0),null==s&&(s=""),null==i&&(i=!1),null==e&&(e=!1),_d.call(this,t,e,i,s),this.errorID=n};r["openfl.events.ErrorEvent"]=cd,cd.__name__="openfl.events.ErrorEvent",cd.__super__=_d,cd.prototype=i(_d.prototype,{errorID:null,clone:function(){var t=new cd(this.type,this.bubbles,this.cancelable,this.text,this.errorID);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("ErrorEvent",["type","bubbles","cancelable","text","errorID"])},__init:function(){_d.prototype.__init.call(this),this.errorID=0},__class__:cd});var ud=function(t){this.active=!1,this.reset(t)};r["openfl.events._EventDispatcher.DispatchIterator"]=ud,ud.__name__="openfl.events._EventDispatcher.DispatchIterator",ud.prototype={active:null,index:null,isCopy:null,list:null,copy:function(){this.isCopy||(this.list=this.list.slice(),this.isCopy=!0)},hasNext:function(){return this.index<this.list.length},next:function(){return this.list[this.index++]},remove:function(t,e){if(this.active)if(this.isCopy){e=this.index;for(var i=this.list.length;e<i;){var s=e++;if(this.list[s]==t){this.list.splice(s,1);break}}}else e<this.index&&this.index--},reset:function(t){this.list=t,this.isCopy=!1,this.index=0},start:function(){this.active=!0},stop:function(){this.active=!1},__class__:ud};var dd=function(t,e,i){this.callback=t,this.useCapture=e,this.priority=i};r["openfl.events._EventDispatcher.Listener"]=dd,dd.__name__="openfl.events._EventDispatcher.Listener",dd.prototype={callback:null,priority:null,useCapture:null,match:function(t,e){return!!f.compareMethods(this.callback,t)&&this.useCapture==e},__class__:dd};var md=function(t,e,i,s,n,r){null==r&&(r=0),null==n&&(n=!1),null==i&&(i=!1),null==e&&(e=!1),_i.call(this,t,e,i),this.keyCode=r,this.shiftKey=n,this.relatedObject=s};r["openfl.events.FocusEvent"]=md,md.__name__="openfl.events.FocusEvent",md.__super__=_i,md.prototype=i(_i.prototype,{keyCode:null,relatedObject:null,shiftKey:null,clone:function(){var t=new md(this.type,this.bubbles,this.cancelable,this.relatedObject,this.shiftKey,this.keyCode);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("FocusEvent","type bubbles cancelable relatedObject shiftKey keyCode".split(" "))},__init:function(){_i.prototype.__init.call(this),this.keyCode=0,this.shiftKey=!1,this.relatedObject=null},__class__:md});var pd=function(t,e,i,s,n){null==n&&(n=!1),null==s&&(s=!1),null==i&&(i=!1),null==e&&(e=!1),hd.call(this,t,e,i),this.fullScreen=s,this.interactive=n};r["openfl.events.FullScreenEvent"]=pd,pd.__name__="openfl.events.FullScreenEvent",pd.__super__=hd,pd.prototype=i(hd.prototype,{fullScreen:null,interactive:null,clone:function(){var t=new pd(this.type,this.bubbles,this.cancelable,this.fullScreen,this.interactive);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("FullscreenEvent",["type","bubbles","cancelable","fullscreen","interactive"])},__init:function(){hd.prototype.__init.call(this),this.interactive=this.fullScreen=!1},__class__:pd});var fd=function(t,e,i,s){null==i&&(i=!1),null==e&&(e=!0),_i.call(this,t,e,i),this.device=s};r["openfl.events.GameInputEvent"]=fd,fd.__name__="openfl.events.GameInputEvent",fd.__super__=_i,fd.prototype=i(_i.prototype,{device:null,clone:function(){var t=new fd(this.type,this.bubbles,this.cancelable,this.device);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("GameInputEvent",["type","bubbles","cancelable","device"])},__init:function(){_i.prototype.__init.call(this),this.device=null},__class__:fd});var gd=function(t,e,i,s,n){null==n&&(n=!1),null==s&&(s=0),null==i&&(i=!1),null==e&&(e=!1),this.status=s,this.redirected=n,_i.call(this,t,e,i)};r["openfl.events.HTTPStatusEvent"]=gd,gd.__name__="openfl.events.HTTPStatusEvent",gd.__super__=_i,gd.prototype=i(_i.prototype,{redirected:null,responseHeaders:null,responseURL:null,status:null,clone:function(){var t=new gd(this.type,this.bubbles,this.cancelable,this.status,this.redirected);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("HTTPStatusEvent",["type","bubbles","cancelable","status","redirected"])},__init:function(){_i.prototype.__init.call(this),this.status=0,this.redirected=!1},__class__:gd});var yd=function(t,e,i,s,n){null==n&&(n=0),null==s&&(s=""),null==i&&(i=!1),null==e&&(e=!0),cd.call(this,t,e,i,s,n)};r["openfl.events.IOErrorEvent"]=yd,yd.__name__="openfl.events.IOErrorEvent",yd.__super__=cd,yd.prototype=i(cd.prototype,{clone:function(){var t=new yd(this.type,this.bubbles,this.cancelable,this.text,this.errorID);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("IOErrorEvent",["type","bubbles","cancelable","text","errorID"])},__class__:yd});var bd=function(t,e,i,s,n,r,a,o,l,h,_){null==_&&(_=!1),null==h&&(h=!1),null==l&&(l=!1),null==o&&(o=!1),null==a&&(a=!1),null==n&&(n=0),null==s&&(s=0),null==i&&(i=!1),null==e&&(e=!1),_i.call(this,t,e,i),this.charCode=s,this.keyCode=n,this.keyLocation=null!=r?r:0,this.ctrlKey=a,this.altKey=o,this.shiftKey=l,this.controlKey=h,this.commandKey=_};r["openfl.events.KeyboardEvent"]=bd,bd.__name__="openfl.events.KeyboardEvent",bd.__super__=_i,bd.prototype=i(_i.prototype,{altKey:null,charCode:null,commandKey:null,controlKey:null,ctrlKey:null,keyCode:null,keyLocation:null,shiftKey:null,clone:function(){var t=new bd(this.type,this.bubbles,this.cancelable,this.charCode,this.keyCode,this.keyLocation,this.ctrlKey,this.altKey,this.shiftKey,this.controlKey,this.commandKey);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("KeyboardEvent","type bubbles cancelable charCode keyCode keyLocation ctrlKey altKey shiftKey".split(" "))},__init:function(){_i.prototype.__init.call(this),this.keyLocation=this.keyCode=this.charCode=0,this.commandKey=this.controlKey=this.shiftKey=this.altKey=this.ctrlKey=!1},__class__:bd});var vd=function(t,e,i,s,n,r,a,o,l,h,_,c,u){null==u&&(u=0),null==c&&(c=!1),null==_&&(_=0),null==h&&(h=!1),null==l&&(l=!1),null==o&&(o=!1),null==a&&(a=!1),null==n&&(n=0),null==s&&(s=0),null==i&&(i=!1),null==e&&(e=!0),_i.call(this,t,e,i),this.shiftKey=l,this.altKey=o,this.ctrlKey=a,this.bubbles=e,this.relatedObject=r,this.delta=_,this.localX=s,this.localY=n,this.buttonDown=h,this.commandKey=c,this.clickCount=u,this.isRelatedObjectInaccessible=!1,this.stageY=this.stageX=NaN};r["openfl.events.MouseEvent"]=vd,vd.__name__="openfl.events.MouseEvent",vd.__create=function(t,e,i,s,n,r,a){return null==a&&(a=0),(t=new vd(t,!0,!1,n.x,n.y,null,vd.__ctrlKey,vd.__altKey,vd.__shiftKey,vd.__buttonDown,a,vd.__commandKey)).stageX=i,t.stageY=s,t.target=r,t},vd.__super__=_i,vd.prototype=i(_i.prototype,{altKey:null,buttonDown:null,commandKey:null,clickCount:null,ctrlKey:null,delta:null,isRelatedObjectInaccessible:null,localX:null,localY:null,relatedObject:null,shiftKey:null,stageX:null,stageY:null,clone:function(){var t=new vd(this.type,this.bubbles,this.cancelable,this.localX,this.localY,this.relatedObject,this.ctrlKey,this.altKey,this.shiftKey,this.buttonDown,this.delta,this.commandKey,this.clickCount);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("MouseEvent","type bubbles cancelable localX localY relatedObject ctrlKey altKey shiftKey buttonDown delta".split(" "))},updateAfterEvent:function(){},__init:function(){_i.prototype.__init.call(this),this.bubbles=this.ctrlKey=this.altKey=this.shiftKey=!1,this.relatedObject=null,this.localY=this.localX=this.delta=0,this.commandKey=this.buttonDown=!1,this.clickCount=0,this.isRelatedObjectInaccessible=!1,this.stageY=this.stageX=NaN},__class__:vd});var xd=function(t,e,i,s){null==i&&(i=!1),null==e&&(e=!1),this.info=s,_i.call(this,t,e,i)};r["openfl.events.NetStatusEvent"]=xd,xd.__name__="openfl.events.NetStatusEvent",xd.__super__=_i,xd.prototype=i(_i.prototype,{info:null,clone:function(){var t=new xd(this.type,this.bubbles,this.cancelable,this.info);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("NetStatusEvent",["type","bubbles","cancelable","info"])},__init:function(){_i.prototype.__init.call(this),this.info=null},__class__:xd});var wd=function(t,e,i,s,n){null==n&&(n=0),null==s&&(s=0),null==i&&(i=!1),null==e&&(e=!1),_i.call(this,t,e,i),this.bytesLoaded=s,this.bytesTotal=n};r["openfl.events.ProgressEvent"]=wd,wd.__name__="openfl.events.ProgressEvent",wd.__super__=_i,wd.prototype=i(_i.prototype,{bytesLoaded:null,bytesTotal:null,clone:function(){var t=new wd(this.type,this.bubbles,this.cancelable,this.bytesLoaded,this.bytesTotal);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("ProgressEvent",["type","bubbles","cancelable","bytesLoaded","bytesTotal"])},__init:function(){_i.prototype.__init.call(this),this.bytesTotal=this.bytesLoaded=0},__class__:wd});var Sd=function(t,e,i,s,n,r){null==r&&(r=!0),null==i&&(i=!1),null==e&&(e=!1),_i.call(this,t,e,i),this.objectMatrix=s,this.objectColorTransform=n,this.allowSmoothing=r};r["openfl.events.RenderEvent"]=Sd,Sd.__name__="openfl.events.RenderEvent",Sd.__super__=_i,Sd.prototype=i(_i.prototype,{allowSmoothing:null,objectColorTransform:null,objectMatrix:null,renderer:null,clone:function(){var t=new Sd(this.type,this.bubbles,this.cancelable,this.objectMatrix.clone(),this.objectColorTransform.__clone(),this.allowSmoothing);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("RenderEvent",["type","bubbles","cancelable"])},__init:function(){_i.prototype.__init.call(this),this.objectColorTransform=this.objectMatrix=null,this.allowSmoothing=!1,this.renderer=null},__class__:Sd});var Rd=function(t,e,i,s,n){null==n&&(n=0),null==s&&(s=""),null==i&&(i=!1),null==e&&(e=!1),cd.call(this,t,e,i,s,n)};r["openfl.events.SecurityErrorEvent"]=Rd,Rd.__name__="openfl.events.SecurityErrorEvent",Rd.__super__=cd,Rd.prototype=i(cd.prototype,{clone:function(){var t=new Rd(this.type,this.bubbles,this.cancelable,this.text,this.errorID);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("SecurityErrorEvent",["type","bubbles","cancelable","text","errorID"])},__class__:Rd});var Ad=function(t,e,i,s,n,r,a,o,l,h,_,c,u,d,m,p,f,g,y,b){null==p&&(p=!1),null==m&&(m=!1),null==d&&(d=!1),null==u&&(u=!1),null==c&&(c=!1),null==h&&(h=0),null==l&&(l=0),null==o&&(o=0),null==a&&(a=0),null==r&&(r=0),null==n&&(n=!1),null==s&&(s=0),null==i&&(i=!1),null==e&&(e=!0),_i.call(this,t,e,i),this.touchPointID=s,this.isPrimaryTouchPoint=n,this.localX=r,this.localY=a,this.sizeX=o,this.sizeY=l,this.pressure=h,this.relatedObject=_,this.ctrlKey=c,this.altKey=u,this.shiftKey=d,this.commandKey=m,this.controlKey=p,this.stageY=this.stageX=NaN};r["openfl.events.TouchEvent"]=Ad,Ad.__name__="openfl.events.TouchEvent",Ad.__create=function(t,e,i,s,n,r){return(t=new Ad(t,!0,!1,0,!0,n.x,n.y,1,1,1)).stageX=i,t.stageY=s,t.target=r,t},Ad.__super__=_i,Ad.prototype=i(_i.prototype,{altKey:null,commandKey:null,controlKey:null,ctrlKey:null,delta:null,isPrimaryTouchPoint:null,localX:null,localY:null,pressure:null,relatedObject:null,shiftKey:null,sizeX:null,sizeY:null,stageX:null,stageY:null,touchPointID:null,clone:function(){var t=new Ad(this.type,this.bubbles,this.cancelable,this.touchPointID,this.isPrimaryTouchPoint,this.localX,this.localY,this.sizeX,this.sizeY,this.pressure,this.relatedObject,this.ctrlKey,this.altKey,this.shiftKey,this.commandKey,this.controlKey);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("TouchEvent","type bubbles cancelable touchPointID isPrimaryTouchPoint localX localY sizeX sizeY pressure relatedObject ctrlKey altKey shiftKey commandKey controlKey".split(" "))},updateAfterEvent:function(){},__init:function(){_i.prototype.__init.call(this),this.touchPointID=0,this.isPrimaryTouchPoint=!1,this.pressure=this.sizeY=this.sizeX=this.localY=this.localX=0,this.relatedObject=null,this.controlKey=this.commandKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.stageY=this.stageX=NaN},__class__:Ad});var Td=function(t,e,i,s){null==i&&(i=!0),null==e&&(e=!0),cd.call(this,t,e,i),this.error=s};r["openfl.events.UncaughtErrorEvent"]=Td,Td.__name__="openfl.events.UncaughtErrorEvent",Td.__super__=cd,Td.prototype=i(cd.prototype,{error:null,clone:function(){var t=new Td(this.type,this.bubbles,this.cancelable,this.error);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("UncaughtErrorEvent",["type","bubbles","cancelable","error"])},__init:function(){cd.prototype.__init.call(this),this.error=null},__class__:Td});var Md=function(){A.call(this)};r["openfl.events.UncaughtErrorEvents"]=Md,Md.__name__="openfl.events.UncaughtErrorEvents",Md.__super__=A,Md.prototype=i(A.prototype,{__enabled:null,addEventListener:function(t,e,i,s,n){null==n&&(n=!1),null==s&&(s=0),null==i&&(i=!1),A.prototype.addEventListener.call(this,t,e,i,s,n),Object.prototype.hasOwnProperty.call(this.__eventMap.h,"uncaughtError")&&(this.__enabled=!0)},removeEventListener:function(t,e,i){null==i&&(i=!1),A.prototype.removeEventListener.call(this,t,e,i),Object.prototype.hasOwnProperty.call(this.__eventMap.h,"uncaughtError")||(this.__enabled=!1)},__class__:Md});var Pd=function(){this.__leftExtension=this.__bottomExtension=0,this.__needSecondBitmapData=!0,this.__numShaderPasses=0,this.__preserveObject=!1,this.__rightExtension=0,this.__shaderBlendMode=10,this.__topExtension=0,this.__smooth=!0};r["openfl.filters.BitmapFilter"]=Pd,Pd.__name__="openfl.filters.BitmapFilter",Pd.prototype={__bottomExtension:null,__leftExtension:null,__needSecondBitmapData:null,__numShaderPasses:null,__preserveObject:null,__renderDirty:null,__rightExtension:null,__shaderBlendMode:null,__smooth:null,__topExtension:null,clone:function(){return new Pd},__applyFilter:function(t,e,i,s){return e},__initShader:function(t,e,i){return null},__class__:Pd};var Cd=function(t){null==this.__glFragmentSource&&(this.__glFragmentSource="varying vec2 openfl_TextureCoordv;\n\n\t\tuniform sampler2D openfl_Texture;\n\t\tuniform vec2 openfl_TextureSize;\n\n\t\tvoid main(void) {\n\n\t\t\tgl_FragColor = texture2D (openfl_Texture, openfl_TextureCoordv);\n\n\t\t}"),null==this.__glVertexSource&&(this.__glVertexSource="attribute vec4 openfl_Position;\n\t\tattribute vec2 openfl_TextureCoord;\n\n\t\tvarying vec2 openfl_TextureCoordv;\n\n\t\tuniform mat4 openfl_Matrix;\n\t\tuniform vec2 openfl_TextureSize;\n\n\t\tvoid main(void) {\n\n\t\t\topenfl_TextureCoordv = openfl_TextureCoord;\n\n\t\tgl_Position = openfl_Matrix * openfl_Position;\n\n\t\t}"),X_.call(this,t),this.__isGenerated=!0,this.__initGL()};r["openfl.filters.BitmapFilterShader"]=Cd,Cd.__name__="openfl.filters.BitmapFilterShader",Cd.__super__=X_,Cd.prototype=i(X_.prototype,{openfl_Position:null,openfl_TextureCoord:null,openfl_Matrix:null,openfl_TextureSize:null,openfl_Texture:null,__class__:Cd});var Id=function(){null==this.__glFragmentSource&&(this.__glFragmentSource="varying vec2 openfl_TextureCoordv;\n\t\tuniform sampler2D openfl_Texture;\n\n\t\tuniform mat4 uMultipliers;\n\t\tuniform vec4 uOffsets;\n\n\t\tvoid main(void) {\n\n\t\t\tvec4 color = texture2D (openfl_Texture, openfl_TextureCoordv);\n\n\t\t\tif (color.a == 0.0) {\n\n\t\t\t\tgl_FragColor = vec4 (0.0, 0.0, 0.0, 0.0);\n\n\t\t\t} else {\n\n\t\t\t\tcolor = vec4 (color.rgb / color.a, color.a);\n\t\t\t\tcolor = uOffsets + color * uMultipliers;\n\n\t\t\t\tgl_FragColor = vec4 (color.rgb * color.a, color.a);\n\n\t\t\t}\n\n\t\t}"),null==this.__glVertexSource&&(this.__glVertexSource="attribute vec4 openfl_Position;\n\t\tattribute vec2 openfl_TextureCoord;\n\n\t\tvarying vec2 openfl_TextureCoordv;\n\n\t\tuniform mat4 openfl_Matrix;\n\t\tuniform vec2 openfl_TextureSize;\n\n\n\t\tvoid main(void) {\n\n\t\t\topenfl_TextureCoordv = openfl_TextureCoord;\n\n\t\tgl_Position = openfl_Matrix * openfl_Position;\n\n\n\t\t}"),Cd.call(this),this.uMultipliers.value=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],this.uOffsets.value=[0,0,0,0],this.__isGenerated=!0,this.__initGL()};r["openfl.filters._ColorMatrixFilter.ColorMatrixShader"]=Id,Id.__name__="openfl.filters._ColorMatrixFilter.ColorMatrixShader",Id.__super__=Cd,Id.prototype=i(Cd.prototype,{init:function(t){var e=this.uMultipliers.value,i=this.uOffsets.value;e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[5],e[5]=t[6],e[6]=t[7],e[7]=t[8],e[8]=t[10],e[9]=t[11],e[10]=t[12],e[11]=t[13],e[12]=t[15],e[13]=t[16],e[14]=t[17],e[15]=t[18],i[0]=t[4]/255,i[1]=t[9]/255,i[2]=t[14]/255,i[3]=t[19]/255},uMultipliers:null,uOffsets:null,__class__:Id});var Ed=function(t){Pd.call(this),this.set_matrix(t),this.__numShaderPasses=1,this.__needSecondBitmapData=!1};r["openfl.filters.ColorMatrixFilter"]=Ed,Ed.__name__="openfl.filters.ColorMatrixFilter",Ed.__super__=Pd,Ed.prototype=i(Pd.prototype,{__matrix:null,clone:function(){return new Ed(this.__matrix)},__applyFilter:function(t,e,i,s){var n=e.image,r=t.image;Vo.convertToData(n),Vo.convertToData(r);var a=n.get_data(),o=r.get_data(),l=s.x-i.x|0;s=s.y-i.y|0,e=4*e.width;var h=4*t.width,_=n.buffer.format,c=r.buffer.format;n=n.buffer.premultiplied,r=r.buffer.premultiplied;for(var u,d,m=0,p=0,f=0|i.y,g=0|i.height;f<g;)for(var y=f++,b=0|i.x,v=0|i.width;b<v;){u=y*e+4*(d=b++),d=(y+l)*h+4*(d+s);var x=_,w=n;switch(null==w&&(w=!1),null==x&&(x=0),x){case 0:m=(255&a[u])<<24|(255&a[u+1])<<16|(255&a[u+2])<<8|255&a[u+3];break;case 1:m=(255&a[u+1])<<24|(255&a[u+2])<<16|(255&a[u+3])<<8|255&a[u];break;case 2:m=(255&a[u+2])<<24|(255&a[u+1])<<16|(255&a[u])<<8|255&a[u+3]}switch(w&&255&m&&255&~m&&(Kl.unmult=255/(255&m),m=(255&Kl.__clamp[Math.round((m>>>24&255)*Kl.unmult)])<<24|(255&Kl.__clamp[Math.round((m>>>16&255)*Kl.unmult)])<<16|(255&Kl.__clamp[Math.round((m>>>8&255)*Kl.unmult)])<<8|255&m),p=255&m?((p=((p=((p=(255&Math.max(0,Math.min(this.__matrix[0]*(m>>>24&255)+this.__matrix[1]*(m>>>16&255)+this.__matrix[2]*(m>>>8&255)+this.__matrix[3]*(255&m)+this.__matrix[4],255)))<<24|(p>>>16&255)<<16|(p>>>8&255)<<8|255&p)>>>24&255)<<24|(255&Math.max(0,Math.min(this.__matrix[5]*(m>>>24&255)+this.__matrix[6]*(m>>>16&255)+this.__matrix[7]*(m>>>8&255)+this.__matrix[8]*(255&m)+this.__matrix[9],255)))<<16|(p>>>8&255)<<8|255&p)>>>24&255)<<24|(p>>>16&255)<<16|(255&Math.max(0,Math.min(this.__matrix[10]*(m>>>24&255)+this.__matrix[11]*(m>>>16&255)+this.__matrix[12]*(m>>>8&255)+this.__matrix[13]*(255&m)+this.__matrix[14],255)))<<8|255&p)>>>24&255)<<24|(p>>>16&255)<<16|(p>>>8&255)<<8|255&Math.max(0,Math.min(this.__matrix[15]*(m>>>24&255)+this.__matrix[16]*(m>>>16&255)+this.__matrix[17]*(m>>>8&255)+this.__matrix[18]*(255&m)+this.__matrix[19],255)):0,null==(x=r)&&(x=!1),null==(u=c)&&(u=0),x&&(255&p?255&~p&&(Kl.a16=Kl.__alpha16[255&p],p=((p>>>24&255)*Kl.a16>>16&255)<<24|((p>>>16&255)*Kl.a16>>16&255)<<16|((p>>>8&255)*Kl.a16>>16&255)<<8|255&p):0!=p&&(p=0)),u){case 0:o[d]=p>>>24&255,o[d+1]=p>>>16&255,o[d+2]=p>>>8&255,o[d+3]=255&p;break;case 1:o[d]=255&p,o[d+1]=p>>>24&255,o[d+2]=p>>>16&255,o[d+3]=p>>>8&255;break;case 2:o[d]=p>>>8&255,o[d+1]=p>>>16&255,o[d+2]=p>>>24&255,o[d+3]=255&p}}return t.image.dirty=!0,t},__initShader:function(t,e,i){return Ed.__colorMatrixShader.init(this.get_matrix()),Ed.__colorMatrixShader},get_matrix:function(){return this.__matrix},set_matrix:function(t){return null==t&&(t=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),this.__matrix=t},__class__:Ed,__properties__:{set_matrix:"set_matrix",get_matrix:"get_matrix"}});var kd=function(t){null!=t&&16==t.get_length()?this.rawData=t.concat(null):this.rawData=M.toFloatVector(null,null,null,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])};r["openfl.geom.Matrix3D"]=kd,kd.__name__="openfl.geom.Matrix3D",kd.create2D=function(t,e,i,s){null==s&&(s=0),null==i&&(i=1);var n=s*Math.PI/180;return s=Math.cos(n),n=Math.sin(n),new kd(M.toFloatVector(null,null,null,[s*i,-n*i,0,0,n*i,s*i,0,0,0,0,1,0,t,e,0,1]))},kd.createABCD=function(t,e,i,s,n,r){return new kd(M.toFloatVector(null,null,null,[t,e,0,0,i,s,0,0,0,0,1,0,n,r,0,1]))},kd.createOrtho=function(t,e,i,s,n,r){var a=1/(e-t),o=1/(s-i),l=1/(r-n);return new kd(M.toFloatVector(null,null,null,[2*a,0,0,0,0,2*o,0,0,0,0,-2*l,0,-(t+e)*a,-(i+s)*o,-(n+r)*l,1]))},kd.interpolate=function(t,e,i){for(var s=new kd,n=0;16>n;){var r=n++;s.rawData.set(r,t.rawData.get(r)+(e.rawData.get(r)-t.rawData.get(r))*i)}return s},kd.__getAxisRotation=function(t,e,i,s){var n=new kd;t=new Bd(t,e,i),s=Math.PI/180*-s,i=Math.cos(s),s=Math.sin(s),e=1-i,n.rawData.set(0,i+t.x*t.x*e),n.rawData.set(5,i+t.y*t.y*e),n.rawData.set(10,i+t.z*t.z*e),i=t.x*t.y*e;var r=t.z*s;return n.rawData.set(4,i+r),n.rawData.set(1,i-r),i=t.x*t.z*e,r=t.y*s,n.rawData.set(8,i-r),n.rawData.set(2,i+r),i=t.y*t.z*e,r=t.x*s,n.rawData.set(9,i+r),n.rawData.set(6,i-r),n},kd.prototype={rawData:null,append:function(t){var e=this.rawData.get(0),i=this.rawData.get(4),s=this.rawData.get(8),n=this.rawData.get(12),r=this.rawData.get(1),a=this.rawData.get(5),o=this.rawData.get(9),l=this.rawData.get(13),h=this.rawData.get(2),_=this.rawData.get(6),c=this.rawData.get(10),u=this.rawData.get(14),d=this.rawData.get(3),m=this.rawData.get(7),p=this.rawData.get(11),f=this.rawData.get(15),g=t.rawData.get(0),y=t.rawData.get(4),b=t.rawData.get(8),v=t.rawData.get(12),x=t.rawData.get(1),w=t.rawData.get(5),R=t.rawData.get(9),S=t.rawData.get(13),A=t.rawData.get(2),T=t.rawData.get(6),M=t.rawData.get(10),P=t.rawData.get(14),C=t.rawData.get(3),I=t.rawData.get(7),k=t.rawData.get(11);t=t.rawData.get(15),this.rawData.set(0,e*g+r*y+h*b+d*v),this.rawData.set(1,e*x+r*w+h*R+d*S),this.rawData.set(2,e*A+r*T+h*M+d*P),this.rawData.set(3,e*C+r*I+h*k+d*t),this.rawData.set(4,i*g+a*y+_*b+m*v),this.rawData.set(5,i*x+a*w+_*R+m*S),this.rawData.set(6,i*A+a*T+_*M+m*P),this.rawData.set(7,i*C+a*I+_*k+m*t),this.rawData.set(8,s*g+o*y+c*b+p*v),this.rawData.set(9,s*x+o*w+c*R+p*S),this.rawData.set(10,s*A+o*T+c*M+p*P),this.rawData.set(11,s*C+o*I+c*k+p*t),this.rawData.set(12,n*g+l*y+u*b+f*v),this.rawData.set(13,n*x+l*w+u*R+f*S),this.rawData.set(14,n*A+l*T+u*M+f*P),this.rawData.set(15,n*C+l*I+u*k+f*t)},appendRotation:function(t,e,i){var s=0,n=s,r=n;null!=i&&(r=i.x,n=i.y,s=i.z),i=t*Math.PI/180,t=Math.cos(i),i=Math.sin(i);var a=e.x,o=e.y,l=a*a,h=o*o,_=(e=e.z)*e,c=l+h+_;if(0!=c){var u=Math.sqrt(c);a/=u,o/=u,e/=u,l/=c,h/=c,_/=c}c=1-t;var d=(u=new kd).rawData;d.set(0,l+(h+_)*t),d.set(1,a*o*c+e*i),d.set(2,a*e*c-o*i),d.set(4,a*o*c-e*i),d.set(5,h+(l+_)*t),d.set(6,o*e*c+a*i),d.set(8,a*e*c+o*i),d.set(9,o*e*c-a*i),d.set(10,_+(l+h)*t),d.set(12,(r*(h+_)-a*(n*o+s*e))*c+(n*e-s*o)*i),d.set(13,(n*(l+_)-o*(r*a+s*e))*c+(s*a-r*e)*i),d.set(14,(s*(l+h)-e*(r*a+n*o))*c+(r*o-n*a)*i),this.append(u)},appendScale:function(t,e,i){this.append(new kd(M.toFloatVector(null,null,null,[t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1])))},appendTranslation:function(t,e,i){var s=this.rawData;s.set(12,s.get(12)+t),(s=this.rawData).set(13,s.get(13)+e),(s=this.rawData).set(14,s.get(14)+i)},clone:function(){return new kd(this.rawData.copy())},copyColumnFrom:function(t,e){switch(t){case 0:this.rawData.set(0,e.x),this.rawData.set(1,e.y),this.rawData.set(2,e.z),this.rawData.set(3,e.w);break;case 1:this.rawData.set(4,e.x),this.rawData.set(5,e.y),this.rawData.set(6,e.z),this.rawData.set(7,e.w);break;case 2:this.rawData.set(8,e.x),this.rawData.set(9,e.y),this.rawData.set(10,e.z),this.rawData.set(11,e.w);break;case 3:this.rawData.set(12,e.x),this.rawData.set(13,e.y),this.rawData.set(14,e.z),this.rawData.set(15,e.w)}},copyColumnTo:function(t,e){switch(t){case 0:e.x=this.rawData.get(0),e.y=this.rawData.get(1),e.z=this.rawData.get(2),e.w=this.rawData.get(3);break;case 1:e.x=this.rawData.get(4),e.y=this.rawData.get(5),e.z=this.rawData.get(6),e.w=this.rawData.get(7);break;case 2:e.x=this.rawData.get(8),e.y=this.rawData.get(9),e.z=this.rawData.get(10),e.w=this.rawData.get(11);break;case 3:e.x=this.rawData.get(12),e.y=this.rawData.get(13),e.z=this.rawData.get(14),e.w=this.rawData.get(15)}},copyFrom:function(t){this.rawData=t.rawData.copy()},copyRawDataFrom:function(t,e,i){null==i&&(i=!1),null==e&&(e=0),i&&this.transpose();for(var s=0,n=t.get_length()-e;s<n;){var r=s++;this.rawData.set(r,t.get(r+e))}i&&this.transpose()},copyRawDataTo:function(t,e,i){null==i&&(i=!1),null==e&&(e=0),i&&this.transpose();for(var s=0,n=this.rawData.get_length();s<n;){var r=s++;t.set(r+e,this.rawData.get(r))}i&&this.transpose()},copyRowFrom:function(t,e){switch(t){case 0:this.rawData.set(0,e.x),this.rawData.set(4,e.y),this.rawData.set(8,e.z),this.rawData.set(12,e.w);break;case 1:this.rawData.set(1,e.x),this.rawData.set(5,e.y),this.rawData.set(9,e.z),this.rawData.set(13,e.w);break;case 2:this.rawData.set(2,e.x),this.rawData.set(6,e.y),this.rawData.set(10,e.z),this.rawData.set(14,e.w);break;case 3:this.rawData.set(3,e.x),this.rawData.set(7,e.y),this.rawData.set(11,e.z),this.rawData.set(15,e.w)}},copyRowTo:function(t,e){switch(t){case 0:e.x=this.rawData.get(0),e.y=this.rawData.get(4),e.z=this.rawData.get(8),e.w=this.rawData.get(12);break;case 1:e.x=this.rawData.get(1),e.y=this.rawData.get(5),e.z=this.rawData.get(9),e.w=this.rawData.get(13);break;case 2:e.x=this.rawData.get(2),e.y=this.rawData.get(6),e.z=this.rawData.get(10),e.w=this.rawData.get(14);break;case 3:e.x=this.rawData.get(3),e.y=this.rawData.get(7),e.z=this.rawData.get(11),e.w=this.rawData.get(15)}},copyToMatrix3D:function(t){t.rawData=this.rawData.copy()},decompose:function(t){null==t&&(t=1);var e=M.toObjectVector(null),i=this.clone().rawData.copy(),s=new Bd(i.get(12),i.get(13),i.get(14));i.set(12,0),i.set(13,0),i.set(14,0);var n=new Bd;n.x=Math.sqrt(i.get(0)*i.get(0)+i.get(1)*i.get(1)+i.get(2)*i.get(2)),n.y=Math.sqrt(i.get(4)*i.get(4)+i.get(5)*i.get(5)+i.get(6)*i.get(6)),n.z=Math.sqrt(i.get(8)*i.get(8)+i.get(9)*i.get(9)+i.get(10)*i.get(10)),0>i.get(0)*(i.get(5)*i.get(10)-i.get(6)*i.get(9))-i.get(1)*(i.get(4)*i.get(10)-i.get(6)*i.get(8))+i.get(2)*(i.get(4)*i.get(9)-i.get(5)*i.get(8))&&(n.z=-n.z);var r=i;switch(r.set(0,r.get(0)/n.x),(r=i).set(1,r.get(1)/n.x),(r=i).set(2,r.get(2)/n.x),(r=i).set(4,r.get(4)/n.y),(r=i).set(5,r.get(5)/n.y),(r=i).set(6,r.get(6)/n.y),(r=i).set(8,r.get(8)/n.z),(r=i).set(9,r.get(9)/n.z),(r=i).set(10,r.get(10)/n.z),r=new Bd,t){case 0:r.w=Math.acos((i.get(0)+i.get(5)+i.get(10)-1)/2),0!=(t=Math.sqrt((i.get(6)-i.get(9))*(i.get(6)-i.get(9))+(i.get(8)-i.get(2))*(i.get(8)-i.get(2))+(i.get(1)-i.get(4))*(i.get(1)-i.get(4))))?(r.x=(i.get(6)-i.get(9))/t,r.y=(i.get(8)-i.get(2))/t,r.z=(i.get(1)-i.get(4))/t):r.x=r.y=r.z=0;break;case 1:r.y=Math.asin(-i.get(2)),1!=i.get(2)&&-1!=i.get(2)?(r.x=Math.atan2(i.get(6),i.get(10)),r.z=Math.atan2(i.get(1),i.get(0))):(r.z=0,r.x=Math.atan2(i.get(4),i.get(5)));break;case 2:0<(t=i.get(0)+i.get(5)+i.get(10))?(r.w=Math.sqrt(1+t)/2,r.x=(i.get(6)-i.get(9))/(4*r.w),r.y=(i.get(8)-i.get(2))/(4*r.w),r.z=(i.get(1)-i.get(4))/(4*r.w)):i.get(0)>i.get(5)&&i.get(0)>i.get(10)?(r.x=Math.sqrt(1+i.get(0)-i.get(5)-i.get(10))/2,r.w=(i.get(6)-i.get(9))/(4*r.x),r.y=(i.get(1)+i.get(4))/(4*r.x),r.z=(i.get(8)+i.get(2))/(4*r.x)):i.get(5)>i.get(10)?(r.y=Math.sqrt(1+i.get(5)-i.get(0)-i.get(10))/2,r.x=(i.get(1)+i.get(4))/(4*r.y),r.w=(i.get(8)-i.get(2))/(4*r.y),r.z=(i.get(6)+i.get(9))/(4*r.y)):(r.z=Math.sqrt(1+i.get(10)-i.get(0)-i.get(5))/2,r.x=(i.get(8)+i.get(2))/(4*r.z),r.y=(i.get(6)+i.get(9))/(4*r.z),r.w=(i.get(1)-i.get(4))/(4*r.z))}return e.push(s),e.push(r),e.push(n),e},deltaTransformVector:function(t){var e=t.x,i=t.y;return t=t.z,new Bd(e*this.rawData.get(0)+i*this.rawData.get(4)+t*this.rawData.get(8),e*this.rawData.get(1)+i*this.rawData.get(5)+t*this.rawData.get(9),e*this.rawData.get(2)+i*this.rawData.get(6)+t*this.rawData.get(10),e*this.rawData.get(3)+i*this.rawData.get(7)+t*this.rawData.get(11))},identity:function(){this.rawData=M.toFloatVector(null,null,null,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])},interpolateTo:function(t,e){for(var i=0;16>i;){var s=i++;this.rawData.set(s,this.rawData.get(s)+(t.rawData.get(s)-this.rawData.get(s))*e)}},invert:function(){var t=this.get_determinant(),e=1e-11<Math.abs(t);if(e){t=1/t;var i=this.rawData.get(0),s=this.rawData.get(4),n=this.rawData.get(8),r=this.rawData.get(12),a=this.rawData.get(1),o=this.rawData.get(5),l=this.rawData.get(9),h=this.rawData.get(13),_=this.rawData.get(2),c=this.rawData.get(6),u=this.rawData.get(10),d=this.rawData.get(14),m=this.rawData.get(3),p=this.rawData.get(7),f=this.rawData.get(11),g=this.rawData.get(15);this.rawData.set(0,t*(o*(u*g-d*f)-l*(c*g-d*p)+h*(c*f-u*p))),this.rawData.set(1,-t*(a*(u*g-d*f)-l*(_*g-d*m)+h*(_*f-u*m))),this.rawData.set(2,t*(a*(c*g-d*p)-o*(_*g-d*m)+h*(_*p-c*m))),this.rawData.set(3,-t*(a*(c*f-u*p)-o*(_*f-u*m)+l*(_*p-c*m))),this.rawData.set(4,-t*(s*(u*g-d*f)-n*(c*g-d*p)+r*(c*f-u*p))),this.rawData.set(5,t*(i*(u*g-d*f)-n*(_*g-d*m)+r*(_*f-u*m))),this.rawData.set(6,-t*(i*(c*g-d*p)-s*(_*g-d*m)+r*(_*p-c*m))),this.rawData.set(7,t*(i*(c*f-u*p)-s*(_*f-u*m)+n*(_*p-c*m))),this.rawData.set(8,t*(s*(l*g-h*f)-n*(o*g-h*p)+r*(o*f-l*p))),this.rawData.set(9,-t*(i*(l*g-h*f)-n*(a*g-h*m)+r*(a*f-l*m))),this.rawData.set(10,t*(i*(o*g-h*p)-s*(a*g-h*m)+r*(a*p-o*m))),this.rawData.set(11,-t*(i*(o*f-l*p)-s*(a*f-l*m)+n*(a*p-o*m))),this.rawData.set(12,-t*(s*(l*d-h*u)-n*(o*d-h*c)+r*(o*u-l*c))),this.rawData.set(13,t*(i*(l*d-h*u)-n*(a*d-h*_)+r*(a*u-l*_))),this.rawData.set(14,-t*(i*(o*d-h*c)-s*(a*d-h*_)+r*(a*c-o*_))),this.rawData.set(15,t*(i*(o*u-l*c)-s*(a*u-l*_)+n*(a*c-o*_)))}return e},pointAt:function(t,e,i){null==e&&(e=new Bd(0,0,-1)),null==i&&(i=new Bd(0,-1,0)),e=e.subtract(t),i=i.clone(),e.normalize(),i.normalize();var s=e.clone();s.scaleBy(i.dotProduct(e)),0<(i=i.subtract(s)).get_length()?i.normalize():i=0!=e.x?new Bd(-e.y,e.x,0):new Bd(1,0,0),(s=i.crossProduct(e)).normalize(),this.rawData.set(0,s.x),this.rawData.set(4,s.y),this.rawData.set(8,s.z),this.rawData.set(12,0),this.rawData.set(1,i.x),this.rawData.set(5,i.y),this.rawData.set(9,i.z),this.rawData.set(13,0),this.rawData.set(2,e.x),this.rawData.set(6,e.y),this.rawData.set(10,e.z),this.rawData.set(14,0),this.rawData.set(3,t.x),this.rawData.set(7,t.y),this.rawData.set(11,t.z),this.rawData.set(15,1)},prepend:function(t){var e=t.rawData.get(0),i=t.rawData.get(4),s=t.rawData.get(8),n=t.rawData.get(12),r=t.rawData.get(1),a=t.rawData.get(5),o=t.rawData.get(9),l=t.rawData.get(13),h=t.rawData.get(2),_=t.rawData.get(6),c=t.rawData.get(10),u=t.rawData.get(14),d=t.rawData.get(3),m=t.rawData.get(7),p=t.rawData.get(11);t=t.rawData.get(15);var f=this.rawData.get(0),g=this.rawData.get(4),y=this.rawData.get(8),b=this.rawData.get(12),v=this.rawData.get(1),x=this.rawData.get(5),w=this.rawData.get(9),R=this.rawData.get(13),S=this.rawData.get(2),A=this.rawData.get(6),T=this.rawData.get(10),M=this.rawData.get(14),P=this.rawData.get(3),C=this.rawData.get(7),I=this.rawData.get(11),k=this.rawData.get(15);this.rawData.set(0,e*f+r*g+h*y+d*b),this.rawData.set(1,e*v+r*x+h*w+d*R),this.rawData.set(2,e*S+r*A+h*T+d*M),this.rawData.set(3,e*P+r*C+h*I+d*k),this.rawData.set(4,i*f+a*g+_*y+m*b),this.rawData.set(5,i*v+a*x+_*w+m*R),this.rawData.set(6,i*S+a*A+_*T+m*M),this.rawData.set(7,i*P+a*C+_*I+m*k),this.rawData.set(8,s*f+o*g+c*y+p*b),this.rawData.set(9,s*v+o*x+c*w+p*R),this.rawData.set(10,s*S+o*A+c*T+p*M),this.rawData.set(11,s*P+o*C+c*I+p*k),this.rawData.set(12,n*f+l*g+u*y+t*b),this.rawData.set(13,n*v+l*x+u*w+t*R),this.rawData.set(14,n*S+l*A+u*T+t*M),this.rawData.set(15,n*P+l*C+u*I+t*k)},prependRotation:function(t,e,i){var s=0,n=s,r=n;null!=i&&(r=i.x,n=i.y,s=i.z),i=t*Math.PI/180,t=Math.cos(i),i=Math.sin(i);var a=e.x,o=e.y,l=a*a,h=o*o,_=(e=e.z)*e,c=l+h+_;if(0!=c){var u=Math.sqrt(c);a/=u,o/=u,e/=u,l/=c,h/=c,_/=c}c=1-t;var d=(u=new kd).rawData;d.set(0,l+(h+_)*t),d.set(1,a*o*c+e*i),d.set(2,a*e*c-o*i),d.set(4,a*o*c-e*i),d.set(5,h+(l+_)*t),d.set(6,o*e*c+a*i),d.set(8,a*e*c+o*i),d.set(9,o*e*c-a*i),d.set(10,_+(l+h)*t),d.set(12,(r*(h+_)-a*(n*o+s*e))*c+(n*e-s*o)*i),d.set(13,(n*(l+_)-o*(r*a+s*e))*c+(s*a-r*e)*i),d.set(14,(s*(l+h)-e*(r*a+n*o))*c+(r*o-n*a)*i),this.prepend(u)},prependScale:function(t,e,i){this.prepend(new kd(M.toFloatVector(null,null,null,[t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1])))},prependTranslation:function(t,e,i){var s=new kd;s.set_position(new Bd(t,e,i)),this.prepend(s)},recompose:function(t,e){if(null==e&&(e=1),3>t.get_length()||0==t.get(2).x||0==t.get(2).y||0==t.get(2).z)return!1;this.identity();var i=[];if(i[0]=i[1]=i[2]=t.get(2).x,i[4]=i[5]=i[6]=t.get(2).y,i[8]=i[9]=i[10]=t.get(2).z,1==e){e=Math.cos(t.get(1).x);var s=Math.cos(t.get(1).y),n=Math.cos(t.get(1).z),r=Math.sin(t.get(1).x),a=Math.sin(t.get(1).y),o=Math.sin(t.get(1).z);this.rawData.set(0,s*n*i[0]),this.rawData.set(1,s*o*i[1]),this.rawData.set(2,-a*i[2]),this.rawData.set(3,0),this.rawData.set(4,(r*a*n-e*o)*i[4]),this.rawData.set(5,(r*a*o+e*n)*i[5]),this.rawData.set(6,r*s*i[6]),this.rawData.set(7,0),this.rawData.set(8,(e*a*n+r*o)*i[8]),this.rawData.set(9,(e*a*o-r*n)*i[9]),this.rawData.set(10,e*s*i[10])}else s=t.get(1).x,n=t.get(1).y,r=t.get(1).z,a=t.get(1).w,0==e&&(s*=Math.sin(a/2),n*=Math.sin(a/2),r*=Math.sin(a/2),a=Math.cos(a/2)),this.rawData.set(0,(1-2*n*n-2*r*r)*i[0]),this.rawData.set(1,(2*s*n+2*a*r)*i[1]),this.rawData.set(2,(2*s*r-2*a*n)*i[2]),this.rawData.set(3,0),this.rawData.set(4,(2*s*n-2*a*r)*i[4]),this.rawData.set(5,(1-2*s*s-2*r*r)*i[5]),this.rawData.set(6,(2*n*r+2*a*s)*i[6]),this.rawData.set(7,0),this.rawData.set(8,(2*s*r+2*a*n)*i[8]),this.rawData.set(9,(2*n*r-2*a*s)*i[9]),this.rawData.set(10,(1-2*s*s-2*n*n)*i[10]);return this.rawData.set(11,0),this.rawData.set(12,t.get(0).x),this.rawData.set(13,t.get(0).y),this.rawData.set(14,t.get(0).z),this.rawData.set(15,1),0==t.get(2).x&&this.rawData.set(0,1e-15),0==t.get(2).y&&this.rawData.set(5,1e-15),0==t.get(2).z&&this.rawData.set(10,1e-15),!(0==t.get(2).x||0==t.get(2).y||0==t.get(2).y)},transformVector:function(t){var e=t.x,i=t.y;return t=t.z,new Bd(e*this.rawData.get(0)+i*this.rawData.get(4)+t*this.rawData.get(8)+this.rawData.get(12),e*this.rawData.get(1)+i*this.rawData.get(5)+t*this.rawData.get(9)+this.rawData.get(13),e*this.rawData.get(2)+i*this.rawData.get(6)+t*this.rawData.get(10)+this.rawData.get(14),e*this.rawData.get(3)+i*this.rawData.get(7)+t*this.rawData.get(11)+this.rawData.get(15))},transformVectors:function(t,e){for(var i,s,n,r=0;r+3<=t.get_length();)i=t.get(r),s=t.get(r+1),n=t.get(r+2),e.set(r,i*this.rawData.get(0)+s*this.rawData.get(4)+n*this.rawData.get(8)+this.rawData.get(12)),e.set(r+1,i*this.rawData.get(1)+s*this.rawData.get(5)+n*this.rawData.get(9)+this.rawData.get(13)),e.set(r+2,i*this.rawData.get(2)+s*this.rawData.get(6)+n*this.rawData.get(10)+this.rawData.get(14)),r+=3},transpose:function(){var t=this.rawData.copy();this.rawData.set(1,t.get(4)),this.rawData.set(2,t.get(8)),this.rawData.set(3,t.get(12)),this.rawData.set(4,t.get(1)),this.rawData.set(6,t.get(9)),this.rawData.set(7,t.get(13)),this.rawData.set(8,t.get(2)),this.rawData.set(9,t.get(6)),this.rawData.set(11,t.get(14)),this.rawData.set(12,t.get(3)),this.rawData.set(13,t.get(7)),this.rawData.set(14,t.get(11))},get_determinant:function(){return(this.rawData.get(0)*this.rawData.get(5)-this.rawData.get(4)*this.rawData.get(1))*(this.rawData.get(10)*this.rawData.get(15)-this.rawData.get(14)*this.rawData.get(11))-(this.rawData.get(0)*this.rawData.get(9)-this.rawData.get(8)*this.rawData.get(1))*(this.rawData.get(6)*this.rawData.get(15)-this.rawData.get(14)*this.rawData.get(7))+(this.rawData.get(0)*this.rawData.get(13)-this.rawData.get(12)*this.rawData.get(1))*(this.rawData.get(6)*this.rawData.get(11)-this.rawData.get(10)*this.rawData.get(7))+(this.rawData.get(4)*this.rawData.get(9)-this.rawData.get(8)*this.rawData.get(5))*(this.rawData.get(2)*this.rawData.get(15)-this.rawData.get(14)*this.rawData.get(3))-(this.rawData.get(4)*this.rawData.get(13)-this.rawData.get(12)*this.rawData.get(5))*(this.rawData.get(2)*this.rawData.get(11)-this.rawData.get(10)*this.rawData.get(3))+(this.rawData.get(8)*this.rawData.get(13)-this.rawData.get(12)*this.rawData.get(9))*(this.rawData.get(2)*this.rawData.get(7)-this.rawData.get(6)*this.rawData.get(3))},get_position:function(){return new Bd(this.rawData.get(12),this.rawData.get(13),this.rawData.get(14))},set_position:function(t){return this.rawData.set(12,t.x),this.rawData.set(13,t.y),this.rawData.set(14,t.z),t},__class__:kd,__properties__:{set_position:"set_position",get_position:"get_position",get_determinant:"get_determinant"}};var Fd=function(t){this.__colorTransform=new br,this.concatenatedColorTransform=new br,this.pixelBounds=new je,this.__displayObject=t,this.__hasMatrix=!0};r["openfl.geom.Transform"]=Fd,Fd.__name__="openfl.geom.Transform",Fd.prototype={concatenatedColorTransform:null,pixelBounds:null,__colorTransform:null,__displayObject:null,__hasMatrix:null,__hasMatrix3D:null,get_colorTransform:function(){return this.__colorTransform.__clone()},set_colorTransform:function(t){return this.__colorTransform.__equals(t,!1)||(this.__colorTransform.__copyFrom(t),null!=t&&this.__displayObject.set_alpha(t.alphaMultiplier),(t=this.__displayObject).__renderDirty||(t.__renderDirty=!0,t.__setParentRenderDirty())),this.__colorTransform},get_concatenatedMatrix:function(){return this.__hasMatrix?this.__displayObject.__getWorldTransform().clone():null},get_matrix:function(){return this.__hasMatrix?this.__displayObject.__transform.clone():null},set_matrix:function(t){return null==t?(this.__hasMatrix=!1,null):(this.__hasMatrix=!0,this.__hasMatrix3D=!1,null!=this.__displayObject&&this.__setTransform(t.a,t.b,t.c,t.d,t.tx,t.ty),t)},get_matrix3D:function(){if(this.__hasMatrix3D){var t=this.__displayObject.__transform;return new kd(M.toFloatVector(null,null,null,[t.a,t.b,0,0,t.c,t.d,0,0,0,0,1,0,t.tx,t.ty,0,1]))}return null},set_matrix3D:function(t){return null==t?(this.__hasMatrix3D=!1,null):(this.__hasMatrix=!1,this.__hasMatrix3D=!0,this.__setTransform(t.rawData.get(0),t.rawData.get(1),t.rawData.get(5),t.rawData.get(6),t.rawData.get(12),t.rawData.get(13)),t)},__setTransform:function(t,e,i,s,n,r){if(null!=this.__displayObject){var a=this.__displayObject.__transform;if(a.a!=t||a.b!=e||a.c!=i||a.d!=s||a.tx!=n||a.ty!=r){var o=0==e?t:Math.sqrt(t*t+e*e),l=0==i?s:Math.sqrt(i*i+s*s);this.__displayObject.__scaleX=o,this.__displayObject.__scaleY=l,(o=180/Math.PI*Math.atan2(s,i)-90)!=this.__displayObject.__rotation&&(this.__displayObject.__rotation=o,o*=Math.PI/180,this.__displayObject.__rotationSine=Math.sin(o),this.__displayObject.__rotationCosine=Math.cos(o)),a.a=t,a.b=e,a.c=i,a.d=s,a.tx=n,a.ty=r,this.__displayObject.__setTransformDirty()}}},__class__:Fd,__properties__:{set_matrix3D:"set_matrix3D",get_matrix3D:"get_matrix3D",set_matrix:"set_matrix",get_matrix:"get_matrix",get_concatenatedMatrix:"get_concatenatedMatrix",set_colorTransform:"set_colorTransform",get_colorTransform:"get_colorTransform"}};var Bd=function(t,e,i,s){null==s&&(s=0),null==i&&(i=0),null==e&&(e=0),null==t&&(t=0),this.w=s,this.x=t,this.y=e,this.z=i};r["openfl.geom.Vector3D"]=Bd,Bd.__name__="openfl.geom.Vector3D",Bd.__properties__={get_Z_AXIS:"get_Z_AXIS",get_Y_AXIS:"get_Y_AXIS",get_X_AXIS:"get_X_AXIS"},Bd.angleBetween=function(t,e){var i=t.get_length(),s=e.get_length();return t=t.dotProduct(e),0!=i&&(t/=i),0!=s&&(t/=s),Math.acos(t)},Bd.distance=function(t,e){var i=e.x-t.x,s=e.y-t.y;return t=e.z-t.z,Math.sqrt(i*i+s*s+t*t)},Bd.get_X_AXIS=function(){return new Bd(1,0,0)},Bd.get_Y_AXIS=function(){return new Bd(0,1,0)},Bd.get_Z_AXIS=function(){return new Bd(0,0,1)},Bd.prototype={w:null,x:null,y:null,z:null,add:function(t){return new Bd(this.x+t.x,this.y+t.y,this.z+t.z)},clone:function(){return new Bd(this.x,this.y,this.z,this.w)},copyFrom:function(t){this.x=t.x,this.y=t.y,this.z=t.z},crossProduct:function(t){return new Bd(this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x,1)},decrementBy:function(t){this.x-=t.x,this.y-=t.y,this.z-=t.z},dotProduct:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},equals:function(t,e){return null==e&&(e=!1),this.x==t.x&&this.y==t.y&&this.z==t.z&&(!e||this.w==t.w)},incrementBy:function(t){this.x+=t.x,this.y+=t.y,this.z+=t.z},nearEquals:function(t,e,i){return null==i&&(i=!1),Math.abs(this.x-t.x)<e&&Math.abs(this.y-t.y)<e&&Math.abs(this.z-t.z)<e&&(!i||Math.abs(this.w-t.w)<e)},negate:function(){this.x*=-1,this.y*=-1,this.z*=-1},normalize:function(){var t=this.get_length();return 0!=t&&(this.x/=t,this.y/=t,this.z/=t),t},project:function(){this.x/=this.w,this.y/=this.w,this.z/=this.w},scaleBy:function(t){this.x*=t,this.y*=t,this.z*=t},setTo:function(t,e,i){this.x=t,this.y=e,this.z=i},subtract:function(t){return new Bd(this.x-t.x,this.y-t.y,this.z-t.z)},toString:function(){return"Vector3D("+this.x+", "+this.y+", "+this.z+")"},get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},get_lengthSquared:function(){return this.x*this.x+this.y*this.y+this.z*this.z},__class__:Bd,__properties__:{get_lengthSquared:"get_lengthSquared",get_length:"get_length"}};var Dd=function(){};r["openfl.media.ID3Info"]=Dd,Dd.__name__="openfl.media.ID3Info",Dd.prototype={album:null,artist:null,comment:null,genre:null,songName:null,track:null,year:null,__class__:Dd};var Ld=function(t,e){A.call(this,this),this.bytesTotal=this.bytesLoaded=0,this.isBuffering=!1,this.url=null,null!=t&&this.load(t,e)};r["openfl.media.Sound"]=Ld,Ld.__name__="openfl.media.Sound",Ld.fromAudioBuffer=function(t){var e=new Ld;return e.__buffer=t,e},Ld.fromFile=function(t){return Ld.fromAudioBuffer(ql.fromFile(t))},Ld.loadFromFile=function(t){return ql.loadFromFile(t).then(function(t){return rl.withValue(Ld.fromAudioBuffer(t))})},Ld.loadFromFiles=function(t){return ql.loadFromFiles(t).then(function(t){return rl.withValue(Ld.fromAudioBuffer(t))})},Ld.__super__=A,Ld.prototype=i(A.prototype,{bytesLoaded:null,bytesTotal:null,isBuffering:null,url:null,__buffer:null,close:function(){null!=this.__buffer&&(this.__buffer.dispose(),this.__buffer=null)},load:function(t,e){var i=this;this.url=t.url,null!=(t=r_.getLibrary("default"))&&Object.prototype.hasOwnProperty.call(t.cachedAudioBuffers.h,this.url)?this.AudioBuffer_onURLLoad(t.cachedAudioBuffers.h[this.url]):ql.loadFromFile(this.url).onComplete(n(this,this.AudioBuffer_onURLLoad)).onError(function(t){i.AudioBuffer_onURLLoad(null)})},loadCompressedDataFromByteArray:function(t,e){if(null==t||0>=e)this.dispatchEvent(new yd("ioError"));else{if(S.gt(t.position,0)||S.gt(Fm.get_length(t),e)){var i=e;null==i&&(i=0);var s=new Lm(i),n=t.position;null==(i=e)&&(i=0),null==n&&(n=0),s.writeBytes(t,n,i),t=s}this.__buffer=ql.fromBytes(Fm.toBytes(t)),null==this.__buffer?this.dispatchEvent(new yd("ioError")):this.dispatchEvent(new _i("complete"))}},loadPCMFromByteArray:function(t,e,i,s,n){if(null==n&&(n=44100),null==s&&(s=!0),null==i&&(i="float"),null==t)this.dispatchEvent(new yd("ioError"));else{if(e=(i="float"==i?32:16)/8*(s=s?2:1)*e|0,S.gt(t.position,0)||S.gt(Fm.get_length(t),e)){var r=e;null==r&&(r=0);var a=r=new Lm(r),o=t.position;null==(r=e)&&(r=0),null==o&&(o=0),a.writeBytes(t,o,r),t=a}(e=new ql).bitsPerSample=i,e.channels=s,r=null!=(t=Fm.toArrayBuffer(t))?new Uint8Array(t,0):null,e.data=r,e.sampleRate=0|n,this.__buffer=e,this.dispatchEvent(new _i("complete"))}},play:function(t,e,i){if(null==e&&(e=0),null==t&&(t=0),null==this.__buffer||32<=Vd.__soundChannels.length)return null;i=null==i?new mr:i.clone();var s=Vd.__soundTransform.pan+i.pan;1<s&&(s=1),-1>s&&(s=-1);var n=Vd.__soundTransform.volume*i.volume,r=new eh(this.__buffer);return r.offset=0|t,1<e&&r.set_loops(e-1),r.set_gain(n),0!=s&&r.set_pan(s),new Nd(r,i)},get_id3:function(){return new Dd},get_length:function(){return null!=this.__buffer?1e3*this.__buffer.get_src().duration()|0:0},AudioBuffer_onURLLoad:function(t){null==t?this.dispatchEvent(new yd("ioError")):(this.__buffer=t,this.dispatchEvent(new _i("complete")))},__class__:Ld,__properties__:{get_length:"get_length",get_id3:"get_id3"}});var Nd=function(t,e){A.call(this,this),this.rightPeak=this.leftPeak=1,this.__soundTransform=null!=e?e:new mr,null!=t&&(this.__source=t,this.__source.onComplete.add(n(this,this.source_onComplete)),this.__isValid=!0,this.__source.play()),Vd.__registerSoundChannel(this)};r["openfl.media.SoundChannel"]=Nd,Nd.__name__="openfl.media.SoundChannel",Nd.__super__=A,Nd.prototype=i(A.prototype,{leftPeak:null,rightPeak:null,__isValid:null,__soundTransform:null,__source:null,stop:function(){Vd.__unregisterSoundChannel(this),this.__isValid&&(this.__source.stop(),this.__dispose())},__dispose:function(){this.__isValid&&(this.__source.onComplete.remove(n(this,this.source_onComplete)),this.__source.dispose(),this.__source=null,this.__isValid=!1)},__updateTransform:function(){this.set_soundTransform(this.get_soundTransform())},get_position:function(){return this.__isValid?this.__source.get_currentTime()+this.__source.offset:0},set_position:function(t){return this.__isValid?(this.__source.set_currentTime((0|t)-this.__source.offset),t):0},get_soundTransform:function(){return this.__soundTransform.clone()},set_soundTransform:function(t){if(null!=t){this.__soundTransform.pan=t.pan,this.__soundTransform.volume=t.volume;var e=Vd.__soundTransform.pan+this.__soundTransform.pan;-1>e&&(e=-1),1<e&&(e=1);var i=Vd.__soundTransform.volume*this.__soundTransform.volume;this.__isValid&&(this.__source.set_gain(i),0==e&&null==this.__source.get_pan()||this.__source.set_pan(e))}return t},source_onComplete:function(){Vd.__unregisterSoundChannel(this),this.__dispose(),this.dispatchEvent(new _i("soundComplete"))},__class__:Nd,__properties__:{set_soundTransform:"set_soundTransform",get_soundTransform:"get_soundTransform",set_position:"set_position",get_position:"get_position"}});var Od=function(t,e){null==e&&(e=!1),null==t&&(t=1e3),this.bufferTime=t,this.checkPolicyFile=e};r["openfl.media.SoundLoaderContext"]=Od,Od.__name__="openfl.media.SoundLoaderContext",Od.prototype={bufferTime:null,checkPolicyFile:null,__class__:Od};var Vd=function(){};r["openfl.media.SoundMixer"]=Vd,Vd.__name__="openfl.media.SoundMixer",Vd.__properties__={set_soundTransform:"set_soundTransform",get_soundTransform:"get_soundTransform"},Vd.areSoundsInaccessible=function(){return!1},Vd.stopAll=function(){for(var t=0,e=Vd.__soundChannels;t<e.length;){var i=e[t];++t,i.stop()}},Vd.__registerSoundChannel=function(t){Vd.__soundChannels.push(t)},Vd.__unregisterSoundChannel=function(t){c.remove(Vd.__soundChannels,t)},Vd.get_soundTransform=function(){return Vd.__soundTransform},Vd.set_soundTransform=function(t){Vd.__soundTransform=t.clone();for(var e=0,i=Vd.__soundChannels;e<i.length;){var s=i[e];++e,s.__updateTransform()}return t};var Gd=function(t,e){null==e&&(e=240),null==t&&(t=320),k.call(this),this.__drawableType=8,this.__width=t,this.__height=e,this.__textureTime=-1,this.smoothing=!1,this.deblocking=0};r["openfl.media.Video"]=Gd,Gd.__name__="openfl.media.Video",Gd.__super__=k,Gd.prototype=i(k.prototype,{deblocking:null,smoothing:null,__active:null,__buffer:null,__bufferAlpha:null,__bufferColorTransform:null,__bufferContext:null,__bufferData:null,__dirty:null,__height:null,__indexBuffer:null,__indexBufferContext:null,__indexBufferData:null,__stream:null,__texture:null,__textureTime:null,__uvRect:null,__vertexBuffer:null,__vertexBufferContext:null,__vertexBufferData:null,__width:null,attachNetStream:function(t){this.__stream=t,null==this.__stream||null==this.__stream.__video||this.__stream.__closed||this.__stream.__video.play()},clear:function(){},__enterFrame:function(t){this.__renderable&&null!=this.__stream&&!this.__renderDirty&&(this.__renderDirty=!0,this.__setParentRenderDirty())},__getBounds:function(t,e){var i=je.__pool.get();i.setTo(0,0,this.__width,this.__height),i.__transform(i,e),t.__expand(i.x,i.y,i.width,i.height),je.__pool.release(i)},__getIndexBuffer:function(t){return null!=this.__indexBuffer&&this.__indexBufferContext==t.__context||(this.__indexBufferData=new Uint16Array(6),this.__indexBufferData[0]=0,this.__indexBufferData[1]=1,this.__indexBufferData[2]=2,this.__indexBufferData[3]=2,this.__indexBufferData[4]=1,this.__indexBufferData[5]=3,this.__indexBufferContext=t.__context,this.__indexBuffer=t.createIndexBuffer(6),this.__indexBuffer.uploadFromTypedArray(this.__indexBufferData)),this.__indexBuffer},__getTexture:function(t){if(null==this.__stream||null==this.__stream.__video)return null;var e=t.__context.webgl,i=e.RGBA,s=e.RGBA;return this.__stream.__closed||this.__stream.__video.currentTime==this.__textureTime||(null==this.__texture&&(this.__texture=t.createRectangleTexture(this.__stream.__video.videoWidth,this.__stream.__video.videoHeight,1,!1)),t.__bindGLTexture2D(this.__texture.__textureID),Ol.texImage2D(e,e.TEXTURE_2D,0,i,s,e.UNSIGNED_BYTE,this.__stream.__video),this.__textureTime=this.__stream.__video.currentTime),this.__texture},__getVertexBuffer:function(t){return null!=this.__vertexBuffer&&this.__vertexBufferContext==t.__context||(this.__vertexBufferData=new Float32Array(20),this.__vertexBufferData[0]=this.get_width(),this.__vertexBufferData[1]=this.get_height(),this.__vertexBufferData[3]=1,this.__vertexBufferData[4]=1,this.__vertexBufferData[6]=this.get_height(),this.__vertexBufferData[9]=1,this.__vertexBufferData[10]=this.get_width(),this.__vertexBufferData[13]=1,this.__vertexBufferContext=t.__context,this.__vertexBuffer=t.createVertexBuffer(3,5),this.__vertexBuffer.uploadFromTypedArray(u_.toArrayBufferView(this.__vertexBufferData))),this.__vertexBuffer},__hitTest:function(t,e,i,s,n,r){if(!r.get_visible()||this.__isMask||null!=this.get_mask()&&!this.get_mask().__hitTestMask(t,e))return!1;this.__getRenderTransform();var a=this.__renderTransform,o=a.a*a.d-a.b*a.c;return i=0==o?-a.tx:1/o*(a.c*(a.ty-e)+a.d*(t-a.tx)),t=0==(o=(a=this.__renderTransform).a*a.d-a.b*a.c)?-a.ty:1/o*(a.a*(e-a.ty)+a.b*(a.tx-t)),0<i&&0<t&&i<=this.__width&&t<=this.__height&&(null==s||n||s.push(r),!0)},__hitTestMask:function(t,e){var i=Ye.__pool.get();return i.setTo(t,e),this.__globalToLocal(i,i),t=0<i.x&&0<i.y&&i.x<=this.__width&&i.y<=this.__height,Ye.__pool.release(i),t},get_height:function(){return this.__height*this.get_scaleY()},set_height:function(t){return 1==this.get_scaleY()&&t==this.__height||(this.__setTransformDirty(),this.__dirty=!0),this.set_scaleY(1),this.__height=t},get_videoHeight:function(){return null!=this.__stream&&null!=this.__stream.__video?0|this.__stream.__video.videoHeight:0},get_videoWidth:function(){return null!=this.__stream&&null!=this.__stream.__video?0|this.__stream.__video.videoWidth:0},get_width:function(){return this.__width*this.__scaleX},set_width:function(t){return 1==this.__scaleX&&this.__width==t||(this.__setTransformDirty(),this.__dirty=!0),this.set_scaleX(1),this.__width=t},__class__:Gd,__properties__:i(k.prototype.__properties__,{get_videoWidth:"get_videoWidth",get_videoHeight:"get_videoHeight"})});var Ud=function(){};r["openfl.net.IDynamicPropertyOutput"]=Ud,Ud.__name__="openfl.net.IDynamicPropertyOutput",Ud.__isInterface__=!0,Ud.prototype={writeDynamicProperty:null,__class__:Ud};var zd=function(){};r["openfl.net.IDynamicPropertyWriter"]=zd,zd.__name__="openfl.net.IDynamicPropertyWriter",zd.__isInterface__=!0,zd.prototype={writeDynamicProperties:null,__class__:zd};var Hd=function(){A.call(this)};r["openfl.net.NetConnection"]=Hd,Hd.__name__="openfl.net.NetConnection",Hd.__super__=A,Hd.prototype=i(A.prototype,{connect:function(t,e,i,s,n,r){if(null!=t)throw wa.thrown('Error: Can only connect in "HTTP streaming" mode');this.dispatchEvent(new xd("netStatus",!1,!0,{code:"NetConnection.Connect.Success"}))},__class__:Hd});var Wd=function(t,e){A.call(this),this.__connection=t,this.__soundTransform=new mr,this.__video=window.document.createElement("video"),this.__video.setAttribute("playsinline",""),this.__video.setAttribute("webkit-playsinline",""),this.__video.setAttribute("crossorigin","anonymous"),this.__video.addEventListener("error",n(this,this.video_onError),!1),this.__video.addEventListener("waiting",n(this,this.video_onWaiting),!1),this.__video.addEventListener("ended",n(this,this.video_onEnd),!1),this.__video.addEventListener("pause",n(this,this.video_onPause),!1),this.__video.addEventListener("seeking",n(this,this.video_onSeeking),!1),this.__video.addEventListener("playing",n(this,this.video_onPlaying),!1),this.__video.addEventListener("timeupdate",n(this,this.video_onTimeUpdate),!1),this.__video.addEventListener("loadstart",n(this,this.video_onLoadStart),!1),this.__video.addEventListener("stalled",n(this,this.video_onStalled),!1),this.__video.addEventListener("durationchanged",n(this,this.video_onDurationChanged),!1),this.__video.addEventListener("canplay",n(this,this.video_onCanPlay),!1),this.__video.addEventListener("canplaythrough",n(this,this.video_onCanPlayThrough),!1),this.__video.addEventListener("loadedmetadata",n(this,this.video_onLoadMetaData),!1)};r["openfl.net.NetStream"]=Wd,Wd.__name__="openfl.net.NetStream",Wd.__super__=A,Wd.prototype=i(A.prototype,{audioCodec:null,bufferLength:null,bufferTime:null,bytesLoaded:null,bytesTotal:null,checkPolicyFile:null,client:null,currentFPS:null,decodedFrames:null,liveDelay:null,objectEncoding:null,time:null,videoCode:null,__closed:null,__connection:null,__soundTransform:null,__timer:null,__video:null,close:function(){null!=this.__video&&(this.__closed=!0,this.__video.pause(),this.__video.src="",this.time=0)},dispose:function(){this.close(),this.__video=null},pause:function(){null!=this.__video&&this.__video.pause()},play:function(t,e,i,s,n,r){null!=this.__video&&(this.__video.volume=Vd.__soundTransform.volume*this.__soundTransform.volume,"string"==typeof t?this.__video.src=t:this.__video.srcObject=t,this.__video.play())},requestVideoStatus:function(){var t=this;null!=this.__video&&(null==this.__timer&&(this.__timer=new Ia(1)),this.__timer.run=function(){t.__video.paused?t.__playStatus("NetStream.Play.pause"):t.__playStatus("NetStream.Play.playing"),t.__timer.stop()})},resume:function(){null!=this.__video&&this.__video.play()},seek:function(t){null!=this.__video&&(0>t?t=0:t>this.__video.duration&&(t=this.__video.duration),this.__dispatchStatus("NetStream.SeekStart.Notify"),this.__video.currentTime=t)},togglePause:function(){null!=this.__video&&(this.__video.paused?this.__video.play():this.__video.pause())},__dispatchStatus:function(t){t=new xd("netStatus",!1,!1,{code:t}),this.__connection.dispatchEvent(t),this.dispatchEvent(t)},__playStatus:function(t){if(null!=this.__video&&null!=this.client)try{(0,this.client.onPlayStatus)({code:t,duration:this.__video.duration,position:this.__video.currentTime,speed:this.__video.playbackRate,start:this.__video.startTime})}catch(t){Ma.lastError=t}},video_onCanPlay:function(t){this.__playStatus("NetStream.Play.canplay")},video_onCanPlayThrough:function(t){this.__playStatus("NetStream.Play.canplaythrough")},video_onDurationChanged:function(t){this.__playStatus("NetStream.Play.durationchanged")},video_onEnd:function(t){this.__dispatchStatus("NetStream.Play.Stop"),this.__dispatchStatus("NetStream.Play.Complete"),this.__playStatus("NetStream.Play.Complete")},video_onError:function(t){this.__dispatchStatus("NetStream.Play.Stop"),this.__playStatus("NetStream.Play.error")},video_onLoadMetaData:function(t){if(null!=this.__video&&null!=this.client)try{(0,this.client.onMetaData)({width:this.__video.videoWidth,height:this.__video.videoHeight,duration:this.__video.duration})}catch(t){Ma.lastError=t}},video_onLoadStart:function(t){this.__playStatus("NetStream.Play.loadstart")},video_onPause:function(t){this.__playStatus("NetStream.Play.pause")},video_onPlaying:function(t){this.__dispatchStatus("NetStream.Play.Start"),this.__playStatus("NetStream.Play.playing")},video_onSeeking:function(t){this.__playStatus("NetStream.Play.seeking"),this.__dispatchStatus("NetStream.Seek.Complete")},video_onStalled:function(t){this.__playStatus("NetStream.Play.stalled")},video_onTimeUpdate:function(t){null!=this.__video&&(this.time=this.__video.currentTime,this.__playStatus("NetStream.Play.timeupdate"))},video_onWaiting:function(t){this.__playStatus("NetStream.Play.waiting")},get_soundTransform:function(){return this.__soundTransform.clone()},set_soundTransform:function(t){return null!=t&&(this.__soundTransform.pan=t.pan,this.__soundTransform.volume=t.volume,null!=this.__video&&(this.__video.volume=Vd.__soundTransform.volume*this.__soundTransform.volume)),t},get_speed:function(){return null!=this.__video?this.__video.playbackRate:1},set_speed:function(t){return null!=this.__video?this.__video.playbackRate=t:t},__class__:Wd,__properties__:{set_speed:"set_speed",get_speed:"get_speed",set_soundTransform:"set_soundTransform",get_soundTransform:"get_soundTransform"}});var Xd=function(){A.call(this),this.client=this,this.objectEncoding=Xd.defaultObjectEncoding};r["openfl.net.SharedObject"]=Xd,Xd.__name__="openfl.net.SharedObject",Xd.getLocal=function(t,e,i){i=" ~%&\\;:\"',<>?#".split("");var s=!0;if(null==t||""==t)s=!1;else for(var n=0;n<i.length;){var r=i[n];if(++n,-1<t.indexOf(r)){s=!1;break}}if(!s)throw new ed("Error #2134: Cannot create SharedObject.");if(null==Xd.__sharedObjects&&(Xd.__sharedObjects=new pr,null!=sl.current&&sl.current.onExit.add(Xd.application_onExit)),i=e+"/"+t,!Object.prototype.hasOwnProperty.call(Xd.__sharedObjects.h,i)){s=null;try{var a=xo.getLocalStorage();null==e&&(null!=a&&(s=a.getItem(window.location.href+":"+t),a.removeItem(window.location.href+":"+t)),e=window.location.pathname),null!=a&&null==s&&(s=a.getItem(e+":"+t))}catch(t){Ma.lastError=t}if((a=new Xd).data={},a.__localPath=e,a.__name=t,null!=s&&""!=s)try{var o=new ka(s);o.setResolver({resolveEnum:w.resolveEnum,resolveClass:Xd.__resolveClass}),a.data=o.unserialize()}catch(t){Ma.lastError=t}Xd.__sharedObjects.h[i]=a}return Xd.__sharedObjects.h[i]},Xd.getRemote=function(t,e,i,s){return Xm.notImplemented({fileName:"openfl/net/SharedObject.hx",lineNumber:808,className:"openfl.net.SharedObject",methodName:"getRemote"}),null},Xd.__getPath=function(t,e){if(t=Bh.get_applicationStorageDirectory()+"/"+t+"/",e=v.replace(e,"//","/"),e=v.replace(e,"//","/"),v.startsWith(e,"/")&&(e=c.substr(e,1,null)),v.endsWith(e,"/")&&(e=e.substring(0,e.length-1)),-1<e.indexOf("/")){var i=e.split("/");e="";for(var s=0,n=i.length-1;s<n;)e+="#"+i[s++]+"/";e+=i[i.length-1]}return t+e+".sol"},Xd.__mkdir=function(t){},Xd.__resolveClass=function(t){return null!=t?(v.startsWith(t,"neash.")&&(t=v.replace(t,"neash.","openfl.")),v.startsWith(t,"native.")&&(t=v.replace(t,"native.","openfl.")),v.startsWith(t,"flash.")&&(t=v.replace(t,"flash.","openfl.")),v.startsWith(t,"openfl._v2.")&&(t=v.replace(t,"openfl._v2.","openfl.")),v.startsWith(t,"openfl._legacy.")&&(t=v.replace(t,"openfl._legacy.","openfl.")),r[t]):null},Xd.application_onExit=function(t){t=Xd.__sharedObjects.h;for(var e=Object.keys(t),i=e.length,s=0;s<i;)t[e[s++]].flush()},Xd.__super__=A,Xd.prototype=i(A.prototype,{client:null,data:null,fps:null,objectEncoding:null,__localPath:null,__name:null,clear:function(){this.data={};try{var t=xo.getLocalStorage();null!=t&&t.removeItem(this.__localPath+":"+this.__name)}catch(t){Ma.lastError=t}},close:function(){},connect:function(t,e){Xm.notImplemented({fileName:"openfl/net/SharedObject.hx",lineNumber:392,className:"openfl.net.SharedObject",methodName:"connect"})},flush:function(t){if(0==f.fields(this.data).length)return 0;t=Ca.run(this.data);try{var e=xo.getLocalStorage();null!=e&&(e.removeItem(this.__localPath+":"+this.__name),e.setItem(this.__localPath+":"+this.__name,t))}catch(t){return Ma.lastError=t,1}return 0},send:function(t){Xm.notImplemented({fileName:"openfl/net/SharedObject.hx",lineNumber:824,className:"openfl.net.SharedObject",methodName:"send"})},setDirty:function(t){},setProperty:function(t,e){null!=this.data&&(this.data[t]=e)},get_size:function(){try{var t=Ca.run(this.data);return La.ofString(t).length}catch(t){return Ma.lastError=t,0}},__class__:Xd,__properties__:{get_size:"get_size"}});var Yd=function(t){A.call(this),this.bytesTotal=this.bytesLoaded=0,this.dataFormat=1,null!=t&&this.load(t)};r["openfl.net.URLLoader"]=Yd,Yd.__name__="openfl.net.URLLoader",Yd.__super__=A,Yd.prototype=i(A.prototype,{bytesLoaded:null,bytesTotal:null,data:null,dataFormat:null,__httpRequest:null,close:function(){null!=this.__httpRequest&&this.__httpRequest.cancel()},load:function(t){var e=this,i=new _i("open");this.dispatchEvent(i),0==this.dataFormat?(i=new yh,this.__prepareRequest(i,t),i.load().onProgress(n(this,this.httpRequest_onProgress)).onError(n(this,this.httpRequest_onError)).onComplete(function(t){e.__dispatchStatus(),e.data=t,t=new _i("complete"),e.dispatchEvent(t)})):(i=new mh,this.__prepareRequest(i,t),i.load().onProgress(n(this,this.httpRequest_onProgress)).onError(n(this,this.httpRequest_onError)).onComplete(function(t){e.__dispatchStatus(),e.data=t,t=new _i("complete"),e.dispatchEvent(t)}))},__dispatchStatus:function(){var t=new gd("httpStatus",!1,!1,this.__httpRequest.responseStatus);t.responseURL=this.__httpRequest.uri;var e=[];if(this.__httpRequest.enableResponseHeaders&&null!=this.__httpRequest.responseHeaders)for(var i=0,s=this.__httpRequest.responseHeaders;i<s.length;){var n=s[i];++i,e.push(new Jd(n.name,n.value))}t.responseHeaders=e,this.dispatchEvent(t)},__prepareRequest:function(t,e){if(this.__httpRequest=t,this.__httpRequest.uri=e.url,this.__httpRequest.method=e.method,null!=e.data)if(w.typeof(e.data)==x.TObject){var i=f.fields(e.data);for(t=0;t<i.length;){var s=i[t];++t,this.__httpRequest.formData.h[s]=f.field(e.data,s)}}else this.__httpRequest.data=e.data instanceof La?e.data:La.ofString(g.string(e.data));if(this.__httpRequest.contentType=e.contentType,null!=e.requestHeaders)for(t=0,i=e.requestHeaders;t<i.length;)s=i[t],++t,this.__httpRequest.headers.push(new ph(s.name,s.value));this.__httpRequest.followRedirects=e.followRedirects,this.__httpRequest.timeout=0|e.idleTimeout,this.__httpRequest.manageCookies=e.manageCookies,this.__httpRequest.userAgent=e.userAgent,this.__httpRequest.enableResponseHeaders=!0},httpRequest_onError:function(t){this.__dispatchStatus();var e=403==t?new Rd("securityError"):new yd("ioError");e.text=g.string(t),this.dispatchEvent(e)},httpRequest_onProgress:function(t,e){var i=new wd("progress");i.bytesLoaded=t,i.bytesTotal=e,this.dispatchEvent(i)},__class__:Yd});var jd=function(t){null!=t&&(this.url=t),this.contentType=null,this.followRedirects=Kd.followRedirects,this.idleTimeout=0<Kd.idleTimeout?Kd.idleTimeout:3e4,this.manageCookies=Kd.manageCookies,this.method="GET",this.requestHeaders=[],this.userAgent=Kd.userAgent};r["openfl.net.URLRequest"]=jd,jd.__name__="openfl.net.URLRequest",jd.prototype={contentType:null,data:null,followRedirects:null,idleTimeout:null,manageCookies:null,method:null,requestHeaders:null,url:null,userAgent:null,__class__:jd};var Kd=function(){};r["openfl.net.URLRequestDefaults"]=Kd,Kd.__name__="openfl.net.URLRequestDefaults";var Jd=function(t,e){null==e&&(e=""),null==t&&(t=""),this.name=t,this.value=e};r["openfl.net.URLRequestHeader"]=Jd,Jd.__name__="openfl.net.URLRequestHeader",Jd.prototype={name:null,value:null,__class__:Jd};var Zd={_new:function(t){var e={};return null!=t&&Zd.decode(e,t),e},decode:function(t,e){for(var i=f.fields(t),s=0;s<i.length;){var n=i[s];++s,f.deleteField(t,n)}for(i=e.split(";").join("&").split("&"),s=0;s<i.length;)if(n=i[s],++s,0<(e=n.indexOf("="))){var r=c.substr(n,0,e);r=decodeURIComponent(r.split("+").join(" ")),n=c.substr(n,e+1,null),t[r]=decodeURIComponent(n.split("+").join(" "))}else 0!=e&&(t[decodeURIComponent(n.split("+").join(" "))]="")},toString:function(t){for(var e=[],i=f.fields(t),n=0;n<i.length;){var r=i[n];++n;var a=f.field(t,r);if(-1<r.indexOf("[]")&&a instanceof Array){var o=[];for(a=s(a);a.hasNext();){var l=a.next();o.push(encodeURIComponent(l))}o=o.join("&amp;"+r+"="),e.push(encodeURIComponent(r)+"="+o)}else e.push(encodeURIComponent(r)+"="+encodeURIComponent(a))}return e.join("&")},__get:function(t,e){return f.field(t,e)},__set:function(t,e,i){t[e]=i}},Qd=function(t){this.parentDomain=null!=t?t:Qd.currentDomain};r["openfl.system.ApplicationDomain"]=Qd,Qd.__name__="openfl.system.ApplicationDomain",Qd.prototype={parentDomain:null,getDefinition:function(t){return r[t]},hasDefinition:function(t){return null!=r[t]},__class__:Qd};var qd=function(){};r["openfl.system.Capabilities"]=qd,qd.__name__="openfl.system.Capabilities",qd.__properties__={get_version:"get_version",get_screenResolutionY:"get_screenResolutionY",get_screenResolutionX:"get_screenResolutionX",get_screenDPI:"get_screenDPI",get_pixelAspectRatio:"get_pixelAspectRatio",get_os:"get_os",get_manufacturer:"get_manufacturer",get_language:"get_language",get_cpuArchitecture:"get_cpuArchitecture"},qd.hasMultiChannelAudio=function(t){return!1},qd.get_cpuArchitecture=function(){return"x86"},qd.get_language=function(){var t=Eh.get_language(Eh.get_currentLocale());if(null!=t)switch(t=t.toLowerCase(),t){case"cs":case"da":case"de":case"en":case"es":case"fi":case"fr":case"hu":case"it":case"ja":case"ko":case"nb":case"nl":case"pl":case"pt":case"ru":case"sv":case"tr":return t;case"zh":if(null!=(t=Eh.get_region(Eh.get_currentLocale())))switch(t.toUpperCase()){case"HANT":case"TW":return"zh-TW"}return"zh-CN";default:return"xu"}return"en"},qd.get_manufacturer=function(){var t=Bh.get_platformName();return"OpenFL"+(null!=t?" "+t:"")},qd.get_os=function(){var t=Bh.get_platformLabel();return null!=t?t:""},qd.get_pixelAspectRatio=function(){return 1},qd.get_screenDPI=function(){var t=null!=Xm.application?Xm.application.__window:null,e=72;return null!=t&&(e*=t.__scale),e},qd.get_screenResolutionX=function(){var t=Xm.current.stage,e=0;if(null==t)return 0;if(null!=t.window){var i=t.window.get_display();null!=i&&(e=Math.ceil(i.currentMode.width*t.window.__scale))}return 0<e?e:t.stageWidth},qd.get_screenResolutionY=function(){var t=Xm.current.stage,e=0;if(null==t)return 0;if(null!=t.window){var i=t.window.get_display();null!=i&&(e=Math.ceil(i.currentMode.height*t.window.__scale))}return 0<e?e:t.stageHeight},qd.get_version=function(){return"WEB "+v.replace("9.2.0",".",",")+",0"};var $d=function(t,e,i){null==t&&(t=!1),this.checkPolicyFile=t,this.securityDomain=i,this.applicationDomain=e,this.allowLoadBytesCodeExecution=this.allowCodeImport=!0};r["openfl.system.LoaderContext"]=$d,$d.__name__="openfl.system.LoaderContext",$d.prototype={allowCodeImport:null,allowLoadBytesCodeExecution:null,applicationDomain:null,checkPolicyFile:null,securityDomain:null,__class__:$d};var tm=function(){};r["openfl.system.SecurityDomain"]=tm,tm.__name__="openfl.system.SecurityDomain",tm.prototype={__class__:tm};var em=function(){};r["openfl.system.System"]=em,em.__name__="openfl.system.System",em.__properties__={get_vmVersion:"get_vmVersion",get_totalMemory:"get_totalMemory"},em.disposeXML=function(t){},em.exit=function(t){Bh.exit(t)},em.gc=function(){},em.pause=function(){Xm.notImplemented({fileName:"openfl/system/System.hx",lineNumber:213,className:"openfl.system.System",methodName:"pause"})},em.resume=function(){Xm.notImplemented({fileName:"openfl/system/System.hx",lineNumber:229,className:"openfl.system.System",methodName:"resume"})},em.setClipboard=function(t){xh.set_text(t)},em.get_totalMemory=function(){return window.performance&&window.performance.memory?window.performance.memory.usedJSHeapSize:0},em.get_vmVersion=function(){return"1.0.0"};var im=function(t){Oh.call(this,t)};r["openfl.text.Font"]=im,im.__name__="openfl.text.Font",im.enumerateFonts=function(t){return im.__registeredFonts},im.fromBytes=function(t){var e=new im;return e.__fromBytes(Fm.toBytes(t)),e},im.fromFile=function(t){if(null==t)return null;var e=new im;return e.__fromFile(t),e},im.loadFromBytes=function(t){return Oh.loadFromBytes(Fm.toBytes(t)).then(function(t){var e=new im;return e.__fromLimeFont(t),rl.withValue(e)})},im.loadFromFile=function(t){return Oh.loadFromFile(t).then(function(t){var e=new im;return e.__fromLimeFont(t),rl.withValue(e)})},im.loadFromName=function(t){return Oh.loadFromName(t).then(function(t){var e=new im;return e.__fromLimeFont(t),rl.withValue(e)})},im.registerFont=function(t){null!=(t=null==vo.getClass(t)?vo.__cast(w.createInstance(t,[]),im):vo.__cast(t,im))&&(im.__registeredFonts.push(t),im.__fontByName.h[t.name]=t)},im.__super__=Oh,im.prototype=i(Oh.prototype,{fontStyle:null,fontType:null,__initialized:null,__fromLimeFont:function(t){this.__copyFrom(t)},__initialize:function(){return this.__initialized},get_fontName:function(){return this.name},set_fontName:function(t){return this.name=t},__class__:im,__properties__:{set_fontName:"set_fontName",get_fontName:"get_fontName"}});var sm=function(){A.call(this),this.clear()};r["openfl.text.StyleSheet"]=sm,sm.__name__="openfl.text.StyleSheet",sm.__super__=A,sm.prototype=i(A.prototype,{__styleNames:null,__styleNamesDirty:null,__styles:null,clear:function(){this.__styleNamesDirty=!1,this.__styleNames=null,this.__styles=new pr},getStyle:function(t){return t=t.toLowerCase(),Object.prototype.hasOwnProperty.call(this.__styles.h,t)?this.__styles.h[t]:null},parseCSS:function(t){var e=new pr;if(e.h.silent=!0,null!=(e=new lm(e).parse(t)))for(t=e.h.rules,e=0;e<t.length;){var i=t[e];++e;var s=Object.prototype.hasOwnProperty.call(i.h,"selectors")?i.h.selectors:null;if(null!=s&&(s=s.toLowerCase(),Object.prototype.hasOwnProperty.call(this.__styles.h,s)||(this.__styles.h[s]={},this.__styleNamesDirty=!0),s=this.__styles.h[s],null!=(i=i.h.declarations)))for(var n=0;n<i.length;){var r=i[n];++n;var a=r.h.property;if(r=g.string(r.h.value),null!=a)if(null==a)s[a]=r;else switch(a){case"font-family":r=v.replace(r,'"',""),null!=(a=s)&&f.setProperty(a,"fontFamily",r);break;case"font-size":null!=(a=s)&&f.setProperty(a,"fontSize",r);break;case"font-style":null!=(a=s)&&f.setProperty(a,"fontStyle",r);break;case"font-weight":null!=(a=s)&&f.setProperty(a,"fontWeight",r);break;case"letter-spacing":null!=(a=s)&&f.setProperty(a,"letterSpacing",r);break;case"margin-left":null!=(a=s)&&f.setProperty(a,"marginLeft",r);break;case"text-align":null!=(a=s)&&f.setProperty(a,"textAlign",r);break;case"text-decoration":null!=(a=s)&&f.setProperty(a,"textDecoration",r);break;case"text-indent":null!=(a=s)&&f.setProperty(a,"textIndent",r);break;default:s[a]=r}}}},setStyle:function(t,e){if(t=t.toLowerCase(),null==e)Object.prototype.hasOwnProperty.call(this.__styles.h,t)&&(e=this.__styles,Object.prototype.hasOwnProperty.call(e.h,t)&&delete e.h[t]);else{for(var i={},s=0,n=f.fields(e);s<n.length;){var r=n[s];++s,i[r]=f.field(e,r)}this.__styles.h[t]=i}},transform:function(t){var e=new rm;return this.__applyStyleObject(t,e),e},__applyStyle:function(t,e){t=t.toLowerCase(),Object.prototype.hasOwnProperty.call(this.__styles.h,t)&&this.__applyStyleObject(this.__styles.h[t],e)},__applyStyleObject:function(t,e){if(null!=t){var i=new _("[0-9A-Fa-f]+",""),s=new _("[0-9]+",""),n=t;if(null!=n&&Object.prototype.hasOwnProperty.call(n,"color")?(n=zm.__get(t,"color"),n=i.match(null==n?null:g.string(n))):n=!1,n&&(e.color=g.parseInt("0x"+i.matched(0))),null!=(n=t)&&Object.prototype.hasOwnProperty.call(n,"fontFamily")&&(n=zm.__get(t,"fontFamily"),e.font=this.__parseFont(null==n?null:g.string(n))),null!=(n=t)&&Object.prototype.hasOwnProperty.call(n,"fontSize")?(n=zm.__get(t,"fontSize"),n=s.match(null==n?null:g.string(n))):n=!1,n&&(e.size=g.parseInt(s.matched(0))),null!=(n=t)&&Object.prototype.hasOwnProperty.call(n,"fontStyle"))switch(zm.__get(t,"fontStyle")){case"italic":e.italic=!0;break;case"normal":e.italic=!1}if(null!=(n=t)&&Object.prototype.hasOwnProperty.call(n,"fontWeight"))switch(zm.__get(t,"fontWeight")){case"bold":e.bold=!0;break;case"normal":e.bold=!1}if(null!=(n=t)&&Object.prototype.hasOwnProperty.call(n,"leading")?(n=zm.__get(t,"leading"),n=s.match(null==n?null:g.string(n))):n=!1,n&&(e.leading=g.parseInt(s.matched(0))),null!=(n=t)&&Object.prototype.hasOwnProperty.call(n,"letterSpacing")?(n=zm.__get(t,"letterSpacing"),n=s.match(null==n?null:g.string(n))):n=!1,n&&(e.letterSpacing=parseFloat(s.matched(0))),null!=(n=t)&&Object.prototype.hasOwnProperty.call(n,"marginLeft")?(n=zm.__get(t,"marginLeft"),n=s.match(null==n?null:g.string(n))):n=!1,n&&(e.leftMargin=g.parseInt(s.matched(0))),null!=(n=t)&&Object.prototype.hasOwnProperty.call(n,"marginRight")?(n=zm.__get(t,"marginRight"),n=s.match(null==n?null:g.string(n))):n=!1,n&&(e.rightMargin=g.parseInt(s.matched(0))),null!=(n=t)&&Object.prototype.hasOwnProperty.call(n,"textAlign"))switch(zm.__get(t,"textAlign")){case"center":e.align=0;break;case"justify":e.align=2;break;case"left":e.align=3;break;case"right":e.align=4}if(null!=(n=t)&&Object.prototype.hasOwnProperty.call(n,"textDecoration"))switch(zm.__get(t,"textDecoration")){case"none":e.underline=!1;break;case"underline":e.underline=!0}null!=(n=t)&&Object.prototype.hasOwnProperty.call(n,"textIndent")?(n=zm.__get(t,"textIndent"),n=s.match(null==n?null:g.string(n))):n=!1,n&&(e.blockIndent=g.parseInt(s.matched(0)))}},__parseFont:function(t){if(null==t)return null;switch(-1<t.indexOf(",")&&(t=c.substr(t,0,t.indexOf(","))),t){case"mono":return"_typewriter";case"sans-serif":return"_sans";case"serif":return"_serif";default:return t}},get_styleNames:function(){if(null==this.__styleNames||this.__styleNamesDirty){this.__styleNames=[];for(var t=Object.keys(this.__styles.h),e=t.length,i=0;i<e;){var s=t[i++];this.__styleNames.push(s)}this.__styleNamesDirty=!1}return this.__styleNames},__class__:sm,__properties__:{get_styleNames:"get_styleNames"}});var nm=function(){this.__renderedOnCanvasWhileOnDOM=this.__forceCachedBitmapUpdate=!1,this.__mouseScrollVCounter=0,this.condenseWhite=!1,F.call(this),this.__drawableType=7,this.__selectionIndex=this.__caretIndex=-1,this.__displayAsPassword=!1,this.__graphics=new J_(this),this.__textEngine=new dm(this),this.__layoutDirty=!0,this.__offsetY=this.__offsetX=0,this.__mouseWheelEnabled=!0,this.__text="",this.doubleClickEnabled=!0,null==nm.__defaultTextFormat&&(nm.__defaultTextFormat=new rm("Times New Roman",12,0,!1,!1,!1,"","",3,0,0,0,0),nm.__defaultTextFormat.blockIndent=0,nm.__defaultTextFormat.bullet=!1,nm.__defaultTextFormat.letterSpacing=0,nm.__defaultTextFormat.kerning=!1),this.__textFormat=nm.__defaultTextFormat.clone(),this.__textEngine.textFormatRanges.push(new pm(this.__textFormat,0,0)),this.addEventListener("mouseDown",n(this,this.this_onMouseDown)),this.addEventListener("focusIn",n(this,this.this_onFocusIn)),this.addEventListener("focusOut",n(this,this.this_onFocusOut)),this.addEventListener("keyDown",n(this,this.this_onKeyDown)),this.addEventListener("mouseWheel",n(this,this.this_onMouseWheel)),this.addEventListener("doubleClick",n(this,this.this_onDoubleClick))};r["openfl.text.TextField"]=nm,nm.__name__="openfl.text.TextField",nm.__super__=F,nm.prototype=i(F.prototype,{condenseWhite:null,__bounds:null,__caretIndex:null,__cursorTimer:null,__dirty:null,__displayAsPassword:null,__domRender:null,__inputEnabled:null,__isHTML:null,__layoutDirty:null,__mouseScrollVCounter:null,__mouseWheelEnabled:null,__offsetX:null,__offsetY:null,__selectionIndex:null,__showCursor:null,__styleSheet:null,__text:null,__htmlText:null,__textEngine:null,__textFormat:null,__div:null,__renderedOnCanvasWhileOnDOM:null,__forceCachedBitmapUpdate:null,appendText:function(t){null!=t&&""!=t&&(this.__layoutDirty=this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),this.__updateText(this.__text+t),this.__selectionIndex=this.__caretIndex=this.__textEngine.textFormatRanges.get(this.__textEngine.textFormatRanges.get_length()-1).end=this.__text.length)},getCharBoundaries:function(t){if(0>t||t>this.__text.length-1)return null;var e=new je;return this.__getCharBoundaries(t,e)?e:null},getCharIndexAtPoint:function(t,e){if(2>=t||t>this.get_width()+4||0>=e||e>this.get_height()+4)return-1;this.__updateLayout(),t+=this.get_scrollH();for(var i=0,s=this.get_scrollV()-1;i<s;){var n=i++;e+=this.__textEngine.lineHeights.get(n)}for(i=this.__textEngine.layoutGroups.iterator();i.hasNext();){var r=i.next();if(e>=r.offsetY&&e<=r.offsetY+r.height&&t>=r.offsetX&&t<=r.offsetX+r.width){for(i=e=0,s=r.positions.length;i<s;)if(n=i++,e+=r.positions[n],t<=r.offsetX+e)return r.startIndex+n;return r.endIndex}}return-1},getFirstCharInParagraph:function(t){if(0>t||t>this.get_text().length)return-1;if(0==this.__textEngine.lineBreaks.get_length())return 0;for(var e=0,i=this.__textEngine.lineBreaks.get_length();e<i;){var s=e++;if(t<=this.__textEngine.lineBreaks.get(s))return 0==s?0:this.__textEngine.lineBreaks.get(s-1)+1}return this.__textEngine.lineBreaks.get(this.__textEngine.lineBreaks.get_length()-1)+1},getLineIndexAtPoint:function(t,e){if(this.__updateLayout(),2>=t||t>this.get_width()+4||0>=e||e>this.get_height()+4)return-1;t=0;for(var i=this.get_scrollV()-1;t<i;){var s=t++;e+=this.__textEngine.lineHeights.get(s)}for(t=this.__textEngine.layoutGroups.iterator();t.hasNext();)if(e>=(i=t.next()).offsetY&&e<=i.offsetY+i.height)return i.lineIndex;return-1},getLineIndexOfChar:function(t){if(0>t||t>this.__text.length)return-1;this.__updateLayout();for(var e=this.__textEngine.layoutGroups.iterator();e.hasNext();){var i=e.next();if(i.startIndex<=t&&i.endIndex>=t)return i.lineIndex}return-1},getLineLength:function(t){if(this.__updateLayout(),0>t||t>this.__textEngine.numLines-1)return 0;for(var e=-1,i=-1,s=this.__textEngine.layoutGroups.iterator();s.hasNext();){var n=s.next();if(n.lineIndex==t)-1==e&&(e=n.startIndex);else if(n.lineIndex==t+1){i=n.startIndex;break}}return-1==i&&(i=this.__text.length),i-e},getLineMetrics:function(t){this.__updateLayout();var e=this.__textEngine.lineAscents.get(t),i=this.__textEngine.lineDescents.get(t),s=this.__textEngine.lineLeadings.get(t),n=this.__textEngine.lineHeights.get(t);switch(t=this.__textEngine.lineWidths.get(t),this.__textFormat.align){case 0:var r=(this.__textEngine.width-t)/2;break;case 1:case 4:r=this.__textEngine.width-t-2;break;case 2:case 3:case 5:r=2}return new om(r,t,n,e,i,s)},getLineOffset:function(t){if(this.__updateLayout(),0>t||t>this.__textEngine.numLines-1)return-1;for(var e=this.__textEngine.layoutGroups.iterator();e.hasNext();){var i=e.next();if(i.lineIndex==t)return i.startIndex}return 0},getLineText:function(t){if(this.__updateLayout(),0>t||t>this.__textEngine.numLines-1)return null;for(var e=-1,i=-1,s=this.__textEngine.layoutGroups.iterator();s.hasNext();){var n=s.next();if(n.lineIndex==t)-1==e&&(e=n.startIndex);else if(n.lineIndex==t+1){i=n.startIndex;break}}return-1==i&&(i=this.__text.length),this.__textEngine.text.substring(e,i)},getParagraphLength:function(t){if(0>t||t>this.get_text().length)return-1;var e=this.getFirstCharInParagraph(t);return t>=this.get_text().length?this.get_text().length-e+1:(0==(t=this.__textEngine.getLineBreakIndex(t)+1)&&(t=this.__text.length),t-e)},getTextFormat:function(t,e){null==e&&(e=-1),null==t&&(t=-1);var i=null;if(t>=this.get_text().length||-1>t||e>this.get_text().length||-1>e)throw new ad("The supplied index is out of bounds");if(-1==t&&(t=0),-1==e&&(e=this.get_text().length),t>=e)return new rm;for(var s=this.__textEngine.textFormatRanges.iterator();s.hasNext();){var n=s.next();(n.start<=t&&n.end>t||n.start<e&&n.end>=e)&&(null==i?i=n.format.clone():(n.format.font!=i.font&&(i.font=null),n.format.size!=i.size&&(i.size=null),n.format.color!=i.color&&(i.color=null),n.format.bold!=i.bold&&(i.bold=null),n.format.italic!=i.italic&&(i.italic=null),n.format.underline!=i.underline&&(i.underline=null),n.format.url!=i.url&&(i.url=null),n.format.target!=i.target&&(i.target=null),n.format.align!=i.align&&(i.align=null),n.format.leftMargin!=i.leftMargin&&(i.leftMargin=null),n.format.rightMargin!=i.rightMargin&&(i.rightMargin=null),n.format.indent!=i.indent&&(i.indent=null),n.format.leading!=i.leading&&(i.leading=null),n.format.blockIndent!=i.blockIndent&&(i.blockIndent=null),n.format.bullet!=i.bullet&&(i.bullet=null),n.format.kerning!=i.kerning&&(i.kerning=null),n.format.letterSpacing!=i.letterSpacing&&(i.letterSpacing=null),n.format.tabStops!=i.tabStops&&(i.tabStops=null)))}return null==i&&(i=new rm),i},replaceSelectedText:function(t){this.__replaceSelectedText(t,!1)},replaceText:function(t,e,i){this.__replaceText(t,e,i,!1)},setSelection:function(t,e){this.__selectionIndex=t,this.__caretIndex=e,this.__updateScrollV(),this.__updateScrollH(),null!=this.stage&&this.stage.get_focus()==this&&(this.__stopCursorTimer(),this.__startCursorTimer())},setTextFormat:function(t,e,i){null==i&&(i=-1),null==e&&(e=-1);var s=this.get_text().length;if(-1==e?(-1==i&&(i=s),e=0):-1==i&&(i=e+1),e!=i){if(0>e||0>=i||i<e||e>=s||i>s)throw new ad;if(0==e&&i==s){this.__textEngine.textFormatRanges.set_length(1);var n=this.__textEngine.textFormatRanges.get(0);n.start=0,n.end=s,n.format.__merge(t)}else{s=0;for(var r;s<this.__textEngine.textFormatRanges.get_length();)if((n=this.__textEngine.textFormatRanges.get(s)).end<=e)++s;else{if(n.start>=i)break;if(n.start<=e&&n.end>=i){if(n.start==e&&n.end==i){n.format=n.format.clone(),n.format.__merge(t);break}if(n.start!=e){n.end==i?((r=new pm(n.format.clone(),e,i)).format.__merge(t),this.__textEngine.textFormatRanges.insertAt(s+1,r)):((r=new pm(n.format.clone(),e,i)).format.__merge(t),this.__textEngine.textFormatRanges.insertAt(s+1,r),r=new pm(n.format.clone(),i,n.end),this.__textEngine.textFormatRanges.insertAt(s+2,r)),n.end=e;break}(r=new pm(n.format.clone(),e,i)).format.__merge(t),this.__textEngine.textFormatRanges.insertAt(s,r),n.start=i,s+=2}else if(n.start>=e&&n.end<=i)n.start==e?(n.format=n.format.clone(),n.format.__merge(t),n.end=i):this.__textEngine.textFormatRanges.removeAt(s);else{if(n.start>e&&n.end>e){n.start=i;break}n.start<e&&n.end<=i?((r=new pm(n.format.clone(),e,i)).format.__merge(t),this.__textEngine.textFormatRanges.insertAt(s+1,r),n.end=e,s+=2):(++s,d_.warn("You found a bug in OpenFL's text code! Please save a copy of your project and contact Joshua Granick (@singmajesty) so we can fix this.",{fileName:"openfl/text/TextField.hx",lineNumber:1564,className:"openfl.text.TextField",methodName:"setTextFormat"}))}}}this.__layoutDirty=this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())}},__allowMouseFocus:function(){return this.mouseEnabled},__caretBeginningOfLine:function(){this.__caretIndex=this.getLineOffset(this.getLineIndexOfChar(this.__caretIndex))},__caretBeginningOfNextLine:function(){var t=this.getLineIndexOfChar(this.__caretIndex);this.__caretIndex=t<this.__textEngine.numLines-1?this.getLineOffset(t+1):this.__text.length},__caretBeginningOfPreviousLine:function(){var t=this.getLineIndexOfChar(this.__caretIndex);if(0<t){var e=this.getLineOffset(this.getLineIndexOfChar(this.__caretIndex));this.__caretIndex=this.__caretIndex==e?this.getLineOffset(t-1):e}},__caretEndOfLine:function(){var t=this.getLineIndexOfChar(this.__caretIndex);this.__caretIndex=t<this.__textEngine.numLines-1?this.getLineOffset(t+1)-1:this.__text.length},__caretNextCharacter:function(){this.__caretIndex<this.__text.length&&this.__caretIndex++},__caretNextLine:function(){var t=this.getLineIndexOfChar(this.__caretIndex);t<this.__textEngine.numLines-1&&(this.__caretIndex=this.__getCharIndexOnDifferentLine(this.get_caretIndex(),t+1))},__caretPreviousCharacter:function(){0<this.__caretIndex&&this.__caretIndex--},__caretPreviousLine:function(){var t=this.getLineIndexOfChar(this.__caretIndex);0<t&&(this.__caretIndex=this.__getCharIndexOnDifferentLine(this.get_caretIndex(),t-1))},__disableInput:function(){this.__inputEnabled&&null!=this.stage&&(this.stage.window.__backend.setTextInputEnabled(!1),this.stage.window.onTextInput.remove(n(this,this.window_onTextInput)),this.stage.window.onKeyDown.remove(n(this,this.window_onKeyDown)),this.__inputEnabled=!1,this.__stopCursorTimer())},__dispatch:function(t){if(2==t.eventPhase&&"mouseUp"==t.type){var e=this.__getGroup(this.get_mouseX(),this.get_mouseY(),!0);null!=e&&null!=(e=e.format.url)&&""!=e&&(v.startsWith(e,"event:")?this.dispatchEvent(new _d("link",!0,!1,c.substr(e,6,null))):I_.getURL(new jd(e)))}return F.prototype.__dispatch.call(this,t)},__enableInput:function(){if(null!=this.stage){var t=this.getBounds(this.stage);t=new Jl(t.x,t.y,t.width,t.height),this.stage.window.setTextInputRect(t),this.stage.window.__backend.setTextInputEnabled(!0),this.__inputEnabled||(this.stage.window.__backend.setTextInputEnabled(!0),this.stage.window.onTextInput.has(n(this,this.window_onTextInput))||(this.stage.window.onTextInput.add(n(this,this.window_onTextInput)),this.stage.window.onKeyDown.add(n(this,this.window_onKeyDown))),this.__inputEnabled=!0,this.__startCursorTimer())}},__getAdvance:function(t){return t},__getBounds:function(t,e){this.__updateLayout();var i=je.__pool.get();i.copyFrom(this.__textEngine.bounds),i.offset(this.__offsetX,this.__offsetY),i.__transform(i,e),t.__expand(i.x,i.y,i.width,i.height),je.__pool.release(i)},__getCharBoundaries:function(t,e){if(0>t||t>this.__text.length-1)return!1;this.__updateLayout();for(var i=this.__textEngine.layoutGroups.iterator();i.hasNext();){var s=i.next();if(t>=s.startIndex&&t<s.endIndex)try{for(var n=s.offsetX,r=0,a=t-s.startIndex;r<a;){var o=r++;n+=s.positions[o]}return e.setTo(n,s.offsetY,s.positions[t-s.startIndex],s.ascent+s.descent),!0}catch(t){Ma.lastError=t}}return!1},__getCharIndexOnDifferentLine:function(t,e){if(0>t||t>this.__text.length||0>e||e>this.__textEngine.numLines-1)return-1;for(var i=null,s=null,n=this.__textEngine.layoutGroups.iterator();n.hasNext();){var r=n.next();if(t>=r.startIndex&&t<=r.endIndex){i=r.offsetX;for(var a=0,o=t-r.startIndex;a<o;){var l=a++;i+=r.positions[l]}if(null!=s)return this.__getPosition(i,s)}if(r.lineIndex==e){for(s=r.offsetY+r.height/2,r=0,a=this.get_scrollV()-1;r<a;)o=r++,s-=this.__textEngine.lineHeights.get(o);if(null!=i)return this.__getPosition(i,s)}}return-1},__getCursor:function(){var t=this.__getGroup(this.get_mouseX(),this.get_mouseY(),!0);return null!=t&&""!=t.format.url?"button":this.__textEngine.selectable?"ibeam":null},__getGroup:function(t,e,i){null==i&&(i=!1),this.__updateLayout(),t+=this.get_scrollH();for(var s=0,n=this.get_scrollV()-1;s<n;){var r=s++;e+=this.__textEngine.lineHeights.get(r)}!i&&e>this.__textEngine.textHeight&&(e=this.__textEngine.textHeight);var a=!0;for(s=0,n=this.__textEngine.layoutGroups.get_length();s<n;){r=s++;var o=this.__textEngine.layoutGroups.get(r);if(r=r<this.__textEngine.layoutGroups.get_length()-1?this.__textEngine.layoutGroups.get(r+1):null,a&&(e<o.offsetY&&(e=o.offsetY),t<o.offsetX&&(t=o.offsetX),a=!1),(e>=o.offsetY&&e<=o.offsetY+o.height||!i&&null==r)&&(t>=o.offsetX&&t<=o.offsetX+o.width||!i&&(null==r||r.lineIndex!=o.lineIndex)))return o}return null},__getPosition:function(t,e){if(null==(e=this.__getGroup(t,e)))return this.__text.length;for(var i=0,s=0,n=e.positions.length;s<n;){var r=s++;if(i+=e.positions[r],t<=e.offsetX+i){if(t<=e.offsetX+(i-e.positions[r])+e.positions[r]/2)return e.startIndex+r;if(e.startIndex+r<e.endIndex)return e.startIndex+r+1;break}}return e.endIndex},__hitTest:function(t,e,i,s,n,r){if(!r.get_visible()||this.__isMask||n&&!this.mouseEnabled||null!=this.get_mask()&&!this.get_mask().__hitTestMask(t,e))return!1;this.__getRenderTransform(),this.__updateLayout();var a=0==(n=(i=this.__renderTransform).a*i.d-i.b*i.c)?-i.tx:1/n*(i.c*(i.ty-e)+i.d*(t-i.tx));return n=(i=this.__renderTransform).a*i.d-i.b*i.c,!!this.__textEngine.bounds.contains(a,0==n?-i.ty:1/n*(i.a*(e-i.ty)+i.b*(i.tx-t)))&&(null!=s&&s.push(r),!0)},__hitTestMask:function(t,e){this.__getRenderTransform(),this.__updateLayout();var i=this.__renderTransform,s=i.a*i.d-i.b*i.c,n=0==s?-i.tx:1/s*(i.c*(i.ty-e)+i.d*(t-i.tx));return s=(i=this.__renderTransform).a*i.d-i.b*i.c,!!this.__textEngine.bounds.contains(n,0==s?-i.ty:1/s*(i.a*(e-i.ty)+i.b*(i.tx-t)))},__replaceSelectedText:function(t,e){if(null==e&&(e=!0),null==t&&(t=""),""!=t||this.__selectionIndex!=this.__caretIndex){var i=this.__caretIndex<this.__selectionIndex?this.__caretIndex:this.__selectionIndex,s=this.__caretIndex>this.__selectionIndex?this.__caretIndex:this.__selectionIndex;if(!(i==s&&0<this.__textEngine.maxChars&&this.__text.length==this.__textEngine.maxChars)){if(i>this.__text.length&&(i=this.__text.length),s>this.__text.length&&(s=this.__text.length),s<i){var n=s;s=i,i=n}0>i&&(i=0),this.__replaceText(i,s,t,e)}}},__replaceText:function(t,e,i,s){if(!(e<t||0>t||e>this.__text.length||null==i)){s&&(i=this.__textEngine.restrictText(i),0<this.__textEngine.maxChars&&(0>=(s=this.__textEngine.maxChars-this.__text.length+(e-t))?i="":s<i.length&&(i=c.substr(i,0,s)))),this.__updateText(this.__text.substring(0,t)+i+this.__text.substring(e)),s=i.length-(e-t);for(var n,r=0;r<this.__textEngine.textFormatRanges.get_length();){if(n=this.__textEngine.textFormatRanges.get(r),t==e)n.start==n.end?0!=n.start?d_.warn("You found a bug in OpenFL's text code! Please save a copy of your project and contact Joshua Granick (@singmajesty) so we can fix this.",{fileName:"openfl/text/TextField.hx",lineNumber:2069,className:"openfl.text.TextField",methodName:"__replaceText"}):n.end+=s:n.end>=t&&(n.start>=t?(n.start+=s,n.end+=s):n.start<t&&n.end>=e&&(n.end+=s));else if(n.end>t)if(n.start>e)n.start+=s,n.end+=s;else if(n.start<=t&&n.end>e)n.end+=s;else if(n.start>=t&&n.end<=e){(n=this.__textEngine.textFormatRanges).__tempIndex=r--;for(var a=0,o=[];a<o.length;){var l=o[a++];n.insertAt(n.__tempIndex,l),n.__tempIndex++}n.splice(n.__tempIndex,1)}else n.end>e&&n.start>t&&n.start<=e?(n.start=t,n.end+=s):n.start<t&&n.end>t&&n.end<=e&&(n.end=t);++r}0==this.__textEngine.textFormatRanges.get_length()?this.__textEngine.textFormatRanges.push(new pm(this.get_defaultTextFormat().clone(),0,i.length)):t==e&&0<this.__textEngine.textFormatRanges.get(0).start?this.__textEngine.textFormatRanges.unshift(new pm(this.get_defaultTextFormat().clone(),0,this.__textEngine.textFormatRanges.get(0).start)):t!=e&&this.__textEngine.textFormatRanges.get(this.__textEngine.textFormatRanges.get_length()-1).end<this.__text.length&&this.__textEngine.textFormatRanges.push(new pm(this.get_defaultTextFormat().clone(),this.__textEngine.textFormatRanges.get(this.__textEngine.textFormatRanges.get_length()-1).end,this.__text.length)),this.__selectionIndex=this.__caretIndex=t+i.length,this.__layoutDirty=this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())}},__startCursorTimer:function(){1==this.get_type()?(this.__cursorTimer=Ia.delay(n(this,this.__startCursorTimer),600),this.__showCursor=!this.__showCursor,this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())):this.get_selectable()&&(this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()))},__startTextInput:function(){0>this.__caretIndex&&(this.__selectionIndex=this.__caretIndex=this.__text.length),(!k.__supportDOM||this.__renderedOnCanvasWhileOnDOM)&&this.__enableInput()},__stopCursorTimer:function(){null!=this.__cursorTimer&&(this.__cursorTimer.stop(),this.__cursorTimer=null),this.__showCursor&&(this.__showCursor=!1,this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()))},__stopTextInput:function(){(!k.__supportDOM||this.__renderedOnCanvasWhileOnDOM)&&this.__disableInput()},__updateLayout:function(){if(this.__layoutDirty){var t=this.__textEngine.width;if(this.__textEngine.update(),2!=this.__textEngine.autoSize){if(this.__textEngine.width!=t)switch(this.__textEngine.autoSize){case 0:this.set_x(this.get_x()+(t-this.__textEngine.width)/2);break;case 3:this.set_x(this.get_x()+(t-this.__textEngine.width))}this.__textEngine.getBounds()}this.__layoutDirty=!1,this.setSelection(this.__selectionIndex,this.__caretIndex)}},__updateScrollH:function(){if(this.__updateLayout(),this.get_textWidth()<=this.get_width()-4)this.set_scrollH(0);else{var t=this.get_scrollH();if(0==this.__caretIndex||this.getLineOffset(this.getLineIndexOfChar(this.__caretIndex))==this.__caretIndex)t=0;else{var e=je.__pool.get(),i=!1;for(this.__caretIndex<this.__text.length&&(i=this.__getCharBoundaries(this.__caretIndex,e)),i||(this.__getCharBoundaries(this.__caretIndex-1,e),e.x+=e.width);e.x<t&&0<t;)t-=24;for(;e.x>t+this.get_width()-4;)t+=24;je.__pool.release(e)}0<t&&1!=this.get_type()&&(e=this.getLineLength(this.getLineIndexOfChar(this.__caretIndex)),this.get_scrollH()+this.get_width()-4>e&&this.set_scrollH(Math.ceil(e-this.get_width()+4))),0>t?this.set_scrollH(0):t>this.get_maxScrollH()?this.set_scrollH(this.get_maxScrollH()):this.set_scrollH(t)}},__updateScrollV:function(){if(this.__updateLayout(),this.get_textHeight()<=this.get_height()-4)this.set_scrollV(1);else{var t=this.getLineIndexOfChar(this.__caretIndex);if(-1==t&&0<this.__caretIndex&&(t=this.getLineIndexOfChar(this.__caretIndex-1)+1),t+1<this.get_scrollV())this.set_scrollV(t+1);else if(t+1>this.get_bottomScrollV()){var e=0;for(t>=this.__textEngine.lineHeights.get_length()&&(t=this.__textEngine.lineHeights.get_length()-1);0<=t;){if((e+=this.__textEngine.lineHeights.get(t))>this.get_height()-4){t+=0>e-this.get_height()?1:2;break}--t}this.set_scrollV(t)}else this.set_scrollV(this.get_scrollV())}},__updateMouseDrag:function(){null!=this.stage&&(this.get_mouseX()>this.get_width()-1?this.set_scrollH(this.get_scrollH()+(0|Math.max(Math.min(.1*(this.get_mouseX()-this.get_width()),10),1))):1>this.get_mouseX()&&this.set_scrollH(this.get_scrollH()-(0|Math.max(Math.min(-.1*this.get_mouseX(),10),1))),this.__mouseScrollVCounter++,this.__mouseScrollVCounter>this.stage.get_frameRate()/10&&(this.get_mouseY()>this.get_height()-2?this.set_scrollV(0|Math.min(this.get_scrollV()+Math.max(Math.min(.03*(this.get_mouseY()-this.get_height()),5),1),this.get_maxScrollV())):2>this.get_mouseY()&&this.set_scrollV(this.get_scrollV()-(0|Math.max(Math.min(-.03*this.get_mouseY(),5),1))),this.__mouseScrollVCounter=0),this.stage_onMouseMove(null))},__updateText:function(t){if(k.__supportDOM&&this.__renderedOnCanvasWhileOnDOM&&(this.__forceCachedBitmapUpdate=this.__text!=t),this.__textEngine.set_text(t),this.__text=this.__textEngine.text,null!=this.stage&&this.stage.get_focus()==this?(this.__text.length<this.__selectionIndex&&(this.__selectionIndex=this.__text.length),this.__text.length<this.__caretIndex&&(this.__caretIndex=this.__text.length)):this.__isHTML?this.__selectionIndex=this.__caretIndex=this.__text.length:this.__caretIndex=this.__selectionIndex=0,!this.__displayAsPassword||k.__supportDOM&&!this.__renderedOnCanvasWhileOnDOM)this.__textEngine.set_text(this.__text);else{t="";for(var e=0,i=this.get_text().length;e<i;)e++,t+="*";this.__textEngine.set_text(t)}},__updateTransforms:function(t){F.prototype.__updateTransforms.call(this,t),t=this.__renderTransform;var e=this.__offsetX,i=this.__offsetY;t.tx=e*t.a+i*t.c+t.tx,t.ty=e*t.b+i*t.d+t.ty},get_antiAliasType:function(){return this.__textEngine.antiAliasType},set_antiAliasType:function(t){return this.__textEngine.antiAliasType=t},get_autoSize:function(){return this.__textEngine.autoSize},set_autoSize:function(t){return t!=this.__textEngine.autoSize&&(this.__layoutDirty=this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())),this.__textEngine.autoSize=t},get_background:function(){return this.__textEngine.background},set_background:function(t){return t!=this.__textEngine.background&&(this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())),this.__textEngine.background=t},get_backgroundColor:function(){return this.__textEngine.backgroundColor},set_backgroundColor:function(t){return t!=this.__textEngine.backgroundColor&&(this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())),this.__textEngine.backgroundColor=t},get_border:function(){return this.__textEngine.border},set_border:function(t){return t!=this.__textEngine.border&&(this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())),this.__textEngine.border=t},get_borderColor:function(){return this.__textEngine.borderColor},set_borderColor:function(t){return t!=this.__textEngine.borderColor&&(this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())),this.__textEngine.borderColor=t},get_bottomScrollV:function(){return this.__updateLayout(),this.__textEngine.get_bottomScrollV()},get_caretIndex:function(){return this.__caretIndex},get_defaultTextFormat:function(){return this.__textFormat.clone()},set_defaultTextFormat:function(t){return this.__textFormat.__merge(t),this.__dirty=this.__layoutDirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),t},get_displayAsPassword:function(){return this.__displayAsPassword},set_displayAsPassword:function(t){return t!=this.__displayAsPassword&&(this.__layoutDirty=this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),this.__displayAsPassword=t,this.__updateText(this.__text)),t},get_embedFonts:function(){return this.__textEngine.embedFonts},set_embedFonts:function(t){return this.__textEngine.embedFonts=t},get_gridFitType:function(){return this.__textEngine.gridFitType},set_gridFitType:function(t){return this.__textEngine.gridFitType=t},get_height:function(){return this.__updateLayout(),this.__textEngine.height*Math.abs(this.get_scaleY())},set_height:function(t){return t!=this.__textEngine.height&&(this.__setTransformDirty(),this.__layoutDirty=this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),this.__textEngine.height=t),this.__textEngine.height*Math.abs(this.get_scaleY())},get_htmlText:function(){return this.__isHTML?this.__htmlText:this.__text},set_htmlText:function(t){return this.__isHTML&&this.__text==t||(this.__layoutDirty=this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())),this.__isHTML=!0,this.condenseWhite&&(t=t.replace(/\s+/g," ")),this.__htmlText=t,t=cm.parse(t,this.get_multiline(),this.__styleSheet,this.__textFormat,this.__textEngine.textFormatRanges),this.__updateText(t),t},get_length:function(){return null!=this.__text?this.__text.length:0},get_maxChars:function(){return this.__textEngine.maxChars},set_maxChars:function(t){return t!=this.__textEngine.maxChars&&(this.__textEngine.maxChars=t,this.__layoutDirty=this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())),t},get_maxScrollH:function(){return this.__updateLayout(),this.__textEngine.maxScrollH},get_maxScrollV:function(){return this.__updateLayout(),this.__textEngine.get_maxScrollV()},get_mouseWheelEnabled:function(){return this.__mouseWheelEnabled},set_mouseWheelEnabled:function(t){return this.__mouseWheelEnabled=t},get_multiline:function(){return this.__textEngine.multiline},set_multiline:function(t){return this.__textEngine.multiline=t},get_numLines:function(){return this.__updateLayout(),this.__textEngine.numLines},get_restrict:function(){return this.__textEngine.restrict},set_restrict:function(t){return this.__textEngine.restrict!=t&&(this.__textEngine.set_restrict(t),this.__updateText(this.__text)),t},get_scrollH:function(){return this.__textEngine.scrollH},set_scrollH:function(t){return this.__updateLayout(),t>this.__textEngine.maxScrollH&&(t=this.__textEngine.maxScrollH),0>t&&(t=0),t!=this.__textEngine.scrollH&&(this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),this.__textEngine.scrollH=t,this.dispatchEvent(new _i("scroll"))),this.__textEngine.scrollH},get_scrollV:function(){return this.__textEngine.get_scrollV()},set_scrollV:function(t){return this.__updateLayout(),t==this.__textEngine.get_scrollV()&&0!=this.__textEngine.get_scrollV()||(this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),this.__textEngine.set_scrollV(t),this.dispatchEvent(new _i("scroll"))),this.__textEngine.get_scrollV()},get_selectable:function(){return this.__textEngine.selectable},set_selectable:function(t){return t!=this.__textEngine.selectable&&1==this.get_type()&&(null!=this.stage&&this.stage.get_focus()==this?this.__startTextInput():t||this.__stopTextInput()),this.__textEngine.selectable=t},get_selectionBeginIndex:function(){return 0|Math.min(this.__caretIndex,this.__selectionIndex)},get_selectionEndIndex:function(){return 0|Math.max(this.__caretIndex,this.__selectionIndex)},get_sharpness:function(){return this.__textEngine.sharpness},set_sharpness:function(t){return t!=this.__textEngine.sharpness&&(this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())),this.__textEngine.sharpness=t},get_styleSheet:function(){return this.__styleSheet},set_styleSheet:function(t){return null!=this.__styleSheet&&null==t||null==t||(this.__isHTML&&t!=this.__styleSheet&&(this.__layoutDirty=this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),this.set_htmlText(this.__htmlText)),this.set_type(0)),this.__styleSheet=t},get_tabEnabled:function(){return null==this.__tabEnabled?1==this.__textEngine.type:this.__tabEnabled},get_text:function(){return this.__text},set_text:function(t){if(null!=this.__styleSheet)return this.set_htmlText(t);if(!this.__isHTML&&this.__text==t)return t;if(this.__layoutDirty=this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),1<this.__textEngine.textFormatRanges.get_length()){var e=this.__textEngine.textFormatRanges,i=this.__textEngine.textFormatRanges.get_length()-1;e.__tempIndex=1;for(var s=0,n=[];s<n.length;){var r=n[s++];e.insertAt(e.__tempIndex,r),e.__tempIndex++}e.splice(e.__tempIndex,i)}return(e=this.__textEngine.textFormatRanges.get(0)).format=this.__textFormat,e.start=0,e.end=t.length,this.__isHTML=!1,this.__updateText(t),t},get_textColor:function(){return this.__textFormat.color},set_textColor:function(t){t!=this.__textFormat.color&&(this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()));for(var e=this.__textEngine.textFormatRanges.iterator();e.hasNext();)e.next().format.color=t;return this.__textFormat.color=t},get_textWidth:function(){return this.__updateLayout(),this.__textEngine.textWidth},get_textHeight:function(){return this.__updateLayout(),this.__textEngine.textHeight},get_type:function(){return this.__textEngine.type},set_type:function(t){return null!=this.__styleSheet&&(t=0),t!=this.__textEngine.type&&(this.__textEngine.type=t,1==t?(this.addEventListener("addedToStage",n(this,this.this_onAddedToStage)),this.this_onFocusIn(null),this.__textEngine.__useIntAdvances=!0):(this.removeEventListener("addedToStage",n(this,this.this_onAddedToStage)),this.__stopTextInput(),this.__textEngine.__useIntAdvances=null),this.__layoutDirty=this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())),this.__textEngine.type},get_width:function(){return this.__updateLayout(),this.__textEngine.width*Math.abs(this.__scaleX)},set_width:function(t){return t!=this.__textEngine.width&&(this.__setTransformDirty(),this.__layoutDirty=this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),this.__textEngine.width=t),this.__textEngine.width*Math.abs(this.__scaleX)},get_wordWrap:function(){return this.__textEngine.wordWrap},set_wordWrap:function(t){return t!=this.__textEngine.wordWrap&&(this.__layoutDirty=this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())),this.__textEngine.wordWrap=t},get_x:function(){return this.__transform.tx+this.__offsetX},set_x:function(t){return t!=this.__transform.tx+this.__offsetX&&this.__setTransformDirty(),this.__transform.tx=t-this.__offsetX,t},get_y:function(){return this.__transform.ty+this.__offsetY},set_y:function(t){return t!=this.__transform.ty+this.__offsetY&&this.__setTransformDirty(),this.__transform.ty=t-this.__offsetY,t},stage_onMouseMove:function(t){null!=this.stage&&this.get_selectable()&&0<=this.__selectionIndex&&(this.__updateLayout(),(t=this.__getPosition(this.get_mouseX()+this.get_scrollH(),this.get_mouseY()))!=this.__caretIndex&&(this.__caretIndex=t,t=!0,k.__supportDOM&&(this.__renderedOnCanvasWhileOnDOM&&(this.__forceCachedBitmapUpdate=!0),t=!1),t&&(this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()))))},stage_onMouseUp:function(t){if((t=t.currentTarget).removeEventListener("enterFrame",n(this,this.this_onEnterFrame)),t.removeEventListener("mouseMove",n(this,this.stage_onMouseMove)),t.removeEventListener("mouseUp",n(this,this.stage_onMouseUp)),null!=this.stage&&t.get_focus()==this){this.__getWorldTransform(),this.__updateLayout(),t=this.__getPosition(this.get_mouseX()+this.get_scrollH(),this.get_mouseY());var e=0|Math.max(this.__selectionIndex,t);this.__selectionIndex=0|Math.min(this.__selectionIndex,t),this.__caretIndex=e,this.__inputEnabled&&(this.this_onFocusIn(null),this.__stopCursorTimer(),this.__startCursorTimer(),k.__supportDOM&&this.__renderedOnCanvasWhileOnDOM&&(this.__forceCachedBitmapUpdate=!0))}},this_onAddedToStage:function(t){this.this_onFocusIn(null)},this_onEnterFrame:function(t){this.__updateMouseDrag()},this_onFocusIn:function(t){1==this.get_type()&&null!=this.stage&&this.stage.get_focus()==this?this.__startTextInput():1!=this.get_type()&&this.get_selectable()&&null!=this.stage&&this.stage.get_focus()==this&&this.__startCursorTimer()},this_onFocusOut:function(t){this.__stopCursorTimer(),this.__stopTextInput(),this.__selectionIndex!=this.__caretIndex&&(this.__selectionIndex=this.__caretIndex,this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()))},this_onKeyDown:function(t){this.get_selectable()&&1!=this.get_type()&&67==t.keyCode&&(t.commandKey||t.ctrlKey)&&this.__caretIndex!=this.__selectionIndex&&xh.set_text(this.__text.substring(this.__caretIndex,this.__selectionIndex))},this_onMouseDown:function(t){(this.get_selectable()||1==this.get_type())&&(this.__updateLayout(),this.__selectionIndex=this.__caretIndex=this.__getPosition(this.get_mouseX()+this.get_scrollH(),this.get_mouseY()),k.__supportDOM||(this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())),null!=this.stage&&(this.stage.addEventListener("enterFrame",n(this,this.this_onEnterFrame)),this.stage.addEventListener("mouseMove",n(this,this.stage_onMouseMove)),this.stage.addEventListener("mouseUp",n(this,this.stage_onMouseUp))))},this_onMouseWheel:function(t){this.get_mouseWheelEnabled()&&this.set_scrollV(0|Math.min(this.get_scrollV()-t.delta,this.get_maxScrollV()))},this_onDoubleClick:function(t){if(this.get_selectable()){this.__updateLayout(),t="\n.!?, ;:()-_/".split("");var e=this.__text,i=-1,s=e.length,n=0|Math.max(this.__caretIndex,1);if(0<e.length&&0<=this.__caretIndex&&s>=this.__caretIndex){for(var r=0;r<t.length;){var a=t[r];++r;var o=e.lastIndexOf(a,n-1);o>i&&(i=o+1),(o=e.indexOf(a,n))<s&&-1!=o&&(s=o)}i!=s&&(this.setSelection(i,s),t=!0,k.__supportDOM&&(this.__renderedOnCanvasWhileOnDOM&&(this.__forceCachedBitmapUpdate=!0),t=!1),t&&(this.__dirty=!0,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())))}}},window_onKeyDown:function(t,e){switch(t){case 8:this.__selectionIndex==this.__caretIndex&&0<this.__caretIndex&&(this.__selectionIndex=this.__caretIndex-1),this.__selectionIndex!=this.__caretIndex?(this.replaceSelectedText(""),this.__selectionIndex=this.__caretIndex,this.dispatchEvent(new _i("change",!0))):(this.__stopCursorTimer(),this.__startCursorTimer());break;case 97:this.get_selectable()&&(Jh.get_metaKey(e)||Jh.get_ctrlKey(e))&&this.setSelection(0,this.__text.length);break;case 99:(Jh.get_metaKey(e)||Jh.get_ctrlKey(e))&&this.__caretIndex!=this.__selectionIndex&&xh.set_text(this.__text.substring(this.__caretIndex,this.__selectionIndex));break;case 120:(Jh.get_metaKey(e)||Jh.get_ctrlKey(e))&&this.__caretIndex!=this.__selectionIndex&&(xh.set_text(this.__text.substring(this.__caretIndex,this.__selectionIndex)),this.replaceSelectedText(""),this.dispatchEvent(new _i("change",!0)));break;case 127:this.__selectionIndex==this.__caretIndex&&this.__caretIndex<this.__text.length&&(this.__selectionIndex=this.__caretIndex+1),this.__selectionIndex!=this.__caretIndex?(this.replaceSelectedText(""),this.__selectionIndex=this.__caretIndex,this.dispatchEvent(new _i("change",!0))):(this.__stopCursorTimer(),this.__startCursorTimer());break;case 1073741898:this.get_selectable()&&(Jh.get_metaKey(e)||Jh.get_ctrlKey(e)?this.__caretIndex=0:this.__caretBeginningOfLine(),Jh.get_shiftKey(e)||(this.__selectionIndex=this.__caretIndex),this.setSelection(this.__selectionIndex,this.__caretIndex));break;case 1073741901:this.get_selectable()&&(Jh.get_metaKey(e)||Jh.get_ctrlKey(e)?this.__caretIndex=this.__text.length:this.__caretEndOfLine(),Jh.get_shiftKey(e)||(this.__selectionIndex=this.__caretIndex),this.setSelection(this.__selectionIndex,this.__caretIndex));break;case 1073741903:this.get_selectable()&&(Jh.get_metaKey(e)||Jh.get_ctrlKey(e)?this.__caretBeginningOfNextLine():this.__caretNextCharacter(),Jh.get_shiftKey(e)||(this.__selectionIndex=this.__caretIndex),this.setSelection(this.__selectionIndex,this.__caretIndex));break;case 1073741904:this.get_selectable()&&(Jh.get_metaKey(e)||Jh.get_ctrlKey(e)?this.__caretBeginningOfPreviousLine():this.__caretPreviousCharacter(),Jh.get_shiftKey(e)||(this.__selectionIndex=this.__caretIndex),this.setSelection(this.__selectionIndex,this.__caretIndex));break;case 1073741905:this.get_selectable()&&(Jh.get_metaKey(e)||Jh.get_ctrlKey(e)?this.__caretIndex=this.__text.length:this.__caretNextLine(),Jh.get_shiftKey(e)||(this.__selectionIndex=this.__caretIndex),this.setSelection(this.__selectionIndex,this.__caretIndex));break;case 1073741906:this.get_selectable()&&(Jh.get_metaKey(e)||Jh.get_ctrlKey(e)?this.__caretIndex=0:this.__caretPreviousLine(),Jh.get_shiftKey(e)||(this.__selectionIndex=this.__caretIndex),this.setSelection(this.__selectionIndex,this.__caretIndex));break;case 13:case 1073741912:this.__textEngine.multiline?(t=new _d("textInput",!0,!0,"\n"),this.dispatchEvent(t),t.isDefaultPrevented()||(this.__replaceSelectedText("\n",!0),this.dispatchEvent(new _i("change",!0)))):(this.__stopCursorTimer(),this.__startCursorTimer())}},window_onTextInput:function(t){this.__replaceSelectedText(t,!0),this.dispatchEvent(new _i("change",!0))},__class__:nm,__properties__:i(F.prototype.__properties__,{set_wordWrap:"set_wordWrap",get_wordWrap:"get_wordWrap",set_type:"set_type",get_type:"get_type",get_textWidth:"get_textWidth",get_textHeight:"get_textHeight",set_textColor:"set_textColor",get_textColor:"get_textColor",set_text:"set_text",get_text:"get_text",set_styleSheet:"set_styleSheet",get_styleSheet:"get_styleSheet",set_sharpness:"set_sharpness",get_sharpness:"get_sharpness",get_selectionEndIndex:"get_selectionEndIndex",get_selectionBeginIndex:"get_selectionBeginIndex",set_selectable:"set_selectable",get_selectable:"get_selectable",set_scrollV:"set_scrollV",get_scrollV:"get_scrollV",set_scrollH:"set_scrollH",get_scrollH:"get_scrollH",set_restrict:"set_restrict",get_restrict:"get_restrict",get_numLines:"get_numLines",set_multiline:"set_multiline",get_multiline:"get_multiline",set_mouseWheelEnabled:"set_mouseWheelEnabled",get_mouseWheelEnabled:"get_mouseWheelEnabled",get_maxScrollV:"get_maxScrollV",get_maxScrollH:"get_maxScrollH",set_maxChars:"set_maxChars",get_maxChars:"get_maxChars",get_length:"get_length",set_htmlText:"set_htmlText",get_htmlText:"get_htmlText",set_gridFitType:"set_gridFitType",get_gridFitType:"get_gridFitType",set_embedFonts:"set_embedFonts",get_embedFonts:"get_embedFonts",set_displayAsPassword:"set_displayAsPassword",get_displayAsPassword:"get_displayAsPassword",set_defaultTextFormat:"set_defaultTextFormat",get_defaultTextFormat:"get_defaultTextFormat",get_caretIndex:"get_caretIndex",get_bottomScrollV:"get_bottomScrollV",set_borderColor:"set_borderColor",get_borderColor:"get_borderColor",set_border:"set_border",get_border:"get_border",set_backgroundColor:"set_backgroundColor",get_backgroundColor:"get_backgroundColor",set_background:"set_background",get_background:"get_background",set_autoSize:"set_autoSize",get_autoSize:"get_autoSize",set_antiAliasType:"set_antiAliasType",get_antiAliasType:"get_antiAliasType"})});var rm=function(t,e,i,s,n,r,a,o,l,h,_,c,u){this.font=t,this.size=e,this.color=i,this.bold=s,this.italic=n,this.underline=r,this.url=a,this.target=o,this.align=l,this.leftMargin=h,this.rightMargin=_,this.indent=c,this.leading=u};r["openfl.text.TextFormat"]=rm,rm.__name__="openfl.text.TextFormat",rm.prototype={align:null,blockIndent:null,bold:null,bullet:null,color:null,font:null,indent:null,italic:null,kerning:null,leading:null,leftMargin:null,letterSpacing:null,rightMargin:null,size:null,tabStops:null,target:null,underline:null,url:null,__ascent:null,__descent:null,__cacheKey:null,clone:function(){var t=new rm(this.font,this.size,this.color,this.bold,this.italic,this.underline,this.url,this.target);return t.align=this.align,t.leftMargin=this.leftMargin,t.rightMargin=this.rightMargin,t.indent=this.indent,t.leading=this.leading,t.blockIndent=this.blockIndent,t.bullet=this.bullet,t.kerning=this.kerning,t.letterSpacing=this.letterSpacing,t.tabStops=this.tabStops,t.__ascent=this.__ascent,t.__descent=this.__descent,t.__cacheKey=this.__toCacheKey(),t},__merge:function(t){null!=t.font&&(this.font=t.font),null!=t.size&&(this.size=t.size),null!=t.color&&(this.color=t.color),null!=t.bold&&(this.bold=t.bold),null!=t.italic&&(this.italic=t.italic),null!=t.underline&&(this.underline=t.underline),null!=t.url&&(this.url=t.url),null!=t.target&&(this.target=t.target),null!=t.align&&(this.align=t.align),null!=t.leftMargin&&(this.leftMargin=t.leftMargin),null!=t.rightMargin&&(this.rightMargin=t.rightMargin),null!=t.indent&&(this.indent=t.indent),null!=t.leading&&(this.leading=t.leading),null!=t.blockIndent&&(this.blockIndent=t.blockIndent),null!=t.bullet&&(this.bullet=t.bullet),null!=t.kerning&&(this.kerning=t.kerning),null!=t.letterSpacing&&(this.letterSpacing=t.letterSpacing),null!=t.tabStops&&(this.tabStops=t.tabStops),null!=t.__ascent&&(this.__ascent=t.__ascent),null!=t.__descent&&(this.__descent=t.__descent),this.__toCacheKey()},__toCacheKey:function(){return this.__cacheKey=""+this.font+this.size+g.string(this.bold)+g.string(this.italic)},__class__:rm};var am={fromString:function(t){switch(t){case"center":return 0;case"end":return 1;case"justify":return 2;case"left":return 3;case"right":return 4;case"start":return 5;default:return null}},toString:function(t){switch(t){case 0:return"center";case 1:return"end";case 2:return"justify";case 3:return"left";case 4:return"right";case 5:return"start";default:return null}}},om=function(t,e,i,s,n,r){this.x=t,this.width=e,this.height=i,this.ascent=s,this.descent=n,this.leading=r};r["openfl.text.TextLineMetrics"]=om,om.__name__="openfl.text.TextLineMetrics",om.prototype={ascent:null,descent:null,height:null,leading:null,width:null,x:null,__class__:om};var lm=function(t){this.importRegex=new _("@import .*?;","ig"),this.commentRegex="(\\/\\*[\\s\\S]*?\\*\\/)",this.combinedCSSRegex="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)*?})",this.keyframeRegex="((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})",this.mediaQueryRegex="((@media [\\s\\S]*?){([\\s\\S]*?}\\s*?)})",this.cssRegex=new _("([\\s\\S]*?){([\\s\\S]*?)*}","ig"),this.keyframeStatements=[],this.importStatements=[]};r["openfl.text._internal.CSSParser"]=lm,lm.__name__="openfl.text._internal.CSSParser",lm.prototype={source:null,options:null,importStatements:null,keyframeStatements:null,cssRegex:null,mediaQueryRegex:null,keyframeRegex:null,combinedCSSRegex:null,commentRegex:null,importRegex:null,stripComments:function(t){return t.replace(new RegExp(this.commentRegex,"ig"),"")},parseRules:function(t){for(var e=new _("(\\*?[-#/\\*\\\\\\w]+(\\[[0-9a-z_-]+\\])?)+((?:'(?:\\\\'|.)*?'|\"(?:\\\\\"|.)*?\"|\\([^\\)]*?\\)|[^};])+)","g"),i=this.getMatches(e,t),s=[],n=0,r=i.length;n<r;){if(t=n++,!e.match(i[t]))return null;var a=t=e.matched(0).split("\r\n").join("\n");if(-1!=(a=v.trim(a)).indexOf(":")){if(t=v.trim(a.split(":")[0]),a=v.trim(a.split(":")[1]),!(1>t.length||1>a.length)){var o=new pr;o.h.type="declaration",o.h.property=t,o.h.value=a,s.push(o)}}else"base64,"==c.substr(v.trim(a),0,7)?(t=a+v.trim(a),s[s.length-1].h.value=t):0<a.length&&((t=new pr).h.type="declaration",t.h.property="",t.h.value=a,t.h.defective=!0,s.push(t))}return s},findCorrespondingRule:function(t,e,i){for(var s=null,n=0,r=t.length;n<r;){var a=n++;if(t[a].h.directive==e&&(s=t[a],i==t[a].h.value))break}return s},findBySelector:function(t,e,i){null==i&&(i=!1);for(var s=[],n=0,r=t.length;n<r;){var a=n++;0==i?t[a].h.selector==e&&s.push(t[a]):-1!=vo.__cast(t[a].h.selector,String).indexOf(e)&&s.push(t[a])}if("@imports"==e||2>s.length)return s;for(t=s[0],n=0,r=s.length;n<r;)a=n++,this.intelligentCSSPush([t],s[a]);return[t]},deleteBySelector:function(t,e){for(var i=[],s=0,n=t.length;s<n;){var r=s++;t[r].h.selector!=e&&i.push(t[r])}return i},compress:function(t){for(var e=[],i=Object.create(null),s=0,n=t.length;s<n;){var r=s++;1!=i[(r=t[r]).h.selector]&&0!=(r=this.findBySelector(t,r.h.selector)).length&&(e=e.concat(r),i.selector=!0)}return e},diff:function(t,e){if(t.h.selector==e.h.selector||"media"==t.h.type||"media"==e.h.type)return null;var i=new pr;i.h.selector=t.h.selector,i.h.rules=[];var s=i;new pr,new pr;var n=vo.__cast(t.h.rules,Array).length,r=vo.__cast(e.h.rules,Array).length;i=0;for(var a=n;i<a;){i++,n=vo.__cast(t.h.rules,Array)[1];var o=this.findCorrespondingRule(e.h.rules,t.h.directive,t.h.value);(null==o||n.h.value!=o.h.value)&&vo.__cast(s.h.rules,Array).push(n)}for(i=0,a=r;i<a;)i++,o=vo.__cast(t.h.rules,Array)[1],null==(n=this.findCorrespondingRule(t.h.rules,e.h.directive))&&(o.h.type="DELETED",vo.__cast(s.h.rules,Array).push(o));return 0==vo.__cast(s.h.rules,Array).length?null:s},intelligentMerge:function(t,e,i){null==i&&(i=!1);for(var s=0,n=e.length;s<n;){var r=s++;this.intelligentCSSPush(t,e[r],i)}for(s=0,n=t.length;s<n;)"media"!=(e=t[r=s++]).h.type&&"keyframes"!=e.h.type&&(i=this.compactRules(e.h.rules),e.h.rules=i)},intelligentCSSPush:function(t,e,i){null==i&&(i=!1);var s=null;if(0==i){i=0;for(var n=t.length;i<n;){var r=i++;if(t[r].h.selector==e.h.selector){s=t[r];break}}}else for(i=t.length-1;-1<i;){if(t[i].h.selector==e.h.selector){s=t[i];break}--i}if(null==s)t.push(e);else if("media"!=e.h.type)for(i=0,n=(t=e.h.rules).length;i<n;)e=t[r=i++],null==(r=this.findCorrespondingRule(s.h.rules,e.h.directive))?s.h.rules.push(e):"DELETED"==e.h.type?r.h.type="DELETED":r.h.value=e.h.value;else i=vo.__cast(s.h.subStyles,Array).concat(e.h.subStyles),s.h.value=i},compactRules:function(t){for(var e=[],i=0,s=t.length;i<s;){var n=i++;"DELETED"!=t[n].h.type&&e.push(t[n])}return e},getImports:function(t){for(var e=[],i=0,s=t.length;i<s;){var n=i++;"imports"==t[n].h.type&&e.push(t[n].h.styles)}return e},parse:function(t){if(null==t)return null;var e=/^\s+|\s+$/g;t=t.replace(e,"");for(var i=[],s=this.importRegex.match(t);s;){var n=this.importRegex.matched(0);if(null==n)break;this.importStatements.push(n);var r=new pr;r.h.selector="@imports",r.h.type="imports",r.h.styles=n,i.push(r)}for(t=t.replace(this.importRegex.r,""),n=new _(this.keyframeRegex,"gi");n.match(t)&&null!=(s=this.getMatches(n,t));){(r=new pr).h.selectors="@keyframes",r.h.type="keyframes";var a=n.matchedRight();r.h.styles=a,i.push(r)}for(t=t.replace(n.r,""),r=new _(this.combinedCSSRegex,"gi");r.match(t)&&null!=(s=this.getMatches(r,t));){for(t="",r=0,n=s.length;r<n;){var o=r++;if(!(a=new _("^([^{]+)","")).match(s[o]))break;null!=a.matched(0)&&(t=v.trim(a.matched(0).split("\r\n").join("\n"))),e=new _(this.commentRegex,"gi"),null!=(o=this.getMatches(e,t))&&(t=v.trim(t.replace(e.r,""))),e=/\n+/,-1!=(t=t.replace(e,"\n")).indexOf("@media")?((e=new pr).h.selectors=t,e.h.type="media",a=this.parse(a.matchedRight()+"\n}"),e.h.subStyles=a,a=e,null!=o&&(a.h.comments=o[0]),i.push(a)):null!=a.matchedRight()&&(a=this.parseRules(a.matchedRight()),(e=new pr).h.selectors=t,e.h.type="rule",e.h.declarations=a,a=e,"@font-face"==t&&(a.h.type="font-face"),null!=o&&(a.h.comments=o[0]),i.push(a))}break}return(r=new pr).h.type="stylesheet",r.h.rules=i,r.h.parsingErrors=[],r},getMatches:function(t,e,i){null==i&&(i=0);for(var s=[];t.match(e);)e=v.trim(t.matched(i)),s.push(e),e=v.trim(t.matchedRight());return 0==s.length?null:s},__class__:lm};var hm=function(t,e){this.__collisions=[],this.__wordMap=new fr,this.set(t,e)};r["openfl.text._internal.CacheMeasurement"]=hm,hm.__name__="openfl.text._internal.CacheMeasurement",hm.prototype={__collisions:null,__wordMap:null,hash:null,set:function(t,e){this.__addCollision(t,e)},get:function(t){return 1<this.__collisions.length?this.__wordMap.h[this.__collisions.indexOf(t)]:this.__wordMap.h[0]},__addCollision:function(t,e){if(!this.exists(t)){var i=this.__wordMap;t=this.__collisions.push(t)-1,i.h[t]=e}},exists:function(t){return 0!=this.__collisions.length&&-1<this.__collisions.indexOf(t)},__class__:hm};var _m=function(t,e,i){this.glyph=t,this.advance=e,this.offset=null!=i?i:new Zl};r["openfl.text._internal.GlyphPosition"]=_m,_m.__name__="openfl.text._internal.GlyphPosition",_m.prototype={advance:null,glyph:null,offset:null,__class__:_m};var cm=function(){};r["openfl.text._internal.HTMLParser"]=cm,cm.__name__="openfl.text._internal.HTMLParser",cm.parse=function(t,e,i,s,n){t=(t=e?t.replace(cm.__regexBreakTag.r,"\n"):t.replace(cm.__regexBreakTag.r,"")).replace(cm.__regexEntities[5].r," "),t=cm.__regexCharEntity.map(t,function(t){var e=t.matched(1),i=t.matched(2);return null!=e&&null!=(e=g.parseInt(e))?String.fromCodePoint(e):null!=i&&null!=(i=g.parseInt("0"+i))?String.fromCodePoint(i):t.matched(0)});var r=t.split("<");if(1==r.length){if(t=v.htmlUnescape(t.replace(cm.__regexHTMLTag.r,"")),1<n.get_length()){var a=n.get_length()-1,o=[];n.__tempIndex=1;for(var l=0;l<o.length;){var h=o[l++];n.insertAt(n.__tempIndex,h),n.__tempIndex++}n.splice(n.__tempIndex,a)}(e=n.get(0)).format=s,e.start=0,e.end=t.length}else{for(a=n.get_length(),o=[],l=n.__tempIndex=0;l<o.length;)h=o[l++],n.insertAt(n.__tempIndex,h),n.__tempIndex++;for(n.splice(n.__tempIndex,a),t="",a=[s.clone()],l=[],h=!1,o=0;o<r.length;){var _=r[o];if(++o,""!=_){var u="/"==c.substr(_,0,1),d=_.indexOf(">"),m=d+1,p=_.indexOf(" ");if(p=_.substring(u?1:0,-1<p&&p<d?p:d).toLowerCase(),u)0!=l.length&&p==l[l.length-1]&&(l.pop(),a.pop(),u=a[a.length-1].clone(),("p"==p||"li"==p)&&0<n.get_length()&&(e&&(t+="\n"),h=!0),m<_.length&&(h=v.htmlUnescape(c.substr(_,m,null)),n.push(new pm(u,t.length,t.length+h.length)),t+=h,h=!1));else if(u=a[a.length-1].clone(),-1<d){switch(null!=i&&(i.__applyStyle(p,u),cm.__regexClass.match(_)&&(i.__applyStyle("."+cm.__getAttributeMatch(cm.__regexClass),u),i.__applyStyle(p+"."+cm.__getAttributeMatch(cm.__regexClass),u))),p){case"a":null!=i&&i.__applyStyle("a:link",u),cm.__regexHref.match(_)&&(u.url=cm.__getAttributeMatch(cm.__regexHref));break;case"b":u.bold=!0;break;case"em":case"i":u.italic=!0;break;case"font":if(cm.__regexFace.match(_)&&(u.font=cm.__getAttributeMatch(cm.__regexFace)),cm.__regexColor.match(_)&&(u.color=g.parseInt("0x"+cm.__getAttributeMatch(cm.__regexColor))),cm.__regexSize.match(_)){d=cm.__getAttributeMatch(cm.__regexSize);var f=c.cca(d,0);u.size=43==f||45==f?(2<=a.length?a[a.length-2]:s).size+g.parseInt(d):g.parseInt(d)}break;case"li":0<n.get_length()&&!h&&(t+="\n"),(d=u.clone()).underline=!1,n.push(new pm(d,t.length,t.length+2)),t+="• ";break;case"p":0<n.get_length()&&!h&&(t+="\n"),cm.__regexAlign.match(_)&&(d=cm.__getAttributeMatch(cm.__regexAlign).toLowerCase(),u.align=am.fromString(d));break;case"textformat":if(cm.__regexBlockIndent.match(_)&&(u.blockIndent=g.parseInt(cm.__getAttributeMatch(cm.__regexBlockIndent))),cm.__regexIndent.match(_)&&(u.indent=g.parseInt(cm.__getAttributeMatch(cm.__regexIndent))),cm.__regexLeading.match(_)&&(u.leading=g.parseInt(cm.__getAttributeMatch(cm.__regexLeading))),cm.__regexLeftMargin.match(_)&&(u.leftMargin=g.parseInt(cm.__getAttributeMatch(cm.__regexLeftMargin))),cm.__regexRightMargin.match(_)&&(u.rightMargin=g.parseInt(cm.__getAttributeMatch(cm.__regexRightMargin))),cm.__regexTabStops.match(_)){d=cm.__getAttributeMatch(cm.__regexTabStops).split(" "),f=[];for(var y=0;y<d.length;){var b=d[y];++y,f.push(g.parseInt(b))}u.tabStops=f}break;case"u":u.underline=!0}a.push(u),l.push(p),m<_.length&&(h=v.htmlUnescape(_.substring(m)),n.push(new pm(u,t.length,t.length+h.length)),t+=h,h=!1)}else h=v.htmlUnescape(_),n.push(new pm(u,t.length,t.length+h.length)),t+=h,h=!1}}0==n.get_length()&&n.push(new pm(a[0],0,0))}return t},cm.__getAttributeMatch=function(t){return null!=t.matched(2)?t.matched(2):t.matched(3)};var um=function(){this.__shortWordMap=new pr,this.__longWordMap=new pr};r["openfl.text._internal.ShapeCache"]=um,um.__name__="openfl.text._internal.ShapeCache",um.hashFunction=function(t){for(var e,i=0,s=0,n=t.length;s<n;)e=s++,i=(i<<5)-i+(e=c.cca(t,e)),i|=0;return i},um.prototype={__shortWordMap:null,__longWordMap:null,cache:function(t,e,i){return t=t.format.__cacheKey,15<i.length?this.__cacheLongWord(i,t,e):this.__cacheShortWord(i,t,e)},__cacheShortWord:function(t,e,i){if(Object.prototype.hasOwnProperty.call(this.__shortWordMap.h,e)){var s=this.__shortWordMap.h[e];if(Object.prototype.hasOwnProperty.call(s.h,t))return s.h[t];var n=i();s.h[t]=n}else s=new pr,n=i(),s.h[t]=n,this.__shortWordMap.h[e]=s;return i()},__cacheLongWord:function(t,e,i){var s=um.hashFunction(t);if(Object.prototype.hasOwnProperty.call(this.__longWordMap.h,e)){var n=this.__longWordMap.h[e];if(n.h.hasOwnProperty(s)){var r=n.h[s];if(r.exists(t))return r.get(t);r.set(t,i())}else r=new hm(t,i()),n.h[s]=r}else n=new fr,(r=new hm(t,i())).hash=s,n.h[s]=r,this.__longWordMap.h[e]=n;return i()},__class__:um};var dm=function(t){this.__shapeCache=new um,this.textField=t,this.height=this.width=100,this.set_text(""),this.bounds=new je(0,0,0,0),this.textBounds=new je(0,0,0,0),this.type=0,this.autoSize=2,this.embedFonts=!1,this.selectable=!0,this.borderColor=0,this.border=!1,this.backgroundColor=16777215,this.background=!1,this.gridFitType=1,this.maxChars=0,this.multiline=!1,this.numLines=1,this.scrollH=this.sharpness=0,this.set_scrollV(1),this.wordWrap=!1,this.lineAscents=M.toFloatVector(null),this.lineBreaks=M.toIntVector(null),this.lineDescents=M.toFloatVector(null),this.lineLeadings=M.toFloatVector(null),this.lineHeights=M.toFloatVector(null),this.lineWidths=M.toFloatVector(null),this.layoutGroups=M.toObjectVector(null),this.textFormatRanges=M.toObjectVector(null),null==dm.__context&&(dm.__context=window.document.createElement("canvas").getContext("2d"))};r["openfl.text._internal.TextEngine"]=dm,dm.__name__="openfl.text._internal.TextEngine",dm.findFont=function(t){return im.__fontByName.h[t]},dm.findFontVariant=function(t){var e=t.font,i=t.bold;t=t.italic,null==e&&(e="_serif");var s=v.replace(v.replace(e," Normal","")," Regular","");return i&&t&&Object.prototype.hasOwnProperty.call(im.__fontByName.h,s+" Bold Italic")?dm.findFont(s+" Bold Italic"):i&&Object.prototype.hasOwnProperty.call(im.__fontByName.h,s+" Bold")?dm.findFont(s+" Bold"):t&&Object.prototype.hasOwnProperty.call(im.__fontByName.h,s+" Italic")?dm.findFont(s+" Italic"):dm.findFont(e)},dm.getDefaultFont=function(t,e,i){return null==dm.__defaultFonts&&(dm.__defaultFonts=new pr),null==(t=dm.__defaultFonts.h[t])?null:e&&i&&null!=t.boldItalic?t.boldItalic:i&&null!=t.italic?t.italic:e&&null!=t.bold?t.bold:t.normal},dm.getFormatHeight=function(t){var e=dm.getFont(t);if(dm.__context.font=e,e=dm.getFontInstance(t),null!=t.__ascent){var i=t.size*t.__ascent;e=t.size*t.__descent}else null!=e&&0!=e.unitsPerEM?(i=e.ascender/e.unitsPerEM*t.size,e=Math.abs(e.descender/e.unitsPerEM*t.size)):(i=t.size,e=.185*t.size);return i+e+t.leading},dm.getFont=function(t){var e=t.font,i=t.bold,s=t.italic;null==e&&(e="_serif");var n=v.replace(v.replace(e," Normal","")," Regular","");switch(i&&s&&Object.prototype.hasOwnProperty.call(im.__fontByName.h,n+" Bold Italic")?(e=n+" Bold Italic",s=i=!1):i&&Object.prototype.hasOwnProperty.call(im.__fontByName.h,n+" Bold")?(e=n+" Bold",i=!1):s&&Object.prototype.hasOwnProperty.call(im.__fontByName.h,n+" Italic")?(e=n+" Italic",s=!1):(i&&(-1<e.indexOf(" Bold ")||v.endsWith(e," Bold"))&&(i=!1),s&&(-1<e.indexOf(" Italic ")||v.endsWith(e," Italic"))&&(s=!1)),i=(s?"italic ":"normal ")+"normal "+(i?"bold ":"normal "),i+=t.size+"px",i+="/"+(t.size+3)+"px ",e){case"_sans":t="sans-serif";break;case"_serif":t="serif";break;case"_typewriter":t="monospace";break;default:t="'"+e.replace(/^[\s'"]+(.*)[\s'"]+$/,"$1")+"'"}return i+""+t},dm.getFontInstance=function(t){return dm.findFontVariant(t)},dm.prototype={antiAliasType:null,autoSize:null,background:null,backgroundColor:null,border:null,borderColor:null,bottomScrollV:null,bounds:null,caretIndex:null,embedFonts:null,gridFitType:null,height:null,layoutGroups:null,lineAscents:null,lineBreaks:null,lineDescents:null,lineLeadings:null,lineHeights:null,lineWidths:null,maxChars:null,maxScrollH:null,maxScrollV:null,multiline:null,numLines:null,restrict:null,scrollH:null,scrollV:null,selectable:null,sharpness:null,text:null,textBounds:null,textHeight:null,textFormatRanges:null,textWidth:null,type:null,width:null,wordWrap:null,textField:null,__cursorTimer:null,__hasFocus:null,__isKeyDown:null,__measuredHeight:null,__measuredWidth:null,__restrictRegexp:null,__selectionStart:null,__shapeCache:null,__showCursor:null,__textFormat:null,__textLayout:null,__texture:null,__useIntAdvances:null,__cairoFont:null,__font:null,createRestrictRegexp:function(t){var e="",i=!1,s=[];return 0<(t=new _("\\^([^\\^]+)","gu").map(t,function(t){return i?(i=!i,t.matched(1)):(e+=t.matched(1),i=!i,"")})).length&&s.push("[^"+t+"]"),0<e.length&&s.push("["+e+"]"),new _("("+s.join("|")+")","g")},getBounds:function(){var t=this.border?1:0;this.bounds.width=this.width+t,this.bounds.height=this.height+t,t=this.width;for(var e=this.height,i=this.layoutGroups.get_length()-1,s=0,n=this.layoutGroups.get_length();s<n;){var r=s++,a=this.layoutGroups.get(r);r==i&&a.startIndex==a.endIndex&&1!=this.type||(a.offsetX<t&&(t=a.offsetX),a.offsetY<e&&(e=a.offsetY))}t>=this.width&&(t=2),e>=this.height&&(e=2),this.textBounds.setTo(Math.max(t-2,0),Math.max(e-2,0),Math.min(this.textWidth+4,this.bounds.width+4),Math.min(1.185*this.textHeight+4,this.bounds.height+4))},getLine:function(t){return 0>t||t>this.lineBreaks.get_length()+1?null:0==this.lineBreaks.get_length()?this.text:this.text.substring(0<t?this.lineBreaks.get(t-1):0,this.lineBreaks.get(t))},getLineBreaks:function(){this.lineBreaks.set_length(0);for(var t,e=-1;e<this.text.length&&(t=this.text.indexOf("\n",e+1),-1<(e=-1==(e=this.text.indexOf("\r",e+1))?t:-1==t||e<t?e:t));)this.lineBreaks.push(e)},getLineBreakIndex:function(t){null==t&&(t=0);for(var e=this.lineBreaks.iterator();e.hasNext();){var i=e.next();if(i>=t)return i}return-1},getLineMeasurements:function(){this.lineAscents.set_length(0),this.lineDescents.set_length(0),this.lineLeadings.set_length(0),this.lineHeights.set_length(0),this.lineWidths.set_length(0);var t=0,e=0,i=null,s=0,n=0;this.textHeight=this.textWidth=0,this.numLines=1,this.maxScrollH=0;for(var r=this.layoutGroups.get_length()-1,a=0,o=this.layoutGroups.get_length();a<o;){var l=a++,h=this.layoutGroups.get(l);if(l!=r||h.startIndex!=h.endIndex||1==this.type){for(;h.lineIndex>this.numLines-1;)this.lineAscents.push(t),this.lineDescents.push(e),this.lineLeadings.push(null!=i?i:0),this.lineHeights.push(s),this.lineWidths.push(n),e=t=0,i=null,n=s=0,this.numLines++;t=Math.max(t,h.ascent),e=Math.max(e,h.descent),i=null==i?h.leading:0|Math.max(i,h.leading),s=Math.max(s,h.height),(n=h.offsetX-2+h.width)>this.textWidth&&(this.textWidth=n),(l=Math.ceil(h.offsetY-2+h.ascent+h.descent))>this.textHeight&&(this.textHeight=l)}}if(0==this.textHeight&&null!=this.textField&&1==this.type&&(t=this.textField.__textFormat,e=dm.getFontInstance(t),null!=t.__ascent?(r=t.size*t.__ascent,a=t.size*t.__descent):null!=e&&0!=e.unitsPerEM?(r=e.ascender/e.unitsPerEM*t.size,a=Math.abs(e.descender/e.unitsPerEM*t.size)):(r=t.size,a=.185*t.size),i=t.leading,t=r,e=a,this.textHeight=l=Math.ceil(r+a)),this.lineAscents.push(t),this.lineDescents.push(e),this.lineLeadings.push(null!=i?i:0),this.lineHeights.push(s),this.lineWidths.push(n),1==this.numLines&&0<i&&(this.textHeight+=i),2!=this.autoSize)switch(this.autoSize){case 0:case 1:case 3:this.wordWrap||(this.width=this.textWidth+4),this.height=this.textHeight+4,this.bottomScrollV=this.numLines}this.maxScrollH=this.textWidth>this.width-4?this.textWidth-this.width+4|0:0,this.scrollH>this.maxScrollH&&(this.scrollH=this.maxScrollH)},getLayoutGroups:function(){var t=this;if(this.layoutGroups.set_length(0),null!=this.text&&""!=this.text){var i=-1,s=null,n=null,r=nm.__defaultTextFormat.clone(),a=0,o=0,l=0,h=0,u=3,d=0,m=0,p=0,f=0,g=!0,y=null,b=null,v=0,x=0,w=0,R=-2,S=-1,A=this.text.indexOf(" "),T=0,M=T<this.lineBreaks.get_length()?this.lineBreaks.get(T):-1,P=0,C=0,I=0,k=0,E=function(i,n,a){var o=function(){var s=[];if(null==t.__useIntAdvances){var r=new _("Trident/7.0","");t.__useIntAdvances=r.match(e.navigator.userAgent)}if(t.__useIntAdvances){var o=0;r=n;for(var l=a;r<l;){var h=r++;h=t.measureText(i.substring(n,h+1)),s.push(h-o),o=h}}else for(r=n,l=a;r<l;)(h=r++)<i.length-1?(o=t.measureText(i.charAt(h+1)),o=t.measureText(c.substr(i,h,2))-o):o=dm.__context.measureText(i.charAt(h)).width,s.push(o);return s};return 2==r.align?o():t.__shapeCache.cache(s,o,i.substring(n,a))},F=function(t){for(var e=0,i=0;i<t.length;){var s=t[i];++i,e+=s}return e},B=function(){return 2+p+d+(g?m:0)},D=function(){return t.width-2-f-B()},L=function(e,i){null==y||y.startIndex!=y.endIndex?(y=new gm(s.format,e,i),t.layoutGroups.push(y)):(y.format=s.format,y.startIndex=e,y.endIndex=i)},N=function(){null!=r.__ascent?(o=r.size*r.__ascent,h=r.size*r.__descent):null!=n&&0!=n.unitsPerEM?(o=n.ascender/n.unitsPerEM*r.size,h=Math.abs(n.descender/n.unitsPerEM*r.size)):(o=r.size,h=.185*r.size),a=r.leading,(x=Math.ceil(o+h+a))>w&&(w=x),o>l&&(l=o)},G=function(){g=!0,u=null!=r.align?r.align:3,d=null!=r.blockIndent?r.blockIndent:0,m=null!=r.indent?r.indent:0,p=null!=r.leftMargin?r.leftMargin:0,f=null!=r.rightMargin?r.rightMargin:0},O=function(){if(i<t.textFormatRanges.get_length()-1){i+=1,s=t.textFormatRanges.get(i),r.__merge(s.format);var e=dm.getFont(r);return dm.__context.font=e,n=dm.getFontInstance(r),!0}return!1},K=function(e,n){if(e>=n)b=[],v=0;else if(n<=s.end)b=E(t.text,e,n),v=F(b);else{var r=e;e=s.end;var a=0;for(b=[],v=0;;){if(r!=e&&(r=E(t.text,r,e),b=b.concat(r)),e==n){v=F(b);break}if(!O()){d_.warn("You found a bug in OpenFL's text code! Please save a copy of your project and contact Joshua Granick (@singmajesty) so we can fix this.",{fileName:"openfl/text/_internal/TextEngine.hx",lineNumber:1096,className:"openfl.text._internal.TextEngine",methodName:"getLayoutGroups"});break}r=e,e=n<s.end?n:s.end,++a}i-=a+1,O()}},V=function(e){if(e<=s.end){b=E(t.text,I,e),v=F(b),L(I,e),y.positions=b;var i=P,n=B();y.offsetX=i+n,y.ascent=o,y.descent=h,y.leading=a,y.lineIndex=k,y.offsetY=C+2,y.width=v,y.height=x,P+=v,e==s.end&&(y=null,O(),N())}else for(;;){var r=e<s.end?e:s.end;if(I!=r&&(b=E(t.text,I,r),v=F(b),L(I,r),y.positions=b,i=P,n=B(),y.offsetX=i+n,y.ascent=o,y.descent=h,y.leading=a,y.lineIndex=k,y.offsetY=C+2,y.width=v,y.height=x,P+=v,I=r),r==s.end&&(y=null),r==e)break;if(!O()){d_.warn("You found a bug in OpenFL's text code! Please save a copy of your project and contact Joshua Granick (@singmajesty) so we can fix this.",{fileName:"openfl/text/_internal/TextEngine.hx",lineNumber:1184,className:"openfl.text._internal.TextEngine",methodName:"getLayoutGroups"});break}N()}I=e},U=function(){N();for(var e=t.layoutGroups.get_length();-1<--e;){var i=t.layoutGroups.get(e);if(i.lineIndex<k)break;i.lineIndex>k||(i.ascent=l,i.height=w)}C+=w,w=l=0,k+=1,P=0,g=!1},z=function(e){if(4<=t.width&&t.wordWrap){for(var i=b,s=F(i),n=i.length-1;0<=n;){var r=c.cca(t.text,I+n);if(32!=r&&9!=r)break;s-=i[n],--n}for(;0<i.length&&P+s>D();){for(r=n=s=0;P+r<D();){var a=i[n];0==a?(++n,++s):(r+=a,++n)}if(n==s)n=s+1;else for(;1<n&&P+r>D();)0<--n-s?(K(I,I+n-s),r=v):(n=1,s=0,K(I,I+1),r=0);V(i=I+n-s),U(),K(i,e),i=b,s=v}}V(e)};O(),G(),N();for(var W,X=this.text.length+1;I<X;)if(-1<M&&(-1==A||M<A))I<=M?(K(I,M),z(M),y=null):null!=y&&y.startIndex!=y.endIndex&&(y.endIndex==A&&(y.width-=y.positions[y.positions.length-1]),y=null),U(),s.end==M&&(O(),N()),I=M+1,S=M,M=++T<this.lineBreaks.get_length()?this.lineBreaks.get(T):-1,G();else if(-1<A)for(null!=y&&y.startIndex!=y.endIndex&&(y=null),W=!1;I<this.text.length;){var H=-1;if(-1==A?H=M:(H=A+1,-1<M&&M<H&&(H=M)),-1==H&&(H=this.text.length),K(I,H),2==u){if(0<b.length&&I==R){I+=1;var Y=b.shift();v-=Y,P+=Y}0<b.length&&H==A+1&&(--H,Y=b.pop(),v-=Y)}if(this.wordWrap&&P+v>D()&&(W=!0,0<b.length&&H==A+1&&P+v-b[b.length-1]<=D()&&(W=!1)),W){for(2!=u&&(null!=y||0<this.layoutGroups.get_length())&&(null==(W=y)&&(W=this.layoutGroups.get(this.layoutGroups.get_length()-1)),W.width-=W.positions[W.positions.length-1],W.endIndex--),W=this.layoutGroups.get_length()-1,Y=0;0<=W&&(y=this.layoutGroups.get(W),0<W&&y.startIndex>R);)++Y,--W;if(I==R+1&&U(),P=0,0<Y){W=this.layoutGroups.get(this.layoutGroups.get_length()-Y).offsetX,Y=this.layoutGroups.get_length()-Y;for(var j=this.layoutGroups.get_length();Y<j;){var J=Y++;(y=this.layoutGroups.get(J)).offsetX-=W,y.offsetY=C+2,y.lineIndex=k,P+=y.width}}z(H),W=!1}else null!=y&&I==A&&R!=A-1?(2!=u&&(y.endIndex=A,y.positions=y.positions.concat(b),y.width+=v),P+=v,I=H):null==y||2==u?(z(H),H==this.text.length&&U()):((Y=H<s.end?H:s.end)<H&&(b=E(this.text,I,Y),v=F(b)),y.endIndex=Y,y.positions=y.positions.concat(b),y.width+=v,P+=v,Y==s.end&&(y=null,O(),N(),I=Y,Y!=H&&V(H)),M==H&&++H,I=H,H==this.text.length&&(U(),-1!=M&&(S=M,M=++T<this.lineBreaks.get_length()?this.lineBreaks.get(T):-1)));if(H=this.text.indexOf(" ",I),M==R&&(y.endIndex=M,0>M-y.startIndex-y.positions.length&&y.positions.push(0),I=M+1),R=A,A=H,-1<M&&M<=I&&(A>M||-1==A)||I>this.text.length)break}else I<this.text.length&&(K(I,this.text.length),z(this.text.length),U()),I+=1;S==I-2&&-1<S&&(L(I-1,I-1),y.positions=[],y.ascent=o,y.descent=h,y.leading=a,y.lineIndex=k,y.offsetX=B(),y.offsetY=C+2,y.width=0,y.height=x)}},measureText:function(t){return dm.__context.measureText(t).width},restrictText:function(t){return null==t||null!=this.__restrictRegexp&&(t=this.__restrictRegexp.split(t).join("")),t},setTextAlignment:function(){for(var t,e,i=-1,s=0,n=!1,r=0,a=this.layoutGroups.get_length();r<a;){var o=r++;if((t=this.layoutGroups.get(o)).lineIndex!=i)switch(i=t.lineIndex,s=this.width-4-t.format.rightMargin,t.format.align){case 0:s=this.lineWidths.get(i)<s?Math.round((s-this.lineWidths.get(i))/2):0;break;case 2:if(this.lineWidths.get(i)<s){e=1;for(var l=o+1,h=this.layoutGroups.get_length();l<h;){var _=l++;if(this.layoutGroups.get(_).lineIndex!=i)break;0!=_&&32!=c.cca(this.text,this.layoutGroups.get(_).startIndex-1)||++e}if(1<e&&(t=this.layoutGroups.get(o+e-1),l=c.cca(this.text,t.endIndex),t.endIndex<this.text.length&&10!=l&&13!=l))for(s=(s-this.lineWidths.get(i))/(e-1),n=!0,l=1;this.layoutGroups.get(o+l).offsetX+=s*l,++l<e;);}s=0;break;case 4:s=this.lineWidths.get(i)<s?Math.round(s-this.lineWidths.get(i)):0;break;default:s=0}0<s&&(t.offsetX+=s)}n&&this.getLineMeasurements()},trimText:function(t){return null==t||0<this.maxChars&&t.length>this.maxChars&&(t=c.substr(t,0,this.maxChars)),t},update:function(){null==this.text||0==this.textFormatRanges.get_length()?(this.lineAscents.set_length(0),this.lineBreaks.set_length(0),this.lineDescents.set_length(0),this.lineLeadings.set_length(0),this.lineHeights.set_length(0),this.lineWidths.set_length(0),this.layoutGroups.set_length(0),this.textHeight=this.textWidth=0,this.numLines=1,this.maxScrollH=0,this.bottomScrollV=this.maxScrollV=1):(this.getLineBreaks(),this.getLayoutGroups(),this.getLineMeasurements(),this.setTextAlignment()),this.getBounds()},get_bottomScrollV:function(){if(1==this.numLines||null==this.lineHeights)return 1;for(var t=this.lineHeights.get_length(),e=this.lineLeadings.get_length()==t?-this.lineLeadings.get(t-1):0,i=(0<this.get_scrollV()?this.get_scrollV():1)-1,s=this.lineHeights.get_length();i<s;){var n=i++;if((e+=this.lineHeights.get(n))>this.height-4){t=n+(0<=e-this.height?0:1);break}}return t<this.get_scrollV()?this.get_scrollV():t},get_maxScrollV:function(){if(1==this.numLines||null==this.lineHeights)return 1;for(var t=this.numLines-1,e=0;0<=t;){if((e+=this.lineHeights.get(t))>this.height-4){t+=0>e-this.height?1:2;break}--t}return 1>t?1:t},set_restrict:function(t){return this.restrict==t||(this.restrict=t,this.__restrictRegexp=null==this.restrict||0==this.restrict.length?null:this.createRestrictRegexp(t)),this.restrict},get_scrollV:function(){if(1==this.numLines||null==this.lineHeights)return 1;var t=this.get_maxScrollV();return this.scrollV>t?t:this.scrollV},set_scrollV:function(t){return 1>t?t=1:t>this.get_maxScrollV()&&(t=this.get_maxScrollV()),this.scrollV=t},set_text:function(t){return this.text=t},__class__:dm,__properties__:{set_text:"set_text",set_scrollV:"set_scrollV",get_scrollV:"get_scrollV",set_restrict:"set_restrict",get_maxScrollV:"get_maxScrollV",get_bottomScrollV:"get_bottomScrollV"}};var mm=function(t,e,i,s){this.normal=t,this.bold=e,this.italic=i,this.boldItalic=s};r["openfl.text._internal._TextEngine.DefaultFontSet"]=mm,mm.__name__="openfl.text._internal._TextEngine.DefaultFontSet",mm.prototype={bold:null,boldItalic:null,italic:null,normal:null,getFont:function(t,e){return t&&e&&null!=this.boldItalic?this.boldItalic:e&&null!=this.italic?this.italic:t&&null!=this.bold?this.bold:this.normal},__class__:mm};var pm=function(t,e,i){this.format=t,this.start=e,this.end=i};r["openfl.text._internal.TextFormatRange"]=pm,pm.__name__="openfl.text._internal.TextFormatRange",pm.prototype={end:null,format:null,start:null,__class__:pm};var fm=function(t,e,i,s,n,r){null==r&&(r="en"),null==n&&(n="Zyyy"),null==s&&(s=4),null==i&&(i=12),null==t&&(t=""),this.letterSpacing=0,this.set_text(t),this.set_font(e),this.set_size(i),this.__direction=s,this.__script=n,this.__language=r,this.positions=[],this.__dirty=!0,this.__create(this.__direction,this.__script,this.__language)};r["openfl.text._internal.TextLayout"]=fm,fm.__name__="openfl.text._internal.TextLayout",fm.prototype={autoHint:null,font:null,glyphs:null,letterSpacing:null,positions:null,size:null,text:null,__buffer:null,__direction:null,__dirty:null,__handle:null,__language:null,__script:null,__font:null,__hbBuffer:null,__hbFont:null,__create:function(t,e,i){4==i.length&&(this.__hbBuffer=Uh._new(),Xh._new(i))},__position:function(){this.positions=[]},get_positions:function(){return this.__dirty&&(this.__dirty=!1,this.__position()),this.positions},get_direction:function(){return this.__direction},set_direction:function(t){return t==this.__direction||(this.__direction=t,this.__dirty=!0),t},set_font:function(t){return t==this.font||(this.font=t,this.__dirty=!0),t},get_glyphs:function(){for(var t=[],e=0,i=this.get_positions();e<i.length;){var s=i[e];++e,t.push(s.glyph)}return t},get_language:function(){return this.__language},set_language:function(t){return t==this.__language||(this.__language=t,this.__dirty=!0),t},get_script:function(){return this.__script},set_script:function(t){return t==this.__script||(this.__script=t,this.__dirty=!0),t},set_size:function(t){return t==this.size||(this.size=t,this.__dirty=!0),t},set_text:function(t){return t==this.text||(this.text=t,this.__dirty=!0),t},__class__:fm,__properties__:{set_text:"set_text",set_size:"set_size",set_script:"set_script",get_script:"get_script",get_positions:"get_positions",set_language:"set_language",get_language:"get_language",get_glyphs:"get_glyphs",set_font:"set_font",set_direction:"set_direction",get_direction:"get_direction"}};var gm=function(t,e,i){this.format=t,this.startIndex=e,this.endIndex=i};r["openfl.text._internal.TextLayoutGroup"]=gm,gm.__name__="openfl.text._internal.TextLayoutGroup",gm.prototype={ascent:null,descent:null,endIndex:null,format:null,height:null,leading:null,lineIndex:null,offsetX:null,offsetY:null,positions:null,startIndex:null,width:null,getAdvance:function(t){return this.positions[t]},__class__:gm};var ym=function(){A.call(this),ym.__instances.push(this)};r["openfl.ui.GameInput"]=ym,ym.__name__="openfl.ui.GameInput",ym.getDeviceAt=function(t){return 0<=t&&t<ym.__deviceList.length?ym.__deviceList[t]:null},ym.__getDevice=function(t){if(null==t)return null;if(null==ym.__devices.h.__keys__[t.__id__]){var e=Kh.__getDeviceData(),i=e[t.id].id;e=Kh.__getDeviceData(),e=new vm(i,e[t.id].id),ym.__deviceList.push(e),ym.__devices.set(t,e),ym.numDevices=ym.__deviceList.length}return ym.__devices.h[t.__id__]},ym.__onGamepadAxisMove=function(t,e,i){if(null!=(t=ym.__getDevice(t))&&t.enabled){if(!t.__axis.h.hasOwnProperty(e)){if(null==e)var s="null";else switch(e){case 0:s="LEFT_X";break;case 1:s="LEFT_Y";break;case 2:s="RIGHT_X";break;case 3:s="RIGHT_Y";break;case 4:s="TRIGGER_LEFT";break;case 5:s="TRIGGER_RIGHT";break;default:s="UNKNOWN ("+e+")"}s=new bm(t,"AXIS_"+s,-1,1),t.__axis.h[e]=s,t.__controls.push(s)}(s=t.__axis.h[e]).value=i,s.dispatchEvent(new _i("change"))}},ym.__onGamepadButtonDown=function(t,e){if(null!=(t=ym.__getDevice(t))&&t.enabled){if(!t.__button.h.hasOwnProperty(e)){if(null==e)var i="null";else switch(e){case 0:i="A";break;case 1:i="B";break;case 2:i="X";break;case 3:i="Y";break;case 4:i="BACK";break;case 5:i="GUIDE";break;case 6:i="START";break;case 7:i="LEFT_STICK";break;case 8:i="RIGHT_STICK";break;case 9:i="LEFT_SHOULDER";break;case 10:i="RIGHT_SHOULDER";break;case 11:i="DPAD_UP";break;case 12:i="DPAD_DOWN";break;case 13:i="DPAD_LEFT";break;case 14:i="DPAD_RIGHT";break;default:i="UNKNOWN ("+e+")"}i=new bm(t,"BUTTON_"+i,0,1),t.__button.h[e]=i,t.__controls.push(i)}(i=t.__button.h[e]).value=1,i.dispatchEvent(new _i("change"))}},ym.__onGamepadButtonUp=function(t,e){if(null!=(t=ym.__getDevice(t))&&t.enabled){if(!t.__button.h.hasOwnProperty(e)){if(null==e)var i="null";else switch(e){case 0:i="A";break;case 1:i="B";break;case 2:i="X";break;case 3:i="Y";break;case 4:i="BACK";break;case 5:i="GUIDE";break;case 6:i="START";break;case 7:i="LEFT_STICK";break;case 8:i="RIGHT_STICK";break;case 9:i="LEFT_SHOULDER";break;case 10:i="RIGHT_SHOULDER";break;case 11:i="DPAD_UP";break;case 12:i="DPAD_DOWN";break;case 13:i="DPAD_LEFT";break;case 14:i="DPAD_RIGHT";break;default:i="UNKNOWN ("+e+")"}i=new bm(t,"BUTTON_"+i,0,1),t.__button.h[e]=i,t.__controls.push(i)}(i=t.__button.h[e]).value=0,i.dispatchEvent(new _i("change"))}},ym.__onGamepadConnect=function(t){if(null!=(t=ym.__getDevice(t)))for(var e=0,i=ym.__instances;e<i.length;){var s=i[e];++e,s.dispatchEvent(new fd("deviceAdded",!0,!1,t))}},ym.__onGamepadDisconnect=function(t){var e=ym.__devices.h[t.__id__];if(null!=e){null!=ym.__devices.h.__keys__[t.__id__]&&(c.remove(ym.__deviceList,ym.__devices.h[t.__id__]),ym.__devices.remove(t)),ym.numDevices=ym.__deviceList.length,t=0;for(var i=ym.__instances;t<i.length;){var s=i[t];++t,s.dispatchEvent(new fd("deviceRemoved",!0,!1,e))}}},ym.__super__=A,ym.prototype=i(A.prototype,{addEventListener:function(t,e,i,s,n){if(null==n&&(n=!1),null==s&&(s=0),null==i&&(i=!1),A.prototype.addEventListener.call(this,t,e,i,s,n),"deviceAdded"==t)for(t=0,e=ym.__deviceList;t<e.length;)i=e[t],++t,this.dispatchEvent(new fd("deviceAdded",!0,!1,i))},__class__:ym});var bm=function(t,e,i,s,n){null==n&&(n=0),A.call(this),this.device=t,this.id=e,this.minValue=i,this.maxValue=s,this.value=n};r["openfl.ui.GameInputControl"]=bm,bm.__name__="openfl.ui.GameInputControl",bm.__super__=A,bm.prototype=i(A.prototype,{device:null,id:null,maxValue:null,minValue:null,value:null,__class__:bm});var vm=function(t,e){for(this.__controls=[],this.__button=new fr,this.__axis=new fr,this.id=t,this.name=e,t=new bm(this,"AXIS_0",-1,1),this.__axis.h[0]=t,this.__controls.push(t),t=new bm(this,"AXIS_1",-1,1),this.__axis.h[1]=t,this.__controls.push(t),t=new bm(this,"AXIS_2",-1,1),this.__axis.h[2]=t,this.__controls.push(t),t=new bm(this,"AXIS_3",-1,1),this.__axis.h[3]=t,this.__controls.push(t),t=new bm(this,"AXIS_4",-1,1),this.__axis.h[4]=t,this.__controls.push(t),t=new bm(this,"AXIS_5",-1,1),this.__axis.h[5]=t,this.__controls.push(t),e=0;15>e;){var i=e++;t=new bm(this,"BUTTON_"+i,0,1),this.__button.h[i]=t,this.__controls.push(t)}};r["openfl.ui.GameInputDevice"]=vm,vm.__name__="openfl.ui.GameInputDevice",vm.prototype={enabled:null,id:null,name:null,sampleInterval:null,__axis:null,__button:null,__controls:null,__gamepad:null,getCachedSamples:function(t,e){return 0},getControlAt:function(t){return 0<=t&&t<this.__controls.length?this.__controls[t]:null},startCachingSamples:function(t,e){},stopCachingSamples:function(){},get_numControls:function(){return this.__controls.length},__class__:vm,__properties__:{get_numControls:"get_numControls"}};var xm=function(){};r["openfl.ui.Keyboard"]=xm,xm.__name__="openfl.ui.Keyboard",xm.isAccessible=function(){return!1},xm.__convertKeyCode=function(t){switch(t){case 8:return 8;case 9:return 9;case 13:case 1073741912:case 1073741982:return 13;case 27:return 27;case 32:return 32;case 33:case 49:return 49;case 34:case 39:return 222;case 35:case 51:return 51;case 36:case 52:return 52;case 37:case 53:return 53;case 38:case 55:return 55;case 40:case 57:return 57;case 41:case 48:return 48;case 42:case 56:return 56;case 44:return 188;case 45:case 95:return 189;case 46:case 62:return 190;case 47:case 63:return 191;case 50:case 64:return 50;case 54:case 94:return 54;case 58:case 59:return 186;case 60:return 60;case 61:return 187;case 91:return 219;case 92:return 220;case 93:return 221;case 96:return 192;case 97:return 65;case 98:return 66;case 99:return 67;case 100:return 68;case 101:return 69;case 102:return 70;case 103:return 71;case 104:return 72;case 105:return 73;case 106:return 74;case 107:return 75;case 108:return 76;case 109:return 77;case 110:return 78;case 111:return 79;case 112:return 80;case 113:return 81;case 114:return 82;case 115:return 83;case 116:return 84;case 117:return 85;case 118:return 86;case 119:return 87;case 120:return 88;case 121:return 89;case 122:return 90;case 127:return 46;case 1073741881:return 20;case 1073741882:return 112;case 1073741883:return 113;case 1073741884:return 114;case 1073741885:return 115;case 1073741886:return 116;case 1073741887:return 117;case 1073741888:return 118;case 1073741889:return 119;case 1073741890:return 120;case 1073741891:return 121;case 1073741892:return 122;case 1073741893:return 123;case 1073741894:return 301;case 1073741895:return 145;case 1073741896:return 19;case 1073741897:return 45;case 1073741898:return 36;case 1073741899:return 33;case 1073741901:return 35;case 1073741902:return 34;case 1073741903:return 39;case 1073741904:return 37;case 1073741905:return 40;case 1073741906:return 38;case 1073741907:return 144;case 1073741908:return 111;case 1073741909:return 106;case 1073741910:return 109;case 1073741911:return 107;case 1073741913:return 97;case 1073741914:return 98;case 1073741915:return 99;case 1073741916:return 100;case 1073741917:return 101;case 1073741918:return 102;case 1073741919:return 103;case 1073741920:return 104;case 1073741921:return 105;case 1073741922:return 96;case 1073741923:case 1073742044:return 110;case 1073741925:return 302;case 1073741928:return 124;case 1073741929:return 125;case 1073741930:return 126;case 1073742048:case 1073742052:return 17;case 1073742049:case 1073742053:return 16;case 1073742050:case 1073742054:return 18;case 1073742051:case 1073742055:return 15;default:return t}},xm.__getCharCode=function(t,e){if(null==e&&(e=!1),e){switch(t){case 48:return 41;case 49:return 33;case 50:return 64;case 51:return 35;case 52:return 36;case 53:return 37;case 54:return 94;case 55:return 38;case 56:return 42;case 57:return 40;case 186:return 58;case 187:return 43;case 188:return 60;case 189:return 95;case 190:return 62;case 191:return 63;case 192:return 126;case 219:return 123;case 220:return 124;case 221:return 125;case 222:return 34}if(65<=t&&90>=t)return t-65+65}else{switch(t){case 8:return 8;case 9:return 9;case 13:return 13;case 27:return 27;case 32:return 32;case 186:return 59;case 187:return 61;case 188:return 44;case 189:return 45;case 190:return 46;case 191:return 47;case 192:return 96;case 219:return 91;case 220:return 92;case 221:return 93;case 222:return 39}if(48<=t&&57>=t)return t-48+48;if(65<=t&&90>=t)return t-65+97}if(96<=t&&105>=t)return t-96+48;switch(t){case 8:return 8;case 13:return 13;case 46:return 127;case 106:return 42;case 107:return 43;case 108:return 44;case 110:return 45;case 111:return 46}return 0},xm.__getKeyLocation=function(t){switch(t){case 1073741908:case 1073741909:case 1073741910:case 1073741911:case 1073741912:case 1073741913:case 1073741914:case 1073741915:case 1073741916:case 1073741917:case 1073741918:case 1073741919:case 1073741920:case 1073741921:case 1073741922:case 1073741923:case 1073742044:return 3;case 1073742048:case 1073742049:case 1073742050:case 1073742051:return 1;case 1073742052:case 1073742053:case 1073742054:case 1073742055:return 2;default:return 0}};var wm=function(){};r["openfl.ui.Mouse"]=wm,wm.__name__="openfl.ui.Mouse",wm.__properties__={set_cursor:"set_cursor",get_cursor:"get_cursor"},wm.hide=function(){wm.__hidden=!0;for(var t=0,e=sl.current.__windows;t<e.length;){var i=e[t];++t,i.set_cursor(null)}},wm.show=function(){wm.__hidden=!1;var t=wm.__cursor;wm.__cursor=null,wm.set_cursor(t)},wm.get_cursor=function(){return wm.__cursor},wm.set_cursor=function(t){null==t&&(t="auto");var e=null;switch(t){case"arrow":e=Zh.ARROW;break;case"button":e=Zh.POINTER;break;case"crosshair":e=Zh.CROSSHAIR;break;case"custom":e=Zh.CUSTOM;break;case"hand":e=Zh.MOVE;break;case"ibeam":e=Zh.TEXT;break;case"resize_nesw":e=Zh.RESIZE_NESW;break;case"resize_ns":e=Zh.RESIZE_NS;break;case"resize_nwse":e=Zh.RESIZE_NWSE;break;case"resize_we":e=Zh.RESIZE_WE;break;case"wait":e=Zh.WAIT;break;case"waitarrow":e=Zh.WAIT_ARROW}if(null!=e&&!wm.__hidden)for(var i=0,s=sl.current.__windows;i<s.length;){var n=s[i];++i,n.set_cursor(e)}return wm.__cursor=t};var Sm={fromLimeCursor:function(t){switch(t._hx_index){case 0:return"arrow";case 1:return"crosshair";case 2:return"auto";case 3:return"hand";case 4:return"button";case 5:return"resize_nesw";case 6:return"resize_ns";case 7:return"resize_nwse";case 8:return"resize_we";case 9:return"ibeam";case 10:return"wait";case 11:return"waitarrow";case 12:return"custom"}},toLimeCursor:function(t){switch(t){case"arrow":return Zh.ARROW;case"auto":default:return Zh.DEFAULT;case"button":return Zh.POINTER;case"crosshair":return Zh.CROSSHAIR;case"custom":return Zh.CUSTOM;case"hand":return Zh.MOVE;case"ibeam":return Zh.TEXT;case"resize_nesw":return Zh.RESIZE_NESW;case"resize_ns":return Zh.RESIZE_NS;case"resize_nwse":return Zh.RESIZE_NWSE;case"resize_we":return Zh.RESIZE_WE;case"wait":return Zh.WAIT;case"waitarrow":return Zh.WAIT_ARROW}}},Rm=function(){};r["openfl.ui.Multitouch"]=Rm,Rm.__name__="openfl.ui.Multitouch",Rm.__properties__={get_supportsTouchEvents:"get_supportsTouchEvents"},Rm.get_supportsTouchEvents=function(){return!!("ontouchstart"in document.documentElement||window.DocumentTouch&&document instanceof DocumentTouch)};var Am=function(t){null==t&&(t=!1),this.debugEnabled=t,Am.initialized||Am.init()};r["openfl.utils.AGALMiniAssembler"]=Am,Am.__name__="openfl.utils.AGALMiniAssembler",Am.init=function(){Am.initialized=!0;var t=Am.OPMAP,e=new Tm("mov",2,0,0);t.h.mov=e,t=Am.OPMAP,e=new Tm("add",3,1,0),t.h.add=e,t=Am.OPMAP,e=new Tm("sub",3,2,0),t.h.sub=e,t=Am.OPMAP,e=new Tm("mul",3,3,0),t.h.mul=e,t=Am.OPMAP,e=new Tm("div",3,4,0),t.h.div=e,t=Am.OPMAP,e=new Tm("rcp",2,5,0),t.h.rcp=e,t=Am.OPMAP,e=new Tm("min",3,6,0),t.h.min=e,t=Am.OPMAP,e=new Tm("max",3,7,0),t.h.max=e,t=Am.OPMAP,e=new Tm("frc",2,8,0),t.h.frc=e,t=Am.OPMAP,e=new Tm("sqt",2,9,0),t.h.sqt=e,t=Am.OPMAP,e=new Tm("rsq",2,10,0),t.h.rsq=e,t=Am.OPMAP,e=new Tm("pow",3,11,0),t.h.pow=e,t=Am.OPMAP,e=new Tm("log",2,12,0),t.h.log=e,t=Am.OPMAP,e=new Tm("exp",2,13,0),t.h.exp=e,t=Am.OPMAP,e=new Tm("nrm",2,14,0),t.h.nrm=e,t=Am.OPMAP,e=new Tm("sin",2,15,0),t.h.sin=e,t=Am.OPMAP,e=new Tm("cos",2,16,0),t.h.cos=e,t=Am.OPMAP,e=new Tm("crs",3,17,0),t.h.crs=e,t=Am.OPMAP,e=new Tm("dp3",3,18,0),t.h.dp3=e,t=Am.OPMAP,e=new Tm("dp4",3,19,0),t.h.dp4=e,t=Am.OPMAP,e=new Tm("abs",2,20,0),t.h.abs=e,t=Am.OPMAP,e=new Tm("neg",2,21,0),t.h.neg=e,t=Am.OPMAP,e=new Tm("sat",2,22,0),t.h.sat=e,t=Am.OPMAP,e=new Tm("m33",3,23,16),t.h.m33=e,t=Am.OPMAP,e=new Tm("m44",3,24,16),t.h.m44=e,t=Am.OPMAP,e=new Tm("m34",3,25,16),t.h.m34=e,t=Am.OPMAP,e=new Tm("ddx",2,26,288),t.h.ddx=e,t=Am.OPMAP,e=new Tm("ddy",2,27,288),t.h.ddy=e,t=Am.OPMAP,e=new Tm("ife",2,28,897),t.h.ife=e,t=Am.OPMAP,e=new Tm("ine",2,29,897),t.h.ine=e,t=Am.OPMAP,e=new Tm("ifg",2,30,897),t.h.ifg=e,t=Am.OPMAP,e=new Tm("ifl",2,31,897),t.h.ifl=e,t=Am.OPMAP,e=new Tm("els",0,32,1921),t.h.els=e,t=Am.OPMAP,e=new Tm("eif",0,33,1409),t.h.eif=e,t=Am.OPMAP,e=new Tm("kil",1,39,160),t.h.kil=e,t=Am.OPMAP,e=new Tm("tex",3,40,40),t.h.tex=e,t=Am.OPMAP,e=new Tm("sge",3,41,0),t.h.sge=e,t=Am.OPMAP,e=new Tm("slt",3,42,0),t.h.slt=e,t=Am.OPMAP,e=new Tm("sgn",2,43,0),t.h.sgn=e,t=Am.OPMAP,e=new Tm("seq",3,44,0),t.h.seq=e,t=Am.OPMAP,e=new Tm("sne",3,45,0),t.h.sne=e,t=Am.SAMPLEMAP,e=new Pm("rgba",8,0),t.h.rgba=e,t=Am.SAMPLEMAP,e=new Pm("compressed",8,1),t.h.compressed=e,t=Am.SAMPLEMAP,e=new Pm("compressedalpha",8,2),t.h.compressedalpha=e,t=Am.SAMPLEMAP,e=new Pm("dxt1",8,1),t.h.dxt1=e,t=Am.SAMPLEMAP,e=new Pm("dxt5",8,2),t.h.dxt5=e,t=Am.SAMPLEMAP,e=new Pm("video",8,3),t.h.video=e,t=Am.SAMPLEMAP,e=new Pm("2d",12,0),t.h["2d"]=e,t=Am.SAMPLEMAP,e=new Pm("3d",12,2),t.h["3d"]=e,t=Am.SAMPLEMAP,e=new Pm("cube",12,1),t.h.cube=e,t=Am.SAMPLEMAP,e=new Pm("mipnearest",24,1),t.h.mipnearest=e,t=Am.SAMPLEMAP,e=new Pm("miplinear",24,2),t.h.miplinear=e,t=Am.SAMPLEMAP,e=new Pm("mipnone",24,0),t.h.mipnone=e,t=Am.SAMPLEMAP,e=new Pm("nomip",24,0),t.h.nomip=e,t=Am.SAMPLEMAP,e=new Pm("nearest",28,0),t.h.nearest=e,t=Am.SAMPLEMAP,e=new Pm("linear",28,1),t.h.linear=e,t=Am.SAMPLEMAP,e=new Pm("anisotropic2x",28,2),t.h.anisotropic2x=e,t=Am.SAMPLEMAP,e=new Pm("anisotropic4x",28,3),t.h.anisotropic4x=e,t=Am.SAMPLEMAP,e=new Pm("anisotropic8x",28,4),t.h.anisotropic8x=e,t=Am.SAMPLEMAP,e=new Pm("anisotropic16x",28,5),t.h.anisotropic16x=e,t=Am.SAMPLEMAP,e=new Pm("centroid",16,1),t.h.centroid=e,t=Am.SAMPLEMAP,e=new Pm("single",16,2),t.h.single=e,t=Am.SAMPLEMAP,e=new Pm("ignoresampler",16,4),t.h.ignoresampler=e,t=Am.SAMPLEMAP,e=new Pm("repeat",20,1),t.h.repeat=e,t=Am.SAMPLEMAP,e=new Pm("wrap",20,1),t.h.wrap=e,t=Am.SAMPLEMAP,e=new Pm("clamp",20,0),t.h.clamp=e,t=Am.SAMPLEMAP,e=new Pm("clamp_u_repeat_v",20,2),t.h.clamp_u_repeat_v=e,t=Am.SAMPLEMAP,e=new Pm("repeat_u_clamp_v",20,3),t.h.repeat_u_clamp_v=e},Am.prototype={agalcode:null,error:null,verbose:null,debugEnabled:null,assemble2:function(t,e,i,s){return i=this.assemble("vertex",i,e),e=this.assemble("fragment",s,e),(t=t.createProgram()).upload(i,e),t},assemble:function(t,e,i,s){null==s&&(s=!1),null==i&&(i=1);var n=I_.getTimer();this.agalcode=new Lm(0),this.error="";var r=!1;"fragment"==t?r=!0:"vertex"!=t&&(this.error='ERROR: mode needs to be "fragment" or "vertex" but is "'+t+'".'),this.agalcode.__endian=1,this.agalcode.writeByte(160),this.agalcode.writeUnsignedInt(i),this.agalcode.writeByte(161),this.agalcode.writeByte(r?1:0),this.initregmap(i,s),t=v.replace(e,"\r","\n").split("\n"),e=0,s=t.length;for(var a=new _("<.*>","g"),o=new _("([\\w\\.\\-\\+]+)","gi"),l=new _("^\\w{3}","ig"),h=new _("vc\\[([vofi][acostdip]?[d]?)(\\d*)?(\\.[xyzw](\\+\\d{1,3})?)?\\](\\.[xyzw]{1,4})?|([vofi][acostdip]?[d]?)(\\d*)?(\\.[xyzw]{1,4})?","gi"),u=new _("\\[.*\\]","ig"),d=new _("^\\b[A-Za-z]{1,3}","ig"),m=new _("\\d+",""),p=new _("(\\.[xyzw]{1,4})",""),f=new _("[A-Za-z]{1,3}","ig"),y=new _("(\\.[xyzw]{1,1})",""),b=new _("\\+\\d{1,3}","ig"),x=0;x<s&&""==this.error;){var w=v.trim(t[x]),R=w.indexOf("//");-1!=R&&(w=c.substr(w,0,R));var A=a.match(w)?a.matchedPos().pos:-1;R=null,-1!=A&&(R=this.match(c.substr(w,A,null),o),w=c.substr(w,0,A));var T=null;if(l.match(w)&&(A=l.matched(0),T=Am.OPMAP.h[A]),null==T)3<=w.length&&d_.warn("warning: bad line "+x+": "+t[x],{fileName:"openfl/utils/AGALMiniAssembler.hx",lineNumber:262,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"});else if(this.debugEnabled&&d_.info(T,{fileName:"openfl/utils/AGALMiniAssembler.hx",lineNumber:272,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"}),null==T)3<=w.length&&d_.warn("warning: bad line "+x+": "+t[x],{fileName:"openfl/utils/AGALMiniAssembler.hx",lineNumber:279,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"});else{if(w=c.substr(w,w.indexOf(T.name)+T.name.length,null),256&T.flags&&2>i){this.error="error: opcode requires version 2.";break}if(64&T.flags&&r){this.error="error: opcode is only allowed in vertex programs.";break}if(32&T.flags&&!r){this.error="error: opcode is only allowed in fragment programs.";break}if(this.verbose&&d_.info("emit opcode="+g.string(T),{fileName:"openfl/utils/AGALMiniAssembler.hx",lineNumber:308,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"}),this.agalcode.writeUnsignedInt(T.emitCode),4096<++e){this.error="error: too many opcodes. maximum is 4096.";break}var M=this.match(w,h);if(M.length!=T.numRegister){this.error="error: wrong number of operands. found "+M.length+" but expected "+T.numRegister+".";break}var P=!1,C=160;for(w=0,A=M.length;w<A;){var I=w++,k=!1,E=this.match(M[I],u);0<E.length&&(M[I]=v.replace(M[I],E[0],"0"),this.verbose&&d_.info("IS REL",{fileName:"openfl/utils/AGALMiniAssembler.hx",lineNumber:344,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"}),k=!0);var F=this.match(M[I],d);if(0==F.length){this.error="error: could not parse operand "+I+" ("+M[I]+").",P=!0;break}var B=Am.REGMAP.h[F[0]];if(this.debugEnabled&&d_.info(B,{fileName:"openfl/utils/AGALMiniAssembler.hx",lineNumber:363,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"}),null==B){this.error="error: could not find register name for operand "+I+" ("+M[I]+").",P=!0;break}if(r){if(!(32&B.flags)){this.error="error: register operand "+I+" ("+M[I]+") only allowed in vertex programs.",P=!0;break}if(k){this.error="error: register operand "+I+" ("+M[I]+") relative adressing not allowed in fragment programs.",P=!0;break}}else if(!(64&B.flags)){this.error="error: register operand "+I+" ("+M[I]+") only allowed in fragment programs.",P=!0;break}M[I]=c.substr(M[I],M[I].indexOf(B.name)+B.name.length,null);var D=k?this.match(E[0],m):this.match(M[I],m);if(F=0,0<D.length&&(F=g.parseInt(D[0])),S.gt(F,B.range)){w=B.range+1,this.error="error: register operand "+I+" ("+M[I]+") index exceeds limit of "+(null==w?"null":g.string(S.toFloat(w)))+".",P=!0;break}var L=this.match(M[I],p),N=0==I&&!(128&T.flags),G=2==I&&!!(8&T.flags),O=0,K=0,V=0;if(N&&k){this.error="error: relative can not be destination",P=!0;break}if(0<L.length){for(var U=D=0,z=L[0].length,W=1;W<z;)U=c.cca(L[0],W)-120,S.gt(U,2)&&(U=3),D=N?D|1<<U:D|U<<(W-1<<1),++W;if(!N)for(;4>=W;)D|=U<<(W-1<<1),++W}else D=N?15:228;if(k){if(L=this.match(E[0],f),null==(O=Am.REGMAP.h[L[0]])){this.error="error: bad index register",P=!0;break}if(O=O.emitCode,0==(U=this.match(E[0],y)).length){this.error="error: bad index register select",P=!0;break}if(K=c.cca(U[0],1)-120,S.gt(K,2)&&(K=3),0<(E=this.match(E[0],b)).length&&(V=g.parseInt(E[0])),0>V||255<V){this.error="error: index offset "+V+" out of bounds. [0..255]",P=!0;break}this.verbose&&d_.info("RELATIVE: type="+O+"=="+L[0]+" sel="+(null==K?"null":g.string(S.toFloat(K)))+"=="+U[0]+" idx="+(null==F?"null":g.string(S.toFloat(F)))+" offset="+V,{fileName:"openfl/utils/AGALMiniAssembler.hx",lineNumber:518,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"})}if(this.verbose&&d_.info("  emit argcode="+g.string(B)+"["+(null==F?"null":g.string(S.toFloat(F)))+"]["+D+"]",{fileName:"openfl/utils/AGALMiniAssembler.hx",lineNumber:525,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"}),N)this.agalcode.writeShort(F),this.agalcode.writeByte(D),this.agalcode.writeByte(B.emitCode),C-=32;else{if(G){for(this.verbose&&d_.info("  emit sampler",{fileName:"openfl/utils/AGALMiniAssembler.hx",lineNumber:541,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"}),I=5,E=k=0,B=null==R?0:R.length;E<B;)D=E++,this.verbose&&d_.info("    opt: "+R[D],{fileName:"openfl/utils/AGALMiniAssembler.hx",lineNumber:552,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"}),null==(N=Am.SAMPLEMAP.h[R[D]])?(k=parseFloat(R[D]),this.verbose&&d_.info("    bias: "+k,{fileName:"openfl/utils/AGALMiniAssembler.hx",lineNumber:565,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"})):(16!=N.flag&&(I&=~(15<<N.flag)),I|=N.mask<<N.flag);this.agalcode.writeShort(F),this.agalcode.writeByte(8*k|0),this.agalcode.writeByte(0),this.agalcode.writeUnsignedInt(I),this.verbose&&d_.info("    bits: "+(I-5),{fileName:"openfl/utils/AGALMiniAssembler.hx",lineNumber:586,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"})}else 0==I&&(this.agalcode.writeUnsignedInt(0),C-=32),this.agalcode.writeShort(F),this.agalcode.writeByte(V),this.agalcode.writeByte(D),this.agalcode.writeByte(B.emitCode),this.agalcode.writeByte(O),this.agalcode.writeShort(k?32768|K:0);C-=64}}for(w=0;w<C;)this.agalcode.writeByte(0),w+=8;if(P)break}++x}if(""!=this.error&&(this.error+="\n  at line "+x+" "+t[x],Fm.set_length(this.agalcode,0),d_.info(this.error,{fileName:"openfl/utils/AGALMiniAssembler.hx",lineNumber:631,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"})),this.debugEnabled){for(i="generated bytecode:",w=0,A=r=Fm.get_length(this.agalcode);w<A;)0==(r=w++)%16&&(i+="\n"),0==r%4&&(i+=" "),2>(r=v.hex(this.agalcode.b[r],2)).length&&(r="0"+r),i+=r;d_.info(i,{fileName:"openfl/utils/AGALMiniAssembler.hx",lineNumber:662,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"})}return this.verbose&&d_.info("AGALMiniAssembler.assemble time: "+(I_.getTimer()-n)/1e3+"s",{fileName:"openfl/utils/AGALMiniAssembler.hx",lineNumber:667,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"}),this.agalcode},initregmap:function(t,e){var i=Am.REGMAP,s=new Mm("va","vertex attribute",0,e?1024:1==t||2==t?7:15,66);i.h.va=s,i=Am.REGMAP,s=new Mm("vc","vertex constant",1,e?1024:1==t?127:249,66),i.h.vc=s,i=Am.REGMAP,s=new Mm("vt","vertex temporary",2,e?1024:1==t?7:25,67),i.h.vt=s,i=Am.REGMAP,s=new Mm("vo","vertex output",3,e?1024:0,65),i.h.vo=s,i=Am.REGMAP,s=new Mm("vi","varying",4,e?1024:1==t?7:9,99),i.h.vi=s,i=Am.REGMAP,s=new Mm("fc","fragment constant",1,e?1024:1==t?27:2==t?63:199,34),i.h.fc=s,i=Am.REGMAP,s=new Mm("ft","fragment temporary",2,e?1024:1==t?7:25,35),i.h.ft=s,i=Am.REGMAP,s=new Mm("fs","texture sampler",5,e?1024:7,34),i.h.fs=s,i=Am.REGMAP,s=new Mm("fo","fragment output",3,e?1024:1==t?0:3,33),i.h.fo=s,i=Am.REGMAP,s=new Mm("fd","fragment depth output",6,e?1024:1==t?-1:0,33),i.h.fd=s,i=Am.REGMAP,s=new Mm("iid","instance id",7,e?1024:0,66),i.h.iid=s,s=Am.REGMAP.h.vo,Am.REGMAP.h.op=s,s=Am.REGMAP.h.vi,Am.REGMAP.h.i=s,s=Am.REGMAP.h.vi,Am.REGMAP.h.v=s,s=Am.REGMAP.h.fo,Am.REGMAP.h.oc=s,s=Am.REGMAP.h.fd,Am.REGMAP.h.od=s,s=Am.REGMAP.h.vi,Am.REGMAP.h.fi=s},match:function(t,e){for(var i=[],s=0;e.matchSub(t,s);)s=e.matched(0),i.push(s),s=e.matchedPos().pos+s.length;return i},__class__:Am};var Tm=function(t,e,i,s){this.name=t,this.numRegister=e,this.emitCode=i,this.flags=s};r["openfl.utils._AGALMiniAssembler.OpCode"]=Tm,Tm.__name__="openfl.utils._AGALMiniAssembler.OpCode",Tm.prototype={emitCode:null,flags:null,name:null,numRegister:null,toString:function(){return'[OpCode name="'+this.name+'", numRegister='+this.numRegister+", emitCode="+this.emitCode+", flags="+this.flags+"]"},__class__:Tm};var Mm=function(t,e,i,s,n){this.name=t,this.longName=e,this.emitCode=i,this.range=s,this.flags=n};r["openfl.utils._AGALMiniAssembler.Register"]=Mm,Mm.__name__="openfl.utils._AGALMiniAssembler.Register",Mm.prototype={emitCode:null,name:null,longName:null,flags:null,range:null,toString:function(){return'[Register name="'+this.name+'", longName="'+this.longName+'", emitCode='+(null==this.emitCode?"null":g.string(S.toFloat(this.emitCode)))+", range="+(null==this.range?"null":g.string(S.toFloat(this.range)))+", flags="+(null==this.flags?"null":g.string(S.toFloat(this.flags)))+"]"},__class__:Mm};var Pm=function(t,e,i){this.name=t,this.flag=e,this.mask=i};r["openfl.utils._AGALMiniAssembler.Sampler"]=Pm,Pm.__name__="openfl.utils._AGALMiniAssembler.Sampler",Pm.prototype={flag:null,mask:null,name:null,toString:function(){return'[Sampler name="'+this.name+'", flag="'+(null==this.flag?"null":g.string(S.toFloat(this.flag)))+'", mask='+(null==this.mask?"null":g.string(S.toFloat(this.mask)))+"]"},__class__:Pm};var Cm=function(){};r["openfl.utils.IAssetCache"]=Cm,Cm.__name__="openfl.utils.IAssetCache",Cm.__isInterface__=!0,Cm.prototype={get_enabled:null,set_enabled:null,clear:null,getBitmapData:null,getFont:null,getSound:null,hasBitmapData:null,hasFont:null,hasSound:null,removeBitmapData:null,removeFont:null,removeSound:null,setBitmapData:null,setFont:null,setSound:null,__class__:Cm,__properties__:{set_enabled:"set_enabled",get_enabled:"get_enabled"}};var Im=function(){this.__enabled=!0,this.bitmapData=new pr,this.font=new pr,this.sound=new pr};r["openfl.utils.AssetCache"]=Im,Im.__name__="openfl.utils.AssetCache",Im.__interfaces__=[Cm],Im.prototype={bitmapData:null,font:null,sound:null,__enabled:null,clear:function(t){if(null==t)this.bitmapData=new pr,this.font=new pr,this.sound=new pr;else{for(var e=this.bitmapData.h,i=(e=Object.keys(e)).length,s=0;s<i;){var n=e[s++];v.startsWith(n,t)&&this.removeBitmapData(n)}for(e=this.font.h,i=(e=Object.keys(e)).length,s=0;s<i;)n=e[s++],v.startsWith(n,t)&&this.removeFont(n);for(e=this.sound.h,i=(e=Object.keys(e)).length,s=0;s<i;)n=e[s++],v.startsWith(n,t)&&this.removeSound(n)}},getBitmapData:function(t){return this.bitmapData.h[t]},getFont:function(t){return this.font.h[t]},getSound:function(t){return this.sound.h[t]},hasBitmapData:function(t){return Object.prototype.hasOwnProperty.call(this.bitmapData.h,t)},hasFont:function(t){return Object.prototype.hasOwnProperty.call(this.font.h,t)},hasSound:function(t){return Object.prototype.hasOwnProperty.call(this.sound.h,t)},removeBitmapData:function(t){var e=r_.cache.image;return Object.prototype.hasOwnProperty.call(e.h,t)&&delete e.h[t],e=this.bitmapData,!!Object.prototype.hasOwnProperty.call(e.h,t)&&(delete e.h[t],!0)},removeFont:function(t){var e=r_.cache.font;return Object.prototype.hasOwnProperty.call(e.h,t)&&delete e.h[t],e=this.font,!!Object.prototype.hasOwnProperty.call(e.h,t)&&(delete e.h[t],!0)},removeSound:function(t){var e=r_.cache.audio;return Object.prototype.hasOwnProperty.call(e.h,t)&&delete e.h[t],e=this.sound,!!Object.prototype.hasOwnProperty.call(e.h,t)&&(delete e.h[t],!0)},setBitmapData:function(t,e){this.bitmapData.h[t]=e},setFont:function(t,e){this.font.h[t]=e},setSound:function(t,e){this.sound.h[t]=e},get_enabled:function(){return this.__enabled},set_enabled:function(t){return this.__enabled=t},__class__:Im,__properties__:{set_enabled:"set_enabled",get_enabled:"get_enabled"}};var Em=function(){s_.call(this)};r["openfl.utils.AssetLibrary"]=Em,Em.__name__="openfl.utils.AssetLibrary",Em.fromBundle=function(t){if(null!=(t=s_.fromBundle(t))){if(t instanceof Em)return t;var e=new Em;return e.__proxy=t,e}return null},Em.fromBytes=function(t,e){return Em.fromManifest(n_.fromBytes(Fm.toLimeBytes(t),e))},Em.fromFile=function(t,e){return Em.fromManifest(n_.fromFile(t,e))},Em.fromManifest=function(t){if(null!=(t=s_.fromManifest(t))){if(t instanceof Em)return t;var e=new Em;return e.__proxy=t,e}return null},Em.loadFromBytes=function(t,e){return n_.loadFromBytes(Fm.toLimeBytes(t),e).then(function(t){return Em.loadFromManifest(t)})},Em.loadFromFile=function(t,e){return n_.loadFromFile(t,e).then(function(t){return Em.loadFromManifest(t)})},Em.loadFromManifest=function(t){return null!=(t=Em.fromManifest(t))?t.load().then(function(t){return rl.withValue(t)}):rl.withError("Could not load asset manifest")},Em.__super__=s_,Em.prototype=i(s_.prototype,{__proxy:null,bind:function(t,e){return!1},exists:function(t,e){return null!=this.__proxy?this.__proxy.exists(t,e):s_.prototype.exists.call(this,t,e)},getAsset:function(t,e){return null!=this.__proxy?this.__proxy.getAsset(t,e):s_.prototype.getAsset.call(this,t,e)},getAudioBuffer:function(t){return null!=this.__proxy?this.__proxy.getAudioBuffer(t):s_.prototype.getAudioBuffer.call(this,t)},getBytes:function(t){return null!=this.__proxy?this.__proxy.getBytes(t):s_.prototype.getBytes.call(this,t)},getFont:function(t){return null!=this.__proxy?this.__proxy.getFont(t):s_.prototype.getFont.call(this,t)},getImage:function(t){return null!=this.__proxy?this.__proxy.getImage(t):s_.prototype.getImage.call(this,t)},getMovieClip:function(t){return null},getPath:function(t){return null!=this.__proxy?this.__proxy.getPath(t):s_.prototype.getPath.call(this,t)},getText:function(t){return null!=this.__proxy?this.__proxy.getText(t):s_.prototype.getText.call(this,t)},isLocal:function(t,e){return null!=this.__proxy?this.__proxy.isLocal(t,e):s_.prototype.isLocal.call(this,t,e)},list:function(t){return null!=this.__proxy?this.__proxy.list(t):s_.prototype.list.call(this,t)},loadAsset:function(t,e){return null!=this.__proxy?this.__proxy.loadAsset(t,e):s_.prototype.loadAsset.call(this,t,e)},load:function(){return null!=this.__proxy?this.__proxy.load():s_.prototype.load.call(this)},loadAudioBuffer:function(t){return null!=this.__proxy?this.__proxy.loadAudioBuffer(t):s_.prototype.loadAudioBuffer.call(this,t)},loadBytes:function(t){return null!=this.__proxy?this.__proxy.loadBytes(t):s_.prototype.loadBytes.call(this,t)},loadFont:function(t){return null!=this.__proxy?this.__proxy.loadFont(t):s_.prototype.loadFont.call(this,t)},loadImage:function(t){return null!=this.__proxy?this.__proxy.loadImage(t):s_.prototype.loadImage.call(this,t)},loadMovieClip:function(t){return rl.withValue(this.getMovieClip(t))},loadText:function(t){return null!=this.__proxy?this.__proxy.loadText(t):s_.prototype.loadText.call(this,t)},unload:function(){null!=this.__proxy?this.__proxy.unload():s_.prototype.unload.call(this)},__class__:Em});var km=function(){};r["openfl.utils.Assets"]=km,km.__name__="openfl.utils.Assets",km.addEventListener=function(t,e,i,s,n){null==n&&(n=!1),null==s&&(s=0),null==i&&(i=!1),r_.onChange.has(km.LimeAssets_onChange)||r_.onChange.add(km.LimeAssets_onChange),km.dispatcher.addEventListener(t,e,i,s,n)},km.dispatchEvent=function(t){return km.dispatcher.dispatchEvent(t)},km.exists=function(t,e){return r_.exists(t,e)},km.getBitmapData=function(t,e){if(null==e&&(e=!0),e&&km.cache.get_enabled()&&km.cache.hasBitmapData(t)){var i=km.cache.getBitmapData(t);if(km.isValidBitmapData(i))return i}return null!=(i=r_.getImage(t,!1))?(i=O_.fromImage(i),e&&km.cache.get_enabled()&&km.cache.setBitmapData(t,i),i):null},km.getBytes=function(t){return Fm.fromLimeBytes(r_.getBytes(t))},km.getFont=function(t,e){if(null==e&&(e=!0),e&&km.cache.get_enabled()&&km.cache.hasFont(t))return km.cache.getFont(t);var i=r_.getFont(t,!1);if(null!=i){var s=new im;return s.__fromLimeFont(i),e&&km.cache.get_enabled()&&km.cache.setFont(t,s),s}return new im},km.getLibrary=function(t){return r_.getLibrary(t)},km.getMovieClip=function(t){var e=t.substring(0,t.indexOf(":")),i=c.substr(t,t.indexOf(":")+1,null),s=km.getLibrary(e);if(null!=s){if(s instanceof Em&&s.exists(i,"MOVIE_CLIP"))return s.isLocal(i,"MOVIE_CLIP")?s.getMovieClip(i):(d_.error('MovieClip asset "'+t+'" exists, but only asynchronously',{fileName:"openfl/utils/Assets.hx",lineNumber:215,className:"openfl.utils.Assets",methodName:"getMovieClip"}),null);d_.error('There is no MovieClip asset with an ID of "'+t+'"',{fileName:"openfl/utils/Assets.hx",lineNumber:221,className:"openfl.utils.Assets",methodName:"getMovieClip"})}else d_.error('There is no asset library named "'+e+'"',{fileName:"openfl/utils/Assets.hx",lineNumber:225,className:"openfl.utils.Assets",methodName:"getMovieClip"});return null},km.getMusic=function(t,e){return null==e&&(e=!0),km.getSound(t,e)},km.getPath=function(t){return r_.getPath(t)},km.getSound=function(t,e){if(null==e&&(e=!0),e&&km.cache.get_enabled()&&km.cache.hasSound(t)){var i=km.cache.getSound(t);if(km.isValidSound(i))return i}return null!=(i=r_.getAudioBuffer(t,!1))?(i=Ld.fromAudioBuffer(i),e&&km.cache.get_enabled()&&km.cache.setSound(t,i),i):null},km.getText=function(t){return r_.getText(t)},km.hasEventListener=function(t){return km.dispatcher.hasEventListener(t)},km.hasLibrary=function(t){return r_.hasLibrary(t)},km.initBinding=function(t,e){if(Object.prototype.hasOwnProperty.call(km.libraryBindings.h,t)){var i=km.libraryBindings.h[t];null==e?D.__constructor=function(e){e.__bind(i,t)}:(D.__constructor=null,e.__bind(i,t))}else d_.warn('No asset is registered as "'+t+'"',{fileName:"openfl/utils/Assets.hx",lineNumber:367,className:"openfl.utils.Assets",methodName:"initBinding"})},km.isLocal=function(t,e,i){return null==i&&(i=!0),!!(i&&km.cache.get_enabled()&&(("IMAGE"==e||null==e)&&km.cache.hasBitmapData(t)||("FONT"==e||null==e)&&km.cache.hasFont(t)||("SOUND"==e||"MUSIC"==e||null==e)&&km.cache.hasSound(t)))||(i=t.substring(0,t.indexOf(":")),t=c.substr(t,t.indexOf(":")+1,null),null!=(i=km.getLibrary(i))&&i.isLocal(t,e))},km.isValidBitmapData=function(t){return null!=t&&null!=t.image},km.isValidSound=function(t){return!0},km.list=function(t){return r_.list(t)},km.loadBitmapData=function(t,e){null==e&&(e=!0),null==e&&(e=!0);var i=new ol;if(e&&km.cache.get_enabled()&&km.cache.hasBitmapData(t)){var s=km.cache.getBitmapData(t);if(km.isValidBitmapData(s))return i.complete(s),i.future}return r_.loadImage(t,!1).onComplete(function(s){null!=s?(s=O_.fromImage(s),e&&km.cache.get_enabled()&&km.cache.setBitmapData(t,s),i.complete(s)):i.error('[Assets] Could not load Image "'+t+'"')}).onError(n(i,i.error)).onProgress(n(i,i.progress)),i.future},km.loadBytes=function(t){var e=new ol;return(t=r_.loadBytes(t)).onComplete(function(t){e.complete(Fm.fromLimeBytes(t))}),t.onProgress(function(t,i){e.progress(t,i)}),t.onError(function(t){e.error(t)}),e.future},km.loadFont=function(t,e){null==e&&(e=!0),null==e&&(e=!0);var i=new ol;return e&&km.cache.get_enabled()&&km.cache.hasFont(t)?(i.complete(km.cache.getFont(t)),i.future):(r_.loadFont(t).onComplete(function(s){var n=new im;n.__fromLimeFont(s),e&&km.cache.get_enabled()&&km.cache.setFont(t,n),i.complete(n)}).onError(n(i,i.error)).onProgress(n(i,i.progress)),i.future)},km.loadLibrary=function(t){return r_.loadLibrary(t).then(function(e){var i=null;return null!=e&&(e instanceof Em?i=e:((i=new Em).__proxy=e,r_.registerLibrary(t,i))),rl.withValue(i)})},km.loadMusic=function(t,e){return null==e&&(e=!0),null==e&&(e=!0),new rl(function(){return km.getMusic(t,e)})},km.loadMovieClip=function(t){var e=new ol,i=t.substring(0,t.indexOf(":")),s=c.substr(t,t.indexOf(":")+1,null),n=km.getLibrary(i);if(null!=n){if(n instanceof Em&&n.exists(s,"MOVIE_CLIP"))return e.completeWith(n.loadMovieClip(s)),e.future;e.error('[Assets] There is no MovieClip asset with an ID of "'+t+'"')}else e.error('[Assets] There is no asset library named "'+i+'"');return e.future},km.loadSound=function(t,e){null==e&&(e=!0),null==e&&(e=!0);var i=new ol;return r_.loadAudioBuffer(t,e).onComplete(function(s){null!=s?(s=Ld.fromAudioBuffer(s),e&&km.cache.get_enabled()&&km.cache.setSound(t,s),i.complete(s)):i.error('[Assets] Could not load Sound "'+t+'"')}).onError(n(i,i.error)).onProgress(n(i,i.progress)),i.future},km.loadText=function(t){return r_.loadText(t)},km.registerBinding=function(t,e){km.libraryBindings.h[t]=e},km.registerLibrary=function(t,e){r_.registerLibrary(t,e)},km.removeEventListener=function(t,e,i){null==i&&(i=!1),km.dispatcher.removeEventListener(t,e,i)},km.resolveClass=function(t){return r[t]},km.resolveEnum=function(t){return o[t]},km.unloadLibrary=function(t){r_.unloadLibrary(t)},km.unregisterBinding=function(t,e){Object.prototype.hasOwnProperty.call(km.libraryBindings.h,t)&&km.libraryBindings.h[t]==e&&(e=km.libraryBindings,Object.prototype.hasOwnProperty.call(e.h,t)&&delete e.h[t])},km.LimeAssets_onChange=function(){km.dispatchEvent(new _i("change"))};var Fm={__properties__:{set_position:"set_position",get_position:"get_position",set_length:"set_length",get_length:"get_length",get_bytesAvailable:"get_bytesAvailable",set_defaultObjectEncoding:"set_defaultObjectEncoding",get_defaultObjectEncoding:"get_defaultObjectEncoding",set_defaultEndian:"set_defaultEndian",get_defaultEndian:"get_defaultEndian"},_new:function(t){return null==t&&(t=0),new Lm(t)},clear:function(t){t.clear()},compress:function(t,e){t.compress(e)},deflate:function(t){t.deflate()},fromArrayBuffer:function(t){return null==t?null:Lm.fromBytes(La.ofData(t))},fromBytes:function(t){return null==t?null:t instanceof Lm?t:Lm.fromBytes(t)},fromBytesData:function(t){return null==t?null:Lm.fromBytes(La.ofData(t))},fromFile:function(t){return Fm.fromLimeBytes(h_.fromFile(t))},fromLimeBytes:function(t){return Fm.fromBytes(t)},get:function(t,e){return t.b[e]},inflate:function(t){t.inflate()},loadFromBytes:function(t){return h_.loadFromBytes(t).then(function(t){return t=Fm.fromLimeBytes(t),rl.withValue(t)})},loadFromFile:function(t){return h_.loadFromFile(t).then(function(t){return t=Fm.fromLimeBytes(t),rl.withValue(t)})},readBoolean:function(t){return t.readBoolean()},readByte:function(t){return t.readByte()},readBytes:function(t,e,i,s){null==s&&(s=0),null==i&&(i=0),t.readBytes(e,i,s)},readDouble:function(t){return t.readDouble()},readFloat:function(t){return t.readFloat()},readInt:function(t){return t.readInt()},readMultiByte:function(t,e,i){return t.readMultiByte(e,i)},readObject:function(t){return t.readObject()},readShort:function(t){return t.readShort()},readUTF:function(t){return t.readUTF()},readUTFBytes:function(t,e){return t.readUTFBytes(e)},readUnsignedByte:function(t){return t.readUnsignedByte()},readUnsignedInt:function(t){return t.readUnsignedInt()},readUnsignedShort:function(t){return t.readUnsignedShort()},set:function(t,e,i){return t.__resize(e+1),t.b[e]=255&i,i},toArrayBuffer:function(t){return t.b.bufferValue},toBytePointer:function(t){return o_.set(Fm.__bytePointer,t,null,null,t.position),Fm.__bytePointer},toBytes:function(t){return t},toBytesData:function(t){return t.b.bufferValue},toLimeBytes:function(t){return t},toString:function(t){return t.toString()},uncompress:function(t,e){t.uncompress(e)},writeBoolean:function(t,e){t.writeBoolean(e)},writeByte:function(t,e){t.writeByte(e)},writeBytes:function(t,e,i,s){null==s&&(s=0),null==i&&(i=0),t.writeBytes(e,i,s)},writeDouble:function(t,e){t.writeDouble(e)},writeFloat:function(t,e){t.writeFloat(e)},writeInt:function(t,e){t.writeInt(e)},writeMultiByte:function(t,e,i){t.writeMultiByte(e,i)},writeObject:function(t,e){t.writeObject(e)},writeShort:function(t,e){t.writeShort(e)},writeUTF:function(t,e){t.writeUTF(e)},writeUTFBytes:function(t,e){t.writeUTFBytes(e)},writeUnsignedInt:function(t,e){t.writeUnsignedInt(e)},get_bytesAvailable:function(t){return t.length-t.position},get_defaultEndian:function(){return null==Lm.__defaultEndian&&(Bh.get_endianness()==Rh.LITTLE_ENDIAN?Lm.__defaultEndian=1:Lm.__defaultEndian=0),Lm.__defaultEndian},set_defaultEndian:function(t){return Lm.__defaultEndian=t},get_defaultObjectEncoding:function(){return Lm.defaultObjectEncoding},set_defaultObjectEncoding:function(t){return Lm.defaultObjectEncoding=t},get_endian:function(t){return t.__endian},set_endian:function(t,e){return t.__endian=e},get_length:function(t){return null==t?0:t.length},set_length:function(t,e){return 0<=e&&(t.__resize(e),e<t.position&&(t.position=e)),t.length=e},get_objectEncoding:function(t){return t.objectEncoding},set_objectEncoding:function(t,e){return t.objectEncoding=e},get_position:function(t){return t.position},set_position:function(t,e){return t.position=e}},Bm=function(){};r["openfl.utils.IDataOutput"]=Bm,Bm.__name__="openfl.utils.IDataOutput",Bm.__isInterface__=!0,Bm.prototype={get_endian:null,set_endian:null,objectEncoding:null,writeBoolean:null,writeByte:null,writeBytes:null,writeDouble:null,writeFloat:null,writeInt:null,writeMultiByte:null,writeObject:null,writeShort:null,writeUnsignedInt:null,writeUTF:null,writeUTFBytes:null,__class__:Bm,__properties__:{set_endian:"set_endian",get_endian:"get_endian"}};var Dm=function(){};r["openfl.utils.IDataInput"]=Dm,Dm.__name__="openfl.utils.IDataInput",Dm.__isInterface__=!0,Dm.prototype={get_bytesAvailable:null,get_endian:null,set_endian:null,objectEncoding:null,readBoolean:null,readByte:null,readBytes:null,readDouble:null,readFloat:null,readInt:null,readMultiByte:null,readObject:null,readShort:null,readUnsignedByte:null,readUnsignedInt:null,readUnsignedShort:null,readUTF:null,readUTFBytes:null,__class__:Dm,__properties__:{set_endian:"set_endian",get_endian:"get_endian",get_bytesAvailable:"get_bytesAvailable"}};var Lm=function(t){null==t&&(t=0);var e=new La(new ArrayBuffer(t));La.call(this,e.b.buffer),this.__length=t,null==Lm.__defaultEndian&&(Bh.get_endianness()==Rh.LITTLE_ENDIAN?Lm.__defaultEndian=1:Lm.__defaultEndian=0),this.__endian=Lm.__defaultEndian,this.objectEncoding=Lm.defaultObjectEncoding,this.position=0};r["openfl.utils.ByteArrayData"]=Lm,Lm.__name__="openfl.utils.ByteArrayData",Lm.__interfaces__=[Bm,Dm],Lm.__properties__={set_defaultEndian:"set_defaultEndian",get_defaultEndian:"get_defaultEndian"},Lm.fromBytes=function(t){var e=new Lm;return e.__fromBytes(t),e},Lm.get_defaultEndian=function(){return null==Lm.__defaultEndian&&(Bh.get_endianness()==Rh.LITTLE_ENDIAN?Lm.__defaultEndian=1:Lm.__defaultEndian=0),Lm.__defaultEndian},Lm.set_defaultEndian=function(t){return Lm.__defaultEndian=t},Lm.__super__=La,Lm.prototype=i(La.prototype,{objectEncoding:null,position:null,__endian:null,__length:null,clear:function(){this.position=this.length=0},compress:function(t){if(null==t&&(t=2),this.__length>this.length){var e=this.length;this.length=this.__length;var i=new La(new ArrayBuffer(e));i.blit(0,this,0,e),this.b=i.b,this.__length=i.length,this.data=i.data,this.length=e}switch(t){case 0:t=h_.compress(this,__.DEFLATE);break;case 1:t=h_.compress(this,__.LZMA);break;default:t=h_.compress(this,__.ZLIB)}null!=t&&(this.b=t.b,this.__length=t.length,this.data=t.data,this.position=this.length=this.__length)},deflate:function(){this.compress(0)},inflate:function(){this.uncompress(0)},readBoolean:function(){if(this.position<this.length)return 0!=this.b[this.position++];throw new nd},readByte:function(){var t=this.readUnsignedByte();return 128&t?t-256:t},readBytes:function(t,e,i){if(null==i&&(i=0),null==e&&(e=0),0==i&&(i=this.length-this.position),this.position+i>this.length)throw new nd;t.length<e+i&&t.__resize(e+i),t.blit(e,this,this.position,i),this.position+=i},readDouble:function(){if(1==this.__endian){if(this.position+8>this.length)throw new nd;return this.position+=8,this.getDouble(this.position-8)}var t=this.readInt(),e=this.readInt();return io.i64ToDouble(e,t)},readFloat:function(){if(1==this.__endian){if(this.position+4>this.length)throw new nd;return this.position+=4,this.getFloat(this.position-4)}return io.i32ToFloat(this.readInt())},readInt:function(){var t=this.readUnsignedByte(),e=this.readUnsignedByte(),i=this.readUnsignedByte(),s=this.readUnsignedByte();return 1==this.__endian?s<<24|i<<16|e<<8|t:t<<24|e<<16|i<<8|s},readMultiByte:function(t,e){return this.readUTFBytes(t)},readObject:function(){switch(this.objectEncoding){case 10:var t=this.readUTF();return ka.run(t);case 12:return t=this.readUTF(),JSON.parse(t);default:return null}},readShort:function(){var t=this.readUnsignedByte(),e=this.readUnsignedByte();return 32768&(t=1==this.__endian?e<<8|t:t<<8|e)?t-65536:t},readUnsignedByte:function(){if(this.position<this.length)return this.b[this.position++];throw new nd},readUnsignedInt:function(){var t=this.readUnsignedByte(),e=this.readUnsignedByte(),i=this.readUnsignedByte(),s=this.readUnsignedByte();return 1==this.__endian?s<<24|i<<16|e<<8|t:t<<24|e<<16|i<<8|s},readUnsignedShort:function(){var t=this.readUnsignedByte(),e=this.readUnsignedByte();return 1==this.__endian?(e<<8)+t:t<<8|e},readUTF:function(){var t=this.readUnsignedShort();return this.readUTFBytes(t)},readUTFBytes:function(t){if(this.position+t>this.length)throw new nd;return this.position+=t,this.getString(this.position-t,t)},uncompress:function(t){if(null==t&&(t=2),this.__length>this.length){var e=this.length;this.length=this.__length;var i=new La(new ArrayBuffer(e));i.blit(0,this,0,e),this.b=i.b,this.__length=i.length,this.data=i.data,this.length=e}switch(t){case 0:t=h_.decompress(this,__.DEFLATE);break;case 1:t=h_.decompress(this,__.LZMA);break;default:t=h_.decompress(this,__.ZLIB)}null!=t&&(this.b=t.b,this.__length=t.length,this.data=t.data,this.length=this.__length),this.position=0},writeBoolean:function(t){this.writeByte(t?1:0)},writeByte:function(t){this.__resize(this.position+1),this.b[this.position++]=255&t},writeBytes:function(t,e,i){null==i&&(i=0),null==e&&(e=0),0!=Fm.get_length(t)&&(0==i&&(i=Fm.get_length(t)-e),this.__resize(this.position+i),this.blit(this.position,t,e,i),this.position+=i)},writeDouble:function(t){t=io.doubleToI64(t),1==this.__endian?(this.writeInt(t.low),this.writeInt(t.high)):(this.writeInt(t.high),this.writeInt(t.low))},writeFloat:function(t){1==this.__endian?(this.__resize(this.position+4),this.setFloat(this.position,t),this.position+=4):(t=io.floatToI32(t),this.writeInt(t))},writeInt:function(t){this.__resize(this.position+4),1==this.__endian?(this.b[this.position++]=255&t,this.b[this.position++]=t>>8&255,this.b[this.position++]=t>>16&255,this.b[this.position++]=t>>24&255):(this.b[this.position++]=t>>24&255,this.b[this.position++]=t>>16&255,this.b[this.position++]=t>>8&255,this.b[this.position++]=255&t)},writeMultiByte:function(t,e){this.writeUTFBytes(t)},writeObject:function(t){switch(this.objectEncoding){case 10:t=Ca.run(t),this.writeUTF(t);break;case 12:t=JSON.stringify(t),this.writeUTF(t)}},writeShort:function(t){this.__resize(this.position+2),1==this.__endian?(this.b[this.position++]=255&t,this.b[this.position++]=t>>8&255):(this.b[this.position++]=t>>8&255,this.b[this.position++]=255&t)},writeUnsignedInt:function(t){this.writeInt(t)},writeUTF:function(t){t=La.ofString(t),this.writeShort(t.length),this.writeBytes(Fm.fromBytes(t))},writeUTFBytes:function(t){t=La.ofString(t),this.writeBytes(Fm.fromBytes(t))},__fromBytes:function(t){this.b=t.b,this.__length=t.length,this.data=t.data,this.length=t.length},__resize:function(t){if(t>this.__length){var e=new La(new ArrayBuffer(3*(t+1)>>1));if(0<this.__length){var i=this.length;this.length=this.__length,e.blit(0,this,0,this.__length),this.length=i}this.b=e.b,this.__length=e.length,this.data=e.data}this.length<t&&(this.length=t)},__setData:function(t){this.b=t.b,this.__length=t.length,this.data=t.data},get_bytesAvailable:function(){return this.length-this.position},get_endian:function(){return this.__endian},set_endian:function(t){return this.__endian=t},__class__:Lm,__properties__:{set_endian:"set_endian",get_endian:"get_endian",get_bytesAvailable:"get_bytesAvailable"}});var Nm={exists:function(t,e){return t.exists(e)},get:function(t,e){return t.get(e)},keyValueIterator:function(t){return t.keyValueIterator()},remove:function(t,e){return t.remove(e)},set:function(t,e,i){return t.set(e,i),i},iterator:function(t){return t.keys()},each:function(t){return t.iterator()},toStringMap:function(t,e){return new pr},toIntMap:function(t,e){return new fr},toFloatMap:function(t,e){return new Vm},toEnumValueMapMap:function(t,e){return new za},toObjectMap:function(t,e){return new I},toUtilsObjectMap:function(t,e){return new Gm},toClassMap:function(t,e){return new Om},fromStringMap:function(t){return t},fromIntMap:function(t){return t},fromFloatMap:function(t){return t},fromObjectMap:function(t){return t},fromUtilsObjectMap:function(t){return t},fromClassMap:function(t){return t}},Om=function(){this.types=new pr,this.values=new pr};r["openfl.utils._Dictionary.ClassMap"]=Om,Om.__name__="openfl.utils._Dictionary.ClassMap",Om.__interfaces__=[C],Om.prototype={types:null,values:null,clear:function(){this.types.h=Object.create(null),this.values.h=Object.create(null)},copy:function(){for(var t=new Om,e=this.keys();e.hasNext();){var i=e.next();t.set(i,this.get(i))}return t},exists:function(t){return Object.prototype.hasOwnProperty.call(this.types.h,t.__name__)},get:function(t){return this.values.h[t.__name__]},keyValueIterator:function(){return new ro(this)},keys:function(){return new Ya(this.types.h)},iterator:function(){return new Ya(this.values.h)},remove:function(t){t=t.__name__;var e=this.types;return Object.prototype.hasOwnProperty.call(e.h,t)?(delete e.h[t],e=!0):e=!1,!!e||(e=this.values,!!Object.prototype.hasOwnProperty.call(e.h,t)&&(delete e.h[t],!0))},set:function(t,e){var i=t.__name__;this.types.h[i]=t,this.values.h[i]=e},toString:function(){return pr.stringify(this.values.h)},__class__:Om};var Vm=function(){this.floatKeys=[],this.values=[]};r["openfl.utils._Dictionary.FloatMap"]=Vm,Vm.__name__="openfl.utils._Dictionary.FloatMap",Vm.__interfaces__=[C],Vm.prototype={floatKeys:null,values:null,clear:function(){this.floatKeys=[],this.values=[]},copy:function(){for(var t=new Vm,e=this.keys();e.hasNext();){var i=e.next();t.set(i,this.get(i))}return t},exists:function(t){return-1<this.indexOf(t)},get:function(t){return-1<(t=this.indexOf(t))?this.values[t]:null},keyValueIterator:function(){return new ro(this)},keys:function(){return new no(this.floatKeys.slice())},iterator:function(){return new no(this.values.slice())},remove:function(t){return-1<(t=this.indexOf(t))&&(this.floatKeys.splice(t,1),this.values.splice(t,1),!0)},set:function(t,e){this.insertSorted(t,e)},indexOf:function(t){var e=this.floatKeys.length,i=0,s=e-1;if(0==e)return-1;for(;i<s;){if(e=Math.floor((i+s)/2),this.floatKeys[e]==t)return e;this.floatKeys[e]>t?s=e-1:i=e+1}return this.floatKeys[i]==t?i:-1},insertSorted:function(t,e){var i=this.floatKeys.length,s=0,n=i-1;if(0==i)this.floatKeys.push(t),this.values.push(e);else{for(;s<n;){if(i=Math.floor((s+n)/2),this.floatKeys[i]==t)return void(this.values[i]=e);this.floatKeys[i]>t?n=i-1:s=i+1}this.floatKeys[s]>t?(this.floatKeys.splice(s,0,t),this.values.splice(s,0,e)):this.floatKeys[s]<t?(this.floatKeys.splice(s+1,0,t),this.values.splice(s+1,0,e)):this.values[s]=e}},toString:function(){return this.values.toString()},__class__:Vm};var Gm=function(){this.map=new I};r["openfl.utils._Dictionary.UtilsObjectMap"]=Gm,Gm.__name__="openfl.utils._Dictionary.UtilsObjectMap",Gm.__interfaces__=[C],Gm.prototype={map:null,clear:function(){this.map.h={__keys__:{}}},copy:function(){for(var t=new Gm,e=this.keys();e.hasNext();){var i=e.next();t.set(i,this.get(i))}return t},exists:function(t){return null!=this.map.h.__keys__[t.__id__]},get:function(t){return this.map.h[t.__id__]},keyValueIterator:function(){return new ro(this)},keys:function(){return this.map.keys()},iterator:function(){return this.map.iterator()},remove:function(t){return this.map.remove(t)},set:function(t,e){this.map.set(t,e)},toString:function(){return this.map.toString()},__class__:Gm};var Um={fromLimeEndian:function(t){switch(t._hx_index){case 0:return 1;case 1:return 0}},fromString:function(t){switch(t){case"bigEndian":return 0;case"littleEndian":return 1;default:return null}},toLimeEndian:function(t){switch(t){case 0:return Rh.BIG_ENDIAN;case 1:return Rh.LITTLE_ENDIAN;default:return null}},toString:function(t){switch(t){case 0:return"bigEndian";case 1:return"littleEndian";default:return null}}},zm={_new:function(){return{}},hasOwnProperty:function(t,e){return null!=t&&Object.prototype.hasOwnProperty.call(t,e)},isPrototypeOf:function(t,e){if(null!=t)for(t=vo.getClass(t);null!=t;){if(t==e)return!0;t=t.__super__}return!1},iterator:function(t){if(t instanceof Array)return new no(t);var e=f.fields(t);if(null==e&&(e=[]),t instanceof B)for(var i=0,s=t.get_numChildren();i<s;){var n=i++;null!=(n=t.getChildAt(n).get_name())&&-1==e.indexOf(n)&&e.push(n)}return new no(e)},propertyIsEnumerable:function(t,e){return!(null==t||!Object.prototype.hasOwnProperty.call(t,e))&&vo.__implements(f.field(t,e),Wm)},toLocaleString:function(t){return null==t?null:g.string(t)},toString:function(t){return null==t?null:g.string(t)},valueOf:function(t){return t},__fieldRead:function(t,e){return zm.__get(t,e)},__fieldWrite:function(t,e,i){return null!=t&&f.setProperty(t,e,i),i},__get:function(t,e){if(null==t||null==e)return null;if(Object.prototype.hasOwnProperty.call(t,e))return f.field(t,e);if(t instanceof B){var i=t.getChildByName(e);if(null!=i)return i}return f.getProperty(t,e)},__set:function(t,e,i){return null!=t&&f.setProperty(t,e,i),i},__getArray:function(t,e){return null==t?null:vo.__cast(t,Array)[e]},__setArray:function(t,e,i){return null==t?i:vo.__cast(t,Array)[e]=i},toFunction:function(t){return t},toFloat:function(t){return"number"==typeof t?t:NaN},toInt:function(t){return t},toBool:function(t){return"boolean"==typeof t?t:"number"==typeof t?0!=t:null!=t},__negate:function(t){return-t},__preIncrement:function(t){return++t},__postIncrement:function(t){return t++},__preDecrement:function(t){return--t},__postDecrement:function(t){return t--},__add:function(t,e){return"string"==typeof t||"string"==typeof e?(null==t?null:g.string(t))+(null==e?null:g.string(e)):t+e},__addString:function(t,e){return(null==t?null:g.string(t))+e},__addInt:function(t,e){return t+e},__addFloat:function(t,e){return t+e},__sub:function(t,e){return t-e},__subInt:function(t,e){return t-e},__intSub:function(t,e){return t-e},__subFloat:function(t,e){return t-e},__floatSub:function(t,e){return t-e},__mul:function(t,e){return t*e},__mulInt:function(t,e){return t*e},__mulFloat:function(t,e){return t*e},__div:function(t,e){return t/e},__divInt:function(t,e){return t/e},__intDiv:function(t,e){return t/e},__divFloat:function(t,e){return t/e},__floatDiv:function(t,e){return t/e},__mod:function(t,e){return t%e},__modInt:function(t,e){return t%e},__intMod:function(t,e){return t%e},__modFloat:function(t,e){return t%e},__floatMod:function(t,e){return t%e},__eq:function(t,e){return t==e},__eqDynamic:function(t,e){return t==e},__neq:function(t,e){return t!=e},__neqDynamic:function(t,e){return t!=e},__lt:function(t,e){return t<e},__ltInt:function(t,e){return t<e},__intLt:function(t,e){return t<e},__ltFloat:function(t,e){return t<e},__floatLt:function(t,e){return t<e},__lte:function(t,e){return t<=e},__lteInt:function(t,e){return zm.__lte(t,e)},__intLte:function(t,e){return zm.__lte(t,e)},__lteFloat:function(t,e){return zm.__lte(t,e)},__floatLte:function(t,e){return zm.__lte(t,e)},__gt:function(t,e){return t>e},__gtInt:function(t,e){return zm.__gt(t,e)},__intGt:function(t,e){return t>e},__gtFloat:function(t,e){return zm.__gt(t,e)},__floatGt:function(t,e){return t>e},__gte:function(t,e){return t>=e},__gteInt:function(t,e){return zm.__gte(t,e)},__intGte:function(t,e){return t>=e},__gteFloat:function(t,e){return zm.__gte(t,e)},__floatGte:function(t,e){return t>=e},__complement:function(t){return~t},__and:function(t,e){return t&e},__andInt:function(t,e){return t&e},__or:function(t,e){return t|e},__orInt:function(t,e){return t|e},__xor:function(t,e){return t^e},__xorInt:function(t,e){return t^e},__shr:function(t,e){return t>>e},__shrInt:function(t,e){return t>>e},__intShr:function(t,e){return t>>e},__ushr:function(t,e){return t>>>e},__ushrInt:function(t,e){return t>>>e},__intUshr:function(t,e){return t>>>e},__shl:function(t,e){return t<<e},__shlInt:function(t,e){return t<<e},__intShl:function(t,e){return t<<e}},Hm=function(){};r["haxe.lang.Iterator"]=Hm,Hm.__name__="haxe.lang.Iterator",Hm.__isInterface__=!0,Hm.prototype={hasNext:null,next:null,__class__:Hm};var Wm=function(){};r["haxe.lang.Iterable"]=Wm,Wm.__name__="haxe.lang.Iterable",Wm.__isInterface__=!0,Wm.prototype={iterator:null,__class__:Wm};var Xm=function(){};r["openfl.utils._internal.Lib"]=Xm,Xm.__name__="openfl.utils._internal.Lib",Xm.notImplemented=function(t){var e=t.className+"."+t.methodName;Object.prototype.hasOwnProperty.call(Xm.__sentWarnings.h,e)||(Xm.__sentWarnings.h[e]=!0,d_.warn(t.methodName+" is not implemented",t))};var Ym=function(){this.rollOutStack=[]};r["openfl.utils._internal.TouchData"]=Ym,Ym.__name__="openfl.utils._internal.TouchData",Ym.prototype={rollOutStack:null,touch:null,touchDownTarget:null,touchOverTarget:null,reset:function(){this.touchOverTarget=this.touchDownTarget=this.touch=null,this.rollOutStack.splice(0,this.rollOutStack.length)},__class__:Ym};var jm=function(t,e){var i=this;this.bannerIsOnScreen=this.runningOnMobile=this.videoIsPlaying=!1,this._document=window.document,this._unsafeWindow=this._document.defaultView,this.loader=this._document.createElement("script"),this.loader.src="poki-sdk.js",this._document.head.insertBefore(this.loader,this._document.head.getElementsByTagName("script")[0]),this.tl=this._document.createElement("script"),this.tl.innerHTML="",this._document.body.appendChild(this.tl),this.adContainer=this._document.createElement("div"),this.secondContainer=this._document.createElement("div"),this.secondContainer.id="secondContainer",this.secondContainer.style.marginTop="0",this.secondContainer.style.marginBottom="0",this.secondContainer.style.marginLeft="auto",this.secondContainer.style.marginRight="auto",this.adContainer.id="adContainer",this.adContainer.style.display="flex","ontouchstart"in document.documentElement||window.DocumentTouch&&document instanceof DocumentTouch||"MacIntel"===navigator.platform&&1<navigator.maxTouchPoints&&!window.MSStream||navigator.userAgent.match(/(iPad)/)?this.runningOnMobile=!0:this.runningOnMobile=!1,this.canvas=this._document.getElementById("noncontent"),this.adContainer.appendChild(this.secondContainer),this.canvas.appendChild(this.adContainer),this.loader.addEventListener("load",function(){i._unsafeWindow.PokiSDK.init().then(function(t){e(),i.runningOnMobile&&(i.canvas.getBoundingClientRect(),i.canvas.getBoundingClientRect())}).then(null,function(t){p.adBlocked=!1,e()}),i._unsafeWindow.PokiSDK.setDebug(t)})};r["poki.Poki"]=jm,jm.__name__="poki.Poki",jm.prototype={_document:null,_unsafeWindow:null,canvas:null,loader:null,adContainer:null,secondContainer:null,tl:null,runningOnMobile:null,bannerIsOnScreen:null,videoIsPlaying:null,isMobileGame:function(){return this.runningOnMobile},IsVideoPlaying:function(){return this.videoIsPlaying},showBanner:function(t,e,i,s){if(null==s&&(s=!1),0==this.bannerIsOnScreen){this.bannerIsOnScreen=!0;var n=this._document.getElementById("adContainer");n.style.position="relative",n.style.transform="translate(0px, -100vh)",this.secondContainer.style.marginTop="0",this.secondContainer.style.marginBottom="0",this.secondContainer.style.marginLeft="auto",this.secondContainer.style.marginRight="auto",this.runningOnMobile?(n.style.top=e+"px",s&&(t=this._unsafeWindow.innerWidth,this.secondContainer.style.marginRight=((t/2-300)/2|0)+"px"),this._unsafeWindow.PokiSDK.displayAd(this.secondContainer,"320x50")):728==i?(n.style.top=t+"px",n.style.left="0px",1220>=this._unsafeWindow.innerWidth?(t=this._unsafeWindow.innerWidth,this.secondContainer.style.marginRight=(t/2-150|0)+"px",this._unsafeWindow.PokiSDK.displayAd(this.secondContainer,"320x50")):this._unsafeWindow.PokiSDK.displayAd(this.secondContainer,"728x90")):300==i?(n.style.top=t+"px",t=this._unsafeWindow.innerWidth,this.secondContainer.style.marginRight=((t/2-300)/2|0)+"px",this._unsafeWindow.PokiSDK.displayAd(this.secondContainer,"300x250")):320==i&&(n.style.top=t+"px",this._unsafeWindow.PokiSDK.displayAd(this.secondContainer,"320x50"))}},moveBanner:function(t){if(this.bannerIsOnScreen){this.secondContainer.getBoundingClientRect();var e=this._document.getElementById("adContainer");e.style.right=e.style.right+t+"px"}},killBanner:function(){if(1==this.bannerIsOnScreen){this.bannerIsOnScreen=!1;var t=this._document.getElementById("secondContainer");this._unsafeWindow.PokiSDK.destroyAd(t)}},gameLoadingStart:function(){this._unsafeWindow.PokiSDK.gameLoadingStart()},gameLoadingFinished:function(){this._unsafeWindow.PokiSDK.gameLoadingFinished()},gameLoadingProgress:function(t){this._unsafeWindow.PokiSDK.gameLoadingProgress(t)},commercialBreak:function(t){var e=this;this.videoIsPlaying=!0,this._unsafeWindow.PokiSDK.commercialBreak().then(function(i){e.videoIsPlaying=!1,t()})},rewardedBreak:function(t){var e=this;this.videoIsPlaying=!0,this._unsafeWindow.PokiSDK.rewardedBreak().then(function(i){1==i&&0==p.adBlocked?(e.videoIsPlaying=!1,t()):e.videoIsPlaying=!1})},sendHappyTime:function(t){this._unsafeWindow.PokiSDK.happyTime(t)},sendGameplayStart:function(){this._unsafeWindow.PokiSDK.gameplayStart()},sendGameplayStop:function(){this._unsafeWindow.PokiSDK.gameplayStop()},__class__:jm};var Km=function(){};r["polygonal.ds.Cloneable"]=Km,Km.__name__="polygonal.ds.Cloneable",Km.__isInterface__=!0,Km.prototype={clone:null,__class__:Km};var Jm=function(){};r["polygonal.ds.Hashable"]=Jm,Jm.__name__="polygonal.ds.Hashable",Jm.__isInterface__=!0,Jm.prototype={key:null,__class__:Jm};var Zm=function(){};r["polygonal.ds.Collection"]=Zm,Zm.__name__="polygonal.ds.Collection",Zm.__isInterface__=!0,Zm.__interfaces__=[Jm],Zm.prototype={get_size:null,free:null,contains:null,remove:null,clear:null,iterator:null,isEmpty:null,toArray:null,clone:null,__class__:Zm,__properties__:{get_size:"get_size"}};var Qm=function(){};r["polygonal.ds.HashKey"]=Qm,Qm.__name__="polygonal.ds.HashKey",Qm.next=function(){return null==Qm._counter&&(Qm._counter=0),wp._assert(Qm._counter<Qm._counter+1,"_counter < _counter + 1",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/HashKey.hx",lineNumber:44,className:"polygonal.ds.HashKey",methodName:"next"}),Qm._counter++};var qm=function(){};r["polygonal.ds.Map"]=qm,qm.__name__="polygonal.ds.Map",qm.__isInterface__=!0,qm.__interfaces__=[Zm],qm.prototype={has:null,hasKey:null,get:null,set:null,unset:null,remap:null,toValSet:null,toKeySet:null,keys:null,__class__:qm};var $m=function(t,e){null==e&&(e=-1),this.mTmpKeyBuffer=[],this.mTmpIntBuffer=[],this.mIterator=null,this.mFree=this.mSize=0,this.reuseIterator=!1,this.key=Qm.next(),wp._assert(0<t,"slotCount > 0",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/HashTable.hx",lineNumber:158,className:"polygonal.ds.HashTable",methodName:"new"}),-1==e&&(e=t),2>e&&(e=2),this.mMinCapacity=this.capacity=e,this.mH=new lp(t,this.capacity),this.mKeys=Array(this.capacity),this.mVals=Array(this.capacity),t=this.mNext=Array(this.capacity),e=0;for(var i=this.capacity-1;e<i;){var s=e++;t[s]=s+1}t[this.capacity-1]=-1};r["polygonal.ds.HashTable"]=$m,$m.__name__="polygonal.ds.HashTable",$m.__interfaces__=[qm],$m.prototype={key:null,capacity:null,get_loadFactor:function(){return this.mH.get_loadFactor()},get_slotCount:function(){return this.mH.slotCount},reuseIterator:null,get_growthRate:function(){return this.mH.growthRate},set_growthRate:function(t){return this.mH.growthRate=t},mH:null,mKeys:null,mVals:null,mNext:null,mFree:null,mSize:null,mMinCapacity:null,mIterator:null,mTmpIntBuffer:null,mTmpKeyBuffer:null,getCollisionCount:function(){return this.mH.getCollisionCount()},getFront:function(t){var e=this.mH,i=73856093*(t=t.key)&e.mMask,s=e.mHash[i];if(-1==s)e=-2147483648;else{var n=e.mData;if(n[s]==t)e=n[s+1];else{var r=-2147483648,a=s,o=a;for(s=n[s+2];-1!=s;){if(n[s]==t){r=n[s+1],n[o+2]=n[s+2],n[s+2]=a,e.mHash[i]=s;break}s=n[(o=s)+2]}e=r}}return-2147483648==e?null:this.mVals[e]},setIfAbsent:function(t,e){wp._assert(null!=t,"key != null",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/HashTable.hx",lineNumber:210,className:"polygonal.ds.HashTable",methodName:"setIfAbsent"}),this.mSize==this.capacity&&this.grow();var i=this.mFree,s=this.mH,n=t.key;wp._assert(-2147483648!=i,"val 0x80000000 is reserved(val != KEY_ABSENT)",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/IntIntHashTable.hx",lineNumber:291,className:"polygonal.ds.IntIntHashTable",methodName:"setIfAbsent"});var r=73856093*n&s.mMask,a=s.mData,o=s.mHash[r];if(-1==o){s.mSize==s.capacity&&(s.grow(),a=s.mData);var l=3*s.mFree;s.mFree=s.mNext[s.mFree],s.mHash[r]=l,a[l]=n,a[l+1]=i,s.mSize++,s=!0}else if(a[o]==n)s=!1;else{for(r=a[o+2];-1!=r;){if(a[r]==n){o=-1;break}r=a[(o=r)+2]}-1==o?s=!1:(s.mSize==s.capacity&&(s.grow(),a=s.mData),l=3*s.mFree,s.mFree=s.mNext[s.mFree],a[o+2]=l,a[l]=n,a[l+1]=i,s.mSize++,s=!0)}return!!s&&(this.mVals[i]=e,this.mKeys[i]=t,this.mFree=this.mNext[i],this.mSize++,!0)},rehash:function(t){return this.mH.rehash(t),this},remap:function(t,e){wp._assert(null!=t,"key != null",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/HashTable.hx",lineNumber:244,className:"polygonal.ds.HashTable",methodName:"remap"});var i=this.mH;t=t.key;var s=i.mHash[73856093*t&i.mMask];if(-1==s)t=-2147483648;else if((i=i.mData)[s]==t)t=i[s+1];else{var n=-2147483648;for(s=i[s+2];-1!=s;){if(i[s]==t){n=i[s+1];break}s=i[s+2]}t=n}return-2147483648!=t&&(this.mVals[t]=e,!0)},toKeyArray:function(){if(0==this.mSize)return[];var t=this.mSize;wp._assert(0<=t,"len >= 0",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:37,className:"polygonal.ds.tools.ArrayTools",methodName:"alloc"}),t=Array(t);for(var e,i=0,s=this.mKeys,n=0,r=this.capacity;n<r;)null!=(e=s[e=n++])&&(t[i++]=e);return t},pack:function(){if(this.mH.pack(),this.mH.capacity==this.capacity)return this;this.capacity=this.mH.capacity;for(var t=this.mNext=Array(this.capacity),e=0,i=this.capacity-1;e<i;){var s=e++;t[s]=s+1}t[this.capacity-1]=-1,this.mFree=0,e=this.mKeys,t=Array(this.capacity),i=this.mVals;var n=Array(this.capacity),r=this.mFree;for(s=this.mH.iterator();s.hasNext();){var a=s.next();t[r]=e[a],n[r]=i[a],r=this.mNext[r]}for(this.mFree=r,this.mKeys=t,this.mVals=n,e=0,i=this.mSize;e<i;)if(s=e++,r=this.mH,n=t[s].key,-1!=(a=r.mHash[73856093*n&r.mMask]))if((r=r.mData)[a]==n)r[a+1]=s;else for(a=r[a+2];-1!=a;){if(r[a]==n){r[a+1]=s;break}a=r[a+2]}return this},iter:function(t){wp._assert(null!=t,"f != null",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/HashTable.hx",lineNumber:322,className:"polygonal.ds.HashTable",methodName:"iter"});for(var e,i=this.mH.mData,s=this.mVals,n=this.mKeys,r=0,a=this.mH.capacity;r<a;)-2147483648!=(e=i[3*(e=r++)+1])&&t(n[e],s[e]);return this},toString:function(){var t=""+g.string(dp.format("[ HashTable size="+this.mSize+" capacity="+this.capacity+" load=%.2f",[this.get_loadFactor()]));if(0==this.mSize)return t+" ]";t+="\n";for(var e=0,i=this.keys();i.hasNext();){var s=i.next(),n=g.string(s).length;e<=n&&(e=n)}n=[],e="  %- "+e+"s -> %s\n";var r=[];for(i=this.keys();i.hasNext();)s=i.next(),r.push(s);r.sort(function(t,e){return t.key-e.key});var a=1,o=r.length;for(i=0,s=1;a<o;){if(r[i]==r[a])++s;else{if(i=r[i],n[0]=i,1<s)s=[],this.getAll(i,s),n[1]=s.join(",");else{wp._assert(null!=i,"key != null",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/HashTable.hx",lineNumber:449,className:"polygonal.ds.HashTable",methodName:"get"});var l=this.mH;if(s=i.key,-1==(i=l.mHash[73856093*s&l.mMask]))i=-2147483648;else if((l=l.mData)[i]==s)i=l[i+1];else{var h=-2147483648;for(i=l[i+2];-1!=i;){if(l[i]==s){h=l[i+1];break}i=l[i+2]}i=h}n[1]=g.string(-2147483648==i?null:this.mVals[i])}t+=g.string(dp.format(e,n)),i=a,s=1}++a}if(i=r[i],n[0]=i,1<s)s=[],this.getAll(i,s),n[1]=s.join(",");else{if(wp._assert(null!=i,"key != null",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/HashTable.hx",lineNumber:449,className:"polygonal.ds.HashTable",methodName:"get"}),l=this.mH,s=i.key,-1==(a=l.mHash[73856093*s&l.mMask]))i=-2147483648;else if((l=l.mData)[a]==s)i=l[a+1];else{for(h=-2147483648,a=l[a+2];-1!=a;){if(l[a]==s){h=l[a+1];break}a=l[a+2]}i=h}n[1]=g.string(-2147483648==i?null:this.mVals[i])}return(t+=g.string(dp.format(e,n)))+"]"},grow:function(){var t=this.capacity;this.capacity=Sp.compute(this.get_growthRate(),this.capacity);var e=Array(this.capacity);Rp.blit(this.mNext,0,e,0,t),e=this.mNext=e;for(var i=t-1,s=this.capacity-1;i<s;){var n=i++;e[n]=n+1}e[this.capacity-1]=-1,this.mFree=t,e=Array(this.capacity),Rp.blit(this.mVals,0,e,0,t),this.mVals=e,e=Array(this.capacity),Rp.blit(this.mKeys,0,e,0,t),this.mKeys=e},has:function(t){for(var e=this.mKeys,i=this.mVals,s=0,n=this.capacity;s<n;){var r=s++;if(null!=e[r]&&i[r]==t)return!0}return!1},hasKey:function(t){wp._assert(null!=t,"key != null",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/HashTable.hx",lineNumber:439,className:"polygonal.ds.HashTable",methodName:"hasKey"});var e=this.mH;t=t.key;var i=e.mHash[73856093*t&e.mMask];if(-1==i)return!1;if((e=e.mData)[i]==t)return!0;var s=!1;for(i=e[i+2];-1!=i;){if(e[i]==t){s=!0;break}i=e[i+2]}return s},get:function(t){wp._assert(null!=t,"key != null",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/HashTable.hx",lineNumber:449,className:"polygonal.ds.HashTable",methodName:"get"});var e=this.mH;t=t.key;var i=e.mHash[73856093*t&e.mMask];if(-1==i)t=-2147483648;else if((e=e.mData)[i]==t)t=e[i+1];else{var s=-2147483648;for(i=e[i+2];-1!=i;){if(e[i]==t){s=e[i+1];break}i=e[i+2]}t=s}return-2147483648==t?null:this.mVals[t]},getAll:function(t,e){var i=this.mH,s=t.key,n=i.mHash[73856093*s&i.mMask];if(-1==n)i=-2147483648;else{var r=i.mData;if(r[n]==s)i=r[n+1];else for(i=-2147483648,n=r[n+2];-1!=n;){if(r[n]==s){i=r[n+1];break}n=r[n+2]}}if(-2147483648==i)return 0;for(s=this.mTmpIntBuffer,t=this.mH.getAll(t.key,s),i=this.mVals,n=0;n<t;)e[r=n++]=i[s[r]];return t},set:function(t,e){wp._assert(null!=t,"key != null",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/HashTable.hx",lineNumber:483,className:"polygonal.ds.HashTable",methodName:"set"}),this.mSize==this.capacity&&this.grow();var i=this.mFree,s=this.mH,n=t.key;wp._assert(-2147483648!=i,"val 0x80000000 is reserved(val != KEY_ABSENT)",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/IntIntHashTable.hx",lineNumber:1046,className:"polygonal.ds.IntIntHashTable",methodName:"set"}),s.mSize==s.capacity&&s.grow();var r=s.mData,a=s.mHash,o=3*s.mFree;s.mFree=s.mNext[s.mFree],r[o]=n,r[o+1]=i;var l=73856093*n&s.mMask,h=a[l];if(-1==h)a[l]=o,s.mSize++,s=!0;else{for(a=r[h]!=n,l=r[h+2];-1!=l;)r[l]==n&&(a=!1),h=l,l=r[l+2];r[h+2]=o,s.mSize++,s=a}return this.mVals[i]=e,this.mKeys[i]=t,this.mFree=this.mNext[i],this.mSize++,s},unset:function(t){var e=this.mH,i=t.key,s=e.mHash[73856093*i&e.mMask];if(-1==s)s=-2147483648;else{var n=e.mData;if(n[s]==i)s=n[s+1];else{for(e=-2147483648,s=n[s+2];-1!=s;){if(n[s]==i){e=n[s+1];break}s=n[s+2]}s=e}}if(-2147483648==s)return!1;this.mKeys[s]=null,this.mNext[s]=this.mFree,this.mFree=s,e=this.mH,t=73856093*(i=t.key)&e.mMask;var r=e.mHash;if(-1!=(s=r[t]))if(i==(n=e.mData)[s])r[t]=-1==n[s+2]?-1:n[s+2],i=s/3|0,e.mNext[i]=e.mFree,e.mFree=i,n[s+1]=-2147483648,n[s+2]=-1,e.mSize--;else{for(t=!1,r=s,s=n[s+2];-1!=s;){if(n[s]==i){t=!0;break}s=n[(r=s)+2]}t&&(n[r+2]=n[s+2],i=s/3|0,e.mNext[i]=e.mFree,e.mFree=i,n[s+1]=-2147483648,n[s+2]=-1,e.mSize--)}return this.mSize--,!0},toValSet:function(){for(var t=new cp,e=this.mKeys,i=this.mVals,s=0,n=this.capacity;s<n;){var r=s++;null!=e[r]&&t.set(i[r])}return t},toKeySet:function(){for(var t,e=new cp,i=this.mKeys,s=0,n=this.capacity;s<n;)null!=(t=i[t=s++])&&e.set(t);return e},keys:function(){return new ep(this)},get_size:function(){return this.mSize},free:function(){Rp.nullify(this.mVals),this.mVals=null,Rp.nullify(this.mKeys),this.mNext=this.mKeys=null,this.mH.free(),this.mH=null,null!=this.mIterator&&(this.mIterator.free(),this.mIterator=null),this.mTmpKeyBuffer=this.mTmpIntBuffer=null},contains:function(t){return this.has(t)},remove:function(t){for(var e,i=this.mTmpKeyBuffer,s=this.mKeys,n=this.mVals,r=0,a=0,o=this.capacity;a<o;){var l=a++;null!=(e=s[l])&&n[l]==t&&(i[r++]=e)}for(a=0,o=r;a<o;)l=a++,this.unset(i[l]),i[l]=null;return 0<r},clear:function(t){null==t&&(t=!1),this.mH.clear(t),Rp.init(this.mKeys,null,0,this.capacity),Rp.init(this.mVals,null,0,this.capacity),t=this.mNext;for(var e=0,i=this.capacity-1;e<i;){var s=e++;t[s]=s+1}t[this.capacity-1]=-1,this.mSize=this.mFree=0},iterator:function(){return this.reuseIterator?(null==this.mIterator?this.mIterator=new ip(this):this.mIterator.reset(),this.mIterator):new ip(this)},isEmpty:function(){return 0==this.mSize},toArray:function(){if(0==this.mSize)return[];var t=this.mSize;wp._assert(0<=t,"len >= 0",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:37,className:"polygonal.ds.tools.ArrayTools",methodName:"alloc"}),t=Array(t);for(var e=0,i=this.mKeys,s=this.mVals,n=0,r=this.capacity;n<r;){var a=n++;null!=i[a]&&(t[e++]=s[a])}return t},clone:function(t,e){null==t&&(t=!0);var i=new $m(this.mH.slotCount,this.mSize);i.mH=this.mH.clone(),i.mSize=this.mSize,i.mFree=this.mFree;var s=this.mVals,n=i.mVals,r=this.mKeys;if(Rp.blit(r,0,i.mKeys,0,this.mSize),t)Rp.blit(s,0,n,0,this.mSize);else if(null!=e){t=0;for(var a=this.mSize;t<a;){var o=t++;n[o]=null!=r[o]?e(s[o]):null}}else for(t=0,a=this.mSize;t<a;)null!=r[o=t++]?(wp._assert(vo.__implements(s[o],Km),"element is not of type Cloneable(Std.isOfType(srcVals.get(i), Cloneable))",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/HashTable.hx",lineNumber:735,className:"polygonal.ds.HashTable",methodName:"clone"}),n[o]=vo.__cast(s[o],Km).clone()):n[o]=null;return Rp.blit(this.mNext,0,i.mNext,0,this.mSize),i},__class__:$m,__properties__:{get_size:"get_size",set_growthRate:"set_growthRate",get_growthRate:"get_growthRate",get_slotCount:"get_slotCount",get_loadFactor:"get_loadFactor"}};var tp=function(){};r["polygonal.ds.Itr"]=tp,tp.__name__="polygonal.ds.Itr",tp.__isInterface__=!0,tp.prototype={hasNext:null,next:null,remove:null,reset:null,__class__:tp};var ep=function(t){this.mObject=t,this.reset()};r["polygonal.ds.HashTableKeyIterator"]=ep,ep.__name__="polygonal.ds.HashTableKeyIterator",ep.__interfaces__=[tp],ep.prototype={mObject:null,mKeys:null,mI:null,mS:null,free:function(){this.mKeys=this.mObject=null},reset:function(){for(this.mKeys=this.mObject.mKeys,this.mS=this.mObject.mH.capacity,this.mI=0;this.mI<this.mS&&null==this.mKeys[this.mI];)this.mI++;return this},hasNext:function(){return this.mI<this.mS},next:function(){for(var t=this.mKeys[this.mI];++this.mI<this.mS&&null==this.mKeys[this.mI];);return t},remove:function(){throw wa.thrown("unsupported operation")},__class__:ep};var ip=function(t){this.mObject=t,this.reset()};r["polygonal.ds.HashTableValIterator"]=ip,ip.__name__="polygonal.ds.HashTableValIterator",ip.__interfaces__=[tp],ip.prototype={mObject:null,mKeys:null,mVals:null,mI:null,mS:null,free:function(){this.mVals=this.mKeys=this.mObject=null},reset:function(){for(this.mVals=this.mObject.mVals,this.mKeys=this.mObject.mKeys,this.mS=this.mObject.mH.capacity,this.mI=0;this.mI<this.mS&&null==this.mKeys[this.mI];)this.mI++;return this},hasNext:function(){return this.mI<this.mS},next:function(){for(var t=this.mVals[this.mI];++this.mI<this.mS&&null==this.mKeys[this.mI];);return t},remove:function(){throw wa.thrown("unsupported operation")},__class__:ip};var sp=function(){};r["polygonal.ds.Set"]=sp,sp.__name__="polygonal.ds.Set",sp.__isInterface__=!0,sp.__interfaces__=[Zm],sp.prototype={has:null,set:null,unset:null,__class__:sp};var np=function(t,e){null==e&&(e=-1),this.mFree=this.mSize=0,this.reuseIterator=!1,this.growthRate=-3,this.key=Qm.next(),wp._assert(0<t,"slotCount > 0",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/IntHashSet.hx",lineNumber:138,className:"polygonal.ds.IntHashSet",methodName:"new"}),wp._assert(0<t&&!(t&t-1),"slotCount is not a power of 2(MathTools.isPow2(slotCount))",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/IntHashSet.hx",lineNumber:139,className:"polygonal.ds.IntHashSet",methodName:"new"}),-1==e&&(e=t),2>e&&(e=2),this.mMinCapacity=this.capacity=e,this.slotCount=t,this.mMask=t-1,this.mHash=Rp.init(Array(t),-1),this.mData=Array(this.capacity<<1),this.mNext=Array(this.capacity);var i=1;t=this.mData,e=0;for(var s=this.capacity;e<s;)e++,t[i-1]=-2147483648,t[i]=-1,i+=2;for(t=this.mNext,e=0,s=this.capacity-1;e<s;)t[i=e++]=i+1;t[this.capacity-1]=-1};r["polygonal.ds.IntHashSet"]=np,np.__name__="polygonal.ds.IntHashSet",np.__interfaces__=[sp],np.prototype={key:null,capacity:null,growthRate:null,reuseIterator:null,get_loadFactor:function(){return this.mSize/this.slotCount},slotCount:null,mHash:null,mData:null,mNext:null,mMask:null,mFree:null,mSize:null,mMinCapacity:null,mIterator:null,getCollisionCount:function(){for(var t,e=0,i=this.mData,s=this.mHash,n=0,r=this.slotCount;n<r;)if(-1!=(t=s[t=n++]))for(t=i[t+1];-1!=t;)t=i[t+1],++e;return e},hasFront:function(t){wp._assert(-2147483648!=t,"value 0x80000000 is reserved(val != VAL_ABSENT)",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/IntHashSet.hx",lineNumber:203,className:"polygonal.ds.IntHashSet",methodName:"hasFront"});var e=73856093*t&this.mMask,i=this.mHash[e];if(-1==i)return!1;var s=this.mData;if(s[i]==t)return!0;var n=!1,r=i,a=r;for(i=s[i+1];-1!=i;){if(s[i]==t){s[a+1]=s[i+1],s[i+1]=r,s[e]=i,n=!0;break}i=s[(a=i)+1]}return n},rehash:function(t){if(wp._assert(0<t&&!(t&t-1),"slotCount is not a power of 2(MathTools.isPow2(slotCount))",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/IntHashSet.hx",lineNumber:270,className:"polygonal.ds.IntHashSet",methodName:"rehash"}),this.slotCount==t)return this;for(var e=new np(t,this.capacity),i=this.mData,s=0,n=this.capacity;s<n;){var r=s++;if(-2147483648!=(r=i[r<<1])){wp._assert(-2147483648!=r,"value 0x80000000 is reserved(val != VAL_ABSENT)",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/IntHashSet.hx",lineNumber:521,className:"polygonal.ds.IntHashSet",methodName:"set"});var a=73856093*r&e.mMask,o=e.mData,l=e.mHash[a];if(-1==l)e.mSize==e.capacity&&(e.grow(),o=e.mData),l=e.mFree<<1,e.mFree=e.mNext[e.mFree],e.mHash[a]=l,o[l]=r,e.mSize++;else if(o[l]!=r){for(a=o[l+1];-1!=a;){if(o[a]==r){l=-1;break}l=a,a=o[a+1]}-1!=l&&(e.mSize==e.capacity&&(e.grow(),o=e.mData),a=e.mFree<<1,e.mFree=e.mNext[e.mFree],o[a]=r,o[l+1]=a,e.mSize++)}}}return this.mHash=e.mHash,this.mData=e.mData,this.mNext=e.mNext,this.slotCount=t,this.mMask=e.mMask,this.mFree=e.mFree,this},pack:function(){if(this.capacity==this.mMinCapacity)return this;var t=this.mSize,e=this.mMinCapacity;this.capacity=t>e?t:e;var i=this.mData,s=0,n=this.mHash,r=Array(this.capacity<<1);for(t=0,e=this.slotCount;t<e;){var a=t++,o=n[a];if(-1!=o)for(n[a]=s,r[s++]=i[o],r[s++]=-1,o=i[o+1];-1!=o;)r[s-1]=s,r[s++]=i[o],r[s++]=-1,o=i[o+1]}for(this.mData=r,i=this.mNext=Array(this.capacity),t=0,e=this.capacity-1;t<e;)i[a=t++]=a+1;return this.mFree=i[this.capacity-1]=-1,this},iter:function(t){wp._assert(null!=t,"f != null",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/IntHashSet.hx",lineNumber:384,className:"polygonal.ds.IntHashSet",methodName:"iter"});for(var e,i=this.mData,s=0,n=this.capacity;s<n;)-2147483648!=i[e=s++<<1]&&t(i[e]);return this},toString:function(){var t=""+g.string(dp.format("[ IntHashSet size="+this.mSize+" capacity="+this.capacity+" load=%.2f",[this.get_loadFactor()]));if(0==this.mSize)return t+" ]";t+="\n";for(var e=this.iterator();e.hasNext();){var i=e.next();t+=g.string("  "+i+"\n")}return t+"]"},hashCode:function(t){return 73856093*t&this.mMask},grow:function(){var t=this.capacity;this.capacity=Sp.compute(this.growthRate,this.capacity);var e=Array(this.capacity);Rp.blit(this.mNext,0,e,0,t),this.mNext=e,e=Array(this.capacity<<1),Rp.blit(this.mData,0,e,0,t<<1),this.mData=e,e=this.mNext;for(var i=t-1,s=this.capacity-1;i<s;){var n=i++;e[n]=n+1}for(e[this.capacity-1]=-1,this.mFree=t,n=t<<1,e=this.mData,i=0,s=this.capacity-t;i<s;)i++,e[n]=-2147483648,e[n+1]=-1,n+=2},has:function(t){wp._assert(-2147483648!=t,"value 0x80000000 is reserved(val != VAL_ABSENT)",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/IntHashSet.hx",lineNumber:467,className:"polygonal.ds.IntHashSet",methodName:"has"});var e=this.mHash[73856093*t&this.mMask];if(-1==e)return!1;var i=this.mData;if(i[e]==t)return!0;var s=!1;for(e=i[e+1];-1!=e;){if(i[e]==t){s=!0;break}e=i[e+1]}return s},set:function(t){wp._assert(-2147483648!=t,"value 0x80000000 is reserved(val != VAL_ABSENT)",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/IntHashSet.hx",lineNumber:521,className:"polygonal.ds.IntHashSet",methodName:"set"});var e=73856093*t&this.mMask,i=this.mData,s=this.mHash[e];if(-1==s)return this.mSize==this.capacity&&(this.grow(),i=this.mData),s=this.mFree<<1,this.mFree=this.mNext[this.mFree],this.mHash[e]=s,i[s]=t,this.mSize++,!0;if(i[s]==t)return!1;for(e=i[s+1];-1!=e;){if(i[e]==t){s=-1;break}s=e,e=i[e+1]}return-1!=s&&(this.mSize==this.capacity&&(this.grow(),i=this.mData),e=this.mFree<<1,this.mFree=this.mNext[this.mFree],i[e]=t,i[s+1]=e,this.mSize++,!0)},unset:function(t){var e=73856093*t&this.mMask,i=this.mHash[e];if(-1==i)return!1;var s=this.mData;if(t==s[i])return this.mHash[e]=-1==s[i+1]?-1:s[i+1],t=i>>1,this.mNext[t]=this.mFree,this.mFree=t,s[i]=-2147483648,s[i+1]=-1,this.mSize--,!0;e=!1;var n=i;for(i=s[i+1];-1!=i;){if(s[i]==t){e=!0;break}i=s[(n=i)+1]}return!!e&&(s[n+1]=s[i+1],t=i>>1,this.mNext[t]=this.mFree,this.mFree=t,s[i]=-2147483648,s[i+1]=-1,--this.mSize,!0)},get_size:function(){return this.mSize},free:function(){this.mNext=this.mData=this.mHash=null,null!=this.mIterator&&(this.mIterator.free(),this.mIterator=null)},contains:function(t){wp._assert(-2147483648!=t,"value 0x80000000 is reserved(val != VAL_ABSENT)",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/IntHashSet.hx",lineNumber:467,className:"polygonal.ds.IntHashSet",methodName:"has"});var e=this.mHash[73856093*t&this.mMask];if(-1==e)return!1;var i=this.mData;if(i[e]==t)return!0;var s=!1;for(e=i[e+1];-1!=e;){if(i[e]==t){s=!0;break}e=i[e+1]}return s},remove:function(t){var e=73856093*t&this.mMask,i=this.mHash[e];if(-1==i)return!1;var s=this.mData;if(t==s[i])return this.mHash[e]=-1==s[i+1]?-1:s[i+1],t=i>>1,this.mNext[t]=this.mFree,this.mFree=t,s[i]=-2147483648,s[i+1]=-1,this.mSize--,!0;e=!1;var n=i;for(i=s[i+1];-1!=i;){if(s[i]==t){e=!0;break}i=s[(n=i)+1]}return!!e&&(s[n+1]=s[i+1],t=i>>1,this.mNext[t]=this.mFree,this.mFree=t,s[i]=-2147483648,s[i+1]=-1,--this.mSize,!0)},clear:function(t){var e=this.mHash;t=0;for(var i=this.slotCount;t<i;){var s=t++;e[s]=-1}for(s=1,e=this.mData,t=0,i=this.capacity;t<i;)t++,e[s-1]=-2147483648,e[s]=-1,s+=2;for(e=this.mNext,t=0,i=this.capacity-1;t<i;)e[s=t++]=s+1;e[this.capacity-1]=-1,this.mSize=this.mFree=0},iterator:function(){return this.reuseIterator?(null==this.mIterator?this.mIterator=new rp(this):this.mIterator.reset(),this.mIterator):new rp(this)},isEmpty:function(){return 0==this.mSize},toArray:function(){if(0==this.mSize)return[];var t=this.mSize;wp._assert(0<=t,"len >= 0",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:37,className:"polygonal.ds.tools.ArrayTools",methodName:"alloc"}),t=Array(t);for(var e,i=0,s=this.mData,n=0,r=this.capacity;n<r;)-2147483648!=(e=s[(e=n++)<<1])&&(t[i++]=e);return t},clone:function(t,e){return t=new np(this.slotCount,this.mSize),Rp.blit(this.mHash,0,t.mHash,0,this.slotCount),Rp.blit(this.mData,0,t.mData,0,this.mSize<<1),Rp.blit(this.mNext,0,t.mNext,0,this.mSize),t.mMask=this.mMask,t.slotCount=this.slotCount,t.capacity=this.capacity,t.mFree=this.mFree,t.mSize=this.mSize,t},__class__:np,__properties__:{get_size:"get_size",get_loadFactor:"get_loadFactor"}};var rp=function(t){this.mObject=t,this.mData=t.mData,this.mI=0,this.mS=t.capacity,this.scan()};r["polygonal.ds.IntHashSetIterator"]=rp,rp.__name__="polygonal.ds.IntHashSetIterator",rp.__interfaces__=[tp],rp.prototype={mObject:null,mI:null,mS:null,mData:null,free:function(){this.mData=this.mObject=null},reset:function(){return this.mData=this.mObject.mData,this.mI=0,this.mS=this.mObject.capacity,this.scan(),this},hasNext:function(){return this.mI<this.mS},next:function(){var t=this.mData[this.mI++<<1];return this.scan(),t},remove:function(){throw wa.thrown("unsupported operation")},scan:function(){for(;this.mI<this.mS&&-2147483648==this.mData[this.mI<<1];)this.mI++},__class__:rp};var ap=function(t,e){null==e&&(e=-1),this.mTmpKeyBuffer=[],this.mIterator=null,this.mFree=this.mSize=0,this.reuseIterator=!1,this.key=Qm.next(),wp._assert(0<t,"slotCount > 0",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/IntHashTable.hx",lineNumber:158,className:"polygonal.ds.IntHashTable",methodName:"new"}),-1==e&&(e=t),2>e&&(e=2),this.mMinCapacity=this.capacity=e,this.mH=new lp(t,this.capacity),this.mVals=Array(this.capacity),this.mNext=Array(this.capacity),this.mKeys=Rp.init(Array(this.capacity),-2147483648,0,this.capacity),t=this.mNext,e=0;for(var i=this.capacity-1;e<i;){var s=e++;t[s]=s+1}t[this.capacity-1]=-1};r["polygonal.ds.IntHashTable"]=ap,ap.__name__="polygonal.ds.IntHashTable",ap.__interfaces__=[qm],ap.prototype={key:null,capacity:null,get_growthRate:function(){return this.mH.growthRate},set_growthRate:function(t){return this.mH.growthRate=t},reuseIterator:null,get_loadFactor:function(){return this.mH.get_loadFactor()},get_slotCount:function(){return this.mH.slotCount},mH:null,mVals:null,mNext:null,mKeys:null,mFree:null,mSize:null,mMinCapacity:null,mShrinkSize:null,mIterator:null,mTmpKeyBuffer:null,getCollisionCount:function(){return this.mH.getCollisionCount()},getFront:function(t){var e=this.mH,i=73856093*t&e.mMask,s=e.mHash[i];if(-1==s)t=-2147483648;else{var n=e.mData;if(n[s]==t)t=n[s+1];else{var r=-2147483648,a=s,o=a;for(s=n[s+2];-1!=s;){if(n[s]==t){r=n[s+1],n[o+2]=n[s+2],n[s+2]=a,e.mHash[i]=s;break}s=n[(o=s)+2]}t=r}}return-2147483648==t?null:this.mVals[t]},setIfAbsent:function(t,e){wp._assert(-2147483648!=t,"key 0x80000000 is reserved(key != IntIntHashTable.KEY_ABSENT)",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/IntHashTable.hx",lineNumber:212,className:"polygonal.ds.IntHashTable",methodName:"setIfAbsent"}),this.mSize==this.capacity&&this.grow();var i=this.mFree,s=this.mH;wp._assert(-2147483648!=i,"val 0x80000000 is reserved(val != KEY_ABSENT)",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/IntIntHashTable.hx",lineNumber:291,className:"polygonal.ds.IntIntHashTable",methodName:"setIfAbsent"});var n=73856093*t&s.mMask,r=s.mData,a=s.mHash[n];if(-1==a){s.mSize==s.capacity&&(s.grow(),r=s.mData);var o=3*s.mFree;s.mFree=s.mNext[s.mFree],s.mHash[n]=o,r[o]=t,r[o+1]=i,s.mSize++,s=!0}else if(r[a]==t)s=!1;else{for(n=r[a+2];-1!=n;){if(r[n]==t){a=-1;break}n=r[(a=n)+2]}-1==a?s=!1:(s.mSize==s.capacity&&(s.grow(),r=s.mData),o=3*s.mFree,s.mFree=s.mNext[s.mFree],r[a+2]=o,r[o]=t,r[o+1]=i,s.mSize++,s=!0)}return!!s&&(this.mVals[i]=e,this.mKeys[i]=t,this.mFree=this.mNext[i],this.mSize++,!0)},rehash:function(t){return this.mH.rehash(t),this},remap:function(t,e){var i=this.mH,s=i.mHash[73856093*t&i.mMask];if(-1==s)t=-2147483648;else if((i=i.mData)[s]==t)t=i[s+1];else{var n=-2147483648;for(s=i[s+2];-1!=s;){if(i[s]==t){n=i[s+1];break}s=i[s+2]}t=n}return-2147483648!=t&&(this.mVals[t]=e,!0)},toKeyArray:function(){return this.mH.toKeyArray()},toString:function(){var t=this,e=""+g.string(dp.format("[ IntHashTable size="+this.mSize+" capacity="+this.capacity+" load=%.2f",[this.get_loadFactor()]));if(0==this.mSize)return e+" ]";e+="\n";for(var i=0,s=this.keys();s.hasNext();){var n=s.next();i=Math.max(i,n)}for(n=1;0!=i;)++n,i=i/10|0;i=[];var r="  %- "+n+"d -> %s\n",a=[];for(s=this.keys();s.hasNext();)n=s.next(),a.push(n);a.sort(function(t,e){return t-e}),n=1;var o=a.length;s=0;for(var l=1;n<o;){if(a[s]==a[n])++l;else{if(s=a[s],i[0]=s,1<l)l=[],t.getAll(s,l),i[1]=l.join(",");else{l=t.mVals;var h=t.mH,_=h.mHash[73856093*s&h.mMask];if(-1==_)s=-2147483648;else if((h=h.mData)[_]==s)s=h[_+1];else{var c=-2147483648;for(_=h[_+2];-1!=_;){if(h[_]==s){c=h[_+1];break}_=h[_+2]}s=c}i[1]=g.string(l[s])}e+=g.string(dp.format(r,i)),s=n,l=1}++n}if(s=a[s],i[0]=s,1<l)l=[],t.getAll(s,l),i[1]=l.join(",");else{if(l=t.mVals,-1==(n=(h=t.mH).mHash[73856093*s&h.mMask]))t=-2147483648;else if((h=h.mData)[n]==s)t=h[n+1];else{for(c=-2147483648,n=h[n+2];-1!=n;){if(h[n]==s){c=h[n+1];break}n=h[n+2]}t=c}i[1]=g.string(l[t])}return(e+=g.string(dp.format(r,i)))+"]"},has:function(t){for(var e=this.mKeys,i=this.mVals,s=0,n=this.capacity;s<n;){var r=s++;if(-2147483648!=e[r]&&i[r]==t)return!0}return!1},hasKey:function(t){var e=this.mH,i=e.mHash[73856093*t&e.mMask];if(-1==i)return!1;if((e=e.mData)[i]==t)return!0;var s=!1;for(i=e[i+2];-1!=i;){if(e[i]==t){s=!0;break}i=e[i+2]}return s},count:function(t){return this.mH.count(t)},get:function(t){var e=this.mH,i=e.mHash[73856093*t&e.mMask];if(-1==i)t=-2147483648;else if((e=e.mData)[i]==t)t=e[i+1];else{var s=-2147483648;for(i=e[i+2];-1!=i;){if(e[i]==t){s=e[i+1];break}i=e[i+2]}t=s}return-2147483648==t?null:this.mVals[t]},getAll:function(t,e){var i=this.mH,s=i.mHash[73856093*t&i.mMask];if(-1==s)i=-2147483648;else{var n=i.mData;if(n[s]==t)i=n[s+1];else for(i=-2147483648,s=n[s+2];-1!=s;){if(n[s]==t){i=n[s+1];break}s=n[s+2]}}if(-2147483648==i)return 0;for(s=this.mTmpKeyBuffer,t=this.mH.getAll(t,s),i=this.mVals,n=0;n<t;){var r=n++;e[r]=i[s[r]]}return t},set:function(t,e){wp._assert(-2147483648!=t,"key 0x80000000 is reserved(key != IntIntHashTable.KEY_ABSENT)",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/IntHashTable.hx",lineNumber:397,className:"polygonal.ds.IntHashTable",methodName:"set"}),this.mSize==this.capacity&&this.grow();var i=this.mFree,s=this.mH;wp._assert(-2147483648!=i,"val 0x80000000 is reserved(val != KEY_ABSENT)",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/IntIntHashTable.hx",lineNumber:1046,className:"polygonal.ds.IntIntHashTable",methodName:"set"}),s.mSize==s.capacity&&s.grow();var n=s.mData,r=s.mHash,a=3*s.mFree;s.mFree=s.mNext[s.mFree],n[a]=t,n[a+1]=i;var o=73856093*t&s.mMask,l=r[o];if(-1==l)r[o]=a,s.mSize++,s=!0;else{for(r=n[l]!=t,o=n[l+2];-1!=o;)n[o]==t&&(r=!1),l=o,o=n[o+2];n[l+2]=a,s.mSize++,s=r}return this.mVals[i]=e,this.mKeys[i]=t,this.mFree=this.mNext[i],this.mSize++,s},unset:function(t){var e=this.mH,i=e.mHash[73856093*t&e.mMask];if(-1==i)i=-2147483648;else{var s=e.mData;if(s[i]==t)i=s[i+1];else{for(e=-2147483648,i=s[i+2];-1!=i;){if(s[i]==t){e=s[i+1];break}i=s[i+2]}i=e}}if(-2147483648==i)return!1;this.mVals[i]=null,this.mKeys[i]=-2147483648,this.mNext[i]=this.mFree,this.mFree=i;var n=73856093*t&(e=this.mH).mMask,r=e.mHash;if(-1!=(i=r[n]))if(t==(s=e.mData)[i])r[n]=-1==s[i+2]?-1:s[i+2],t=i/3|0,e.mNext[t]=e.mFree,e.mFree=t,s[i+1]=-2147483648,s[i+2]=-1,e.mSize--;else{for(n=!1,r=i,i=s[i+2];-1!=i;){if(s[i]==t){n=!0;break}i=s[(r=i)+2]}n&&(s[r+2]=s[i+2],t=i/3|0,e.mNext[t]=e.mFree,e.mFree=t,s[i+1]=-2147483648,s[i+2]=-1,e.mSize--)}return this.mSize--,!0},toValSet:function(){for(var t=new cp,e=this.mKeys,i=this.mVals,s=0,n=this.capacity;s<n;){var r=s++;-2147483648!=e[r]&&t.set(i[r])}return t},toKeySet:function(){return this.mH.toKeySet()},keys:function(){return this.mH.keys()},pack:function(){if(this.mH.pack(),this.mH.capacity==this.capacity)return this;this.capacity=this.mH.capacity;for(var t=this.mNext=Array(this.capacity),e=0,i=this.capacity-1;e<i;){var s=e++;t[s]=s+1}t[this.capacity-1]=-1,this.mFree=0,e=this.mKeys,t=Array(this.capacity),i=this.mVals;var n=Array(this.capacity),r=this.mFree;for(s=this.mH.iterator();s.hasNext();){var a=s.next();t[r]=e[a],n[r]=i[a],r=this.mNext[r]}for(this.mFree=r,this.mKeys=t,this.mVals=n,e=0,i=this.mSize;e<i;)if(s=e++,r=this.mH,n=t[s],-1!=(a=r.mHash[73856093*n&r.mMask]))if((r=r.mData)[a]==n)r[a+1]=s;else for(a=r[a+2];-1!=a;){if(r[a]==n){r[a+1]=s;break}a=r[a+2]}return this},iter:function(t){wp._assert(null!=t,"f != null",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/IntHashTable.hx",lineNumber:518,className:"polygonal.ds.IntHashTable",methodName:"iter"});var e=this.mVals,i=this.mH;wp._assert(!0,"f != null",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/IntIntHashTable.hx",lineNumber:1360,className:"polygonal.ds.IntIntHashTable",methodName:"iter"});for(var s,n=i.mData,r=0,a=i.capacity;r<a;)-2147483648!=(s=n[1+(i=3*r++)])&&t(n[i],e[s]);return this},grow:function(){var t=this.capacity;this.capacity=Sp.compute(this.get_growthRate(),this.capacity);var e=Array(this.capacity);Rp.blit(this.mNext,0,e,0,t),this.mNext=e,e=Array(this.capacity),Rp.blit(this.mKeys,0,e,0,t),e=this.mKeys=e;for(var i=t,s=this.capacity;i<s;){var n=i++;e[n]=-2147483648}for(e=this.mNext,i=t-1,s=this.capacity-1;i<s;)e[n=i++]=n+1;e[this.capacity-1]=-1,this.mFree=t,e=Array(this.capacity),Rp.blit(this.mVals,0,e,0,t),this.mVals=e},get_size:function(){return this.mSize},free:function(){Rp.nullify(this.mVals),this.mNext=this.mKeys=this.mVals=null,this.mH.free(),this.mH=null,null!=this.mIterator&&(this.mIterator.free(),this.mIterator=null),this.mTmpKeyBuffer=null},contains:function(t){return this.has(t)},remove:function(t){for(var e,i=this.mTmpKeyBuffer,s=0,n=this.mKeys,r=this.mVals,a=0,o=this.capacity;a<o;){var l=a++;-2147483648!=(e=n[l])&&r[l]==t&&(i[s++]=e)}for(a=0,o=s;a<o;)l=a++,this.unset(i[l]);return 0<s},clear:function(t){null==t&&(t=!1),this.mH.clear(t),Rp.init(this.mKeys,-2147483648,0,this.capacity),t=this.mNext;for(var e=0,i=this.capacity-1;e<i;){var s=e++;t[s]=s+1}t[this.capacity-1]=-1,this.mSize=this.mFree=0},iterator:function(){return this.reuseIterator?(null==this.mIterator?this.mIterator=new op(this):this.mIterator.reset(),this.mIterator):new op(this)},isEmpty:function(){return 0==this.mSize},toArray:function(){if(0==this.mSize)return[];var t=this.mSize;wp._assert(0<=t,"len >= 0",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:37,className:"polygonal.ds.tools.ArrayTools",methodName:"alloc"}),t=Array(t);for(var e=0,i=this.mKeys,s=this.mVals,n=0,r=this.capacity;n<r;){var a=n++;-2147483648!=i[a]&&(t[e++]=s[a])}return t},clone:function(t,e){null==t&&(t=!0);var i=new ap(this.mH.slotCount,this.mSize);i.mH=this.mH.clone(!1),i.mSize=this.mSize,i.mFree=this.mFree;var s=this.mVals,n=i.mVals;if(t)Rp.blit(s,0,n,0,this.mSize);else if(t=this.mKeys,null!=e)for(var r=0,a=this.mSize;r<a;){var o=r++;-2147483648!=t[o]&&(n[o]=e(s[o]))}else for(r=0,a=this.mSize;r<a;)-2147483648!=t[o=r++]&&(wp._assert(vo.__implements(s[o],Km),"element is not of type Cloneable(Std.isOfType(src.get(i), Cloneable))",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/IntHashTable.hx",lineNumber:727,className:"polygonal.ds.IntHashTable",methodName:"clone"}),n[o]=vo.__cast(s[o],Km).clone());return Rp.blit(this.mKeys,0,i.mKeys,0,this.mSize),Rp.blit(this.mNext,0,i.mNext,0,this.mSize),i},__class__:ap,__properties__:{get_size:"get_size",get_slotCount:"get_slotCount",get_loadFactor:"get_loadFactor",set_growthRate:"set_growthRate",get_growthRate:"get_growthRate"}};var op=function(t){this.mObject=t,this.reset()};r["polygonal.ds.IntHashTableIterator"]=op,op.__name__="polygonal.ds.IntHashTableIterator",op.__interfaces__=[tp],op.prototype={mObject:null,mVals:null,mKeys:null,mI:null,mS:null,free:function(){this.mKeys=this.mVals=this.mObject=null},reset:function(){for(this.mVals=this.mObject.mVals,this.mKeys=this.mObject.mKeys,this.mS=this.mObject.mH.capacity,this.mI=0;this.mI<this.mS&&-2147483648==this.mKeys[this.mI];)this.mI++;return this},hasNext:function(){return this.mI<this.mS},next:function(){for(var t=this.mVals[this.mI];++this.mI<this.mS&&-2147483648==this.mKeys[this.mI];);return t},remove:function(){throw wa.thrown("unsupported operation")},__class__:op};var lp=function(t,e){null==e&&(e=-1),this.mTmpBufferSize=16,this.mFree=this.mSize=0,this.reuseIterator=!1,this.growthRate=-3,this.key=Qm.next(),wp._assert(0<t,"slotCount > 0",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/IntIntHashTable.hx",lineNumber:156,className:"polygonal.ds.IntIntHashTable",methodName:"new"}),wp._assert(0<t&&!(t&t-1),"slotCount is not a power of 2(MathTools.isPow2(slotCount))",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/IntIntHashTable.hx",lineNumber:157,className:"polygonal.ds.IntIntHashTable",methodName:"new"}),-1==e?e=t:(wp._assert(2<=e,"minimum capacity is 2(initialCapacity >= 2)",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/IntIntHashTable.hx",lineNumber:163,className:"polygonal.ds.IntIntHashTable",methodName:"new"}),wp._assert(0<t&&!(t&t-1),"capacity is not a power of 2(MathTools.isPow2(slotCount))",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/IntIntHashTable.hx",lineNumber:164,className:"polygonal.ds.IntIntHashTable",methodName:"new"})),this.mMinCapacity=this.capacity=e,this.slotCount=t,this.mMask=t-1,this.mHash=Rp.init(Array(t),-1),this.mData=Array(3*this.capacity),this.mNext=Array(this.capacity);var i=2;t=this.mData,e=0;for(var s=this.capacity;e<s;)e++,t[i-1]=-2147483648,t[i]=-1,i+=3;for(t=this.mNext,e=0,s=this.capacity-1;e<s;)t[i=e++]=i+1;t[this.capacity-1]=-1,this.mTmpBuffer=Array(this.mTmpBufferSize)};r["polygonal.ds.IntIntHashTable"]=lp,lp.__name__="polygonal.ds.IntIntHashTable",lp.__interfaces__=[qm],lp.prototype={key:null,capacity:null,growthRate:null,reuseIterator:null,get_loadFactor:function(){return this.mSize/this.slotCount},slotCount:null,mHash:null,mData:null,mNext:null,mMask:null,mFree:null,mSize:null,mMinCapacity:null,mIterator:null,mTmpBuffer:null,mTmpBufferSize:null,getCollisionCount:function(){for(var t,e=0,i=this.mData,s=this.mHash,n=0,r=this.slotCount;n<r;)if(-1!=(t=s[t=n++]))for(t=i[t+2];-1!=t;)t=i[t+2],++e;return e},getFront:function(t){var e=73856093*t&this.mMask,i=this.mHash[e];if(-1==i)return-2147483648;var s=this.mData;if(s[i]==t)return s[i+1];var n=-2147483648,r=i,a=r;for(i=s[i+2];-1!=i;){if(s[i]==t){n=s[i+1],s[a+2]=s[i+2],s[i+2]=r,this.mHash[e]=i;break}i=s[(a=i)+2]}return n},setIfAbsent:function(t,e){wp._assert(-2147483648!=e,"val 0x80000000 is reserved(val != KEY_ABSENT)",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/IntIntHashTable.hx",lineNumber:291,className:"polygonal.ds.IntIntHashTable",methodName:"setIfAbsent"});var i=73856093*t&this.mMask,s=this.mData,n=this.mHash[i];if(-1==n){this.mSize==this.capacity&&(this.grow(),s=this.mData);var r=3*this.mFree;return this.mFree=this.mNext[this.mFree],this.mHash[i]=r,s[r]=t,s[r+1]=e,this.mSize++,!0}if(s[n]==t)return!1;for(i=s[n+2];-1!=i;){if(s[i]==t){n=-1;break}i=s[(n=i)+2]}return-1!=n&&(this.mSize==this.capacity&&(this.grow(),s=this.mData),r=3*this.mFree,this.mFree=this.mNext[this.mFree],s[n+2]=r,s[r]=t,s[r+1]=e,this.mSize++,!0)},rehash:function(t){if(wp._assert(0<t&&!(t&t-1),"slotCount is not a power of 2(MathTools.isPow2(slotCount))",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/IntIntHashTable.hx",lineNumber:403,className:"polygonal.ds.IntIntHashTable",methodName:"rehash"}),this.slotCount==t)return this;for(var e=new lp(t,this.capacity),i=this.mData,s=0,n=this.capacity;s<n;){var r=s++,a=i[3*r+1];if(-2147483648!=a){var o=i[3*r];wp._assert(-2147483648!=a,"val 0x80000000 is reserved(val != KEY_ABSENT)",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/IntIntHashTable.hx",lineNumber:1046,className:"polygonal.ds.IntIntHashTable",methodName:"set"}),e.mSize==e.capacity&&e.grow(),r=e.mData;var l=e.mHash,h=3*e.mFree;if(e.mFree=e.mNext[e.mFree],r[h]=o,r[h+1]=a,-1==(a=l[o=73856093*o&e.mMask]))l[o]=h;else{for(l=r[a+2];-1!=l;)a=l,l=r[l+2];r[a+2]=h}e.mSize++}}return this.mHash=e.mHash,this.mData=e.mData,this.mNext=e.mNext,this.slotCount=t,this.mMask=e.mMask,this.mFree=e.mFree,this},remap:function(t,e){var i=this.mHash[73856093*t&this.mMask];if(-1==i)return!1;var s=this.mData;if(s[i]==t)return s[i+1]=e,!0;for(i=s[i+2];-1!=i;){if(s[i]==t){s[i+1]=e;break}i=s[i+2]}return-1!=i},extract:function(t){var e=73856093*t&this.mMask,i=this.mHash,s=i[e];if(-1==s)return-2147483648;var n=this.mData;if(t==n[s]){var r=n[s+1];return i[e]=-1==n[s+2]?-1:n[s+2],t=s/3|0,this.mNext[t]=this.mFree,this.mFree=t,n[s+1]=-2147483648,n[s+2]=-1,this.mSize--,r}for(e=s,s=n[s+2],r=-2147483648;-1!=s;){if(n[s]==t){r=n[s+1];break}s=n[(e=s)+2]}return-2147483648!=r?(n[e+2]=n[s+2],t=s/3|0,this.mNext[t]=this.mFree,this.mFree=t,n[s+1]=-2147483648,n[s+2]=-1,this.mSize--,r):-2147483648},toKeyArray:function(){if(0==this.mSize)return[];var t=this.mSize;wp._assert(0<=t,"len >= 0",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:37,className:"polygonal.ds.tools.ArrayTools",methodName:"alloc"}),t=Array(t);for(var e=0,i=this.mData,s=0,n=this.capacity;s<n;){var r=s++;-2147483648!=i[3*r+1]&&(t[e++]=i[3*r])}return t},toString:function(){var t=""+g.string(dp.format("[ IntIntHashTable size="+this.mSize+" capacity="+this.capacity+" load=%.2f",[this.get_loadFactor()]));if(0==this.mSize)return t+" ]";t+="\n";for(var e=0,i=this.keys();i.hasNext();){var s=i.next();e=Math.max(e,s)}for(s=1;0!=e;)++s,e=e/10|0;e=[];var n="  %- "+s+"d -> %s\n",r=[];for(i=this.keys();i.hasNext();)s=i.next(),r.push(s);r.sort(function(t,e){return t-e}),s=1;var a=r.length;i=0;for(var o=1;s<a;){if(r[i]==r[s])++o;else{if(i=r[i],e[0]=i,1<o)o=[],this.getAll(i,o),e[1]=o.join(",");else{if(-1==(o=this.mHash[73856093*i&this.mMask]))i=-2147483648;else{var l=this.mData;if(l[o]==i)i=l[o+1];else{var h=-2147483648;for(o=l[o+2];-1!=o;){if(l[o]==i){h=l[o+1];break}o=l[o+2]}i=h}}e[1]=i}t+=g.string(dp.format(n,e)),i=s,o=1}++s}if(i=r[i],e[0]=i,1<o)o=[],this.getAll(i,o),e[1]=o.join(",");else{if(-1==(s=this.mHash[73856093*i&this.mMask]))o=-2147483648;else if((l=this.mData)[s]==i)o=l[s+1];else{for(h=-2147483648,s=l[s+2];-1!=s;){if(l[s]==i){h=l[s+1];break}s=l[s+2]}o=h}e[1]=o}return(t+=g.string(dp.format(n,e)))+"]"},has:function(t){wp._assert(-2147483648!=t,"val 0x80000000 is reserved(val != VAL_ABSENT)",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/IntIntHashTable.hx",lineNumber:697,className:"polygonal.ds.IntIntHashTable",methodName:"has"});for(var e=!1,i=this.mData,s=0,n=this.capacity;s<n;)if(i[3*s+++1]==t){e=!0;break}return e},hasKey:function(t){var e=this.mHash[73856093*t&this.mMask];if(-1==e)return!1;var i=this.mData;if(i[e]==t)return!0;var s=!1;for(e=i[e+2];-1!=e;){if(i[e]==t){s=!0;break}e=i[e+2]}return s},count:function(t){var e=0,i=this.mHash[73856093*t&this.mMask];if(-1!=i)for(var s=this.mData;-1!=i;)s[i]==t&&++e,i=s[i+2];return e},get:function(t){var e=this.mHash[73856093*t&this.mMask];if(-1==e)return-2147483648;var i=this.mData;if(i[e]==t)return i[e+1];var s=-2147483648;for(e=i[e+2];-1!=e;){if(i[e]==t){s=i[e+1];break}e=i[e+2]}return s},getAll:function(t,e){var i=this.mHash[73856093*t&this.mMask];if(-1==i)return 0;var s=0,n=this.mData;for(n[i]==t&&(e[s++]=n[i+1]),i=n[i+2];-1!=i;)n[i]==t&&(e[s++]=n[i+1]),i=n[i+2];return s},hasPair:function(t,e){wp._assert(-2147483648!=e,"val 0x80000000 is reserved(val != KEY_ABSENT)",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/IntIntHashTable.hx",lineNumber:891,className:"polygonal.ds.IntIntHashTable",methodName:"hasPair"});var i=this.mHash[73856093*t&this.mMask];if(-1!=i){var s=this.mData;if(s[i]==t&&s[i+1]==e)return!0;for(i=s[i+2];-1!=i;){if(s[i]==t&&s[i+1]==e)return!0;i=s[i+2]}}return!1},unsetPair:function(t,e){wp._assert(-2147483648!=e,"val 0x80000000 is reserved(val != KEY_ABSENT)",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/IntIntHashTable.hx",lineNumber:939,className:"polygonal.ds.IntIntHashTable",methodName:"unsetPair"});var i=73856093*t&this.mMask,s=this.mHash,n=s[i];if(-1==n)return!1;var r=this.mData;if(t==r[n]&&e==r[n+1])return s[i]=-1==r[n+2]?-1:r[n+2],t=n/3|0,this.mNext[t]=this.mFree,this.mFree=t,r[n+1]=-2147483648,r[n+2]=-1,this.mSize--,!0;for(i=!1,s=n,n=r[n+2];-1!=n;){if(r[n]==t&&r[n+1]==e){i=!0;break}n=r[(s=n)+2]}return!!i&&(r[s+2]=r[n+2],t=n/3|0,this.mNext[t]=this.mFree,this.mFree=t,r[n+1]=-2147483648,r[n+2]=-1,--this.mSize,!0)},set:function(t,e){wp._assert(-2147483648!=e,"val 0x80000000 is reserved(val != KEY_ABSENT)",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/IntIntHashTable.hx",lineNumber:1046,className:"polygonal.ds.IntIntHashTable",methodName:"set"}),this.mSize==this.capacity&&this.grow();var i=this.mData,s=this.mHash,n=3*this.mFree;this.mFree=this.mNext[this.mFree],i[n]=t,i[n+1]=e;var r=73856093*t&this.mMask;if(-1==(e=s[r]))return s[r]=n,this.mSize++,!0;for(s=i[e]!=t,r=i[e+2];-1!=r;)i[r]==t&&(s=!1),e=r,r=i[r+2];return i[e+2]=n,this.mSize++,s},unset:function(t){var e=73856093*t&this.mMask,i=this.mHash,s=i[e];if(-1==s)return!1;var n=this.mData;if(t==n[s])return i[e]=-1==n[s+2]?-1:n[s+2],t=s/3|0,this.mNext[t]=this.mFree,this.mFree=t,n[s+1]=-2147483648,n[s+2]=-1,this.mSize--,!0;for(e=!1,i=s,s=n[s+2];-1!=s;){if(n[s]==t){e=!0;break}s=n[(i=s)+2]}return!!e&&(n[i+2]=n[s+2],t=s/3|0,this.mNext[t]=this.mFree,this.mFree=t,n[s+1]=-2147483648,n[s+2]=-1,this.mSize--,!0)},toValSet:function(){for(var t=new np(this.capacity),e=this.mData,i=0,s=this.capacity;i<s;){var n=i++;if(-2147483648!=(n=e[3*n+1])){wp._assert(-2147483648!=n,"value 0x80000000 is reserved(val != VAL_ABSENT)",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/IntHashSet.hx",lineNumber:521,className:"polygonal.ds.IntHashSet",methodName:"set"});var r=73856093*n&t.mMask,a=t.mData,o=t.mHash[r];if(-1==o)t.mSize==t.capacity&&(t.grow(),a=t.mData),o=t.mFree<<1,t.mFree=t.mNext[t.mFree],t.mHash[r]=o,a[o]=n,t.mSize++;else if(a[o]!=n){for(r=a[o+1];-1!=r;){if(a[r]==n){o=-1;break}o=r,r=a[r+1]}-1!=o&&(t.mSize==t.capacity&&(t.grow(),a=t.mData),r=t.mFree<<1,t.mFree=t.mNext[t.mFree],a[r]=n,a[o+1]=r,t.mSize++)}}}return t},toKeySet:function(){for(var t=new np(this.capacity),e=this.mData,i=0,s=this.capacity;i<s;){var n=i++;if(-2147483648!=e[3*n+1]){n=e[3*n],wp._assert(-2147483648!=n,"value 0x80000000 is reserved(val != VAL_ABSENT)",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/IntHashSet.hx",lineNumber:521,className:"polygonal.ds.IntHashSet",methodName:"set"});var r=73856093*n&t.mMask,a=t.mData,o=t.mHash[r];if(-1==o)t.mSize==t.capacity&&(t.grow(),a=t.mData),o=t.mFree<<1,t.mFree=t.mNext[t.mFree],t.mHash[r]=o,a[o]=n,t.mSize++;else if(a[o]!=n){for(r=a[o+1];-1!=r;){if(a[r]==n){o=-1;break}o=r,r=a[r+1]}-1!=o&&(t.mSize==t.capacity&&(t.grow(),a=t.mData),r=t.mFree<<1,t.mFree=t.mNext[t.mFree],a[r]=n,a[o+1]=r,t.mSize++)}}}return t},keys:function(){return new _p(this)},pack:function(){if(this.capacity==this.mMinCapacity)return this;var t=this.mSize,e=this.mMinCapacity;this.capacity=t>e?t:e;var i=this.mData,s=0,n=this.mHash,r=Array(3*this.capacity),a=2;for(t=0,e=this.capacity;t<e;)t++,r[a-1]=-2147483648,r[a]=-1,a+=3;for(t=0,e=this.slotCount;t<e;){var o=t++;if(-1!=(a=n[o]))for(n[o]=s,r[s]=i[a],r[s+1]=i[a+1],r[s+2]=-1,s+=3,a=i[a+2];-1!=a;)r[s-1]=s,r[s]=i[a],r[s+1]=i[a+1],r[s+2]=-1,s+=3,a=i[a+2]}for(this.mData=r,i=this.mNext=Array(this.capacity),t=0,e=this.capacity-1;t<e;)i[o=t++]=o+1;return this.mFree=i[this.capacity-1]=-1,this},iter:function(t){wp._assert(null!=t,"f != null",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/IntIntHashTable.hx",lineNumber:1360,className:"polygonal.ds.IntIntHashTable",methodName:"iter"});for(var e,i,s=this.mData,n=0,r=this.capacity;n<r;)-2147483648!=(i=s[1+(e=3*n++)])&&t(s[e],i);return this},hashCode:function(t){return 73856093*t&this.mMask},grow:function(){var t=this.capacity;this.capacity=Sp.compute(this.growthRate,this.capacity);var e=Array(this.capacity);Rp.blit(this.mNext,0,e,0,t),this.mNext=e,e=Array(3*this.capacity),Rp.blit(this.mData,0,e,0,3*t),this.mData=e,e=this.mNext;for(var i=t-1,s=this.capacity-1;i<s;){var n=i++;e[n]=n+1}for(e[this.capacity-1]=-1,this.mFree=t,n=3*t+2,e=this.mData,i=0,s=this.capacity-t;i<s;)i++,e[n-1]=-2147483648,e[n]=-1,n+=3},get_size:function(){return this.mSize},free:function(){this.mNext=this.mData=this.mHash=null,null!=this.mIterator&&(this.mIterator.free(),this.mIterator=null),this.mTmpBuffer=null},contains:function(t){return this.has(t)},remove:function(t){wp._assert(-2147483648!=t,"val 0x80000000 is reserved(val != KEY_ABSENT)",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/IntIntHashTable.hx",lineNumber:1465,className:"polygonal.ds.IntIntHashTable",methodName:"remove"});for(var e,i=0,s=this.mTmpBuffer,n=this.mTmpBufferSize,r=this.mData,a=0,o=this.capacity;a<o;)e=a++,r[1+(e*=3)]==t&&(i==n&&(this.mTmpBufferSize=n<<=1,s=Array(n),Rp.blit(this.mTmpBuffer,0,s,0,i),this.mTmpBuffer=s),s[i++]=r[e]);for(a=0,o=i;a<o;){e=73856093*(n=s[e=a++])&this.mMask;var l=this.mHash;if(-1!=(t=l[e]))if(n==(r=this.mData)[t])l[e]=-1==r[t+2]?-1:r[t+2],e=t/3|0,this.mNext[e]=this.mFree,this.mFree=e,r[t+1]=-2147483648,r[t+2]=-1,this.mSize--;else{for(e=!1,l=t,t=r[t+2];-1!=t;){if(r[t]==n){e=!0;break}t=r[(l=t)+2]}e&&(r[l+2]=r[t+2],n=t/3|0,this.mNext[n]=this.mFree,this.mFree=n,r[t+1]=-2147483648,r[t+2]=-1,this.mSize--)}}return 0<i},clear:function(t){var e=this.mHash;t=0;for(var i=this.slotCount;t<i;){var s=t++;e[s]=-1}for(s=2,e=this.mData,t=0,i=this.capacity;t<i;)t++,e[s-1]=-2147483648,e[s]=-1,s+=3;for(e=this.mNext,t=0,i=this.capacity-1;t<i;)e[s=t++]=s+1;e[this.capacity-1]=-1,this.mSize=this.mFree=0},iterator:function(){return this.reuseIterator?(null==this.mIterator?this.mIterator=new hp(this):this.mIterator.reset(),this.mIterator):new hp(this)},isEmpty:function(){return 0==this.mSize},toArray:function(){if(0==this.mSize)return[];var t=this.mSize;wp._assert(0<=t,"len >= 0",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:37,className:"polygonal.ds.tools.ArrayTools",methodName:"alloc"}),t=Array(t);for(var e,i=0,s=this.mData,n=0,r=this.capacity;n<r;)-2147483648!=(e=s[3*(e=n++)+1])&&(t[i++]=e);return t},clone:function(t,e){return t=new lp(this.slotCount,this.capacity),Rp.blit(this.mHash,0,t.mHash,0,this.slotCount),Rp.blit(this.mData,0,t.mData,0,3*this.capacity),Rp.blit(this.mNext,0,t.mNext,0,this.capacity),t.mMask=this.mMask,t.slotCount=this.slotCount,t.capacity=this.capacity,t.mFree=this.mFree,t.mSize=this.mSize,t},__class__:lp,__properties__:{get_size:"get_size",get_loadFactor:"get_loadFactor"}};var hp=function(t){this.mObject=t,this.mData=t.mData,this.mI=0,this.mS=t.capacity,this.scan()};r["polygonal.ds.IntIntHashTableValIterator"]=hp,hp.__name__="polygonal.ds.IntIntHashTableValIterator",hp.__interfaces__=[tp],hp.prototype={mObject:null,mI:null,mS:null,mData:null,free:function(){this.mData=this.mObject=null},reset:function(){return this.mData=this.mObject.mData,this.mI=0,this.mS=this.mObject.capacity,this.scan(),this},hasNext:function(){return this.mI<this.mS},next:function(){var t=this.mData[3*this.mI+++1];return this.scan(),t},remove:function(){throw wa.thrown("unsupported operation")},scan:function(){for(;this.mI<this.mS&&-2147483648==this.mData[3*this.mI+1];)this.mI++},__class__:hp};var _p=function(t){this.mObject=t,this.mData=t.mData,this.mI=0,this.mS=t.capacity,this.scan()};r["polygonal.ds.IntIntHashTableKeyIterator"]=_p,_p.__name__="polygonal.ds.IntIntHashTableKeyIterator",_p.__interfaces__=[tp],_p.prototype={mObject:null,mI:null,mS:null,mData:null,free:function(){this.mData=this.mObject=null},reset:function(){return this.mData=this.mObject.mData,this.mI=0,this.mS=this.mObject.capacity,this.scan(),this},hasNext:function(){return this.mI<this.mS},next:function(){var t=this.mData[3*this.mI++];return this.scan(),t},remove:function(){throw wa.thrown("unsupported operation")},scan:function(){for(;this.mI<this.mS&&-2147483648==this.mData[3*this.mI+1];)this.mI++},__class__:_p};var cp=function(t,e){if(null==t&&(t=16),this.mIterator=null,this.mSize=0,this.reuseIterator=!1,this.growthRate=-2,this.key=Qm.next(),this.capacity=this.mInitialCapacity=1>t?1:t,null!=e&&(this.capacity=e.length),this.mData=Array(this.capacity),null!=e)for(t=0;t<e.length;){var i=e[t];++t,this.set(i)}};r["polygonal.ds.ListSet"]=cp,cp.__name__="polygonal.ds.ListSet",cp.__interfaces__=[sp],cp.prototype={key:null,capacity:null,growthRate:null,reuseIterator:null,mData:null,mInitialCapacity:null,mSize:null,mIterator:null,reserve:function(t){return t>this.capacity&&(this.capacity=t,this.resizeContainer(t)),this},pack:function(){if(this.capacity>this.mInitialCapacity){var t=this.mInitialCapacity,e=this.mSize;this.capacity=t>e?t:e,this.resizeContainer(this.capacity)}else{t=this.mData,e=this.mSize;for(var i=this.capacity;e<i;)t[e++]=null}return this},iter:function(t){wp._assert(null!=t,"f != null",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/ListSet.hx",lineNumber:136,className:"polygonal.ds.ListSet",methodName:"iter"});for(var e=this.mData,i=0,s=this.mSize;i<s;)t(e[i++]);return this},toString:function(){var t=""+g.string("[ ListSet size="+this.mSize);if(this.isEmpty())return t+" ]";t+="\n";for(var e=0,i=this.mSize;e<i;){var s=e++;t+="  ",t+=g.string(g.string(this.mData[s])),t+="\n"}return t+"]"},has:function(t){if(this.isEmpty())return!1;for(var e=this.mData,i=0,s=this.mSize;i<s;)if(e[i++]==t)return!0;return!1},set:function(t){for(var e=this.mData,i=0,s=this.mSize;i<s;)if(e[i++]==t)return!1;return this.mSize==this.capacity&&(this.grow(),e=this.mData),e[this.mSize++]=t,!0},unset:function(t){return this.remove(t)},merge:function(t,e,i){if(e)for(t=t.iterator();t.hasNext();)e=t.next(),this.set(e);else if(null!=i)for(t=t.iterator();t.hasNext();)e=t.next(),this.set(i(e));else for(t=t.iterator();t.hasNext();)e=t.next(),wp._assert(vo.__implements(e,Km),"element is not of type Cloneable(Std.isOfType(val, Cloneable))",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/ListSet.hx",lineNumber:230,className:"polygonal.ds.ListSet",methodName:"merge"}),this.set(vo.__cast(e,Km).clone())},get_size:function(){return this.mSize},free:function(){Rp.nullify(this.mData),this.mData=null,null!=this.mIterator&&(this.mIterator.free(),this.mIterator=null)},contains:function(t){return this.has(t)},remove:function(t){for(var e=this.mData,i=0,s=this.mSize;i<s;){var n=i++;if(e[n]==t)return e[n]=this.mData[--this.mSize],!0}return!1},clear:function(t){null==t&&(t=!1),t&&Rp.nullify(this.mData),this.mSize=0},iterator:function(){if(this.reuseIterator){if(null==this.mIterator)this.mIterator=new up(this);else{var t=this.mIterator;t.mData=t.mObject.mData,t.mS=t.mObject.mSize,t.mI=0}return this.mIterator}return new up(this)},isEmpty:function(){return 0==this.mSize},toArray:function(){return Rp.toArray(this.mData,0,this.mSize,[])},clone:function(t,e){null==t&&(t=!0);var i=new cp;i.capacity=this.mSize,i.mSize=this.mSize,i.mData=Array(this.mSize);var s=this.mData,n=i.mData;if(t)Rp.blit(s,0,n,0,this.mSize);else if(null==e){t=0;for(var r=this.mSize;t<r;){var a=t++;wp._assert(vo.__implements(s[a],Km),"element is not of type Cloneable(Std.isOfType(src.get(i), Cloneable))",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/ListSet.hx",lineNumber:359,className:"polygonal.ds.ListSet",methodName:"clone"}),n[a]=vo.__cast(s[a],Km).clone()}}else for(t=0,r=this.mSize;t<r;)n[a=t++]=e(s[a]);return i},grow:function(){this.capacity=Sp.compute(this.growthRate,this.capacity),this.resizeContainer(this.capacity)},resizeContainer:function(t){t=Array(t),Rp.blit(this.mData,0,t,0,this.mSize),this.mData=t},__class__:cp,__properties__:{get_size:"get_size"}};var up=function(t){this.mObject=t,this.mData=this.mObject.mData,this.mS=this.mObject.mSize,this.mI=0};r["polygonal.ds.ListSetIterator"]=up,up.__name__="polygonal.ds.ListSetIterator",up.__interfaces__=[tp],up.prototype={mObject:null,mData:null,mI:null,mS:null,free:function(){this.mData=this.mObject=null},reset:function(){return this.mData=this.mObject.mData,this.mS=this.mObject.mSize,this.mI=0,this},hasNext:function(){return this.mI<this.mS},next:function(){return this.mData[this.mI++]},remove:function(){wp._assert(0<this.mI,"call next() before removing an element(mI > 0)",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/ListSet.hx",lineNumber:430,className:"polygonal.ds.ListSetIterator",methodName:"remove"}),this.mData[this.mI]=this.mData[--this.mS]},__class__:up};var dp=function(){};r["polygonal.ds.Printf"]=dp,dp.__name__="polygonal.ds.Printf",dp.init=function(){var t=Array(40);for(dp._padChars=t,dp._padChars[0]=v.rpad("","0",0),dp._padChars[1]=v.rpad("","0",1),dp._padChars[2]=v.rpad("","0",2),dp._padChars[3]=v.rpad("","0",3),dp._padChars[4]=v.rpad("","0",4),dp._padChars[5]=v.rpad("","0",5),dp._padChars[6]=v.rpad("","0",6),dp._padChars[7]=v.rpad("","0",7),dp._padChars[8]=v.rpad("","0",8),dp._padChars[9]=v.rpad("","0",9),dp._padChars[10]=v.rpad("","0",10),dp._padChars[11]=v.rpad("","0",11),dp._padChars[12]=v.rpad("","0",12),dp._padChars[13]=v.rpad("","0",13),dp._padChars[14]=v.rpad("","0",14),dp._padChars[15]=v.rpad("","0",15),dp._padChars[16]=v.rpad("","0",16),dp._padChars[17]=v.rpad("","0",17),dp._padChars[18]=v.rpad("","0",18),dp._padChars[19]=v.rpad("","0",19),t=0;20>t;){var e=t++;dp._padChars[e+20]=v.rpad(""," ",e)}t=Array(64),dp._tmp=t},dp.format=function(t,e){dp._initialized||(dp._initialized=!0,dp.init());var i=new b,s=0,n=[],r=0;for(t=dp.tokenize(t,n);r<t;){var a=r++,o=n[a];switch(o._hx_index){case 0:a=o.string,i.b+=null==a?"null":""+a;break;case 1:if(a=o.type,null==(o=o.args).width){if(!vo.__instanceof(e[s],Bb))throw wa.thrown(new mp("invalid 'width' argument"));o.width=e[s++]}if(null==o.precision){if(!vo.__instanceof(e[s],Bb))throw wa.thrown(new mp("invalid 'precision' argument"));o.precision=e[s++]}if(-1<o.pos){if(o.pos>e.length-1)throw wa.thrown(new mp("argument index out of range"));var l=e[o.pos]}else l=e[s++];switch(null==l&&(l="null"),a._hx_index){case 0:switch(a.type._hx_index){case 0:dp.formatCharacter(l,o,i);break;case 1:dp.formatSignedDecimal(l,o,i);break;case 2:dp.formatUnsignedDecimal(l,o,i);break;case 3:dp.formatOctal(l,o,i);break;case 4:dp.formatHexadecimal(l,o,i);break;case 5:dp.formatBinary(l,o,i)}break;case 1:switch(a.floatType._hx_index){case 0:dp.formatFloat(l,o,i);break;case 1:dp.formatScientific(l,o,i);break;case 2:dp.formatNaturalFloat(l,o,i)}break;case 2:dp.formatString(l,o,i);break;case 3:throw wa.thrown(new mp("specifier 'p' is not supported"));case 4:throw wa.thrown(new mp("specifier 'n' is not supported"))}break;case 2:if(a=o.name,!Object.prototype.hasOwnProperty.call(e[0],a))throw wa.thrown(new mp('no field named "'+a+'" found'));i.b+=g.string(g.string(f.field(e[0],a))),++s;break;case 3:throw wa.thrown(new mp("Invalid format specifier."))}}return i.b},dp.tokenize=function(t,e){for(var i,s=0,n=0,r=new b,a=t.length;s<a;)if(37==(i=t.charCodeAt(s++)))if(37==(i=t.charCodeAt(s++)))r.b+=String.fromCodePoint(i);else{if(0<r.b.length&&(e[n++]=gp.Raw(r.b),r=new b),40==i)if(-1==(i=t.indexOf(")",s)))i=gp.Unknown("named parameter",s);else{var o=c.substr(t,s,i-s);s=i+1,i=gp.Property(o)}else{null==(o=0)&&(o=0),o=new pp(o,-1,-1,-1);t:for(;32<=i&&48>=i;)switch(i){case 32:i=t.charCodeAt(s++),o.flags|=1<<fp.Space._hx_index;break;case 35:i=t.charCodeAt(s++),o.flags|=1<<fp.Sharp._hx_index;break;case 43:i=t.charCodeAt(s++),o.flags|=1<<fp.Plus._hx_index;break;case 45:i=t.charCodeAt(s++),o.flags|=1<<fp.Minus._hx_index;break;case 48:i=t.charCodeAt(s++),o.flags|=1<<fp.Zero._hx_index;break;default:break t}if(o.flags&1<<fp.Minus._hx_index&&o.flags&1<<fp.Zero._hx_index&&(o.flags&=-1-(1<<fp.Zero._hx_index)),o.flags&1<<fp.Space._hx_index&&o.flags&1<<fp.Plus._hx_index&&(o.flags&=-1-(1<<fp.Space._hx_index)),42==i)o.width=null,i=t.charCodeAt(s++);else if(48<=i&&57>=i){for(var l=0;48<=i&&57>=i;)l=i-48+10*l,i=t.charCodeAt(s++);if(o.width=l,36==i)if(o.pos=l-1,o.width=-1,42==(i=t.charCodeAt(s++)))o.width=null,i=t.charCodeAt(s++);else if(48<=i&&57>=i){for(l=0;48<=i&&57>=i;)l=i-48+10*l,i=t.charCodeAt(s++);o.width=l}}if(46==i)if(42==(i=t.charCodeAt(s++)))o.precision=null,i=t.charCodeAt(s++);else{if(l=0,48<=i&&57>=i)for(;48<=i&&57>=i;)l=i-48+10*l,i=t.charCodeAt(s++);o.precision=l}t:for(;76<=i&&108>=i;)switch(i){case 76:i=t.charCodeAt(s++),o.flags|=1<<fp.LengthUpperCaseL._hx_index;break;case 104:i=t.charCodeAt(s++),o.flags|=1<<fp.LengthH._hx_index;break;case 108:i=t.charCodeAt(s++),o.flags|=1<<fp.LengthLowerCaseL._hx_index;break;default:break t}if(69<=i&&120>=i){switch(i){case 69:o.flags|=1<<fp.UpperCase._hx_index,l=yp.FmtFloat(vp.FScientific);break;case 71:o.flags|=1<<fp.UpperCase._hx_index,l=yp.FmtFloat(vp.FNatural);break;case 88:o.flags|=1<<fp.UpperCase._hx_index,l=yp.FmtInt(bp.IHex);break;case 98:l=yp.FmtInt(bp.IBin);break;case 99:l=yp.FmtInt(bp.ICharacter);break;case 100:case 105:l=yp.FmtInt(bp.ISignedDecimal);break;case 101:l=yp.FmtFloat(vp.FScientific);break;case 102:l=yp.FmtFloat(vp.FNormal);break;case 103:l=yp.FmtFloat(vp.FNatural);break;case 110:l=yp.FmtNothing;break;case 111:l=yp.FmtInt(bp.IOctal);break;case 112:l=yp.FmtPointer;break;case 115:l=yp.FmtString;break;case 117:l=yp.FmtInt(bp.IUnsignedDecimal);break;case 120:l=yp.FmtInt(bp.IHex);break;default:l=null}i=null==l?gp.Unknown(String.fromCodePoint(i),s):gp.Tag(l,o)}else i=gp.Unknown(String.fromCodePoint(i),s)}e[n++]=i}else r.b+=String.fromCodePoint(i);return 0<r.b.length&&(e[n++]=gp.Raw(r.b)),n},dp.formatBinary=function(t,e,i){var s=e.flags,n=e.precision;if(e=e.width,s&1<<fp.LengthH._hx_index&&(t&=65535),0==t){if(0==n)return;s&=-1-(1<<fp.Sharp._hx_index)}-1==n&&(n=1);for(var r=dp._tmp,a=0;r[a++]=1&t,0<(t>>>=1););if(t=a,s&1<<fp.Minus._hx_index){if(s&1<<fp.Sharp._hx_index&&(i.b+="0b"),n>a)for(var o=0,l=n-a;o<l;)o++,i.b+="0";for(;-1<--t;)i.b+=String.fromCodePoint(48+r[t]);if(s&1<<fp.Sharp._hx_index&&(e-=2),n>a&&(a=n),e>a)for(o=0,l=e-a;o<l;)o++,i.b+=" "}else{if(n>(l=a)&&(l=n),s&1<<fp.Sharp._hx_index&&(e-=2),e>l)if(s&1<<fp.Zero._hx_index&&1==n)for(o=0,l=e-l;o<l;)o++,i.b+="0";else for(o=0,l=e-l;o<l;)o++,i.b+=" ";if(s&1<<fp.Sharp._hx_index&&(i.b+="0b"),n>a)for(o=0,l=n-a;o<l;)o++,i.b+="0";for(;-1<--t;)i.b+=String.fromCodePoint(48+r[t])}},dp.formatOctal=function(t,e,i){var s=e.flags,n=e.precision;if(e=e.width,s&1<<fp.LengthH._hx_index&&(t&=65535),0==t){if(0==n)return void(i.b+=g.string(s&1<<fp.Sharp._hx_index?"0":""));s&=-1-(1<<fp.Sharp._hx_index)}for(var r=dp._tmp,a=0;r[a++]=7&t,0<(t>>>=3););if(t=a,-1!=n?s&1<<fp.Zero._hx_index&&(s&=-1-(1<<fp.Zero._hx_index),s|=1<<fp.Space._hx_index):n=1,s&1<<fp.Minus._hx_index){if(s&1<<fp.Sharp._hx_index&&(i.b+="0",++a),n>a)for(var o=0,l=n-a;o<l;)o++,i.b+="0";for(;-1<--t;)s=String.fromCodePoint(48+r[t]),i.b+=g.string(s);if(n>a&&(a=n),e>a)for(o=0,l=e-a;o<l;)o++,i.b+=" "}else{if(s&1<<fp.Sharp._hx_index&&++a,n>(l=a)&&(l=n),e>l)if(s&1<<fp.Zero._hx_index)for(o=0,l=e-l;o<l;)o++,i.b+="0";else for(o=0,l=e-l;o<l;)o++,i.b+=" ";if(s&1<<fp.Sharp._hx_index&&(i.b+="0"),n>a)for(o=0,l=n-a;o<l;)o++,i.b+="0";for(;-1<--t;)s=String.fromCodePoint(48+r[t]),i.b+=g.string(s)}},dp.formatHexadecimal=function(t,e,i){var s=e.flags,n=e.precision;if(e=e.width,s&1<<fp.LengthH._hx_index&&(t&=65535),0==t){if(0==n)return;s&=-1-(1<<fp.Sharp._hx_index)}-1==n&&(n=1);for(var r=dp._tmp,a=0;r[a++]=15&t,0<(t>>>=4););if(t=a,s&1<<fp.Minus._hx_index){if(s&1<<fp.Sharp._hx_index&&(i.b=s&1<<fp.UpperCase._hx_index?i.b+"0X":i.b+"0x"),n>a)for(var o=0,l=n-a;o<l;)o++,i.b+="0";for(o=s&1<<fp.UpperCase._hx_index?65:97;-1<--t;)10>(l=r[t])?(l=String.fromCodePoint(48+l),i.b+=g.string(l)):(l=String.fromCodePoint(o+(l-10)),i.b+=g.string(l));if(s&1<<fp.Sharp._hx_index&&(e-=2),n>a&&(a=n),e>a)for(o=0,l=e-a;o<l;)o++,i.b+=" "}else{if(n>(l=a)&&(l=n),s&1<<fp.Sharp._hx_index&&(e-=2),e>l)if(s&1<<fp.Zero._hx_index&&1==n)for(o=0,l=e-l;o<l;)o++,i.b+="0";else for(o=0,l=e-l;o<l;)o++,i.b+=" ";if(s&1<<fp.Sharp._hx_index&&(i.b=s&1<<fp.UpperCase._hx_index?i.b+"0X":i.b+"0x"),n>a)for(o=0,l=n-a;o<l;)o++,i.b+="0";for(o=s&1<<fp.UpperCase._hx_index?65:97;-1<--t;)10>(l=r[t])?(l=String.fromCodePoint(48+l),i.b+=g.string(l)):(l=String.fromCodePoint(o+(l-10)),i.b+=g.string(l))}},dp.formatSignedDecimal=function(t,e,i){var s=e.flags,n=e.precision;if(e=e.width,0!=n||0!=t){s&1<<fp.LengthH._hx_index&&(t&=65535);var r=g.string(0>t?-t:t),a=r.length,o=null!=(t=0>t?"-":s&1<<fp.Plus._hx_index?"+":s&1<<fp.Space._hx_index?" ":null);if(s&1<<fp.Minus._hx_index){if(o&&(i.b+=null==t?"null":""+t),n>a)for(var l=0,h=n-a;l<h;)l++,i.b+="0";if(i.b+=g.string(r),n>a&&(a=n),e>(a+=o?1:0))for(l=0,h=e-a;l<h;)l++,i.b+=" "}else{if(n>(h=a+(o?1:0))&&(h=n),e>h)if(s&1<<fp.Zero._hx_index)for(o&&(i.b+=null==t?"null":""+t),l=0,h=e-h;l<h;)l++,i.b+="0";else for(l=0,h=e-h;l<h;)l++,i.b+=" ";if(o&&!(s&1<<fp.Zero._hx_index)&&(i.b+=null==t?"null":""+t),n>a)for(l=0,h=n-a;l<h;)l++,i.b+="0";i.b+=g.string(r)}}},dp.formatUnsignedDecimal=function(t,e,i){if(0<=t)dp.formatSignedDecimal(t,e,i);else{t=new Aa(0,t);var s=(t=Ra.toString(t)).length,n=e.flags,r=e.precision;if(e=e.width,n&1<<fp.Minus._hx_index){if(r>s){n=0;for(var a=r-s;n<a;)n++,i.b+="0"}if(i.b+=null==t?"null":""+t,r>s&&(s=r),e>s)for(n=0,a=e-s;n<a;)n++,i.b+=" "}else{if(r>(a=s)&&(a=r),e>a)if(n&1<<fp.Zero._hx_index)for(n=0,a=e-a;n<a;)n++,i.b+="0";else for(n=0,a=e-a;n<a;)n++,i.b+=" ";if(r>s)for(n=0,a=r-s;n<a;)n++,i.b+="0";i.b+=null==t?"null":""+t}}},dp.formatNaturalFloat=function(t,e,i){var s=new b;dp.formatFloat(t,e,s);var n=s.b;s=new b,dp.formatScientific(t,e,s),t=s.b,n=n.length<=t.length?n:t,i.b+=null==n?"null":""+n},dp.formatScientific=function(t,e,i){var s=e.flags,n=e.precision;-1==n&&(n=dp.DEFAULT_PRECISION);var r,a="";if(0==t){var o=r=0;if(a+="0",0<n){a+=".";for(var l=0,h=n;l<h;)l++,a+="0"}}else r=0<t?1:0>t?-1:0,t=(l=Math).abs(t),o=l.floor(Math.log(t)/2.302585092994046),t/=l.pow(10,o),l=l.pow(.1,n),t=Math.round(t/l)*l;if(0!=t&&(a+=c.substr(null==t?"null":""+t,0,n+2)),a+=s&1<<fp.UpperCase._hx_index?"E":"e",a+=0<=o?"+":"-",t=g.string(0>o?-o:o),1>(h=dp.DEFAULT_NUM_EXP_DIGITS-t.length))l=t;else{if(30<h)for(n=o="0",l=0,--h;l<h;)l++,n+=o;else n=dp._padChars[h];l=n+t}if(a+=l,(t=-1==r||!!(s&1<<fp.Plus._hx_index)||!!(s&1<<fp.Space._hx_index))&&!(s&1<<fp.Zero._hx_index)&&(a=(-1==r?"-":s&1<<fp.Plus._hx_index?"+":" ")+a),0<e.width&&(l=e.width,t&&!!(s&1<<fp.Zero._hx_index)&&--l,e=s&1<<fp.Zero._hx_index?0:20,1<=(h=l-a.length))){if(30<h)for(n=o=0==e?"0":" ",l=0,--h;l<h;)l++,n+=o;else n=dp._padChars[e+h];a=n+a}t&&s&1<<fp.Zero._hx_index&&(a=(-1==r?"-":s&1<<fp.Plus._hx_index?"+":" ")+a),i.b+=null==a?"null":""+a},dp.formatFloat=function(t,e,i){var s=e.flags,n=e.precision;-1==n&&(n=dp.DEFAULT_PRECISION),e=e.width;var r=0>t;0==n?(t=g.string(Math.round(t)),s&1<<fp.Sharp._hx_index&&(t+=".")):t=t.toFixed(n);var a=t.length;if(r&&-1<t.indexOf("-")&&(t=c.substr(t,1,null)),n=null,s&1<<fp.Plus._hx_index&&!r?(n="+",++a):s&1<<fp.Space._hx_index?(n=" ",++a):r&&(n="-"),r=null!=n,s&1<<fp.Minus._hx_index){if(r&&(i.b+=null==n?"null":""+n),i.b+=null==t?"null":""+t,e>a)for(s=0,e-=a;s<e;)s++,i.b+=" "}else{if(e>a)if(s&1<<fp.Zero._hx_index)for(r&&(i.b+=null==n?"null":""+n,r=!1),s=0,e-=a;s<e;)s++,i.b+="0";else for(s=0,e-=a;s<e;)s++,i.b+=" ";r&&(i.b+=null==n?"null":""+n),i.b+=null==t?"null":""+t}},dp.formatCharacter=function(t,e,i){if(e.flags&1<<fp.Minus._hx_index){t=String.fromCodePoint(t),i.b+=g.string(t);var s=0;for(e=e.width-1;s<e;)s++,i.b+=" "}else{for(s=0,e=e.width-1;s<e;)s++,i.b+=" ";t=String.fromCodePoint(t),i.b+=g.string(t)}},dp.formatString=function(t,e,i){var s=t.length,n=e.precision;if(e.flags&1<<fp.Minus._hx_index){-1!=n?(i.b+=null==n?c.substr(t,0,null):c.substr(t,0,n),s=n):i.b+=null==t?"null":""+t;var r=0;for(e=e.width-s;r<e;)r++,i.b+=" "}else{for(-1!=n&&(s=n),r=0,e=e.width-s;r<e;)r++,i.b+=" ";i.b=-1!=n?i.b+(null==n?c.substr(t,0,null):c.substr(t,0,n)):i.b+(null==t?"null":""+t)}},dp.pad=function(t,e,i,s){if(1>(e-=t.length))return t;if(30<e){var n=0==i?"0":" ";i=n;var r=0;for(--e;r<e;)r++,i+=n}else i=dp._padChars[i+e];return 0<s?t+i:i+t};var mp=function(t){this.message=t};r["polygonal.ds.PrintfError"]=mp,mp.__name__="polygonal.ds.PrintfError",mp.prototype={message:null,toString:function(){return this.message},__class__:mp};var pp=function(t,e,i,s){this.flags=t,this.pos=e,this.width=i,this.precision=s};r["polygonal.ds._Printf.FormatArgs"]=pp,pp.__name__="polygonal.ds._Printf.FormatArgs",pp.prototype={flags:null,pos:null,width:null,precision:null,__class__:pp};var fp=o["polygonal.ds._Printf.FormatFlag"]={__ename__:"polygonal.ds._Printf.FormatFlag",__constructs__:null,Minus:{_hx_name:"Minus",_hx_index:0,__enum__:"polygonal.ds._Printf.FormatFlag",toString:a},Plus:{_hx_name:"Plus",_hx_index:1,__enum__:"polygonal.ds._Printf.FormatFlag",toString:a},Space:{_hx_name:"Space",_hx_index:2,__enum__:"polygonal.ds._Printf.FormatFlag",toString:a},Sharp:{_hx_name:"Sharp",_hx_index:3,__enum__:"polygonal.ds._Printf.FormatFlag",toString:a},Zero:{_hx_name:"Zero",_hx_index:4,__enum__:"polygonal.ds._Printf.FormatFlag",toString:a},LengthH:{_hx_name:"LengthH",_hx_index:5,__enum__:"polygonal.ds._Printf.FormatFlag",toString:a},LengthUpperCaseL:{_hx_name:"LengthUpperCaseL",_hx_index:6,__enum__:"polygonal.ds._Printf.FormatFlag",toString:a},LengthLowerCaseL:{_hx_name:"LengthLowerCaseL",_hx_index:7,__enum__:"polygonal.ds._Printf.FormatFlag",toString:a},UpperCase:{_hx_name:"UpperCase",_hx_index:8,__enum__:"polygonal.ds._Printf.FormatFlag",toString:a}};fp.__constructs__=[fp.Minus,fp.Plus,fp.Space,fp.Sharp,fp.Zero,fp.LengthH,fp.LengthUpperCaseL,fp.LengthLowerCaseL,fp.UpperCase];var gp=o["polygonal.ds._Printf.FormatToken"]={__ename__:"polygonal.ds._Printf.FormatToken",__constructs__:null,Raw:(l=function(t){return{_hx_index:0,string:t,__enum__:"polygonal.ds._Printf.FormatToken",toString:a}},l._hx_name="Raw",l.__params__=["string"],l),Tag:(l=function(t,e){return{_hx_index:1,type:t,args:e,__enum__:"polygonal.ds._Printf.FormatToken",toString:a}},l._hx_name="Tag",l.__params__=["type","args"],l),Property:(l=function(t){return{_hx_index:2,name:t,__enum__:"polygonal.ds._Printf.FormatToken",toString:a}},l._hx_name="Property",l.__params__=["name"],l),Unknown:(l=function(t,e){return{_hx_index:3,string:t,pos:e,__enum__:"polygonal.ds._Printf.FormatToken",toString:a}},l._hx_name="Unknown",l.__params__=["string","pos"],l)};gp.__constructs__=[gp.Raw,gp.Tag,gp.Property,gp.Unknown];var yp=o["polygonal.ds._Printf.FormatDataType"]={__ename__:"polygonal.ds._Printf.FormatDataType",__constructs__:null,FmtInt:(l=function(t){return{_hx_index:0,type:t,__enum__:"polygonal.ds._Printf.FormatDataType",toString:a}},l._hx_name="FmtInt",l.__params__=["type"],l),FmtFloat:(l=function(t){return{_hx_index:1,floatType:t,__enum__:"polygonal.ds._Printf.FormatDataType",toString:a}},l._hx_name="FmtFloat",l.__params__=["floatType"],l),FmtString:{_hx_name:"FmtString",_hx_index:2,__enum__:"polygonal.ds._Printf.FormatDataType",toString:a},FmtPointer:{_hx_name:"FmtPointer",_hx_index:3,__enum__:"polygonal.ds._Printf.FormatDataType",toString:a},FmtNothing:{_hx_name:"FmtNothing",_hx_index:4,__enum__:"polygonal.ds._Printf.FormatDataType",toString:a}};yp.__constructs__=[yp.FmtInt,yp.FmtFloat,yp.FmtString,yp.FmtPointer,yp.FmtNothing];var bp=o["polygonal.ds._Printf.IntType"]={__ename__:"polygonal.ds._Printf.IntType",__constructs__:null,ICharacter:{_hx_name:"ICharacter",_hx_index:0,__enum__:"polygonal.ds._Printf.IntType",toString:a},ISignedDecimal:{_hx_name:"ISignedDecimal",_hx_index:1,__enum__:"polygonal.ds._Printf.IntType",toString:a},IUnsignedDecimal:{_hx_name:"IUnsignedDecimal",_hx_index:2,__enum__:"polygonal.ds._Printf.IntType",toString:a},IOctal:{_hx_name:"IOctal",_hx_index:3,__enum__:"polygonal.ds._Printf.IntType",toString:a},IHex:{_hx_name:"IHex",_hx_index:4,__enum__:"polygonal.ds._Printf.IntType",toString:a},IBin:{_hx_name:"IBin",_hx_index:5,__enum__:"polygonal.ds._Printf.IntType",toString:a}};bp.__constructs__=[bp.ICharacter,bp.ISignedDecimal,bp.IUnsignedDecimal,bp.IOctal,bp.IHex,bp.IBin];var vp=o["polygonal.ds._Printf.FloatType"]={__ename__:"polygonal.ds._Printf.FloatType",__constructs__:null,FNormal:{_hx_name:"FNormal",_hx_index:0,__enum__:"polygonal.ds._Printf.FloatType",toString:a},FScientific:{_hx_name:"FScientific",_hx_index:1,__enum__:"polygonal.ds._Printf.FloatType",toString:a},FNatural:{_hx_name:"FNatural",_hx_index:2,__enum__:"polygonal.ds._Printf.FloatType",toString:a}};vp.__constructs__=[vp.FNormal,vp.FScientific,vp.FNatural];var xp=function(){};r["polygonal.ds.tools.ArrayTools"]=xp,xp.__name__="polygonal.ds.tools.ArrayTools",xp.alloc=function(t){return wp._assert(0<=t,"len >= 0",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:37,className:"polygonal.ds.tools.ArrayTools",methodName:"alloc"}),Array(t)},xp.trim=function(t,e){return t.length>e&&(t.length=e),t},xp.swap=function(t,e,i){if(wp._assert(null!=t,"array != null",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:94,className:"polygonal.ds.tools.ArrayTools",methodName:"swap"}),wp._assert(0<=e&&e<t.length,"0 <= a && a < array.length",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:95,className:"polygonal.ds.tools.ArrayTools",methodName:"swap"}),wp._assert(0<=i&&i<t.length,"0 <= b && b < array.length",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:96,className:"polygonal.ds.tools.ArrayTools",methodName:"swap"}),e!=i){var s=t[e];t[e]=t[i],t[i]=s}},xp.getFront=function(t,e){if(wp._assert(null!=t,"array != null",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:113,className:"polygonal.ds.tools.ArrayTools",methodName:"getFront"}),wp._assert(0<=e&&e<t.length,"0 <= index && index < array.length",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:114,className:"polygonal.ds.tools.ArrayTools",methodName:"getFront"}),wp._assert(null!=t,"array != null",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:94,className:"polygonal.ds.tools.ArrayTools",methodName:"swap"}),wp._assert(0<=e&&e<t.length,"0 <= a && a < array.length",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:95,className:"polygonal.ds.tools.ArrayTools",methodName:"swap"}),wp._assert(0<t.length,"0 <= b && b < array.length",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:96,className:"polygonal.ds.tools.ArrayTools",methodName:"swap"}),0!=e){var i=t[e];t[e]=t[0],t[0]=i}return t[0]},xp.init=function(t,e,i,s){for(null==s&&(s=0),null==i&&(i=0),s=0>=s?t.length:i+s,wp._assert(0<=i&&i<t.length,"min >= 0 && min < a.length",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:129,className:"polygonal.ds.tools.ArrayTools",methodName:"init"}),wp._assert(s<=t.length,"max <= a.length",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:130,className:"polygonal.ds.tools.ArrayTools",methodName:"init"});i<s;)t[i++]=e;return t},xp.blit=function(t,e,i,s,n){if(0<n)if(wp._assert(e<t.length,"srcPos out of range(srcPos < src.length)",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:145,className:"polygonal.ds.tools.ArrayTools",methodName:"blit"}),wp._assert(s<i.length,"dstPos out of range(dstPos < dst.length)",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:146,className:"polygonal.ds.tools.ArrayTools",methodName:"blit"}),wp._assert(e+n<=t.length&&s+n<=i.length,"n out of range(srcPos + n <= src.length && dstPos + n <= dst.length)",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:147,className:"polygonal.ds.tools.ArrayTools",methodName:"blit"}),t==i){if(e<s){var r=e+n;e=s+n;for(var a=0;a<n;)a++,--r,t[--e]=t[r]}else if(e>s)for(r=e,e=s,a=0;a<n;)a++,t[e]=t[r],++r,++e}else if(0==e&&0==s)for(a=0;a<n;)i[r=a++]=t[r];else if(0==e)for(a=0;a<n;)i[s+(r=a++)]=t[r];else if(0==s)for(a=0;a<n;)i[r=a++]=t[e+r];else for(a=0;a<n;)i[s+(r=a++)]=t[e+r]},xp.iter=function(t,e,i){null==i&&(i=0),0==i&&(i=t.length);for(var s=0;s<i;)e(t[s++])},xp.forEach=function(t,e){for(var i=0,s=t.length;i<s;){var n=i++;t[n]=e(t[n],n)}},xp.binarySearchCmp=function(t,e,i,s,n){wp._assert(null!=t,"a != null",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:236,className:"polygonal.ds.tools.ArrayTools",methodName:"binarySearchCmp"}),wp._assert(null!=n,"comparator != null",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:237,className:"polygonal.ds.tools.ArrayTools",methodName:"binarySearchCmp"}),wp._assert(0<=i&&i<t.length,"min >= 0 && min < a.length",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:238,className:"polygonal.ds.tools.ArrayTools",methodName:"binarySearchCmp"}),wp._assert(s<t.length,"max < a.length",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:239,className:"polygonal.ds.tools.ArrayTools",methodName:"binarySearchCmp"});for(var r,a=s+1;i<a;)0>n(t[r=i+(a-i>>1)],e)?i=r+1:a=r;return i<=s&&0==n(t[i],e)?i:~i},xp.binarySearchf=function(t,e,i,s){wp._assert(null!=t,"a != null",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:265,className:"polygonal.ds.tools.ArrayTools",methodName:"binarySearchf"}),wp._assert(0<=i&&i<t.length,"min >= 0 && min < a.length",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:266,className:"polygonal.ds.tools.ArrayTools",methodName:"binarySearchf"}),wp._assert(s<t.length,"max < a.length",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:267,className:"polygonal.ds.tools.ArrayTools",methodName:"binarySearchf"});for(var n,r=s+1;i<r;)t[n=i+(r-i>>1)]<e?i=n+1:r=n;return i<=s&&t[i]==e?i:~i},xp.binarySearchi=function(t,e,i,s){wp._assert(null!=t,"a != null",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:293,className:"polygonal.ds.tools.ArrayTools",methodName:"binarySearchi"}),wp._assert(0<=i&&i<t.length,"min >= 0 && min < a.length",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:294,className:"polygonal.ds.tools.ArrayTools",methodName:"binarySearchi"}),wp._assert(s<t.length,"max < a.length",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:295,className:"polygonal.ds.tools.ArrayTools",methodName:"binarySearchi"});for(var n,r=s+1;i<r;)t[n=i+(r-i>>1)]<e?i=n+1:r=n;return i<=s&&t[i]==e?i:~i},xp.shuffle=function(t,e){wp._assert(null!=t,"a != null",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:320,className:"polygonal.ds.tools.ArrayTools",methodName:"shuffle"});var i=t.length;if(null==e)for(;1<--i;){var s=Ap.f()*i|0,n=t[i];t[i]=t[s],t[s]=n}else{wp._assert(e.length>=t.length,"insufficient random values(rvals.length >= a.length)",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:335,className:"polygonal.ds.tools.ArrayTools",methodName:"shuffle"});for(var r=0;1<--i;)s=e[r++]*i|0,n=t[i],t[i]=t[s],t[s]=n}},xp.random=function(t){var e=t.length;return 2>e?t[0]:t[Ap.f()*e|0]},xp.sortRange=function(t,e,i,s,n){var r=t.length;if(1<r)if(wp._assert(0<=s&&s<=r-1&&s+n<=r,"first out of range(first >= 0 && first <= k - 1 && first + n <= k)",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:370,className:"polygonal.ds.tools.ArrayTools",methodName:"sortRange"}),wp._assert(0<=n&&n<=r,"n out of range(n >= 0 && n <= k)",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:371,className:"polygonal.ds.tools.ArrayTools",methodName:"sortRange"}),i)for(i=s+1,n=s+n;i<n;){var a=i++;for(r=t[a];a>s;){var o=t[a-1];if(!(0<e(o,r)))break;t[a]=o,--a}t[a]=r}else xp._quickSort(t,s,n,e)},xp.quickPerm=function(t){for(var e,i,s=[],n=[],r=[],a=0;a<t;)n[a]=a+1,r[a]=0,++a;for(s.push(n.slice()),a=1;a<t;)r[a]<a?(i=n[e=a%2*r[a]],n[e]=n[a],n[a]=i,s.push(n.slice()),r[a]++,a=1):(r[a]=0,++a);return s},xp.equals=function(t,e,i){if(t.length!=e.length)return!1;for(var s=0,n=t.length;s<n;){if(!i(t[s],e[s]))return!1;++s}return!0},xp.split=function(t,e,i){wp._assert(0==e%i,"n is not a multiple of k(n % k == 0)",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:464,className:"polygonal.ds.tools.ArrayTools",methodName:"split"});for(var s=[],n=null,r=0;r<e;){var a=r++;0==a%i&&(n=[],s[a/i|0]=n),n.push(t[a])}return s},xp.pairwise=function(t,e,i){var s=0;for(wp._assert(!(1&i),"max & 1 == 0",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:489,className:"polygonal.ds.tools.ArrayTools",methodName:"pairwise"});s<i;)e(s,t[s],t[s+1]),s+=2},xp.bruteforce=function(t,e){for(var i,s,n=0,r=t.length,a=r-1;n<a;){for(s=t[n],i=n+1;i<r;)e(s,t[i]),++i;++n}},xp._quickSort=function(t,e,i,s){var n=e+i-1,r=e,a=n;if(1<i){var o=e+(i>>1);i=e+i-1;var l=t[e],h=t[o],_=t[i],c=s(l,_);for(i=t[o=0>c&&0>s(l,h)?0>s(h,_)?o:i:0>s(h,l)&&0>s(h,_)?0>c?e:i:0>s(_,l)?o:e],t[o]=t[e];r<a;){for(;0>s(i,t[a])&&r<a;)--a;for(a!=r&&(t[r]=t[a],++r);0<s(i,t[r])&&r<a;)++r;a!=r&&(t[a]=t[r],--a)}t[r]=i,xp._quickSort(t,e,r-e,s),xp._quickSort(t,r+1,n-r,s)}};var wp=function(){};r["polygonal.ds.tools.Assert"]=wp,wp.__name__="polygonal.ds.tools.Assert",wp._assert=function(t,e,i){if(!t)throw t="in file "+i.fileName+", line "+i.lineNumber,Error("Assertion failed"+(null!=e?": ":" ")+(null==e?t:e+" ("+t+")"))};var Sp=function(){};r["polygonal.ds.tools.GrowthRate"]=Sp,Sp.__name__="polygonal.ds.tools.GrowthRate",Sp.compute=function(t,e){if(wp._assert(-3<=t,"invalid growth rate(rate >= -3)",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/tools/GrowthRate.hx",lineNumber:52,className:"polygonal.ds.tools.GrowthRate",methodName:"compute"}),0<t)e+=t;else switch(t){case-3:e<<=1;break;case-2:e=1+(3*e>>1);break;case-1:e=((t=e+1)>>3)+(9>t?3:6)+t;break;case 0:throw wa.thrown("out of space")}return e};var Rp=function(){};r["polygonal.ds.tools.NativeArrayTools"]=Rp,Rp.__name__="polygonal.ds.tools.NativeArrayTools",Rp.alloc=function(t){return Array(t)},Rp.get=function(t,e){return t[e]},Rp.set=function(t,e,i){t[e]=i},Rp.size=function(t){return t.length},Rp.toArray=function(t,e,i,s){if(wp._assert(0<=e&&e<t.length,"first index out of range(first >= 0 && first < size(src))",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/tools/NativeArrayTools.hx",lineNumber:140,className:"polygonal.ds.tools.NativeArrayTools",methodName:"toArray"}),wp._assert(0<=i&&e+i<=t.length,"len out of range(len >= 0 && first + len <= size(src))",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/tools/NativeArrayTools.hx",lineNumber:141,className:"polygonal.ds.tools.NativeArrayTools",methodName:"toArray"}),0==i)return[];if(wp._assert(0<=i,"len >= 0",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/tools/ArrayTools.hx",lineNumber:37,className:"polygonal.ds.tools.ArrayTools",methodName:"alloc"}),s=Array(i),0==e)for(var n=0;n<i;){var r=n++;s[r]=t[r]}else for(n=e,i=e+i;n<i;)s[(r=n++)-e]=t[r];return s},Rp.ofArray=function(t){return t.slice(0,t.length)},Rp.blit=function(t,e,i,s,n){if(0<n)if(wp._assert(e<t.length,"srcPos out of range(srcPos < size(src))",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/tools/NativeArrayTools.hx",lineNumber:197,className:"polygonal.ds.tools.NativeArrayTools",methodName:"blit"}),wp._assert(s<i.length,"dstPos out of range(dstPos < size(dst))",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/tools/NativeArrayTools.hx",lineNumber:198,className:"polygonal.ds.tools.NativeArrayTools",methodName:"blit"}),wp._assert(e+n<=t.length&&s+n<=i.length,"n out of range(srcPos + n <= size(src) && dstPos + n <= size(dst))",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/tools/NativeArrayTools.hx",lineNumber:199,className:"polygonal.ds.tools.NativeArrayTools",methodName:"blit"}),t==i){if(e<s){var r=e+n;e=s+n;for(var a=0;a<n;)a++,--r,t[--e]=t[r]}else if(e>s)for(r=e,e=s,a=0;a<n;)a++,t[e]=t[r],++r,++e}else if(0==e&&0==s)for(a=0;a<n;)i[r=a++]=t[r];else if(0==e)for(a=0;a<n;)i[s+(r=a++)]=t[r];else if(0==s)for(a=0;a<n;)i[r=a++]=t[e+r];else for(a=0;a<n;)i[s+(r=a++)]=t[e+r]},Rp.copy=function(t){return t.slice(0)},Rp.zero=function(t,e,i){for(null==i&&(i=0),null==e&&(e=0),i=0>=i?t.length:e+i,wp._assert(0<=e&&e<t.length,"min >= 0 && min < size(dst)",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/tools/NativeArrayTools.hx",lineNumber:293,className:"polygonal.ds.tools.NativeArrayTools",methodName:"zero"}),wp._assert(i<=t.length,"max <= size(dst)",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/tools/NativeArrayTools.hx",lineNumber:294,className:"polygonal.ds.tools.NativeArrayTools",methodName:"zero"});e<i;)t[e++]=0;return t},Rp.init=function(t,e,i,s){for(null==s&&(s=0),null==i&&(i=0),s=0>=s?t.length:i+s,wp._assert(0<=i&&i<t.length,"min >= 0 && min < size(a)",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/tools/NativeArrayTools.hx",lineNumber:315,className:"polygonal.ds.tools.NativeArrayTools",methodName:"init"}),wp._assert(s<=t.length,"max <= size(a)",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/tools/NativeArrayTools.hx",lineNumber:316,className:"polygonal.ds.tools.NativeArrayTools",methodName:"init"});i<s;)t[i++]=e;return t},Rp.nullify=function(t,e,i){for(null==i&&(i=0),null==e&&(e=0),i=0>=i?t.length:e+i,wp._assert(0<=e&&e<t.length,"min >= 0 && min < size(a)",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/tools/NativeArrayTools.hx",lineNumber:331,className:"polygonal.ds.tools.NativeArrayTools",methodName:"nullify"}),wp._assert(i<=t.length,"max <= size(a)",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/tools/NativeArrayTools.hx",lineNumber:332,className:"polygonal.ds.tools.NativeArrayTools",methodName:"nullify"});e<i;)t[e++]=null;return t},Rp.binarySearchCmp=function(t,e,i,s,n){wp._assert(null!=t,"a != null",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/tools/NativeArrayTools.hx",lineNumber:351,className:"polygonal.ds.tools.NativeArrayTools",methodName:"binarySearchCmp"}),wp._assert(null!=n,"cmp != null",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/tools/NativeArrayTools.hx",lineNumber:352,className:"polygonal.ds.tools.NativeArrayTools",methodName:"binarySearchCmp"}),wp._assert(0<=i&&i<t.length,"min >= 0 && min < size(a)",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/tools/NativeArrayTools.hx",lineNumber:353,className:"polygonal.ds.tools.NativeArrayTools",methodName:"binarySearchCmp"}),wp._assert(s<t.length,"max < size(a)",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/tools/NativeArrayTools.hx",lineNumber:354,className:"polygonal.ds.tools.NativeArrayTools",methodName:"binarySearchCmp"});for(var r,a=s+1;i<a;)0>n(t[r=i+(a-i>>1)],e)?i=r+1:a=r;return i<=s&&0==n(t[i],e)?i:~i},Rp.binarySearchf=function(t,e,i,s){wp._assert(null!=t,"a != null",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/tools/NativeArrayTools.hx",lineNumber:379,className:"polygonal.ds.tools.NativeArrayTools",methodName:"binarySearchf"}),wp._assert(0<=i&&i<t.length,"min >= 0 && min < size(a)",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/tools/NativeArrayTools.hx",lineNumber:380,className:"polygonal.ds.tools.NativeArrayTools",methodName:"binarySearchf"}),wp._assert(s<t.length,"max < size(a)",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/tools/NativeArrayTools.hx",lineNumber:381,className:"polygonal.ds.tools.NativeArrayTools",methodName:"binarySearchf"});for(var n,r=s+1;i<r;)t[n=i+(r-i>>1)]<e?i=n+1:r=n;return i<=s&&t[i]==e?i:~i},Rp.binarySearchi=function(t,e,i,s){wp._assert(null!=t,"a != null",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/tools/NativeArrayTools.hx",lineNumber:406,className:"polygonal.ds.tools.NativeArrayTools",methodName:"binarySearchi"}),wp._assert(0<=i&&i<t.length,"min >= 0 && min < size(a)",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/tools/NativeArrayTools.hx",lineNumber:407,className:"polygonal.ds.tools.NativeArrayTools",methodName:"binarySearchi"}),wp._assert(s<t.length,"max < size(a)",{fileName:"C:/Users/Adven/AppData/Local/Stencyl/libs/haxelib/Stencyl/ds/1d23c8a6f89f0f3a80158b94ca285e4e61cf982d/src/polygonal/ds/tools/NativeArrayTools.hx",lineNumber:408,className:"polygonal.ds.tools.NativeArrayTools",methodName:"binarySearchi"});for(var n,r=s+1;i<r;)t[n=i+(r-i>>1)]<e?i=n+1:r=n;return i<=s&&t[i]==e?i:~i};var Ap=function(){};r["polygonal.ds.tools.Shuffle"]=Ap,Ap.__name__="polygonal.ds.tools.Shuffle",Ap.f=function(){return Math.random()},Ap.setRandom=function(t){Ap.f=t},Ap.frand=function(){return Ap.f()};var Tp=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_479"]=Tp,Tp.__name__="scripts.ActorEvents_479",Tp.__super__=Je,Tp.prototype=i(Je.prototype,{_event_Updating:function(t){this.wrapper.enabled&&!Ge.engine.getGameAttribute("Multiplayer On")&&(Ke.isKeyDown("Left")&&Ke.simulateKeyPress("A"),Ke.isKeyReleased("Left")&&Ke.simulateKeyRelease("A"),Ke.isKeyDown("Up")&&Ke.simulateKeyPress("W"),Ke.isKeyReleased("Up")&&Ke.simulateKeyRelease("W"),Ke.isKeyDown("Right")&&Ke.simulateKeyPress("D"),Ke.isKeyReleased("Right")&&Ke.simulateKeyRelease("D"),Ke.isKeyDown("Space")&&Ke.simulateKeyPress("W"),Ke.isKeyReleased("Space")&&Ke.simulateKeyRelease("W"))},_event_DrawingCopy:function(t,e,i){this.wrapper.enabled&&!Ge.engine.getGameAttribute("Multiplayer On")&&Ke.engine.isPaused()&&(Ke.isKeyDown("Left")||Ke.simulateKeyRelease("A"),Ke.isKeyDown("Up")||Ke.simulateKeyRelease("W"),Ke.isKeyDown("Right")||Ke.simulateKeyRelease("D"),Ke.isKeyDown("Space")||Ke.simulateKeyRelease("W"))},init:function(){this.actor.moveToTop(),"Results Screen"!=Ke.getCurrentSceneName()&&Ke.createRecycledActor(Ke.getActorType(527),-32,-32,0),Ke.getLastCreatedActor().setX(this.actor.getXCenter()-Ke.getLastCreatedActor().getWidth()/2),Ke.getLastCreatedActor().setY(this.actor.getYCenter()-Ke.getLastCreatedActor().getHeight()/2),Ge.engine.getGameAttribute("Multiplayer On")?(Ke.createRecycledActor(Ke.getActorType(654),this.actor.getX(),this.actor.getY(),0),Ke.createRecycledActor(Ke.getActorType(686),this.actor.getX(),this.actor.getY(),0)):Ke.createRecycledActor(Ke.getActorType(688),this.actor.getX(),this.actor.getY(),0),this.actor.setActorValue("P1",!0),this.addListener(this.actor.whenUpdated,n(this,this._event_Updating)),this.addListener(this.actor.whenDrawing,n(this,this._event_DrawingCopy))},forwardMessage:function(t){},__class__:Tp});var Mp=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_484"]=Mp,Mp.__name__="scripts.ActorEvents_484",Mp.__super__=Je,Mp.prototype=i(Je.prototype,{init:function(){},forwardMessage:function(t){},__class__:Mp});var Pp=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_486"]=Pp,Pp.__name__="scripts.ActorEvents_486",Pp.__super__=Je,Pp.prototype=i(Je.prototype,{init:function(){},forwardMessage:function(t){},__class__:Pp});var Cp=function(t,e,i){Je.call(this,e),this.nameMap.h["Can Move"]="_CanMove",this._CanMove=!1,this.nameMap.h["Moving Right"]="_MovingRight",this._MovingRight=!1};r["scripts.ActorEvents_488"]=Cp,Cp.__name__="scripts.ActorEvents_488",Cp.__super__=Je,Cp.prototype=i(Je.prototype,{_CanMove:null,_MovingRight:null,_event_Updating:function(t){this.wrapper.enabled&&this.actor.moveToBottom()},init:function(){var t=this;this.actor.setAnimation("0"),Ke.runLater(1400,function(e){t.actor.setAnimation("1"),Ke.createRecycledActor(Ke.getActorType(527),-32,-32,0),Ke.getLastCreatedActor().setX(t.actor.getXCenter()-Ke.getLastCreatedActor().getWidth()/2),Ke.getLastCreatedActor().setY(t.actor.getYCenter()-Ke.getLastCreatedActor().getHeight()/2-8),Ke.runLater(400,function(e){t._CanMove=!0,t._MovingRight=!0,t.actor.shout("_customEvent_StartMovingSaw")},t.actor)},this.actor),Ge.engine.getGameAttribute("Mute Sounds")||(Ke.playSound(Ke.getSound(553)),Ke.runLater(200,function(e){Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(553)),Ke.runLater(200,function(e){Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(553)),Ke.runLater(200,function(e){Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(553)),Ke.runLater(200,function(e){Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(553)),Ke.runLater(200,function(e){Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(553)),Ke.runLater(200,function(t){Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(553))},t.actor)},t.actor)},t.actor)},t.actor)},t.actor)},this.actor)),this.addListener(this.actor.whenUpdated,n(this,this._event_Updating))},forwardMessage:function(t){},__class__:Cp});var Ip=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_490"]=Ip,Ip.__name__="scripts.ActorEvents_490",Ip.__super__=Je,Ip.prototype=i(Je.prototype,{_event_Updating:function(t){this.wrapper.enabled&&this.actor.getScreenY()>Ke.getScreenHeight()&&Ke.recycleActor(this.actor)},init:function(){var t=this;this.actor.makeAlwaysSimulate(),this.actor.setY(Ke.getScreenY()-this.actor.getHeight()),this.actor.setYVelocity(2),Ke.runLater(1200,function(e){t.actor.setYVelocity(10),t.actor.setAnimation("Down"),Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(562))},this.actor),this.addListener(this.actor.whenUpdated,n(this,this._event_Updating))},forwardMessage:function(t){},__class__:Ip});var Ep=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_494"]=Ep,Ep.__name__="scripts.ActorEvents_494",Ep.__super__=Je,Ep.prototype=i(Je.prototype,{init:function(){},forwardMessage:function(t){},__class__:Ep});var kp=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_497"]=kp,kp.__name__="scripts.ActorEvents_497",kp.__super__=Je,kp.prototype=i(Je.prototype,{init:function(){},forwardMessage:function(t){},__class__:kp});var Fp=function(t,e,i){Je.call(this,e),this.nameMap.h["Moving Right?"]="_MovingRight",this._MovingRight=!1,this.nameMap.h["Moving Up?"]="_MovingUp",this._MovingUp=!1,this.nameMap.h["Can Move"]="_CanMove",this._CanMove=!1,this.nameMap.h["Random Starting Direction"]="_RandomStartingDirection",this._RandomStartingDirection=0};r["scripts.ActorEvents_499"]=Fp,Fp.__name__="scripts.ActorEvents_499",Fp.__super__=Je,Fp.prototype=i(Je.prototype,{_MovingRight:null,_MovingUp:null,_CanMove:null,_RandomStartingDirection:null,_event_ActorAny:function(t){this.wrapper.enabled&&(t.thisFromTop?this._MovingUp=!1:t.thisFromBottom?this._MovingUp=!0:t.thisFromLeft?this._MovingRight=!0:t.thisFromRight&&(this._MovingRight=!1))},_event_Updating:function(t){this.wrapper.enabled&&(this._CanMove&&(this._MovingUp?this.actor.setYVelocity(-5):this.actor.setYVelocity(5),this._MovingRight?this.actor.setXVelocity(5):this.actor.setXVelocity(-5)),this.actor.getY()<Ke.getScreenY()-8&&(this._MovingUp=!1))},init:function(){var t=this;this.actor.makeAlwaysSimulate(),this.actor.setAnimation("0"),this._RandomStartingDirection=Ke.randomInt(0,1),Ke.runLater(1400,function(e){t.actor.setAnimation("1"),Ke.createRecycledActor(Ke.getActorType(527),-32,-32,0),Ke.getLastCreatedActor().setX(t.actor.getXCenter()-Ke.getLastCreatedActor().getWidth()/2),Ke.getLastCreatedActor().setY(t.actor.getYCenter()-Ke.getLastCreatedActor().getHeight()/2),Ke.runLater(100,function(e){t._MovingUp=!1,t._CanMove=!0,t._MovingRight=0==t._RandomStartingDirection},t.actor)},this.actor),Ge.engine.getGameAttribute("Mute Sounds")||(Ke.playSound(Ke.getSound(553)),Ke.runLater(200,function(e){Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(553)),Ke.runLater(200,function(e){Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(553)),Ke.runLater(200,function(e){Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(553)),Ke.runLater(200,function(e){Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(553)),Ke.runLater(200,function(e){Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(553)),Ke.runLater(200,function(t){Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(553))},t.actor)},t.actor)},t.actor)},t.actor)},t.actor)},this.actor)),this.addListener(this.actor.whenCollided,n(this,this._event_ActorAny)),this.addListener(this.actor.whenUpdated,n(this,this._event_Updating))},forwardMessage:function(t){},__class__:Fp});var Bp=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_501"]=Bp,Bp.__name__="scripts.ActorEvents_501",Bp.__super__=Je,Bp.prototype=i(Je.prototype,{init:function(){Ke.recycleActor(this.actor)},forwardMessage:function(t){},__class__:Bp});var Dp=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_503"]=Dp,Dp.__name__="scripts.ActorEvents_503",Dp.__super__=Je,Dp.prototype=i(Je.prototype,{init:function(){},forwardMessage:function(t){},__class__:Dp});var Lp=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_505"]=Lp,Lp.__name__="scripts.ActorEvents_505",Lp.__super__=Je,Lp.prototype=i(Je.prototype,{init:function(){this.actor.anchorToScreen(),this.actor.setX(-16+L.leftInset),this.actor.setY(Ke.getScreenHeight()-this.actor.getHeight()+8-L.bottomInset),Ke.createRecycledActor(Ke.getActorType(509),this.actor.getX()+this.actor.getWidth(),this.actor.getY(),0),Ge.engine.getGameAttribute("Hide Mobile Controls")&&this.actor.disableActorDrawing()},forwardMessage:function(t){},__class__:Lp});var Np=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_507"]=Np,Np.__name__="scripts.ActorEvents_507",Np.__super__=Je,Np.prototype=i(Je.prototype,{init:function(){this.actor.anchorToScreen(),this.actor.setX(Ke.getScreenWidth()-Ke.getScreenWidth()+L.leftInset),this.actor.setY(Ke.getScreenHeight()-this.actor.getHeight()-L.bottomInset),Ke.createRecycledActor(Ke.getActorType(511),this.actor.getX()+this.actor.getWidth(),this.actor.getY(),0),Ge.engine.getGameAttribute("Hide Mobile Controls")&&this.actor.disableActorDrawing()},forwardMessage:function(t){},__class__:Np});var Op=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_509"]=Op,Op.__name__="scripts.ActorEvents_509",Op.__super__=Je,Op.prototype=i(Je.prototype,{init:function(){this.actor.anchorToScreen(),Ge.engine.getGameAttribute("Hide Mobile Controls")&&this.actor.disableActorDrawing()},forwardMessage:function(t){},__class__:Op});var Vp=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_511"]=Vp,Vp.__name__="scripts.ActorEvents_511",Vp.__super__=Je,Vp.prototype=i(Je.prototype,{init:function(){this.actor.anchorToScreen(),Ge.engine.getGameAttribute("Hide Mobile Controls")&&this.actor.disableActorDrawing()},forwardMessage:function(t){},__class__:Vp});var Gp=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_515"]=Gp,Gp.__name__="scripts.ActorEvents_515",Gp.__super__=Je,Gp.prototype=i(Je.prototype,{init:function(){this.actor.anchorToScreen(),this.actor.setX(Ke.getScreenWidth()-this.actor.getWidth()+16-L.rightInset),this.actor.setY(Ke.getScreenHeight()-this.actor.getHeight()+8-L.bottomInset),Ge.engine.getGameAttribute("Hide Mobile Controls")&&this.actor.disableActorDrawing()},forwardMessage:function(t){},__class__:Gp});var Up=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_517"]=Up,Up.__name__="scripts.ActorEvents_517",Up.__super__=Je,Up.prototype=i(Je.prototype,{init:function(){this.actor.anchorToScreen(),this.actor.setX(Ke.getScreenWidth()-this.actor.getWidth()-L.rightInset),this.actor.setY(Ke.getScreenHeight()-this.actor.getHeight()-L.bottomInset),Ge.engine.getGameAttribute("Hide Mobile Controls")&&this.actor.disableActorDrawing()},forwardMessage:function(t){},__class__:Up});var zp=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_519"]=zp,zp.__name__="scripts.ActorEvents_519",zp.__super__=Je,zp.prototype=i(Je.prototype,{init:function(){Ke.engine.isPaused()?this.actor.setX(Ke.getScreenWidth()-this.actor.getWidth()-L.rightInset+64):this.actor.setX(Ke.getScreenWidth()-this.actor.getWidth()-L.rightInset),this.actor.setY(Ke.getScreenHeight()-Ke.getScreenHeight()),Ge.engine.getGameAttribute("Hide Mobile Controls")&&this.actor.disableActorDrawing()},forwardMessage:function(t){},__class__:zp});var Hp=function(t,e,i){Je.call(this,e),this.nameMap.h["Spawning Direction Random"]="_SpawningDirectionRandom",this._SpawningDirectionRandom=0};r["scripts.ActorEvents_521"]=Hp,Hp.__name__="scripts.ActorEvents_521",Hp.__super__=Je,Hp.prototype=i(Je.prototype,{_SpawningDirectionRandom:null,init:function(){var t=this;this.actor.moveToBottom(),this._SpawningDirectionRandom=Ke.randomInt(0,1),Ke.runLater(100,function(e){Ke.createRecycledActor(Ke.getActorType(549),-32,-32,1),Ke.getLastCreatedActor().moveToBottom(),Ke.getLastCreatedActor().setX(t.actor.getXCenter()-Ke.getLastCreatedActor().getWidth()/2),Ke.getLastCreatedActor().setY(t.actor.getYCenter()-Ke.getLastCreatedActor().getHeight()/2-12),1==t._SpawningDirectionRandom&&Ke.getLastCreatedActor().shout("_customEvent_SpinLeft"),Ke.createRecycledActor(Ke.getActorType(549),-32,-32,1),Ke.getLastCreatedActor().moveToBottom(),Ke.getLastCreatedActor().setX(t.actor.getXCenter()-Ke.getLastCreatedActor().getWidth()/2),Ke.getLastCreatedActor().setY(t.actor.getYCenter()-Ke.getLastCreatedActor().getHeight()/2-22),1==t._SpawningDirectionRandom&&Ke.getLastCreatedActor().shout("_customEvent_SpinLeft"),Ke.createRecycledActor(Ke.getActorType(549),-32,-32,1),Ke.getLastCreatedActor().moveToBottom(),Ke.getLastCreatedActor().setX(t.actor.getXCenter()-Ke.getLastCreatedActor().getWidth()/2),Ke.getLastCreatedActor().setY(t.actor.getYCenter()-Ke.getLastCreatedActor().getHeight()/2-32),1==t._SpawningDirectionRandom&&Ke.getLastCreatedActor().shout("_customEvent_SpinLeft"),Ke.createRecycledActor(Ke.getActorType(525),-32,-32,1),Ke.getLastCreatedActor().moveToBottom(),Ke.getLastCreatedActor().setX(t.actor.getXCenter()-Ke.getLastCreatedActor().getWidth()/2),Ke.getLastCreatedActor().setY(t.actor.getYCenter()-Ke.getLastCreatedActor().getHeight()/2-51),1==t._SpawningDirectionRandom&&Ke.getLastCreatedActor().shout("_customEvent_SpinLeft")},this.actor)},forwardMessage:function(t){},__class__:Hp});var Wp=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_525"]=Wp,Wp.__name__="scripts.ActorEvents_525",Wp.__super__=Je,Wp.prototype=i(Je.prototype,{init:function(){},forwardMessage:function(t){},__class__:Wp});var Xp=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_527"]=Xp,Xp.__name__="scripts.ActorEvents_527",Xp.__super__=Je,Xp.prototype=i(Je.prototype,{init:function(){},forwardMessage:function(t){},__class__:Xp});var Yp=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_529"]=Yp,Yp.__name__="scripts.ActorEvents_529",Yp.__super__=Je,Yp.prototype=i(Je.prototype,{init:function(){var t=this;this.actor.setAnimation("0"),Ke.runLater(1400,function(e){t.actor.setAnimation("1"),Ke.createRecycledActor(Ke.getActorType(527),-32,-32,0),Ke.getLastCreatedActor().setX(t.actor.getXCenter()-Ke.getLastCreatedActor().getWidth()/2),Ke.getLastCreatedActor().setY(t.actor.getYCenter()-Ke.getLastCreatedActor().getHeight()/2)},this.actor),Ge.engine.getGameAttribute("Mute Sounds")||(Ke.playSound(Ke.getSound(553)),Ke.runLater(200,function(e){Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(553)),Ke.runLater(200,function(e){Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(553)),Ke.runLater(200,function(e){Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(553)),Ke.runLater(200,function(e){Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(553)),Ke.runLater(200,function(e){Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(553)),Ke.runLater(200,function(t){Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(553))},t.actor)},t.actor)},t.actor)},t.actor)},t.actor)},this.actor))},forwardMessage:function(t){},__class__:Yp});var jp=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_533"]=jp,jp.__name__="scripts.ActorEvents_533",jp.__super__=Je,jp.prototype=i(Je.prototype,{init:function(){},forwardMessage:function(t){},__class__:jp});var Kp=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_537"]=Kp,Kp.__name__="scripts.ActorEvents_537",Kp.__super__=Je,Kp.prototype=i(Je.prototype,{init:function(){},forwardMessage:function(t){},__class__:Kp});var Jp=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_539"]=Jp,Jp.__name__="scripts.ActorEvents_539",Jp.__super__=Je,Jp.prototype=i(Je.prototype,{init:function(){},forwardMessage:function(t){},__class__:Jp});var Zp=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_541"]=Zp,Zp.__name__="scripts.ActorEvents_541",Zp.__super__=Je,Zp.prototype=i(Je.prototype,{init:function(){},forwardMessage:function(t){},__class__:Zp});var Qp=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_543"]=Qp,Qp.__name__="scripts.ActorEvents_543",Qp.__super__=Je,Qp.prototype=i(Je.prototype,{init:function(){},forwardMessage:function(t){},__class__:Qp});var qp=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_549"]=qp,qp.__name__="scripts.ActorEvents_549",qp.__super__=Je,qp.prototype=i(Je.prototype,{init:function(){},forwardMessage:function(t){},__class__:qp});var $p=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_551"]=$p,$p.__name__="scripts.ActorEvents_551",$p.__super__=Je,$p.prototype=i(Je.prototype,{init:function(){var t=this;this.actor.moveDown(),Ke.runLater(1400,function(e){Ke.createRecycledActor(Ke.getActorType(521),-32,-32,1),Ke.getLastCreatedActor().setX(t.actor.getXCenter()-Ke.getLastCreatedActor().getWidth()/2),Ke.getLastCreatedActor().setY(t.actor.getY()+t.actor.getHeight()-16),Ke.createRecycledActor(Ke.getActorType(527),-32,-32,1),Ke.getLastCreatedActor().setX(t.actor.getXCenter()-Ke.getLastCreatedActor().getHeight()/2),Ke.getLastCreatedActor().setY(t.actor.getYCenter()-Ke.getLastCreatedActor().getHeight()/2),Ke.createRecycledActor(Ke.getActorType(527),-32,-32,1),Ke.getLastCreatedActor().setX(t.actor.getXCenter()-Ke.getLastCreatedActor().getHeight()/2),Ke.getLastCreatedActor().setY(t.actor.getYCenter()-Ke.getLastCreatedActor().getHeight()/2+32),Ke.createRecycledActor(Ke.getActorType(527),-32,-32,1),Ke.getLastCreatedActor().setX(t.actor.getXCenter()-Ke.getLastCreatedActor().getHeight()/2),Ke.getLastCreatedActor().setY(t.actor.getYCenter()-Ke.getLastCreatedActor().getHeight()/2-32),Ke.recycleActor(t.actor)},this.actor),Ge.engine.getGameAttribute("Mute Sounds")||(Ke.playSound(Ke.getSound(553)),Ke.runLater(200,function(e){Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(553)),Ke.runLater(200,function(e){Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(553)),Ke.runLater(200,function(e){Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(553)),Ke.runLater(200,function(e){Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(553)),Ke.runLater(200,function(e){Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(553)),Ke.runLater(200,function(t){Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(553))},t.actor)},t.actor)},t.actor)},t.actor)},t.actor)},this.actor))},forwardMessage:function(t){},__class__:$p});var tf=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_555"]=tf,tf.__name__="scripts.ActorEvents_555",tf.__super__=Je,tf.prototype=i(Je.prototype,{init:function(){this.actor.makeAlwaysSimulate()},forwardMessage:function(t){},__class__:tf});var ef=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_558"]=ef,ef.__name__="scripts.ActorEvents_558",ef.__super__=Je,ef.prototype=i(Je.prototype,{init:function(){},forwardMessage:function(t){},__class__:ef});var sf=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_560"]=sf,sf.__name__="scripts.ActorEvents_560",sf.__super__=Je,sf.prototype=i(Je.prototype,{init:function(){var t=this;this.actor.makeAlwaysSimulate(),Ke.runLater(20,function(e){Ke.engine.pause(),Ke.runLater(500,function(e){Ke.engine.unpause(),Ke.recycleActor(t.actor)},t.actor)},this.actor)},forwardMessage:function(t){},__class__:sf});var nf=function(t,e,i){Je.call(this,e),this.nameMap.h["Can Move"]="_CanMove",this._CanMove=!1,this.nameMap.h["Moving Right"]="_MovingRight",this._MovingRight=!1};r["scripts.ActorEvents_565"]=nf,nf.__name__="scripts.ActorEvents_565",nf.__super__=Je,nf.prototype=i(Je.prototype,{_CanMove:null,_MovingRight:null,_event_Updating:function(t){this.wrapper.enabled&&(this.actor.moveToBottom(),Ke.getCurrentSceneName())},init:function(){var t=this;this.actor.setAnimation("0"),Ke.runLater(1400,function(e){t.actor.setAnimation("1"),Ke.createRecycledActor(Ke.getActorType(527),-32,-32,0),Ke.getLastCreatedActor().setX(t.actor.getXCenter()-Ke.getLastCreatedActor().getWidth()/2),Ke.getLastCreatedActor().setY(t.actor.getYCenter()-Ke.getLastCreatedActor().getHeight()/2-8),Ke.runLater(400,function(e){t._CanMove=!0,t._MovingRight=!1,t.actor.shout("_customEvent_StartMovingSaw")},t.actor)},this.actor),Ge.engine.getGameAttribute("Mute Sounds")||(Ke.playSound(Ke.getSound(553)),Ke.runLater(200,function(e){Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(553)),Ke.runLater(200,function(e){Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(553)),Ke.runLater(200,function(e){Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(553)),Ke.runLater(200,function(e){Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(553)),Ke.runLater(200,function(e){Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(553)),Ke.runLater(200,function(t){Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(553))},t.actor)},t.actor)},t.actor)},t.actor)},t.actor)},this.actor)),this.addListener(this.actor.whenUpdated,n(this,this._event_Updating))},forwardMessage:function(t){},__class__:nf});var rf=function(t,e,i){Je.call(this,e),this.nameMap.h["Random Sparkle"]="_RandomSparkle",this._RandomSparkle=0};r["scripts.ActorEvents_568"]=rf,rf.__name__="scripts.ActorEvents_568",rf.__super__=Je,rf.prototype=i(Je.prototype,{_RandomSparkle:null,init:function(){this.actor.makeAlwaysSimulate(),this._RandomSparkle=Ke.randomInt(0,1),1==this._RandomSparkle&&this.actor.setAnimation("1")},forwardMessage:function(t){},__class__:rf});var af=function(t,e,i){Je.call(this,e),this.nameMap.h.Offset="_Offset",this._Offset=0,this.nameMap.h.Direction="_Direction",this._Direction=0,this.nameMap.h["Golden Carrot Number"]="_GoldenCarrotNumber",this._GoldenCarrotNumber=0,this.nameMap.h["Hit P1 in Versus?"]="_HitP1inVersus",this._HitP1inVersus=!1};r["scripts.ActorEvents_570"]=af,af.__name__="scripts.ActorEvents_570",af.__super__=Je,af.prototype=i(Je.prototype,{_Offset:null,_Direction:null,_GoldenCarrotNumber:null,_HitP1inVersus:null,_event_HitPlayer:function(t){if(this.wrapper.enabled){var e=Ke.getActorGroup(0),i=t.otherActor.getType();t=t.otherActor.getGroup(),e=e==i||e==t}else e=!1;e&&(Ke.createRecycledActor(Ke.getActorType(572),-100,-100,0),Ke.getLastCreatedActor().setX(this.actor.getXCenter()-Ke.getLastCreatedActor().getWidth()/2),Ke.getLastCreatedActor().setY(this.actor.getYCenter()-Ke.getLastCreatedActor().getHeight()/2),Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(574)),Ke.shoutToScene("_customEvent_SpawnCarrot"),Ge.engine.getGameAttribute("Multiplayer On")&&2==Ge.engine.getGameAttribute("Multiplayer Mode")?(Ke.asBoolean(this.actor.getLastCollidedActor().getActorValue("P1"))&&(e=Ge.engine,i=Ge.engine.getGameAttribute("P1 Versus Score")+1,e.gameAttributes.h["P1 Versus Score"]=i,this._HitP1inVersus=!0),Ke.asBoolean(this.actor.getLastCollidedActor().getActorValue("P2"))&&(e=Ge.engine,i=Ge.engine.getGameAttribute("P2 Versus Score")+1,e.gameAttributes.h["P2 Versus Score"]=i,this._HitP1inVersus=!1),Ke.shoutToScene("_customEvent_EndRun")):(e=Ge.engine,i=Ge.engine.getGameAttribute("Carrot Counter")+1,e.gameAttributes.h["Carrot Counter"]=i),Ke.recycleActor(this.actor))},_event_SelfisKilled:function(){this.wrapper.enabled&&(Ge.engine.getGameAttribute("Multiplayer On")&&2==Ge.engine.getGameAttribute("Multiplayer Mode")?this._HitP1inVersus?(Ke.createRecycledActor(Ke.getActorType(610),-100,-100,0),Ke.getLastCreatedActor().setAnimation("1r")):(Ke.createRecycledActor(Ke.getActorType(610),-100,-100,0),Ke.getLastCreatedActor().setAnimation("1b")):Ke.createRecycledActor(Ke.getActorType(610),-100,-100,0),Ke.getLastCreatedActor().setX(this.actor.getXCenter()-Ke.getLastCreatedActor().getWidth()/2),Ke.getLastCreatedActor().setY(this.actor.getYCenter()-Ke.getLastCreatedActor().getHeight()/2),Ke.getLastCreatedActor().moveBy(0,-16,2,da.linear))},init:function(){this.actor.makeAlwaysSimulate(),Ke.createRecycledActor(Ke.getActorType(527),-32,-32,0),Ke.getLastCreatedActor().setX(this.actor.getXCenter()-Ke.getLastCreatedActor().getWidth()/2),Ke.getLastCreatedActor().setY(this.actor.getYCenter()-Ke.getLastCreatedActor().getHeight()/2),this.actor.moveToBottom(),this.addListener(this.actor.whenCollided,n(this,this._event_HitPlayer)),this.addListener(this.actor.whenKilled,n(this,this._event_SelfisKilled))},forwardMessage:function(t){},__class__:af});var of=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_572"]=of,of.__name__="scripts.ActorEvents_572",of.__super__=Je,of.prototype=i(Je.prototype,{init:function(){this.actor.makeAlwaysSimulate()},forwardMessage:function(t){},__class__:of});var lf=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_575"]=lf,lf.__name__="scripts.ActorEvents_575",lf.__super__=Je,lf.prototype=i(Je.prototype,{init:function(){},forwardMessage:function(t){},__class__:lf});var hf=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_577"]=hf,hf.__name__="scripts.ActorEvents_577",hf.__super__=Je,hf.prototype=i(Je.prototype,{init:function(){},forwardMessage:function(t){},__class__:hf});var _f=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_582"]=_f,_f.__name__="scripts.ActorEvents_582",_f.__super__=Je,_f.prototype=i(Je.prototype,{init:function(){this.actor.makeAlwaysSimulate()},forwardMessage:function(t){},__class__:_f});var cf=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_584"]=cf,cf.__name__="scripts.ActorEvents_584",cf.__super__=Je,cf.prototype=i(Je.prototype,{init:function(){this.actor.makeAlwaysSimulate()},forwardMessage:function(t){},__class__:cf});var uf=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_586"]=uf,uf.__name__="scripts.ActorEvents_586",uf.__super__=Je,uf.prototype=i(Je.prototype,{init:function(){this.actor.makeAlwaysSimulate(),this.actor.anchorToScreen(),this.actor.setX(Ke.getScreenWidth()-Ke.getScreenWidth()/2-this.actor.getWidth()/2),this.actor.setY(Ke.getScreenHeight()-Ke.getScreenHeight()/2-this.actor.getHeight()/2),this.actor.growTo(24,14,0,da.linear),this.actor.fadeTo(.5,0,da.linear)},forwardMessage:function(t){},__class__:uf});var df=function(t,e,i){Je.call(this,e),this.nameMap.h["Current Level"]="_CurrentLevel",this._CurrentLevel=0};r["scripts.ActorEvents_588"]=df,df.__name__="scripts.ActorEvents_588",df.__super__=Je,df.prototype=i(Je.prototype,{_CurrentLevel:null,_event_Exitsself:function(t){this.wrapper.enabled&&-1==t&&this.actor.setAnimation("1")},_event_ReleasedonSelf:function(t){this.wrapper.enabled&&5==t&&this.actor.setAnimation("1")},_event_PressedonSelf:function(t){this.wrapper.enabled&&3==t&&(this.actor.setAnimation("2"),Ke.isTransitioning()||this._customEvent_quit())},_customEvent_quit:function(){if(this.actor.setAnimation("2"),!Ke.isTransitioning()){Ke.stopSoundOnChannel(0),Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSoundOnChannel(Ke.getSound(594),2);for(var t=0,e=vo.__cast(Ke.getActorGroup(12),kn).list;t<e.length;){var i=e[t];++t,null==i||i.dead||i.recycled||Ke.recycleActor(i)}Ke.runLater(450,function(t){Ke.engine.unpause(),Ke.loopSoundOnChannel(Ke.getSound(626),0)},this.actor),t=yn.get().scenes.h[12].getID();var s=i=e=0;null==s&&(s=0),null==i&&(i=0),null==e&&(e=0);var n=Ke.createFadeOut(.5,e<<16|i<<8|s);null==(s=i=e=0)&&(s=0),null==i&&(i=0),null==e&&(e=0),Ke.switchScene(t,n,Ke.createFadeIn(.5,e<<16|i<<8|s)),p.sendGameplayStop()}},init:function(){this.actor.makeAlwaysSimulate(),this.actor.anchorToScreen(),this.actor.setAnimation("1"),this.addListener(this.actor.whenMousedOver,n(this,this._event_Exitsself)),this.addListener(this.actor.whenMousedOver,n(this,this._event_ReleasedonSelf)),this.addListener(this.actor.whenMousedOver,n(this,this._event_PressedonSelf))},forwardMessage:function(t){},__class__:df});var mf=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_590"]=mf,mf.__name__="scripts.ActorEvents_590",mf.__super__=Je,mf.prototype=i(Je.prototype,{_event_ExitsSelf:function(t){this.wrapper.enabled&&-1==t&&this.actor.setAnimation("1")},_event_PressedOn:function(t){this.wrapper.enabled&&3==t&&(this.actor.setAnimation("2"),Ke.isTransitioning()||(Ke.shoutToScene("_customEvent_Resume"),Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(594))))},_event_ReleasedonSelf:function(t){this.wrapper.enabled&&5==t&&this.actor.setAnimation("1")},init:function(){this.actor.makeAlwaysSimulate(),this.actor.anchorToScreen(),this.actor.setX(Ke.getScreenWidth()/2-this.actor.getWidth()/2),this.actor.setY(Ke.getScreenHeight()/2-this.actor.getHeight()/2+56),Ke.createRecycledActor(Ke.getActorType(588),this.actor.getX()-48,this.actor.getY(),0),Ke.createRecycledActor(Ke.getActorType(592),this.actor.getX()+48,this.actor.getY(),0),this.actor.setAnimation("1"),this.addListener(this.actor.whenMousedOver,n(this,this._event_ExitsSelf)),this.addListener(this.actor.whenMousedOver,n(this,this._event_PressedOn)),this.addListener(this.actor.whenMousedOver,n(this,this._event_ReleasedonSelf))},forwardMessage:function(t){},__class__:mf});var pf=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_592"]=pf,pf.__name__="scripts.ActorEvents_592",pf.__super__=Je,pf.prototype=i(Je.prototype,{_event_ExitsSelf:function(t){this.wrapper.enabled&&-1==t&&this.actor.setAnimation("1")},_event_IsReleasedOnSelf:function(t){this.wrapper.enabled&&5==t&&this.actor.setAnimation("1")},_event_PressedOn:function(t){if(this.wrapper.enabled&&3==t&&(this.actor.setAnimation("2"),!Ke.isTransitioning())){t=yn.get().scenes.h[9].getID();var e=0,i=0,s=0;null==s&&(s=0),null==i&&(i=0),null==e&&(e=0);var n=Ke.createFadeOut(.5,e<<16|i<<8|s);for(null==(s=i=e=0)&&(s=0),null==i&&(i=0),null==e&&(e=0),Ke.switchScene(t,n,Ke.createFadeIn(.5,e<<16|i<<8|s)),Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(594)),Ke.runLater(450,function(t){Ke.engine.unpause()},this.actor),t=0,e=vo.__cast(Ke.getActorGroup(12),kn).list;t<e.length;)i=e[t],++t,null==i||i.dead||i.recycled||Ke.recycleActor(i);p.sendGameplayStop()}},init:function(){this.actor.makeAlwaysSimulate(),this.actor.anchorToScreen(),this.actor.setAnimation("1"),this.addListener(this.actor.whenMousedOver,n(this,this._event_ExitsSelf)),this.addListener(this.actor.whenMousedOver,n(this,this._event_IsReleasedOnSelf)),this.addListener(this.actor.whenMousedOver,n(this,this._event_PressedOn))},forwardMessage:function(t){},__class__:pf});var ff=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_595"]=ff,ff.__name__="scripts.ActorEvents_595",ff.__super__=Je,ff.prototype=i(Je.prototype,{_event_ExitsSelf:function(t){this.wrapper.enabled&&-1==t&&this.actor.setAnimation("1")},_event_IsReleasedOnSelf:function(t){this.wrapper.enabled&&5==t&&this.actor.setAnimation("1")},_event_PressedOn:function(t){this.wrapper.enabled&&3==t&&this._customEvent_Pressed()},_event_SpacepressedHTML5:function(t,e){this.wrapper.enabled&&t&&(p.IsVideoPlaying()||this.actor.shout("_customEvent_Pressed"))},_customEvent_Pressed:function(){this.actor.setAnimation("2"),Ke.isTransitioning()||(Ke.stopSoundOnChannel(0),Ke.switchScene(yn.get().scenes.h[9].getID(),null,Ke.createCrossfadeTransition(.3)),Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(594)),Ke.runLater(450,function(t){Ke.engine.unpause()},this.actor))},init:function(){this.actor.makeAlwaysSimulate(),this.actor.setAnimation("1"),this.addListener(this.actor.whenMousedOver,n(this,this._event_ExitsSelf)),this.addListener(this.actor.whenMousedOver,n(this,this._event_IsReleasedOnSelf)),this.addListener(this.actor.whenMousedOver,n(this,this._event_PressedOn)),this.addListener(Ke.engine.whenKeyPressedEvents.getOrCreateEvent("Space"),n(this,this._event_SpacepressedHTML5))},forwardMessage:function(t){},__class__:ff});var gf=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_597"]=gf,gf.__name__="scripts.ActorEvents_597",gf.__super__=Je,gf.prototype=i(Je.prototype,{init:function(){},forwardMessage:function(t){},__class__:gf});var yf=function(t,e,i){Je.call(this,e),this.nameMap.h.UC="_UC",this._UC=0};r["scripts.ActorEvents_599"]=yf,yf.__name__="scripts.ActorEvents_599",yf.__super__=Je,yf.prototype=i(Je.prototype,{_UC:null,_event_OnActor:function(t){if(this.wrapper.enabled&&3==t)if(30>this._UC)this._UC+=1;else if(this._UC=0,this.actor.setAnimation("Animation 0"),89<=Ge.engine.getGameAttribute("Collected Skins List").length){for(t=Ge.engine.getGameAttribute("Skin List").length=0;90>t;){var e=t++;Ge.engine.getGameAttribute("Skin List").push(e)}Ge.engine.getGameAttribute("Skin List").splice(0,1),Ge.engine.getGameAttribute("Skin List").splice(0,1),Ge.engine.getGameAttribute("Skin List").splice(0,1),Ge.engine.getGameAttribute("Skin List").splice(0,1),Ge.engine.getGameAttribute("Skin List").splice(0,1),Ge.engine.getGameAttribute("Collected Skins List").length=0,Ge.engine.getGameAttribute("Collected Skins List").push(0),Ge.engine.getGameAttribute("Collected Skins List").push(1),Ge.engine.getGameAttribute("Collected Skins List").push(2),Ge.engine.getGameAttribute("Collected Skins List").push(3),Ge.engine.getGameAttribute("Collected Skins List").push(4)}else for(Ge.engine.getGameAttribute("Collected Skins List").length=0,t=Ge.engine.getGameAttribute("Skin List").length=0;105>t;)e=t++,Ge.engine.getGameAttribute("Collected Skins List").push(e)},init:function(){this.addListener(this.actor.whenMousedOver,n(this,this._event_OnActor))},forwardMessage:function(t){},__class__:yf});var bf=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_601"]=bf,bf.__name__="scripts.ActorEvents_601",bf.__super__=Je,bf.prototype=i(Je.prototype,{_event_ExitsSelf:function(t){this.wrapper.enabled&&-1==t&&this.actor.setAnimation("1")},_event_PressedOn:function(t){this.wrapper.enabled&&3==t&&this._customEvent_Pressed()},_event_ReleasedonSelf:function(t){this.wrapper.enabled&&5==t&&this.actor.setAnimation("1")},_customEvent_Pressed:function(){this.actor.setAnimation("2"),Ke.isTransitioning()||Ke.engine.isPaused()||(Ke.stopSoundOnChannel(0),Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(605)),Ge.engine.gameAttributes.h["Multiplayer On"]=!1,Ke.switchScene(yn.get().scenes.h[9].getID(),null,Ke.createCrossfadeTransition(.3)))},init:function(){this.actor.makeAlwaysSimulate(),this.actor.setAnimation("1"),this.addListener(this.actor.whenMousedOver,n(this,this._event_ExitsSelf)),this.addListener(this.actor.whenMousedOver,n(this,this._event_PressedOn)),this.addListener(this.actor.whenMousedOver,n(this,this._event_ReleasedonSelf))},forwardMessage:function(t){},__class__:bf});var vf=function(t,e,i){Je.call(this,e),this.nameMap.h.Offset="_Offset",this._Offset=0,this.nameMap.h.Direction="_Direction",this._Direction=0,this.nameMap.h["Hit By Player"]="_HitByPlayer",this._HitByPlayer=!1,this.nameMap.h["Hit P1 in Versus?"]="_HitP1inVersus",this._HitP1inVersus=!1};r["scripts.ActorEvents_603"]=vf,vf.__name__="scripts.ActorEvents_603",vf.__super__=Je,vf.prototype=i(Je.prototype,{_Offset:null,_Direction:null,_HitByPlayer:null,_HitP1inVersus:null,_event_HitPlayer:function(t){if(this.wrapper.enabled){var e=Ke.getActorGroup(0),i=t.otherActor.getType();t=t.otherActor.getGroup(),e=e==i||e==t}else e=!1;e&&(Ke.createRecycledActor(Ke.getActorType(572),-100,-100,0),Ke.getLastCreatedActor().setX(this.actor.getXCenter()-Ke.getLastCreatedActor().getWidth()/2),Ke.getLastCreatedActor().setY(this.actor.getYCenter()-Ke.getLastCreatedActor().getHeight()/2),Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(605)),Ge.engine.getGameAttribute("Multiplayer On")&&2==Ge.engine.getGameAttribute("Multiplayer Mode")?(Ke.asBoolean(this.actor.getLastCollidedActor().getActorValue("P1"))&&(e=Ge.engine,i=Ge.engine.getGameAttribute("P1 Versus Score")+3,e.gameAttributes.h["P1 Versus Score"]=i,this._HitP1inVersus=!0),Ke.asBoolean(this.actor.getLastCollidedActor().getActorValue("P2"))&&(e=Ge.engine,i=Ge.engine.getGameAttribute("P2 Versus Score")+3,e.gameAttributes.h["P2 Versus Score"]=i,this._HitP1inVersus=!1),Ke.shoutToScene("_customEvent_EndRun")):(e=Ge.engine,i=Ge.engine.getGameAttribute("Carrot Counter")+3,e.gameAttributes.h["Carrot Counter"]=i),this._HitByPlayer=!0,Ke.recycleActor(this.actor))},_event_ActorCreated:function(){this.wrapper.enabled&&this._HitByPlayer&&(Ge.engine.getGameAttribute("Multiplayer On")&&2==Ge.engine.getGameAttribute("Multiplayer Mode")?this._HitP1inVersus?(Ke.createRecycledActor(Ke.getActorType(610),-100,-100,0),Ke.getLastCreatedActor().setAnimation("5r")):(Ke.createRecycledActor(Ke.getActorType(610),-100,-100,0),Ke.getLastCreatedActor().setAnimation("5b")):(Ke.createRecycledActor(Ke.getActorType(610),-100,-100,0),Ke.getLastCreatedActor().setAnimation("5")),Ke.getLastCreatedActor().setX(this.actor.getXCenter()-Ke.getLastCreatedActor().getWidth()/2),Ke.getLastCreatedActor().setY(this.actor.getYCenter()-Ke.getLastCreatedActor().getHeight()/2),Ke.getLastCreatedActor().moveBy(0,-16,2,da.linear))},_customEvent_sparkles:function(){var t=this;Ke.createRecycledActor(Ke.getActorType(568),this.actor.getXCenter()+Ke.randomInt(-12,8),this.actor.getYCenter()+Ke.randomInt(-12,8),0),Ke.runLater(200,function(e){t._customEvent_sparkles()},this.actor)},init:function(){var t=this;this.actor.makeAlwaysSimulate(),Ke.createRecycledActor(Ke.getActorType(623),-32,-32,0),Ke.getLastCreatedActor().setX(this.actor.getXCenter()-Ke.getLastCreatedActor().getWidth()/2),Ke.getLastCreatedActor().setY(this.actor.getYCenter()-Ke.getLastCreatedActor().getHeight()/2),this._customEvent_sparkles(),Ke.runLater(5e3,function(e){Ke.createRecycledActor(Ke.getActorType(527),-32,-32,0),Ke.getLastCreatedActor().setX(t.actor.getXCenter()-Ke.getLastCreatedActor().getWidth()/2),Ke.getLastCreatedActor().setY(t.actor.getYCenter()-Ke.getLastCreatedActor().getHeight()/2),Ke.recycleActor(t.actor)},this.actor),Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(625)),this.actor.moveToBottom(),this.addListener(this.actor.whenCollided,n(this,this._event_HitPlayer)),this.addListener(this.actor.whenKilled,n(this,this._event_ActorCreated))},forwardMessage:function(t){},__class__:vf});var xf=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_606"]=xf,xf.__name__="scripts.ActorEvents_606",xf.__super__=Je,xf.prototype=i(Je.prototype,{_event_Pressed:function(t){this.wrapper.enabled&&3==t&&(Ke.shoutToScene("_customEvent_MuteMusic"),Ge.engine.getGameAttribute("Mute Music")?this.actor.setAnimation("4"):this.actor.setAnimation("2"),Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSoundOnChannel(Ke.getSound(594),2))},_event_Released:function(t){this.wrapper.enabled&&5==t&&(Ge.engine.getGameAttribute("Mute Music")?this.actor.setAnimation("3"):this.actor.setAnimation("1"))},_event_Exits:function(t){this.wrapper.enabled&&-1==t&&(Ge.engine.getGameAttribute("Mute Music")?this.actor.setAnimation("3"):this.actor.setAnimation("1"))},init:function(){this.actor.makeAlwaysSimulate(),this.actor.anchorToScreen(),this.actor.setX(Ke.getScreenWidth()/2-this.actor.getWidth()/2-20),this.actor.setY(Ke.getScreenHeight()-Ke.getScreenHeight()+8),Ge.engine.getGameAttribute("Mute Music")?this.actor.setAnimation("3"):this.actor.setAnimation("1"),this.addListener(this.actor.whenMousedOver,n(this,this._event_Pressed)),this.addListener(this.actor.whenMousedOver,n(this,this._event_Released)),this.addListener(this.actor.whenMousedOver,n(this,this._event_Exits))},forwardMessage:function(t){},__class__:xf});var wf=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_608"]=wf,wf.__name__="scripts.ActorEvents_608",wf.__super__=Je,wf.prototype=i(Je.prototype,{_event_Pressed:function(t){this.wrapper.enabled&&3==t&&(Ke.shoutToScene("_customEvent_MuteSounds"),Ge.engine.getGameAttribute("Mute Sounds")?this.actor.setAnimation("4"):this.actor.setAnimation("2"),Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSoundOnChannel(Ke.getSound(594),2))},_event_Released:function(t){this.wrapper.enabled&&5==t&&(Ge.engine.getGameAttribute("Mute Sounds")?this.actor.setAnimation("3"):this.actor.setAnimation("1"))},_event_Exits:function(t){this.wrapper.enabled&&-1==t&&(Ge.engine.getGameAttribute("Mute Sounds")?this.actor.setAnimation("3"):this.actor.setAnimation("1"))},init:function(){this.actor.makeAlwaysSimulate(),this.actor.anchorToScreen(),this.actor.setX(Ke.getScreenWidth()/2-this.actor.getWidth()/2+20),this.actor.setY(Ke.getScreenHeight()-Ke.getScreenHeight()+8),Ge.engine.getGameAttribute("Mute Sounds")?this.actor.setAnimation("3"):this.actor.setAnimation("1"),this.addListener(this.actor.whenMousedOver,n(this,this._event_Pressed)),this.addListener(this.actor.whenMousedOver,n(this,this._event_Released)),this.addListener(this.actor.whenMousedOver,n(this,this._event_Exits))},forwardMessage:function(t){},__class__:wf});var Sf=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_610"]=Sf,Sf.__name__="scripts.ActorEvents_610",Sf.__super__=Je,Sf.prototype=i(Je.prototype,{init:function(){var t=this;this.actor.makeAlwaysSimulate(),Ke.runLater(1e3,function(e){t.actor.disableActorDrawing(),Ke.runLater(100,function(e){t.actor.enableActorDrawing(),Ke.runLater(100,function(e){t.actor.disableActorDrawing(),Ke.runLater(100,function(e){t.actor.enableActorDrawing(),Ke.runLater(100,function(e){t.actor.disableActorDrawing(),Ke.runLater(100,function(e){t.actor.enableActorDrawing(),Ke.runLater(100,function(e){Ke.recycleActor(t.actor)},t.actor)},t.actor)},t.actor)},t.actor)},t.actor)},t.actor)},this.actor),this.actor.moveTo(this.actor.getX(),this.actor.getY()-12,2,da.linear)},forwardMessage:function(t){},__class__:Sf});var Rf=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_612"]=Rf,Rf.__name__="scripts.ActorEvents_612",Rf.__super__=Je,Rf.prototype=i(Je.prototype,{_event_Updating:function(t){this.wrapper.enabled&&this.actor.getScreenY()>Ke.getScreenHeight()&&Ke.recycleActor(this.actor)},init:function(){this.actor.makeAlwaysSimulate(),this.actor.setYVelocity(Ke.randomInt(6,10)),this.actor.setXVelocity(Ke.randomInt(-5,5)),this.actor.setAnimation(""+Ke.randomInt(0,3)),this.addListener(this.actor.whenUpdated,n(this,this._event_Updating))},forwardMessage:function(t){},__class__:Rf});var Af=function(t,e,i){Je.call(this,e),this.nameMap.h["Current Level"]="_CurrentLevel",this._CurrentLevel=0};r["scripts.ActorEvents_621"]=Af,Af.__name__="scripts.ActorEvents_621",Af.__super__=Je,Af.prototype=i(Je.prototype,{_CurrentLevel:null,_event_Exitsself:function(t){this.wrapper.enabled&&-1==t&&this.actor.setAnimation("1")},_event_ReleasedonSelf:function(t){this.wrapper.enabled&&5==t&&this.actor.setAnimation("1")},_event_PressedonSelf:function(t){this.wrapper.enabled&&3==t&&(this.actor.setAnimation("2"),Ke.isTransitioning()||this._customEvent_quit())},_customEvent_quit:function(){this.actor.setAnimation("2"),Ke.isTransitioning()||(Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSoundOnChannel(Ke.getSound(594),2),"Results Screen"==Ke.getCurrentSceneName()||"Skins Menu Players"==Ke.getCurrentSceneName()||"Unlock Bunny Screen"==Ke.getCurrentSceneName()?Ke.switchScene(yn.get().scenes.h[12].getID(),null,Ke.createCrossfadeTransition(.3)):"Skins Menu 1"==Ke.getCurrentSceneName()||"Skins Menu 2"==Ke.getCurrentSceneName()||"Skins Menu 3"==Ke.getCurrentSceneName()||"Skins Menu 4"==Ke.getCurrentSceneName()||"Skins Menu 5"==Ke.getCurrentSceneName()||"Skins Menu 6"==Ke.getCurrentSceneName()||"Skins Menu 7"==Ke.getCurrentSceneName()?Ke.switchScene(yn.get().scenes.h[13].getID(),null,Ke.createCrossfadeTransition(.3)):("Credits Screen"==Ke.getCurrentSceneName()||"Skins Menu Players"==Ke.getCurrentSceneName())&&Ke.switchScene(yn.get().scenes.h[12].getID(),null,Ke.createCrossfadeTransition(.3)))},init:function(){this.actor.makeAlwaysSimulate(),this.actor.setAnimation("1"),this.actor.anchorToScreen(),this.actor.setX(Ke.getScreenWidth()-Ke.getScreenWidth()+4+L.leftInset),this.actor.setY(Ke.getScreenHeight()-this.actor.getHeight()-1-L.bottomInset),this.addListener(this.actor.whenMousedOver,n(this,this._event_Exitsself)),this.addListener(this.actor.whenMousedOver,n(this,this._event_ReleasedonSelf)),this.addListener(this.actor.whenMousedOver,n(this,this._event_PressedonSelf))},forwardMessage:function(t){},__class__:Af});var Tf=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_623"]=Tf,Tf.__name__="scripts.ActorEvents_623",Tf.__super__=Je,Tf.prototype=i(Je.prototype,{init:function(){},forwardMessage:function(t){},__class__:Tf});var Mf=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_628"]=Mf,Mf.__name__="scripts.ActorEvents_628",Mf.__super__=Je,Mf.prototype=i(Je.prototype,{init:function(){this.actor.makeAlwaysSimulate(),Ke.playSoundOnChannel(Ke.getSound(626),0),Ke.recycleActor(this.actor)},forwardMessage:function(t){},__class__:Mf});var Pf=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_652"]=Pf,Pf.__name__="scripts.ActorEvents_652",Pf.__super__=Je,Pf.prototype=i(Je.prototype,{_event_Updating:function(t){this.wrapper.enabled&&(Ke.asBoolean(this.actor.getActorValue("On Ground?"))||this.actor.setFriction(0))},_event_Keyboard:function(t,e){this.wrapper.enabled&&t&&(Ke.isTransitioning()||Ke.reloadCurrentScene(null,Ke.createCrossfadeTransition(.4)))},init:function(){this.actor.moveToTop(),"Results Screen"!=Ke.getCurrentSceneName()&&Ke.createRecycledActor(Ke.getActorType(527),-32,-32,0),Ke.getLastCreatedActor().setX(this.actor.getXCenter()-Ke.getLastCreatedActor().getWidth()/2),Ke.getLastCreatedActor().setY(this.actor.getYCenter()-Ke.getLastCreatedActor().getHeight()/2),Ge.engine.getGameAttribute("Multiplayer On")&&(Ke.createRecycledActor(Ke.getActorType(656),this.actor.getX(),this.actor.getY(),0),Ke.createRecycledActor(Ke.getActorType(688),this.actor.getX(),this.actor.getY(),0)),this.actor.setActorValue("P2",!0),this.addListener(this.actor.whenUpdated,n(this,this._event_Updating)),this.addListener(Ke.engine.whenKeyPressedEvents.getOrCreateEvent("Restart"),n(this,this._event_Keyboard))},forwardMessage:function(t){},__class__:Pf});var Cf=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_654"]=Cf,Cf.__name__="scripts.ActorEvents_654",Cf.__super__=Je,Cf.prototype=i(Je.prototype,{_event_Updating:function(t){if(this.wrapper.enabled){t=0;for(var e=Ke.getActorsOfType(Ke.getActorType(479));t<e.length;){var i=e[t];++t,null==i||i.dead||i.recycled||(this.actor.setX(i.getX()),this.actor.setY(i.getY()))}}},init:function(){this.actor.makeAlwaysSimulate(),this.addListener(this.actor.whenUpdated,n(this,this._event_Updating))},forwardMessage:function(t){},__class__:Cf});var If=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_656"]=If,If.__name__="scripts.ActorEvents_656",If.__super__=Je,If.prototype=i(Je.prototype,{_event_Updating:function(t){if(this.wrapper.enabled){t=0;for(var e=Ke.getActorsOfType(Ke.getActorType(652));t<e.length;){var i=e[t];++t,null==i||i.dead||i.recycled||(this.actor.setX(i.getX()),this.actor.setY(i.getY()))}}},init:function(){this.actor.makeAlwaysSimulate(),this.addListener(this.actor.whenUpdated,n(this,this._event_Updating))},forwardMessage:function(t){},__class__:If});var Ef=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_658"]=Ef,Ef.__name__="scripts.ActorEvents_658",Ef.__super__=Je,Ef.prototype=i(Je.prototype,{init:function(){this.actor.anchorToScreen(),this.actor.setX(Ke.getScreenWidth()-Ke.getScreenWidth()+16+L.leftInset),this.actor.setY(Ke.getScreenHeight()-this.actor.getHeight()+8-L.bottomInset),Ke.createRecycledActor(Ke.getActorType(660),this.actor.getX()+this.actor.getWidth(),this.actor.getY(),0),Ke.createRecycledActor(Ke.getActorType(662),this.actor.getX()-32,this.actor.getY()+16,0),Ge.engine.getGameAttribute("Hide Mobile Controls")&&this.actor.disableActorDrawing()},forwardMessage:function(t){},__class__:Ef});var kf=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_660"]=kf,kf.__name__="scripts.ActorEvents_660",kf.__super__=Je,kf.prototype=i(Je.prototype,{init:function(){this.actor.anchorToScreen(),Ge.engine.getGameAttribute("Hide Mobile Controls")&&this.actor.disableActorDrawing()},forwardMessage:function(t){},__class__:kf});var Ff=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_662"]=Ff,Ff.__name__="scripts.ActorEvents_662",Ff.__super__=Je,Ff.prototype=i(Je.prototype,{init:function(){this.actor.anchorToScreen();for(var t=0,e=Ke.getActorsOfType(Ke.getActorType(658));t<e.length;){var i=e[t];++t,null==i||i.dead||i.recycled||(this.actor.setX(i.getX()-48),this.actor.setY(i.getY()-64),Ge.engine.getGameAttribute("Hide Mobile Controls")&&this.actor.disableActorDrawing())}},forwardMessage:function(t){},__class__:Ff});var Bf=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_664"]=Bf,Bf.__name__="scripts.ActorEvents_664",Bf.__super__=Je,Bf.prototype=i(Je.prototype,{_event_ExitsSelf:function(t){this.wrapper.enabled&&-1==t&&this.actor.setAnimation("1")},_event_PressedOn:function(t){this.wrapper.enabled&&3==t&&this._customEvent_Pressed()},_event_ReleasedonSelf:function(t){this.wrapper.enabled&&5==t&&this.actor.setAnimation("1")},_customEvent_Pressed:function(){this.actor.setAnimation("2"),Ke.isTransitioning()||Ke.engine.isPaused()||(Ke.stopSoundOnChannel(0),Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(605)),Ge.engine.gameAttributes.h["Multiplayer On"]=!0,Ge.engine.gameAttributes.h["Multiplayer Mode"]=1,Ke.switchScene(yn.get().scenes.h[9].getID(),null,Ke.createCrossfadeTransition(.3)))},init:function(){this.actor.makeAlwaysSimulate(),this.actor.setAnimation("1"),this.addListener(this.actor.whenMousedOver,n(this,this._event_ExitsSelf)),this.addListener(this.actor.whenMousedOver,n(this,this._event_PressedOn)),this.addListener(this.actor.whenMousedOver,n(this,this._event_ReleasedonSelf))},forwardMessage:function(t){},__class__:Bf});var Df=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_668"]=Df,Df.__name__="scripts.ActorEvents_668",Df.__super__=Je,Df.prototype=i(Je.prototype,{init:function(){this.actor.anchorToScreen(),this.actor.setX(Ke.getScreenWidth()-this.actor.getWidth()-16-L.rightInset),this.actor.setY(Ke.getScreenHeight()-this.actor.getHeight()+8-L.bottomInset),Ke.createRecycledActor(Ke.getActorType(670),this.actor.getX()-this.actor.getWidth(),this.actor.getY(),0),Ke.createRecycledActor(Ke.getActorType(672),this.actor.getX(),this.actor.getY()+16,0),Ge.engine.getGameAttribute("Hide Mobile Controls")&&this.actor.disableActorDrawing()},forwardMessage:function(t){},__class__:Df});var Lf=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_670"]=Lf,Lf.__name__="scripts.ActorEvents_670",Lf.__super__=Je,Lf.prototype=i(Je.prototype,{init:function(){this.actor.anchorToScreen(),Ge.engine.getGameAttribute("Hide Mobile Controls")&&this.actor.disableActorDrawing()},forwardMessage:function(t){},__class__:Lf});var Nf=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_672"]=Nf,Nf.__name__="scripts.ActorEvents_672",Nf.__super__=Je,Nf.prototype=i(Je.prototype,{init:function(){this.actor.anchorToScreen();for(var t=0,e=Ke.getActorsOfType(Ke.getActorType(668));t<e.length;){var i=e[t];++t,null==i||i.dead||i.recycled||(this.actor.setX(i.getX()+16),this.actor.setY(i.getY()-64),Ge.engine.getGameAttribute("Hide Mobile Controls")&&this.actor.disableActorDrawing())}},forwardMessage:function(t){},__class__:Nf});var Of=function(t,e,i){Je.call(this,e),this.nameMap.h.Player1="_Player1",this._Player1=!1,this.nameMap.h["Can be hit?"]="_Canbehit",this._Canbehit=!1};r["scripts.ActorEvents_674"]=Of,Of.__name__="scripts.ActorEvents_674",Of.__super__=Je,Of.prototype=i(Je.prototype,{_Player1:null,_Canbehit:null,_event_Updating:function(t){if(this.wrapper.enabled)if(this._Player1){t=0;for(var e=Ke.getActorsOfType(Ke.getActorType(479));t<e.length;){var i=e[t];++t,null==i||i.dead||i.recycled||(i.setX(this.actor.getX()),i.setY(this.actor.getY()-5),i.setAnimation("idle-r"))}}else for(t=0,e=Ke.getActorsOfType(Ke.getActorType(652));t<e.length;)i=e[t],++t,null==i||i.dead||i.recycled||(i.setX(this.actor.getX()),i.setY(this.actor.getY()-5),i.setAnimation("idle-l"))},_event_HitsPlayer:function(t){if(this.wrapper.enabled){var e=Ke.getActorGroup(0),i=t.otherActor.getType();t=t.otherActor.getGroup(),e=e==i||e==t}else e=!1;if(e&&this._Canbehit&&!Ke.asBoolean(this.actor.getLastCollidedActor().getActorValue("Trapped"))){if(this._Player1)for(e=0,i=Ke.getActorsOfType(Ke.getActorType(479));e<i.length;)t=i[e],++e,null==t||t.dead||t.recycled||(t.shout("_customEvent_GiveControl"),t.shout("_customEvent_Blink"),t.setIgnoreGravity(!1),t.setActorValue("Trapped",!1),Ke.shoutToScene("_customEvent_P1Respawn"));else for(e=0,i=Ke.getActorsOfType(Ke.getActorType(652));e<i.length;)t=i[e],++e,null==t||t.dead||t.recycled||(t.shout("_customEvent_GiveControl"),t.shout("_customEvent_Blink"),t.setIgnoreGravity(!1),t.setActorValue("Trapped",!1),Ke.shoutToScene("_customEvent_P2Respawn"));Ke.recycleActor(this.actor)}},_event_Dies:function(){this.wrapper.enabled&&Ke.createRecycledActor(Ke.getActorType(572),this.actor.getX(),this.actor.getY(),0)},_customEvent_P1:function(){var t=this;this._Player1=!0,Ke.createRecycledActor(Ke.getActorType(479),this.actor.getX(),this.actor.getY(),0),Ke.getLastCreatedActor().setActorValue("Trapped",!0),Ke.getLastCreatedActor().setIgnoreGravity(!0),Ke.getLastCreatedActor().shout("_customEvent_RemoveControl"),Ke.getLastCreatedActor().shout("_customEvent_Unkillable"),this.actor.moveUp(),Ke.runLater(200,function(e){t._Canbehit=!0},this.actor),Ke.runLater(30,function(t){t=0;for(var e=Ke.getActorsOfType(Ke.getActorType(686));t<e.length;){var i=e[t];++t,null==i||i.dead||i.recycled||Ke.recycleActor(i)}},this.actor)},_customEvent_P2:function(){var t=this;this._Player1=!1,Ke.createRecycledActor(Ke.getActorType(652),this.actor.getX(),this.actor.getY(),0),Ke.getLastCreatedActor().setActorValue("Trapped",!0),Ke.getLastCreatedActor().setIgnoreGravity(!0),Ke.getLastCreatedActor().shout("_customEvent_RemoveControl"),Ke.getLastCreatedActor().shout("_customEvent_Unkillable"),this.actor.moveUp(),Ke.runLater(200,function(e){t._Canbehit=!0},this.actor),Ke.runLater(30,function(t){t=0;for(var e=Ke.getActorsOfType(Ke.getActorType(688));t<e.length;){var i=e[t];++t,null==i||i.dead||i.recycled||Ke.recycleActor(i)}},this.actor)},init:function(){this.actor.makeAlwaysSimulate(),this.addListener(this.actor.whenUpdated,n(this,this._event_Updating)),this.addListener(this.actor.whenCollided,n(this,this._event_HitsPlayer)),this.addListener(this.actor.whenKilled,n(this,this._event_Dies))},forwardMessage:function(t){},__class__:Of});var Vf=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_676"]=Vf,Vf.__name__="scripts.ActorEvents_676",Vf.__super__=Je,Vf.prototype=i(Je.prototype,{init:function(){this.actor.makeAlwaysSimulate(),("ontouchstart"in document.documentElement||window.DocumentTouch&&document instanceof DocumentTouch)&&this.actor.setX(this.actor.getX()-16)},forwardMessage:function(t){},__class__:Vf});var Gf=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_678"]=Gf,Gf.__name__="scripts.ActorEvents_678",Gf.__super__=Je,Gf.prototype=i(Je.prototype,{_event_ExitsSelf:function(t){this.wrapper.enabled&&-1==t&&this.actor.setAnimation("1")},_event_PressedOn:function(t){this.wrapper.enabled&&3==t&&this._customEvent_Pressed()},_event_ReleasedonSelf:function(t){this.wrapper.enabled&&5==t&&this.actor.setAnimation("1")},_customEvent_Pressed:function(){this.actor.setAnimation("2"),Ke.isTransitioning()||Ke.engine.isPaused()||(Ke.stopSoundOnChannel(0),Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(605)),Ge.engine.gameAttributes.h["Multiplayer On"]=!0,Ge.engine.gameAttributes.h["Multiplayer Mode"]=2,Ke.switchScene(yn.get().scenes.h[9].getID(),null,Ke.createCrossfadeTransition(.3)))},init:function(){this.actor.makeAlwaysSimulate(),this.actor.setAnimation("1"),this.addListener(this.actor.whenMousedOver,n(this,this._event_ExitsSelf)),this.addListener(this.actor.whenMousedOver,n(this,this._event_PressedOn)),this.addListener(this.actor.whenMousedOver,n(this,this._event_ReleasedonSelf))},forwardMessage:function(t){},__class__:Gf});var Uf=function(t,e,i){Je.call(this,e),this.nameMap.h["Moving Right?"]="_MovingRight",this._MovingRight=!1,this.nameMap.h["Moving Up?"]="_MovingUp",this._MovingUp=!1,this.nameMap.h["Can Move"]="_CanMove",this._CanMove=!1,this.nameMap.h["Random Starting Direction"]="_RandomStartingDirection",this._RandomStartingDirection=0};r["scripts.ActorEvents_681"]=Uf,Uf.__name__="scripts.ActorEvents_681",Uf.__super__=Je,Uf.prototype=i(Je.prototype,{_MovingRight:null,_MovingUp:null,_CanMove:null,_RandomStartingDirection:null,_event_ActorAny:function(t){this.wrapper.enabled&&(t.thisFromTop?this._MovingUp=!1:t.thisFromBottom?this._MovingUp=!0:t.thisFromLeft?this._MovingRight=!0:t.thisFromRight&&(this._MovingRight=!1))},_event_Updating:function(t){this.wrapper.enabled&&(this._CanMove&&(this._MovingUp?this.actor.setYVelocity(-5):this.actor.setYVelocity(5),this.actor.setXVelocity(0)),this.actor.getY()<Ke.getScreenY()-8&&(this._MovingUp=!1))},init:function(){var t=this;this.actor.makeAlwaysSimulate(),this.actor.setAnimation("0"),this._RandomStartingDirection=Ke.randomInt(0,1),Ke.runLater(1400,function(e){t.actor.setAnimation("1"),Ke.createRecycledActor(Ke.getActorType(527),-32,-32,0),Ke.getLastCreatedActor().setX(t.actor.getXCenter()-Ke.getLastCreatedActor().getWidth()/2),Ke.getLastCreatedActor().setY(t.actor.getYCenter()-Ke.getLastCreatedActor().getHeight()/2),Ke.runLater(100,function(e){t._MovingUp=!1,t._CanMove=!0,t._MovingRight=0==t._RandomStartingDirection},t.actor)},this.actor),Ge.engine.getGameAttribute("Mute Sounds")||(Ke.playSound(Ke.getSound(553)),Ke.runLater(200,function(e){Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(553)),Ke.runLater(200,function(e){Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(553)),Ke.runLater(200,function(e){Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(553)),Ke.runLater(200,function(e){Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(553)),Ke.runLater(200,function(e){Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(553)),Ke.runLater(200,function(t){Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(553))},t.actor)},t.actor)},t.actor)},t.actor)},t.actor)},this.actor)),this.addListener(this.actor.whenCollided,n(this,this._event_ActorAny)),this.addListener(this.actor.whenUpdated,n(this,this._event_Updating))},forwardMessage:function(t){},__class__:Uf});var zf=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_684"]=zf,zf.__name__="scripts.ActorEvents_684",zf.__super__=Je,zf.prototype=i(Je.prototype,{init:function(){this.actor.makeAlwaysSimulate()},forwardMessage:function(t){},__class__:zf});var Hf=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_686"]=Hf,Hf.__name__="scripts.ActorEvents_686",Hf.__super__=Je,Hf.prototype=i(Je.prototype,{_event_Updating:function(t){if(this.wrapper.enabled){t=0;for(var e=Ke.getActorsOfType(Ke.getActorType(479));t<e.length;){var i=e[t];++t,null==i||i.dead||i.recycled||(this.actor.setX(i.getX()-6),this.actor.setY(i.getY()-34))}this.actor.moveUp()}},_event_LeftPressed:function(t,e){this.wrapper.enabled&&t&&this._customEvent_Fade()},_event_Right:function(t,e){this.wrapper.enabled&&t&&this._customEvent_Fade()},_event_Up:function(t,e){this.wrapper.enabled&&t&&this._customEvent_Fade()},_event_Down:function(t,e){this.wrapper.enabled&&t&&this._customEvent_Fade()},_customEvent_Fade:function(){var t=this;this.actor.fadeTo(0,.3,da.linear),Ke.runLater(300,function(e){Ke.recycleActor(t.actor)},this.actor)},init:function(){this.actor.makeAlwaysSimulate(),this.actor.fadeTo(0,0,da.linear),this.actor.fadeTo(1,.3,da.linear),"Results Screen"==Ke.getCurrentSceneName()&&Ke.recycleActor(this.actor),("ontouchstart"in document.documentElement||window.DocumentTouch&&document instanceof DocumentTouch)&&Ke.recycleActor(this.actor),this.addListener(this.actor.whenUpdated,n(this,this._event_Updating)),this.addListener(Ke.engine.whenKeyPressedEvents.getOrCreateEvent("A"),n(this,this._event_LeftPressed)),this.addListener(Ke.engine.whenKeyPressedEvents.getOrCreateEvent("D"),n(this,this._event_Right)),this.addListener(Ke.engine.whenKeyPressedEvents.getOrCreateEvent("W"),n(this,this._event_Up)),this.addListener(Ke.engine.whenKeyPressedEvents.getOrCreateEvent("S"),n(this,this._event_Down))},forwardMessage:function(t){},__class__:Hf});var Wf=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_688"]=Wf,Wf.__name__="scripts.ActorEvents_688",Wf.__super__=Je,Wf.prototype=i(Je.prototype,{_event_Updating:function(t){if(this.wrapper.enabled){if(Ge.engine.getGameAttribute("Multiplayer On")){t=0;for(var e=Ke.getActorsOfType(Ke.getActorType(652));t<e.length;){var i=e[t];++t,null==i||i.dead||i.recycled||(this.actor.setX(i.getX()-6),this.actor.setY(i.getY()-34))}}else for(t=0,e=Ke.getActorsOfType(Ke.getActorType(479));t<e.length;)i=e[t],++t,null==i||i.dead||i.recycled||(this.actor.setX(i.getX()-6),this.actor.setY(i.getY()-30));this.actor.moveUp()}},_event_LeftPressed:function(t,e){this.wrapper.enabled&&t&&this._customEvent_Fade()},_event_Right:function(t,e){this.wrapper.enabled&&t&&this._customEvent_Fade()},_event_Up:function(t,e){this.wrapper.enabled&&t&&this._customEvent_Fade()},_event_Down:function(t,e){this.wrapper.enabled&&t&&this._customEvent_Fade()},_event_LeftPressed2:function(t,e){this.wrapper.enabled&&t&&(Ge.engine.getGameAttribute("Multiplayer On")||this._customEvent_Fade())},_event_Right2:function(t,e){this.wrapper.enabled&&t&&(Ge.engine.getGameAttribute("Multiplayer On")||this._customEvent_Fade())},_event_Up2:function(t,e){this.wrapper.enabled&&t&&(Ge.engine.getGameAttribute("Multiplayer On")||this._customEvent_Fade())},_event_Down2:function(t,e){this.wrapper.enabled&&t&&(Ge.engine.getGameAttribute("Multiplayer On")||this._customEvent_Fade())},_customEvent_Fade:function(){var t=this;this.actor.fadeTo(0,.3,da.linear),Ke.runLater(300,function(e){Ke.recycleActor(t.actor)},this.actor)},init:function(){this.actor.makeAlwaysSimulate(),this.actor.fadeTo(0,0,da.linear),this.actor.fadeTo(1,.3,da.linear),"Results Screen"==Ke.getCurrentSceneName()&&Ke.recycleActor(this.actor),("ontouchstart"in document.documentElement||window.DocumentTouch&&document instanceof DocumentTouch)&&Ke.recycleActor(this.actor),this.addListener(this.actor.whenUpdated,n(this,this._event_Updating)),this.addListener(Ke.engine.whenKeyPressedEvents.getOrCreateEvent("Left"),n(this,this._event_LeftPressed)),this.addListener(Ke.engine.whenKeyPressedEvents.getOrCreateEvent("Right"),n(this,this._event_Right)),this.addListener(Ke.engine.whenKeyPressedEvents.getOrCreateEvent("Up"),n(this,this._event_Up)),this.addListener(Ke.engine.whenKeyPressedEvents.getOrCreateEvent("Down"),n(this,this._event_Down)),this.addListener(Ke.engine.whenKeyPressedEvents.getOrCreateEvent("A"),n(this,this._event_LeftPressed2)),this.addListener(Ke.engine.whenKeyPressedEvents.getOrCreateEvent("D"),n(this,this._event_Right2)),this.addListener(Ke.engine.whenKeyPressedEvents.getOrCreateEvent("W"),n(this,this._event_Up2)),this.addListener(Ke.engine.whenKeyPressedEvents.getOrCreateEvent("S"),n(this,this._event_Down2))},forwardMessage:function(t){},__class__:Wf});var Xf=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_690"]=Xf,Xf.__name__="scripts.ActorEvents_690",Xf.__super__=Je,Xf.prototype=i(Je.prototype,{init:function(){this.actor.makeAlwaysSimulate(),Ge.engine.getGameAttribute("Multiplayer On")&&1==Ge.engine.getGameAttribute("Multiplayer Mode")&&this.actor.setAnimation("2"),Ge.engine.getGameAttribute("Multiplayer On")&&2==Ge.engine.getGameAttribute("Multiplayer Mode")&&this.actor.setAnimation("3")},forwardMessage:function(t){},__class__:Xf});var Yf=function(t,e,i){Je.call(this,e),this.nameMap.h["Bunny Skin Counter"]="_BunnySkinCounter"};r["scripts.ActorEvents_692"]=Yf,Yf.__name__="scripts.ActorEvents_692",Yf.__super__=Je,Yf.prototype=i(Je.prototype,{_BunnySkinCounter:null,_event_Exits:function(t){this.wrapper.enabled&&-1==t&&this.actor.setAnimation("0")},_event_ReleasedOn:function(t){this.wrapper.enabled&&5==t&&this.actor.setAnimation("0")},_event_Pressed:function(t){this.wrapper.enabled&&3==t&&(this.actor.setAnimation("1"),this._customEvent_Pressed())},_customEvent_Pressed:function(){this.actor.setAnimation("1"),Ke.isTransitioning()||(Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSoundOnChannel(Ke.getSound(594),2),"Title Screen"==Ke.getCurrentSceneName()||Ge.engine.getGameAttribute("Multiplayer On")?Ke.switchScene(yn.get().scenes.h[13].getID(),null,Ke.createCrossfadeTransition(.3)):(Ge.engine.gameAttributes.h["Player 1 Selecting Skin"]=!0,0<=Ge.engine.getGameAttribute("P1 Skin")&&14>=Ge.engine.getGameAttribute("P1 Skin")?Ke.switchScene(yn.get().scenes.h[14].getID(),null,Ke.createCrossfadeTransition(.3)):15<=Ge.engine.getGameAttribute("P1 Skin")&&29>=Ge.engine.getGameAttribute("P1 Skin")?Ke.switchScene(yn.get().scenes.h[15].getID(),null,Ke.createCrossfadeTransition(.3)):30<=Ge.engine.getGameAttribute("P1 Skin")&&44>=Ge.engine.getGameAttribute("P1 Skin")?Ke.switchScene(yn.get().scenes.h[16].getID(),null,Ke.createCrossfadeTransition(.3)):45<=Ge.engine.getGameAttribute("P1 Skin")&&59>=Ge.engine.getGameAttribute("P1 Skin")?Ke.switchScene(yn.get().scenes.h[17].getID(),null,Ke.createCrossfadeTransition(.3)):60<=Ge.engine.getGameAttribute("P1 Skin")&&75>=Ge.engine.getGameAttribute("P1 Skin")?Ke.switchScene(yn.get().scenes.h[18].getID(),null,Ke.createCrossfadeTransition(.3)):76<=Ge.engine.getGameAttribute("P1 Skin")&&89>=Ge.engine.getGameAttribute("P1 Skin")?Ke.switchScene(yn.get().scenes.h[19].getID(),null,Ke.createCrossfadeTransition(.3)):90<=Ge.engine.getGameAttribute("P1 Skin")&&104>=Ge.engine.getGameAttribute("P1 Skin")&&Ke.switchScene(yn.get().scenes.h[22].getID(),null,Ke.createCrossfadeTransition(.3))))},init:function(){this.actor.makeAlwaysSimulate(),this.actor.anchorToScreen(),this.actor.setX(Ke.getScreenWidth()-Ke.getScreenWidth()+L.leftInset),this.actor.setY(Ke.getScreenHeight()-Ke.getScreenHeight()+L.topInset),Ke.createRecycledActor(Ke.getActorType(716),this.actor.getScreenX(),this.actor.getScreenY()+this.actor.getHeight()+1,0),this._BunnySkinCounter=Ke.getLastCreatedActor(),this.addListener(this.actor.whenMousedOver,n(this,this._event_Exits)),this.addListener(this.actor.whenMousedOver,n(this,this._event_ReleasedOn)),this.addListener(this.actor.whenMousedOver,n(this,this._event_Pressed))},forwardMessage:function(t){},__class__:Yf});var jf=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_694"]=jf,jf.__name__="scripts.ActorEvents_694",jf.__super__=Je,jf.prototype=i(Je.prototype,{init:function(){this.actor.makeAlwaysSimulate()},forwardMessage:function(t){},__class__:jf});var Kf=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_698"]=Kf,Kf.__name__="scripts.ActorEvents_698",Kf.__super__=Je,Kf.prototype=i(Je.prototype,{init:function(){this.actor.makeAlwaysSimulate()},forwardMessage:function(t){},__class__:Kf});var Jf=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_702"]=Jf,Jf.__name__="scripts.ActorEvents_702",Jf.__super__=Je,Jf.prototype=i(Je.prototype,{init:function(){},forwardMessage:function(t){},__class__:Jf});var Zf=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_704"]=Zf,Zf.__name__="scripts.ActorEvents_704",Zf.__super__=Je,Zf.prototype=i(Je.prototype,{init:function(){this.actor.makeAlwaysSimulate()},forwardMessage:function(t){},__class__:Zf});var Qf=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_706"]=Qf,Qf.__name__="scripts.ActorEvents_706",Qf.__super__=Je,Qf.prototype=i(Je.prototype,{init:function(){},forwardMessage:function(t){},__class__:Qf});var qf=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_708"]=qf,qf.__name__="scripts.ActorEvents_708",qf.__super__=Je,qf.prototype=i(Je.prototype,{init:function(){},forwardMessage:function(t){},__class__:qf});var $f=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_710"]=$f,$f.__name__="scripts.ActorEvents_710",$f.__super__=Je,$f.prototype=i(Je.prototype,{init:function(){},forwardMessage:function(t){},__class__:$f});var tg=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_712"]=tg,tg.__name__="scripts.ActorEvents_712",tg.__super__=Je,tg.prototype=i(Je.prototype,{_event_Pressed:function(t){this.wrapper.enabled&&3==t&&(this._customEvent_Pressed(),this.actor.setAnimation("2"))},_event_Released:function(t){this.wrapper.enabled&&5==t&&this.actor.setAnimation("1")},_event_Exits:function(t){this.wrapper.enabled&&-1==t&&this.actor.setAnimation("1")},_customEvent_Pressed:function(){Ke.isTransitioning()||(Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(594)),"Skins Menu 1"==Ke.getCurrentSceneName()?Ke.switchScene(yn.get().scenes.h[22].getID(),null,Ke.createSlideLeftTransition(.3)):"Skins Menu 2"==Ke.getCurrentSceneName()?Ke.switchScene(yn.get().scenes.h[14].getID(),null,Ke.createSlideLeftTransition(.3)):"Skins Menu 3"==Ke.getCurrentSceneName()?Ke.switchScene(yn.get().scenes.h[15].getID(),null,Ke.createSlideLeftTransition(.3)):"Skins Menu 4"==Ke.getCurrentSceneName()?Ke.switchScene(yn.get().scenes.h[16].getID(),null,Ke.createSlideLeftTransition(.3)):"Skins Menu 5"==Ke.getCurrentSceneName()?Ke.switchScene(yn.get().scenes.h[17].getID(),null,Ke.createSlideLeftTransition(.3)):"Skins Menu 6"==Ke.getCurrentSceneName()?Ke.switchScene(yn.get().scenes.h[18].getID(),null,Ke.createSlideLeftTransition(.3)):"Skins Menu 7"==Ke.getCurrentSceneName()&&Ke.switchScene(yn.get().scenes.h[19].getID(),null,Ke.createSlideLeftTransition(.3)))},init:function(){this.actor.makeAlwaysSimulate(),this.actor.anchorToScreen(),this.actor.setX(Ke.getScreenWidth()-Ke.getScreenWidth()+4+L.leftInset),this.actor.setY(Ke.getScreenHeight()-Ke.getScreenHeight()/2-this.actor.getHeight()/2),this.addListener(this.actor.whenMousedOver,n(this,this._event_Pressed)),this.addListener(this.actor.whenMousedOver,n(this,this._event_Released)),this.addListener(this.actor.whenMousedOver,n(this,this._event_Exits))},forwardMessage:function(t){},__class__:tg});var eg=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_714"]=eg,eg.__name__="scripts.ActorEvents_714",eg.__super__=Je,eg.prototype=i(Je.prototype,{_event_Pressed:function(t){this.wrapper.enabled&&3==t&&(this._customEvent_Pressed(),this.actor.setAnimation("2"))},_event_Released:function(t){this.wrapper.enabled&&5==t&&this.actor.setAnimation("1")},_event_Exits:function(t){this.wrapper.enabled&&-1==t&&this.actor.setAnimation("1")},_customEvent_Pressed:function(){Ke.isTransitioning()||(Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(594)),"Skins Menu 1"==Ke.getCurrentSceneName()?Ke.switchScene(yn.get().scenes.h[15].getID(),null,Ke.createSlideRightTransition(.3)):"Skins Menu 2"==Ke.getCurrentSceneName()?Ke.switchScene(yn.get().scenes.h[16].getID(),null,Ke.createSlideRightTransition(.3)):"Skins Menu 3"==Ke.getCurrentSceneName()?Ke.switchScene(yn.get().scenes.h[17].getID(),null,Ke.createSlideRightTransition(.3)):"Skins Menu 4"==Ke.getCurrentSceneName()?Ke.switchScene(yn.get().scenes.h[18].getID(),null,Ke.createSlideRightTransition(.3)):"Skins Menu 5"==Ke.getCurrentSceneName()?Ke.switchScene(yn.get().scenes.h[19].getID(),null,Ke.createSlideRightTransition(.3)):"Skins Menu 6"==Ke.getCurrentSceneName()?Ke.switchScene(yn.get().scenes.h[22].getID(),null,Ke.createSlideRightTransition(.3)):"Skins Menu 7"==Ke.getCurrentSceneName()&&Ke.switchScene(yn.get().scenes.h[14].getID(),null,Ke.createSlideRightTransition(.3)))},init:function(){this.actor.makeAlwaysSimulate(),this.actor.anchorToScreen(),this.actor.setX(Ke.getScreenWidth()-this.actor.getWidth()-4-L.rightInset),this.actor.setY(Ke.getScreenHeight()-Ke.getScreenHeight()/2-this.actor.getHeight()/2),this.addListener(this.actor.whenMousedOver,n(this,this._event_Pressed)),this.addListener(this.actor.whenMousedOver,n(this,this._event_Released)),this.addListener(this.actor.whenMousedOver,n(this,this._event_Exits))},forwardMessage:function(t){},__class__:eg});var ig=function(t,e,i){Je.call(this,e),this.nameMap.h["Crown Icon"]="_CrownIcon",this.nameMap.h["Can Draw?"]="_CanDraw",this._CanDraw=!1};r["scripts.ActorEvents_716"]=ig,ig.__name__="scripts.ActorEvents_716",ig.__super__=Je,ig.prototype=i(Je.prototype,{_CrownIcon:null,_CanDraw:null,_event_DrawingCopy:function(t,e,i){this.wrapper.enabled&&(t.setFont(Ke.getFont(581)),t.translateToScreen(),Ge.engine.getGameAttribute("Collected Skins List").length>=Ge.engine.getGameAttribute("Skin Names List").length?(this.actor.setAnimation("3"),this._CrownIcon.setX(this.actor.getScreenX()+29),this._CrownIcon.setY(this.actor.getScreenY())):(100<=Ge.engine.getGameAttribute("Collected Skins List").length||Ge.engine.getGameAttribute("Collected Skins List"),this.actor.setAnimation("2")),t.drawString(""+Ge.engine.getGameAttribute("Collected Skins List").length,this.actor.getScreenX()+15,this.actor.getScreenY()+4))},_event_Drawing:function(t,e,i){if(this.wrapper.enabled)for(t=0,e=Ke.getActorsOfType(Ke.getActorType(692));t<e.length;)i=e[t],++t,null==i||i.dead||i.recycled||this.actor.setY(i.getScreenY()+i.getHeight()+1)},init:function(){this.actor.makeAlwaysSimulate(),this.actor.anchorToScreen(),this.actor.setX(Ke.getScreenWidth()-Ke.getScreenWidth()+2+L.leftInset),this.actor.setY(Ke.getScreenHeight()-Ke.getScreenHeight()+2+L.topInset),Ge.engine.getGameAttribute("Collected Skins List").length>=Ge.engine.getGameAttribute("Skin Names List").length&&(Ke.createRecycledActor(Ke.getActorType(769),this.actor.getScreenX()+20,this.actor.getScreenY(),0),this._CrownIcon=Ke.getLastCreatedActor()),this.addListener(this.actor.whenDrawing,n(this,this._event_DrawingCopy)),this.addListener(this.actor.whenDrawing,n(this,this._event_Drawing))},forwardMessage:function(t){},__class__:ig});var sg=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_718"]=sg,sg.__name__="scripts.ActorEvents_718",sg.__super__=Je,sg.prototype=i(Je.prototype,{init:function(){this.actor.makeAlwaysSimulate(),this.actor.anchorToScreen(),this.actor.setX(Ke.getScreenWidth()-this.actor.getWidth()-3-L.rightInset),this.actor.setY(Ke.getScreenHeight()-Ke.getScreenHeight()+3+L.topInset),"Skins Menu 1"==Ke.getCurrentSceneName()?this.actor.setAnimation("1"):"Skins Menu 2"==Ke.getCurrentSceneName()?this.actor.setAnimation("2"):"Skins Menu 3"==Ke.getCurrentSceneName()?this.actor.setAnimation("3"):"Skins Menu 4"==Ke.getCurrentSceneName()?this.actor.setAnimation("4"):"Skins Menu 5"==Ke.getCurrentSceneName()?this.actor.setAnimation("5"):"Skins Menu 6"==Ke.getCurrentSceneName()?this.actor.setAnimation("6"):"Skins Menu 7"==Ke.getCurrentSceneName()&&this.actor.setAnimation("7")},forwardMessage:function(t){},__class__:sg});var ng=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_720"]=ng,ng.__name__="scripts.ActorEvents_720",ng.__super__=Je,ng.prototype=i(Je.prototype,{init:function(){},forwardMessage:function(t){},__class__:ng});var rg=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_722"]=rg,rg.__name__="scripts.ActorEvents_722",rg.__super__=Je,rg.prototype=i(Je.prototype,{init:function(){this.actor.makeAlwaysSimulate()},forwardMessage:function(t){},__class__:rg});var ag=function(t,e,i){Je.call(this,e),this.nameMap.h["Counter X"]="_CounterX",this._CounterX=0,this.nameMap.h["Counter Y"]="_CounterY",this._CounterY=0,this.nameMap.h["Temp Counter"]="_TempCounter",this._TempCounter=0,this.nameMap.h["Collected Carrots"]="_CollectedCarrots",this._CollectedCarrots=0,this.nameMap.h["Can Draw?"]="_CanDraw",this._CanDraw=!1,this.nameMap.h["Carrot Reward"]="_CarrotReward",this._CarrotReward=!1};r["scripts.ActorEvents_724"]=ag,ag.__name__="scripts.ActorEvents_724",ag.__super__=Je,ag.prototype=i(Je.prototype,{_CounterX:null,_CounterY:null,_TempCounter:null,_CollectedCarrots:null,_CanDraw:null,_CarrotReward:null,_event_DrawingCopy:function(t,e,i){this.wrapper.enabled&&(t.setFont(Ke.getFont(581)),t.translateToScreen(),1e3>Ge.engine.getGameAttribute("Currency Carrots")?t.drawString(this._TempCounter+"/100",this._CounterX,this._CounterY):t.drawString("999/100",this._CounterX,this._CounterY),this._CanDraw)&&(Ge.engine.getGameAttribute("Multiplayer On")?Ge.engine.getGameAttribute("Multiplayer On")&&1==Ge.engine.getGameAttribute("Multiplayer Mode")?(t.setFont(Ke.getFont(729)),t.drawString("+"+g.string(Ge.engine.getGameAttribute("Carrot Counter")),this._CounterX-2,this._CounterY+8)):Ge.engine.getGameAttribute("Multiplayer On")&&2==Ge.engine.getGameAttribute("Multiplayer Mode")&&(t.setFont(Ke.getFont(729)),t.drawString("+"+(Ge.engine.getGameAttribute("P1 Versus Score")+Ge.engine.getGameAttribute("P2 Versus Score")),this._CounterX-2,this._CounterY+8)):(t.setFont(Ke.getFont(729)),t.drawString("+"+g.string(Ge.engine.getGameAttribute("Carrot Counter")),this._CounterX-2,this._CounterY+8)))},_event_Updating:function(t){if(this.wrapper.enabled){t=0;for(var e=Ke.getActorsOfType(Ke.getActorType(720));t<e.length;){var i=e[t];++t,null==i||i.dead||i.recycled||this.actor.setY(i.getY()+36)}99<Ge.engine.getGameAttribute("Currency Carrots")&&this.actor.setAnimation("1")}},_event_50CarrotsReward:function(t,e,i){this.wrapper.enabled&&this._CanDraw&&this._CarrotReward&&(Ge.engine.getGameAttribute("Multiplayer On")?(Ge.engine.getGameAttribute("Multiplayer On")&&1==Ge.engine.getGameAttribute("Multiplayer Mode")||Ge.engine.getGameAttribute("Multiplayer On")&&2==Ge.engine.getGameAttribute("Multiplayer Mode"))&&(t.setFont(Ke.getFont(729)),t.drawString("+50",this._CounterX-2,this._CounterY+8)):(t.setFont(Ke.getFont(729)),t.drawString("+50",this._CounterX-2,this._CounterY+8)))},_customEvent_greentext:function(){var t=this;this._CanDraw=!0,Ke.runLater(1600,function(e){t._CanDraw=!1,Ke.runLater(100,function(e){t._CanDraw=!0,Ke.runLater(100,function(e){t._CanDraw=!1,Ke.runLater(100,function(e){t._CanDraw=!0,Ke.runLater(100,function(e){t._CanDraw=!1},t.actor)},t.actor)},t.actor)},t.actor)},this.actor)},_customEvent_scoreincrease:function(){var t=this;Ge.engine.getGameAttribute("Multiplayer On")?Ge.engine.getGameAttribute("Multiplayer On")&&1==Ge.engine.getGameAttribute("Multiplayer Mode")?this._TempCounter<Ge.engine.getGameAttribute("Currency Carrots")&&(this._TempCounter+=1,Ke.runLater(40,function(e){t._customEvent_scoreincrease()},this.actor)):Ge.engine.getGameAttribute("Multiplayer On")&&2==Ge.engine.getGameAttribute("Multiplayer Mode")&&this._TempCounter<Ge.engine.getGameAttribute("Currency Carrots")&&(this._TempCounter+=1,Ke.runLater(40,function(e){t._customEvent_scoreincrease()},this.actor)):this._TempCounter<Ge.engine.getGameAttribute("Currency Carrots")&&(this._TempCounter+=1,Ke.runLater(40,function(e){t._customEvent_scoreincrease()},this.actor))},_customEvent_EnableCarrotReward:function(){this._CarrotReward=!0},init:function(){var t=this;this.actor.makeAlwaysSimulate(),this.actor.anchorToScreen(),99<Ge.engine.getGameAttribute("Currency Carrots")?this._CounterX=this.actor.getX()+11:this._CounterX=this.actor.getX()+14,this._CounterY=this.actor.getY()+3,"Unlock Bunny Screen"==Ke.getCurrentSceneName()?Ge.engine.getGameAttribute("Multiplayer On")?(Ge.engine.getGameAttribute("Multiplayer On")&&1==Ge.engine.getGameAttribute("Multiplayer Mode")||Ge.engine.getGameAttribute("Multiplayer On")&&2==Ge.engine.getGameAttribute("Multiplayer Mode"))&&(this._TempCounter=Ge.engine.getGameAttribute("Currency Carrots")):this._TempCounter=Ge.engine.getGameAttribute("Currency Carrots"):(Ge.engine.getGameAttribute("Multiplayer On")?Ge.engine.getGameAttribute("Multiplayer On")&&1==Ge.engine.getGameAttribute("Multiplayer Mode")?this._TempCounter=Ge.engine.getGameAttribute("Currency Carrots")-Ge.engine.getGameAttribute("Carrot Counter"):Ge.engine.getGameAttribute("Multiplayer On")&&2==Ge.engine.getGameAttribute("Multiplayer Mode")&&(this._TempCounter=Ge.engine.getGameAttribute("Currency Carrots")-(Ge.engine.getGameAttribute("P1 Versus Score")+Ge.engine.getGameAttribute("P2 Versus Score"))):this._TempCounter=Ge.engine.getGameAttribute("Currency Carrots")-Ge.engine.getGameAttribute("Carrot Counter"),Ke.runLater(400,function(e){t._customEvent_greentext(),Ke.runLater(200,function(e){t._customEvent_scoreincrease()},t.actor)},this.actor)),this.addListener(this.actor.whenDrawing,n(this,this._event_DrawingCopy)),this.addListener(this.actor.whenUpdated,n(this,this._event_Updating)),this.addListener(this.actor.whenDrawing,n(this,this._event_50CarrotsReward))},forwardMessage:function(t){},__class__:ag});var og=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_730"]=og,og.__name__="scripts.ActorEvents_730",og.__super__=Je,og.prototype=i(Je.prototype,{init:function(){this.actor.makeAlwaysSimulate()},forwardMessage:function(t){},__class__:og});var lg=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_732"]=lg,lg.__name__="scripts.ActorEvents_732",lg.__super__=Je,lg.prototype=i(Je.prototype,{init:function(){this.actor.makeAlwaysSimulate()},forwardMessage:function(t){},__class__:lg});var hg=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_736"]=hg,hg.__name__="scripts.ActorEvents_736",hg.__super__=Je,hg.prototype=i(Je.prototype,{init:function(){this.actor.makeAlwaysSimulate(),this.actor.moveToBottom()},forwardMessage:function(t){},__class__:hg});var _g=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_738"]=_g,_g.__name__="scripts.ActorEvents_738",_g.__super__=Je,_g.prototype=i(Je.prototype,{init:function(){this.actor.makeAlwaysSimulate(),this.actor.setCurrentFrame(Ke.randomInt(0,2)),this.actor.setYVelocity(-1)},forwardMessage:function(t){},__class__:_g});var cg=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_740"]=cg,cg.__name__="scripts.ActorEvents_740",cg.__super__=Je,cg.prototype=i(Je.prototype,{init:function(){this.actor.makeAlwaysSimulate()},forwardMessage:function(t){},__class__:cg});var ug=function(t,e,i){Je.call(this,e),this.nameMap.h["Particle Number"]="_ParticleNumber",this._ParticleNumber=0};r["scripts.ActorEvents_742"]=ug,ug.__name__="scripts.ActorEvents_742",ug.__super__=Je,ug.prototype=i(Je.prototype,{_ParticleNumber:null,init:function(){this.actor.makeAlwaysSimulate(),this._ParticleNumber=Ke.randomInt(0,1),0==this._ParticleNumber?this.actor.setAnimation("0"):this.actor.setAnimation("1")},forwardMessage:function(t){},__class__:ug});var dg=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_744"]=dg,dg.__name__="scripts.ActorEvents_744",dg.__super__=Je,dg.prototype=i(Je.prototype,{init:function(){this.actor.makeAlwaysSimulate(),this.actor.setYVelocity(Ke.randomInt(-1,-2))},forwardMessage:function(t){},__class__:dg});var mg=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_746"]=mg,mg.__name__="scripts.ActorEvents_746",mg.__super__=Je,mg.prototype=i(Je.prototype,{init:function(){this.actor.makeAlwaysSimulate(),this.actor.setYVelocity(Ke.randomInt(-1,-2))},forwardMessage:function(t){},__class__:mg});var pg=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_748"]=pg,pg.__name__="scripts.ActorEvents_748",pg.__super__=Je,pg.prototype=i(Je.prototype,{init:function(){this.actor.makeAlwaysSimulate(),this.actor.setYVelocity(Ke.randomInt(-1,-2))},forwardMessage:function(t){},__class__:pg});var fg=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_750"]=fg,fg.__name__="scripts.ActorEvents_750",fg.__super__=Je,fg.prototype=i(Je.prototype,{init:function(){this.actor.makeAlwaysSimulate(),this.actor.moveToBottom()},forwardMessage:function(t){},__class__:fg});var gg=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_752"]=gg,gg.__name__="scripts.ActorEvents_752",gg.__super__=Je,gg.prototype=i(Je.prototype,{init:function(){this.actor.makeAlwaysSimulate()},forwardMessage:function(t){},__class__:gg});var yg=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_754"]=yg,yg.__name__="scripts.ActorEvents_754",yg.__super__=Je,yg.prototype=i(Je.prototype,{init:function(){this.actor.makeAlwaysSimulate()},forwardMessage:function(t){},__class__:yg});var bg=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_756"]=bg,bg.__name__="scripts.ActorEvents_756",bg.__super__=Je,bg.prototype=i(Je.prototype,{init:function(){this.actor.makeAlwaysSimulate()},forwardMessage:function(t){},__class__:bg});var vg=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_758"]=vg,vg.__name__="scripts.ActorEvents_758",vg.__super__=Je,vg.prototype=i(Je.prototype,{init:function(){},forwardMessage:function(t){},__class__:vg});var xg=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_760"]=xg,xg.__name__="scripts.ActorEvents_760",xg.__super__=Je,xg.prototype=i(Je.prototype,{init:function(){var t=this;this.actor.makeAlwaysSimulate(),this.actor.spinBy(360,3,da.linear),Ke.runPeriodically(3e3,function(e){t.actor.spinBy(360,3,da.linear)},this.actor),this.actor.moveToBottom(),this.actor.fadeTo(.8,0,da.linear)},forwardMessage:function(t){},__class__:xg});var wg=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_762"]=wg,wg.__name__="scripts.ActorEvents_762",wg.__super__=Je,wg.prototype=i(Je.prototype,{init:function(){this.actor.makeAlwaysSimulate(),this.actor.setYVelocity(Ke.randomInt(-1,-2)),this.actor.setXVelocity(Ke.randomInt(-1,1))},forwardMessage:function(t){},__class__:wg});var Sg=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_764"]=Sg,Sg.__name__="scripts.ActorEvents_764",Sg.__super__=Je,Sg.prototype=i(Je.prototype,{init:function(){this.actor.makeAlwaysSimulate(),this.actor.setYVelocity(Ke.randomInt(1,2))},forwardMessage:function(t){},__class__:Sg});var Rg=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_767"]=Rg,Rg.__name__="scripts.ActorEvents_767",Rg.__super__=Je,Rg.prototype=i(Je.prototype,{init:function(){this.actor.makeAlwaysSimulate(),this.actor.setYVelocity(-1),this.actor.setXVelocity(0)},forwardMessage:function(t){},__class__:Rg});var Ag=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_769"]=Ag,Ag.__name__="scripts.ActorEvents_769",Ag.__super__=Je,Ag.prototype=i(Je.prototype,{init:function(){this.actor.makeAlwaysSimulate(),this.actor.anchorToScreen()},forwardMessage:function(t){},__class__:Ag});var Tg=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_771"]=Tg,Tg.__name__="scripts.ActorEvents_771",Tg.__super__=Je,Tg.prototype=i(Je.prototype,{init:function(){("ontouchstart"in document.documentElement||window.DocumentTouch&&document instanceof DocumentTouch)&&this.actor.disableActorDrawing()},forwardMessage:function(t){},__class__:Tg});var Mg=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_775"]=Mg,Mg.__name__="scripts.ActorEvents_775",Mg.__super__=Je,Mg.prototype=i(Je.prototype,{init:function(){},forwardMessage:function(t){},__class__:Mg});var Pg=function(t,e,i){Je.call(this,e),this.nameMap.h["Game Number"]="_GameNumber",this._GameNumber=0};r["scripts.ActorEvents_777"]=Pg,Pg.__name__="scripts.ActorEvents_777",Pg.__super__=Je,Pg.prototype=i(Je.prototype,{_GameNumber:null,_event_OnActor:function(t){this.wrapper.enabled&&3==t&&(Ke.playSoundOnChannel(Ke.getSound(749),2),Ke.openURLInBrowser("https://store.steampowered.com/developer/adventureislands"))},init:function(){this.actor.makeAlwaysSimulate(),this._GameNumber=Ke.randomInt(0,3),0==this._GameNumber?this.actor.setCurrentFrame(0):1==this._GameNumber?this.actor.setCurrentFrame(2):2==this._GameNumber?this.actor.setCurrentFrame(4):3==this._GameNumber&&this.actor.setCurrentFrame(6),Ke.recycleActor(this.actor),this.addListener(this.actor.whenMousedOver,n(this,this._event_OnActor))},forwardMessage:function(t){},__class__:Pg});var Cg=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_779"]=Cg,Cg.__name__="scripts.ActorEvents_779",Cg.__super__=Je,Cg.prototype=i(Je.prototype,{init:function(){Ke.recycleActor(this.actor)},forwardMessage:function(t){},__class__:Cg});var Ig=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_781"]=Ig,Ig.__name__="scripts.ActorEvents_781",Ig.__super__=Je,Ig.prototype=i(Je.prototype,{init:function(){Ke.recycleActor(this.actor)},forwardMessage:function(t){},__class__:Ig});var Eg=function(t,e,i){Je.call(this,e),this.nameMap.h["Bunny Skin Counter"]="_BunnySkinCounter"};r["scripts.ActorEvents_783"]=Eg,Eg.__name__="scripts.ActorEvents_783",Eg.__super__=Je,Eg.prototype=i(Je.prototype,{_BunnySkinCounter:null,_event_Exits:function(t){this.wrapper.enabled&&-1==t&&this.actor.setAnimation("0")},_event_ReleasedOn:function(t){this.wrapper.enabled&&5==t&&this.actor.setAnimation("0")},_event_Pressed:function(t){this.wrapper.enabled&&3==t&&(this.actor.setAnimation("1"),this._customEvent_Pressed())},_customEvent_Pressed:function(){this.actor.setAnimation("1"),Ke.isTransitioning()||(Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSoundOnChannel(Ke.getSound(594),2),Ke.switchScene(yn.get().scenes.h[24].getID(),null,Ke.createCrossfadeTransition(.3)))},init:function(){this.actor.makeAlwaysSimulate(),this.actor.anchorToScreen(),this.actor.setX(Ke.getScreenWidth()-Ke.getScreenWidth()+L.leftInset),this.actor.setY(Ke.getScreenHeight()-Ke.getScreenHeight()/2-this.actor.getHeight()/2+32),this.addListener(this.actor.whenMousedOver,n(this,this._event_Exits)),this.addListener(this.actor.whenMousedOver,n(this,this._event_ReleasedOn)),this.addListener(this.actor.whenMousedOver,n(this,this._event_Pressed))},forwardMessage:function(t){},__class__:Eg});var kg=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_789"]=kg,kg.__name__="scripts.ActorEvents_789",kg.__super__=Je,kg.prototype=i(Je.prototype,{init:function(){},forwardMessage:function(t){},__class__:kg});var Fg=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_791"]=Fg,Fg.__name__="scripts.ActorEvents_791",Fg.__super__=Je,Fg.prototype=i(Je.prototype,{_event_Pressed:function(t){this.wrapper.enabled&&3==t&&(Ke.shoutToScene("_customEvent_MuteMusic"),Ge.engine.getGameAttribute("Mute Music")?this.actor.setAnimation("4"):this.actor.setAnimation("2"),Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSoundOnChannel(Ke.getSound(594),2))},_event_Released:function(t){this.wrapper.enabled&&5==t&&(Ge.engine.getGameAttribute("Mute Music")?this.actor.setAnimation("3"):this.actor.setAnimation("1"))},_event_Exits:function(t){this.wrapper.enabled&&-1==t&&(Ge.engine.getGameAttribute("Mute Music")?this.actor.setAnimation("3"):this.actor.setAnimation("1"))},init:function(){this.actor.makeAlwaysSimulate(),this.actor.anchorToScreen(),Ge.engine.getGameAttribute("Mute Music")?this.actor.setAnimation("3"):this.actor.setAnimation("1"),this.addListener(this.actor.whenMousedOver,n(this,this._event_Pressed)),this.addListener(this.actor.whenMousedOver,n(this,this._event_Released)),this.addListener(this.actor.whenMousedOver,n(this,this._event_Exits))},forwardMessage:function(t){},__class__:Fg});var Bg=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_793"]=Bg,Bg.__name__="scripts.ActorEvents_793",Bg.__super__=Je,Bg.prototype=i(Je.prototype,{_event_Pressed:function(t){this.wrapper.enabled&&3==t&&(Ke.shoutToScene("_customEvent_MuteSounds"),Ge.engine.getGameAttribute("Mute Sounds")?this.actor.setAnimation("4"):this.actor.setAnimation("2"),Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSoundOnChannel(Ke.getSound(594),2))},_event_Released:function(t){this.wrapper.enabled&&5==t&&(Ge.engine.getGameAttribute("Mute Sounds")?this.actor.setAnimation("3"):this.actor.setAnimation("1"))},_event_Exits:function(t){this.wrapper.enabled&&-1==t&&(Ge.engine.getGameAttribute("Mute Sounds")?this.actor.setAnimation("3"):this.actor.setAnimation("1"))},init:function(){this.actor.makeAlwaysSimulate(),this.actor.anchorToScreen(),Ge.engine.getGameAttribute("Mute Sounds")?this.actor.setAnimation("3"):this.actor.setAnimation("1"),this.addListener(this.actor.whenMousedOver,n(this,this._event_Pressed)),this.addListener(this.actor.whenMousedOver,n(this,this._event_Released)),this.addListener(this.actor.whenMousedOver,n(this,this._event_Exits))},forwardMessage:function(t){},__class__:Bg});var Dg=function(t,e,i){Je.call(this,e),this.nameMap.h["Bunny Skin Counter"]="_BunnySkinCounter"};r["scripts.ActorEvents_795"]=Dg,Dg.__name__="scripts.ActorEvents_795",Dg.__super__=Je,Dg.prototype=i(Je.prototype,{_BunnySkinCounter:null,_event_Exits:function(t){this.wrapper.enabled&&-1==t&&this.actor.setAnimation("0")},_event_ReleasedOn:function(t){this.wrapper.enabled&&5==t&&this.actor.setAnimation("0")},_event_Pressed:function(t){this.wrapper.enabled&&3==t&&(this.actor.setAnimation("1"),this._customEvent_Pressed())},_customEvent_Pressed:function(){this.actor.setAnimation("1"),Ke.isTransitioning()||Ke.engine.isPaused()||(Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSoundOnChannel(Ke.getSound(594),2),Ke.switchScene(yn.get().scenes.h[23].getID(),null,Ke.createCrossfadeTransition(.3)))},init:function(){this.actor.makeAlwaysSimulate(),this.actor.anchorToScreen(),this.actor.setX(Ke.getScreenWidth()-Ke.getScreenWidth()+L.leftInset),this.actor.setY(Ke.getScreenHeight()-Ke.getScreenHeight()/2-this.actor.getHeight()/2-4),Ke.createRecycledActor(Ke.getActorType(791),this.actor.getX(),this.actor.getY()+this.actor.getHeight(),0),Ke.createRecycledActor(Ke.getActorType(793),this.actor.getX(),this.actor.getY()+2*this.actor.getHeight(),0),this.addListener(this.actor.whenMousedOver,n(this,this._event_Exits)),this.addListener(this.actor.whenMousedOver,n(this,this._event_ReleasedOn)),this.addListener(this.actor.whenMousedOver,n(this,this._event_Pressed))},forwardMessage:function(t){},__class__:Dg});var Lg=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_797"]=Lg,Lg.__name__="scripts.ActorEvents_797",Lg.__super__=Je,Lg.prototype=i(Je.prototype,{init:function(){},forwardMessage:function(t){},__class__:Lg});var Ng=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_799"]=Ng,Ng.__name__="scripts.ActorEvents_799",Ng.__super__=Je,Ng.prototype=i(Je.prototype,{init:function(){this.actor.moveToBottom()},forwardMessage:function(t){},__class__:Ng});var Og=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_804"]=Og,Og.__name__="scripts.ActorEvents_804",Og.__super__=Je,Og.prototype=i(Je.prototype,{init:function(){this.actor.makeAlwaysSimulate(),this.actor.anchorToScreen(),p.adBlocked&&this.actor.setAnimation("3")},forwardMessage:function(t){},__class__:Og});var Vg=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_806"]=Vg,Vg.__name__="scripts.ActorEvents_806",Vg.__super__=Je,Vg.prototype=i(Je.prototype,{init:function(){this.actor.makeAlwaysSimulate(),this.actor.anchorToScreen(),this.actor.setX(Ke.getScreenWidth()/2-this.actor.getWidth()/2),this.actor.setY(Ke.getScreenHeight()-Ke.getScreenHeight()-2*this.actor.getHeight()),this.actor.moveTo(Ke.getScreenWidth()-Ke.getScreenWidth()/2-this.actor.getWidth()/2,Ke.getScreenHeight()-Ke.getScreenHeight()/2-this.actor.getHeight()/2-32,.2,da.linear),Ke.createRecycledActor(Ke.getActorType(808),-300,-300,0),Ke.createRecycledActor(Ke.getActorType(810),-300,-300,0);for(var t=0,e=Ke.getActorsOfType(Ke.getActorType(674));t<e.length;){var i=e[t];++t,null==i||i.dead||i.recycled||Ke.recycleActor(i)}for(t=0,e=Ke.getActorsOfType(Ke.getActorType(654));t<e.length;)i=e[t],++t,null==i||i.dead||i.recycled||Ke.recycleActor(i);for(t=0,e=Ke.getActorsOfType(Ke.getActorType(656));t<e.length;)i=e[t],++t,null==i||i.dead||i.recycled||Ke.recycleActor(i);for(t=0,e=Ke.getActorsOfType(Ke.getActorType(479));t<e.length;)i=e[t],++t,null==i||i.dead||i.recycled||Ke.recycleActor(i);for(t=0,e=Ke.getActorsOfType(Ke.getActorType(652));t<e.length;)i=e[t],++t,null==i||i.dead||i.recycled||Ke.recycleActor(i);for(t=0,e=Ke.getActorsOfType(Ke.getActorType(572));t<e.length;)i=e[t],++t,null==i||i.dead||i.recycled||Ke.recycleActor(i);p.sendGameplayStop()},forwardMessage:function(t){},__class__:Vg});var Gg=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_808"]=Gg,Gg.__name__="scripts.ActorEvents_808",Gg.__super__=Je,Gg.prototype=i(Je.prototype,{_event_Updating:function(t){if(this.wrapper.enabled){t=0;for(var e=Ke.getActorsOfType(Ke.getActorType(806));t<e.length;){var i=e[t];++t,null==i||i.dead||i.recycled||(this.actor.setX(i.getXCenter()-48),this.actor.setY(i.getY()+46))}}},_event_Pressed:function(t){this.wrapper.enabled&&3==t&&(this.actor.setAnimation("2"),this._customEvent_Pressed())},_event_Exits:function(t){this.wrapper.enabled&&-1==t&&this.actor.setAnimation("1")},_event_Released:function(t){this.wrapper.enabled&&5==t&&this.actor.setAnimation("1")},_event_SpacePressedHTML5:function(t,e){this.wrapper.enabled&&t&&(p.IsVideoPlaying()||this._customEvent_Pressed())},_customEvent_Pressed:function(){if(!Ke.isTransitioning()){for(var t=0,e=Ke.getActorsOfType(Ke.getActorType(586));t<e.length;){var i=e[t];++t,null==i||i.dead||i.recycled||Ke.recycleActor(i)}for(t=0,e=Ke.getActorsOfType(Ke.getActorType(806));t<e.length;)i=e[t],++t,null==i||i.dead||i.recycled||Ke.recycleActor(i);for(t=0,e=Ke.getActorsOfType(Ke.getActorType(808));t<e.length;)i=e[t],++t,null==i||i.dead||i.recycled||Ke.recycleActor(i);for(t=0,e=Ke.getActorsOfType(Ke.getActorType(810));t<e.length;)i=e[t],++t,null==i||i.dead||i.recycled||Ke.recycleActor(i);Ke.engine.unpause(),Ke.shoutToScene("_customEvent_AddCurrency"),Ke.switchScene(yn.get().scenes.h[11].getID(),null,Ke.createCrossfadeTransition(.5))}},init:function(){this.actor.makeAlwaysSimulate(),this.actor.anchorToScreen(),this.addListener(this.actor.whenUpdated,n(this,this._event_Updating)),this.addListener(this.actor.whenMousedOver,n(this,this._event_Pressed)),this.addListener(this.actor.whenMousedOver,n(this,this._event_Exits)),this.addListener(this.actor.whenMousedOver,n(this,this._event_Released)),this.addListener(Ke.engine.whenKeyPressedEvents.getOrCreateEvent("Space"),n(this,this._event_SpacePressedHTML5))},forwardMessage:function(t){},__class__:Gg});var Ug=function(t,e,i){Je.call(this,e),this.nameMap.h.Adblocked="_Adblocked",this._Adblocked=!1};r["scripts.ActorEvents_810"]=Ug,Ug.__name__="scripts.ActorEvents_810",Ug.__super__=Je,Ug.prototype=i(Je.prototype,{_Adblocked:null,_event_Updating:function(t){if(this.wrapper.enabled){t=0;for(var e=Ke.getActorsOfType(Ke.getActorType(806));t<e.length;){var i=e[t];++t,null==i||i.dead||i.recycled||(this.actor.setX(i.getXCenter()+16),this.actor.setY(i.getY()+46))}for(this._Adblocked&&this.actor.setAnimation("3"),t=0,e=Ke.getActorsOfType(Ke.getActorType(833));t<e.length;)i=e[t],++t,null==i||i.dead||i.recycled||(i.setX(this.actor.getX()),i.setY(this.actor.getY()+32))}},_event_Pressed:function(t){!this.wrapper.enabled||3!=t||Ke.isTransitioning()||this._Adblocked||(this.actor.setAnimation("2"),Ke.shoutToScene("_customEvent_ReviveAdPoki"))},_event_Exits:function(t){this.wrapper.enabled&&-1==t&&(this._Adblocked||this.actor.setAnimation("1"))},_event_Released:function(t){this.wrapper.enabled&&5==t&&(this._Adblocked||this.actor.setAnimation("1"))},init:function(){this.actor.makeAlwaysSimulate(),this.actor.anchorToScreen(),p.adBlocked&&(this._Adblocked=!0,Ke.createRecycledActor(Ke.getActorType(833),this.actor.getX(),this.actor.getY()+32,0)),this.addListener(this.actor.whenUpdated,n(this,this._event_Updating)),this.addListener(this.actor.whenMousedOver,n(this,this._event_Pressed)),this.addListener(this.actor.whenMousedOver,n(this,this._event_Exits)),this.addListener(this.actor.whenMousedOver,n(this,this._event_Released))},forwardMessage:function(t){},__class__:Ug});var zg=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_812"]=zg,zg.__name__="scripts.ActorEvents_812",zg.__super__=Je,zg.prototype=i(Je.prototype,{init:function(){},forwardMessage:function(t){},__class__:zg});var Hg=function(t,e,i){Je.call(this,e),this.nameMap.h["Can Be Pressed?"]="_CanBePressed",this._CanBePressed=!1};r["scripts.ActorEvents_814"]=Hg,Hg.__name__="scripts.ActorEvents_814",Hg.__super__=Je,Hg.prototype=i(Je.prototype,{_CanBePressed:null,_event_pressed:function(t){this.wrapper.enabled&&3==t&&(this.actor.setAnimation("1"),this._CanBePressed&&(Ke.isTransitioning()||Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(594))))},_event_exits:function(t){this.wrapper.enabled&&-1==t&&this.actor.setAnimation("0")},_event_released:function(t){this.wrapper.enabled&&5==t&&this.actor.setAnimation("0")},_event_Purchases:function(t){},_event_Purchases2:function(t){this.wrapper.enabled&&Ke.showAlert("Purchase failed","Sorry about that.")},init:function(){var t=this;this.actor.makeAlwaysSimulate(),this.actor.anchorToScreen(),this.actor.setX(Ke.getScreenWidth()-this.actor.getWidth()-5-L.rightInset),this.actor.setY(Ke.getScreenHeight()-Ke.getScreenHeight()+2),Ke.recycleActor(this.actor),Ke.runLater(300,function(e){t._CanBePressed=!0},this.actor),Ke.recycleActor(this.actor),this.addListener(this.actor.whenMousedOver,n(this,this._event_pressed)),this.addListener(this.actor.whenMousedOver,n(this,this._event_exits)),this.addListener(this.actor.whenMousedOver,n(this,this._event_released)),this.addPurchaseListener(201,n(this,this._event_Purchases)),this.addPurchaseListener(202,n(this,this._event_Purchases2))},forwardMessage:function(t){},__class__:Hg});var Wg=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_816"]=Wg,Wg.__name__="scripts.ActorEvents_816",Wg.__super__=Je,Wg.prototype=i(Je.prototype,{_event_Pressed:function(t){this.wrapper.enabled&&3==t&&(this.actor.setAnimation("2"),Ke.purchasesRestore(),Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(594)))},_event_Released:function(t){this.wrapper.enabled&&5==t&&this.actor.setAnimation("1")},_event_Exits:function(t){this.wrapper.enabled&&-1==t&&this.actor.setAnimation("1")},_event_Purchases:function(t){this.wrapper.enabled&&Ke.showAlert("Purchases Restored","No more ads will be shown.")},init:function(){this.actor.setAnimation("1"),Ke.recycleActor(this.actor),this.addListener(this.actor.whenMousedOver,n(this,this._event_Pressed)),this.addListener(this.actor.whenMousedOver,n(this,this._event_Released)),this.addListener(this.actor.whenMousedOver,n(this,this._event_Exits)),this.addPurchaseListener(203,n(this,this._event_Purchases))},forwardMessage:function(t){},__class__:Wg});var Xg=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_819"]=Xg,Xg.__name__="scripts.ActorEvents_819",Xg.__super__=Je,Xg.prototype=i(Je.prototype,{_event_Exits:function(t){this.wrapper.enabled&&-1==t&&this.actor.setAnimation("1")},_event_ReleasedOn:function(t){this.wrapper.enabled&&5==t&&this.actor.setAnimation("1")},_event_PressedOn:function(t){this.wrapper.enabled&&3==t&&(this.actor.setAnimation("2"),Ke.isTransitioning())},init:function(){this.actor.makeAlwaysSimulate(),this.actor.anchorToScreen(),this.actor.setAnimation("1"),Ke.recycleActor(this.actor),this.addListener(this.actor.whenMousedOver,n(this,this._event_Exits)),this.addListener(this.actor.whenMousedOver,n(this,this._event_ReleasedOn)),this.addListener(this.actor.whenMousedOver,n(this,this._event_PressedOn))},forwardMessage:function(t){},__class__:Xg});var Yg=function(t,e,i){Je.call(this,e),this.nameMap.h.Pressed="_Pressed",this._Pressed=!1};r["scripts.ActorEvents_821"]=Yg,Yg.__name__="scripts.ActorEvents_821",Yg.__super__=Je,Yg.prototype=i(Je.prototype,{_Pressed:null,_event_Drawing:function(t,e,i){},_event_Exits:function(t){this.wrapper.enabled&&-1==t&&(this._Pressed=!1)},_event_released:function(t){this.wrapper.enabled&&5==t&&(this._Pressed=!1)},_event_Pressed:function(t){this.wrapper.enabled&&3==t&&(this._Pressed=!0,this._customEvent_pressed())},_customEvent_pressed:function(){Ke.isTransitioning()||Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(594))},init:function(){this.actor.makeAlwaysSimulate(),this.actor.anchorToScreen(),Ke.recycleActor(this.actor),Ke.createRecycledActor(Ke.getActorType(823),this.actor.getX()+10,this.actor.getY()+this.actor.getHeight()+2,0),this.addListener(this.actor.whenDrawing,n(this,this._event_Drawing)),this.addListener(this.actor.whenMousedOver,n(this,this._event_Exits)),this.addListener(this.actor.whenMousedOver,n(this,this._event_released)),this.addListener(this.actor.whenMousedOver,n(this,this._event_Pressed))},forwardMessage:function(t){},__class__:Yg});var jg=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_823"]=jg,jg.__name__="scripts.ActorEvents_823",jg.__super__=Je,jg.prototype=i(Je.prototype,{_event_Exits:function(t){this.wrapper.enabled&&-1==t&&this.actor.setAnimation("1")},_event_ReleasedOn:function(t){this.wrapper.enabled&&5==t&&this.actor.setAnimation("1")},_event_PressedOn:function(t){this.wrapper.enabled&&3==t&&(this.actor.setAnimation("2"),Ke.isTransitioning())},init:function(){this.actor.makeAlwaysSimulate(),this.actor.anchorToScreen(),this.actor.setAnimation("1"),"Results Screen"==Ke.getCurrentSceneName()&&(this.actor.setX(Ke.getScreenWidth()-Ke.getScreenWidth()+1+L.leftInset),this.actor.setY(Ke.getScreenHeight()-Ke.getScreenHeight()/2-this.actor.getHeight()/2)),Ke.recycleActor(this.actor),this.addListener(this.actor.whenMousedOver,n(this,this._event_Exits)),this.addListener(this.actor.whenMousedOver,n(this,this._event_ReleasedOn)),this.addListener(this.actor.whenMousedOver,n(this,this._event_PressedOn))},forwardMessage:function(t){},__class__:jg});var Kg=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_825"]=Kg,Kg.__name__="scripts.ActorEvents_825",Kg.__super__=Je,Kg.prototype=i(Je.prototype,{_event_ExitsSelf:function(t){this.wrapper.enabled&&-1==t&&this.actor.setAnimation("1")},_event_IsReleasedOnSelf:function(t){this.wrapper.enabled&&5==t&&this.actor.setAnimation("1")},_event_PressedOn:function(t){this.wrapper.enabled&&3==t&&this._customEvent_Pressed()},_customEvent_Pressed:function(){this.actor.setAnimation("2"),Ke.isTransitioning()||(Ke.stopSoundOnChannel(0),Ke.switchScene(yn.get().scenes.h[9].getID(),null,Ke.createCrossfadeTransition(.3)),Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(594)),Ke.runLater(450,function(t){Ke.engine.unpause()},this.actor))},init:function(){this.actor.makeAlwaysSimulate(),this.actor.setAnimation("1"),this.addListener(this.actor.whenMousedOver,n(this,this._event_ExitsSelf)),this.addListener(this.actor.whenMousedOver,n(this,this._event_IsReleasedOnSelf)),this.addListener(this.actor.whenMousedOver,n(this,this._event_PressedOn))},forwardMessage:function(t){},__class__:Kg});var Jg=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_829"]=Jg,Jg.__name__="scripts.ActorEvents_829",Jg.__super__=Je,Jg.prototype=i(Je.prototype,{_event_Exits:function(t){this.wrapper.enabled&&-1==t&&(p.adBlocked?this.actor.setAnimation("2"):this.actor.setAnimation("0"))},_event_ReleasedOn:function(t){this.wrapper.enabled&&5==t&&(p.adBlocked?this.actor.setAnimation("2"):this.actor.setAnimation("0"))},_event_Pressed:function(t){this.wrapper.enabled&&3==t&&Ke.shoutToScene("_customEvent_RewardUnlockCarrotsPoki")},init:function(){this.actor.makeAlwaysSimulate(),this.actor.anchorToScreen(),this.actor.setX(Ke.getScreenWidth()-this.actor.getWidth()-3-L.leftInset),this.actor.setY(Ke.getScreenHeight()-Ke.getScreenHeight()/2-this.actor.getHeight()/2-8+L.topInset),p.adBlocked&&this.actor.setAnimation("2"),Ke.createRecycledActor(Ke.getActorType(831),this.actor.getX()-2,this.actor.getY()+this.actor.getHeight()-4,0),this.actor.fadeTo(0,0,da.linear),this.actor.fadeTo(1,.3,da.linear),this.addListener(this.actor.whenMousedOver,n(this,this._event_Exits)),this.addListener(this.actor.whenMousedOver,n(this,this._event_ReleasedOn)),this.addListener(this.actor.whenMousedOver,n(this,this._event_Pressed))},forwardMessage:function(t){},__class__:Jg});var Zg=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_831"]=Zg,Zg.__name__="scripts.ActorEvents_831",Zg.__super__=Je,Zg.prototype=i(Je.prototype,{init:function(){this.actor.makeAlwaysSimulate(),this.actor.anchorToScreen(),this.actor.fadeTo(0,0,da.linear),this.actor.fadeTo(1,.3,da.linear),p.adBlocked&&this.actor.setAnimation("2")},forwardMessage:function(t){},__class__:Zg});var Qg=function(t,e,i){Je.call(this,e)};r["scripts.ActorEvents_833"]=Qg,Qg.__name__="scripts.ActorEvents_833",Qg.__super__=Je,Qg.prototype=i(Je.prototype,{init:function(){this.actor.makeAlwaysSimulate(),this.actor.anchorToScreen()},forwardMessage:function(t){},__class__:Qg});var qg=function(t,e,i){Je.call(this,e),this.nameMap.h.Actor="actor",this.nameMap.h["Hit Ground?"]="_HitGround",this._HitGround=!1,this.nameMap.h["Limit To Tiles?"]="_LimitToTiles",this._LimitToTiles=!1,this.nameMap.h["Excluded Groups"]="_ExcludedGroups"};r["scripts.Design_107_107_OnGround"]=qg,qg.__name__="scripts.Design_107_107_OnGround",qg.__super__=Je,qg.prototype=i(Je.prototype,{_HitGround:null,_LimitToTiles:null,_ExcludedGroups:null,_event_Updated:function(t){this.wrapper.enabled&&(this.actor.setActorValue("On Ground?",this._HitGround),this._HitGround=!1)},_event_ActorAny:function(t){if(this.wrapper.enabled&&t.thisFromBottom&&!(t.thisCollidedWithActor||this._LimitToTiles&&!t.thisCollidedWithTile)){if(0<this._ExcludedGroups.length)for(var e=0,i=vo.__cast(this._ExcludedGroups,Array);e<i.length;){var s=i[e];if(++e,""+g.string(s)==""+g.string(this.internalGetGroup(t.otherActor,t.otherShape,t)))return}for(e=0,i=t.points;e<i.length;)if(s=i[e],++e,.1<Math.abs(Math.round(Ge.toPixelUnits(s.normalY))))return void(this._HitGround=!0);t.thisFromBottom&&(this._HitGround=!0)}},_event_HitsPlatforms:function(t){if(this.wrapper.enabled){var e=Ke.getActorGroup(10),i=t.otherActor.getType(),s=t.otherActor.getGroup();e=e==i||e==s}else e=!1;e&&t.thisFromBottom&&(this._HitGround=!0)},init:function(){this.addListener(this.actor.whenUpdated,n(this,this._event_Updated)),this.addListener(this.actor.whenCollided,n(this,this._event_ActorAny)),this.addListener(this.actor.whenCollided,n(this,this._event_HitsPlatforms))},forwardMessage:function(t){},__class__:qg});var $g=function(t,e,i){Je.call(this,e),this.nameMap.h.Actor="actor",this.nameMap.h["Right Key"]="_RightKey",this.nameMap.h["Left Key"]="_LeftKey",this.nameMap.h["Ground Slowdown"]="_GroundSlowdown",this._GroundSlowdown=.9,this.nameMap.h["Air Slowdown"]="_AirSlowdown",this._AirSlowdown=.99,this.nameMap.h["Ducking Slowdown"]="_DuckingSlowdown",this._DuckingSlowdown=.975,this.nameMap.h["Moving Air Slowdown"]="_MovingAirSlowdown",this._MovingAirSlowdown=.975,this.nameMap.h["Moving Ground Slowdown"]="_MovingGroundSlowdown",this._MovingGroundSlowdown=.9};r["scripts.Design_108_108_Slowdown"]=$g,$g.__name__="scripts.Design_108_108_Slowdown",$g.__super__=Je,$g.prototype=i(Je.prototype,{_RightKey:null,_LeftKey:null,_GroundSlowdown:null,_AirSlowdown:null,_DuckingSlowdown:null,_MovingAirSlowdown:null,_MovingGroundSlowdown:null,_event_Updating:function(t){this.wrapper.enabled&&!Ke.asBoolean(this.actor.getActorValue("Is Slope Sliding?"))&&(Ke.asBoolean(this.actor.getActorValue("Is Ducking?"))&&Ke.asBoolean(this.actor.getActorValue("On Ground?"))?this.actor.setXVelocity(this.actor.getXVelocity()*this._DuckingSlowdown):Ke.isKeyDown(this._RightKey)||Ke.isKeyDown(this._LeftKey)||Ke.asBoolean(this.actor.getActorValue("Is Ducking?"))?Ke.asBoolean(this.actor.getActorValue("On Ground?"))?this.actor.say("Walking","_customBlock_SlowToMax",[this._MovingGroundSlowdown]):this.actor.setXVelocity(this.actor.getXVelocity()*this._MovingAirSlowdown):Ke.asBoolean(this.actor.getActorValue("On Ground?"))?this.actor.setXVelocity(this.actor.getXVelocity()*this._GroundSlowdown):this.actor.setXVelocity(this.actor.getXVelocity()*this._AirSlowdown))},init:function(){this.addListener(this.actor.whenUpdated,n(this,this._event_Updating))},forwardMessage:function(t){},__class__:$g});var ty=function(t,e,i){Je.call(this,e),this.nameMap.h.Actor="actor",this.nameMap.h["Prevent Running?"]="_PreventRunning",this._PreventRunning=!1,this.nameMap.h["Run Key"]="_RunKey",this.nameMap.h["Key Released?"]="_KeyReleased",this._KeyReleased=!0,this.nameMap.h["Old Accel"]="_OldAccel",this._OldAccel=0,this.nameMap.h["Old Max Speed"]="_OldMaxSpeed",this._OldMaxSpeed=0,this.nameMap.h["At Full Speed?"]="_AtFullSpeed",this._AtFullSpeed=!1,this.nameMap.h["Elapsed Time"]="_ElapsedTime",this._ElapsedTime=0,this.nameMap.h.Acceleration="_Acceleration",this._Acceleration=100,this.nameMap.h["Mid Run Speed"]="_MidRunSpeed",this._MidRunSpeed=25,this.nameMap.h["Max Run Speed"]="_MaxRunSpeed",this._MaxRunSpeed=35,this.nameMap.h["Right Key"]="_RightKey",this.nameMap.h["Left Key"]="_LeftKey",this.nameMap.h["Time To Max Speed"]="_TimeToMaxSpeed",this._TimeToMaxSpeed=.4,this.nameMap.h["Can Slide?"]="_CanSlide",this._CanSlide=!0,this.nameMap.h["Run Right Animation"]="_RunRightAnimation",this._RunRightAnimation="",this.nameMap.h["Run Left Animation"]="_RunLeftAnimation",this._RunLeftAnimation="",this.nameMap.h["Slip Right Animation"]="_SlipRightAnimation",this._SlipRightAnimation="",this.nameMap.h["Slip Left Animation"]="_SlipLeftAnimation",this._SlipLeftAnimation="",this.nameMap.h["Full Run Right Animation"]="_FullRunRightAnimation",this._FullRunRightAnimation="",this.nameMap.h["Full Run Left Animation"]="_FullRunLeftAnimation",this._FullRunLeftAnimation="",this.nameMap.h["Animation Category"]="_AnimationCategory",this._AnimationCategory="Running"};r["scripts.Design_110_110_Running"]=ty,ty.__name__="scripts.Design_110_110_Running",ty.__super__=Je,ty.prototype=i(Je.prototype,{_PreventRunning:null,_RunKey:null,_KeyReleased:null,_OldAccel:null,_OldMaxSpeed:null,_AtFullSpeed:null,_ElapsedTime:null,_Acceleration:null,_MidRunSpeed:null,_MaxRunSpeed:null,_RightKey:null,_LeftKey:null,_TimeToMaxSpeed:null,_CanSlide:null,_RunRightAnimation:null,_RunLeftAnimation:null,_SlipRightAnimation:null,_SlipLeftAnimation:null,_FullRunRightAnimation:null,_FullRunLeftAnimation:null,_AnimationCategory:null,_event_Updated:function(t){this.wrapper.enabled&&!this._PreventRunning&&(Ke.isKeyDown(this._RunKey)&&this._KeyReleased&&Ke.asBoolean(this.actor.getActorValue("On Ground?"))?(this.actor.setActorValue("Is Running?",!0),this._KeyReleased=!1,this._OldAccel=this.actor.say("Walking","_customBlock_GetWalkAccel"),this._OldMaxSpeed=this.actor.say("Walking","_customBlock_GetMaxWalkSpeed"),this.actor.say("Walking","_customBlock_WalkAccel",[this._Acceleration]),this.actor.say("Walking","_customBlock_MaxWalkSpeed",[this._MidRunSpeed])):(this._KeyReleased||Ke.isKeyDown(this._RunKey)||(this.actor.setActorValue("Is Running?",!1),this.actor.say("Animation Manager","_customBlock_ClearAnimCat",[this._AnimationCategory]),this._AtFullSpeed=!1,this._KeyReleased=!0,this._ElapsedTime=0,this.actor.say("Walking","_customBlock_WalkAccel",[this._OldAccel]),this.actor.say("Walking","_customBlock_MaxWalkSpeed",[this._OldMaxSpeed])),Ke.isKeyDown(this._RightKey)||Ke.isKeyDown(this._LeftKey)?(Ke.isKeyDown(this._RunKey)&&(Ke.isKeyDown(this._LeftKey)||Ke.isKeyDown(this._RightKey))&&this.actor.setActorValue("Is Running?",!0),Ke.asBoolean(this.actor.getActorValue("Is Running?"))&&(this._customEvent_SetAnimation(),Math.abs(this.actor.getXVelocity())<this._MaxRunSpeed&&(this._AtFullSpeed=!1),Math.abs(this.actor.getXVelocity())<this._MidRunSpeed||(this._ElapsedTime+=1,this._ElapsedTime>=1e3*this._TimeToMaxSpeed/Ke.getStepSize()&&!this._AtFullSpeed&&(this._AtFullSpeed=!0,this.actor.say("Walking","_customBlock_MaxWalkSpeed",[this._MaxRunSpeed]))))):(this.actor.setActorValue("Is Running?",!1),this.actor.say("Animation Manager","_customBlock_ClearAnimCat",[this._AnimationCategory]),this._AtFullSpeed=!1)))},_customEvent_SetAnimation:function(){(Ke.isKeyDown(this._RightKey)||Ke.isKeyDown(this._LeftKey))&&Ke.asBoolean(this.actor.getActorValue("On Ground?"))&&(Ke.asBoolean(this.actor.getActorValue("Facing Right?"))?Ke.isKeyDown(this._RightKey)&&-1>=this.actor.getXVelocity()&&this._CanSlide?this.actor.say("Animation Manager","_customBlock_LoopAnim",[this._SlipRightAnimation,"Running"]):this._AtFullSpeed?this.actor.say("Animation Manager","_customBlock_LoopAnim",[this._FullRunRightAnimation,"Running"]):this.actor.say("Animation Manager","_customBlock_LoopAnim",[this._RunRightAnimation,"Running"]):Ke.isKeyDown(this._LeftKey)&&1<=this.actor.getXVelocity()&&this._CanSlide?this.actor.say("Animation Manager","_customBlock_LoopAnim",[this._SlipLeftAnimation,"Running"]):this._AtFullSpeed?this.actor.say("Animation Manager","_customBlock_LoopAnim",[this._FullRunLeftAnimation,"Running"]):this.actor.say("Animation Manager","_customBlock_LoopAnim",[this._RunLeftAnimation,"Running"]))},init:function(){this._KeyReleased=!0,this.addListener(this.actor.whenUpdated,n(this,this._event_Updated))},forwardMessage:function(t){},__class__:ty});var ey=function(t,e,i){Je.call(this,e),this.nameMap.h.Actor="actor",this.nameMap.h["Duck Key"]="_DuckKey",this.nameMap.h["Duck Right Animation"]="_DuckRightAnimation",this._DuckRightAnimation="",this.nameMap.h["Duck Left Animation"]="_DuckLeftAnimation",this._DuckLeftAnimation="",this.nameMap.h["Animation Category"]="_AnimationCategory",this._AnimationCategory="Ducking"};r["scripts.Design_112_112_Ducking"]=ey,ey.__name__="scripts.Design_112_112_Ducking",ey.__super__=Je,ey.prototype=i(Je.prototype,{_DuckKey:null,_DuckRightAnimation:null,_DuckLeftAnimation:null,_AnimationCategory:null,_event_Updating:function(t){this.wrapper.enabled&&(Ke.isKeyDown(this._DuckKey)?(this.actor.setActorValue("Is Ducking?",!0),Ke.asBoolean(this.actor.getActorValue("Facing Right?"))?this.actor.say("Animation Manager","_customBlock_LoopAnim",[this._DuckRightAnimation,this._AnimationCategory]):this.actor.say("Animation Manager","_customBlock_LoopAnim",[this._DuckLeftAnimation,this._AnimationCategory])):(this.actor.setActorValue("Is Ducking?",!1),this.actor.say("Animation Manager","_customBlock_ClearAnimCat",[this._AnimationCategory])))},init:function(){this.addListener(this.actor.whenUpdated,n(this,this._event_Updating))},forwardMessage:function(t){},__class__:ey});var iy=function(t,e,i){Je.call(this,e),this.nameMap.h.Actor="actor",this.nameMap.h["Old Y"]="_OldY",this._OldY=0,this.nameMap.h["Can Fall?"]="_CanFall",this._CanFall=!1,this.nameMap.h["Fall Right Animation"]="_FallRightAnimation",this._FallRightAnimation="",this.nameMap.h["Fall Left Animation"]="_FallLeftAnimation",this._FallLeftAnimation="",this.nameMap.h["Ground Y"]="_GroundY",this._GroundY=0,this.nameMap.h["Animation Category"]="_AnimationCategory",this._AnimationCategory="Falling"};r["scripts.Design_114_114_Falling"]=iy,iy.__name__="scripts.Design_114_114_Falling",iy.__super__=Je,iy.prototype=i(Je.prototype,{_OldY:null,_CanFall:null,_FallRightAnimation:null,_FallLeftAnimation:null,_GroundY:null,_AnimationCategory:null,_event_Updating:function(t){this.wrapper.enabled&&(Ke.asBoolean(this.actor.getActorValue("On Ground?"))?this.actor.say("Animation Manager","_customBlock_ClearAnimCat",[this._AnimationCategory]):(this._customEvent_CheckFalling(),this._CanFall||this.actor.say("Animation Manager","_customBlock_ClearAnimCat",[this._AnimationCategory]),this._CanFall?(this.actor.setActorValue("Is Falling?",!0),Ke.asBoolean(this.actor.getActorValue("Facing Right?"))?this.actor.say("Animation Manager","_customBlock_LoopAnim",[this._FallRightAnimation,this._AnimationCategory]):this.actor.say("Animation Manager","_customBlock_LoopAnim",[this._FallLeftAnimation,this._AnimationCategory])):this.actor.setActorValue("Is Falling?",!1),this._OldY=this.actor.getY(),Ke.asBoolean(this.actor.getActorValue("On Ground?"))&&(this._GroundY=this.actor.getY())))},_customEvent_CheckFalling:function(){this.actor.getY()<=this._OldY||Ke.asBoolean(this.actor.getActorValue("Is Wall Sliding?"))?this._CanFall=!1:!this._CanFall&&3>=Math.abs(this._GroundY-this.actor.getY())||(this._CanFall=!0)},init:function(){this.addListener(this.actor.whenUpdated,n(this,this._event_Updating))},forwardMessage:function(t){},__class__:iy});var sy=function(t,e,i){Je.call(this,e),this.nameMap.h.Actor="actor",this.nameMap.h["Prevent Air Jump?"]="_PreventAirJump",this._PreventAirJump=!1,this.nameMap.h["Current Jumps"]="_CurrentJumps",this._CurrentJumps=0,this.nameMap.h["Can Jump?"]="_CanJump",this._CanJump=!1,this.nameMap.h["Elapsed Time"]="_ElapsedTime",this._ElapsedTime=0,this.nameMap.h["Old Y"]="_OldY",this._OldY=0,this.nameMap.h["Max Jumps"]="_MaxJumps",this._MaxJumps=999,this.nameMap.h["Jump Key"]="_JumpKey",this.nameMap.h["Must Be Rising?"]="_MustBeRising",this._MustBeRising=!1,this.nameMap.h["Jump Force"]="_JumpForce",this._JumpForce=50,this.nameMap.h["Jump Right Animation"]="_JumpRightAnimation",this._JumpRightAnimation="",this.nameMap.h["Jump Left Animation"]="_JumpLeftAnimation",this._JumpLeftAnimation="",this.nameMap.h["Animation Category"]="_AnimationCategory",this._AnimationCategory="Air Jumping"};r["scripts.Design_115_115_AirJumping"]=sy,sy.__name__="scripts.Design_115_115_AirJumping",sy.__super__=Je,sy.prototype=i(Je.prototype,{_PreventAirJump:null,_CurrentJumps:null,_CanJump:null,_ElapsedTime:null,_OldY:null,_MaxJumps:null,_JumpKey:null,_MustBeRising:null,_JumpForce:null,_JumpRightAnimation:null,_JumpLeftAnimation:null,_AnimationCategory:null,_event_Updating:function(t){var e=this;if(this.wrapper.enabled&&!this._PreventAirJump){if(Ke.asBoolean(this.actor.getActorValue("Is Jumping?"))||(this._ElapsedTime=this._CurrentJumps=0,this._CanJump=!1),Ke.asBoolean(this.actor.getActorValue("Is Air Jumping?"))&&(Ke.asBoolean(this.actor.getActorValue("On Ground?"))||Ke.asBoolean(this.actor.getActorValue("Is Falling?")))&&(this.actor.setActorValue("Is Air Jumping?",!1),this.actor.say("Animation Manager","_customBlock_ClearAnimCat",[this._AnimationCategory])),this._customEvent_CheckPosition(),Ke.isKeyPressed(this._JumpKey)&&this._CurrentJumps<this._MaxJumps&&Ke.asBoolean(this.actor.getActorValue("Is Jumping?"))){if(this._MustBeRising&&!this._CanJump)return;Ke.runLater(50,function(t){e.actor.setActorValue("Is Air Jumping?",!0),Ke.asBoolean(e.actor.getActorValue("Facing Right?"))?e.actor.say("Animation Manager","_customBlock_LoopAnim",[e._JumpRightAnimation,e._AnimationCategory]):e.actor.say("Animation Manager","_customBlock_LoopAnim",[e._JumpLeftAnimation,e._AnimationCategory])},this.actor),this.actor.setYVelocity(0),this.actor.applyImpulse(0,-1,this._JumpForce),this._CurrentJumps+=1}this._OldY=this.actor.getY()}},_customBlock_PreventAirJump:function(t){this._PreventAirJump=t},_customEvent_CheckPosition:function(){this._CanJump&&this.actor.getY()>this._OldY&&(this._ElapsedTime+=Ke.getStepSize(),150<=this._ElapsedTime&&(this._CanJump=!1)),this.actor.getY()<this._OldY&&(this._CanJump=!0)},init:function(){this.addListener(this.actor.whenUpdated,n(this,this._event_Updating))},forwardMessage:function(t){},__class__:sy});var ny=function(t,e,i){Je.call(this,e),this.nameMap.h.Actor="actor",this.nameMap.h["Continuous Collision?"]="_ContinuousCollision",this._ContinuousCollision=!1};r["scripts.Design_123_123_AlwaysSimulate"]=ny,ny.__name__="scripts.Design_123_123_AlwaysSimulate",ny.__super__=Je,ny.prototype=i(Je.prototype,{_ContinuousCollision:null,init:function(){this.actor.makeAlwaysSimulate(),this._ContinuousCollision&&Ke.makeActorNotPassThroughTerrain(this.actor)},forwardMessage:function(t){},__class__:ny});var ry=function(t,e,i){Je.call(this,e),this.nameMap.h.Actor="actor",this.nameMap.h["Key Released?"]="_KeyReleased",this._KeyReleased=!1,this.nameMap.h["Can Jump?"]="_CanJump",this._CanJump=!1,this.nameMap.h["Jump Key"]="_JumpKey",this.nameMap.h["Max Jump Time"]="_MaxJumpTime",this._MaxJumpTime=.075,this.nameMap.h["Jump Right Animation"]="_JumpRightAnimation",this._JumpRightAnimation="",this.nameMap.h["Jump Left Animation"]="_JumpLeftAnimation",this._JumpLeftAnimation="",this.nameMap.h["Prevent Jumping?"]="_PreventJumping",this._PreventJumping=!1,this.nameMap.h["Elapsed Jump Time"]="_ElapsedJumpTime",this._ElapsedJumpTime=0,this.nameMap.h["Current Jump Time"]="_CurrentJumpTime",this._CurrentJumpTime=0,this.nameMap.h.oldY="_oldY",this._oldY=0,this.nameMap.h["Jumping Slowdown"]="_JumpingSlowdown",this._JumpingSlowdown=.75,this.nameMap.h["Jump Sound"]="_JumpSound",this.nameMap.h["Jump Force"]="_JumpForce",this._JumpForce=35,this.nameMap.h["Animation Category"]="_AnimationCategory",this._AnimationCategory="Jumping",this.nameMap.h["Air Slowdown"]="_AirSlowdown",this._AirSlowdown=!1};r["scripts.Design_163_163_Jumping"]=ry,ry.__name__="scripts.Design_163_163_Jumping",ry.__super__=Je,ry.prototype=i(Je.prototype,{_KeyReleased:null,_CanJump:null,_JumpKey:null,_MaxJumpTime:null,_JumpRightAnimation:null,_JumpLeftAnimation:null,_PreventJumping:null,_ElapsedJumpTime:null,_CurrentJumpTime:null,_oldY:null,_JumpingSlowdown:null,_JumpSound:null,_JumpForce:null,_AnimationCategory:null,_AirSlowdown:null,_event_Updating:function(t){var e=this;this.wrapper.enabled&&(Ke.asBoolean(this.actor.getActorValue("On Ground?"))&&(this.actor.setActorValue("Is Jumping?",!1),this.actor.say("Animation Manager","_customBlock_ClearAnimCat",[this._AnimationCategory]),this._KeyReleased&&(this._CanJump=!0)),Ke.isKeyPressed(this._JumpKey)&&(Ke.asBoolean(this.actor.getActorValue("On Ground?"))||Ke.runLater(150,function(t){e.actor.isAlive()&&!Ke.asBoolean(e.actor.getActorValue("On Ground?"))&&(e._KeyReleased=!1)},this.actor)),this._KeyReleased||Ke.isKeyDown(this._JumpKey)||(this._KeyReleased=!0,Ke.asBoolean(this.actor.getActorValue("Is Jumping?"))&&this.actor.getY()<this._oldY&&this.actor.setYVelocity(this.actor.getYVelocity()*this._JumpingSlowdown)),Ke.isKeyDown(this._JumpKey)&&this._CanJump&&this._KeyReleased&&Ke.asBoolean(this.actor.getActorValue("On Ground?"))?(Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(this._JumpSound),this._ElapsedJumpTime=0,this.actor.setYVelocity(-this._JumpForce),this._KeyReleased=this._CanJump=!1,Ke.asBoolean(this.actor.getActorValue("Facing Right?"))?this.actor.setAnimation("jump-r"):this.actor.setAnimation("jump-l"),Ke.runLater(75,function(t){e.actor.isAlive()&&e.actor.setActorValue("Is Jumping?",!0)},this.actor),Ke.createRecycledActor(Ke.getActorType(484),this.actor.getX()+10,this.actor.getY()+28,0),Ke.createRecycledActor(Ke.getActorType(486),this.actor.getX()+18,this.actor.getY()+28,0)):(Ke.asBoolean(this.actor.getActorValue("Is Jumping?"))&&(this._ElapsedJumpTime+=1,Ke.asBoolean(this.actor.getActorValue("Facing Right?"))?this.actor.getY()<this._oldY&&this.actor.say("Animation Manager","_customBlock_LoopAnim",[this._JumpRightAnimation,this._AnimationCategory]):this.actor.getY()<this._oldY&&this.actor.say("Animation Manager","_customBlock_LoopAnim",[this._JumpLeftAnimation,this._AnimationCategory]),this._ElapsedJumpTime<=1e3*this._MaxJumpTime/Ke.getStepSize()&&Ke.isKeyDown(this._JumpKey)&&!this._KeyReleased&&this.actor.getY()<this._oldY&&this.actor.setYVelocity(-this._JumpForce)),this._oldY=this.actor.getY()))},_event_Stopsidewaysairmovement:function(t){var e=this;!this.wrapper.enabled||Ke.asBoolean(this.actor.getActorValue("On Ground?"))||Ke.isKeyDown("Left")||Ke.isKeyDown("Right")||0==this.actor.getXVelocity()||this._AirSlowdown||(this._AirSlowdown=!0,this.actor.setXVelocity(this.actor.getXVelocity()/3),Ke.runLater(150,function(t){e._AirSlowdown=!1},this.actor))},init:function(){this.addListener(this.actor.whenUpdated,n(this,this._event_Updating)),this.addListener(this.actor.whenUpdated,n(this,this._event_Stopsidewaysairmovement))},forwardMessage:function(t){},__class__:ry});var ay=function(t,e,i){Je.call(this,e),this.nameMap.h.Actor="actor",this.nameMap.h["Playing One Time?"]="_PlayingOneTime",this._PlayingOneTime=!1,this.nameMap.h["Current Category"]="_CurrentCategory",this._CurrentCategory="",this.nameMap.h["Default Right Animation"]="_DefaultRightAnimation",this._DefaultRightAnimation="",this.nameMap.h["Default Left Animation"]="_DefaultLeftAnimation",this._DefaultLeftAnimation="",this.nameMap.h["Category Hierarchy"]="_CategoryHierarchy",this._CategoryHierarchy="Ground Pounding;Ducking;Wall Sliding;Falling;Wall Jumping;Air Jumping;Jumping;Running;Walking".split(";"),this.nameMap.h["Current Index"]="_CurrentIndex",this._CurrentIndex=!1,this.nameMap.h["Requested Index"]="_RequestedIndex",this._RequestedIndex=!1};r["scripts.Design_169_169_AnimationManager"]=ay,ay.__name__="scripts.Design_169_169_AnimationManager",ay.__super__=Je,ay.prototype=i(Je.prototype,{_PlayingOneTime:null,_CurrentCategory:null,_DefaultRightAnimation:null,_DefaultLeftAnimation:null,_CategoryHierarchy:null,_CurrentIndex:null,_RequestedIndex:null,_event_Updating:function(t){if(this.wrapper.enabled){if(this._PlayingOneTime){if(this.actor.isAnimationPlaying())return;this._PlayingOneTime=!1}Ke.hasValue(this._CurrentCategory)||(Ke.asBoolean(this.actor.getActorValue("Facing Right?"))?this.actor.setAnimation(this._DefaultRightAnimation):this.actor.setAnimation(this._DefaultLeftAnimation))}},_customBlock_ClearAnimCat:function(t){t==this._CurrentCategory&&(this._CurrentCategory=Ke.getDefaultValue(this._CurrentCategory))},_customBlock_CategorySameAs:function(t){return t==this._CurrentCategory},_customBlock_GetCat:function(){return this._CurrentCategory},_customBlock_ClearCat:function(){this._CurrentCategory=Ke.getDefaultValue(this._CurrentCategory)},_customBlock_LoopAnim:function(t,e){if(!this._PlayingOneTime){Ke.hasValue(this._CurrentCategory)||(this._CurrentCategory=e),this._RequestedIndex=this._CurrentIndex=!1;for(var i=0,s=vo.__cast(this._CategoryHierarchy,Array);i<s.length;){var n=s[i];if(++i,n==e&&(this._RequestedIndex=!0),n==this._CurrentCategory&&(this._CurrentIndex=!0),this._CurrentIndex&&!this._RequestedIndex)return}this.actor.setAnimation(t),this._CurrentCategory=e}},_customBlock_PlayOnce:function(t){this.actor.setAnimation(t),this._PlayingOneTime=!0},init:function(){this.addListener(this.actor.whenUpdated,n(this,this._event_Updating))},forwardMessage:function(t){},__class__:ay});var oy=function(t,e,i){Je.call(this,e),this.nameMap.h.Actor="actor",this.nameMap.h["X Offset"]="_XOffset",this._XOffset=0,this.nameMap.h["Y Offset"]="_YOffset",this._YOffset=0};r["scripts.Design_175_175_CameraFollowPlayer"]=oy,oy.__name__="scripts.Design_175_175_CameraFollowPlayer",oy.__super__=Je,oy.prototype=i(Je.prototype,{_XOffset:null,_YOffset:null,_event_Updating:function(t){this.wrapper.enabled&&Ke.engine.moveCamera(this.actor.getXCenter()+this._XOffset,this.actor.getYCenter()+this._YOffset)},init:function(){this.addListener(this.actor.whenUpdated,n(this,this._event_Updating))},forwardMessage:function(t){},__class__:oy});var ly=function(t,e,i){Je.call(this,e),this.nameMap.h.Actor="actor",this.nameMap.h["Move Right Key"]="_MoveRightKey",this.nameMap.h["Move Left Key"]="_MoveLeftKey",this.nameMap.h.Acceleration="_Acceleration",this._Acceleration=85,this.nameMap.h["Max Walking Speed"]="_MaxWalkingSpeed",this._MaxWalkingSpeed=20,this.nameMap.h["Limit Speed?"]="_LimitSpeed",this._LimitSpeed=!1,this.nameMap.h["Walk Right Animation"]="_WalkRightAnimation",this._WalkRightAnimation="",this.nameMap.h["Walk Left Animation"]="_WalkLeftAnimation",this._WalkLeftAnimation="",this.nameMap.h["Idle Right Animation"]="_IdleRightAnimation",this._IdleRightAnimation="",this.nameMap.h["Idle Left Animation"]="_IdleLeftAnimation",this._IdleLeftAnimation="",this.nameMap.h["Prevent Walking?"]="_PreventWalking",this._PreventWalking=!1,this.nameMap.h["Disable Statuses"]="_DisableStatuses",this.nameMap.h["Animation Category"]="_AnimationCategory",this._AnimationCategory="Walking"};r["scripts.Design_178_178_Walking"]=ly,ly.__name__="scripts.Design_178_178_Walking",ly.__super__=Je,ly.prototype=i(Je.prototype,{_MoveRightKey:null,_MoveLeftKey:null,_Acceleration:null,_MaxWalkingSpeed:null,_LimitSpeed:null,_WalkRightAnimation:null,_WalkLeftAnimation:null,_IdleRightAnimation:null,_IdleLeftAnimation:null,_PreventWalking:null,_DisableStatuses:null,_AnimationCategory:null,_event_Updating:function(t){if(this.wrapper.enabled){t=0;for(var e=vo.__cast(this._DisableStatuses,Array);t<e.length;){var i=e[t];if(++t,Ke.asBoolean(this.actor.getActorValue(""+g.string(i))))return}if(!this._PreventWalking){if(Ke.isKeyDown(this._MoveRightKey)&&!Ke.isKeyDown(this._MoveLeftKey)){if(this.actor.setActorValue("Facing Right?",!0),Ke.asBoolean(this.actor.getActorValue("On Ground?"))&&this.actor.say("Animation Manager","_customBlock_LoopAnim",[this._WalkRightAnimation,this._AnimationCategory]),this._customBlock_AtMaxWalkingSpeed())return;this.actor.push(1,0,this._Acceleration),this.actor.setFriction(0)}if(Ke.isKeyDown(this._MoveLeftKey)&&!Ke.isKeyDown(this._MoveRightKey)){if(this.actor.setActorValue("Facing Right?",!1),Ke.asBoolean(this.actor.getActorValue("On Ground?"))&&this.actor.say("Animation Manager","_customBlock_LoopAnim",[this._WalkLeftAnimation,this._AnimationCategory]),this._customBlock_AtMaxWalkingSpeed())return;this.actor.push(-1,0,this._Acceleration),this.actor.setFriction(0)}Ke.isKeyDown(this._MoveRightKey)||Ke.isKeyDown(this._MoveLeftKey)||!Ke.asBoolean(this.actor.getActorValue("On Ground?"))||(Ke.asBoolean(this.actor.getActorValue("Facing Right?"))?this.actor.say("Animation Manager","_customBlock_LoopAnim",[this._IdleRightAnimation,this._AnimationCategory]):this.actor.say("Animation Manager","_customBlock_LoopAnim",[this._IdleLeftAnimation,this._AnimationCategory]),this.actor.setFriction(2))}}},_customBlock_SlowToMax:function(t){Math.abs(this.actor.getXVelocity())>this._MaxWalkingSpeed&&this.actor.setXVelocity(this.actor.getXVelocity()*t)},_customBlock_LimitSpeed:function(t){this._LimitSpeed=t},_customBlock_PreventWalk:function(t){this._PreventWalking=t},_customBlock_GetMaxWalkSpeed:function(){return this._MaxWalkingSpeed},_customBlock_MaxWalkSpeed:function(t){this._MaxWalkingSpeed=t},_customBlock_GetWalkAccel:function(){return this._Acceleration},_customBlock_WalkAccel:function(t){this._Acceleration=t},_customBlock_AtMaxWalkingSpeed:function(){return Ke.asBoolean(this.actor.getActorValue("Facing Right?"))&&this.actor.getXVelocity()>=this._MaxWalkingSpeed?(this._LimitSpeed&&this.actor.setXVelocity(this._MaxWalkingSpeed),!0):!Ke.asBoolean(this.actor.getActorValue("Facing Right?"))&&this.actor.getXVelocity()<=-this._MaxWalkingSpeed&&(this._LimitSpeed&&this.actor.setXVelocity(-this._MaxWalkingSpeed),!0)},init:function(){this.actor.setActorValue("Facing Right?",!0),this.addListener(this.actor.whenUpdated,n(this,this._event_Updating))},forwardMessage:function(t){},__class__:ly});var hy=function(t,e,i){Je.call(this,e),this.nameMap.h.Actor="actor",this.nameMap.h["Colliding Left?"]="_CollidingLeft",this._CollidingLeft=!1,this.nameMap.h["Colliding Right?"]="_CollidingRight",this._CollidingRight=!1,this.nameMap.h["Collided Left?"]="_CollidedLeft",this._CollidedLeft=!1,this.nameMap.h["Collided Right?"]="_CollidedRight",this._CollidedRight=!1,this.nameMap.h["Key Released?"]="_KeyReleased",this._KeyReleased=!0,this.nameMap.h["Jumped?"]="_Jumped",this._Jumped=!1,this.nameMap.h["Jump Key"]="_JumpKey",this.nameMap.h["Can Jump?"]="_CanJump",this._CanJump=!1,this.nameMap.h["Elapsed Time"]="_ElapsedTime",this._ElapsedTime=0,this.nameMap.h["Jump Right Angle"]="_JumpRightAngle",this._JumpRightAngle=290,this.nameMap.h["Jump Left Angle"]="_JumpLeftAngle",this._JumpLeftAngle=250,this.nameMap.h["Jump Force"]="_JumpForce",this._JumpForce=65,this.nameMap.h["Wall Jump Right Animation"]="_WallJumpRightAnimation",this._WallJumpRightAnimation="",this.nameMap.h["Wall Jump Left Animation"]="_WallJumpLeftAnimation",this._WallJumpLeftAnimation="",this.nameMap.h["Prevent Wall Jump"]="_PreventWallJump",this._PreventWallJump=!1,this.nameMap.h["Animation Category"]="_AnimationCategory",this._AnimationCategory="Wall Jumping"};r["scripts.Design_179_179_WallJumping"]=hy,hy.__name__="scripts.Design_179_179_WallJumping",hy.__super__=Je,hy.prototype=i(Je.prototype,{_CollidingLeft:null,_CollidingRight:null,_CollidedLeft:null,_CollidedRight:null,_KeyReleased:null,_Jumped:null,_JumpKey:null,_CanJump:null,_ElapsedTime:null,_JumpRightAngle:null,_JumpLeftAngle:null,_JumpForce:null,_WallJumpRightAnimation:null,_WallJumpLeftAnimation:null,_PreventWallJump:null,_AnimationCategory:null,_event_ActorAny:function(t){this.wrapper.enabled&&!t.thisCollidedWithSensor&&t.thisCollidedWithTile&&(t.thisFromLeft&&(this._CollidingLeft=!0,this.actor.setActorValue("Is Wall Jumping?",!1),this.actor.say("Animation Manager","_customBlock_ClearAnimCat",[this._AnimationCategory])),t.thisFromRight&&(this._CollidingRight=!0,this.actor.setActorValue("Is Wall Jumping?",!1),this.actor.say("Animation Manager","_customBlock_ClearAnimCat",[this._AnimationCategory])))},_event_Updating:function(t){var e=this;this.wrapper.enabled&&!this._PreventWallJump&&(this._CollidedLeft=this._CollidingLeft,this._CollidedRight=this._CollidingRight,this._CollidingRight=this._CollidingLeft=!1,Ke.asBoolean(this.actor.getActorValue("On Ground?"))?(this.actor.setActorValue("Is Wall Jumping?",!1),this.actor.say("Animation Manager","_customBlock_ClearAnimCat",[this._AnimationCategory]),this._Jumped=this._KeyReleased=!1):(Ke.isKeyPressed(this._JumpKey)&&Ke.asBoolean(this.actor.getActorValue("On Ground?"))&&(this._KeyReleased=!1,this._CollidedLeft||this._CollidedRight||Ke.runLater(150,function(t){e._CollidedLeft||e._CollidedRight||(e._KeyReleased=!1)},this.actor)),this._KeyReleased&&(this._CanJump=!0),this._KeyReleased||Ke.isKeyDown(this._JumpKey)||Ke.asBoolean(this.actor.getActorValue("On Ground?"))||(this._KeyReleased=!0),Ke.isKeyDown(this._JumpKey)&&this._CanJump&&this._KeyReleased&&!Ke.asBoolean(this.actor.getActorValue("On Ground?"))&&(this._Jumped=this._KeyReleased=!1,this._CollidedLeft&&(this._Jumped=!0,this._ElapsedTime=0,this._CanJump=!1,this.actor.setYVelocity(0),this.actor.applyImpulseInDirection(this._JumpRightAngle,this._JumpForce),this.actor.setActorValue("Facing Right?",!0),this.actor.say("Walking","_customBlock_PreventWalk",[!0]),this.actor.say("Air Jumping","_customBlock_PreventAirJump",[!0]),this.actor.say("Wall Sliding","_customBlock_PreventWallSlide",[!0])),this._CollidedRight&&(this._Jumped=!0,this._ElapsedTime=0,this._CanJump=!1,this.actor.setYVelocity(0),this.actor.applyImpulseInDirection(this._JumpLeftAngle,this._JumpForce),this.actor.setActorValue("Facing Right?",!1),this.actor.say("Walking","_customBlock_PreventWalk",[!0]),this.actor.say("Air Jumping","_customBlock_PreventAirJump",[!0]),this.actor.say("Wall Sliding","_customBlock_PreventWallSlide",[!0]))),this._Jumped?((this._ElapsedTime+=1)>=100/Ke.getStepSize()&&this.actor.setActorValue("Is Wall Jumping?",!0),this._ElapsedTime>=200/Ke.getStepSize()&&(this.actor.say("Walking","_customBlock_PreventWalk",[!1]),this.actor.say("Air Jumping","_customBlock_PreventAirJump",[!1]),this.actor.say("Wall Sliding","_customBlock_PreventWallSlide",[!1]))):(this.actor.say("Walking","_customBlock_PreventWalk",[!1]),this.actor.say("Air Jumping","_customBlock_PreventAirJump",[!1]),this.actor.say("Wall Sliding","_customBlock_PreventWallSlide",[!1])),Ke.asBoolean(this.actor.getActorValue("Is Wall Jumping?"))&&(Ke.asBoolean(this.actor.getActorValue("Facing Right?"))?this.actor.say("Animation Manager","_customBlock_LoopAnim",[this._WallJumpRightAnimation,this._AnimationCategory]):this.actor.say("Animation Manager","_customBlock_LoopAnim",[this._WallJumpLeftAnimation,this._AnimationCategory]))))},_customBlock_PreventWallJump:function(t){this._PreventWallJump=t},init:function(){this.addListener(this.actor.whenCollided,n(this,this._event_ActorAny)),this.addListener(this.actor.whenUpdated,n(this,this._event_Updating))},forwardMessage:function(t){},__class__:hy});var _y=function(t,e,i){Je.call(this,e),this.nameMap.h.Actor="actor",this.nameMap.h["Can Slide?"]="_CanSlide",this._CanSlide=!1,this.nameMap.h["Colliding Left?"]="_CollidingLeft",this._CollidingLeft=!1,this.nameMap.h["Colliding Right?"]="_CollidingRight",this._CollidingRight=!1,this.nameMap.h["Collided Left?"]="_CollidedLeft",this._CollidedLeft=!1,this.nameMap.h["Collided Right?"]="_CollidedRight",this._CollidedRight=!1,this.nameMap.h["Old Y"]="_OldY",this._OldY=0,this.nameMap.h["Left Key"]="_LeftKey",this.nameMap.h["Right Key"]="_RightKey",this.nameMap.h["Slide Speed"]="_SlideSpeed",this._SlideSpeed=7,this.nameMap.h["Slide Right Animation"]="_SlideRightAnimation",this._SlideRightAnimation="",this.nameMap.h["Slide Left Animation"]="_SlideLeftAnimation",this._SlideLeftAnimation="",this.nameMap.h["Limit to Tiles?"]="_LimittoTiles",this._LimittoTiles=!1,this.nameMap.h["Prevent Wall Slide?"]="_PreventWallSlide",this._PreventWallSlide=!1,this.nameMap.h["Animation Category"]="_AnimationCategory",this._AnimationCategory="Wall Sliding"};r["scripts.Design_180_180_WallSliding"]=_y,_y.__name__="scripts.Design_180_180_WallSliding",_y.__super__=Je,_y.prototype=i(Je.prototype,{_CanSlide:null,_CollidingLeft:null,_CollidingRight:null,_CollidedLeft:null,_CollidedRight:null,_OldY:null,_LeftKey:null,_RightKey:null,_SlideSpeed:null,_SlideRightAnimation:null,_SlideLeftAnimation:null,_LimittoTiles:null,_PreventWallSlide:null,_AnimationCategory:null,_event_ActorAny:function(t){if(this.wrapper.enabled&&!t.thisCollidedWithSensor){if(t.thisFromLeft){if(this._LimittoTiles&&!t.thisCollidedWithTile)return;this._CollidingLeft=!0}!t.thisFromRight||this._LimittoTiles&&!t.thisCollidedWithTile||(this._CollidingRight=!0)}},_event_Updating:function(t){this.wrapper.enabled&&(this._PreventWallSlide?(this._CanSlide=!1,this.actor.setActorValue("Is Wall Sliding?",!1),this.actor.say("Animation Manager","_customBlock_ClearAnimCat",[this._AnimationCategory])):(this._CanSlide=!0,(Ke.asBoolean(this.actor.getActorValue("Is Climbing?"))||Ke.asBoolean(this.actor.getActorValue("Is Ducking?"))||Ke.asBoolean(this.actor.getActorValue("On Ground?")))&&(this._CanSlide=!1,this.actor.setActorValue("Is Wall Sliding?",!1)),this._CollidedLeft=this._CollidingLeft,this._CollidedRight=this._CollidingRight,this._CollidingRight=this._CollidingLeft=!1,this.actor.getY()>this._OldY&&this._CanSlide&&(Ke.asBoolean(this.actor.getActorValue("On Ground?"))||(this._CollidedLeft&&Ke.isKeyDown(this._LeftKey)||this._CollidedRight&&Ke.isKeyDown(this._RightKey)?this.actor.setActorValue("Is Wall Sliding?",!0):this.actor.setActorValue("Is Wall Sliding?",!1))),Ke.asBoolean(this.actor.getActorValue("Is Wall Sliding?"))?(this.actor.setYVelocity(this._SlideSpeed),Ke.asBoolean(this.actor.getActorValue("Facing Right?"))?this.actor.say("Animation Manager","_customBlock_LoopAnim",[this._SlideRightAnimation,this._AnimationCategory]):this.actor.say("Animation Manager","_customBlock_LoopAnim",[this._SlideLeftAnimation,this._AnimationCategory])):this.actor.say("Animation Manager","_customBlock_ClearAnimCat",[this._AnimationCategory]),this._OldY=this.actor.getY()))},_customBlock_PreventWallSlide:function(t){this._PreventWallSlide=t},init:function(){this.addListener(this.actor.whenCollided,n(this,this._event_ActorAny)),this.addListener(this.actor.whenUpdated,n(this,this._event_Updating))},forwardMessage:function(t){},__class__:_y});var cy=function(t,e,i){Je.call(this,e),this.nameMap.h.Actor="actor",this.nameMap.h["Can Pound?"]="_CanPound",this._CanPound=!1,this.nameMap.h["Ground Pound Key"]="_GroundPoundKey",this.nameMap.h["Down Key"]="_DownKey",this.nameMap.h["Down Key Required?"]="_DownKeyRequired",this._DownKeyRequired=!0,this.nameMap.h.Force="_Force",this._Force=0,this.nameMap.h["Pound Right Animation"]="_PoundRightAnimation",this._PoundRightAnimation="",this.nameMap.h["Pound Left Animation"]="_PoundLeftAnimation",this._PoundLeftAnimation="",this.nameMap.h["Old X"]="_OldX",this._OldX=0,this.nameMap.h["Animation Category"]="_AnimationCategory",this._AnimationCategory="Ground Pounding"};r["scripts.Design_181_181_GroundPound"]=cy,cy.__name__="scripts.Design_181_181_GroundPound",cy.__super__=Je,cy.prototype=i(Je.prototype,{_CanPound:null,_GroundPoundKey:null,_DownKey:null,_DownKeyRequired:null,_Force:null,_PoundRightAnimation:null,_PoundLeftAnimation:null,_OldX:null,_AnimationCategory:null,_event_Updating:function(t){if(this.wrapper.enabled)if(Ke.asBoolean(this.actor.getActorValue("Is Wall Sliding?")))this.actor.setActorValue("Is Ground Pounding?",!1),this.actor.say("Animation Manager","_customBlock_ClearAnimCat",[this._AnimationCategory]),this._CanPound=!1;else if(!Ke.asBoolean(this.actor.getActorValue("Is Jumping?"))||Ke.asBoolean(this.actor.getActorValue("On Ground?")))Ke.asBoolean(this.actor.getActorValue("Is Ground Pounding?"))&&Ke.asBoolean(this.actor.getActorValue("On Ground?"))&&Ke.startShakingScreen(.01,.2),this._CanPound=!1,this.actor.setActorValue("Is Ground Pounding?",!1),this.actor.say("Animation Manager","_customBlock_ClearAnimCat",[this._AnimationCategory]);else{if(Ke.isKeyPressed(this._GroundPoundKey)){if(this._DownKeyRequired&&!Ke.isKeyDown(this._DownKey))return;this._CanPound=!1,this.actor.setActorValue("Is Ground Pounding?",!0),this.actor.applyImpulse(0,1,this._Force)}Ke.asBoolean(this.actor.getActorValue("Is Ground Pounding?"))&&(this.actor.setXVelocity(0),this.actor.setX(this._OldX),Ke.asBoolean(this.actor.getActorValue("Facing Right?"))?this.actor.say("Animation Manager","_customBlock_LoopAnim",[this._PoundRightAnimation,this._AnimationCategory]):this.actor.say("Animation Manager","_customBlock_LoopAnim",[this._PoundLeftAnimation,this._AnimationCategory])),this._OldX=this.actor.getX()}},init:function(){this.addListener(this.actor.whenUpdated,n(this,this._event_Updating))},forwardMessage:function(t){},__class__:cy});var uy=function(t,e,i){Je.call(this,e),this.nameMap.h.Actor="actor",this.nameMap.h["Fade Time"]="_FadeTime",this._FadeTime=0,this.nameMap.h["Time Before Reload"]="_TimeBeforeReload",this._TimeBeforeReload=0};r["scripts.Design_202_202_DieinPit"]=uy,uy.__name__="scripts.Design_202_202_DieinPit",uy.__super__=Je,uy.prototype=i(Je.prototype,{_FadeTime:null,_TimeBeforeReload:null,_event_Updating:function(t){this.wrapper.enabled&&this.actor.getScreenY()>Ke.getScreenHeight()&&!Ke.isTransitioning()&&(Ke.reloadCurrentScene(Ke.createFadeOut(this._FadeTime),Ke.createFadeIn(this._FadeTime)),Ke.recycleActor(this.actor))},init:function(){this.addListener(this.actor.whenUpdated,n(this,this._event_Updating))},forwardMessage:function(t){},__class__:uy});var dy=function(t,e){Ke.call(this),this.nameMap.h["Level Number"]="_LevelNumber",this._LevelNumber=0,this.nameMap.h["Can Pause?"]="_CanPause",this._CanPause=!0,this.nameMap.h["Carrot Spawn Number"]="_CarrotSpawnNumber",this._CarrotSpawnNumber=0,this.nameMap.h["Carrot Positions List"]="_CarrotPositionsList",this._CarrotPositionsList=["112,80"],this.nameMap.h["Can Count Time?"]="_CanCountTime",this._CanCountTime=!1,this.nameMap.h["Player 1 Dead"]="_Player1Dead",this._Player1Dead=!1,this.nameMap.h["Player 2 Dead"]="_Player2Dead",this._Player2Dead=!1,this.nameMap.h["Can Respawn P1?"]="_CanRespawn",this._CanRespawn=!0,this.nameMap.h["Can Respawn P2?"]="_CanRespawnP2",this._CanRespawnP2=!0};r["scripts.Design_226_226_SceneFunctionsBehavior"]=dy,dy.__name__="scripts.Design_226_226_SceneFunctionsBehavior",dy.__super__=ei,dy.prototype=i(ei.prototype,{_LevelNumber:null,_CanPause:null,_CarrotSpawnNumber:null,_CarrotPositionsList:null,_CanCountTime:null,_Player1Dead:null,_Player2Dead:null,_CanRespawn:null,_CanRespawnP2:null,_event_Restart:function(t,e){if(this.wrapper.enabled&&t&&!Ke.isTransitioning()){var i=e=t=0;null==i&&(i=0),null==e&&(e=0),null==t&&(t=0);var s=Ke.createFadeOut(.2,t<<16|e<<8|i);null==(i=e=t=0)&&(i=0),null==e&&(e=0),null==t&&(t=0),Ke.reloadCurrentScene(s,Ke.createFadeIn(.2,t<<16|e<<8|i)),p.sendGameplayStop()}},_event_Esc:function(t,e){this.wrapper.enabled&&t&&(Ke.isTransitioning()||this._CanPause&&(Ke.engine.isPaused()?Ke.shoutToScene("_customEvent_Resume"):Ke.shoutToScene("_customEvent_Paused")))},_event_DrawTimeTrialCounter:function(t,e,i){if(this.wrapper.enabled)if(t.setFont(Ke.getFont(581)),Ge.engine.getGameAttribute("Multiplayer On")&&2==Ge.engine.getGameAttribute("Multiplayer Mode")){for(e=0,i=Ke.getActorsOfType(Ke.getActorType(584));e<i.length;){var s=i[e];++e,null==s||s.dead||s.recycled||t.drawString(""+g.string(Ge.engine.getGameAttribute("P1 Versus Score")),s.getX()+14,s.getY()+4)}for(e=0,i=Ke.getActorsOfType(Ke.getActorType(676));e<i.length;)s=i[e],++e,null==s||s.dead||s.recycled||t.drawString(""+g.string(Ge.engine.getGameAttribute("P2 Versus Score")),s.getX()+14,s.getY()+4)}else{for(e=0,i=Ke.getActorsOfType(Ke.getActorType(582));e<i.length;)s=i[e],++e,null==s||s.dead||s.recycled||t.drawString(""+Iy._customBlock_FormatTimer(Ge.engine.getGameAttribute("Time Counter"),":",":"),s.getX()+14,s.getY()+4);for(e=0,i=Ke.getActorsOfType(Ke.getActorType(582));e<i.length;)s=i[e],++e,null==s||s.dead||s.recycled||t.drawString(""+g.string(Ge.engine.getGameAttribute("Carrot Counter")),s.getX()+14,s.getY()+17)}},_event_IncreaseTime:function(t){if(this.wrapper.enabled){if(59999>Ge.engine.getGameAttribute("Time Counter")&&!Ke.engine.isPaused()&&this._CanCountTime){t=Ge.engine;var e=Ge.engine.getGameAttribute("Time Counter")+.01;t.gameAttributes.h["Time Counter"]=e}999<Ge.engine.getGameAttribute("Carrot Counter")&&(Ge.engine.gameAttributes.h["Carrot Counter"]=999)}},_customEvent_CreateControls:function(){Ke.runLater(100,function(t){Ge.engine.getGameAttribute("HTML5 on Mobile")&&(Ge.engine.getGameAttribute("Multiplayer On")?Ke.runLater(100,function(t){Ke.createRecycledActor(Ke.getActorType(658),0,0,0),Ke.createRecycledActor(Ke.getActorType(668),0,0,0),Ke.createRecycledActor(Ke.getActorType(519),0,0,0)},null):Ke.runLater(100,function(t){Ke.createRecycledActor(Ke.getActorType(505),0,0,0),Ke.createRecycledActor(Ke.getActorType(515),0,0,0),Ke.createRecycledActor(Ke.getActorType(519),0,0,0)},null))},null)},_customEvent_TimeStart:function(){var t=this;Ge.engine.getGameAttribute("Multiplayer On")&&2==Ge.engine.getGameAttribute("Multiplayer Mode")?(Ke.createRecycledActor(Ke.getActorType(584),Ke.getScreenWidth()-Ke.getScreenWidth()+2+L.leftInset,Ke.getScreenHeight()-Ke.getScreenHeight()+2,0),Ke.getLastCreatedActor().anchorToScreen(),Ke.getLastCreatedActor().moveToTop(),Ke.createRecycledActor(Ke.getActorType(676),Ke.getScreenWidth()-31,Ke.getScreenHeight()-Ke.getScreenHeight()+2,0),Ke.getLastCreatedActor().anchorToScreen(),Ke.getLastCreatedActor().moveToTop(),Ke.runLater(2e3,function(e){t._CanCountTime=!0},null)):(Ke.createRecycledActor(Ke.getActorType(582),Ke.getScreenWidth()-Ke.getScreenWidth()+2+L.leftInset,Ke.getScreenHeight()-Ke.getScreenHeight()+2,0),Ke.getLastCreatedActor().anchorToScreen(),Ke.getLastCreatedActor().moveToTop(),Ke.createRecycledActor(Ke.getActorType(584),Ke.getScreenWidth()-Ke.getScreenWidth()+2+L.leftInset,Ke.getScreenHeight()-Ke.getScreenHeight()+15,0),Ke.getLastCreatedActor().anchorToScreen(),Ke.getLastCreatedActor().moveToTop(),Ke.runLater(2e3,function(e){t._CanCountTime=!0},null))},_customEvent_PlayerDie:function(){var t=this;if(this._Player1Dead=!0,Ge.engine.getGameAttribute("Multiplayer On")){for(var e=0,i=Ke.getActorsOfType(Ke.getActorType(662));e<i.length;){var s=i[e];++e,null==s||s.dead||s.recycled||Ke.recycleActor(s)}for(e=0,i=Ke.getActorsOfType(Ke.getActorType(658));e<i.length;)s=i[e],++e,null==s||s.dead||s.recycled||Ke.recycleActor(s);for(e=0,i=Ke.getActorsOfType(Ke.getActorType(660));e<i.length;)s=i[e],++e,null==s||s.dead||s.recycled||Ke.recycleActor(s);Ke.simulateKeyRelease("W"),Ke.simulateKeyRelease("A"),Ke.simulateKeyRelease("D"),Ge.engine.getGameAttribute("Multiplayer On")&&2==Ge.engine.getGameAttribute("Multiplayer Mode")||this._CanRespawn&&Ke.runLater(1e3,function(e){t._CanRespawn&&Ke.runLater(1e3,function(e){t._CanRespawn&&Ke.runLater(1e3,function(e){t._CanRespawn&&Ke.runLater(1e3,function(e){t._CanRespawn&&Ke.runLater(1e3,function(e){t._CanRespawn&&Ke.runLater(1e3,function(e){t._CanRespawn&&Ke.runLater(1e3,function(e){t._CanRespawn&&Ke.runLater(1e3,function(t){Ke.createRecycledActor(Ke.getActorType(674),Ke.randomInt(80,272),160,0),Ke.getLastCreatedActor().shout("_customEvent_P1")},null)},null)},null)},null)},null)},null)},null)},null)}for(this._customEvent_EndRun(),e=0,i=Ke.getActorsOfType(Ke.getActorType(686));e<i.length;)s=i[e],++e,null==s||s.dead||s.recycled||Ke.recycleActor(s)},_customEvent_PlayerDie2:function(){var t=this;this._Player2Dead=!0;for(var e=0,i=Ke.getActorsOfType(Ke.getActorType(672));e<i.length;){var s=i[e];++e,null==s||s.dead||s.recycled||Ke.recycleActor(s)}for(e=0,i=Ke.getActorsOfType(Ke.getActorType(670));e<i.length;)s=i[e],++e,null==s||s.dead||s.recycled||Ke.recycleActor(s);for(e=0,i=Ke.getActorsOfType(Ke.getActorType(668));e<i.length;)s=i[e],++e,null==s||s.dead||s.recycled||Ke.recycleActor(s);for(Ke.simulateKeyRelease("Up"),Ke.simulateKeyRelease("Left"),Ke.simulateKeyRelease("Right"),Ge.engine.getGameAttribute("Multiplayer On")&&2==Ge.engine.getGameAttribute("Multiplayer Mode")||this._CanRespawnP2&&Ke.runLater(1e3,function(e){t._CanRespawnP2&&Ke.runLater(1e3,function(e){t._CanRespawnP2&&Ke.runLater(1e3,function(e){t._CanRespawnP2&&Ke.runLater(1e3,function(e){t._CanRespawnP2&&Ke.runLater(1e3,function(e){t._CanRespawnP2&&Ke.runLater(1e3,function(e){t._CanRespawnP2&&Ke.runLater(1e3,function(e){t._CanRespawnP2&&Ke.runLater(1e3,function(e){t._CanRespawnP2&&(Ke.createRecycledActor(Ke.getActorType(674),Ke.randomInt(80,272),160,0),Ke.getLastCreatedActor().shout("_customEvent_P2"))},null)},null)},null)},null)},null)},null)},null)},null),this._customEvent_EndRun(),e=0,i=Ke.getActorsOfType(Ke.getActorType(688));e<i.length;)s=i[e],++e,null==s||s.dead||s.recycled||Ke.recycleActor(s)},_customEvent_EndRun:function(){Ge.engine.getGameAttribute("Multiplayer On")?Ge.engine.getGameAttribute("Multiplayer On")&&1==Ge.engine.getGameAttribute("Multiplayer Mode")?this._customEvent_EndRunMulti():Ge.engine.getGameAttribute("Multiplayer On")&&2==Ge.engine.getGameAttribute("Multiplayer Mode")&&this._customEvent_EndRunVersus():this._customEvent_EndRunSingle()},_customEvent_EndRunSingle:function(){this._CanPause=!1;for(var t=0,e=vo.__cast(Ke.getActorGroup(12),kn).list;t<e.length;){var i=e[t];++t,null==i||i.dead||i.recycled||Ke.recycleActor(i)}Ke.stopSoundOnChannel(0),this._CanCountTime=!1,Ge.engine.getGameAttribute("Used Revive")?(Ke.runLater(1100,function(t){Ke.switchScene(yn.get().scenes.h[11].getID(),null,Ke.createCrossfadeTransition(.5))},null),this._customEvent_AddCurrency(),p.sendGameplayStop()):Ke.runLater(1100,function(t){Ke.createRecycledActor(Ke.getActorType(586),0,0,0),Ke.createRecycledActor(Ke.getActorType(806),-300,-300,0),Ke.engine.pause()},null)},_customEvent_EndRunMulti:function(){if(this._Player1Dead&&this._Player2Dead){this._CanPause=!1;for(var t=0,e=vo.__cast(Ke.getActorGroup(12),kn).list;t<e.length;){var i=e[t];++t,null==i||i.dead||i.recycled||Ke.recycleActor(i)}this._CanCountTime=!1,Ke.stopSoundOnChannel(0),this._CanRespawnP2=this._CanRespawn=!1,Ge.engine.getGameAttribute("Used Revive")?(Ke.runLater(1100,function(t){Ke.switchScene(yn.get().scenes.h[11].getID(),null,Ke.createCrossfadeTransition(.5))},null),this._customEvent_AddCurrency(),p.sendGameplayStop()):Ke.runLater(1100,function(t){Ke.createRecycledActor(Ke.getActorType(586),0,0,0),Ke.createRecycledActor(Ke.getActorType(806),-300,-300,0),Ke.engine.pause()},null)}},_customEvent_EndRunVersus:function(){if(this._Player1Dead&&this._Player2Dead)(Ge.engine.getGameAttribute("P1 Versus Score")==Ge.engine.getGameAttribute("P2 Versus Score")||Ge.engine.getGameAttribute("P1 Versus Score")>Ge.engine.getGameAttribute("P2 Versus Score")||Ge.engine.getGameAttribute("P1 Versus Score")<Ge.engine.getGameAttribute("P2 Versus Score"))&&(Ke.stopSoundOnChannel(0),Ke.runLater(300,function(t){Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(680))},null),Ke.runLater(1100,function(t){Ke.switchScene(yn.get().scenes.h[11].getID(),null,Ke.createCrossfadeTransition(.5))},null),this._customEvent_AddCurrency(),p.sendGameplayStop());else if(!this._Player1Dead&&this._Player2Dead)if(Ge.engine.getGameAttribute("P1 Versus Score")>Ge.engine.getGameAttribute("P2 Versus Score")){for(var t=0,e=Ke.getActorsOfType(Ke.getActorType(479));t<e.length;){var i=e[t];++t,null==i||i.dead||i.recycled||(i.shout("_customEvent_Stop"),i.shout("_customEvent_RemoveControl"),i.shout("_customEvent_Unkillable"),i.setXVelocity(0))}Ke.stopSoundOnChannel(0),Ke.runLater(300,function(t){Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(680))},null),Ke.runLater(1100,function(t){Ke.switchScene(yn.get().scenes.h[11].getID(),null,Ke.createCrossfadeTransition(.5))},null),this._customEvent_AddCurrency(),p.sendGameplayStop()}else for(t=0,e=Ke.getActorsOfType(Ke.getActorType(652));t<e.length;)i=e[t],++t,null==i||i.dead||i.recycled||(i.shout("_customEvent_Stop"),i.shout("_customEvent_RemoveControl"),i.shout("_customEvent_Unkillable"),i.setXVelocity(0));else if(this._Player1Dead&&!this._Player2Dead)if(Ge.engine.getGameAttribute("P1 Versus Score")<Ge.engine.getGameAttribute("P2 Versus Score")){for(t=0,e=Ke.getActorsOfType(Ke.getActorType(652));t<e.length;)i=e[t],++t,null==i||i.dead||i.recycled||(i.shout("_customEvent_Stop"),i.shout("_customEvent_RemoveControl"),i.shout("_customEvent_Unkillable"),i.setXVelocity(0));Ke.stopSoundOnChannel(0),Ke.runLater(300,function(t){Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(680))},null),Ke.runLater(1100,function(t){Ke.switchScene(yn.get().scenes.h[11].getID(),null,Ke.createCrossfadeTransition(.5))},null),this._customEvent_AddCurrency(),p.sendGameplayStop()}else for(t=0,e=Ke.getActorsOfType(Ke.getActorType(479));t<e.length;)i=e[t],++t,null==i||i.dead||i.recycled||(i.shout("_customEvent_Stop"),i.shout("_customEvent_RemoveControl"),i.shout("_customEvent_Unkillable"),i.setXVelocity(0))},_customEvent_Paused:function(){if(!p.IsVideoPlaying()){Ke.createRecycledActor(Ke.getActorType(586),0,0,0),Ke.createRecycledActor(Ke.getActorType(590),0,0,0),Ke.createRecycledActor(Ke.getActorType(606),0,0,0),Ke.createRecycledActor(Ke.getActorType(608),0,0,0);for(var t=0,e=vo.__cast(Ke.getActorGroup(12),kn).list;t<e.length;){var i=e[t];++t,null==i||i.dead||i.recycled||(i.disableActorDrawing(),i.moveBy(0,500,0,da.linear))}for(t=0,e=Ke.getActorsOfType(Ke.getActorType(582));t<e.length;)i=e[t],++t,null==i||i.dead||i.recycled||i.moveToTop();for(t=0,e=Ke.getActorsOfType(Ke.getActorType(584));t<e.length;)i=e[t],++t,null==i||i.dead||i.recycled||i.moveToTop();for(t=0,e=Ke.getActorsOfType(Ke.getActorType(676));t<e.length;)i=e[t],++t,null==i||i.dead||i.recycled||i.moveToTop();p.sendGameplayStop(),Ke.engine.pause()}},_customEvent_Resume:function(){if(!p.IsVideoPlaying())if(p.adBlocked){Ke.resumeSoundOnChannel(0);for(var t=0,e=vo.__cast(Ke.getActorGroup(13),kn).list;t<e.length;){var i=e[t];++t,null==i||i.dead||i.recycled||Ke.recycleActor(i)}for(t=0,e=vo.__cast(Ke.getActorGroup(12),kn).list;t<e.length;)i=e[t],++t,null==i||i.dead||i.recycled||(i.enableActorDrawing(),i.moveBy(0,-500,0,da.linear));Ke.engine.unpause(),p.sendGameplayStart()}else p.commercialBreak(function(){Ke.resumeSoundOnChannel(0);for(var t=0,e=vo.__cast(Ke.getActorGroup(13),kn).list;t<e.length;){var i=e[t];++t,null==i||i.dead||i.recycled||Ke.recycleActor(i)}for(t=0,e=vo.__cast(Ke.getActorGroup(12),kn).list;t<e.length;)i=e[t],++t,null==i||i.dead||i.recycled||(i.enableActorDrawing(),i.moveBy(0,-500,0,da.linear));Ke.engine.unpause(),p.sendGameplayStart()})},_customEvent_P1Respawn:function(){this._Player1Dead=!1},_customEvent_P2Respawn:function(){this._Player2Dead=!1},_customEvent_AddCurrency:function(){if(Ge.engine.getGameAttribute("Multiplayer On"))Ge.engine.getGameAttribute("Multiplayer On")&&1==Ge.engine.getGameAttribute("Multiplayer Mode")?(t=Ge.engine,e=Ge.engine.getGameAttribute("Currency Carrots")+Ge.engine.getGameAttribute("Carrot Counter"),t.gameAttributes.h["Currency Carrots"]=e):Ge.engine.getGameAttribute("Multiplayer On")&&2==Ge.engine.getGameAttribute("Multiplayer Mode")&&(t=Ge.engine,e=Ge.engine.getGameAttribute("Currency Carrots")+(Ge.engine.getGameAttribute("P1 Versus Score")+Ge.engine.getGameAttribute("P2 Versus Score")),t.gameAttributes.h["Currency Carrots"]=e);else{var t=Ge.engine,e=Ge.engine.getGameAttribute("Currency Carrots")+Ge.engine.getGameAttribute("Carrot Counter");t.gameAttributes.h["Currency Carrots"]=e}},_customEvent_ResumeTime:function(){this._CanCountTime=this._CanPause=!0,Ge.engine.getGameAttribute("Multiplayer On")&&1==Ge.engine.getGameAttribute("Multiplayer Mode")&&(this._CanRespawnP2=this._CanRespawn=!0,this._Player2Dead=this._Player1Dead=!1)},init:function(){var t=this;Ke.engine.moveCamera(Ke.getSceneWidth()/2,144),Ke.loopSoundOnChannel(Ke.getSound(554),0),Ge.engine.gameAttributes.h["Time Counter"]=0,Ge.engine.gameAttributes.h["Carrot Counter"]=0,Ge.engine.gameAttributes.h["P1 Versus Score"]=0,Ge.engine.gameAttributes.h["P2 Versus Score"]=0,Ge.engine.getGameAttribute("Multiplayer On")?(Ke.runLater(1e3,function(t){Ke.createRecycledActor(Ke.getActorType(479),136,144,0)},null),Ke.runLater(1e3,function(t){Ke.createRecycledActor(Ke.getActorType(652),216,144,0)},null),p.sendGameplayStart()):Ke.runLater(1e3,function(t){Ke.createRecycledActor(Ke.getActorType(479),176,144,0),p.sendGameplayStart()},null),Ke.runLater(30,function(e){t._customEvent_TimeStart(),Ke.shoutToScene("_customEvent_StartTrapSpawning"),t._customEvent_CreateControls()},null),p.adBlocked||Ke.runLater(100,function(t){Ke.shoutToScene("_customEvent_PokiAd")},null),Ge.engine.gameAttributes.h["Used Revive"]=!1,this.addListener(Ke.engine.whenKeyPressedEvents.getOrCreateEvent("Restart"),n(this,this._event_Restart)),this.addListener(Ke.engine.whenKeyPressedEvents.getOrCreateEvent("Esc"),n(this,this._event_Esc)),this.addListener(Ke.engine.whenDrawing,n(this,this._event_DrawTimeTrialCounter)),this.addListener(Ke.engine.whenUpdated,n(this,this._event_IncreaseTime))},forwardMessage:function(t){},__class__:dy});var my=function(t,e,i){Je.call(this,e),this.nameMap.h.Actor="actor",this.nameMap.h["Fade Time"]="_FadeTime",this._FadeTime=1,this.nameMap.h["Time to Fade After"]="_TimetoFadeAfter",this._TimetoFadeAfter=1,this.nameMap.h.Fading="_Fading",this._Fading=!1,this.nameMap.h["Kill After Fade"]="_KillAfterFade",this._KillAfterFade=!0};r["scripts.Design_228_228_FadeAfterTime"]=my,my.__name__="scripts.Design_228_228_FadeAfterTime",my.__super__=Je,my.prototype=i(Je.prototype,{_FadeTime:null,_TimetoFadeAfter:null,_Fading:null,_KillAfterFade:null,_customEvent_Fade:function(){var t=this;this._Fading||(this._Fading=!0,this.actor.fadeTo(0,this._FadeTime,da.linear),Ke.runLater(1e3*this._FadeTime,function(e){t._KillAfterFade&&Ke.recycleActor(t.actor)},this.actor))},init:function(){var t=this;0<=this._TimetoFadeAfter&&Ke.runLater(1e3*this._TimetoFadeAfter,function(e){t._customEvent_Fade()},this.actor)},forwardMessage:function(t){},__class__:my});var py=function(t,e,i){Je.call(this,e),this.nameMap.h.Actor="actor",this.nameMap.h.Dead="_Dead",this._Dead=!1,this.nameMap.h["Player Number"]="_PlayerNumber",this._PlayerNumber=1,this.nameMap.h["Can Die?"]="_CanDie",this._CanDie=!0};r["scripts.Design_232_232_PlayerDeadBehavior"]=py,py.__name__="scripts.Design_232_232_PlayerDeadBehavior",py.__super__=Je,py.prototype=i(Je.prototype,{_Dead:null,_PlayerNumber:null,_CanDie:null,_event_hitdeadlyobject:function(t){if(this.wrapper.enabled){var e=Ke.getActorGroup(8),i=t.otherActor.getType();t=t.otherActor.getGroup(),e=e==i||e==t}else e=!1;e&&this._customEvent_Die()},_event_hitdeadlyobjectsolid:function(t){if(this.wrapper.enabled){var e=Ke.getActorGroup(11),i=t.otherActor.getType();t=t.otherActor.getGroup(),e=e==i||e==t}else e=!1;e&&this._customEvent_Die()},_event_Updating:function(t){this.wrapper.enabled&&this.actor.getScreenY()>Ke.getScreenHeight()+32&&Ke.recycleActor(this.actor)},_customEvent_Die:function(){this._CanDie&&!this._Dead&&(this._Dead=!0,this.actor.disableBehavior("Player Control"),this.actor.setXVelocity(0),this.actor.setYVelocity(0),this.actor.setAnimation("dead"),"Right"==""+g.string(this.actor.getActorValue("Facing"))?this.actor.shout("_customEvent_R"):this.actor.shout("_customEvent_L"),Ke.createRecycledActor(Ke.getActorType(494),-32,-32,0),Ke.getLastCreatedActor().setX(this.actor.getXCenter()-Ke.getLastCreatedActor().getWidth()/2),Ke.getLastCreatedActor().setY(this.actor.getYCenter()-Ke.getLastCreatedActor().getHeight()/2+8),Ke.getLastCreatedActor().moveToTop(),1==this._PlayerNumber?Ke.shoutToScene("_customEvent_PlayerDie"):2==this._PlayerNumber&&Ke.shoutToScene("_customEvent_PlayerDie2"),Ke.startShakingScreen(.03,.3),Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSoundOnChannel(Ke.getSound(496),3),Ke.createRecycledActor(Ke.getActorType(560),-32,-32,0),this.actor.setActorValue("dead",!0))},_customEvent_R:function(){var t=this;this.actor.setAnimation("dead-r"),this.actor.applyImpulse(Ke.randomFloatBetween(-1,-2),-4,Ke.randomFloatBetween(8,15)),Ke.runLater(200,function(e){t.actor.setAngle(.01745329251994278*(57.29577951308402*t.actor.getAngle()-90)),Ke.runLater(200,function(e){t.actor.setAngle(.01745329251994278*(57.29577951308402*t.actor.getAngle()-90))},t.actor)},this.actor)},_customEvent_L:function(){var t=this;this.actor.setAnimation("dead-l"),this.actor.applyImpulse(Ke.randomFloatBetween(1,2),-4,Ke.randomFloatBetween(8,15)),Ke.runLater(200,function(e){t.actor.setAngle(.01745329251994278*(57.29577951308402*t.actor.getAngle()+90)),Ke.runLater(200,function(e){t.actor.setAngle(.01745329251994278*(57.29577951308402*t.actor.getAngle()+90))},t.actor)},this.actor)},_customEvent_Blink:function(){var t=this;this._CanDie=!1,Ke.runLater(100,function(e){t.actor.fadeTo(0,0,da.linear),Ke.runLater(100,function(e){t.actor.fadeTo(1,0,da.linear),Ke.runLater(100,function(e){t.actor.fadeTo(0,0,da.linear),Ke.runLater(100,function(e){t.actor.fadeTo(1,0,da.linear),Ke.runLater(100,function(e){t.actor.fadeTo(0,0,da.linear),Ke.runLater(100,function(e){t.actor.fadeTo(1,0,da.linear),Ke.runLater(100,function(e){t.actor.fadeTo(0,0,da.linear),Ke.runLater(100,function(e){t.actor.fadeTo(1,0,da.linear),Ke.runLater(100,function(e){t.actor.fadeTo(0,0,da.linear),Ke.runLater(100,function(e){t.actor.fadeTo(1,0,da.linear),Ke.runLater(100,function(e){t.actor.fadeTo(0,0,da.linear),Ke.runLater(100,function(e){t.actor.fadeTo(1,0,da.linear),Ke.runLater(100,function(e){t.actor.fadeTo(0,0,da.linear),Ke.runLater(100,function(e){t.actor.fadeTo(1,0,da.linear),t._CanDie=!0},t.actor)},t.actor)},t.actor)},t.actor)},t.actor)},t.actor)},t.actor)},t.actor)},t.actor)},t.actor)},t.actor)},t.actor)},t.actor)},this.actor)},_customEvent_BlinkAd:function(){var t=this;this._CanDie=!1,Ke.runLater(100,function(e){t.actor.fadeTo(0,0,da.linear),Ke.runLater(100,function(e){t.actor.fadeTo(1,0,da.linear),Ke.runLater(100,function(e){t.actor.fadeTo(0,0,da.linear),Ke.runLater(100,function(e){t.actor.fadeTo(1,0,da.linear),Ke.runLater(100,function(e){t.actor.fadeTo(0,0,da.linear),Ke.runLater(100,function(e){t.actor.fadeTo(1,0,da.linear),Ke.runLater(100,function(e){t.actor.fadeTo(0,0,da.linear),Ke.runLater(100,function(e){t.actor.fadeTo(1,0,da.linear),Ke.runLater(100,function(e){t.actor.fadeTo(0,0,da.linear),Ke.runLater(100,function(e){t.actor.fadeTo(1,0,da.linear),Ke.runLater(100,function(e){t.actor.fadeTo(0,0,da.linear),Ke.runLater(100,function(e){t.actor.fadeTo(1,0,da.linear),Ke.runLater(100,function(e){t.actor.fadeTo(0,0,da.linear),Ke.runLater(100,function(e){t.actor.fadeTo(1,0,da.linear),Ke.runLater(100,function(e){t.actor.fadeTo(0,0,da.linear),Ke.runLater(100,function(e){t.actor.fadeTo(1,0,da.linear),Ke.runLater(100,function(e){t.actor.fadeTo(0,0,da.linear),Ke.runLater(100,function(e){t.actor.fadeTo(1,0,da.linear),Ke.runLater(100,function(e){t.actor.fadeTo(0,0,da.linear),Ke.runLater(100,function(e){t.actor.fadeTo(1,0,da.linear),Ke.runLater(100,function(e){t.actor.fadeTo(0,0,da.linear),Ke.runLater(100,function(e){t.actor.fadeTo(1,0,da.linear),Ke.runLater(100,function(e){t.actor.fadeTo(0,0,da.linear),Ke.runLater(100,function(e){t.actor.fadeTo(1,0,da.linear),Ke.runLater(100,function(e){t.actor.fadeTo(0,0,da.linear),Ke.runLater(100,function(e){t.actor.fadeTo(1,0,da.linear),Ke.runLater(100,function(e){t.actor.fadeTo(0,0,da.linear),Ke.runLater(100,function(e){t.actor.fadeTo(1,0,da.linear),Ke.runLater(100,function(e){t.actor.fadeTo(0,0,da.linear),Ke.runLater(100,function(e){t.actor.fadeTo(1,0,da.linear),Ke.runLater(100,function(e){t.actor.fadeTo(0,0,da.linear),Ke.runLater(100,function(e){t.actor.fadeTo(1,0,da.linear),Ke.runLater(100,function(e){t.actor.fadeTo(0,0,da.linear),Ke.runLater(100,function(e){t.actor.fadeTo(1,0,da.linear),Ke.runLater(100,function(e){t.actor.fadeTo(0,0,da.linear),Ke.runLater(100,function(e){t.actor.fadeTo(1,0,da.linear),Ke.runLater(100,function(e){t.actor.fadeTo(0,0,da.linear),Ke.runLater(100,function(e){t.actor.fadeTo(1,0,da.linear),Ke.runLater(100,function(e){t.actor.fadeTo(0,0,da.linear),Ke.runLater(100,function(e){t.actor.fadeTo(1,0,da.linear),t._CanDie=!0},t.actor)},t.actor)},t.actor)},t.actor)},t.actor)},t.actor)},t.actor)},t.actor)},t.actor)},t.actor)},t.actor)},t.actor)},t.actor)},t.actor)},t.actor)},t.actor)},t.actor)},t.actor)},t.actor)},t.actor)},t.actor)},t.actor)},t.actor)},t.actor)},t.actor)},t.actor)},t.actor)},t.actor)},t.actor)},t.actor)},t.actor)},t.actor)},t.actor)},t.actor)},t.actor)},t.actor)},t.actor)},t.actor)},t.actor)},this.actor)},_customEvent_Unkillable:function(){this._CanDie=!1},init:function(){this.addListener(this.actor.whenCollided,n(this,this._event_hitdeadlyobject)),this.addListener(this.actor.whenCollided,n(this,this._event_hitdeadlyobjectsolid)),this.addListener(this.actor.whenUpdated,n(this,this._event_Updating))},forwardMessage:function(t){},__class__:py});var fy=function(t,e){Ke.call(this)};r["scripts.Design_238_238_MusicPlayerBehavior"]=fy,fy.__name__="scripts.Design_238_238_MusicPlayerBehavior",fy.__super__=ei,fy.prototype=i(ei.prototype,{_event_Updating:function(t){this.wrapper.enabled&&(Ge.engine.getGameAttribute("Mute Music")||Ke.engine.isPaused()?Ke.setVolumeForChannel(0,0):Ke.setVolumeForChannel(.25,0),Ge.engine.getGameAttribute("Mute Sounds")?(Ke.setVolumeForChannel(0,1),Ke.setVolumeForChannel(0,2),Ke.setVolumeForChannel(0,3),Ke.setVolumeForChannel(0,4),Ke.setVolumeForChannel(0,5),Ke.setVolumeForChannel(0,6),Ke.setVolumeForChannel(0,7),Ke.setVolumeForChannel(0,8),Ke.setVolumeForChannel(0,9)):(Ke.setVolumeForChannel(.7,1),Ke.setVolumeForChannel(.7,2),Ke.setVolumeForChannel(.7,3),Ke.setVolumeForChannel(.7,4),Ke.setVolumeForChannel(.7,5),Ke.setVolumeForChannel(.7,6),Ke.setVolumeForChannel(.7,7),Ke.setVolumeForChannel(.7,8),Ke.setVolumeForChannel(.7,9)))},_customEvent_MuteMusic:function(){Ge.engine.getGameAttribute("Mute Music")?Ge.engine.gameAttributes.h["Mute Music"]=!1:Ge.engine.gameAttributes.h["Mute Music"]=!0},_customEvent_MuteSounds:function(){Ge.engine.getGameAttribute("Mute Sounds")?Ge.engine.gameAttributes.h["Mute Sounds"]=!1:Ge.engine.gameAttributes.h["Mute Sounds"]=!0},init:function(){this.addListener(Ke.engine.whenUpdated,n(this,this._event_Updating))},forwardMessage:function(t){},__class__:fy});var gy=function(t,e,i){Je.call(this,e),this.nameMap.h.Actor="actor",this.nameMap.h["Normal Animation"]="_NormalAnimation",this._NormalAnimation="",this.nameMap.h["Pressed Animation"]="_PressedAnimation",this._PressedAnimation="",this.nameMap.h.Control="_Control",this.nameMap.h["Show Only in Mobile Games"]="_ShowOnlyinMobileGames",this._ShowOnlyinMobileGames=!1,this.nameMap.h.Down="_Down",this._Down=!1,this.nameMap.h["Allow Slide"]="_AllowSlide",this._AllowSlide=!1,this.nameMap.h["Hover Animation"]="_HoverAnimation",this._HoverAnimation="",this.nameMap.h["Touching IDs"]="_TouchingIDs",this.nameMap.h["On Self"]="_OnSelf",this._OnSelf=!1,this.nameMap.h["Was Touching"]="_WasTouching",this._WasTouching=!1,this.nameMap.h["Enable Multi-Touch"]="_EnableMultiTouch",this._EnableMultiTouch=!0,this.nameMap.h["Button Name"]="_ButtonName",this._ButtonName=""};r["scripts.Design_242_242_OnScreenButton"]=gy,gy.__name__="scripts.Design_242_242_OnScreenButton",gy.__super__=Je,gy.prototype=i(Je.prototype,{_NormalAnimation:null,_PressedAnimation:null,_Control:null,_ShowOnlyinMobileGames:null,_Down:null,_AllowSlide:null,_HoverAnimation:null,_TouchingIDs:null,_OnSelf:null,_WasTouching:null,_EnableMultiTouch:null,_ButtonName:null,_event_OnActor:function(t){this.wrapper.enabled&&3==t&&(Ke.simulateKeyPress(this._Control),this.actor.setAnimation(this._PressedAnimation),this._Down=!0)},_event_OnActor2:function(t){this.wrapper.enabled&&5==t&&this._Down&&(Ke.simulateKeyRelease(this._Control),this.actor.setAnimation(this._HoverAnimation),this._Down=!1)},_event_OnActor3:function(t){this.wrapper.enabled&&1==t&&(this._AllowSlide&&Ke.isMouseDown()?(Ke.simulateKeyPress(this._Control),this.actor.setAnimation(this._PressedAnimation),this._Down=!0):this.actor.setAnimation(this._HoverAnimation))},_event_OnActor4:function(t){this.wrapper.enabled&&-1==t&&(this._AllowSlide&&this._Down&&Ke.simulateKeyRelease(this._Control),this.actor.setAnimation(this._NormalAnimation),this._Down=!1)},_event_MultiTouch:function(t){this.wrapper.enabled&&this._EnableMultiTouch&&(this._TouchingIDs=gy.touchMap.h[this._ButtonName],c.remove(this._TouchingIDs,t.touchPointID),this._OnSelf=(t.stageX-Ge.screenOffsetX)/(Ge.screenScaleX*Ge.SCALE)>this.actor.getX()&&(t.stageX-Ge.screenOffsetX)/(Ge.screenScaleX*Ge.SCALE)<this.actor.getX()+this.actor.getWidth()&&(t.stageY-Ge.screenOffsetY)/(Ge.screenScaleY*Ge.SCALE)>this.actor.getY()&&(t.stageY-Ge.screenOffsetY)/(Ge.screenScaleY*Ge.SCALE)<this.actor.getY()+this.actor.getHeight())&&(Ke.simulateKeyPress(this._Control),this.actor.setAnimation(this._PressedAnimation),this._TouchingIDs.push(t.touchPointID))},_event_MultiTouch2:function(t){this.wrapper.enabled&&this._EnableMultiTouch&&(this._TouchingIDs=gy.touchMap.h[this._ButtonName],this._OnSelf=(t.stageX-Ge.screenOffsetX)/(Ge.screenScaleX*Ge.SCALE)>this.actor.getX()&&(t.stageX-Ge.screenOffsetX)/(Ge.screenScaleX*Ge.SCALE)<this.actor.getX()+this.actor.getWidth()&&(t.stageY-Ge.screenOffsetY)/(Ge.screenScaleY*Ge.SCALE)>this.actor.getY()&&(t.stageY-Ge.screenOffsetY)/(Ge.screenScaleY*Ge.SCALE)<this.actor.getY()+this.actor.getHeight(),this._WasTouching=vr.contains(this._TouchingIDs,t.touchPointID),this._OnSelf&&!this._WasTouching&&this._AllowSlide?(Ke.simulateKeyPress(this._Control),this.actor.setAnimation(this._PressedAnimation),this._TouchingIDs.push(t.touchPointID)):!this._OnSelf&&this._WasTouching&&(this._AllowSlide&&Ke.simulateKeyRelease(this._Control),this.actor.setAnimation(this._NormalAnimation),c.remove(this._TouchingIDs,t.touchPointID)))},_event_MultiTouch3:function(t){this.wrapper.enabled&&this._EnableMultiTouch&&(this._TouchingIDs=gy.touchMap.h[this._ButtonName],this._OnSelf=(t.stageX-Ge.screenOffsetX)/(Ge.screenScaleX*Ge.SCALE)>this.actor.getX()&&(t.stageX-Ge.screenOffsetX)/(Ge.screenScaleX*Ge.SCALE)<this.actor.getX()+this.actor.getWidth()&&(t.stageY-Ge.screenOffsetY)/(Ge.screenScaleY*Ge.SCALE)>this.actor.getY()&&(t.stageY-Ge.screenOffsetY)/(Ge.screenScaleY*Ge.SCALE)<this.actor.getY()+this.actor.getHeight(),this._WasTouching=vr.contains(this._TouchingIDs,t.touchPointID),(this._OnSelf||this._AllowSlide)&&this._WasTouching&&(Ke.simulateKeyRelease(this._Control),c.remove(this._TouchingIDs,t.touchPointID),this.actor.setAnimation(this._NormalAnimation)))},init:function(){""==this._ButtonName&&(this._ButtonName=""+g.string(this.actor.getType())),null==gy.touchMap&&(gy.touchMap=new pr),Object.prototype.hasOwnProperty.call(gy.touchMap.h,this._ButtonName)||(gy.touchMap.h[this._ButtonName]=[]),this.actor.anchorToScreen(),this.actor.setAnimation(this._NormalAnimation),this._ShowOnlyinMobileGames&&Ke.recycleActor(this.actor),this.actor.makeAlwaysSimulate(),this.addListener(this.actor.whenMousedOver,n(this,this._event_OnActor)),this.addListener(this.actor.whenMousedOver,n(this,this._event_OnActor2)),this.addListener(this.actor.whenMousedOver,n(this,this._event_OnActor3)),this.addListener(this.actor.whenMousedOver,n(this,this._event_OnActor4)),this.addListener(Ke.engine.whenMTStarted,n(this,this._event_MultiTouch)),this.addListener(Ke.engine.whenMTDragged,n(this,this._event_MultiTouch2)),this.addListener(Ke.engine.whenMTEnded,n(this,this._event_MultiTouch3))},forwardMessage:function(t){},__class__:gy});var yy=function(t,e,i){Je.call(this,e),this.nameMap.h.Actor="actor",this.nameMap.h["Distance X"]="_DistanceX",this._DistanceX=0,this.nameMap.h["Distance Y"]="_DistanceY",this._DistanceY=0,this.nameMap.h.Direction="_Direction",this._Direction=0,this.nameMap.h.Distance="_Distance",this._Distance=0,this.nameMap.h.Speed="_Speed",this._Speed=10,this.nameMap.h.Facing="_Facing",this._Facing=0,this.nameMap.h["Point Away"]="_PointAway",this._PointAway=!0,this.nameMap.h["Origin Actor"]="_OriginActor",this.nameMap.h["Step Seconds"]="_StepSeconds",this._StepSeconds=0,this.nameMap.h["New Distance"]="_NewDistance",this._NewDistance=0,this.nameMap.h["Distance Threshold"]="_DistanceThreshold",this._DistanceThreshold=10,this.nameMap.h["Fixed Radius"]="_FixedRadius",this._FixedRadius=!0};r["scripts.Design_252_252_RotateAroundActor"]=yy,yy.__name__="scripts.Design_252_252_RotateAroundActor",yy.__super__=Je,yy.prototype=i(Je.prototype,{_DistanceX:null,_DistanceY:null,_Direction:null,_Distance:null,_Speed:null,_Facing:null,_PointAway:null,_OriginActor:null,_StepSeconds:null,_NewDistance:null,_DistanceThreshold:null,_FixedRadius:null,_event_Updated:function(t){this.wrapper.enabled&&Ke.hasValue(this._OriginActor)&&this._OriginActor.isAlive()&&(this._FixedRadius||(this._DistanceX=this.actor.getXCenter()-this._OriginActor.getXCenter(),this._DistanceY=this.actor.getYCenter()-this._OriginActor.getYCenter(),this._NewDistance=Math.sqrt(Math.pow(this._DistanceX,2)+Math.pow(this._DistanceY,2)),Math.abs(this._NewDistance-this._Distance)>this._DistanceThreshold&&(this._Distance=this._NewDistance,this._Direction=Math.atan2(this._DistanceY,this._DistanceX))),this._Direction=(this._Direction+=.01745329251994278*this._Speed*this._StepSeconds)-2*Math.PI*Math.floor(this._Direction/(2*Math.PI)),this.actor.setX(this._OriginActor.getXCenter()+this._Distance*Math.cos(this._Direction)-this.actor.getWidth()/2),this.actor.setY(this._OriginActor.getYCenter()+this._Distance*Math.sin(this._Direction)-this.actor.getHeight()/2),this._PointAway&&this.actor.setAngle(.01745329251994278*(57.29577951308402*this._Direction-this._Facing)))},_event_Drawing:function(t,e,i){this.wrapper.enabled&&Ke.sceneHasBehavior("Game Debugger")&&Ke.asBoolean(Ke.getValueForScene("Game Debugger","_Enabled"))&&Ke.hasValue(this._OriginActor)&&this._OriginActor.isAlive()&&(t.strokeColor=Ke.getValueForScene("Game Debugger","_CustomColor"),t.strokeSize=0|Ke.asNumber(Ke.getValueForScene("Game Debugger","_StrokeThickness")),t.translateToScreen(),t.drawCircle(this._OriginActor.getXCenter(),this._OriginActor.getYCenter(),this._Distance),t.drawLine(this._OriginActor.getXCenter(),this._OriginActor.getYCenter(),this.actor.getXCenter(),this.actor.getYCenter()))},_customEvent_Initialize:function(){Ke.hasValue(this._OriginActor)&&this._OriginActor.isAlive()&&(this._DistanceX=this.actor.getXCenter()-this._OriginActor.getXCenter(),this._DistanceY=this.actor.getYCenter()-this._OriginActor.getYCenter(),this._Distance=Math.sqrt(Math.pow(this._DistanceX,2)+Math.pow(this._DistanceY,2)),this._Direction=Math.atan2(this._DistanceY,this._DistanceX))},_customEvent_SpinLeft:function(){this._Speed=-this._Speed},init:function(){var t=this;this._StepSeconds=Ke.getStepSize()/1e3;for(var e=0,i=Ke.getActorsOfType(Ke.getActorType(521));e<i.length;){var s=i[e];++e,null==s||s.dead||s.recycled||(this._OriginActor=s)}Ke.runLater(100,function(e){t._customEvent_Initialize()},this.actor),this.addListener(this.actor.whenUpdated,n(this,this._event_Updated)),this.addListener(this.actor.whenDrawing,n(this,this._event_Drawing))},forwardMessage:function(t){},__class__:yy});var by=function(t,e,i){Je.call(this,e),this.nameMap.h.Actor="actor"};r["scripts.Design_258_258_PlatformBehavior"]=by,by.__name__="scripts.Design_258_258_PlatformBehavior",by.__super__=Je,by.prototype=i(Je.prototype,{_event_Updating:function(t){this.wrapper.enabled&&this.actor.moveToBottom()},init:function(){this.actor.makeAlwaysSimulate(),this.actor.sendBackward(),this.addListener(this.actor.whenUpdated,n(this,this._event_Updating))},forwardMessage:function(t){},__class__:by});var vy=function(t,e,i){Je.call(this,e),this.nameMap.h.Actor="actor",this.nameMap.h["On Platform?"]="_OnPlatform",this._OnPlatform=!1,this.nameMap.h["Hit Platform?"]="_HitPlatform",this._HitPlatform=!1,this.nameMap.h["Platform Actor Group"]="_PlatformActorGroup",this.nameMap.h["Platform Actor"]="_PlatformActor",this.nameMap.h["Left Key"]="_LeftKey",this.nameMap.h["Right Key"]="_RightKey",this.nameMap.h["Jump Key"]="_JumpKey"};r["scripts.Design_260_260_RidePlatforms"]=vy,vy.__name__="scripts.Design_260_260_RidePlatforms",vy.__super__=Je,vy.prototype=i(Je.prototype,{_OnPlatform:null,_HitPlatform:null,_PlatformActorGroup:null,_PlatformActor:null,_LeftKey:null,_RightKey:null,_JumpKey:null,_event_Updated:function(t){this.wrapper.enabled&&(this._OnPlatform=this._HitPlatform,this._HitPlatform=!1,this._OnPlatform&&!Ke.isKeyDown(this._RightKey)&&!Ke.isKeyDown(this._LeftKey)&&!Ke.isKeyDown(this._JumpKey)&&Ke.hasValue(this._PlatformActor)&&this._PlatformActor.isAlive()&&(this.actor.setXVelocity(this._PlatformActor.getXVelocity()),this.actor.setYVelocity(this._PlatformActor.getYVelocity())))},_event_ActorAny:function(t){this.wrapper.enabled&&t.thisFromBottom&&this.internalGetGroup(t.otherActor,t.otherShape,t)==this._PlatformActorGroup&&(this._HitPlatform=!0,this._PlatformActor=this.actor.getLastCollidedActor())},init:function(){this.addListener(this.actor.whenUpdated,n(this,this._event_Updated)),this.addListener(this.actor.whenCollided,n(this,this._event_ActorAny))},forwardMessage:function(t){},__class__:vy});var xy=function(t,e,i){Je.call(this,e),this.nameMap.h.Actor="actor",this.nameMap.h["Player Actor Type"]="_PlayerActorType",this.nameMap.h["Player Actor"]="_PlayerActor",this.nameMap.h["Player Feet Position"]="_PlayerFeetPosition",this._PlayerFeetPosition=0,this.nameMap.h["Platform Solid Animation"]="_PlatformSolidAnimation",this._PlatformSolidAnimation="",this.nameMap.h["Platform Pass Through Animation"]="_PlatformPassThroughAnimation",this._PlatformPassThroughAnimation="",this.nameMap.h["Colliding?"]="_Colliding",this._Colliding=!1,this.nameMap.h["Collided?"]="_Collided",this._Collided=!1};r["scripts.Design_261_261_OneWayPlatform"]=xy,xy.__name__="scripts.Design_261_261_OneWayPlatform",xy.__super__=Je,xy.prototype=i(Je.prototype,{_PlayerActorType:null,_PlayerActor:null,_PlayerFeetPosition:null,_PlatformSolidAnimation:null,_PlatformPassThroughAnimation:null,_Colliding:null,_Collided:null,_event_ActorAny:function(t){this.wrapper.enabled&&t.thisFromTop&&(this._Collided=!0)},_event_Updated:function(t){this.wrapper.enabled&&(this._Colliding=this._Collided,this._Collided=!1,Ke.hasValue(this._PlayerActor)&&this._PlayerActor.isAlive()&&(this._PlayerFeetPosition=this._PlayerActor.getY()+this._PlayerActor.getHeight(),this._PlayerFeetPosition<=this.actor.getY()||this._Colliding?this.actor.setAnimation(this._PlatformSolidAnimation):this.actor.setAnimation(this._PlatformPassThroughAnimation)))},init:function(){for(var t=0,e=vo.__cast(Ke.getActorGroup(0),kn).list;t<e.length;){var i=e[t];++t,null==i||i.dead||i.recycled||(this._PlayerActor=i)}this.actor.makeAlwaysSimulate(),this.addListener(this.actor.whenCollided,n(this,this._event_ActorAny)),this.addListener(this.actor.whenUpdated,n(this,this._event_Updated))},forwardMessage:function(t){},__class__:xy});var wy=function(t,e,i){Je.call(this,e),this.nameMap.h.Actor="actor",this.nameMap.h["Shooting Right?"]="_ShootingRight",this._ShootingRight=!1,this.nameMap.h["Start Shooting Time"]="_StartShootingTime",this._StartShootingTime=0};r["scripts.Design_266_266_CannonShootBehavior"]=wy,wy.__name__="scripts.Design_266_266_CannonShootBehavior",wy.__super__=Je,wy.prototype=i(Je.prototype,{_ShootingRight:null,_StartShootingTime:null,_customEvent_ShootLeft:function(){var t=this;this.actor.setAnimation("0"),Ke.runLater(1e3,function(e){t.actor.setAnimation("1"),Ke.runLater(600,function(e){t.actor.setAnimation("2"),Ke.createRecycledActor(Ke.getActorType(503),-60,-60,0),Ke.getLastCreatedActor().setXVelocity(-7),Ke.getLastCreatedActor().setX(t.actor.getXCenter()-Ke.getLastCreatedActor().getWidth()/2-8),Ke.getLastCreatedActor().setY(t.actor.getYCenter()-Ke.getLastCreatedActor().getHeight()/2),Ke.runLater(1200,function(e){t._customEvent_ShootLeft()},t.actor),Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(557))},t.actor)},this.actor)},_customEvent_ShootRight:function(){var t=this;this.actor.setAnimation("0"),Ke.runLater(1e3,function(e){t.actor.setAnimation("1"),Ke.runLater(600,function(e){t.actor.setAnimation("2"),Ke.createRecycledActor(Ke.getActorType(503),-60,-60,0),Ke.getLastCreatedActor().setAnimation("R"),Ke.getLastCreatedActor().setXVelocity(7),Ke.getLastCreatedActor().setX(t.actor.getXCenter()-Ke.getLastCreatedActor().getWidth()/2+8),Ke.getLastCreatedActor().setY(t.actor.getYCenter()-Ke.getLastCreatedActor().getHeight()/2),Ke.runLater(1200,function(e){t._customEvent_ShootRight()},t.actor),Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(557))},t.actor)},this.actor)},init:function(){var t=this;this.actor.setAnimation("Spawn"),this._StartShootingTime=Ke.randomFloatBetween(.5,1.5),Ke.runLater(400,function(e){Ke.runLater(1e3*t._StartShootingTime,function(e){t._ShootingRight?(t._customEvent_ShootRight(),Ke.createRecycledActor(Ke.getActorType(527),-32,-32,0),Ke.getLastCreatedActor().setX(t.actor.getXCenter()-Ke.getLastCreatedActor().getWidth()/2-4)):(t._customEvent_ShootLeft(),Ke.createRecycledActor(Ke.getActorType(527),-32,-32,0),Ke.getLastCreatedActor().setX(t.actor.getXCenter()-Ke.getLastCreatedActor().getWidth()/2+4)),Ke.getLastCreatedActor().setY(t.actor.getYCenter()-Ke.getLastCreatedActor().getHeight()/2)},t.actor)},this.actor),Ge.engine.getGameAttribute("Mute Sounds")||(Ke.playSound(Ke.getSound(553)),Ke.runLater(200,function(e){Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(553)),Ke.runLater(200,function(e){Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(553)),Ke.runLater(200,function(e){Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(553)),Ke.runLater(200,function(e){Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(553)),Ke.runLater(200,function(e){Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(553)),Ke.runLater(200,function(t){Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(553))},t.actor)},t.actor)},t.actor)},t.actor)},t.actor)},this.actor))},forwardMessage:function(t){},__class__:wy});var Sy=function(t,e,i){Je.call(this,e),this.nameMap.h.Actor="actor"};r["scripts.Design_267_267_DieOnLeavingScreen"]=Sy,Sy.__name__="scripts.Design_267_267_DieOnLeavingScreen",Sy.__super__=Je,Sy.prototype=i(Je.prototype,{_event_LeavesScreen:function(t,e,i,s){this.wrapper.enabled&&e&&Ke.recycleActor(this.actor)},init:function(){this.actor.makeAlwaysSimulate(),this.addListener(this.actor.whenPositionStateChanged,n(this,this._event_LeavesScreen))},forwardMessage:function(t){},__class__:Sy});var Ry=function(t,e,i){Je.call(this,e),this.nameMap.h.Actor="actor"};r["scripts.Design_269_269_CannotExitScreen"]=Ry,Ry.__name__="scripts.Design_269_269_CannotExitScreen",Ry.__super__=Je,Ry.prototype=i(Je.prototype,{_event_Updated:function(t){this.wrapper.enabled&&(0>this.actor.getScreenX()&&(this.actor.setX(Ke.getScreenX()),this.actor.setXVelocity(0)),0>this.actor.getScreenY()&&(this.actor.setY(Ke.getScreenY()),this.actor.setYVelocity(0)),this.actor.getScreenX()+this.actor.getWidth()>Ke.getScreenWidth()&&(this.actor.setX(Ke.getScreenX()+(Ke.getScreenWidth()-this.actor.getWidth())),this.actor.setXVelocity(0)),this.actor.getScreenY()+this.actor.getHeight()>Ke.getScreenHeight()&&(this.actor.setY(Ke.getScreenY()+(Ke.getScreenHeight()-this.actor.getHeight())),this.actor.setYVelocity(0)))},init:function(){this.actor.makeAlwaysSimulate(),this.addListener(this.actor.whenUpdated,n(this,this._event_Updated))},forwardMessage:function(t){},__class__:Ry});var Ay=function(t,e){Ke.call(this),this.nameMap.h["Random or Aimed Arrow"]="_RandomorAimedArrow",this._RandomorAimedArrow=0,this.nameMap.h["Traps List"]="_TrapsList",this._TrapsList="spikeball1 spikeball2 spikeball3 CannonL1 CannonL2 CannonL3 CannonR1 CannonR2 CannonR3 chainball1 chainball2 chainball3 sawblade1 sawblade2 sawblade3".split(" "),this.nameMap.h.Permutation="_Permutation",this._Permutation=[0],this.nameMap.h.N="_NVar",this._NVar=0,this.nameMap.h["Traps List 2"]="_TrapsList2",this._TrapsList2="spikeball1 CannonL1 chainball3 CannonR3 sawblade1 spikeball3 CannonL2 CannonR1 chainball2 CannonL3 sawblade2 CannonR2 spikeball3 chainball3".split(" "),this.nameMap.h["Saw created"]="_Sawcreated",this._Sawcreated=!1,this.nameMap.h["Trap Spawn Delay"]="_TrapSpawnDelay",this._TrapSpawnDelay=0,this.nameMap.h["Middle Saw Direction"]="_MiddleSawDirection",this._MiddleSawDirection=0};r["scripts.Design_272_272_TrapSpawner"]=Ay,Ay.__name__="scripts.Design_272_272_TrapSpawner",Ay.__super__=ei,Ay.prototype=i(ei.prototype,{_RandomorAimedArrow:null,_TrapsList:null,_Permutation:null,_NVar:null,_TrapsList2:null,_Sawcreated:null,_TrapSpawnDelay:null,_MiddleSawDirection:null,_customEvent_StartTrapSpawning:function(){for(this._Permutation.length=0;0<this._TrapsList.length;)this._NVar=Ke.randomInt(0,this._TrapsList.length-1),this._Permutation.push(this._TrapsList[0|this._NVar]),this._TrapsList.splice(0|this._NVar,1);Ke.runLater(1e4,function(t){Ke.sayToScene("Trap Spawner","_customEvent_SpawnTrap")},null)},_customEvent_SpawnTrap:function(){var t=this;0!=this._Permutation.length&&(Ke.sayToScene("Trap Spawner","_customEvent_"+g.string(this._Permutation[0])),this._Permutation.splice(0,1),Ke.runLater(1e3*(Ge.engine.getGameAttribute("Trap Spawning Speed")+this._TrapSpawnDelay),function(e){t._TrapSpawnDelay+=2,Ke.sayToScene("Trap Spawner","_customEvent_SpawnTrap")},null))},_customEvent_spikeball1:function(){Ke.createRecycledActor(Ke.getActorType(499),-300,64,0),Ke.getLastCreatedActor().setX(112)},_customEvent_spikeball2:function(){Ke.createRecycledActor(Ke.getActorType(681),-300,64,0),Ke.getLastCreatedActor().setX(184)},_customEvent_spikeball3:function(){Ke.createRecycledActor(Ke.getActorType(499),-300,64,0),Ke.getLastCreatedActor().setX(256)},_customEvent_CannonL1:function(){Ke.createRecycledActor(Ke.getActorType(558),64,152,0)},_customEvent_CannonL2:function(){Ke.createRecycledActor(Ke.getActorType(558),64,120,0)},_customEvent_CannonL3:function(){Ke.createRecycledActor(Ke.getActorType(558),64,88,0)},_customEvent_CannonR1:function(){Ke.createRecycledActor(Ke.getActorType(497),288,152,0)},_customEvent_CannonR2:function(){Ke.createRecycledActor(Ke.getActorType(497),288,120,0)},_customEvent_CannonR3:function(){Ke.createRecycledActor(Ke.getActorType(497),288,88,0)},_customEvent_chainball1:function(){Ke.createRecycledActor(Ke.getActorType(551),179,48,0)},_customEvent_chainball2:function(){Ke.createRecycledActor(Ke.getActorType(551),91,48,0)},_customEvent_chainball3:function(){Ke.createRecycledActor(Ke.getActorType(551),267,48,0)},_customEvent_sawblade1:function(){if(Ke.createRecycledActor(Ke.getActorType(488),-600,176,2),this._Sawcreated)for(var t=0,e=Ke.getActorsOfType(Ke.getActorType(565));t<e.length;){var i=e[t];++t,null==i||i.dead||i.recycled||(i.getXCenter()>Ke.getSceneWidth()/2?Ke.getLastCreatedActor().setX(80):Ke.getLastCreatedActor().setX(276))}else this._Sawcreated=!0,Ke.getLastCreatedActor().setX(80)},_customEvent_sawblade2:function(){if(Ke.createRecycledActor(Ke.getActorType(565),-600,176,2),this._Sawcreated)for(var t=0,e=Ke.getActorsOfType(Ke.getActorType(488));t<e.length;){var i=e[t];++t,null==i||i.dead||i.recycled||(i.getXCenter()>Ke.getSceneWidth()/2?Ke.getLastCreatedActor().setX(80):Ke.getLastCreatedActor().setX(276))}else this._Sawcreated=!0,Ke.getLastCreatedActor().setX(276)},_customEvent_sawblade3:function(){this._MiddleSawDirection=Ke.randomInt(0,1),0==this._MiddleSawDirection?Ke.createRecycledActor(Ke.getActorType(565),Ke.randomInt(80,272),176,2):Ke.createRecycledActor(Ke.getActorType(488),Ke.randomInt(80,272),176,2)},init:function(){var t=this;Ke.runPeriodically(2e3,function(e){if(Ke.createRecycledActor(Ke.getActorType(490),-100,-100,0),t._RandomorAimedArrow=Ke.randomInt(0,5),5==t._RandomorAimedArrow){e=0;for(var i=vo.__cast(Ke.getActorGroup(0),kn).list;e<i.length;){var s=i[e];++e,null==s||s.dead||s.recycled||Ke.getLastCreatedActor().setX(s.getX()+8)}}else Ke.getLastCreatedActor().setX(Ke.randomInt(80,288))},null)},forwardMessage:function(t){},__class__:Ay});var Ty=function(t,e,i){Je.call(this,e),this.nameMap.h.Actor="actor",this.nameMap.h.Direction="_Direction",this._Direction=0,this.nameMap.h["Reverse Starting Direction?"]="_ReverseStartingDirection",this._ReverseStartingDirection=!1,this.nameMap.h.Period="_Period",this._Period=0,this.nameMap.h.Speed="_Speed",this._Speed=0,this.nameMap.h["Apply Smoothing?"]="_ApplySmoothing",this._ApplySmoothing=!1,this.nameMap.h["Elapsed Time"]="_ElapsedTime",this._ElapsedTime=0,this.nameMap.h["Current Direction"]="_CurrentDirection",this._CurrentDirection=0,this.nameMap.h["Slowdown Speed"]="_SlowdownSpeed",this._SlowdownSpeed=0,this.nameMap.h["Reverse Direction"]="_ReverseDirection",this._ReverseDirection=0,this.nameMap.h["Current Speed"]="_CurrentSpeed",this._CurrentSpeed=0,this.nameMap.h["Start Moving When On Top?"]="_StartMovingWhenOnTop",this._StartMovingWhenOnTop=!1,this.nameMap.h.Hold_Movement="_HoldMovement",this._HoldMovement=!1};r["scripts.Design_277_277_PlatformMotion"]=Ty,Ty.__name__="scripts.Design_277_277_PlatformMotion",Ty.__super__=Je,Ty.prototype=i(Je.prototype,{_Direction:null,_ReverseStartingDirection:null,_Period:null,_Speed:null,_ApplySmoothing:null,_ElapsedTime:null,_CurrentDirection:null,_SlowdownSpeed:null,_ReverseDirection:null,_CurrentSpeed:null,_StartMovingWhenOnTop:null,_HoldMovement:null,_event_ActorAny:function(t){this.wrapper.enabled&&(1==this._StartMovingWhenOnTop&&t.thisFromTop&&(this._ReverseStartingDirection||(this._Speed=-this._Speed),this._CurrentSpeed=this._Speed,0==this._Direction?this.actor.setYVelocity(this._Speed):1==this._Direction?this.actor.setXVelocity(this._Speed):(2==this._Direction?this.actor.setXVelocity(this._Speed):this.actor.setXVelocity(-this._Speed),this.actor.setYVelocity(this._Speed)),this._StartMovingWhenOnTop=!1),t.otherActor.setFriction(1))},_event_Updated:function(t){this.wrapper.enabled&&0==this._StartMovingWhenOnTop&&((this._ElapsedTime+=1)>=this._Period/Ke.getStepSize()?(this._ElapsedTime=0,this._CurrentSpeed=this._Speed=-this._Speed,0==this._Direction?this.actor.setYVelocity(this._Speed):1==this._Direction?this.actor.setXVelocity(this._Speed):(2==this._Direction?this.actor.setXVelocity(this._Speed):this.actor.setXVelocity(-this._Speed),this.actor.setYVelocity(this._Speed))):this._ApplySmoothing&&(this._ElapsedTime>=this._Period/Ke.getStepSize()-100?(this._SlowdownSpeed=Math.abs((this._ElapsedTime-this._Period/Ke.getStepSize())/100),this._CurrentSpeed=this._Speed*this._SlowdownSpeed):100>this._ElapsedTime&&(this._SlowdownSpeed=this._ElapsedTime/100,this._CurrentSpeed=this._Speed*this._SlowdownSpeed),0==this._Direction?this.actor.setYVelocity(this._CurrentSpeed):1==this._Direction?this.actor.setXVelocity(this._CurrentSpeed):(2==this._Direction?this.actor.setXVelocity(this._CurrentSpeed):this.actor.setXVelocity(-this._CurrentSpeed),this.actor.setYVelocity(this._CurrentSpeed))))},init:function(){this.actor.makeAlwaysSimulate(),this._Period*=1e3,0==this._StartMovingWhenOnTop&&(this._ReverseStartingDirection||(this._Speed=-this._Speed),this._CurrentSpeed=this._Speed,0==this._Direction?this.actor.setYVelocity(this._Speed):1==this._Direction?this.actor.setXVelocity(this._Speed):(2==this._Direction?this.actor.setXVelocity(this._Speed):this.actor.setXVelocity(-this._Speed),this.actor.setYVelocity(this._Speed))),this.addListener(this.actor.whenCollided,n(this,this._event_ActorAny)),this.addListener(this.actor.whenUpdated,n(this,this._event_Updated))},forwardMessage:function(t){},__class__:Ty});var My=function(t,e){Ke.call(this)};r["scripts.Design_278_278_ResultsScreenBehavior"]=My,My.__name__="scripts.Design_278_278_ResultsScreenBehavior",My.__super__=ei,My.prototype=i(ei.prototype,{_customEvent_confetti:function(){Ke.createRecycledActor(Ke.getActorType(612),Ke.randomInt(0,Ke.getSceneWidth()),-6,0),Ke.getLastCreatedActor().moveToBottom(),Ke.runLater(70,function(t){Ke.shoutToScene("_customEvent_confetti")},null)},_customEvent_HSiOS:function(){},_customEvent_HSAndroid:function(){},init:function(){if(Ke.engine.moveCamera(Ke.getSceneWidth()/2,144),Ke.loopSoundOnChannel(Ke.getSound(626),0),Ke.simulateKeyRelease("Space"),Ke.simulateKeyRelease("A"),Ke.simulateKeyRelease("Down"),Ke.simulateKeyRelease("Left"),Ke.simulateKeyRelease("S"),Ke.simulateKeyRelease("D"),Ke.simulateKeyRelease("W"),Ke.simulateKeyRelease("Right"),Ke.simulateKeyRelease("Up"),Ge.engine.getGameAttribute("Multiplayer On")?Ge.engine.getGameAttribute("Multiplayer On")&&1==Ge.engine.getGameAttribute("Multiplayer Mode")&&(Ke.createRecycledActor(Ke.getActorType(479),250,160,0),Ke.getLastCreatedActor().setIgnoreGravity(!0),Ke.getLastCreatedActor().shout("_customEvent_RemoveControl"),Ke.getLastCreatedActor().shout("_customEvent_Unkillable"),Ke.getLastCreatedActor().setActorValue("Facing","Left"),Ke.createRecycledActor(Ke.getActorType(652),274,160,0),Ke.getLastCreatedActor().setIgnoreGravity(!0),Ke.getLastCreatedActor().shout("_customEvent_RemoveControl"),Ke.getLastCreatedActor().shout("_customEvent_Unkillable"),Ke.getLastCreatedActor().setActorValue("Facing","Left")):(Ke.createRecycledActor(Ke.getActorType(479),264,160,0),Ke.getLastCreatedActor().setIgnoreGravity(!0),Ke.getLastCreatedActor().shout("_customEvent_RemoveControl"),Ke.getLastCreatedActor().shout("_customEvent_Unkillable"),Ke.getLastCreatedActor().setActorValue("Facing","Left")),Ge.engine.getGameAttribute("Collected Skins List").length<Ge.engine.getGameAttribute("Skin Names List").length&&Ke.createRecycledActor(Ke.getActorType(720),-100,-100,0),!Ge.engine.getGameAttribute("Multiplayer On")){if(0==Ge.engine.getGameAttribute("Best Carrots Singleplayer")&&0<Ge.engine.getGameAttribute("Carrot Counter")){var t=Ge.engine,e=Ge.engine.getGameAttribute("Time Counter");t.gameAttributes.h["Best Time Singleplayer"]=e,t=Ge.engine,e=Ge.engine.getGameAttribute("Carrot Counter"),t.gameAttributes.h["Best Carrots Singleplayer"]=e,Ke.createRecycledActor(Ke.getActorType(597),242,91,0),Ke.shoutToScene("_customEvent_confetti"),Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(614))}else Ge.engine.getGameAttribute("Carrot Counter")>Ge.engine.getGameAttribute("Best Carrots Singleplayer")&&(t=Ge.engine,e=Ge.engine.getGameAttribute("Time Counter"),t.gameAttributes.h["Best Time Singleplayer"]=e,t=Ge.engine,e=Ge.engine.getGameAttribute("Carrot Counter"),t.gameAttributes.h["Best Carrots Singleplayer"]=e,Ke.createRecycledActor(Ke.getActorType(597),242,91,0),Ke.shoutToScene("_customEvent_confetti"),Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(614)));Ke.saveGame("mySave",function(t){})}Ge.engine.getGameAttribute("Multiplayer On")&&1==Ge.engine.getGameAttribute("Multiplayer Mode")&&((0==Ge.engine.getGameAttribute("Best Carrots Multiplayer")&&0<Ge.engine.getGameAttribute("Carrot Counter")||Ge.engine.getGameAttribute("Carrot Counter")>Ge.engine.getGameAttribute("Best Carrots Multiplayer"))&&(t=Ge.engine,e=Ge.engine.getGameAttribute("Time Counter"),t.gameAttributes.h["Best Time Multiplayer"]=e,t=Ge.engine,e=Ge.engine.getGameAttribute("Carrot Counter"),t.gameAttributes.h["Best Carrots Multiplayer"]=e,Ke.createRecycledActor(Ke.getActorType(597),242,91,0),Ke.shoutToScene("_customEvent_confetti"),Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(614))),Ke.saveGame("mySave",function(t){})),Ge.engine.getGameAttribute("Multiplayer On")&&2==Ge.engine.getGameAttribute("Multiplayer Mode")&&(Ge.engine.getGameAttribute("P1 Versus Score")>Ge.engine.getGameAttribute("P2 Versus Score")||Ge.engine.getGameAttribute("P2 Versus Score")>Ge.engine.getGameAttribute("P1 Versus Score"))&&(Ke.shoutToScene("_customEvent_confetti"),Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(614))),Ke.runLater(1e3,function(t){Ge.engine.getGameAttribute("Collected Skins List").length<Ge.engine.getGameAttribute("Skin Names List").length&&100>Ge.engine.getGameAttribute("Currency Carrots")&&(Ge.engine.getGameAttribute("Multiplayer On")?Ge.engine.getGameAttribute("Multiplayer On")&&1==Ge.engine.getGameAttribute("Multiplayer Mode")?14<Ge.engine.getGameAttribute("Carrot Counter")&&Ke.createRecycledActor(Ke.getActorType(829),-400,-400,0):Ge.engine.getGameAttribute("Multiplayer On")&&2==Ge.engine.getGameAttribute("Multiplayer Mode")&&14<Ge.engine.getGameAttribute("P1 Versus Score")+Ge.engine.getGameAttribute("P2 Versus Score")&&Ke.createRecycledActor(Ke.getActorType(829),-400,-400,0):14<Ge.engine.getGameAttribute("Carrot Counter")&&Ke.createRecycledActor(Ke.getActorType(829),-400,-400,0))},null)},forwardMessage:function(t){},__class__:My});var Py=function(t,e){Ke.call(this),this.nameMap.h["Carrot Positions List"]="_CarrotPositionsList",this._CarrotPositionsList="112,80 184,80 256,80 80,112 144,112 224,112 288,112 112,144 184,144 256,144 80,176 144,176 224,176 288,176".split(" "),this.nameMap.h.A="_A",this._A=0,this.nameMap.h.B="_BVar",this._BVar=0,this.nameMap.h["Position Index"]="_PositionIndex",this._PositionIndex=0,this.nameMap.h["Last Position Index"]="_LastPositionIndex",this._LastPositionIndex=0,this.nameMap.h["Golden Carrot Number"]="_GoldenCarrotNumber",this._GoldenCarrotNumber=0};r["scripts.Design_280_280_CarrotSpawner"]=Py,Py.__name__="scripts.Design_280_280_CarrotSpawner",Py.__super__=ei,Py.prototype=i(ei.prototype,{_CarrotPositionsList:null,_A:null,_BVar:null,_PositionIndex:null,_LastPositionIndex:null,_GoldenCarrotNumber:null,_customEvent_SpawnCarrot:function(){var t=this;Ke.runLater(0,function(e){for(;t._PositionIndex==t._LastPositionIndex;)t._PositionIndex=Ke.randomInt(0,t._CarrotPositionsList.length-1);Ke.createRecycledActor(Ke.getActorType(570),Ke.asNumber((""+g.string(t._CarrotPositionsList[0|t._PositionIndex])).split(",")[0]),Ke.asNumber((""+g.string(t._CarrotPositionsList[0|t._PositionIndex])).split(",")[1]),0),t._LastPositionIndex=t._PositionIndex,vr.contains(t._CarrotPositionsList,"184,176")||t._CarrotPositionsList.push("184,176")},null)},init:function(){var t=this;Ke.runLater(2e3,function(e){t._customEvent_SpawnCarrot()},null),Ke.runPeriodically(15e3,function(t){Ke.createRecycledActor(Ke.getActorType(603),Ke.randomInt(80,288),Ke.randomInt(64,176),0)},null)},forwardMessage:function(t){},__class__:Py});var Cy=function(t,e,i){Je.call(this,e),this.nameMap.h.Actor="actor"};r["scripts.Design_283_283_BestRunBadgeBehavior"]=Cy,Cy.__name__="scripts.Design_283_283_BestRunBadgeBehavior",Cy.__super__=Je,Cy.prototype=i(Je.prototype,{_event_DrawScoreCopy:function(t,e,i){this.wrapper.enabled&&(t.setFont(Ke.getFont(579)),Ge.engine.getGameAttribute("Multiplayer On")&&1==Ge.engine.getGameAttribute("Multiplayer Mode")?(5999<Ge.engine.getGameAttribute("Best Time Multiplayer")?t.drawString(""+Iy._customBlock_FormatTimer(Ge.engine.getGameAttribute("Best Time Multiplayer"),":",":"),47,20):599<Ge.engine.getGameAttribute("Best Time Multiplayer")?t.drawString(""+Iy._customBlock_FormatTimer(Ge.engine.getGameAttribute("Best Time Multiplayer"),":",":"),56,20):t.drawString(""+Iy._customBlock_FormatTimer(Ge.engine.getGameAttribute("Best Time Multiplayer"),":",":"),64,20),99<Ge.engine.getGameAttribute("Best Carrots Multiplayer")?t.drawString(""+g.string(Ge.engine.getGameAttribute("Best Carrots Multiplayer")),92,2):9<Ge.engine.getGameAttribute("Best Carrots Multiplayer")?t.drawString(""+g.string(Ge.engine.getGameAttribute("Best Carrots Multiplayer")),101,2):t.drawString(""+g.string(Ge.engine.getGameAttribute("Best Carrots Multiplayer")),110,2)):Ge.engine.getGameAttribute("Multiplayer On")&&2==Ge.engine.getGameAttribute("Multiplayer Mode")?(this.actor.setAnimation("1"),Ge.engine.getGameAttribute("P1 Versus Score")>Ge.engine.getGameAttribute("P2 Versus Score")?99<Ge.engine.getGameAttribute("P1 Versus Score")?t.drawString(""+g.string(Ge.engine.getGameAttribute("P1 Versus Score")),92,2):9<Ge.engine.getGameAttribute("P1 Versus Score")?t.drawString(""+g.string(Ge.engine.getGameAttribute("P1 Versus Score")),101,2):t.drawString(""+g.string(Ge.engine.getGameAttribute("P1 Versus Score")),110,2):Ge.engine.getGameAttribute("P2 Versus Score")>Ge.engine.getGameAttribute("P1 Versus Score")?99<Ge.engine.getGameAttribute("P2 Versus Score")?t.drawString(""+g.string(Ge.engine.getGameAttribute("P2 Versus Score")),92,2):9<Ge.engine.getGameAttribute("P2 Versus Score")?t.drawString(""+g.string(Ge.engine.getGameAttribute("P2 Versus Score")),101,2):t.drawString(""+g.string(Ge.engine.getGameAttribute("P2 Versus Score")),110,2):(Ge.engine.getGameAttribute("P1 Versus Score"),Ge.engine.getGameAttribute("P2 Versus Score")),t.drawString("WIN",93,20)):(5999<Ge.engine.getGameAttribute("Best Time Singleplayer")?t.drawString(""+Iy._customBlock_FormatTimer(Ge.engine.getGameAttribute("Best Time Singleplayer"),":",":"),47,20):599<Ge.engine.getGameAttribute("Best Time Singleplayer")?t.drawString(""+Iy._customBlock_FormatTimer(Ge.engine.getGameAttribute("Best Time Singleplayer"),":",":"),56,20):t.drawString(""+Iy._customBlock_FormatTimer(Ge.engine.getGameAttribute("Best Time Singleplayer"),":",":"),64,20),99<Ge.engine.getGameAttribute("Best Carrots Singleplayer")?t.drawString(""+g.string(Ge.engine.getGameAttribute("Best Carrots Singleplayer")),92,2):9<Ge.engine.getGameAttribute("Best Carrots Singleplayer")?t.drawString(""+g.string(Ge.engine.getGameAttribute("Best Carrots Singleplayer")),101,2):t.drawString(""+g.string(Ge.engine.getGameAttribute("Best Carrots Singleplayer")),110,2)))},init:function(){Ge.engine.getGameAttribute("Multiplayer On")&&2==Ge.engine.getGameAttribute("Multiplayer Mode")&&(this.actor.setAnimation("0"),Ge.engine.getGameAttribute("P1 Versus Score")>Ge.engine.getGameAttribute("P2 Versus Score")?(Ke.createRecycledActor(Ke.getActorType(479),this.actor.getX()+6,this.actor.getY()-2,0),Ke.getLastCreatedActor().disableBehavior("Player Control"),Ke.getLastCreatedActor().setIgnoreGravity(!0),Ke.getLastCreatedActor().setXVelocity(0),Ke.getLastCreatedActor().setYVelocity(0)):Ge.engine.getGameAttribute("P2 Versus Score")>Ge.engine.getGameAttribute("P1 Versus Score")?(Ke.createRecycledActor(Ke.getActorType(652),this.actor.getX()+6,this.actor.getY()-2,0),Ke.getLastCreatedActor().disableBehavior("Player Control"),Ke.getLastCreatedActor().setIgnoreGravity(!0),Ke.getLastCreatedActor().setXVelocity(0),Ke.getLastCreatedActor().setYVelocity(0)):Ge.engine.getGameAttribute("P1 Versus Score")==Ge.engine.getGameAttribute("P2 Versus Score")&&Ke.recycleActor(this.actor)),this.addListener(this.actor.whenDrawing,n(this,this._event_DrawScoreCopy))},forwardMessage:function(t){},__class__:Cy});var Iy=function(t,e){Ke.call(this)};r["scripts.Design_284_284_TimeTrialCounterBehavior"]=Iy,Iy.__name__="scripts.Design_284_284_TimeTrialCounterBehavior",Iy._customBlock_FormatTimer=function(t,e,i){return Math.floor(t/60)+(e+"")+Math.floor(t%60/10)+(Math.floor(t%60)-10*Math.floor(t%60/10))+i+Math.floor(10*(t-Math.floor(t)))+Math.floor(100*(t-Math.floor(t))-10*Math.floor(10*(t-Math.floor(t))))},Iy.__super__=ei,Iy.prototype=i(ei.prototype,{init:function(){},forwardMessage:function(t){},__class__:Iy});var Ey=function(t,e,i){Je.call(this,e),this.nameMap.h.Actor="actor"};r["scripts.Design_285_285_ThisRunBadgeBehavior"]=Ey,Ey.__name__="scripts.Design_285_285_ThisRunBadgeBehavior",Ey.__super__=Je,Ey.prototype=i(Je.prototype,{_event_DrawingCopy:function(t,e,i){this.wrapper.enabled&&(t.setFont(Ke.getFont(579)),Ge.engine.getGameAttribute("Multiplayer On")&&2==Ge.engine.getGameAttribute("Multiplayer Mode")?Ge.engine.getGameAttribute("P2 Versus Score")>Ge.engine.getGameAttribute("P1 Versus Score")?(99<Ge.engine.getGameAttribute("P1 Versus Score")?t.drawString(""+g.string(Ge.engine.getGameAttribute("P1 Versus Score")),92,2):9<Ge.engine.getGameAttribute("P1 Versus Score")?t.drawString(""+g.string(Ge.engine.getGameAttribute("P1 Versus Score")),101,2):t.drawString(""+g.string(Ge.engine.getGameAttribute("P1 Versus Score")),110,2),t.drawString("LOSE",85,20)):Ge.engine.getGameAttribute("P1 Versus Score")>Ge.engine.getGameAttribute("P2 Versus Score")?(99<Ge.engine.getGameAttribute("P2 Versus Score")?t.drawString(""+g.string(Ge.engine.getGameAttribute("P2 Versus Score")),92,2):9<Ge.engine.getGameAttribute("P2 Versus Score")?t.drawString(""+g.string(Ge.engine.getGameAttribute("P2 Versus Score")),101,2):t.drawString(""+g.string(Ge.engine.getGameAttribute("P2 Versus Score")),110,2),t.drawString("LOSE",85,20)):Ge.engine.getGameAttribute("P1 Versus Score")==Ge.engine.getGameAttribute("P2 Versus Score")&&(99<Ge.engine.getGameAttribute("P1 Versus Score")?t.drawString(""+g.string(Ge.engine.getGameAttribute("P1 Versus Score")),92,2):9<Ge.engine.getGameAttribute("P1 Versus Score")?t.drawString(""+g.string(Ge.engine.getGameAttribute("P1 Versus Score")),101,2):t.drawString(""+g.string(Ge.engine.getGameAttribute("P1 Versus Score")),110,2),t.drawString("TIE",95,20)):(5999<Ge.engine.getGameAttribute("Time Counter")?t.drawString(""+Iy._customBlock_FormatTimer(Ge.engine.getGameAttribute("Time Counter"),":",":"),47,20):599<Ge.engine.getGameAttribute("Time Counter")?t.drawString(""+Iy._customBlock_FormatTimer(Ge.engine.getGameAttribute("Time Counter"),":",":"),56,20):t.drawString(""+Iy._customBlock_FormatTimer(Ge.engine.getGameAttribute("Time Counter"),":",":"),64,20),99<Ge.engine.getGameAttribute("Carrot Counter")?t.drawString(""+g.string(Ge.engine.getGameAttribute("Carrot Counter")),92,2):9<Ge.engine.getGameAttribute("Carrot Counter")?t.drawString(""+g.string(Ge.engine.getGameAttribute("Carrot Counter")),101,2):t.drawString(""+g.string(Ge.engine.getGameAttribute("Carrot Counter")),110,2)))},init:function(){Ge.engine.getGameAttribute("Multiplayer On")&&2==Ge.engine.getGameAttribute("Multiplayer Mode")&&(this.actor.setAnimation("1"),Ge.engine.getGameAttribute("P2 Versus Score")>Ge.engine.getGameAttribute("P1 Versus Score")?(Ke.createRecycledActor(Ke.getActorType(479),this.actor.getX()+6,this.actor.getY()-2,0),Ke.getLastCreatedActor().disableBehavior("Player Control"),Ke.getLastCreatedActor().setIgnoreGravity(!0),Ke.getLastCreatedActor().setXVelocity(0),Ke.getLastCreatedActor().setYVelocity(0)):Ge.engine.getGameAttribute("P1 Versus Score")>Ge.engine.getGameAttribute("P2 Versus Score")?(Ke.createRecycledActor(Ke.getActorType(652),this.actor.getX()+6,this.actor.getY()-2,0),Ke.getLastCreatedActor().disableBehavior("Player Control"),Ke.getLastCreatedActor().setIgnoreGravity(!0),Ke.getLastCreatedActor().setXVelocity(0),Ke.getLastCreatedActor().setYVelocity(0)):Ge.engine.getGameAttribute("P1 Versus Score")==Ge.engine.getGameAttribute("P2 Versus Score")&&(this.actor.setAnimation("2"),this.actor.setY(this.actor.getY()-24),Ke.createRecycledActor(Ke.getActorType(652),this.actor.getX()+26,this.actor.getY()-2,0),Ke.getLastCreatedActor().disableBehavior("Player Control"),Ke.getLastCreatedActor().setIgnoreGravity(!0),Ke.getLastCreatedActor().setXVelocity(0),Ke.getLastCreatedActor().setYVelocity(0),Ke.createRecycledActor(Ke.getActorType(479),this.actor.getX()+4,this.actor.getY()-2,0),Ke.getLastCreatedActor().disableBehavior("Player Control"),Ke.getLastCreatedActor().setIgnoreGravity(!0),Ke.getLastCreatedActor().setXVelocity(0),Ke.getLastCreatedActor().setYVelocity(0))),this.addListener(this.actor.whenDrawing,n(this,this._event_DrawingCopy))},forwardMessage:function(t){},__class__:Ey});var ky=function(t,e){Ke.call(this),this.nameMap.h["Random or Aimed Arrow"]="_RandomorAimedArrow",this._RandomorAimedArrow=0,this.nameMap.h["Traps List 2"]="_TrapsList2",this._TrapsList2="spikeball1 CannonL1 sawblade1 CannonR3 chainball3 CannonL2 spikeball3 CannonR1 chainball2 CannonL3 sawblade2 CannonR2 chainball1 spikeball3".split(" "),this.nameMap.h["Trap Spawn Number"]="_TrapSpawnNumber",this._TrapSpawnNumber=0,this.nameMap.h["Traps List 1"]="_TrapsList1",this._TrapsList1="CannonR3 chainball2 spikeball3 CannonL2 chainball3 CannonR1 sawblade2 chainball1 CannonL3 spikeball3 CannonL1 sawblade1 spikeball1 CannonR2".split(" "),this.nameMap.h["Traps List 3"]="_TrapsList3",this._TrapsList3="sawblade1 CannonL2 spikeball1 CannonR3 chainball2 CannonL1 spikeball3 CannonR2 chainball3 CannonR1 chainball1 CannonL3 sawblade2 spikeball3".split(" "),this.nameMap.h["Traps List 4"]="_TrapsList4",this._TrapsList4="spikeball3 sawblade2 CannonL3 chainball1 CannonR1 chainball3 CannonR2 spikeball3 CannonL2 chainball2 CannonR3 spikeball1 CannonL1 sawblade1".split(" "),this.nameMap.h["Traps List 5"]="_TrapsList5",this._TrapsList5="chainball1 CannonR1 sawblade1 CannonL3 spikeball3 CannonR2 chainball2 CannonL1 spikeball1 CannonL2 sawblade2 chainball3 CannonR3 spikeball2".split(" "),this.nameMap.h["List Number"]="_ListNumber",this._ListNumber=0,this.nameMap.h["Traps List 6"]="_TrapsList6",this._TrapsList6="CannonR2 spikeball1 sawblade1 CannonL1 spikeball3 CannonL3 chainball1 sawblade2 CannonR1 chainball3 CannonL2 spikeball3 chainball2 CannonR3".split(" "),this.nameMap.h["Traps List 7"]="_TrapsList7",this._TrapsList7="spikeball3 chainball1 CannonR2 sawblade2 CannonL3 chainball2 CannonR1 spikeball3 CannonL2 chainball3 CannonR3 sawblade1 CannonL1 spikeball1".split(" "),this.nameMap.h["Traps List 8"]="_TrapsList8",this._TrapsList8="sawblade2 CannonL1 chainball2 CannonR2 sawblade1 CannonL3 spikeball1 CannonR3 chainball3 CannonR1 spikeball3 chainball1 CannonL2 spikeball2".split(" "),this.nameMap.h["Spawn Trap Again Time"]="_SpawnTrapAgainTime",this._SpawnTrapAgainTime=15,this.nameMap.h["Traps List 9"]="_TrapsList9",this._TrapsList9="spikeball1 CannonL3 sawblade1 CannonR2 chainball2 CannonL1 sawblade2 spikeball2 CannonR3 chainball1 spikeball3 CannonR1 chainball3 CannonL2".split(" "),this.nameMap.h["Traps List 10"]="_TrapsList10",this._TrapsList10="sawblade2 CannonR1 chainball1 CannonR3 sawblade1 spikeball3 CannonL2 chainball3 spikeball1 CannonL1 chainball2 CannonL3 spikeball2 CannonR2".split(" ")};r["scripts.Design_302_302_TrapSpawner2"]=ky,ky.__name__="scripts.Design_302_302_TrapSpawner2",ky.__super__=ei,ky.prototype=i(ei.prototype,{_RandomorAimedArrow:null,_TrapsList2:null,_TrapSpawnNumber:null,_TrapsList1:null,_TrapsList3:null,_TrapsList4:null,_TrapsList5:null,_ListNumber:null,_TrapsList6:null,_TrapsList7:null,_TrapsList8:null,_SpawnTrapAgainTime:null,_TrapsList9:null,_TrapsList10:null,_customEvent_SpawnTrap2:function(){0==this._ListNumber?(Ke.sayToScene("Trap Spawner 2","_customEvent_"+g.string(this._TrapsList1[0|this._TrapSpawnNumber])),this._TrapSpawnNumber+=1,Ke.runLater(1e3*Ge.engine.getGameAttribute("Trap Spawning Speed"),function(t){Ke.sayToScene("Trap Spawner 2","_customEvent_SpawnTrap2")},null)):1==this._ListNumber?(Ke.sayToScene("Trap Spawner 2","_customEvent_"+g.string(this._TrapsList2[0|this._TrapSpawnNumber])),this._TrapSpawnNumber+=1,Ke.runLater(1e3*Ge.engine.getGameAttribute("Trap Spawning Speed"),function(t){Ke.sayToScene("Trap Spawner 2","_customEvent_SpawnTrap2")},null)):2==this._ListNumber?(Ke.sayToScene("Trap Spawner 2","_customEvent_"+g.string(this._TrapsList3[0|this._TrapSpawnNumber])),this._TrapSpawnNumber+=1,Ke.runLater(1e3*Ge.engine.getGameAttribute("Trap Spawning Speed"),function(t){Ke.sayToScene("Trap Spawner 2","_customEvent_SpawnTrap2")},null)):3==this._ListNumber?(Ke.sayToScene("Trap Spawner 2","_customEvent_"+g.string(this._TrapsList4[0|this._TrapSpawnNumber])),this._TrapSpawnNumber+=1,Ke.runLater(1e3*Ge.engine.getGameAttribute("Trap Spawning Speed"),function(t){Ke.sayToScene("Trap Spawner 2","_customEvent_SpawnTrap2")},null)):4==this._ListNumber?(Ke.sayToScene("Trap Spawner 2","_customEvent_"+g.string(this._TrapsList5[0|this._TrapSpawnNumber])),this._TrapSpawnNumber+=1,Ke.runLater(1e3*Ge.engine.getGameAttribute("Trap Spawning Speed"),function(t){Ke.sayToScene("Trap Spawner 2","_customEvent_SpawnTrap2")},null)):5==this._ListNumber?(Ke.sayToScene("Trap Spawner 2","_customEvent_"+g.string(this._TrapsList6[0|this._TrapSpawnNumber])),this._TrapSpawnNumber+=1,Ke.runLater(1e3*Ge.engine.getGameAttribute("Trap Spawning Speed"),function(t){Ke.sayToScene("Trap Spawner 2","_customEvent_SpawnTrap2")},null)):6==this._ListNumber?(Ke.sayToScene("Trap Spawner 2","_customEvent_"+g.string(this._TrapsList7[0|this._TrapSpawnNumber])),this._TrapSpawnNumber+=1,Ke.runLater(1e3*Ge.engine.getGameAttribute("Trap Spawning Speed"),function(t){Ke.sayToScene("Trap Spawner 2","_customEvent_SpawnTrap2")},null)):7==this._ListNumber?(Ke.sayToScene("Trap Spawner 2","_customEvent_"+g.string(this._TrapsList8[0|this._TrapSpawnNumber])),this._TrapSpawnNumber+=1,Ke.runLater(1e3*Ge.engine.getGameAttribute("Trap Spawning Speed"),function(t){Ke.sayToScene("Trap Spawner 2","_customEvent_SpawnTrap2")},null)):8==this._ListNumber?(Ke.sayToScene("Trap Spawner 2","_customEvent_"+g.string(this._TrapsList9[0|this._TrapSpawnNumber])),this._TrapSpawnNumber+=1,Ke.runLater(1e3*Ge.engine.getGameAttribute("Trap Spawning Speed"),function(t){Ke.sayToScene("Trap Spawner 2","_customEvent_SpawnTrap2")},null)):9==this._ListNumber&&(Ke.sayToScene("Trap Spawner 2","_customEvent_"+g.string(this._TrapsList10[0|this._TrapSpawnNumber])),this._TrapSpawnNumber+=1,Ke.runLater(1e3*Ge.engine.getGameAttribute("Trap Spawning Speed"),function(t){Ke.sayToScene("Trap Spawner 2","_customEvent_SpawnTrap2")},null))},_customEvent_spikeball1:function(){Ke.createRecycledActor(Ke.getActorType(499),-300,64,0),Ke.getLastCreatedActor().setX(112)},_customEvent_spikeball2:function(){Ke.createRecycledActor(Ke.getActorType(499),-300,64,0),Ke.getLastCreatedActor().setX(184)},_customEvent_spikeball3:function(){Ke.createRecycledActor(Ke.getActorType(499),-300,64,0),Ke.getLastCreatedActor().setX(256)},_customEvent_CannonL1:function(){Ke.createRecycledActor(Ke.getActorType(558),64,152,0)},_customEvent_CannonL2:function(){Ke.createRecycledActor(Ke.getActorType(558),64,120,0)},_customEvent_CannonL3:function(){Ke.createRecycledActor(Ke.getActorType(558),64,88,0)},_customEvent_CannonR1:function(){Ke.createRecycledActor(Ke.getActorType(497),288,152,0)},_customEvent_CannonR2:function(){Ke.createRecycledActor(Ke.getActorType(497),288,120,0)},_customEvent_CannonR3:function(){Ke.createRecycledActor(Ke.getActorType(497),288,88,0)},_customEvent_chainball1:function(){Ke.createRecycledActor(Ke.getActorType(551),179,48,0)},_customEvent_chainball2:function(){Ke.createRecycledActor(Ke.getActorType(551),91,48,0)},_customEvent_chainball3:function(){Ke.createRecycledActor(Ke.getActorType(551),267,48,0)},_customEvent_sawblade1:function(){Ke.createRecycledActor(Ke.getActorType(488),80,176,2)},_customEvent_sawblade2:function(){Ke.createRecycledActor(Ke.getActorType(565),276,176,2)},init:function(){var t=this;this._ListNumber=Ke.randomInt(0,9),Ke.runLater(5e3,function(t){Ke.sayToScene("Trap Spawner 2","_customEvent_SpawnTrap2")},null),Ke.runPeriodically(2e3,function(e){if(Ke.createRecycledActor(Ke.getActorType(490),-100,-100,0),t._RandomorAimedArrow=Ke.randomInt(0,5),5==t._RandomorAimedArrow){e=0;for(var i=vo.__cast(Ke.getActorGroup(0),kn).list;e<i.length;){var s=i[e];++e,null==s||s.dead||s.recycled||Ke.getLastCreatedActor().setX(s.getX()+8)}}else Ke.getLastCreatedActor().setX(Ke.randomInt(80,288))},null)},forwardMessage:function(t){},__class__:ky});var Fy=function(t,e){Ke.call(this),this.nameMap.h["Backgrounds List"]="_BackgroundsList",this.nameMap.h["Debug Font"]="_DebugFont",this.nameMap.h["Debug Position"]="_DebugPosition",this._DebugPosition="5,5",this.nameMap.h.Debug="_Debug",this._Debug=!1,this.nameMap.h["Debug Text"]="_DebugText",this._DebugText="",this.nameMap.h["Debug Colors"]="_DebugColors",this._DebugColors="255,0,0,25 0,255,0,25 0,0,255,25 255,165,0,25 255,255,0,25 238,130,238,25 255,0,255,25 0,255,255,25 255,255,255,25 0,0,0,25".split(" "),this.nameMap.h["Behavior Split Values"]="_BehaviorSplitValues"};r["scripts.Design_309_309_SwitchBackgrounds"]=Fy,Fy.__name__="scripts.Design_309_309_SwitchBackgrounds",Fy.__super__=ei,Fy.prototype=i(ei.prototype,{_BackgroundsList:null,_DebugFont:null,_DebugPosition:null,_Debug:null,_DebugText:null,_DebugColors:null,_BehaviorSplitValues:null,_event_Updating:function(t){if(this.wrapper.enabled)for(var e=0,i=vo.__cast(this._BackgroundsList,Array);e<i.length;)if(t=i[e],++e,Ke.getScreenXCenter()>=Ke.asNumber(this._BehaviorSplitValues.h["Camera"+g.string(t)][0])&&Ke.getScreenXCenter()<=Ke.asNumber(this._BehaviorSplitValues.h["Camera"+g.string(t)][1])&&Ke.getScreenYCenter()>=Ke.asNumber(this._BehaviorSplitValues.h["Camera"+g.string(t)][2])&&Ke.getScreenYCenter()<=Ke.asNumber(this._BehaviorSplitValues.h["Camera"+g.string(t)][3])){for(this._DebugText=""+g.string(t),e=0,t=vo.__cast(this._BehaviorSplitValues.h["BGSettings"+g.string(t)],Array);e<t.length;)i=t[e],++e,this._BehaviorSplitValues.h.CurrentLayer=(""+g.string(i)).split(","),Ke.fadeTileLayerTo(Ke.engine.getLayerById(0|Ke.asNumber(this._BehaviorSplitValues.h.CurrentLayer[0])),Ke.asNumber(this._BehaviorSplitValues.h.CurrentLayer[1])/100,Ke.asNumber(this._BehaviorSplitValues.h.CurrentLayer[2]));break}},_event_Drawing:function(t,e,i){if(this.wrapper.enabled&&this._Debug){for(t.translateToScreen(),t.setFont(this._DebugFont),Ke.setDrawingLayerToSceneLayer(),e=0,i=vo.__cast(this._BackgroundsList,Array);e<i.length;){var s=i[e];++e,t.alpha=Ke.asNumber(this._BehaviorSplitValues.h["DebugColor"+g.string(s)][3])/100;var n=0|Ke.asNumber(this._BehaviorSplitValues.h["DebugColor"+g.string(s)][0]),r=0|Ke.asNumber(this._BehaviorSplitValues.h["DebugColor"+g.string(s)][1]),a=0|Ke.asNumber(this._BehaviorSplitValues.h["DebugColor"+g.string(s)][2]);null==a&&(a=0),null==r&&(r=0),null==n&&(n=0),n=n<<16|r<<8|a,t.fillColor=0>n?n+16777216:n,n=0|Ke.asNumber(this._BehaviorSplitValues.h["DebugColor"+g.string(s)][0]),r=0|Ke.asNumber(this._BehaviorSplitValues.h["DebugColor"+g.string(s)][1]),null==(a=0|Ke.asNumber(this._BehaviorSplitValues.h["DebugColor"+g.string(s)][2]))&&(a=0),null==r&&(r=0),null==n&&(n=0),t.strokeColor=n<<16|r<<8|a,t.fillRect(Ke.asNumber(this._BehaviorSplitValues.h["Camera"+g.string(s)][0])-Ke.getScreenX(),Ke.asNumber(this._BehaviorSplitValues.h["Camera"+g.string(s)][2])-Ke.getScreenY(),Ke.asNumber(this._BehaviorSplitValues.h["Camera"+g.string(s)][1])-Ke.asNumber(this._BehaviorSplitValues.h["Camera"+g.string(s)][0]),Ke.asNumber(this._BehaviorSplitValues.h["Camera"+g.string(s)][3])-Ke.asNumber(this._BehaviorSplitValues.h["Camera"+g.string(s)][2])),t.strokeSize=1,t.alpha=1,t.drawRect(Ke.asNumber(this._BehaviorSplitValues.h["Camera"+g.string(s)][0])-Ke.getScreenX(),Ke.asNumber(this._BehaviorSplitValues.h["Camera"+g.string(s)][2])-Ke.getScreenY(),Ke.asNumber(this._BehaviorSplitValues.h["Camera"+g.string(s)][1])-Ke.asNumber(this._BehaviorSplitValues.h["Camera"+g.string(s)][0]),Ke.asNumber(this._BehaviorSplitValues.h["Camera"+g.string(s)][3])-Ke.asNumber(this._BehaviorSplitValues.h["Camera"+g.string(s)][2]))}for(t.alpha=1,t.drawString("Camera X: "+Math.round(Ke.getScreenXCenter()),Ke.asNumber(this._BehaviorSplitValues.h.DebugPosition[0]),Ke.asNumber(this._BehaviorSplitValues.h.DebugPosition[1])),t.drawString("Camera Y: "+Math.round(Ke.getScreenYCenter()),Ke.asNumber(this._BehaviorSplitValues.h.DebugPosition[0]),Ke.asNumber(this._BehaviorSplitValues.h.DebugPosition[1])+t.font.getHeight()/Ge.SCALE),e=0,i=this._BehaviorSplitValues.h["BGSettings"+this._DebugText].length;e<i;)s=e++,this._BehaviorSplitValues.h.DebugText=(""+g.string(this._BehaviorSplitValues.h["BGSettings"+this._DebugText][s])).split(","),t.drawString("Layer ID: "+g.string(this._BehaviorSplitValues.h.DebugText[0])+" Opacity: "+g.string(this._BehaviorSplitValues.h.DebugText[1]),Ke.asNumber(this._BehaviorSplitValues.h.DebugPosition[0]),Ke.asNumber(this._BehaviorSplitValues.h.DebugPosition[1])+(t.font.getHeight()/Ge.SCALE*2+t.font.getHeight()/Ge.SCALE*s))}},init:function(){this._BehaviorSplitValues=new pr,this._BehaviorSplitValues.h.DebugPosition=this._DebugPosition.split(",");for(var t=0,e=vo.__cast(this._BackgroundsList,Array);t<e.length;){var i=e[t];++t,this._BehaviorSplitValues.h["DebugColor"+g.string(i)]=(""+g.string(this._DebugColors[this._BackgroundsList.indexOf(i)])).split(","),this._BehaviorSplitValues.h["Camera"+g.string(i)]=(""+(""+g.string(i)).split("|")[0]).split(","),this._BehaviorSplitValues.h["BGSettings"+g.string(i)]=(""+(""+g.string(i)).split("|")[1]).split("/")}this.addListener(Ke.engine.whenUpdated,n(this,this._event_Updating)),this.addListener(Ke.engine.whenDrawing,n(this,this._event_Drawing))},forwardMessage:function(t){},__class__:Fy});var By=function(t,e){Ke.call(this),this.nameMap.h["Camera X"]="_CameraX",this._CameraX=0,this.nameMap.h["Camera Y"]="_CameraY",this._CameraY=0,this.nameMap.h.Moving="_Moving",this._Moving=!1,this.nameMap.h["Get Point"]="_GetPoint",this._GetPoint=!1,this.nameMap.h["Wait Ticks"]="_WaitTicks",this._WaitTicks=0,this.nameMap.h["Auto-Scroll Points"]="_AutoScrollPoints",(t=new pr).h.PathA="166,276,None,1,2|490,270,Strong In/Out,0.5,1|490,96,Bounce Out,2,4|Loop",this._AutoScrollPoints=t,this.nameMap.h["Auto-Scroll Mode"]="_AutoScrollMode",this._AutoScrollMode="",this.nameMap.h["Current Point"]="_CurrentPoint",this._CurrentPoint=0,this.nameMap.h["Interrupt Auto Scroll"]="_InterruptAutoScroll",this._InterruptAutoScroll=!1,this.nameMap.h["Target X"]="_TargetX",this._TargetX=0,this.nameMap.h["Movement Progress"]="_MovementProgress",this._MovementProgress=0,this.nameMap.h["Target Y"]="_TargetY",this._TargetY=0,this.nameMap.h["Movement Ticks"]="_MovementTicks",this._MovementTicks=0,this.nameMap.h["Behavior Split Values"]="_BehaviorSplitValues"};r["scripts.Design_310_310_SlideCamera"]=By,By.__name__="scripts.Design_310_310_SlideCamera",By.__super__=ei,By.prototype=i(ei.prototype,{_CameraX:null,_CameraY:null,_Moving:null,_GetPoint:null,_WaitTicks:null,_AutoScrollPoints:null,_AutoScrollMode:null,_CurrentPoint:null,_InterruptAutoScroll:null,_TargetX:null,_MovementProgress:null,_TargetY:null,_MovementTicks:null,_BehaviorSplitValues:null,_event_Updated:function(t){this.wrapper.enabled&&(!this._InterruptAutoScroll&&""!=this._AutoScrollMode&&0!=vr.mapCount(this._AutoScrollPoints)&&this._CurrentPoint<this._BehaviorSplitValues.h[this._AutoScrollMode].length&&(this._GetPoint||("Loop"==this._BehaviorSplitValues.h[this._AutoScrollMode][0|this._CurrentPoint]?this._CurrentPoint=0:(this._GetPoint=!0,this._BehaviorSplitValues.h.CurrentPoint=(""+(""+g.string(this._AutoScrollPoints.h[this._AutoScrollMode])).split("|")[0|this._CurrentPoint]).split(","),this._customBlock_SlideCamera(Ke.asNumber(this._BehaviorSplitValues.h.CurrentPoint[0]),Ke.asNumber(this._BehaviorSplitValues.h.CurrentPoint[1]),Ke.asNumber(this._BehaviorSplitValues.h.CurrentPoint[3]),""+Ke.asNumber(this._BehaviorSplitValues.h.CurrentPoint[2])),this._WaitTicks=Ke.asNumber(this._BehaviorSplitValues.h.CurrentPoint[3])+Ke.asNumber(this._BehaviorSplitValues.h.CurrentPoint[4]))),0<this._WaitTicks&&(this._WaitTicks-=.01,0>=this._WaitTicks&&(this._WaitTicks=0,this._GetPoint=!1,this._CurrentPoint+=1,this._CurrentPoint>=this._BehaviorSplitValues.h[this._AutoScrollMode].length&&(this._CurrentPoint=0,this._AutoScrollMode="")))),this._Moving&&(Ke.engine.moveCamera(this._CameraX+(this._TargetX-this._CameraX)*this._MovementProgress/100,this._CameraY+(this._TargetY-this._CameraY)*this._MovementProgress/100),this._MovementTicks-=.01,0>=this._MovementTicks&&(this._MovementTicks=0,this._Moving=!1)))},_customEvent_StopSlide:function(){this._Moving=!1,this.abortTweenNumber("_MovementProgress")},_customEvent_PauseAutoScroll:function(){this._Moving=!1,this._InterruptAutoScroll=!0,this._GetPoint=!1},_customEvent_ResumeAutoScroll:function(){this._InterruptAutoScroll=!1},_customBlock_SlideCamera:function(t,e,i,s){var n=this;if(this._Moving=!0,this._CameraX=Ke.getScreenXCenter(),this._CameraY=Ke.getScreenYCenter(),this._TargetX=t,this._TargetY=e,this._MovementProgress=0,this._MovementTicks=i,"None"==s||""==s||null==s){var r=this.attributeTweens.h._MovementProgress;null==r&&((r=new fa).doOnUpdate(function(){n._MovementProgress=r.value}),this.attributeTweens.h._MovementProgress=r),r.tween(this._MovementProgress,100,da.linear,1e3*i|0)}if("Back In"==s){var a=this.attributeTweens.h._MovementProgress;null==a&&((a=new fa).doOnUpdate(function(){n._MovementProgress=a.value}),this.attributeTweens.h._MovementProgress=a),a.tween(this._MovementProgress,100,da.backIn,1e3*i|0)}if("Back In/Out"==s){var o=this.attributeTweens.h._MovementProgress;null==o&&((o=new fa).doOnUpdate(function(){n._MovementProgress=o.value}),this.attributeTweens.h._MovementProgress=o),o.tween(this._MovementProgress,100,da.backInOut,1e3*i|0)}if("Back Out"==s){var l=this.attributeTweens.h._MovementProgress;null==l&&((l=new fa).doOnUpdate(function(){n._MovementProgress=l.value}),this.attributeTweens.h._MovementProgress=l),l.tween(this._MovementProgress,100,da.backOut,1e3*i|0)}if("Bounce In"==s){var h=this.attributeTweens.h._MovementProgress;null==h&&((h=new fa).doOnUpdate(function(){n._MovementProgress=h.value}),this.attributeTweens.h._MovementProgress=h),h.tween(this._MovementProgress,100,da.elasticIn,1e3*i|0)}if("Bounce In/Out"==s){var _=this.attributeTweens.h._MovementProgress;null==_&&((_=new fa).doOnUpdate(function(){n._MovementProgress=_.value}),this.attributeTweens.h._MovementProgress=_),_.tween(this._MovementProgress,100,da.elasticInOut,1e3*i|0)}if("Bounce Out"==s){var c=this.attributeTweens.h._MovementProgress;null==c&&((c=new fa).doOnUpdate(function(){n._MovementProgress=c.value}),this.attributeTweens.h._MovementProgress=c),c.tween(this._MovementProgress,100,da.elasticOut,1e3*i|0)}if("Normal In"==s){var u=this.attributeTweens.h._MovementProgress;null==u&&((u=new fa).doOnUpdate(function(){n._MovementProgress=u.value}),this.attributeTweens.h._MovementProgress=u),u.tween(this._MovementProgress,100,da.quadIn,1e3*i|0)}if("Normal In/Out"==s){var d=this.attributeTweens.h._MovementProgress;null==d&&((d=new fa).doOnUpdate(function(){n._MovementProgress=d.value}),this.attributeTweens.h._MovementProgress=d),d.tween(this._MovementProgress,100,da.quadInOut,1e3*i|0)}if("Normal Out"==s){var m=this.attributeTweens.h._MovementProgress;null==m&&((m=new fa).doOnUpdate(function(){n._MovementProgress=m.value}),this.attributeTweens.h._MovementProgress=m),m.tween(this._MovementProgress,100,da.quadOut,1e3*i|0)}if("Strong In"==s){var p=this.attributeTweens.h._MovementProgress;null==p&&((p=new fa).doOnUpdate(function(){n._MovementProgress=p.value}),this.attributeTweens.h._MovementProgress=p),p.tween(this._MovementProgress,100,da.expoIn,1e3*i|0)}if("Strong In/Out"==s){var f=this.attributeTweens.h._MovementProgress;null==f&&((f=new fa).doOnUpdate(function(){n._MovementProgress=f.value}),this.attributeTweens.h._MovementProgress=f),f.tween(this._MovementProgress,100,da.expoInOut,1e3*i|0)}if("Strong Out"==s){var g=this.attributeTweens.h._MovementProgress;null==g&&((g=new fa).doOnUpdate(function(){n._MovementProgress=g.value}),this.attributeTweens.h._MovementProgress=g),g.tween(this._MovementProgress,100,da.expoOut,1e3*i|0)}},_customBlock_SetAutoScroll:function(t){this._AutoScrollMode=t,this._CurrentPoint=0,this._InterruptAutoScroll=this._GetPoint=!1},init:function(){this._BehaviorSplitValues=new pr;for(var t=Object.keys(this._AutoScrollPoints.h),e=t.length,i=0;i<e;){var s=t[i++];this._BehaviorSplitValues.h[""+s]=(""+g.string(this._AutoScrollPoints.h[""+s])).split("|")}this.addListener(Ke.engine.whenUpdated,n(this,this._event_Updated))},forwardMessage:function(t){},__class__:By});var Dy=function(t,e,i){Je.call(this,e),this.nameMap.h.Actor="actor",this.nameMap.h["Stored Triggers"]="_StoredTriggers",this.nameMap.h["Target Actor"]="_TargetActor",this.nameMap.h["Behavior Split Values"]="_BehaviorSplitValues"};r["scripts.Design_311_311_CompatibilityBlocksSpecialEffects"]=Dy,Dy.__name__="scripts.Design_311_311_CompatibilityBlocksSpecialEffects",Dy.__super__=Je,Dy.prototype=i(Je.prototype,{_StoredTriggers:null,_TargetActor:null,_BehaviorSplitValues:null,init:function(){},forwardMessage:function(t){},__class__:Dy});var Ly=function(t,e,i){Je.call(this,e),this.nameMap.h.Actor="actor",this.nameMap.h["Always Active"]="_AlwaysActive",this._AlwaysActive=!0,this.nameMap.h["Light Actor Type Image"]="_LightActorTypeImage",this.nameMap.h["Blend Mode"]="_BlendMode",this._BlendMode="",this.nameMap.h["Fade Out"]="_FadeOut",this._FadeOut=!1,this.nameMap.h["Behavior Split Values"]="_BehaviorSplitValues",this.nameMap.h["Light Text"]="_LightText",this._LightText="",this.nameMap.h["Image Mode"]="_ImageMode",this._ImageMode="",this.nameMap.h.Activate="_Activate",this._Activate=!0,this.nameMap.h["Used Light Image"]="_UsedLightImage",this._UsedLightImage="",this.nameMap.h["Used Width"]="_UsedWidth",this._UsedWidth=0,this.nameMap.h["Used Height"]="_UsedHeight",this._UsedHeight=0,this.nameMap.h["Fade Mode"]="_FadeMode",this._FadeMode="",this.nameMap.h["Hide Actor"]="_HideActor",this._HideActor=!1,this.nameMap.h["Auto Erase Time"]="_AutoEraseTime",this._AutoEraseTime=0,this.nameMap.h["Light X and Y Offsets"]="_LightXandYOffsets",this._LightXandYOffsets="0,0",this.nameMap.h["Light Dimensions"]="_LightDimensions",this._LightDimensions="0,0",this.nameMap.h["Fade Times"]="_FadeTimes",this._FadeTimes="0,0",this.nameMap.h["Tint Index"]="_TintIndex",this._TintIndex="-",this.nameMap.h["Light Sources"]="_LightSources",this.nameMap.h["Created Light Sources"]="_CreatedLightSources",this.nameMap.h["Kill on Erase"]="_KillonErase",this._KillonErase=!1,this.nameMap.h.Initialize="_Initialize",this._Initialize=!1};r["scripts.Design_312_312_LightSource"]=Ly,Ly.__name__="scripts.Design_312_312_LightSource",Ly.__super__=Je,Ly.prototype=i(Je.prototype,{_AlwaysActive:null,_LightActorTypeImage:null,_BlendMode:null,_FadeOut:null,_BehaviorSplitValues:null,_LightText:null,_ImageMode:null,_Activate:null,_UsedLightImage:null,_UsedWidth:null,_UsedHeight:null,_FadeMode:null,_HideActor:null,_AutoEraseTime:null,_LightXandYOffsets:null,_LightDimensions:null,_FadeTimes:null,_TintIndex:null,_LightSources:null,_CreatedLightSources:null,_KillonErase:null,_Initialize:null,_event_Updated:function(t){var e=this;if(this.wrapper.enabled){this._Initialize||(this._Initialize=!0,this._Activate&&(this._customEvent_CreateLight(),0<this._AutoEraseTime&&Ke.runLater(1e3*this._AutoEraseTime,function(t){e._customEvent_EraseLight()},this.actor))),"No Image"!=this._ImageMode&&(Ke.sayToScene("Tint Screen","_customBlock_MoveMaskSource",[""+g.string(this.actor)+this._TintIndex,this.actor.getXCenter()+Ke.asNumber(this._BehaviorSplitValues.h.LightOffsets[0])-this._UsedWidth/2,this.actor.getYCenter()+Ke.asNumber(this._BehaviorSplitValues.h.LightOffsets[1])-this._UsedHeight/2]),(0<=this._FadeMode.indexOf("In")||0<=this._FadeMode.indexOf("Out"))&&Ke.sayToScene("Tint Screen","_customBlock_ResizeMaskSource",[""+g.string(this.actor)+this._TintIndex,this._UsedWidth,this._UsedHeight])),t=0;for(var i=vo.__cast(this._CreatedLightSources,Array);t<i.length;){var s=i[t];++t,s.isAlive()?(s.setXCenter(this.actor.getXCenter()),s.setYCenter(this.actor.getYCenter())):c.remove(this._CreatedLightSources,s)}}},_event_ActorKilled:function(){if(this.wrapper.enabled){"No Image"!=this._ImageMode&&Ke.sayToScene("Tint Screen","_customBlock_RemoveMaskSource",[""+g.string(this.actor)+this._TintIndex]);for(var t=0,e=vo.__cast(this._CreatedLightSources,Array);t<e.length;){var i=e[t];++t,i.say("Light Source","_customEvent_EraseLight")}}},_customEvent_CreateLight:function(){var t=this;if("No Image"!=this._ImageMode)if(this._UsedLightImage="Actor"==this._ImageMode?""+g.string(this._LightActorTypeImage):this._LightText,Ke.sceneHasBehavior("Tint Screen")&&(Ke.setValueForScene("Tint Screen","_LightAnimation",this._LightText),Ke.sayToScene("Tint Screen","_customBlock_CreateMaskSource",[""+g.string(this.actor)+this._TintIndex,this._ImageMode,this._UsedLightImage,this.actor.getXCenter()+Ke.asNumber(this._BehaviorSplitValues.h.LightOffsets[0])-this._UsedWidth/2,this.actor.getYCenter()+Ke.asNumber(this._BehaviorSplitValues.h.LightOffsets[1])-this._UsedHeight/2,this._UsedWidth,this._UsedHeight,this._TintIndex,this._BlendMode])),0<=this._FadeMode.indexOf("In")){var e=this.attributeTweens.h._UsedWidth;null==e&&((e=new fa).doOnUpdate(function(){t._UsedWidth=e.value}),this.attributeTweens.h._UsedWidth=e),e.tween(this._UsedWidth,Ke.asNumber(this._BehaviorSplitValues.h.LightDimensions[0]),da.linear,1e3*Ke.asNumber(this._BehaviorSplitValues.h.FadeTimes[0])|0);var i=this.attributeTweens.h._UsedHeight;null==i&&((i=new fa).doOnUpdate(function(){t._UsedHeight=i.value}),this.attributeTweens.h._UsedHeight=i),i.tween(this._UsedHeight,Ke.asNumber(this._BehaviorSplitValues.h.LightDimensions[1]),da.linear,1e3*Ke.asNumber(this._BehaviorSplitValues.h.FadeTimes[0])|0)}else this._UsedWidth=Ke.asNumber(this._BehaviorSplitValues.h.LightDimensions[0]),this._UsedHeight=Ke.asNumber(this._BehaviorSplitValues.h.LightDimensions[1]),Ke.sayToScene("Tint Screen","_customBlock_ResizeMaskSource",[""+g.string(this.actor)+this._TintIndex,this._UsedWidth,this._UsedHeight]),Ke.sayToScene("Tint Screen","_customBlock_MoveMaskSource",[""+g.string(this.actor)+this._TintIndex,this.actor.getXCenter()+Ke.asNumber(this._BehaviorSplitValues.h.LightOffsets[0])-this._UsedWidth/2,this.actor.getYCenter()+Ke.asNumber(this._BehaviorSplitValues.h.LightOffsets[1])-this._UsedHeight/2]);for(var s=0,n=vo.__cast(this._LightSources,Array);s<n.length;){var r=n[s];++s,Ke.createRecycledActorOnLayer(Ke.getActorTypeByName(""+g.string(this._BehaviorSplitValues.h[""+g.string(r)][0])),this.actor.getXCenter(),this.actor.getYCenter(),Ke.engine.getLayerById(this.actor.getLayerID())),this._CreatedLightSources.push(Ke.getLastCreatedActor()),Ke.getLastCreatedActor().setValue("Light Source","_LightText",""+g.string(this._BehaviorSplitValues.h[""+g.string(r)][1])),Ke.getLastCreatedActor().setValue("Light Source","_LightXandYOffsets",""+g.string(this._BehaviorSplitValues.h[""+g.string(r)][2])),Ke.getLastCreatedActor().setValue("Light Source","_LightDimensions",""+g.string(this._BehaviorSplitValues.h[""+g.string(r)][3])),Ke.getLastCreatedActor().setValue("Light Source","_TintIndex",""+g.string(this._BehaviorSplitValues.h[""+g.string(r)][4])),Ke.getLastCreatedActor().setValue("Light Source","_FadeMode",""+g.string(this._BehaviorSplitValues.h[""+g.string(r)][5])),Ke.getLastCreatedActor().setValue("Light Source","_FadeTimes",""+g.string(this._BehaviorSplitValues.h[""+g.string(r)][6])),Ke.getLastCreatedActor().setValue("Light Source","_BlendMode",""+g.string(this._BehaviorSplitValues.h[""+g.string(r)][7]))}},_customEvent_EraseLight:function(){var t=this;if(!this._FadeOut){if(this._FadeOut=!0,"No Image"!=this._ImageMode)if(0<=this._FadeMode.indexOf("Out")){var e=this.attributeTweens.h._UsedWidth;null==e&&((e=new fa).doOnUpdate(function(){t._UsedWidth=e.value}),this.attributeTweens.h._UsedWidth=e),e.tween(this._UsedWidth,1,da.linear,1e3*Ke.asNumber(this._BehaviorSplitValues.h.FadeTimes[1])|0);var i=this.attributeTweens.h._UsedHeight;null==i&&((i=new fa).doOnUpdate(function(){t._UsedHeight=i.value}),this.attributeTweens.h._UsedHeight=i),i.tween(this._UsedHeight,1,da.linear,1e3*Ke.asNumber(this._BehaviorSplitValues.h.FadeTimes[1])|0),Ke.runLater(1e3*Ke.asNumber(this._BehaviorSplitValues.h.FadeTimes[1]),function(e){t._FadeOut=!1,Ke.sayToScene("Tint Screen","_customBlock_RemoveMaskSource",[""+g.string(t.actor)+t._TintIndex])},this.actor)}else this._UsedHeight=this._UsedWidth=1,this._FadeOut=!1,Ke.sayToScene("Tint Screen","_customBlock_RemoveMaskSource",[""+g.string(this.actor)+this._TintIndex]);else this._FadeOut=!1;for(var s=0,n=vo.__cast(this._CreatedLightSources,Array);s<n.length;){var r=n[s];++s,r.say("Light Source","_customEvent_EraseLight")}}},init:function(){this._BehaviorSplitValues=new pr,this._BehaviorSplitValues.h.LightDimensions=this._LightDimensions.split(","),this._BehaviorSplitValues.h.LightOffsets=this._LightXandYOffsets.split(","),this._BehaviorSplitValues.h.FadeTimes=this._FadeTimes.split(",");for(var t=0,e=vo.__cast(this._LightSources,Array);t<e.length;){var i=e[t];++t,this._BehaviorSplitValues.h[""+g.string(i)]=(""+g.string(i)).split("/")}this._CreatedLightSources=[],this._AlwaysActive&&this.actor.makeAlwaysSimulate(),this._HideActor&&this.actor.disableActorDrawing(),0>this._FadeMode.indexOf("In")?(this._UsedHeight=Ke.asNumber(this._LightDimensions.split(",")[1]),this._UsedWidth=Ke.asNumber(this._LightDimensions.split(",")[0])):this._UsedHeight=this._UsedWidth=1,this.addListener(this.actor.whenUpdated,n(this,this._event_Updated)),this.addListener(this.actor.whenKilled,n(this,this._event_ActorKilled))},forwardMessage:function(t){},__class__:Ly});var Ny=function(t,e,i){Je.call(this,e),this.nameMap.h.Actor="actor",this.nameMap.h["Hide Actor"]="_HideActor",this._HideActor=!1,this.nameMap.h.Particles="_Particles",this._Particles=["Actor Type,Animation,Self;Actor Type,Animation,0/0.2,0.2/1,1,0/Random/2,19,16,16/To Angle/270,270/5,15/0,0"],this.nameMap.h.Activate="_Activate",this._Activate=!0,this.nameMap.h["Active Particles"]="_ActiveParticles",this._ActiveParticles="0",this.nameMap.h["Particles On"]="_ParticlesOn",this.nameMap.h["Particle Presets"]="_ParticlePresets",(t=new pr).h.Sample="0",this._ParticlePresets=t,this.nameMap.h["Particle Force"]="_ParticleForce",this._ParticleForce=0,this.nameMap.h["Perimeter Angle"]="_PerimeterAngle",this._PerimeterAngle=0,this.nameMap.h["Used Layer ID"]="_UsedLayerID",this._UsedLayerID=0,this.nameMap.h["Particle Type"]="_ParticleType",this.nameMap.h["Particle Ticks Map"]="_ParticleTicksMap",this.nameMap.h["Particles Count Map"]="_ParticlesCountMap",this.nameMap.h["Used Index"]="_UsedIndex",this._UsedIndex="",this.nameMap.h["Behavior Split Values"]="_BehaviorSplitValues"};r["scripts.Design_313_313_Particles"]=Ny,Ny.__name__="scripts.Design_313_313_Particles",Ny.__super__=Je,Ny.prototype=i(Je.prototype,{_HideActor:null,_Particles:null,_Activate:null,_ActiveParticles:null,_ParticlesOn:null,_ParticlePresets:null,_ParticleForce:null,_PerimeterAngle:null,_UsedLayerID:null,_ParticleType:null,_ParticleTicksMap:null,_ParticlesCountMap:null,_UsedIndex:null,_BehaviorSplitValues:null,_event_Updated:function(t){if(this.wrapper.enabled&&this._Activate){t=0;for(var e=vo.__cast(this._Particles,Array);t<e.length;){var i=e[t];if(++t,vr.contains(this._ParticlesOn,""+this._Particles.indexOf(i))){if(Object.prototype.hasOwnProperty.call(this._ParticleTicksMap.h,""+g.string(i))){var s=this._ParticleTicksMap,n=""+g.string(i),r=Ke.asNumber(this._ParticleTicksMap.h[""+g.string(i)])-.01;s.h[n]=r}if(0>=Ke.asNumber(this._ParticleTicksMap.h[""+g.string(i)])){if(0==Ke.asNumber(this._BehaviorSplitValues.h["Amount"+g.string(i)][2])||Ke.asNumber(this._ParticlesCountMap.h[""+g.string(i)])<Ke.asNumber(this._BehaviorSplitValues.h["Amount"+g.string(i)][2]))for(s=this._ParticleTicksMap,n=""+g.string(i),r=Ke.randomFloatBetween(Ke.asNumber(this._BehaviorSplitValues.h["Interval"+g.string(i)][0]),Ke.asNumber(this._BehaviorSplitValues.h["Interval"+g.string(i)][1])),s.h[n]=r,this._UsedIndex=""+g.string(i),s=0,n=Ke.randomInt(0|Ke.asNumber(this._BehaviorSplitValues.h["Amount"+g.string(i)][0]),0|Ke.asNumber(this._BehaviorSplitValues.h["Amount"+g.string(i)][1]));s<n&&(s++,this._customEvent_CreateParticle(),!(0!=Ke.asNumber(this._BehaviorSplitValues.h["Amount"+g.string(i)][2])&&Ke.asNumber(this._ParticlesCountMap.h[""+g.string(i)])>=Ke.asNumber(this._BehaviorSplitValues.h["Amount"+g.string(i)][2]))););0!=Ke.asNumber(this._BehaviorSplitValues.h["Amount"+g.string(i)][2])&&Ke.asNumber(this._ParticlesCountMap.h[""+g.string(i)])>=Ke.asNumber(this._BehaviorSplitValues.h["Amount"+g.string(i)][2])&&(c.remove(this._ParticlesOn,""+this._Particles.indexOf(i)),this._ParticleTicksMap.h[""+g.string(i)]=0,this._ParticlesCountMap.h[""+g.string(i)]=0)}}}}},_customEvent_CreateParticle:function(){var t=this._BehaviorSplitValues,e=(""+g.string(this._BehaviorSplitValues.h["ParticleType"+this._UsedIndex][Ke.randomInt(0,this._BehaviorSplitValues.h["ParticleType"+this._UsedIndex].length-1)])).split(",");if(t.h.CurrentType=e,this._ParticleType=Ke.getActorTypeByName(""+g.string(this._BehaviorSplitValues.h.CurrentType[0])),Ke.hasValue(this._ParticleType)&&(this._UsedLayerID="Self"==this._BehaviorSplitValues.h.CurrentType[2]?this.actor.getLayerID():Ke.asNumber(this._BehaviorSplitValues.h.CurrentType[2]),"Random"==this._BehaviorSplitValues.h["UsedIndex"+this._UsedIndex][3]&&(Ke.createRecycledActorOnLayer(this._ParticleType,this.actor.getX(),this.actor.getY(),Ke.engine.getLayerById(0|this._UsedLayerID)),Ke.getLastCreatedActor().setAnimation(""+g.string(this._BehaviorSplitValues.h.CurrentType[1])),Ke.getLastCreatedActor().setX(this.actor.getX()+Ke.randomInt(0|Ke.asNumber(this._BehaviorSplitValues.h["ParticlePosition"+this._UsedIndex][0]),0|Ke.asNumber(this._BehaviorSplitValues.h["ParticlePosition"+this._UsedIndex][1]))),Ke.getLastCreatedActor().setY(this.actor.getY()+Ke.randomInt(0|Ke.asNumber(this._BehaviorSplitValues.h["ParticlePosition"+this._UsedIndex][2]),0|Ke.asNumber(this._BehaviorSplitValues.h["ParticlePosition"+this._UsedIndex][3])))),"Perimeter"==this._BehaviorSplitValues.h["UsedIndex"+this._UsedIndex][3]&&(this._PerimeterAngle=Ke.randomInt(0|Ke.asNumber(this._BehaviorSplitValues.h["ParticlePosition"+this._UsedIndex][3]),0|Ke.asNumber(this._BehaviorSplitValues.h["ParticlePosition"+this._UsedIndex][4])),Ke.createRecycledActorOnLayer(this._ParticleType,this.actor.getX(),this.actor.getY(),Ke.engine.getLayerById(0|this._UsedLayerID)),Ke.getLastCreatedActor().setAnimation(""+g.string(this._BehaviorSplitValues.h.CurrentType[1])),Ke.getLastCreatedActor().setX(this.actor.getX()+Ke.asNumber(this._BehaviorSplitValues.h["ParticlePosition"+this._UsedIndex][0])+Ke.asNumber(this._BehaviorSplitValues.h["ParticlePosition"+this._UsedIndex][2])*Math.cos(.01745329251994278*this._PerimeterAngle)-Ke.getLastCreatedActor().getWidth()/2),Ke.getLastCreatedActor().setY(this.actor.getY()+Ke.asNumber(this._BehaviorSplitValues.h["ParticlePosition"+this._UsedIndex][1])+Ke.asNumber(this._BehaviorSplitValues.h["ParticlePosition"+this._UsedIndex][2])*Math.sin(.01745329251994278*this._PerimeterAngle)-Ke.getLastCreatedActor().getHeight()/2)),this._ParticleForce=Ke.randomInt(0|Ke.asNumber(this._BehaviorSplitValues.h["ParticlesForce"+this._UsedIndex][0]),0|Ke.asNumber(this._BehaviorSplitValues.h["ParticlesForce"+this._UsedIndex][1])),"To Angle"==this._BehaviorSplitValues.h["MovementType"+this._UsedIndex]&&Ke.getLastCreatedActor().applyImpulseInDirection(Ke.asNumber(Ke.randomInt(0|Ke.asNumber(this._BehaviorSplitValues.h["MovementSettings"+this._UsedIndex][0]),0|Ke.asNumber(this._BehaviorSplitValues.h["MovementSettings"+this._UsedIndex][1]))),this._ParticleForce),"Expand"==this._BehaviorSplitValues.h["MovementType"+this._UsedIndex]&&Ke.getLastCreatedActor().applyImpulseInDirection(Ke.asNumber(57.29577951308402*Math.atan2(Ke.getLastCreatedActor().getYCenter()-this.actor.getYCenter(),Ke.getLastCreatedActor().getXCenter()-this.actor.getXCenter())),this._ParticleForce),"To Center"==this._BehaviorSplitValues.h["MovementType"+this._UsedIndex]&&Ke.getLastCreatedActor().applyImpulseInDirection(Ke.asNumber(57.29577951308402*Math.atan2(this.actor.getYCenter()-Ke.getLastCreatedActor().getYCenter(),this.actor.getXCenter()-Ke.getLastCreatedActor().getXCenter())),this._ParticleForce),"Expand from Point"==this._BehaviorSplitValues.h["MovementType"+this._UsedIndex]&&Ke.getLastCreatedActor().applyImpulseInDirection(Ke.asNumber(57.29577951308402*Math.atan2(Ke.getLastCreatedActor().getYCenter()-(this.actor.getY()+Ke.asNumber(this._BehaviorSplitValues.h["MovementSettings"+this._UsedIndex][1])),Ke.getLastCreatedActor().getXCenter()-(this.actor.getX()+Ke.asNumber(this._BehaviorSplitValues.h["MovementSettings"+this._UsedIndex][0])))),this._ParticleForce),"To Point"==this._BehaviorSplitValues.h["MovementType"+this._UsedIndex]&&Ke.getLastCreatedActor().applyImpulseInDirection(Ke.asNumber(57.29577951308402*Math.atan2(this.actor.getY()+Ke.asNumber(this._BehaviorSplitValues.h["MovementSettings"+this._UsedIndex][1])-Ke.getLastCreatedActor().getYCenter(),this.actor.getX()+Ke.asNumber(this._BehaviorSplitValues.h["MovementSettings"+this._UsedIndex][0])-Ke.getLastCreatedActor().getXCenter())),this._ParticleForce),"0,0"!=this._BehaviorSplitValues.h["UsedIndex"+this._UsedIndex][8]&&Ke.getLastCreatedActor().setAngle(.01745329251994278*Ke.randomFloatBetween(Ke.asNumber(this._BehaviorSplitValues.h["FacingAngle"+this._UsedIndex][0]),Ke.asNumber(this._BehaviorSplitValues.h["FacingAngle"+this._UsedIndex][1]))),"0,0"!=this._BehaviorSplitValues.h["UsedIndex"+this._UsedIndex][9]&&Ke.getLastCreatedActor().setAngularVelocity(.01745329251994278*Ke.randomFloatBetween(Ke.asNumber(this._BehaviorSplitValues.h["TurningSpeed"+this._UsedIndex][0]),Ke.asNumber(this._BehaviorSplitValues.h["TurningSpeed"+this._UsedIndex][1]))),0!=Ke.asNumber(this._BehaviorSplitValues.h["Amount"+this._UsedIndex][2]))){t=this._ParticlesCountMap;var i=this._UsedIndex;e=Ke.asNumber(this._ParticlesCountMap.h[this._UsedIndex])+1,t.h[i]=e}},_customEvent_StartEmitting:function(){this._Activate=!0},_customEvent_StopEmitting:function(){this._Activate=!1;for(var t=0,e=vo.__cast(this._Particles,Array);t<e.length;){var i=e[t];++t,this._ParticleTicksMap.h[""+g.string(i)]=0,this._ParticlesCountMap.h[""+g.string(i)]=0}},_customEvent_ClearParticles:function(){this._ParticlesOn.length=0,this._customEvent_StopEmitting()},_customBlock_SetParticleIndex:function(t,e){e?vr.contains(this._ParticlesOn,t)||this._ParticlesOn.push(t):(c.remove(this._ParticlesOn,t),this._ParticleTicksMap.h[""+g.string(this._Particles[0|t])]=0,this._ParticlesCountMap.h[""+g.string(this._Particles[0|t])]=0),0==this._ParticlesOn.length?this._customEvent_StopEmitting():this._customEvent_StartEmitting()},_customBlock_SetParticlePreset:function(t,e){if(Object.prototype.hasOwnProperty.call(this._ParticlePresets.h,t)){var i=0;for(t=vo.__cast((""+g.string(this._ParticlePresets.h[t])).split(" "),Array);i<t.length;){var s=t[i];if(++i,e)vr.contains(this._ParticlesOn,s)||this._ParticlesOn.push(s);else if(vr.contains(this._ParticlesOn,s)){c.remove(this._ParticlesOn,s);var n=this._ParticleTicksMap,r=""+g.string(this._Particles[0|Ke.asNumber(s)]);n.h[r]=0,n=this._ParticlesCountMap,s=""+g.string(this._Particles[0|Ke.asNumber(s)]),n.h[s]=0}}0==this._ParticlesOn.length?this._customEvent_StopEmitting():this._customEvent_StartEmitting()}},init:function(){this._BehaviorSplitValues=new pr;for(var t=0,e=vo.__cast(this._Particles,Array);t<e.length;){var i=e[t];++t,this._BehaviorSplitValues.h["UsedIndex"+g.string(i)]=(""+g.string(i)).split("/"),this._BehaviorSplitValues.h["Interval"+g.string(i)]=(""+g.string(this._BehaviorSplitValues.h["UsedIndex"+g.string(i)][1])).split(","),this._BehaviorSplitValues.h["Amount"+g.string(i)]=(""+g.string(this._BehaviorSplitValues.h["UsedIndex"+g.string(i)][2])).split(","),this._BehaviorSplitValues.h["ParticleType"+g.string(i)]=(""+g.string(this._BehaviorSplitValues.h["UsedIndex"+g.string(i)][0])).split(";"),this._BehaviorSplitValues.h["ParticlePosition"+g.string(i)]=(""+g.string(this._BehaviorSplitValues.h["UsedIndex"+g.string(i)][4])).split(","),this._BehaviorSplitValues.h["ParticlesForce"+g.string(i)]=(""+g.string(this._BehaviorSplitValues.h["UsedIndex"+g.string(i)][7])).split(","),this._BehaviorSplitValues.h["MovementType"+g.string(i)]=this._BehaviorSplitValues.h["UsedIndex"+g.string(i)][5],this._BehaviorSplitValues.h["MovementSettings"+g.string(i)]=(""+g.string(this._BehaviorSplitValues.h["UsedIndex"+g.string(i)][6])).split(","),this._BehaviorSplitValues.h["FacingAngle"+g.string(i)]=(""+g.string(this._BehaviorSplitValues.h["UsedIndex"+g.string(i)][8])).split(","),this._BehaviorSplitValues.h["TurningSpeed"+g.string(i)]=(""+g.string(this._BehaviorSplitValues.h["UsedIndex"+g.string(i)][9])).split(","),this._BehaviorSplitValues.h["SpecialMovement"+g.string(i)]=(""+g.string(this._BehaviorSplitValues.h["UsedIndex"+g.string(i)][10])).split(",")}for(this._HideActor&&this.actor.disableActorDrawing(),this._ParticlesOn=[],""!=this._ActiveParticles&&(this._ParticlesOn=this._ActiveParticles.split(" ").slice()),this._ParticleTicksMap=new pr,this._ParticlesCountMap=new pr,t=0,e=vo.__cast(this._Particles,Array);t<e.length;)i=e[t],++t,this._ParticleTicksMap.h[""+g.string(i)]=0,this._ParticlesCountMap.h[""+g.string(i)]=0;this.addListener(this.actor.whenUpdated,n(this,this._event_Updated))},forwardMessage:function(t){},__class__:Ny});var Oy=function(t,e,i){Je.call(this,e),this.nameMap.h.Actor="actor",this.nameMap.h["Dummy Map"]="_DummyMap",this.nameMap.h["Values to Save"]="_ValuestoSave",(t=new pr).h.Layer="[Layer]",t.h.Speed="[Speed]",t.h.Facing="Facing,[Value]",t.h.ColorMode="_CurrentColorMode,Color Swap",t.h.ColorSwapEffects="_EffectsList,Color Swap",t.h.Aura="_Activate,Actor Aura",t.h.ActiveAuras="_AurasOn,Actor Aura",t.h.AuraValues="_AuraValues,Actor Aura",t.h.AfterImage="_Activate,After Image",t.h.ActiveAfterImages="_AfterImagesOn,After Image",t.h.AfterImageLimit="_AfterImageLimit,After Image",t.h.Particles="_Activate,Particles",t.h.ActiveParticles="_ParticlesOn,Particles",t.h.Health="_CurrentHealth,Health",t.h.DisplayHealth="_DisplayCurrentHealth,Health",t.h.MaxHealth="_MaxHealth,Health",t.h.Energy="_CurrentEnergyMap,Energy",t.h.DisplayEnergy="_DisplayCurrentEnergyMap,Energy",t.h.MaxEnergy="_MaxEnergyMap,Energy",t.h.Charging="_IsCharging,Charge",t.h.ChargeLevels="_ChargeLevels,Charge",t.h.CurrentChargeType="_CurrentChargeType,Charge",t.h.CurrentChargeLevel="_CurrentChargeLevel,Charge",t.h.ChargeProgress="_ChargeTicks,Charge",t.h.EnergyRechargeCooldown="_RechargeCoolDownMap,Energy Recharge",t.h.EnergyRechargeTicks="_RechargeTicks,Energy Recharge",t.h.ExtraLives="_ExtraLives,Die When 0 Health",t.h.MaxLives="_MaximumExtraLives,Die When 0 Health",t.h.ExtraLivesDisplay="_ExtraLivesDisplay,Die When 0 Health",this._ValuestoSave=t,this.nameMap.h["Behavior Split Values"]="_BehaviorSplitValues",this.nameMap.h.Initialized="_Initialized",this._Initialized=!1,this.nameMap.h["Transition Save"]="_TransitionSave",this._TransitionSave=!1,this.nameMap.h.Loaded="_Loaded",this._Loaded=!1,this.nameMap.h["Scene Save"]="_SceneSave",this._SceneSave=!1,this.nameMap.h["Save Status Global Value Name"]="_SaveStatusGlobalValueName",this._SaveStatusGlobalValueName="SaveStatus",this.nameMap.h["Save Key"]="_SaveKey",this._SaveKey="0"};r["scripts.Design_314_314_SaveStatus"]=Oy,Oy.__name__="scripts.Design_314_314_SaveStatus",Oy.__super__=Je,Oy.prototype=i(Je.prototype,{_DummyMap:null,_ValuestoSave:null,_BehaviorSplitValues:null,_Initialized:null,_TransitionSave:null,_Loaded:null,_SceneSave:null,_SaveStatusGlobalValueName:null,_SaveKey:null,_event_ActorCreated:function(){this.wrapper.enabled&&this._SceneSave&&Ke.sayToScene("Save Actors","_customBlock_EraseActor",[this.actor])},_event_Updated:function(t){var e=this;this.wrapper.enabled&&(this._Initialized||(this._Initialized=!0,Ke.runLater(10,function(t){e.actor.isAlive()&&(t=Ke.getGameAttribute(e._SaveStatusGlobalValueName),Object.prototype.hasOwnProperty.call(t.h,e._SaveKey)&&e._customEvent_Load(),e._Loaded=!0)},this.actor)),this._Loaded&&(Ke.isTransitioning()?this._TransitionSave||(this._TransitionSave=!0,this._customEvent_Save()):this._TransitionSave=!1))},_customEvent_Save:function(){if(this._SceneSave)Ke.sayToScene("Save Actors","_customBlock_SaveActor",[this.actor,this._ValuestoSave]);else{for(var t=this._DummyMap.h,e=Object.keys(t),i=e.length,s=0;s<i;){t=e[s++];var n=this._DummyMap;Object.prototype.hasOwnProperty.call(n.h,t)&&delete n.h[t]}for(t=this._ValuestoSave.h,e=(t=Object.keys(t)).length,i=0;i<e;)if(s=t[i++],"[Position]"==this._ValuestoSave.h[""+s]){n=this._DummyMap;var r=this.actor.getX()+","+this.actor.getY();n.h[""+s]=r}else"[Layer]"==this._ValuestoSave.h[""+s]?(n=this._DummyMap,r=this.actor.getLayerID(),n.h[""+s]=r):"[Speed]"==this._ValuestoSave.h[""+s]?(n=this._DummyMap,r=this.actor.getXVelocity()+","+this.actor.getYVelocity(),n.h[""+s]=r):(this.actor.hasBehavior(this._BehaviorSplitValues.h[""+s][1])||"[Value]"==this._BehaviorSplitValues.h[""+s][1]&&null!=this.actor.getActorValue(""+g.string(this._BehaviorSplitValues.h[""+s][0])))&&("[Value]"==this._BehaviorSplitValues.h[""+s][1]?(n=this._DummyMap,r=this.actor.getActorValue(""+g.string(this._BehaviorSplitValues.h[""+s][0])),n.h[""+s]=r):(n=this._DummyMap,r=this.actor.getValue(this._BehaviorSplitValues.h[""+s][1],this._BehaviorSplitValues.h[""+s][0]),n.h[""+s]=r));null==Ke.getGameAttribute(this._SaveStatusGlobalValueName)&&Ke.setGameAttribute(this._SaveStatusGlobalValueName,new pr),n=Ke.getGameAttribute(this._SaveStatusGlobalValueName),t=this._SaveKey,r=vr.copyMap(this._DummyMap),n.h[t]=r}},_customEvent_Load:function(){var t=Ke.getGameAttribute(this._SaveStatusGlobalValueName);if(Object.prototype.hasOwnProperty.call(t.h,this._SaveKey)){this._Loaded=this._Initialized=!0;for(var e=Object.keys(this._ValuestoSave.h),i=e.length,s=0;s<i;){var n=e[s++];"[Position]"==this._ValuestoSave.h[""+n]?(this.actor.setX(Ke.asNumber((""+g.string(Ke.getGameAttribute(this._SaveStatusGlobalValueName).h[this._SaveKey].h[""+n])).split(",")[0])),this.actor.setY(Ke.asNumber((""+g.string(Ke.getGameAttribute(this._SaveStatusGlobalValueName).h[this._SaveKey].h[""+n])).split(",")[1])),this.actor.hasBehavior("Player Control")&&this.actor.setValue("Player Control","_OldXPosition",this.actor.getX())):"[Layer]"==this._ValuestoSave.h[""+n]?this.actor.moveToLayer(Ke.engine.getLayerById(0|Ke.asNumber(Ke.getGameAttribute(this._SaveStatusGlobalValueName).h[this._SaveKey].h[""+n]))):"[Speed]"==this._ValuestoSave.h[""+n]?(this.actor.setXVelocity(Ke.asNumber((""+g.string(Ke.getGameAttribute(this._SaveStatusGlobalValueName).h[this._SaveKey].h[""+n])).split(",")[0])),this.actor.setYVelocity(Ke.asNumber((""+g.string(Ke.getGameAttribute(this._SaveStatusGlobalValueName).h[this._SaveKey].h[""+n])).split(",")[1]))):(this.actor.hasBehavior(""+g.string(this._BehaviorSplitValues.h[""+n][1]))||"[Value]"==this._BehaviorSplitValues.h[""+n][1]?(t=Ke.getGameAttribute(this._SaveStatusGlobalValueName),t=Object.prototype.hasOwnProperty.call(t.h[this._SaveKey].h,""+n)):t=!1,t&&("[Value]"==this._BehaviorSplitValues.h[""+n][1]?this.actor.setActorValue(""+g.string(this._BehaviorSplitValues.h[""+n][0]),Ke.getGameAttribute(this._SaveStatusGlobalValueName).h[this._SaveKey].h[""+n]):this.actor.setValue(this._BehaviorSplitValues.h[""+n][1],this._BehaviorSplitValues.h[""+n][0],Ke.getGameAttribute(this._SaveStatusGlobalValueName).h[this._SaveKey].h[""+n])))}}},_customEvent_ClearSelf:function(){var t=Ke.getGameAttribute(this._SaveStatusGlobalValueName),e=this._SaveKey;Object.prototype.hasOwnProperty.call(t.h,e)&&delete t.h[e]},_customEvent_StoreData:function(){for(var t=this._DummyMap.h,e=(t=Object.keys(t)).length,i=0;i<e;){var s=t[i++],n=this._DummyMap;Object.prototype.hasOwnProperty.call(n.h,s)&&delete n.h[s]}for(t=this._ValuestoSave.h,e=(t=Object.keys(t)).length,i=0;i<e;)if(s=t[i++],"[Position]"==this._ValuestoSave.h[""+s]){n=this._DummyMap;var r=this.actor.getX()+","+this.actor.getY();n.h[""+s]=r}else"[Layer]"==this._ValuestoSave.h[""+s]?(n=this._DummyMap,r=this.actor.getLayerID(),n.h[""+s]=r):"[Speed]"==this._ValuestoSave.h[""+s]?(n=this._DummyMap,r=this.actor.getXVelocity()+","+this.actor.getYVelocity(),n.h[""+s]=r):(this.actor.hasBehavior(this._BehaviorSplitValues.h[""+s][1])||"[Value]"==this._BehaviorSplitValues.h[""+s][1]&&null!=this.actor.getActorValue(""+g.string(this._BehaviorSplitValues.h[""+s][0])))&&("[Value]"==this._BehaviorSplitValues.h[""+s][1]?(n=this._DummyMap,r=this.actor.getActorValue(""+g.string(this._BehaviorSplitValues.h[""+s][0])),n.h[""+s]=r):(n=this._DummyMap,r=this.actor.getValue(this._BehaviorSplitValues.h[""+s][1],this._BehaviorSplitValues.h[""+s][0]),n.h[""+s]=r))},_customEvent_SaveStoredData:function(){null==Ke.getGameAttribute(this._SaveStatusGlobalValueName)&&Ke.setGameAttribute(this._SaveStatusGlobalValueName,new pr);var t=Ke.getGameAttribute(this._SaveStatusGlobalValueName),e=this._SaveKey,i=vr.copyMap(this._DummyMap);t.h[e]=i},_customBlock_GetSavedValue:function(t,e){return Ke.getGameAttribute(this._SaveStatusGlobalValueName).h[e].h[t]},_customBlock_SetSavedValue:function(t,e,i){this._DummyMap=Ke.getGameAttribute(this._SaveStatusGlobalValueName).h[e],this._DummyMap.h[t]=i,Ke.getGameAttribute(this._SaveStatusGlobalValueName).h[e]=this._DummyMap},init:function(){this._BehaviorSplitValues=new pr;for(var t=Object.keys(this._ValuestoSave.h),e=t.length,i=0;i<e;){var s=t[i++];this._BehaviorSplitValues.h[""+s]=(""+g.string(this._ValuestoSave.h[""+s])).split(",")}this._DummyMap=new pr,null==Ke.getGameAttribute(this._SaveStatusGlobalValueName)&&Ke.setGameAttribute(this._SaveStatusGlobalValueName,new pr),"[Scene]"==this._SaveKey&&(this._SaveKey=Ke.getCurrentSceneName()+""+g.string(this.actor)),this.addListener(this.actor.whenKilled,n(this,this._event_ActorCreated)),this.addListener(this.actor.whenUpdated,n(this,this._event_Updated))},forwardMessage:function(t){},__class__:Oy});var Vy=function(t,e){Ke.call(this),this.nameMap.h["Timer Image"]="_TimerImage",this.nameMap.h["Timer Instance"]="_TimerInstance",this.nameMap.h["Background Mode"]="_BackgroundMode",this._BackgroundMode="",this.nameMap.h["Background Actor"]="_BackgroundActor",this.nameMap.h["Background Type"]="_BackgroundType",this.nameMap.h["Stop Timer"]="StopTimer",this.StopTimer=!1,this.nameMap.h["Font to Use"]="FonttoUse",this.nameMap.h["Background Dimensions"]="_BackgroundDimensions",this._BackgroundDimensions="10,10",this.nameMap.h["Draw Timer"]="DrawTimer",this.DrawTimer=!0,this.nameMap.h["Save Global Value"]="_SaveGlobalValue",this._SaveGlobalValue="Timer",this.nameMap.h["Timer State Global Value"]="_TimerStateGlobalValue",this._TimerStateGlobalValue="TimerStopped",this.nameMap.h["Stop if Paused"]="_StopifPaused",this._StopifPaused=!0,this.nameMap.h["Timer Settings"]="_TimerSettings",this._TimerSettings=["0/Time Up/Stage1/Replace Smaller/-/-/Always/:/[Off]","120/Time Down/Countdown/Replace Bigger/-/-/Active/:/:","0/Time Up/GameTime/Always Replace/AutoSave/Load/Hide/:/:"],this.nameMap.h["Active Timers"]="_ActiveTimers",this._ActiveTimers="Stage1,Countdown,GameTime",this.nameMap.h["Timer Positions"]="_TimerPositions",this._TimerPositions=["Left,10,Top,10,Left,-2,-2,Animation"],this.nameMap.h["Timers On"]="_TimersOn",this.nameMap.h["Drawing Index"]="_DrawingIndex",this._DrawingIndex=0,this.nameMap.h["X Position"]="_XPosition",this._XPosition=0,this.nameMap.h["Y Position"]="_YPosition",this._YPosition=0,this.nameMap.h["Draw State Global Value"]="_DrawStateGlobalValue",this._DrawStateGlobalValue="DrawTimer",this.nameMap.h["Timers Map"]="_TimersMap",this.nameMap.h["Behavior Split Values"]="_BehaviorSplitValues",this.nameMap.h["Active Timers Global Value"]="_ActiveTimersGlobalValue",this._ActiveTimersGlobalValue="ActiveTimers",this.nameMap.h["Displayed Timer"]="_DisplayedTimer",this._DisplayedTimer=""};r["scripts.Design_315_315_TimeCount"]=Vy,Vy.__name__="scripts.Design_315_315_TimeCount",Vy._customBlock_FormatTimer=function(t,e,i){return Math.floor(t/60)+(e+"")+Math.floor(t%60/10)+(Math.floor(t%60)-10*Math.floor(t%60/10))+i+Math.floor(10*(t-Math.floor(t)))+Math.floor(100*(t-Math.floor(t))-10*Math.floor(10*(t-Math.floor(t))))},Vy.__super__=ei,Vy.prototype=i(ei.prototype,{_TimerImage:null,_TimerInstance:null,_BackgroundMode:null,_BackgroundActor:null,_BackgroundType:null,StopTimer:null,FonttoUse:null,_BackgroundDimensions:null,DrawTimer:null,_SaveGlobalValue:null,_TimerStateGlobalValue:null,_StopifPaused:null,_TimerSettings:null,_ActiveTimers:null,_TimerPositions:null,_TimersOn:null,_DrawingIndex:null,_XPosition:null,_YPosition:null,_DrawStateGlobalValue:null,_TimersMap:null,_BehaviorSplitValues:null,_ActiveTimersGlobalValue:null,_DisplayedTimer:null,_event_Updated:function(t){if(this.wrapper.enabled&&(!this._StopifPaused||this._StopifPaused&&!Ke.engine.isPaused())){""!=this._TimerStateGlobalValue&&null!=Ke.getGameAttribute(this._TimerStateGlobalValue)&&(this.StopTimer=Ke.asBoolean(Ke.getGameAttribute(this._TimerStateGlobalValue))),t=0;for(var e=vo.__cast(this._TimerSettings,Array);t<e.length;){var i=e[t];if(++t,vr.contains(this._TimersOn,""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][2]))&&!this.StopTimer)if("Time Up"==this._BehaviorSplitValues.h[""+g.string(i)][1]){var s=this._TimersMap,n=""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][2]),r=Ke.asNumber(this._TimersMap.h[""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][2])])+.01;s.h[n]=r}else s=this._TimersMap,n=""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][2]),r=Ke.asNumber(this._TimersMap.h[""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][2])])-.01,s.h[n]=r;0>=Ke.asNumber(this._TimersMap.h[""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][2])])&&(this._TimersMap.h[""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][2])]=0),"AutoSave"!=this._BehaviorSplitValues.h[""+g.string(i)][4]||this.StopTimer||("Always Replace"==this._BehaviorSplitValues.h[""+g.string(i)][3]&&(s=Ke.getGameAttribute(this._SaveGlobalValue),n=""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][2]),r=Ke.asNumber(this._TimersMap.h[""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][2])]),s.h[n]=r),"Replace Bigger"==this._BehaviorSplitValues.h[""+g.string(i)][3]&&(Ke.asNumber(this._TimersMap.h[""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][2])])>Ke.asNumber(Ke.getGameAttribute(this._SaveGlobalValue).h[""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][2])])?s=!0:(s=Ke.getGameAttribute(this._SaveGlobalValue),s=!Object.prototype.hasOwnProperty.call(s.h,""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][2]))),s&&(s=Ke.getGameAttribute(this._SaveGlobalValue),n=""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][2]),r=Ke.asNumber(this._TimersMap.h[""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][2])]),s.h[n]=r)),"Replace Smaller"==this._BehaviorSplitValues.h[""+g.string(i)][3]&&(Ke.asNumber(this._TimersMap.h[""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][2])])<Ke.asNumber(Ke.getGameAttribute(this._SaveGlobalValue).h[""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][2])])?s=!0:(s=Ke.getGameAttribute(this._SaveGlobalValue),s=!Object.prototype.hasOwnProperty.call(s.h,""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][2]))),s&&(s=Ke.getGameAttribute(this._SaveGlobalValue),n=""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][2]),i=Ke.asNumber(this._TimersMap.h[""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][2])]),s.h[n]=i)))}""!=this._ActiveTimersGlobalValue&&Ke.setGameAttribute(this._ActiveTimersGlobalValue,this._TimersOn.slice())}},_event_Drawing:function(t,e,i){if(this.wrapper.enabled&&this.DrawTimer&&(!this._StopifPaused||this._StopifPaused&&!Ke.engine.isPaused())&&Ke.hasValue(this.FonttoUse))for(this._DrawingIndex=0,Ke.clearImage(this._TimerImage),t=0,e=this._TimerPositions.length;t<e;)i=t++,this._DisplayedTimer=""+Vy._customBlock_FormatTimer(Ke.asNumber(this._TimersMap.h[""+g.string(this._BehaviorSplitValues.h[""+g.string(this._TimerSettings[i])][2])]),""+g.string(this._BehaviorSplitValues.h[""+g.string(this._TimerSettings[i])][7]),""+g.string(this._BehaviorSplitValues.h[""+g.string(this._TimerSettings[i])][8])),"[Off]"==this._BehaviorSplitValues.h[""+g.string(this._TimerSettings[i])][8]&&(this._DisplayedTimer=this._DisplayedTimer.substring(0,this._DisplayedTimer.indexOf("[Off]"))),"Left"==this._BehaviorSplitValues.h[""+g.string(this._TimerPositions[0|this._DrawingIndex])][0]&&(this._XPosition=Ke.asNumber(this._BehaviorSplitValues.h[""+g.string(this._TimerPositions[0|this._DrawingIndex])][1])),"Center"==this._BehaviorSplitValues.h[""+g.string(this._TimerPositions[0|this._DrawingIndex])][0]&&(this._XPosition=Ke.getScreenWidth()/2-Ke.asNumber(this._BehaviorSplitValues.h[""+g.string(this._TimerPositions[0|this._DrawingIndex])][1])),"Right"==this._BehaviorSplitValues.h[""+g.string(this._TimerPositions[0|this._DrawingIndex])][0]&&(this._XPosition=Ke.getScreenWidth()-Ke.asNumber(this._BehaviorSplitValues.h[""+g.string(this._TimerPositions[0|this._DrawingIndex])][1])),"Right"==this._BehaviorSplitValues.h[""+g.string(this._TimerPositions[0|this._DrawingIndex])][4]&&(this._XPosition-=this.FonttoUse.getTextWidth(this._DisplayedTimer)/Ge.SCALE),"Center"==this._BehaviorSplitValues.h[""+g.string(this._TimerPositions[0|this._DrawingIndex])][4]&&(this._XPosition-=this.FonttoUse.getTextWidth(this._DisplayedTimer)/Ge.SCALE/2),"Top"==this._BehaviorSplitValues.h[""+g.string(this._TimerPositions[0|this._DrawingIndex])][2]&&(this._YPosition=Ke.asNumber(this._BehaviorSplitValues.h[""+g.string(this._TimerPositions[0|this._DrawingIndex])][3])),"Center"==this._BehaviorSplitValues.h[""+g.string(this._TimerPositions[0|this._DrawingIndex])][2]&&(this._YPosition=Ke.getScreenHeight()/2-Ke.asNumber(this._BehaviorSplitValues.h[""+g.string(this._TimerPositions[0|this._DrawingIndex])][3])),"Bottom"==this._BehaviorSplitValues.h[""+g.string(this._TimerPositions[0|this._DrawingIndex])][2]&&(this._YPosition=Ke.getScreenHeight()-Ke.asNumber(this._BehaviorSplitValues.h[""+g.string(this._TimerPositions[0|this._DrawingIndex])][3])),("Always"==this._BehaviorSplitValues.h[""+g.string(this._TimerSettings[i])][6]||"Active"==this._BehaviorSplitValues.h[""+g.string(this._TimerSettings[i])][6]&&vr.contains(this._TimersOn,""+g.string(this._BehaviorSplitValues.h[""+g.string(this._TimerSettings[i])][2])))&&("Actor"==this._BackgroundMode&&(this._BackgroundActor.setAnimation(""+g.string(this._BehaviorSplitValues.h[""+g.string(this._TimerPositions[0|this._DrawingIndex])][7])),Ke.drawImageOnImage(Ke.getImageForActor(this._BackgroundActor),this._TimerImage,this._XPosition+Ke.asNumber(this._BehaviorSplitValues.h[""+g.string(this._TimerPositions[0|this._DrawingIndex])][5])|0,this._YPosition+Ke.asNumber(this._BehaviorSplitValues.h[""+g.string(this._TimerPositions[0|this._DrawingIndex])][6])|0,10)),"Actor Resize"==this._BackgroundMode&&(this._BackgroundActor.setAnimation(""+g.string(this._BehaviorSplitValues.h[""+g.string(this._TimerPositions[0|this._DrawingIndex])][7])),Ke.drawImageOnImage(Ke.sayToScene("Resize Scene Menu Window","_customBlock_ResizeSceneMenuWindow",[Ke.getImageForActor(this._BackgroundActor),Ke.asNumber(this._BehaviorSplitValues.h[this._BackgroundDimensions][0]),Ke.asNumber(this._BehaviorSplitValues.h[this._BackgroundDimensions][1])]),this._TimerImage,this._XPosition+Ke.asNumber(this._BehaviorSplitValues.h[""+g.string(this._TimerPositions[0|this._DrawingIndex])][5])|0,this._YPosition+Ke.asNumber(this._BehaviorSplitValues.h[""+g.string(this._TimerPositions[0|this._DrawingIndex])][6])|0,10)),"Image"==this._BackgroundMode&&Ke.drawImageOnImage(Ke.getExternalImage(""+g.string(this._BehaviorSplitValues.h[""+g.string(this._TimerPositions[0|this._DrawingIndex])][7])),this._TimerImage,this._XPosition+Ke.asNumber(this._BehaviorSplitValues.h[""+g.string(this._TimerPositions[0|this._DrawingIndex])][5])|0,this._YPosition+Ke.asNumber(this._BehaviorSplitValues.h[""+g.string(this._TimerPositions[0|this._DrawingIndex])][6])|0,10),"Image Resize"==this._BackgroundMode&&Ke.drawImageOnImage(Ke.sayToScene("Resize Scene Menu Window","_customBlock_ResizeSceneMenuWindow",[Ke.getExternalImage(""+g.string(this._BehaviorSplitValues.h[""+g.string(this._TimerPositions[0|this._DrawingIndex])][7])),Ke.asNumber(this._BehaviorSplitValues.h[this._BackgroundDimensions][0]),Ke.asNumber(this._BehaviorSplitValues.h[this._BackgroundDimensions][1])]),this._TimerImage,this._XPosition+Ke.asNumber(this._BehaviorSplitValues.h[""+g.string(this._TimerPositions[0|this._DrawingIndex])][5])|0,this._YPosition+Ke.asNumber(this._BehaviorSplitValues.h[""+g.string(this._TimerPositions[0|this._DrawingIndex])][6])|0,10),Ke.drawTextOnImage(this._TimerImage,this._DisplayedTimer,0|this._XPosition,0|this._YPosition,this.FonttoUse),this._DrawingIndex+=1)},_customEvent_ContinueTimer:function(){this.StopTimer=!1,""!=this._TimerStateGlobalValue&&Ke.setGameAttribute(this._TimerStateGlobalValue,!1)},_customEvent_InterruptTimer:function(){this.StopTimer=!0,""!=this._TimerStateGlobalValue&&Ke.setGameAttribute(this._TimerStateGlobalValue,!0)},_customEvent_StartDrawingTimer:function(){this.DrawTimer=!0,this._TimerInstance=new fi(new di(this._TimerImage)),Ke.attachImageToHUD(this._TimerInstance,0,0),0<=this._BackgroundMode.indexOf("Actor")&&(Ke.createRecycledActor(this._BackgroundType,Ke.getScreenX(),Ke.getScreenY(),0),this._BackgroundActor=Ke.getLastCreatedActor(),this._BackgroundActor.anchorToScreen(),this._BackgroundActor.disableActorDrawing()),""!=this._DrawStateGlobalValue&&Ke.setGameAttribute(this._DrawStateGlobalValue,this.DrawTimer)},_customEvent_StopDrawingTimer:function(){this.DrawTimer=!1,Ke.clearImage(this._TimerImage),Ke.removeImage(this._TimerInstance),Ke.hasValue(this._BackgroundActor)&&this._BackgroundActor.isAlive()&&(Ke.recycleActor(this._BackgroundActor),this._BackgroundActor=Ke.getDefaultValue(this._BackgroundActor)),""!=this._DrawStateGlobalValue&&Ke.setGameAttribute(this._DrawStateGlobalValue,this.DrawTimer)},_customEvent_SaveTime:function(){for(var t=0,e=vo.__cast(this._TimerSettings,Array);t<e.length;){var i=e[t];if(++t,"Always Replace"==this._BehaviorSplitValues.h[""+g.string(i)][3]){var s=Ke.getGameAttribute(this._SaveGlobalValue),n=""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][2]),r=Ke.asNumber(this._TimersMap.h[""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][2])]);s.h[n]=r}"Replace Bigger"==this._BehaviorSplitValues.h[""+g.string(i)][3]&&(Ke.asNumber(this._TimersMap.h[""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][2])])>Ke.asNumber(Ke.getGameAttribute(this._SaveGlobalValue).h[""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][2])])?s=!0:(s=Ke.getGameAttribute(this._SaveGlobalValue),s=!Object.prototype.hasOwnProperty.call(s.h,""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][2]))),s&&(s=Ke.getGameAttribute(this._SaveGlobalValue),n=""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][2]),r=Ke.asNumber(this._TimersMap.h[""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][2])]),s.h[n]=r)),"Replace Smaller"==this._BehaviorSplitValues.h[""+g.string(i)][3]&&(Ke.asNumber(this._TimersMap.h[""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][2])])<Ke.asNumber(Ke.getGameAttribute(this._SaveGlobalValue).h[""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][2])])?s=!0:(s=Ke.getGameAttribute(this._SaveGlobalValue),s=!Object.prototype.hasOwnProperty.call(s.h,""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][2]))),s&&(s=Ke.getGameAttribute(this._SaveGlobalValue),n=""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][2]),i=Ke.asNumber(this._TimersMap.h[""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][2])]),s.h[n]=i))}},_customEvent_SaveActiveTime:function(){for(var t=0,e=vo.__cast(this._TimerSettings,Array);t<e.length;){var i=e[t];if(++t,vr.contains(this._TimersOn,""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][2]))){if("Always Replace"==this._BehaviorSplitValues.h[""+g.string(i)][3]){var s=Ke.getGameAttribute(this._SaveGlobalValue),n=""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][2]),r=Ke.asNumber(this._TimersMap.h[""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][2])]);s.h[n]=r}"Replace Bigger"==this._BehaviorSplitValues.h[""+g.string(i)][3]&&(Ke.asNumber(this._TimersMap.h[""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][2])])>Ke.asNumber(Ke.getGameAttribute(this._SaveGlobalValue).h[""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][2])])?s=!0:(s=Ke.getGameAttribute(this._SaveGlobalValue),s=!Object.prototype.hasOwnProperty.call(s.h,""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][2]))),s&&(s=Ke.getGameAttribute(this._SaveGlobalValue),n=""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][2]),r=Ke.asNumber(this._TimersMap.h[""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][2])]),s.h[n]=r)),"Replace Smaller"==this._BehaviorSplitValues.h[""+g.string(i)][3]&&(Ke.asNumber(this._TimersMap.h[""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][2])])<Ke.asNumber(Ke.getGameAttribute(this._SaveGlobalValue).h[""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][2])])?s=!0:(s=Ke.getGameAttribute(this._SaveGlobalValue),s=!Object.prototype.hasOwnProperty.call(s.h,""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][2]))),s&&(s=Ke.getGameAttribute(this._SaveGlobalValue),n=""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][2]),i=Ke.asNumber(this._TimersMap.h[""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][2])]),s.h[n]=i))}}},_customEvent_ResetTime:function(){for(var t=0,e=vo.__cast(this._TimerSettings,Array);t<e.length;){var i=e[t];++t;var s=this._TimersMap,n=""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][2]);i=Ke.asNumber(this._BehaviorSplitValues.h[""+g.string(i)][0]),s.h[n]=i}},_customBlock_ModifyTimerID:function(t,e){if("Reset"==e){for(var i=0,s=vo.__cast(this._TimerSettings,Array);i<s.length;)if(e=s[i],++i,t==(""+g.string(e)).split("/")[2]){i=this._TimersMap,e=Ke.asNumber((""+g.string(e)).split("/")[0]),i.h[t]=e;break}}else i=this._TimersMap,e=Ke.asNumber(this._TimersMap.h[""+t])+Ke.asNumber(e),i.h[t]=e},_customBlock_SetTimerState:function(t,e){e?vr.contains(this._TimersOn,t)||this._TimersOn.push(t):c.remove(this._TimersOn,t)},init:function(){this._BehaviorSplitValues=new pr,this._BehaviorSplitValues.h[this._BackgroundDimensions]=this._BackgroundDimensions.split(",");for(var t=0,e=vo.__cast(this._TimerPositions,Array);t<e.length;){var i=e[t];++t,this._BehaviorSplitValues.h[""+g.string(i)]=(""+g.string(i)).split(",")}for(this._TimersOn=[],""!=this._ActiveTimers&&(this._TimersOn=this._ActiveTimers.split(",").slice()),""!=this._ActiveTimersGlobalValue&&(null==Ke.getGameAttribute(this._ActiveTimersGlobalValue)?Ke.setGameAttribute(this._ActiveTimersGlobalValue,[]):this._TimersOn=Ke.getGameAttribute(this._ActiveTimersGlobalValue).slice()),this._TimersMap=new pr,null==Ke.getGameAttribute(this._SaveGlobalValue)&&Ke.setGameAttribute(this._SaveGlobalValue,new pr),t=0,e=vo.__cast(this._TimerSettings,Array);t<e.length;)if(i=e[t],++t,this._BehaviorSplitValues.h[""+g.string(i)]=(""+g.string(i)).split("/"),"Load"==this._BehaviorSplitValues.h[""+g.string(i)][5]&&0!=vr.mapCount(Ke.getGameAttribute(this._SaveGlobalValue))){var s=this._TimersMap,r=""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][2]),a=Ke.getGameAttribute(this._SaveGlobalValue);s.h[r]=a.h[""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][2])]}else s=this._TimersMap,r=""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][2]),i=Ke.asNumber(this._BehaviorSplitValues.h[""+g.string(i)][0]),s.h[r]=i;this._TimerImage=Ke.newImage(Ke.getScreenWidth(),Ke.getScreenHeight()),""!=this._DrawStateGlobalValue&&null!=Ke.getGameAttribute(this._DrawStateGlobalValue)&&(this.DrawTimer=Ke.asBoolean(Ke.getGameAttribute(this._DrawStateGlobalValue))),this.DrawTimer&&this._customEvent_StartDrawingTimer(),this.addListener(Ke.engine.whenUpdated,n(this,this._event_Updated)),this.addListener(Ke.engine.whenDrawing,n(this,this._event_Drawing))},forwardMessage:function(t){},__class__:Vy});var Gy=function(t,e){Ke.call(this),this.nameMap.h["Save Scene Global Value Name"]="_SaveSceneGlobalValueName",this._SaveSceneGlobalValueName="SaveScene",this.nameMap.h["Actor Values Map"]="_ActorValuesMap",this.nameMap.h["Saved Actors Map"]="_SavedActorsMap",this.nameMap.h["Behavior Split Values"]="_BehaviorSplitValues",this.nameMap.h.Loaded="_Loaded",this._Loaded=!1};r["scripts.Design_316_316_SaveActors"]=Gy,Gy.__name__="scripts.Design_316_316_SaveActors",Gy.__super__=ei,Gy.prototype=i(ei.prototype,{_SaveSceneGlobalValueName:null,_ActorValuesMap:null,_SavedActorsMap:null,_BehaviorSplitValues:null,_Loaded:null,_event_Updated:function(t){if(this.wrapper.enabled&&!this._Loaded){this._Loaded=!0,this._ActorValuesMap=new pr,null==Ke.getGameAttribute(this._SaveSceneGlobalValueName)&&Ke.setGameAttribute(this._SaveSceneGlobalValueName,new pr),t=Ke.getGameAttribute(this._SaveSceneGlobalValueName);var e=Ke.getCurrentSceneName();Object.prototype.hasOwnProperty.call(t.h,e)?(t=Ke.getGameAttribute(this._SaveSceneGlobalValueName),e=Ke.getCurrentSceneName(),this._SavedActorsMap=t.h[e]):this._SavedActorsMap=new pr,this._customEvent_LoadActors()}},_customEvent_LoadActors:function(){for(var t=this._SavedActorsMap.h,e=Object.keys(t),i=e.length,s=0;s<i;){t=e[s++],this._BehaviorSplitValues.h.BasicData=(""+g.string(this._SavedActorsMap.h[""+t].h.BasicData)).split("/"),Ke.createRecycledActorOnLayer(Ke.getActorTypeByName(""+g.string(this._BehaviorSplitValues.h.BasicData[0])),Ke.asNumber(this._BehaviorSplitValues.h.BasicData[1]),Ke.asNumber(this._BehaviorSplitValues.h.BasicData[2]),Ke.engine.getLayerById(0|Ke.asNumber(this._BehaviorSplitValues.h.BasicData[3]))),this._ActorValuesMap=vr.copyMap(this._SavedActorsMap.h[""+t]),t=this._ActorValuesMap.h;for(var n=(t=Object.keys(t)).length,r=0;r<n;){var a=t[r++];if(this._BehaviorSplitValues.h[""+a]=(""+g.string(this._ActorValuesMap.h[a+"Source"])).split(","),"[Value]"==this._BehaviorSplitValues.h[""+a][1])Ke.getLastCreatedActor().setActorValue(""+g.string(this._BehaviorSplitValues.h[""+a][0]),this._ActorValuesMap.h[""+a]);else{var o=this._BehaviorSplitValues.h[""+a];if(Ke.getLastCreatedActor().hasBehavior(o[1])){o=this._BehaviorSplitValues.h[""+a];var l=this._BehaviorSplitValues.h[""+a];a=this._ActorValuesMap.h[""+a],Ke.getLastCreatedActor().setValue(o[1],l[0],a)}}}}for(t=this._SavedActorsMap.h,s=(i=Object.keys(t)).length,t=0;t<s;)e=i[t++],n=this._SavedActorsMap,Object.prototype.hasOwnProperty.call(n.h,e)&&delete n.h[e];i=Ke.getGameAttribute(this._SaveSceneGlobalValueName),e=Ke.getCurrentSceneName(),n=i,Object.prototype.hasOwnProperty.call(n.h,e)&&delete n.h[e]},_customEvent_ClearScene:function(){for(var t=Object.keys(this._SavedActorsMap.h),e=t.length,i=0;i<e;){var s=t[i++],n=this._SavedActorsMap;Object.prototype.hasOwnProperty.call(n.h,s)&&delete n.h[s]}t=Ke.getGameAttribute(this._SaveSceneGlobalValueName),s=Ke.getCurrentSceneName(),n=t,Object.prototype.hasOwnProperty.call(n.h,s)&&delete n.h[s]},_customBlock_SaveActor:function(t,e){for(var i=this._ActorValuesMap.h,s=Object.keys(i),n=s.length,r=0;r<n;){i=s[r++];var a=this._ActorValuesMap;Object.prototype.hasOwnProperty.call(a.h,i)&&delete a.h[i]}a=this._ActorValuesMap;var o=g.string(t.getType())+"/"+t.getX()+"/"+t.getY()+"/"+t.getLayerID();for(a.h.BasicData=o,i=e.h,s=(i=Object.keys(i)).length,n=0;n<s;)r=i[n++],this._BehaviorSplitValues.h[""+r]=(""+r).split(","),"[Value]"==this._BehaviorSplitValues.h[""+r][1]?(a=this._ActorValuesMap,o=t.getActorValue(""+g.string(this._BehaviorSplitValues.h[""+r][0])),a.h[""+r]=o):t.hasBehavior(this._BehaviorSplitValues.h[""+r][1])&&(a=this._ActorValuesMap,o=t.getValue(this._BehaviorSplitValues.h[""+r][1],this._BehaviorSplitValues.h[""+r][0]),a.h[""+r]=o),this._ActorValuesMap.h[r+"Source"]=e.h[""+r];a=this._SavedActorsMap,i=""+g.string(t),o=vr.copyMap(this._ActorValuesMap),a.h[i]=o,a=Ke.getGameAttribute(this._SaveSceneGlobalValueName),i=Ke.getCurrentSceneName(),a.h[i]=this._SavedActorsMap},_customBlock_EraseActor:function(t){t=""+g.string(t);var e=this._SavedActorsMap;Object.prototype.hasOwnProperty.call(e.h,t)&&delete e.h[t],e=Ke.getGameAttribute(this._SaveSceneGlobalValueName),t=Ke.getCurrentSceneName(),e.h[t]=this._SavedActorsMap},init:function(){this._BehaviorSplitValues=new pr,this.addListener(Ke.engine.whenUpdated,n(this,this._event_Updated))},forwardMessage:function(t){},__class__:Gy});var Uy=function(t,e){Ke.call(this),this.nameMap.h.Soundtrack="_Soundtrack",this.nameMap.h["Soundtrack Global Value Name"]="_SoundtrackGlobalValueName",this._SoundtrackGlobalValueName="Soundtrack",this.nameMap.h["Sound Fade Out Time"]="_SoundFadeOutTime",this._SoundFadeOutTime=.5,this.nameMap.h["Conditional Soundtrack"]="_ConditionalSoundtrack",this.nameMap.h.Initialized="_Initialized",this._Initialized=!1,this.nameMap.h["Sound Conditions"]="_SoundConditions",this._SoundConditions=0,this.nameMap.h["Comparison Value"]="_ComparisonValue",this._ComparisonValue="",this.nameMap.h["Selected Sound Channel"]="_SelectedSoundChannel",this._SelectedSoundChannel=0,this.nameMap.h["Sound Channel"]="_SoundChannel",this._SoundChannel="0,1",this.nameMap.h["Behavior Split Values"]="_BehaviorSplitValues",this.nameMap.h["Sound Fade In Time"]="_SoundFadeInTime",this._SoundFadeInTime=0,this.nameMap.h["Sound Fade In Start"]="_SoundFadeInStart",this._SoundFadeInStart=1,this.nameMap.h["Soundtrack Queue"]="_SoundtrackQueue",this.nameMap.h["Queue Started"]="_QueueStarted",this._QueueStarted=!1,this.nameMap.h["Debug Position"]="_DebugPosition",this._DebugPosition="0,0",this.nameMap.h["Debug Font"]="_DebugFont",this.nameMap.h.Debug="_Debug",this._Debug=!1,this.nameMap.h["Save Queued Soundtrack"]="_SaveQueuedSoundtrack",this._SaveQueuedSoundtrack=!1};r["scripts.Design_317_317_SceneSoundtrack"]=Uy,Uy.__name__="scripts.Design_317_317_SceneSoundtrack",Uy.__super__=ei,Uy.prototype=i(ei.prototype,{_Soundtrack:null,_SoundtrackGlobalValueName:null,_SoundFadeOutTime:null,_ConditionalSoundtrack:null,_Initialized:null,_SoundConditions:null,_ComparisonValue:null,_SelectedSoundChannel:null,_SoundChannel:null,_BehaviorSplitValues:null,_SoundFadeInTime:null,_SoundFadeInStart:null,_SoundtrackQueue:null,_QueueStarted:null,_DebugPosition:null,_DebugFont:null,_Debug:null,_SaveQueuedSoundtrack:null,_event_Updating:function(t){var e=this;this.wrapper.enabled&&(this._Initialized||(this._Initialized=!0,this._customEvent_ConditionalSoundtrack(),""+g.string(Ke.getGameAttribute(this._SoundtrackGlobalValueName)[0])!=""+g.string(this._Soundtrack)&&0==this._SoundtrackQueue.length&&(0!=Ke.getGameAttribute(this._SoundtrackGlobalValueName).length&&Ke.fadeOutSoundOnChannel(0|Ke.asNumber(Ke.getGameAttribute(this._SoundtrackGlobalValueName)[1]),this._SoundFadeOutTime),0==Ke.getGameAttribute(this._SoundtrackGlobalValueName).length?this._SelectedSoundChannel=Ke.asNumber(this._BehaviorSplitValues.h.SoundChannel[0]):this._SelectedSoundChannel=this._SoundFadeInStart>this._SoundFadeOutTime?Ke.asNumber(this._BehaviorSplitValues.h.SoundChannel[0]):Ke.asNumber(this._BehaviorSplitValues.h.SoundChannel[1]),Ke.getGameAttribute(this._SoundtrackGlobalValueName)[0]=""+g.string(this._Soundtrack),Ke.getGameAttribute(this._SoundtrackGlobalValueName)[1]=this._SelectedSoundChannel,null!=this._Soundtrack&&Ke.runLater(1e3*this._SoundFadeInStart,function(t){Ke.loopSoundOnChannel(e._Soundtrack,0|Ke.asNumber(e._SelectedSoundChannel)),Ke.fadeOutSoundOnChannel(0|Ke.asNumber(e._SelectedSoundChannel),0),Ke.fadeInSoundOnChannel(0|Ke.asNumber(e._SelectedSoundChannel),e._SoundFadeInTime)},null))),0!=this._SoundtrackQueue.length&&(""+g.string(Ke.getGameAttribute(this._SoundtrackGlobalValueName)[0])==""+g.string(this._SoundtrackQueue[0])?(this._SoundtrackQueue.splice(0,1),this._SaveQueuedSoundtrack&&(Ke.getGameAttribute(this._SoundtrackGlobalValueName)[2]=this._SoundtrackQueue.slice())):(0==Ke.getGameAttribute(this._SoundtrackGlobalValueName).length?this._SelectedSoundChannel=Ke.asNumber(this._BehaviorSplitValues.h.SoundChannel[0]):this._SelectedSoundChannel=Ke.asNumber(Ke.getGameAttribute(this._SoundtrackGlobalValueName)[1]),0<Ke.getPositionForChannel(0|this._SelectedSoundChannel)&&(this._QueueStarted=!0),this._QueueStarted&&0==Ke.getPositionForChannel(0|this._SelectedSoundChannel)&&("[No Soundtrack]"==this._SoundtrackQueue[0]?(Ke.stopSoundOnChannel(0|this._SelectedSoundChannel),this._Soundtrack=Ke.getDefaultValue(this._Soundtrack)):(this._Soundtrack=Ke.getSoundByName(""+g.string(this._SoundtrackQueue[0])),Ke.loopSoundOnChannel(this._Soundtrack,0|this._SelectedSoundChannel)),this._SoundtrackQueue.splice(0,1),Ke.getGameAttribute(this._SoundtrackGlobalValueName)[0]=""+g.string(this._Soundtrack),Ke.getGameAttribute(this._SoundtrackGlobalValueName)[1]=this._SelectedSoundChannel,this._SaveQueuedSoundtrack&&(Ke.getGameAttribute(this._SoundtrackGlobalValueName)[2]=this._SoundtrackQueue.slice()),this._QueueStarted=!1))))},_event_Drawing:function(t,e,i){if(this.wrapper.enabled&&this._Debug)for(t.translateToScreen(),Ke.setDrawingLayerToSceneLayer(),t.setFont(this._DebugFont),t.drawString("Now Playing:"+g.string(this._Soundtrack),Ke.asNumber(this._BehaviorSplitValues.h.DebugPosition[0]),Ke.asNumber(this._BehaviorSplitValues.h.DebugPosition[1])),e=0,i=this._SoundtrackQueue.length;e<i;){var s=e++;t.drawString("Queued:"+g.string(this._SoundtrackQueue[s]),Ke.asNumber(this._BehaviorSplitValues.h.DebugPosition[0]),Ke.asNumber(this._BehaviorSplitValues.h.DebugPosition[1])+t.font.getHeight()/Ge.SCALE*(s+1))}},_customEvent_FadeMusic:function(){var t=this;Ke.fadeOutSoundOnChannel(0|Ke.asNumber(Ke.getGameAttribute(this._SoundtrackGlobalValueName)[1]),this._SoundFadeOutTime),Ke.runLater(1e3*this._SoundFadeOutTime,function(e){Ke.stopSoundOnChannel(0|Ke.asNumber(Ke.getGameAttribute(t._SoundtrackGlobalValueName)[1])),Ke.fadeInSoundOnChannel(0|Ke.asNumber(Ke.getGameAttribute(t._SoundtrackGlobalValueName)[1]),0),Ke.setGameAttribute(t._SoundtrackGlobalValueName,[])},null)},_customEvent_ResetSoundtrack:function(){Ke.setGameAttribute(this._SoundtrackGlobalValueName,[]),this._Initialized=!1},_customEvent_ConditionalSoundtrack:function(){if(0!=this._ConditionalSoundtrack.length)for(var t=0,e=vo.__cast(this._ConditionalSoundtrack,Array);t<e.length;){var i=e[t];++t,Object.prototype.hasOwnProperty.call(this._BehaviorSplitValues.h,""+g.string(i))||(this._BehaviorSplitValues.h[""+g.string(i)]=(""+g.string(i)).split("|"),this._BehaviorSplitValues.h["Conditions"+g.string(i)]=(""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][2])).split("/"));for(var s=this._SoundConditions=0,n=this._BehaviorSplitValues.h["Conditions"+g.string(i)].length;s<n;){var r=s++;Object.prototype.hasOwnProperty.call(this._BehaviorSplitValues.h,""+g.string(this._BehaviorSplitValues.h["Conditions"+g.string(i)][r]))||(this._BehaviorSplitValues.h[""+g.string(this._BehaviorSplitValues.h["Conditions"+g.string(i)][r])]=(""+g.string(this._BehaviorSplitValues.h["Conditions"+g.string(i)][r])).split(",")),"[Global Value]"==this._BehaviorSplitValues.h[""+g.string(this._BehaviorSplitValues.h["Conditions"+g.string(i)][r])][1]?"-"==this._BehaviorSplitValues.h[""+g.string(this._BehaviorSplitValues.h["Conditions"+g.string(i)][r])][2]?this._ComparisonValue=""+g.string(Ke.getGameAttribute(""+g.string(this._BehaviorSplitValues.h[""+g.string(this._BehaviorSplitValues.h["Conditions"+g.string(i)][r])][0]))):null!=Ke.getGameAttribute(""+g.string(this._BehaviorSplitValues.h[""+g.string(this._BehaviorSplitValues.h["Conditions"+g.string(i)][r])][0]))?"List"==(""+g.string(this._BehaviorSplitValues.h[""+g.string(this._BehaviorSplitValues.h["Conditions"+g.string(i)][r])][2])).split(":")[0]?this._ComparisonValue=""+g.string(Ke.getGameAttribute(""+g.string(this._BehaviorSplitValues.h[""+g.string(this._BehaviorSplitValues.h["Conditions"+g.string(i)][r])][0]))[0|Ke.asNumber(this._BehaviorSplitValues.h[""+g.string(this._BehaviorSplitValues.h["Conditions"+g.string(i)][r])][1])]):this._ComparisonValue=""+g.string(Ke.getGameAttribute(""+g.string(this._BehaviorSplitValues.h[""+g.string(this._BehaviorSplitValues.h["Conditions"+g.string(i)][r])][0])).h[""+g.string(this._BehaviorSplitValues.h[""+g.string(this._BehaviorSplitValues.h["Conditions"+g.string(i)][r])][1])]):this._ComparisonValue="null":"-"==this._BehaviorSplitValues.h[""+g.string(this._BehaviorSplitValues.h["Conditions"+g.string(i)][r])][2]?this._ComparisonValue=""+g.string(Ke.getValueForScene(this._BehaviorSplitValues.h[""+g.string(this._BehaviorSplitValues.h["Conditions"+g.string(i)][r])][1],this._BehaviorSplitValues.h[""+g.string(this._BehaviorSplitValues.h["Conditions"+g.string(i)][r])][0])):null!=Ke.getValueForScene(this._BehaviorSplitValues.h[""+g.string(this._BehaviorSplitValues.h["Conditions"+g.string(i)][r])][1],this._BehaviorSplitValues.h[""+g.string(this._BehaviorSplitValues.h["Conditions"+g.string(i)][r])][0])?"List"==(""+g.string(this._BehaviorSplitValues.h[""+g.string(this._BehaviorSplitValues.h["Conditions"+g.string(i)][r])][2])).split(":")[0]?this._ComparisonValue=""+g.string(Ke.getValueForScene(this._BehaviorSplitValues.h[""+g.string(this._BehaviorSplitValues.h["Conditions"+g.string(i)][r])][1],this._BehaviorSplitValues.h[""+g.string(this._BehaviorSplitValues.h["Conditions"+g.string(i)][r])][0])[0|Ke.asNumber(this._BehaviorSplitValues.h[""+g.string(this._BehaviorSplitValues.h["Conditions"+g.string(i)][r])][1])]):this._ComparisonValue=""+g.string(Ke.getValueForScene(this._BehaviorSplitValues.h[""+g.string(this._BehaviorSplitValues.h["Conditions"+g.string(i)][r])][1],this._BehaviorSplitValues.h[""+g.string(this._BehaviorSplitValues.h["Conditions"+g.string(i)][r])][0]).h[""+g.string(this._BehaviorSplitValues.h[""+g.string(this._BehaviorSplitValues.h["Conditions"+g.string(i)][r])][1])]):this._ComparisonValue="null","Equal"==this._BehaviorSplitValues.h[""+g.string(this._BehaviorSplitValues.h["Conditions"+g.string(i)][r])][3]&&""+this._ComparisonValue==""+g.string(this._BehaviorSplitValues.h[""+g.string(this._BehaviorSplitValues.h["Conditions"+g.string(i)][r])][4])&&(this._SoundConditions+=1),"Different"==this._BehaviorSplitValues.h[""+g.string(this._BehaviorSplitValues.h["Conditions"+g.string(i)][r])][3]&&""+this._ComparisonValue!=""+g.string(this._BehaviorSplitValues.h[""+g.string(this._BehaviorSplitValues.h["Conditions"+g.string(i)][r])][4])&&(this._SoundConditions+=1),"Greater"==this._BehaviorSplitValues.h[""+g.string(this._BehaviorSplitValues.h["Conditions"+g.string(i)][r])][3]&&Ke.asNumber(this._ComparisonValue)>Ke.asNumber(this._BehaviorSplitValues.h[""+g.string(this._BehaviorSplitValues.h["Conditions"+g.string(i)][r])][4])&&(this._SoundConditions+=1),"Smaller"==this._BehaviorSplitValues.h[""+g.string(this._BehaviorSplitValues.h["Conditions"+g.string(i)][r])][3]&&Ke.asNumber(this._ComparisonValue)<Ke.asNumber(this._BehaviorSplitValues.h[""+g.string(this._BehaviorSplitValues.h["Conditions"+g.string(i)][r])][4])&&(this._SoundConditions+=1)}if(this._SoundConditions>=Ke.asNumber(this._BehaviorSplitValues.h[""+g.string(i)][1])){Object.prototype.hasOwnProperty.call(this._BehaviorSplitValues.h,"SoundNameData"+g.string(i))||(this._BehaviorSplitValues.h["SoundNameData"+g.string(i)]=(""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][0])).split(",")),"Queue"==this._BehaviorSplitValues.h["SoundNameData"+g.string(i)][1]?(this._SoundtrackQueue.push(this._BehaviorSplitValues.h["SoundNameData"+g.string(i)][0]),this._SaveQueuedSoundtrack&&(Ke.getGameAttribute(this._SoundtrackGlobalValueName)[2]=this._SoundtrackQueue.slice())):("[No Soundtrack]"==this._BehaviorSplitValues.h["SoundNameData"+g.string(i)][0]?this._Soundtrack=Ke.getDefaultValue(this._Soundtrack):this._Soundtrack=Ke.getSoundByName(""+g.string(this._BehaviorSplitValues.h["SoundNameData"+g.string(i)][0])),this._SoundFadeOutTime=Ke.asNumber(this._BehaviorSplitValues.h["SoundNameData"+g.string(i)][1]),this._SoundFadeInStart=Ke.asNumber(this._BehaviorSplitValues.h["SoundNameData"+g.string(i)][2]),this._SoundFadeInTime=Ke.asNumber(this._BehaviorSplitValues.h["SoundNameData"+g.string(i)][3]));break}}},_customEvent_ClearSoundtrackQueue:function(){this._SoundtrackQueue.length=0,this._SaveQueuedSoundtrack&&(Ke.getGameAttribute(this._SoundtrackGlobalValueName)[2]=this._SoundtrackQueue.slice())},init:function(){this._SoundtrackQueue=[],this._BehaviorSplitValues=new pr,this._BehaviorSplitValues.h.SoundChannel=this._SoundChannel.split(","),this._BehaviorSplitValues.h.DebugPosition=this._DebugPosition.split(","),null==Ke.getGameAttribute(this._SoundtrackGlobalValueName)?Ke.setGameAttribute(this._SoundtrackGlobalValueName,[]):this._SaveQueuedSoundtrack&&null!=Ke.getGameAttribute(this._SoundtrackGlobalValueName)[2]&&(this._SoundtrackQueue=Ke.getGameAttribute(this._SoundtrackGlobalValueName)[2].slice()),this.addListener(Ke.engine.whenUpdated,n(this,this._event_Updating)),this.addListener(Ke.engine.whenDrawing,n(this,this._event_Drawing))},forwardMessage:function(t){},__class__:Uy});var zy=function(t,e,i){Je.call(this,e),this.nameMap.h.Actor="actor",this.nameMap.h["Origin X"]="_OriginX",this._OriginX=0,this.nameMap.h["Origin Y"]="_OriginY",this._OriginY=0,this.nameMap.h["Camera Max X"]="_CameraMaxX",this._CameraMaxX=0,this.nameMap.h["Camera Max Y"]="_CameraMaxY",this._CameraMaxY=0,this.nameMap.h["Camera Min X"]="_CameraMinX",this._CameraMinX=0,this.nameMap.h["Camera Min Y"]="_CameraMinY",this._CameraMinY=0,this.nameMap.h["Parallax Rate"]="_ParallaxRate",this._ParallaxRate="50,50",this.nameMap.h["Old Camera X"]="_OldCameraX",this._OldCameraX=0,this.nameMap.h["Old Camera Y"]="_OldCameraY",this._OldCameraY=0,this.nameMap.h["Behavior Split Values"]="_BehaviorSplitValues"};r["scripts.Design_318_318_ActorParallax"]=zy,zy.__name__="scripts.Design_318_318_ActorParallax",zy.__super__=Je,zy.prototype=i(Je.prototype,{_OriginX:null,_OriginY:null,_CameraMaxX:null,_CameraMaxY:null,_CameraMinX:null,_CameraMinY:null,_ParallaxRate:null,_OldCameraX:null,_OldCameraY:null,_BehaviorSplitValues:null,_event_Updating:function(t){this.wrapper.enabled&&(this._OldCameraX==Ke.getScreenXCenter()&&this._OldCameraY==Ke.getScreenYCenter()||this._customEvent_UpdatePosition(),this._OldCameraX=Ke.getScreenXCenter(),this._OldCameraY=Ke.getScreenYCenter())},_customEvent_UpdatePosition:function(){Ke.getSceneWidth()>Ke.getScreenWidth()&&this.actor.setXCenter(this._OriginX+2*(Ke.getScreenXCenter()-this._CameraMinX)*Ke.asNumber(this._BehaviorSplitValues.h.ParallaxRate[0])/(this._CameraMaxX-this._CameraMinX)),Ke.getSceneHeight()>Ke.getScreenHeight()&&this.actor.setYCenter(this._OriginY+2*(Ke.getScreenYCenter()-this._CameraMinY)*Ke.asNumber(this._BehaviorSplitValues.h.ParallaxRate[1])/(this._CameraMaxY-this._CameraMinY))},init:function(){this._BehaviorSplitValues=new pr,this._BehaviorSplitValues.h.ParallaxRate=this._ParallaxRate.split(","),this.actor.makeAlwaysSimulate(),Ke.getSceneWidth()>=Ke.getScreenWidth()?this._OriginX=this.actor.getXCenter()-Ke.asNumber(this._BehaviorSplitValues.h.ParallaxRate[0]):this._OriginX=this.actor.getXCenter(),Ke.getSceneWidth()>=Ke.getScreenWidth()?this._OriginY=this.actor.getYCenter()-Ke.asNumber(this._BehaviorSplitValues.h.ParallaxRate[1]):this._OriginY=this.actor.getYCenter(),this._CameraMaxX=this.actor.getXCenter()+Ke.getScreenWidth(),this._CameraMinX=this.actor.getXCenter()-Ke.getScreenWidth(),this._CameraMaxX>Ke.getSceneWidth()-Ke.getScreenWidth()/2&&(this._CameraMaxX=Ke.getSceneWidth()-Ke.getScreenWidth()/2),this._CameraMinX<Ke.getScreenWidth()/2&&(this._CameraMinX=Ke.getScreenWidth()/2),this._CameraMaxY=this.actor.getYCenter()+Ke.getScreenHeight(),this._CameraMinY=this.actor.getYCenter()-Ke.getScreenHeight(),this._CameraMaxY>Ke.getSceneHeight()-Ke.getScreenHeight()/2&&(this._CameraMaxY=Ke.getSceneHeight()-Ke.getScreenHeight()/2),this._CameraMinY<Ke.getScreenHeight()/2&&(this._CameraMinY=Ke.getScreenHeight()/2),this._customEvent_UpdatePosition(),this.addListener(this.actor.whenUpdated,n(this,this._event_Updating))},forwardMessage:function(t){},__class__:zy});var Hy=function(t,e,i){Je.call(this,e),this.nameMap.h.Actor="actor",this.nameMap.h.Right="_Right",this.nameMap.h.Left="_Left",this.nameMap.h.Jump="_Jump",this.nameMap.h["Player Control"]="_PlayerControl",this._PlayerControl=!0,this.nameMap.h.Run="_Run",this.nameMap.h["Touching Ground"]="_TouchingGround",this._TouchingGround=!1,this.nameMap.h["On Ground"]="_OnGround",this._OnGround=!1,this.nameMap.h["Top Speed"]="_TopSpeed",this._TopSpeed=0,this.nameMap.h["Walking Speed"]="_WalkingSpeed",this._WalkingSpeed=5,this.nameMap.h["Running Speed"]="_RunningSpeed",this._RunningSpeed=10,this.nameMap.h["Is Running"]="_IsRunning",this._IsRunning=!1,this.nameMap.h["Is Walking"]="_IsWalking",this._IsWalking=!1,this.nameMap.h["Facing Data"]="_FacingData",this._FacingData="Facing,Right",this.nameMap.h.Acceleration="_Acceleration",this._Acceleration=5,this.nameMap.h["Normal Angle"]="_NormalAngle",this._NormalAngle=0,this.nameMap.h["Ground Slowdown"]="_GroundSlowdown",this._GroundSlowdown=.95,this.nameMap.h["Air Slowdown"]="_AirSlowdown",this._AirSlowdown=.85,this.nameMap.h["Sensor Platform Group"]="_SensorPlatformGroup",this.nameMap.h["Platform Actor"]="_PlatformActor",this.nameMap.h["Touching Sensor"]="_TouchingSensor",this._TouchingSensor=!1,this.nameMap.h["Is Dropping"]="_IsDropping",this._IsDropping=!1,this.nameMap.h["On Sensor"]="_OnSensor",this._OnSensor=!1,this.nameMap.h["Land on Sensor"]="_LandonSensor",this._LandonSensor=!1,this.nameMap.h["Held Key"]="_HeldKey",this.nameMap.h["Pressed Key"]="_PressedKey",this.nameMap.h["Key Released"]="_KeyReleased",this._KeyReleased=!1,this.nameMap.h["Old Y"]="_OldY",this._OldY=0,this.nameMap.h["Jumping Up"]="_JumpingUp",this._JumpingUp=!1,this.nameMap.h["Falling Down"]="_FallingDown",this._FallingDown=!1,this.nameMap.h["Is Jumping"]="_IsJumping",this._IsJumping=!1,this.nameMap.h["Jump Slowdown"]="_JumpSlowdown",this._JumpSlowdown=.85,this.nameMap.h["Jump Force"]="_JumpForce",this._JumpForce=20,this.nameMap.h["Running Jump Force"]="_RunningJumpForce",this._RunningJumpForce=25,this.nameMap.h["Jump Sound"]="_JumpSound",this.nameMap.h["Sound Channel"]="_SoundChannel",this._SoundChannel="-",this.nameMap.h["Landing Sound"]="_LandingSound",this.nameMap.h["Handle Landing"]="_HandleLanding",this._HandleLanding=!1,this.nameMap.h["Old X Position"]="_OldXPosition",this._OldXPosition=0,this.nameMap.h["Y Normal"]="_YNormal",this._YNormal=0,this.nameMap.h["Use Default"]="_UseDefault",this._UseDefault=!1,this.nameMap.h["Idle Right"]="_IdleRight",this._IdleRight="",this.nameMap.h["Idle Left"]="_IdleLeft",this._IdleLeft="",this.nameMap.h["Jump Right"]="_JumpRight",this._JumpRight="",this.nameMap.h["Jump Left"]="_JumpLeft",this._JumpLeft="",this.nameMap.h["Fall Right"]="_FallRight",this._FallRight="",this.nameMap.h["Fall Left"]="_FallLeft",this._FallLeft="",this.nameMap.h["Run Right"]="_RunRight",this._RunRight="",this.nameMap.h["Run Left"]="_RunLeft",this._RunLeft="",this.nameMap.h["Walk Right"]="_WalkRight",this._WalkRight="",this.nameMap.h["Walk Left"]="_WalkLeft",this._WalkLeft="",this.nameMap.h["Values to Block Animations"]="_ValuestoBlockAnimations",this._ValuestoBlockAnimations=["CutsceneOn,[Value],true","_IsAttacking,Attack Behaviors,true","_Stun,Health,true","_IsDying,Die When 0 Health,true"],this.nameMap.h["Camera Control"]="_CameraControl",this._CameraControl=!0,this.nameMap.h["Jump Buffer Time"]="_JumpBufferTime",this._JumpBufferTime=.1,this.nameMap.h["Jump Buffer Ticks"]="_JumpBufferTicks",this._JumpBufferTicks=0,this.nameMap.h["Screen Grid Camera"]="_ScreenGridCamera",this._ScreenGridCamera=!1,this.nameMap.h["Positions List"]="_PositionsList",this.nameMap.h["Platform Offset"]="_PlatformOffset",this._PlatformOffset=0,this.nameMap.h["Block Drop Down"]="_BlockDropDown",this._BlockDropDown=!1,this.nameMap.h["Blocked Platform"]="_BlockedPlatform",this.nameMap.h["Coyote Time"]="_CoyoteTime",this._CoyoteTime=.1,this.nameMap.h["Coyote Ticks"]="_CoyoteTicks",this._CoyoteTicks=0,this.nameMap.h["Drop Down Recovery Time"]="_DropDownRecoveryTime",this._DropDownRecoveryTime=.3,this.nameMap.h["Falling Speed Threshold"]="_FallingSpeedThreshold",this._FallingSpeedThreshold=10,this.nameMap.h["Can Land"]="_CanLand",this._CanLand=!1,this.nameMap.h["Bottom Distance"]="_BottomDistance",this._BottomDistance=0,this.nameMap.h["Collision Bottom Offsets"]="_CollisionBottomOffsets",(t=new pr).h["-"]="Height",this._CollisionBottomOffsets=t,this.nameMap.h["Platform Speed"]="_PlatformSpeed",this._PlatformSpeed=0,this.nameMap.h["Speed to Stop"]="_SpeedtoStop",this._SpeedtoStop=0,this.nameMap.h.Initialize="_Initialize",this._Initialize=!1,this.nameMap.h["Analog Running Threshold"]="_AnalogRunningThreshold",this._AnalogRunningThreshold=.75,this.nameMap.h["Analog Adjustment"]="_AnalogAdjustment",this._AnalogAdjustment=!1,this.nameMap.h["Used Analog"]="_UsedAnalog",this._UsedAnalog=!1,this.nameMap.h["Facing Value Name"]="_FacingValueName",this._FacingValueName="",this.nameMap.h["Behavior Split Values"]="_BehaviorSplitValues",this.nameMap.h["Stop Jump Complete"]="_StopJumpComplete",this._StopJumpComplete=!1,this.nameMap.h["Platform Actors List"]="_PlatformActorsList",this.nameMap.h["Platform Actor Data"]="_PlatformActorData"};r["scripts.Design_319_319_PlayerControl"]=Hy,Hy.__name__="scripts.Design_319_319_PlayerControl",Hy.__super__=Je,Hy.prototype=i(Je.prototype,{_Right:null,_Left:null,_Jump:null,_PlayerControl:null,_Run:null,_TouchingGround:null,_OnGround:null,_TopSpeed:null,_WalkingSpeed:null,_RunningSpeed:null,_IsRunning:null,_IsWalking:null,_FacingData:null,_Acceleration:null,_NormalAngle:null,_GroundSlowdown:null,_AirSlowdown:null,_SensorPlatformGroup:null,_PlatformActor:null,_TouchingSensor:null,_IsDropping:null,_OnSensor:null,_LandonSensor:null,_HeldKey:null,_PressedKey:null,_KeyReleased:null,_OldY:null,_JumpingUp:null,_FallingDown:null,_IsJumping:null,_JumpSlowdown:null,_JumpForce:null,_RunningJumpForce:null,_JumpSound:null,_SoundChannel:null,_LandingSound:null,_HandleLanding:null,_OldXPosition:null,_YNormal:null,_UseDefault:null,_IdleRight:null,_IdleLeft:null,_JumpRight:null,_JumpLeft:null,_FallRight:null,_FallLeft:null,_RunRight:null,_RunLeft:null,_WalkRight:null,_WalkLeft:null,_ValuestoBlockAnimations:null,_CameraControl:null,_JumpBufferTime:null,_JumpBufferTicks:null,_ScreenGridCamera:null,_PositionsList:null,_PlatformOffset:null,_BlockDropDown:null,_BlockedPlatform:null,_CoyoteTime:null,_CoyoteTicks:null,_DropDownRecoveryTime:null,_FallingSpeedThreshold:null,_CanLand:null,_BottomDistance:null,_CollisionBottomOffsets:null,_PlatformSpeed:null,_SpeedtoStop:null,_Initialize:null,_AnalogRunningThreshold:null,_AnalogAdjustment:null,_UsedAnalog:null,_FacingValueName:null,_BehaviorSplitValues:null,_StopJumpComplete:null,_PlatformActorsList:null,_PlatformActorData:null,_event_Updating:function(t){if(this.wrapper.enabled){this._Initialize||(this._Initialize=!0,this._SpeedtoStop=this.actor.getXVelocity()),this._CameraControl&&(this._ScreenGridCamera?Ke.engine.moveCamera(Ke.getScreenWidth()/2+Ke.getScreenWidth()*Math.floor(this.actor.getXCenter()/Ke.getScreenWidth()),Ke.getScreenHeight()/2+Ke.getScreenHeight()*Math.floor(this.actor.getYCenter()/Ke.getScreenHeight())):Ke.engine.cameraFollow(this.actor)),this._customEvent_Direction(),this._OnGround=this._TouchingGround,this._TouchingGround=!1,this._OnSensor=this._TouchingSensor,this._TouchingSensor=!1,this._TopSpeed=this._IsRunning?this._RunningSpeed:this._WalkingSpeed,this._OnGround?(this._StopJumpComplete=this._FallingDown=this._IsJumping=!1,this._BlockedPlatform=Ke.getDefaultValue(this._BlockedPlatform)):(this._PositionsList=[],this._NormalAngle=-90,this._PlatformOffset=0,this._HandleLanding=this._BlockDropDown=!1,this._PlatformActor=Ke.getDefaultValue(this._PlatformActor),this._PlatformActorsList=[],this._PlatformActorData=new pr),Ke.hasValue(this._BlockedPlatform)&&0>this.actor.getYVelocity()&&(this._BlockedPlatform=Ke.getDefaultValue(this._BlockedPlatform)),-10!=this._YNormal&&-9<=this._YNormal&&-4>this._YNormal&&this._OnGround&&(0>this.actor.getYVelocity()&&0!=this.actor.getXVelocity()&&this.actor.setYVelocity(.5*this.actor.getYVelocity()),this._IsWalking||(this.actor.setXVelocity(0),this.actor.setYVelocity(0),this.actor.setX(this._OldXPosition))),this._OldXPosition=this.actor.getX(),t=this._CollisionBottomOffsets;var e=this.actor.getAnimation();if(Object.prototype.hasOwnProperty.call(t.h,e)?(t=this._CollisionBottomOffsets,e=this.actor.getAnimation(),"Height"==t.h[e]?this._BottomDistance=this.actor.getHeight():(t=this._CollisionBottomOffsets,e=this.actor.getAnimation(),this._BottomDistance=Ke.asNumber(t.h[e]))):this._BottomDistance="Height"==this._CollisionBottomOffsets.h["-"]?this.actor.getHeight():Ke.asNumber(this._CollisionBottomOffsets.h["-"]),this._OnSensor&&!this._IsDropping){for(this._LandonSensor||(this._LandonSensor=!0,this.actor.shout("_customEvent_Landing")),t=0,e=vo.__cast(this._PlatformActorsList,Array);t<e.length;){var i=e[t];if(++t,this.actor.getY()+this._BottomDistance<=i.getY()+i.getHeight()){if(!i.hasBehavior("Semi Solid Position")){this._PlatformOffset=0,this._PlatformActor=i,this._BlockDropDown=!1;break}if(0<=this.actor.getXCenter()-i.getX()&&this.actor.getXCenter()-i.getX()<i.getWidth()&&this.actor.getY()+this._BottomDistance>=i.getY()+Ke.asNumber(this._PlatformActorData.h[""+g.string(i)][Math.round(this.actor.getXCenter()-i.getX())].h.YOffset)&&this.actor.getY()+this._BottomDistance<=i.getY()+(Ke.asNumber(this._PlatformActorData.h[""+g.string(i)][Math.round(this.actor.getXCenter()-i.getX())].h.YOffset)+Ke.getTileHeight()/2)){this._PositionsList=this._PlatformActorData.h[""+g.string(i)].slice(),this._PlatformActor=i,this._BlockDropDown=Ke.asBoolean(this._PlatformActorData.h[g.string(i)+"DropDown"]),this._PlatformOffset=Ke.asNumber(this._PositionsList[Math.round(this.actor.getXCenter()-this._PlatformActor.getX())].h.YOffset);break}}}this._PlatformSpeed=this._PlatformActor.getXVelocity(),0<this._PlatformActor.getYVelocity()?this.actor.setYVelocity(this._PlatformActor.getYVelocity()):this.actor.setYVelocity(0),this.actor.setY(this._PlatformActor.getY()+this._PlatformOffset-this._BottomDistance+.5),this._PlayerControl&&Ke.isKeyDown(this._HeldKey)&&Ke.isKeyPressed(this._PressedKey)&&this._customEvent_DropDown()}else this._LandonSensor=!1,this._PlatformSpeed=0;this._FallingDown&&this.actor.getYVelocity()>=this._FallingSpeedThreshold?this._CanLand=!0:this._CanLand=!1,this._PlayerControl?(Ke.isKeyDown(this._Jump)||(this._IsJumping&&(this._KeyReleased=!0),this._JumpBufferTicks=0),this._StopJumpComplete||this._OnGround||!this._KeyReleased||this._customEvent_StopJump(),Ke.isKeyPressed(this._Jump)&&((this._OnGround||0<this._CoyoteTicks)&&this._customEvent_Jump(),this._OnGround||(this._JumpBufferTicks=this._JumpBufferTime)),0<this._JumpBufferTicks&&(this._JumpBufferTicks-=.01,(this._OnGround||0>=this._JumpBufferTicks)&&this._customEvent_Jump()),0==Math.max(ze.getButtonPressure(this._Right),ze.getButtonPressure(this._Left))?this._UsedAnalog=!1:0<Math.max(ze.getButtonPressure(this._Right),ze.getButtonPressure(this._Left))&&1>Math.max(ze.getButtonPressure(this._Right),ze.getButtonPressure(this._Left))&&(this._UsedAnalog=!0),Ke.isKeyDown(this._Run)||this._UsedAnalog&&Math.max(ze.getButtonPressure(this._Right),ze.getButtonPressure(this._Left))>=this._AnalogRunningThreshold?this._customEvent_Run():this._customEvent_StopRun(),this._AnalogAdjustment&&this._UsedAnalog&&(this._TopSpeed*=Math.max(ze.getButtonPressure(this._Right),ze.getButtonPressure(this._Left))),Ke.isKeyDown(this._Left)&&!Ke.isKeyDown(this._Right)&&this.actor.shout("_customEvent_WalkLeft"),Ke.isKeyDown(this._Right)&&!Ke.isKeyDown(this._Left)&&this.actor.shout("_customEvent_WalkRight"),(!Ke.isKeyDown(this._Left)&&!Ke.isKeyDown(this._Right)||this._OnGround&&Ke.isKeyDown(this._Left)&&Ke.isKeyDown(this._Right))&&this._customEvent_Stop()):this._IsWalking||this._customEvent_Stop(),0<this._CoyoteTicks&&(this._CoyoteTicks-=.01,0>=this._CoyoteTicks&&(this._CoyoteTicks=0)),this._customEvent_Animations()}},_event_ActorAny:function(t){if(this.wrapper.enabled){if(!t.thisCollidedWithSensor&&t.thisFromBottom){this._customEvent_Landing(),this._TouchingGround=!0;for(var e=0,i=t.points;e<i.length;){var s=i[e];++e,this._NormalAngle=Math.round(57.29577951308402*Math.atan2(Math.round(Ge.toPixelUnits(s.normalY)),Math.round(Ge.toPixelUnits(s.normalX))))}0<this._NormalAngle&&(this._NormalAngle=-90)}for(this.internalGetGroup(t.otherActor,t.otherShape,t)==this._SensorPlatformGroup&&t.otherActor!=this._BlockedPlatform&&this.actor.getY()+this._BottomDistance<=t.otherActor.getY()+t.otherActor.getHeight()&&!this._IsDropping&&0<=this.actor.getYVelocity()&&(t.otherActor.hasBehavior("Semi Solid Position")?(this._PositionsList=t.otherActor.getValue("Semi Solid Position","_PositionsList").slice(),this._BlockDropDown=Ke.asBoolean(t.otherActor.getValue("Semi Solid Position","_BlockDropDown")),vr.contains(this._PlatformActorsList,t.otherActor)||(this._PlatformActorsList.push(t.otherActor),e=this._PlatformActorData,i=""+g.string(t.otherActor),s=this._PositionsList.slice(),e.h[i]=s,e=this._PlatformActorData,i=g.string(t.otherActor)+"DropDown",s=Ke.asBoolean(t.otherActor.getValue("Semi Solid Position","_BlockDropDown")),e.h[i]=s),this._PlatformActor==t.otherActor||0<=this.actor.getXCenter()-t.otherActor.getX()&&this.actor.getXCenter()-t.otherActor.getX()<t.otherActor.getWidth()&&this.actor.getY()+this._BottomDistance>=t.otherActor.getY()+Ke.asNumber(this._PositionsList[Math.round(this.actor.getXCenter()-t.otherActor.getX())].h.YOffset)&&this.actor.getY()+this._BottomDistance<=t.otherActor.getY()+(Ke.asNumber(this._PositionsList[Math.round(this.actor.getXCenter()-t.otherActor.getX())].h.YOffset)+Ke.getTileHeight()/2)?(this._TouchingSensor=this._TouchingGround=!0,this._PlatformActor=t.otherActor,this._BlockedPlatform=Ke.getDefaultValue(this._BlockedPlatform)):this._PositionsList=[]):this.actor.getY()+this._BottomDistance<=t.otherActor.getY()+t.otherActor.getHeight()/2&&(this._TouchingSensor=this._TouchingGround=!0,this._PlatformActor=t.otherActor,this._BlockedPlatform=Ke.getDefaultValue(this._BlockedPlatform),vr.contains(this._PlatformActorsList,t.otherActor)||this._PlatformActorsList.push(t.otherActor))),e=0,i=t.points;e<i.length;)s=i[e],++e,this._YNormal=Ke.asNumber(Math.round(Ge.toPixelUnits(s.normalY)))}},_customEvent_GiveControl:function(){this._PlayerControl=!0},_customEvent_RemoveControl:function(){this._PlayerControl=!1},_customEvent_EnableCamera:function(){this._CameraControl=!0},_customEvent_DisableCamera:function(){this._CameraControl=!1},_customEvent_Direction:function(){this._OnGround||(this.actor.getY()<this._OldY&&(this._JumpingUp=!0,this._FallingDown=!1),this.actor.getY()>this._OldY&&(this._IsJumping||0!=this._CoyoteTicks||(this._CoyoteTicks=this._CoyoteTime),this._IsJumping=!0,this._JumpingUp=!1,this._FallingDown=!0)),this._OldY=this.actor.getY()},_customEvent_DropDown:function(){var t=this;this._IsDropping||!this._OnSensor||this._BlockDropDown||(this._IsDropping=!0,this.actor.setYVelocity(0),this._BlockedPlatform=this._PlatformActor,this._PositionsList=[],this._PlatformOffset=0,this._PlatformActor=Ke.getDefaultValue(this._PlatformActor),this._PlatformActorsList=[],this._PlatformActorData=new pr,Ke.runLater(1e3*this._DropDownRecoveryTime,function(e){t._IsDropping=!1,t._OnSensor=!1,t._OnGround=!1},this.actor))},_customEvent_WalkRight:function(){this._IsWalking=!0,this.actor.setActorValue(this._FacingValueName,"Right"),Math.round(this.actor.getXVelocity())>=this._TopSpeed+this._PlatformSpeed?this.actor.setXVelocity(this._TopSpeed+this._PlatformSpeed):(this.actor.applyImpulseInDirection(this._NormalAngle+90,this._Acceleration),this.actor.setActorValue("Facing Right?",!0))},_customEvent_WalkLeft:function(){this._IsWalking=!0,this.actor.setActorValue(this._FacingValueName,"Left"),Math.round(this.actor.getXVelocity())<=-this._TopSpeed+this._PlatformSpeed?this.actor.setXVelocity(-this._TopSpeed+this._PlatformSpeed):(this.actor.applyImpulseInDirection(this._NormalAngle-90,this._Acceleration),this.actor.setActorValue("Facing Right?",!1))},_customEvent_Stop:function(){this._IsWalking&&(this._SpeedtoStop=this.actor.getXVelocity()),this._IsWalking=!1,this._OnGround&&!this._IsJumping?(-9<=this._YNormal&&-4>this._YNormal&&this.actor.setYVelocity(0),this._SpeedtoStop*=this._GroundSlowdown,this.actor.setXVelocity(this._SpeedtoStop+this._PlatformSpeed)):(this._SpeedtoStop*=this._AirSlowdown,this.actor.setXVelocity(this._SpeedtoStop)),.001>Math.abs(this.actor.getXVelocity())&&this.actor.setXVelocity(0)},_customEvent_Run:function(){this._IsRunning=!0},_customEvent_StopRun:function(){this._IsRunning=!1},_customEvent_Jump:function(){(this._OnGround||0<this._CoyoteTicks)&&!this._IsDropping&&(this._JumpBufferTicks=0,this._KeyReleased=!1,this.actor.setY(this.actor.getY()-1),this._CoyoteTicks=0,this._IsJumping=this._JumpingUp=!0,this._IsRunning?this.actor.setYVelocity(-this._RunningJumpForce):this.actor.setYVelocity(-this._JumpForce),Ke.hasValue(this._JumpSound)&&("-"==this._SoundChannel?Ke.playSound(this._JumpSound):Ke.playSoundOnChannel(this._JumpSound,0|Ke.asNumber(this._SoundChannel))),Ke.createRecycledActor(Ke.getActorType(484),this.actor.getX()+10,this.actor.getY()+28,0),Ke.createRecycledActor(Ke.getActorType(486),this.actor.getX()+18,this.actor.getY()+28,0))},_customEvent_StopJump:function(){this._OnGround||(0>this.actor.getYVelocity()?this.actor.setYVelocity(this.actor.getYVelocity()*this._JumpSlowdown):this._StopJumpComplete=!0)},_customEvent_Landing:function(){!this._HandleLanding&&this._CanLand&&(this._CoyoteTicks=0,this._HandleLanding=!0,this._IsJumping=!1,Ke.hasValue(this._LandingSound)&&("-"==this._SoundChannel?Ke.playSound(this._LandingSound):Ke.playSoundOnChannel(this._LandingSound,0|Ke.asNumber(this._SoundChannel))))},_customEvent_Animations:function(){this._UseDefault=!0;for(var t=0,e=vo.__cast(this._ValuestoBlockAnimations,Array);t<e.length;){var i=e[t];if(++t,"[Value]"==this._BehaviorSplitValues.h["BlockCheck"+g.string(i)][1]){if(""+g.string(this.actor.getActorValue(""+g.string(this._BehaviorSplitValues.h["BlockCheck"+g.string(i)][0])))==""+g.string(this._BehaviorSplitValues.h["BlockCheck"+g.string(i)][2]))return}else if(this.actor.hasBehavior(this._BehaviorSplitValues.h["BlockCheck"+g.string(i)][1])&&""+g.string(this.actor.getValue(this._BehaviorSplitValues.h["BlockCheck"+g.string(i)][1],this._BehaviorSplitValues.h["BlockCheck"+g.string(i)][0]))==""+g.string(this._BehaviorSplitValues.h["BlockCheck"+g.string(i)][2]))return}!this._JumpingUp&&!this._FallingDown||this._OnGround?this._IsWalking?(this._UseDefault=!1,this._IsRunning?("Right"==this.actor.getActorValue(this._FacingValueName)&&this.actor.setAnimation(this._RunRight),"Left"==this.actor.getActorValue(this._FacingValueName)&&this.actor.setAnimation(this._RunLeft)):("Right"==this.actor.getActorValue(this._FacingValueName)&&this.actor.setAnimation(this._WalkRight),"Left"==this.actor.getActorValue(this._FacingValueName)&&this.actor.setAnimation(this._WalkLeft))):this._UseDefault&&("Right"==this.actor.getActorValue(this._FacingValueName)&&this.actor.setAnimation(this._IdleRight),"Left"==this.actor.getActorValue(this._FacingValueName)&&this.actor.setAnimation(this._IdleLeft)):(this._UseDefault=!1,this._JumpingUp&&("Right"==this.actor.getActorValue(this._FacingValueName)&&this.actor.setAnimation(this._JumpRight),"Left"==this.actor.getActorValue(this._FacingValueName)&&this.actor.setAnimation(this._JumpLeft)),this._FallingDown&&("Right"==this.actor.getActorValue(this._FacingValueName)&&this.actor.setAnimation(this._FallRight),"Left"==this.actor.getActorValue(this._FacingValueName)&&this.actor.setAnimation(this._FallLeft)))},init:function(){this._PlatformActorsList=[],this._PlatformActorData=new pr,this._BehaviorSplitValues=new pr;for(var t=0,e=vo.__cast(this._ValuestoBlockAnimations,Array);t<e.length;){var i=e[t];++t,this._BehaviorSplitValues.h["BlockCheck"+g.string(i)]=(""+g.string(i)).split(",")}this._BottomDistance=this.actor.getHeight(),this._OldXPosition=this.actor.getX(),this.actor.makeAlwaysSimulate(),this._FacingValueName=""+this._FacingData.split(",")[0],this.actor.setActorValue(this._FacingValueName,this._FacingData.split(",")[1]),this._CameraControl&&(this._ScreenGridCamera?Ke.engine.moveCamera(Ke.getScreenWidth()/2+Ke.getScreenWidth()*Math.floor(this.actor.getXCenter()/Ke.getScreenWidth()),Ke.getScreenHeight()/2+Ke.getScreenHeight()*Math.floor(this.actor.getYCenter()/Ke.getScreenHeight())):Ke.engine.cameraFollow(this.actor)),this.addListener(this.actor.whenUpdated,n(this,this._event_Updating)),this.addListener(this.actor.whenCollided,n(this,this._event_ActorAny))},forwardMessage:function(t){},__class__:Hy});var Wy=function(t,e,i){Je.call(this,e),this.nameMap.h.Actor="actor",this.nameMap.h.Activate="_Activate",this._Activate=!0,this.nameMap.h["Aura Scale"]="_AuraScale",this._AuraScale=100,this.nameMap.h["Y Origin"]="_YOrigin",this._YOrigin=0,this.nameMap.h["Aura Presets"]="_AuraPresets",(t=new pr).h.BaseAura="0",this._AuraPresets=t,this.nameMap.h["X Origin"]="_XOrigin",this._XOrigin=0,this.nameMap.h["Active Auras"]="_ActiveAuras",this._ActiveAuras="0",this.nameMap.h["Auras On"]="_AurasOn",this.nameMap.h.Auras="_Auras",this._Auras=["0/-/0/0/0/Add/100/150/50/Back/Center/Center"],this.nameMap.h["Aura Instances"]="_AuraInstances",this.nameMap.h["Aura Images"]="_AuraImages",this.nameMap.h["Behavior Split Values"]="_BehaviorSplitValues",this.nameMap.h["Aura Cycles"]="_AuraCycles",this.nameMap.h.Debug="_Debug",this._Debug=!1,this.nameMap.h["Aura Values"]="_AuraValues",this.nameMap.h["Actor Image Input Local Value"]="_ActorImageInputLocalValue",this._ActorImageInputLocalValue="SpriteImage"};r["scripts.Design_320_320_ActorAura"]=Wy,Wy.__name__="scripts.Design_320_320_ActorAura",Wy.__super__=Je,Wy.prototype=i(Je.prototype,{_Activate:null,_AuraScale:null,_YOrigin:null,_AuraPresets:null,_XOrigin:null,_ActiveAuras:null,_AurasOn:null,_Auras:null,_AuraInstances:null,_AuraImages:null,_BehaviorSplitValues:null,_AuraCycles:null,_Debug:null,_AuraValues:null,_ActorImageInputLocalValue:null,_event_Drawing:function(t,e,i){if(this.wrapper.enabled&&this._Activate)for(t=0,e=this._Auras.length;t<e;)if(i=t++,vr.contains(this._AurasOn,""+i)){if(0<Ke.asNumber(this._BehaviorSplitValues.h["AuraSettings"+i][0])){var s=this._AuraValues,n=Ke.asNumber(this._AuraValues.h["AuraTimer"+i])-1;if(s.h["AuraTimer"+i]=n,0>=Ke.asNumber(this._AuraValues.h["AuraTimer"+i])){c.remove(this._AurasOn,""+i),Ke.clearImage(this._AuraImages[i]),Object.prototype.hasOwnProperty.call(this._AuraCycles.h,""+i)&&(this._AuraValues.h["AuraScaleSpeed"+i]=this._BehaviorSplitValues.h["AuraCycle"+i][0],this._AuraValues.h["AuraScaleModifier"+i]=0,this._AuraValues.h["AuraOpacitySpeed"+i]=this._BehaviorSplitValues.h["AuraCycle"+i][3],this._AuraValues.h["AuraOpacityModifier"+i]=0);continue}}if(Object.prototype.hasOwnProperty.call(this._AuraCycles.h,""+i)&&(s=this._AuraValues,n=Ke.asNumber(this._AuraValues.h["AuraScaleModifier"+i])+Ke.asNumber(this._AuraValues.h["AuraScaleSpeed"+i]),s.h["AuraScaleModifier"+i]=n,(Ke.asNumber(this._AuraValues.h["AuraScaleModifier"+i])>=Ke.asNumber(this._BehaviorSplitValues.h["AuraCycle"+i][2])&&0<Ke.asNumber(this._AuraValues.h["AuraScaleSpeed"+i])||Ke.asNumber(this._AuraValues.h["AuraScaleModifier"+i])<=Ke.asNumber(this._BehaviorSplitValues.h["AuraCycle"+i][1])&&0>Ke.asNumber(this._AuraValues.h["AuraScaleSpeed"+i]))&&(s=this._AuraValues,n=-Ke.asNumber(this._AuraValues.h["AuraScaleSpeed"+i]),s.h["AuraScaleSpeed"+i]=n),s=this._AuraValues,n=Ke.asNumber(this._AuraValues.h["AuraOpacityModifier"+i])+Ke.asNumber(this._AuraValues.h["AuraOpacitySpeed"+i]),s.h["AuraOpacityModifier"+i]=n,(Ke.asNumber(this._AuraValues.h["AuraOpacityModifier"+i])>=Ke.asNumber(this._BehaviorSplitValues.h["AuraCycle"+i][5])&&0<Ke.asNumber(this._AuraValues.h["AuraOpacitySpeed"+i])||Ke.asNumber(this._AuraValues.h["AuraOpacityModifier"+i])<=Ke.asNumber(this._BehaviorSplitValues.h["AuraCycle"+i][4])&&0>Ke.asNumber(this._AuraValues.h["AuraOpacitySpeed"+i]))&&(s=this._AuraValues,n=-Ke.asNumber(this._AuraValues.h["AuraOpacitySpeed"+i]),s.h["AuraOpacitySpeed"+i]=n)),Ke.clearImage(this._AuraImages[i]),Ke.removeImage(this._AuraInstances[i]),""!=this._ActorImageInputLocalValue&&null!=this.actor.getActorValue(this._ActorImageInputLocalValue)?this._AuraImages[i]=this.actor.getActorValue(this._ActorImageInputLocalValue).clone():this._AuraImages[i]=Ke.getImageForActor(this.actor).clone(),this._AuraInstances[i]=new fi(new di(this._AuraImages[i])),"Fill"==this._BehaviorSplitValues.h["AuraSettings"+i][1]){s=this._AuraImages[i],n=0|Ke.asNumber(this._BehaviorSplitValues.h["AuraSettings"+i][2]);var r=0|Ke.asNumber(this._BehaviorSplitValues.h["AuraSettings"+i][3]),a=0|Ke.asNumber(this._BehaviorSplitValues.h["AuraSettings"+i][4]);null==a&&(a=0),null==r&&(r=0),null==n&&(n=0),Ke.fillImage(s,n<<16|r<<8|a),Ke.retainImageUsingMask(this._AuraImages[i],Ke.getImageForActor(this.actor),0,0)}"Tint"==this._BehaviorSplitValues.h["AuraTint"+i][0]&&(s=this._AuraImages[i],n=0|Ke.asNumber(this._BehaviorSplitValues.h["AuraSettings"+i][2]),r=0|Ke.asNumber(this._BehaviorSplitValues.h["AuraSettings"+i][3]),null==(a=0|Ke.asNumber(this._BehaviorSplitValues.h["AuraSettings"+i][4]))&&(a=0),null==r&&(r=0),null==n&&(n=0),Ke.filterImage(s,Ke.createTintFilter(n<<16|r<<8|a,Ke.asNumber(this._BehaviorSplitValues.h["AuraTint"+i][1])/100))),"Normal"==""+g.string(this._BehaviorSplitValues.h["AuraSettings"+i][5])&&this._AuraInstances[i].set_blendMode(10),"Add"==""+g.string(this._BehaviorSplitValues.h["AuraSettings"+i][5])&&this._AuraInstances[i].set_blendMode(0),"Multiply"==""+g.string(this._BehaviorSplitValues.h["AuraSettings"+i][5])&&this._AuraInstances[i].set_blendMode(9),"Screen"==""+g.string(this._BehaviorSplitValues.h["AuraSettings"+i][5])&&this._AuraInstances[i].set_blendMode(12),this._AuraInstances[i].set_alpha((Ke.asNumber(this._BehaviorSplitValues.h["AuraSettings"+i][8])+Ke.asNumber(this._AuraValues.h["AuraOpacityModifier"+i]))/100),this._AuraScale=Ke.randomInt(0|Ke.asNumber(this._BehaviorSplitValues.h["AuraSettings"+i][6]),0|Ke.asNumber(this._BehaviorSplitValues.h["AuraSettings"+i][7]))+Ke.asNumber(this._AuraValues.h["AuraScaleModifier"+i]),100!=this._AuraScale?(this._AuraInstances[i].set_scaleX(this._AuraScale/100),this._AuraInstances[i].set_scaleY(this._AuraScale/100),"Left"==""+g.string(this._BehaviorSplitValues.h["AuraSettings"+i][10])&&(this._XOrigin=0),"Center"==""+g.string(this._BehaviorSplitValues.h["AuraSettings"+i][10])&&(this._XOrigin=this.actor.getWidth()/2-this.actor.getWidth()/2*(this._AuraScale/100)),"Right"==""+g.string(this._BehaviorSplitValues.h["AuraSettings"+i][10])&&(this._XOrigin=this.actor.getWidth()-this.actor.getWidth()*(this._AuraScale/100)),"Top"==""+g.string(this._BehaviorSplitValues.h["AuraSettings"+i][11])&&(this._YOrigin=0),"Center"==""+g.string(this._BehaviorSplitValues.h["AuraSettings"+i][11])&&(this._YOrigin=this.actor.getHeight()/2-this.actor.getHeight()/2*(this._AuraScale/100)),"Bottom"==""+g.string(this._BehaviorSplitValues.h["AuraSettings"+i][11])&&(this._YOrigin=this.actor.getHeight()-this.actor.getHeight()*(this._AuraScale/100))):this._YOrigin=this._XOrigin=0,"Front"==""+g.string(this._BehaviorSplitValues.h["AuraSettings"+i][9])?Ke.attachImageToActor(this._AuraInstances[i],this.actor,0|this._XOrigin,0|this._YOrigin,1):Ke.attachImageToActor(this._AuraInstances[i],this.actor,0|this._XOrigin,0|this._YOrigin,2)}},_customEvent_ActivateAura:function(){this._Activate=!0},_customEvent_DeactivateAura:function(){this._Activate=!1;for(var t=0,e=vo.__cast(this._AuraImages,Array);t<e.length;){var i=e[t];++t,Ke.clearImage(i)}},_customEvent_ClearAuras:function(){this._AurasOn.length=0,this._customEvent_DeactivateAura()},_customBlock_ActorAuraPreset:function(t,e){if(Object.prototype.hasOwnProperty.call(this._AuraPresets.h,t)){var i=0;for(t=vo.__cast((""+g.string(this._AuraPresets.h[t])).split(" "),Array);i<t.length;){var s=t[i];if(++i,e){vr.contains(this._AurasOn,s)||this._AurasOn.push(s);var n=this._AuraValues,r="AuraTimer"+Ke.asNumber(s),a=this._BehaviorSplitValues,o="AuraSettings"+Ke.asNumber(s);n.h[r]=a.h[o][0],n=this._AuraCycles,r=""+Ke.asNumber(s),Object.prototype.hasOwnProperty.call(n.h,r)?(n=this._AuraValues,r="AuraReset"+Ke.asNumber(s),n=Ke.asBoolean(n.h[r])):n=!1,n&&(n=this._AuraValues,r="AuraScaleSpeed"+Ke.asNumber(s),a=this._BehaviorSplitValues,o="AuraCycle"+Ke.asNumber(s),n.h[r]=a.h[o][0],n=this._AuraValues,r="AuraScaleModifier"+Ke.asNumber(s),n.h[r]=0,n=this._AuraValues,r="AuraOpacitySpeed"+Ke.asNumber(s),a=this._BehaviorSplitValues,o="AuraCycle"+Ke.asNumber(s),n.h[r]=a.h[o][3],n=this._AuraValues,s="AuraOpacityModifier"+Ke.asNumber(s),n.h[s]=0)}else vr.contains(this._AurasOn,s)&&(c.remove(this._AurasOn,s),Ke.clearImage(this._AuraImages[0|Ke.asNumber(s)]),n=this._AuraCycles,r=""+Ke.asNumber(s),Object.prototype.hasOwnProperty.call(n.h,r)&&(n=this._AuraValues,r="AuraScaleSpeed"+Ke.asNumber(s),a=this._BehaviorSplitValues,o="AuraCycle"+Ke.asNumber(s),n.h[r]=a.h[o][0],n=this._AuraValues,r="AuraScaleModifier"+Ke.asNumber(s),n.h[r]=0,n=this._AuraValues,r="AuraOpacitySpeed"+Ke.asNumber(s),a=this._BehaviorSplitValues,o="AuraCycle"+Ke.asNumber(s),n.h[r]=a.h[o][3],n=this._AuraValues,s="AuraOpacityModifier"+Ke.asNumber(s),n.h[s]=0))}0==this._AurasOn.length?this._Activate=!1:this._customEvent_ActivateAura()}},init:function(){var t=this;this._AuraValues=new pr,this._BehaviorSplitValues=new pr;for(var e=0,i=this._Auras.length;e<i;){var s=e++;this._BehaviorSplitValues.h["AuraSettings"+s]=(""+g.string(this._Auras[s])).split("/"),this._BehaviorSplitValues.h["AuraTint"+s]=(""+g.string(this._BehaviorSplitValues.h["AuraSettings"+s][1])).split(","),this._AuraValues.h["AuraTimer"+s]=this._BehaviorSplitValues.h["AuraSettings"+s][0]}for(i=(e=Object.keys(this._AuraCycles.h)).length,s=0;s<i;){var r=e[s++];this._BehaviorSplitValues.h["AuraCycle"+r]=(""+g.string(this._AuraCycles.h[""+r])).split("/");var a=this._AuraValues,o="AuraScaleSpeed"+Ke.asNumber(r);a.h[o]=this._BehaviorSplitValues.h["AuraCycle"+r][0],a=this._AuraValues,o="AuraScaleModifier"+Ke.asNumber(r),a.h[o]=0,a=this._AuraValues,o="AuraOpacitySpeed"+Ke.asNumber(r),a.h[o]=this._BehaviorSplitValues.h["AuraCycle"+r][3],a=this._AuraValues,o="AuraOpacityModifier"+Ke.asNumber(r),a.h[o]=0,a=this._AuraValues,o="AuraReset"+Ke.asNumber(r),a.h[o]="Reset"==this._BehaviorSplitValues.h["AuraCycle"+r][6]}this._AuraImages=[],this._AuraInstances=[],this._AurasOn=[],Ke.runLater(50,function(e){""!=t._ActiveAuras&&(e=t._ActiveAuras.split(" ").slice(),t._AurasOn=e)},this.actor),this.addListener(this.actor.whenDrawing,n(this,this._event_Drawing))},forwardMessage:function(t){},__class__:Wy});var Xy=function(t,e,i){Je.call(this,e),this.nameMap.h.Actor="actor",this.nameMap.h["After Images On"]="_AfterImagesOn",this.nameMap.h["Image Cooldowns"]="_ImageCooldowns",this.nameMap.h.Activate="_Activate",this._Activate=!0,this.nameMap.h["Behavior Split Values"]="_BehaviorSplitValues",this.nameMap.h["After Image Limit"]="_AfterImageLimit",this.nameMap.h["Actor Image Input Local Value"]="_ActorImageInputLocalValue",this._ActorImageInputLocalValue="SpriteImage",this.nameMap.h["Handle Image"]="_HandleImage",this._HandleImage=!1,this.nameMap.h["Image Properties"]="_ImageProperties",this.nameMap.h["After Images Instances"]="_AfterImagesInstances",this.nameMap.h["Image Instance"]="_ImageInstance",this.nameMap.h["After Image Color"]="_AfterImageColor",null==(i=e=0)&&(i=0),null==e&&(e=0),null==(t=255)&&(t=0),this._AfterImageColor=t<<16|e<<8|i,this.nameMap.h.Image="_Image",this.nameMap.h["After Image Presets"]="_AfterImagePresets",(t=new pr).h.BaseAfterImage="0",this._AfterImagePresets=t,this.nameMap.h["Old X"]="_OldX",this._OldX=0,this.nameMap.h["Old Y"]="_OldY",this._OldY=0,this.nameMap.h["Time between Images Ticks"]="_TimebetweenImagesTicks",this._TimebetweenImagesTicks=0,this.nameMap.h["Old Frame"]="_OldFrame",this._OldFrame=0,this.nameMap.h["Old Animation"]="_OldAnimation",this._OldAnimation="",this.nameMap.h["Old Angle"]="_OldAngle",this._OldAngle=0,this.nameMap.h["After Image Settings"]="_AfterImageSettings",this._AfterImageSettings=["0/true/0/100/30/3/Normal/-/0/0/0"],this.nameMap.h["Active After Images"]="_ActiveAfterImages",this._ActiveAfterImages="0"};r["scripts.Design_321_321_AfterImage"]=Xy,Xy.__name__="scripts.Design_321_321_AfterImage",Xy.__super__=Je,Xy.prototype=i(Je.prototype,{_AfterImagesOn:null,_ImageCooldowns:null,_Activate:null,_BehaviorSplitValues:null,_AfterImageLimit:null,_ActorImageInputLocalValue:null,_HandleImage:null,_ImageProperties:null,_AfterImagesInstances:null,_ImageInstance:null,_AfterImageColor:null,_Image:null,_AfterImagePresets:null,_OldX:null,_OldY:null,_TimebetweenImagesTicks:null,_OldFrame:null,_OldAnimation:null,_OldAngle:null,_AfterImageSettings:null,_ActiveAfterImages:null,_event_ActorCreated:function(){this.wrapper.enabled&&this._customEvent_ClearAfterImages()},_event_Drawing:function(t,e,i){if(this.wrapper.enabled&&!Ke.engine.isPaused()){0<this._TimebetweenImagesTicks&&(--this._TimebetweenImagesTicks,0>=this._TimebetweenImagesTicks&&(this._TimebetweenImagesTicks=0,this._HandleImage=!1)),i=(e=Object.keys(this._ImageCooldowns.h)).length;for(var s=0;s<i;)if(t=e[s++],0<=Ke.asNumber(this._ImageCooldowns.h[""+t])){var n=this._ImageCooldowns,r=Ke.asNumber(this._ImageCooldowns.h[""+t])-1;if(n.h[""+t]=r,0>=Ke.asNumber(this._ImageCooldowns.h[""+t])){n=this._ImageCooldowns;var a=""+t;Object.prototype.hasOwnProperty.call(n.h,a)&&delete n.h[a]}}if(this._Activate)for(e=0,i=vo.__cast(this._AfterImageSettings,Array);e<i.length;)if(t=i[e],++e,!(!vr.contains(this._AfterImagesOn,""+this._AfterImageSettings.indexOf(t))||Object.prototype.hasOwnProperty.call(this._ImageCooldowns.h,""+g.string(t))||this._HandleImage||Ke.asBoolean(this._BehaviorSplitValues.h["AfterImageSettings"+g.string(t)][1])&&this._OldX==this.actor.getX()&&this._OldY==this.actor.getY()&&this._OldAngle==57.29577951308402*this.actor.getAngle()&&this._OldAnimation==this.actor.getAnimation()&&this._OldFrame==this.actor.getCurrentFrame())&&(0==Ke.asNumber(this._BehaviorSplitValues.h["AfterImageSettings"+g.string(t)][0])||0<Ke.asNumber(this._AfterImageLimit.h["AfterImageLimit"+g.string(t)]))){this._HandleImage=!0,0!=Ke.asNumber(this._BehaviorSplitValues.h["AfterImageSettings"+g.string(t)][0])&&(n=this._AfterImageLimit,a="AfterImageLimit"+g.string(t),r=Ke.asNumber(this._AfterImageLimit.h["AfterImageLimit"+g.string(t)])-1,n.h[a]=r,0>=Ke.asNumber(this._AfterImageLimit.h["AfterImageLimit"+g.string(t)])&&(c.remove(this._AfterImagesOn,""+this._AfterImageSettings.indexOf(t)),e=this._AfterImageLimit,i="AfterImageLimit"+g.string(t),s=Ke.asNumber(this._BehaviorSplitValues.h["AfterImageSettings"+g.string(t)][0]),e.h[i]=s)),e=this._ImageCooldowns,i=""+g.string(t),s=Ke.asNumber(this._BehaviorSplitValues.h["AfterImageSettings"+g.string(t)][2]),e.h[i]=s,this._ImageProperties.push(g.string(this._BehaviorSplitValues.h["AfterImageSettings"+g.string(t)][3])+"/"+g.string(this._BehaviorSplitValues.h["AfterImageSettings"+g.string(t)][3])+"/"+g.string(this._BehaviorSplitValues.h["AfterImageSettings"+g.string(t)][4])),""!=this._ActorImageInputLocalValue&&null!=this.actor.getActorValue(this._ActorImageInputLocalValue)?this._Image=this.actor.getActorValue(this._ActorImageInputLocalValue).clone():this._Image=Ke.getImageForActor(this.actor).clone(),this._ImageInstance=new fi(new di(this._Image)),e=0|Ke.asNumber(this._BehaviorSplitValues.h["AfterImageSettings"+g.string(t)][8]),i=0|Ke.asNumber(this._BehaviorSplitValues.h["AfterImageSettings"+g.string(t)][9]),null==(s=0|Ke.asNumber(this._BehaviorSplitValues.h["AfterImageSettings"+g.string(t)][10]))&&(s=0),null==i&&(i=0),null==e&&(e=0),this._AfterImageColor=e<<16|i<<8|s,"Fill"==this._BehaviorSplitValues.h["AfterImageSettings"+g.string(t)][7]&&(Ke.fillImage(this._Image,this._AfterImageColor),Ke.retainImageUsingMask(this._Image,Ke.getImageForActor(this.actor),0,0)),"Tint"==this._BehaviorSplitValues.h["AfterImageTint"+g.string(t)][0]&&Ke.setFilterForImage(this._ImageInstance,Ke.createTintFilter(this._AfterImageColor,Ke.asNumber(this._BehaviorSplitValues.h["AfterImageTint"+g.string(t)][1])/100)),"Add"==this._BehaviorSplitValues.h["AfterImageSettings"+g.string(t)][6]&&this._ImageInstance.set_blendMode(0),"Multiply"==this._BehaviorSplitValues.h["AfterImageSettings"+g.string(t)][6]&&this._ImageInstance.set_blendMode(9),"Screen"==this._BehaviorSplitValues.h["AfterImageSettings"+g.string(t)][6]&&this._ImageInstance.set_blendMode(12),"Normal"==this._BehaviorSplitValues.h["AfterImageSettings"+g.string(t)][6]&&this._ImageInstance.set_blendMode(10),this._AfterImagesInstances.push(this._ImageInstance),Ke.asBoolean(this._BehaviorSplitValues.h["AfterImageSettings"+g.string(t)][1])?Ke.attachImageToLayer(this._ImageInstance,Ke.engine.getLayerById(this.actor.getLayerID()),0|this.actor.getX(),0|this.actor.getY(),2):Ke.attachImageToLayer(this._ImageInstance,Ke.engine.getLayerById(this.actor.getLayerID()),0|this.actor.getX(),0|this.actor.getY(),1),Ke.setOriginForImage(this._ImageInstance,this.actor.getWidth()/2,this.actor.getHeight()/2),this._ImageInstance.set_rotation(57.29577951308402*this.actor.getAngle()),0==Ke.asNumber(this._BehaviorSplitValues.h["AfterImageSettings"+g.string(t)][5])?this._HandleImage=!1:this._TimebetweenImagesTicks=Ke.asNumber(this._BehaviorSplitValues.h["AfterImageSettings"+g.string(t)][5]);break}for(e=0,i=this._ImageProperties.length;e<i;)if(t=e++,this._BehaviorSplitValues.h["OpacityChange"+g.string(this._AfterImageSettings[t])]=(""+g.string(this._ImageProperties[t])).split("/"),this._ImageProperties[t]=Ke.asNumber(this._BehaviorSplitValues.h["OpacityChange"+g.string(this._AfterImageSettings[t])][0])-Ke.asNumber(this._BehaviorSplitValues.h["OpacityChange"+g.string(this._AfterImageSettings[t])][1])/Ke.asNumber(this._BehaviorSplitValues.h["OpacityChange"+g.string(this._AfterImageSettings[t])][2])+"/"+g.string(this._BehaviorSplitValues.h["OpacityChange"+g.string(this._AfterImageSettings[t])][1])+"/"+g.string(this._BehaviorSplitValues.h["OpacityChange"+g.string(this._AfterImageSettings[t])][2]),this._AfterImagesInstances[t].set_alpha(Ke.asNumber(this._BehaviorSplitValues.h["OpacityChange"+g.string(this._AfterImageSettings[t])][0])/100),0>=Ke.asNumber(this._ImageProperties[t])){Ke.removeImage(this._AfterImagesInstances[t]),this._AfterImagesInstances.splice(t,1),this._ImageProperties.splice(t,1);break}this._OldX=this.actor.getX(),this._OldY=this.actor.getY(),this._OldFrame=this.actor.getCurrentFrame(),this._OldAnimation=this.actor.getAnimation(),this._OldAngle=57.29577951308402*this.actor.getAngle()}},_customEvent_StartAfterImage:function(){this._Activate=!0,this._HandleImage=!1,this._TimebetweenImagesTicks=0},_customEvent_StopAfterImage:function(){this._HandleImage=this._Activate=!1,this._TimebetweenImagesTicks=0;for(var t=Object.keys(this._ImageCooldowns.h),e=t.length,i=0;i<e;){var s=t[i++],n=this._ImageCooldowns;Object.prototype.hasOwnProperty.call(n.h,s)&&delete n.h[s]}},_customEvent_ClearAfterImages:function(){for(var t=0,e=this._ImageProperties.length;t<e;){var i=t++;Ke.removeImage(this._AfterImagesInstances[i])}this._AfterImagesInstances.length=0,this._ImageProperties.length=0,this._AfterImagesOn.length=0,this._customEvent_StopAfterImage()},_customBlock_AfterImagePreset:function(t,e){if(Object.prototype.hasOwnProperty.call(this._AfterImagePresets.h,t)){var i=0;for(t=vo.__cast((""+g.string(this._AfterImagePresets.h[t])).split(" "),Array);i<t.length;){var s=t[i];if(++i,e){if(!vr.contains(this._AfterImagesOn,s)){this._AfterImagesOn.push(s);var n=this._AfterImageLimit,r="AfterImageLimit"+g.string(this._AfterImageSettings[0|Ke.asNumber(s)]),a=this._BehaviorSplitValues;s="AfterImageSettings"+g.string(this._AfterImageSettings[0|Ke.asNumber(s)]),s=Ke.asNumber(a.h[s][0]),n.h[r]=s}}else vr.contains(this._AfterImagesOn,s)&&(c.remove(this._AfterImagesOn,s),n=this._AfterImageLimit,r="AfterImageLimit"+g.string(this._AfterImageSettings[0|Ke.asNumber(s)]),a=this._BehaviorSplitValues,s="AfterImageSettings"+g.string(this._AfterImageSettings[0|Ke.asNumber(s)]),s=Ke.asNumber(a.h[s][0]),n.h[r]=s)}0==this._AfterImagesOn.length?this._HandleImage=this._Activate=!1:this._customEvent_StartAfterImage()}},init:function(){var t=this;this._AfterImageLimit=new pr,this._ImageCooldowns=new pr,this._AfterImagesInstances=[],this._ImageProperties=[],this._BehaviorSplitValues=new pr;for(var e=0,i=vo.__cast(this._AfterImageSettings,Array);e<i.length;){var s=i[e];++e,this._BehaviorSplitValues.h["AfterImageSettings"+g.string(s)]=(""+g.string(s)).split("/");var r=this._AfterImageLimit,a="AfterImageLimit"+g.string(s),o=Ke.asNumber(this._BehaviorSplitValues.h["AfterImageSettings"+g.string(s)][0]);r.h[a]=o,this._BehaviorSplitValues.h["AfterImageTint"+g.string(s)]=(""+g.string(this._BehaviorSplitValues.h["AfterImageSettings"+g.string(s)][7])).split(",")}Ke.runLater(50,function(e){t._AfterImagesOn=[],""!=t._ActiveAfterImages&&(e=t._ActiveAfterImages.split(" ").slice(),t._AfterImagesOn=e)},this.actor),this.addListener(this.actor.whenKilled,n(this,this._event_ActorCreated)),this.addListener(this.actor.whenDrawing,n(this,this._event_Drawing))},forwardMessage:function(t){},__class__:Xy});var Yy=function(t,e){Ke.call(this),this.nameMap.h["Behavior Split Values"]="_BehaviorSplitValues",this.nameMap.h.Activate="_Activate",this._Activate=!0,this.nameMap.h.Canvas="_Canvas",this.nameMap.h["Image Instance"]="_ImageInstance",this.nameMap.h["Light Animation"]="_LightAnimation",this._LightAnimation="",this.nameMap.h["Mask Image"]="_MaskImage",this.nameMap.h.Update="_Update",this._Update=!1,this.nameMap.h["Image Instances List"]="_ImageInstancesList",this.nameMap.h["Tint Layers"]="_TintLayers",this._TintLayers=["0,0,0,50,0,Multiply,3"],this.nameMap.h["Canvases List"]="_CanvasesList",this.nameMap.h["Screen Colors"]="_ScreenColors",this.nameMap.h["Tint Scene Layers"]="_TintSceneLayers",this.nameMap.h["Tint Index Settings"]="_TintIndexSettings",this.nameMap.h["Unpausable Tint Indexes"]="_UnpausableTintIndexes",this._UnpausableTintIndexes="",this.nameMap.h["Old Camera X"]="_OldCameraX",this._OldCameraX=0,this.nameMap.h["Old Camera Y"]="_OldCameraY",this._OldCameraY=0,this.nameMap.h["Mask Sources Map"]="_MaskSourcesMap",this.nameMap.h["Mask Source Instances Map"]="_MaskSourceInstancesMap"};r["scripts.Design_322_322_TintScreen"]=Yy,Yy.__name__="scripts.Design_322_322_TintScreen",Yy.__super__=ei,Yy.prototype=i(ei.prototype,{_BehaviorSplitValues:null,_Activate:null,_Canvas:null,_ImageInstance:null,_LightAnimation:null,_MaskImage:null,_Update:null,_ImageInstancesList:null,_TintLayers:null,_CanvasesList:null,_ScreenColors:null,_TintSceneLayers:null,_TintIndexSettings:null,_UnpausableTintIndexes:null,_OldCameraX:null,_OldCameraY:null,_MaskSourcesMap:null,_MaskSourceInstancesMap:null,_event_Updating:function(t){if(this.wrapper.enabled&&this._Activate){t=0;for(var e=this._ImageInstancesList.length;t<e;){var i=t++;if(null!=this._ScreenColors[i]&&(!Ke.engine.isPaused()||vr.contains(this._UnpausableTintIndexes.split(" "),i))&&(this._OldCameraX==Math.round(Ke.getScreenX())&&this._OldCameraY==Math.round(Ke.getScreenY())||(this._Canvas=this._CanvasesList[i],this._ImageInstance=this._ImageInstancesList[i],"Screen"!=this._TintSceneLayers[i]&&(Ke.setXForImage(this._ImageInstance,Ke.getScreenX()-Ke.getTileWidth()/2),Ke.setYForImage(this._ImageInstance,Ke.getScreenY()-Ke.getTileHeight()/2))),Object.prototype.hasOwnProperty.call(this._TintIndexSettings.h,""+i))){this._BehaviorSplitValues.h.TintIndexSettings=(""+g.string(this._TintIndexSettings.h[""+i])).split(",");var s=this._TintIndexSettings,n=g.string(this._BehaviorSplitValues.h.TintIndexSettings[0])+","+g.string(this._BehaviorSplitValues.h.TintIndexSettings[1])+","+g.string(this._BehaviorSplitValues.h.TintIndexSettings[2])+","+(Ke.asNumber(this._BehaviorSplitValues.h.TintIndexSettings[3])+(Ke.asNumber(this._BehaviorSplitValues.h.TintIndexSettings[0])-Ke.asNumber(this._BehaviorSplitValues.h.TintIndexSettings[1]))/(100*Ke.asNumber(this._BehaviorSplitValues.h.TintIndexSettings[2])));s.h[""+i]=n}}this._OldCameraX=Math.round(Ke.getScreenX()),this._OldCameraY=Math.round(Ke.getScreenY())}},_event_Drawing:function(t,e,i){if(this.wrapper.enabled){if(this._Activate){for(t=0,e=this._ImageInstancesList.length;t<e;)if(i=t++,null!=this._ScreenColors[i]&&(!Ke.engine.isPaused()||vr.contains(this._UnpausableTintIndexes.split(" "),i))){if(this._Canvas=this._CanvasesList[i],this._ImageInstance=this._ImageInstancesList[i],this._BehaviorSplitValues.h.TintIndexSettings=(""+g.string(this._TintIndexSettings.h[""+i])).split(","),Object.prototype.hasOwnProperty.call(this._TintIndexSettings.h,""+i))if(this._ImageInstance.set_alpha(Ke.asNumber(this._BehaviorSplitValues.h.TintIndexSettings[3])/100),0>=Ke.asNumber(this._BehaviorSplitValues.h.TintIndexSettings[0])-Ke.asNumber(this._BehaviorSplitValues.h.TintIndexSettings[1])){if(100*this._ImageInstance.get_alpha()<=Ke.asNumber(this._BehaviorSplitValues.h.TintIndexSettings[0]))if(this._ImageInstance.set_alpha(Ke.asNumber(this._BehaviorSplitValues.h.TintIndexSettings[0])/100),0==this._ImageInstance.get_alpha())this._TintIndexSettings.h[""+i]="Remove";else{var s=this._TintIndexSettings,n=""+i;Object.prototype.hasOwnProperty.call(s.h,n)&&delete s.h[n]}}else if(100*this._ImageInstance.get_alpha()>=Ke.asNumber(this._BehaviorSplitValues.h.TintIndexSettings[0])){this._ImageInstance.set_alpha(Ke.asNumber(this._BehaviorSplitValues.h.TintIndexSettings[0])/100);var r=this._TintIndexSettings,a=""+i;Object.prototype.hasOwnProperty.call(r.h,a)&&delete r.h[a]}if(!this._Update){Ke.fillImage(this._Canvas,this._ScreenColors[i]),r=this._MaskSourcesMap.h,a=(r=Object.keys(r)).length;for(var o=0;o<a;)n=r[o++],this._BehaviorSplitValues.h.MaskSource=(""+g.string(this._MaskSourcesMap.h[""+n])).split("/"),("-"==this._BehaviorSplitValues.h.MaskSource[7]||i==Ke.asNumber(this._BehaviorSplitValues.h.MaskSource[7]))&&(this._MaskImage="Actor"==this._BehaviorSplitValues.h.MaskSource[1]?Ke.resizeImage(Ke.getImageForActor(this._MaskSourceInstancesMap.h[""+n]),100*Ke.asNumber(this._BehaviorSplitValues.h.MaskSource[5])/Ke.asNumber(new fi(new di(Ke.getImageForActor(this._MaskSourceInstancesMap.h[""+n]))).get_width()/Ge.SCALE)/100,100*Ke.asNumber(this._BehaviorSplitValues.h.MaskSource[6])/Ke.asNumber(new fi(new di(Ke.getImageForActor(this._MaskSourceInstancesMap.h[""+n]))).get_height()/Ge.SCALE)/100,!1):Ke.resizeImage(Ke.getExternalImage(""+g.string(this._MaskSourceInstancesMap.h[""+n])),100*Ke.asNumber(this._BehaviorSplitValues.h.MaskSource[5])/Ke.asNumber(new fi(new di(Ke.getExternalImage(""+g.string(this._MaskSourceInstancesMap.h[""+n])))).get_width()/Ge.SCALE)/100,100*Ke.asNumber(this._BehaviorSplitValues.h.MaskSource[6])/Ke.asNumber(new fi(new di(Ke.getExternalImage(""+g.string(this._MaskSourceInstancesMap.h[""+n])))).get_height()/Ge.SCALE)/100,!1),"Clear"==this._BehaviorSplitValues.h.MaskSource[8]&&Ke.clearImageUsingMask(this._Canvas,this._MaskImage,0|Ke.asNumber(this._BehaviorSplitValues.h.MaskSource[3]),0|Ke.asNumber(this._BehaviorSplitValues.h.MaskSource[4])),"Add"==this._BehaviorSplitValues.h.MaskSource[8]&&Ke.drawImageOnImage(this._MaskImage,this._Canvas,0|Ke.asNumber(this._BehaviorSplitValues.h.MaskSource[3]),0|Ke.asNumber(this._BehaviorSplitValues.h.MaskSource[4]),0),"Alpha"==this._BehaviorSplitValues.h.MaskSource[8]&&Ke.drawImageOnImage(this._MaskImage,this._Canvas,0|Ke.asNumber(this._BehaviorSplitValues.h.MaskSource[3]),0|Ke.asNumber(this._BehaviorSplitValues.h.MaskSource[4]),1),"Darken"==this._BehaviorSplitValues.h.MaskSource[8]&&Ke.drawImageOnImage(this._MaskImage,this._Canvas,0|Ke.asNumber(this._BehaviorSplitValues.h.MaskSource[3]),0|Ke.asNumber(this._BehaviorSplitValues.h.MaskSource[4]),2),"Difference"==this._BehaviorSplitValues.h.MaskSource[8]&&Ke.drawImageOnImage(this._MaskImage,this._Canvas,0|Ke.asNumber(this._BehaviorSplitValues.h.MaskSource[3]),0|Ke.asNumber(this._BehaviorSplitValues.h.MaskSource[4]),3),"Erase"==this._BehaviorSplitValues.h.MaskSource[8]&&Ke.drawImageOnImage(this._MaskImage,this._Canvas,0|Ke.asNumber(this._BehaviorSplitValues.h.MaskSource[3]),0|Ke.asNumber(this._BehaviorSplitValues.h.MaskSource[4]),4),"Hardlight"==this._BehaviorSplitValues.h.MaskSource[8]&&Ke.drawImageOnImage(this._MaskImage,this._Canvas,0|Ke.asNumber(this._BehaviorSplitValues.h.MaskSource[3]),0|Ke.asNumber(this._BehaviorSplitValues.h.MaskSource[4]),5),"Invert"==this._BehaviorSplitValues.h.MaskSource[8]&&Ke.drawImageOnImage(this._MaskImage,this._Canvas,0|Ke.asNumber(this._BehaviorSplitValues.h.MaskSource[3]),0|Ke.asNumber(this._BehaviorSplitValues.h.MaskSource[4]),6),"Lighten"==this._BehaviorSplitValues.h.MaskSource[8]&&Ke.drawImageOnImage(this._MaskImage,this._Canvas,0|Ke.asNumber(this._BehaviorSplitValues.h.MaskSource[3]),0|Ke.asNumber(this._BehaviorSplitValues.h.MaskSource[4]),8),"Multiply"==this._BehaviorSplitValues.h.MaskSource[8]&&Ke.drawImageOnImage(this._MaskImage,this._Canvas,0|Ke.asNumber(this._BehaviorSplitValues.h.MaskSource[3]),0|Ke.asNumber(this._BehaviorSplitValues.h.MaskSource[4]),9),"Normal"==this._BehaviorSplitValues.h.MaskSource[8]&&Ke.drawImageOnImage(this._MaskImage,this._Canvas,0|Ke.asNumber(this._BehaviorSplitValues.h.MaskSource[3]),0|Ke.asNumber(this._BehaviorSplitValues.h.MaskSource[4]),10),"Overlay"==this._BehaviorSplitValues.h.MaskSource[8]&&Ke.drawImageOnImage(this._MaskImage,this._Canvas,0|Ke.asNumber(this._BehaviorSplitValues.h.MaskSource[3]),0|Ke.asNumber(this._BehaviorSplitValues.h.MaskSource[4]),11),"Screen"==this._BehaviorSplitValues.h.MaskSource[8]&&Ke.drawImageOnImage(this._MaskImage,this._Canvas,0|Ke.asNumber(this._BehaviorSplitValues.h.MaskSource[3]),0|Ke.asNumber(this._BehaviorSplitValues.h.MaskSource[4]),12),"Subtract"==this._BehaviorSplitValues.h.MaskSource[8]&&Ke.drawImageOnImage(this._MaskImage,this._Canvas,0|Ke.asNumber(this._BehaviorSplitValues.h.MaskSource[3]),0|Ke.asNumber(this._BehaviorSplitValues.h.MaskSource[4]),14))}}this._Update=!0}for(r=this._TintIndexSettings.h,a=(r=Object.keys(r)).length,o=0;o<a;)n=r[o++],"Remove"==this._TintIndexSettings.h[""+n]&&(Ke.removeImage(this._ImageInstancesList[0|Ke.asNumber(n)]),this._CanvasesList[0|Ke.asNumber(n)]=null,this._ImageInstancesList[0|Ke.asNumber(n)]=null,this._ScreenColors[0|Ke.asNumber(n)]=null,this._TintSceneLayers[0|Ke.asNumber(n)]=null,t=this._TintIndexSettings,n=""+Ke.asNumber(n),s=t,Object.prototype.hasOwnProperty.call(s.h,n)&&delete s.h[n])}},_customBlock_TintFullScreen:function(t,e,i,s,n,r){this._Activate=!0,this._Update=!1,this._ScreenColors[0|n]=t,null==this._ImageInstancesList[0|n]?(this._Canvas=Ke.newImage(Ke.getScreenWidth()+Ke.getTileWidth(),Ke.getScreenHeight()+Ke.getTileHeight()),Ke.fillImage(this._Canvas,t),this._ImageInstance=new fi(new di(this._Canvas)),this._ImageInstance.set_alpha(0),this._CanvasesList[0|n]=this._Canvas,this._ImageInstancesList[0|n]=this._ImageInstance,this._TintSceneLayers[0|n]=s,"Screen"==s?Ke.attachImageToHUD(this._ImageInstance,-Ke.getTileWidth()/2|0,-Ke.getTileHeight()/2|0):Ke.attachImageToLayer(this._ImageInstance,Ke.engine.getLayerById(0|Ke.asNumber(s)),Ke.getScreenX()-Ke.getTileWidth()/2|0,Ke.getScreenY()-Ke.getTileHeight()/2|0,1)):this._ImageInstance=this._ImageInstancesList[0|n],"Add"==i&&this._ImageInstance.set_blendMode(0),"Alpha"==i&&this._ImageInstance.set_blendMode(1),"Darken"==i&&this._ImageInstance.set_blendMode(2),"Difference"==i&&this._ImageInstance.set_blendMode(3),"Erase"==i&&this._ImageInstance.set_blendMode(4),"Hardlight"==i&&this._ImageInstance.set_blendMode(5),"Invert"==i&&this._ImageInstance.set_blendMode(6),"Lighten"==i&&this._ImageInstance.set_blendMode(8),"Multiply"==i&&this._ImageInstance.set_blendMode(9),"Normal"==i&&this._ImageInstance.set_blendMode(10),"Overlay"==i&&this._ImageInstance.set_blendMode(11),"Screen"==i&&this._ImageInstance.set_blendMode(12),"Subtract"==i&&this._ImageInstance.set_blendMode(14),0==r?this._ImageInstance.set_alpha(e/100):(t=this._TintIndexSettings,e=e+","+100*this._ImageInstance.get_alpha()+","+r+","+100*this._ImageInstance.get_alpha(),t.h[""+n]=e)},_customBlock_RemoveTint:function(t,e){if("-"==e)if(0==t){e=0;for(var i=vo.__cast(this._ImageInstancesList,Array);e<i.length;)t=i[e],++e,Ke.removeImage(t);for(this._Activate=!1,this._CanvasesList.length=0,this._ImageInstancesList.length=0,this._ScreenColors.length=0,this._TintSceneLayers.length=0,e=(t=Object.keys(this._TintIndexSettings.h)).length,i=0;i<e;){var s=t[i++],n=this._TintIndexSettings;Object.prototype.hasOwnProperty.call(n.h,s)&&delete n.h[s]}}else for(e=0,i=this._ImageInstancesList.length;e<i;){var r=e++;s=this._TintIndexSettings,n="0,"+100*this._ImageInstance.get_alpha()+","+t+","+100*this._ImageInstance.get_alpha(),s.h[""+r]=n}else null!=this._ImageInstancesList[0|Ke.asNumber(e)]&&(0==t?(Ke.removeImage(this._ImageInstancesList[0|Ke.asNumber(e)]),this._CanvasesList[0|Ke.asNumber(e)]=null,this._ImageInstancesList[0|Ke.asNumber(e)]=null,this._ScreenColors[0|Ke.asNumber(e)]=null,this._TintSceneLayers[0|Ke.asNumber(e)]=null):(s=this._TintIndexSettings,n="0,"+100*this._ImageInstance.get_alpha()+","+t+","+100*this._ImageInstance.get_alpha(),s.h[e]=n))},_customBlock_CreateMaskSource:function(t,e,i,s,n,r,a,o,l){if(!Object.prototype.hasOwnProperty.call(this._MaskSourcesMap.h,t)){var h=this._MaskSourcesMap;r=t+"/"+e+"/"+i+"/"+(s-Math.round(Ke.getScreenX())+Ke.getTileWidth()/2)+"/"+(n-Math.round(Ke.getScreenY())+Ke.getTileHeight()/2)+"/"+r+"/"+a+"/"+o+"/"+l,h.h[t]=r,"Actor"==e?(Ke.createRecycledActor(Ke.getActorTypeByName(i),s,n,0),Ke.getLastCreatedActor().setAnimation(this._LightAnimation),Ke.getLastCreatedActor().disableActorDrawing(),h=this._MaskSourceInstancesMap,r=Ke.getLastCreatedActor(),h.h[t]=r):this._MaskSourceInstancesMap.h[t]=i,this._Update=!1}},_customBlock_RemoveMaskSource:function(t){if(Object.prototype.hasOwnProperty.call(this._MaskSourcesMap.h,t)){"Actor"==""+(""+g.string(this._MaskSourcesMap.h[t])).split("/")[1]&&this._MaskSourceInstancesMap.h[t].isAlive()&&Ke.recycleActor(this._MaskSourceInstancesMap.h[t]);var e=this._MaskSourcesMap;Object.prototype.hasOwnProperty.call(e.h,t)&&delete e.h[t],e=this._MaskSourceInstancesMap,Object.prototype.hasOwnProperty.call(e.h,t)&&delete e.h[t],this._Update=!1}},_customBlock_MoveMaskSource:function(t,e,i){if(this._BehaviorSplitValues.h.MoveMaskSource=(""+g.string(this._MaskSourcesMap.h[t])).split("/"),Object.prototype.hasOwnProperty.call(this._MaskSourcesMap.h,t)&&(Math.round(Ke.asNumber(this._BehaviorSplitValues.h.MoveMaskSource[3]))!=Math.round(e-Math.round(Ke.getScreenX())+Ke.getTileWidth()/2)||Math.round(Ke.asNumber(this._BehaviorSplitValues.h.MoveMaskSource[4]))!=Math.round(i-Math.round(Ke.getScreenY())+Ke.getTileHeight()/2))){var s=this._MaskSourcesMap,n=""+g.string(this._BehaviorSplitValues.h.MoveMaskSource[1]),r=""+g.string(this._BehaviorSplitValues.h.MoveMaskSource[2]);e=""+(e-Math.round(Ke.getScreenX())+Ke.getTileWidth()/2),i=""+(i-Math.round(Ke.getScreenY())+Ke.getTileHeight()/2),s.h[t]=t+"/"+n+"/"+r+"/"+e+"/"+i+"/"+g.string(this._BehaviorSplitValues.h.MoveMaskSource[5])+"/"+g.string(this._BehaviorSplitValues.h.MoveMaskSource[6])+"/"+g.string(this._BehaviorSplitValues.h.MoveMaskSource[7])+"/"+g.string(this._BehaviorSplitValues.h.MoveMaskSource[8]),this._Update=!1}},_customBlock_ResizeMaskSource:function(t,e,i){this._BehaviorSplitValues.h.ResizeMaskSource=(""+g.string(this._MaskSourcesMap.h[t])).split("/"),!Object.prototype.hasOwnProperty.call(this._MaskSourcesMap.h,t)||Math.round(Ke.asNumber(this._BehaviorSplitValues.h.ResizeMaskSource[5]))==Math.round(e)&&Math.round(Ke.asNumber(this._BehaviorSplitValues.h.ResizeMaskSource[6]))==Math.round(i)||(this._MaskSourcesMap.h[t]=t+"/"+g.string(this._BehaviorSplitValues.h.ResizeMaskSource[1])+"/"+g.string(this._BehaviorSplitValues.h.ResizeMaskSource[2])+"/"+g.string(this._BehaviorSplitValues.h.ResizeMaskSource[3])+"/"+g.string(this._BehaviorSplitValues.h.ResizeMaskSource[4])+"/"+e+"/"+i+"/"+g.string(this._BehaviorSplitValues.h.ResizeMaskSource[7])+"/"+g.string(this._BehaviorSplitValues.h.ResizeMaskSource[8]),this._Update=!1)},init:function(){if(this._BehaviorSplitValues=new pr,this._MaskSourcesMap=new pr,this._MaskSourceInstancesMap=new pr,this._ScreenColors=[],this._ImageInstancesList=[],this._CanvasesList=[],this._TintSceneLayers=[],this._TintIndexSettings=new pr,this._Activate)for(var t=0,e=vo.__cast(this._TintLayers,Array);t<e.length;){var i=e[t];if(++t,this._BehaviorSplitValues.h[""+g.string(i)]=(""+g.string(i)).split(","),this._Canvas=Ke.newImage(Ke.getScreenWidth()+Ke.getTileWidth(),Ke.getScreenHeight()+Ke.getTileHeight()),this._ImageInstance=new fi(new di(this._Canvas)),this._ImageInstancesList.push(this._ImageInstance),this._CanvasesList.push(this._Canvas),"Add"==this._BehaviorSplitValues.h[""+g.string(i)][5]&&this._ImageInstance.set_blendMode(0),"Alpha"==this._BehaviorSplitValues.h[""+g.string(i)][5]&&this._ImageInstance.set_blendMode(1),"Darken"==this._BehaviorSplitValues.h[""+g.string(i)][5]&&this._ImageInstance.set_blendMode(2),"Difference"==this._BehaviorSplitValues.h[""+g.string(i)][5]&&this._ImageInstance.set_blendMode(3),"Erase"==this._BehaviorSplitValues.h[""+g.string(i)][5]&&this._ImageInstance.set_blendMode(4),"Hardlight"==this._BehaviorSplitValues.h[""+g.string(i)][5]&&this._ImageInstance.set_blendMode(5),"Invert"==this._BehaviorSplitValues.h[""+g.string(i)][5]&&this._ImageInstance.set_blendMode(6),"Lighten"==this._BehaviorSplitValues.h[""+g.string(i)][5]&&this._ImageInstance.set_blendMode(8),"Multiply"==this._BehaviorSplitValues.h[""+g.string(i)][5]&&this._ImageInstance.set_blendMode(9),"Normal"==this._BehaviorSplitValues.h[""+g.string(i)][5]&&this._ImageInstance.set_blendMode(10),"Overlay"==this._BehaviorSplitValues.h[""+g.string(i)][5]&&this._ImageInstance.set_blendMode(11),"Screen"==this._BehaviorSplitValues.h[""+g.string(i)][5]&&this._ImageInstance.set_blendMode(12),"Subtract"==this._BehaviorSplitValues.h[""+g.string(i)][5]&&this._ImageInstance.set_blendMode(14),"Screen"==this._BehaviorSplitValues.h[""+g.string(i)][4]?(this._TintSceneLayers.push("Screen"),Ke.attachImageToHUD(this._ImageInstance,-Ke.getTileWidth()/2|0,-Ke.getTileHeight()/2|0)):(this._TintSceneLayers.push(this._BehaviorSplitValues.h[""+g.string(i)][4]),Ke.attachImageToLayer(this._ImageInstance,Ke.engine.getLayerById(0|Ke.asNumber(this._BehaviorSplitValues.h[""+g.string(i)][4])),Ke.getScreenX()-Ke.getTileWidth()/2|0,Ke.getScreenY()-Ke.getTileHeight()/2|0,1)),this._Activate){var s=this._ScreenColors,r=0|Ke.asNumber(this._BehaviorSplitValues.h[""+g.string(i)][0]),a=0|Ke.asNumber(this._BehaviorSplitValues.h[""+g.string(i)][1]),o=0|Ke.asNumber(this._BehaviorSplitValues.h[""+g.string(i)][2]);null==o&&(o=0),null==a&&(a=0),null==r&&(r=0),s.push(r<<16|a<<8|o),s=this._Canvas,r=0|Ke.asNumber(this._BehaviorSplitValues.h[""+g.string(i)][0]),a=0|Ke.asNumber(this._BehaviorSplitValues.h[""+g.string(i)][1]),null==(o=0|Ke.asNumber(this._BehaviorSplitValues.h[""+g.string(i)][2]))&&(o=0),null==a&&(a=0),null==r&&(r=0),Ke.fillImage(s,r<<16|a<<8|o),0==Ke.asNumber(this._BehaviorSplitValues.h[""+g.string(i)][6])?this._ImageInstance.set_alpha(Ke.asNumber(this._BehaviorSplitValues.h[""+g.string(i)][3])/100):(this._ImageInstance.set_alpha(0),s=this._TintIndexSettings,r=""+Ke.asNumber(this._TintLayers.indexOf(i)),i=g.string(this._BehaviorSplitValues.h[""+g.string(i)][3])+","+100*this._ImageInstance.get_alpha()+","+g.string(this._BehaviorSplitValues.h[""+g.string(i)][6])+","+100*this._ImageInstance.get_alpha(),s.h[r]=i)}}this.addListener(Ke.engine.whenUpdated,n(this,this._event_Updating)),this.addListener(Ke.engine.whenDrawing,n(this,this._event_Drawing))},forwardMessage:function(t){},__class__:Yy});var jy=function(t,e,i){Je.call(this,e),this.nameMap.h.Actor="actor",this.nameMap.h["Colors Map"]="_ColorsMap",(t=new pr).h.Normal="[Remove]",this._ColorsMap=t,this.nameMap.h["Current Color Mode"]="_CurrentColorMode",this._CurrentColorMode="",this.nameMap.h["Color Mode Global Value"]="_ColorModeGlobalValue",this._ColorModeGlobalValue="ColorMode",this.nameMap.h["Actor Image"]="_ActorImage",this.nameMap.h["Actor Image Instance"]="_ActorImageInstance",this.nameMap.h["Old Color Mode"]="_OldColorMode",this._OldColorMode="",this.nameMap.h["Old Animation"]="_OldAnimation",this._OldAnimation="",this.nameMap.h["Old Frame"]="_OldFrame",this._OldFrame=0,this.nameMap.h["Effects List"]="_EffectsList",this.nameMap.h.Update="_Update",this._Update=!1,this.nameMap.h["Old Opacity"]="_OldOpacity",this._OldOpacity=0,this.nameMap.h["Behavior Split Values"]="_BehaviorSplitValues",this.nameMap.h.Optimize="_Optimize",this._Optimize=!0,this.nameMap.h["Stored Colors"]="_StoredColors",this.nameMap.h["Color Swap Applied"]="_ColorSwapApplied",this._ColorSwapApplied=!1};r["scripts.Design_323_323_ColorSwap"]=jy,jy.__name__="scripts.Design_323_323_ColorSwap",jy.__super__=Je,jy.prototype=i(Je.prototype,{_ColorsMap:null,_CurrentColorMode:null,_ColorModeGlobalValue:null,_ActorImage:null,_ActorImageInstance:null,_OldColorMode:null,_OldAnimation:null,_OldFrame:null,_EffectsList:null,_Update:null,_OldOpacity:null,_BehaviorSplitValues:null,_Optimize:null,_StoredColors:null,_ColorSwapApplied:null,_event_Updating:function(t){if(this.wrapper.enabled){if(Ke.isTransitioning()&&(this._Update=!0),!this._Optimize||this._Update||this._CurrentColorMode!=this._OldColorMode||this._OldAnimation!=this.actor.getAnimation()||this._OldFrame!=this.actor.getCurrentFrame()||this._OldOpacity!=100*this.actor.get_alpha())if(this._Update=!1,this._OldColorMode=this._CurrentColorMode,Ke.clearImage(this._ActorImage),this._ColorSwapApplied&&Ke.removeImage(this._ActorImageInstance),this._ActorImage=Ke.getImageForActor(this.actor).clone(),this._ActorImageInstance=new fi(new di(this._ActorImage)),"[Remove]"==this._ColorsMap.h[this._CurrentColorMode]||null==this._ColorsMap.h[this._CurrentColorMode]){if(this._ColorSwapApplied){Ke.clearImage(this._ActorImage),this.actor.enableActorDrawing(),this.actor.clearFilters(),t=0;for(var e=vo.__cast(this._EffectsList,Array);t<e.length;){var i=e[t];++t,this.actor.setFilter([i])}this._ActorImage=Ke.getImageForActor(this.actor).clone(),this._ColorSwapApplied=!1}}else{if(t=this._StoredColors,e=this.actor.getAnimation()+""+this.actor.getCurrentFrame(),Object.prototype.hasOwnProperty.call(t.h,e))t=this._StoredColors,e=this.actor.getAnimation()+""+this.actor.getCurrentFrame(),this._ActorImage=t.h[e].clone(),this._ActorImageInstance=new fi(new di(this._ActorImage));else{for(t=0,e=vo.__cast(this._ColorsMap.h[this._CurrentColorMode],Array);t<e.length;){i=e[t],++t,Object.prototype.hasOwnProperty.call(this._BehaviorSplitValues.h,""+g.string(i))||(this._BehaviorSplitValues.h[""+g.string(i)]=(""+g.string(i)).split(","));var s=this._ActorImage,n=0|Ke.asNumber(this._BehaviorSplitValues.h[""+g.string(i)][0]),r=0|Ke.asNumber(this._BehaviorSplitValues.h[""+g.string(i)][1]),a=0|Ke.asNumber(this._BehaviorSplitValues.h[""+g.string(i)][2]);null==a&&(a=0),null==r&&(r=0),null==n&&(n=0);var o=0|Ke.asNumber(this._BehaviorSplitValues.h[""+g.string(i)][3]),l=0|Ke.asNumber(this._BehaviorSplitValues.h[""+g.string(i)][4]);null==(i=0|Ke.asNumber(this._BehaviorSplitValues.h[""+g.string(i)][5]))&&(i=0),null==l&&(l=0),null==o&&(o=0),Ke.imageSwapColor(s,n<<16|r<<8|a,o<<16|l<<8|i)}t=this._StoredColors,e=this.actor.getAnimation()+""+this.actor.getCurrentFrame(),s=this._ActorImage.clone(),t.h[e]=s}for(t=0,e=vo.__cast(this._EffectsList,Array);t<e.length;)i=e[t],++t,Ke.setFilterForImage(this._ActorImageInstance,i);this._ActorImageInstance.set_alpha(100*this.actor.get_alpha()/100),Ke.attachImageToActor(this._ActorImageInstance,this.actor,0,0,1),this.actor.disableActorDrawing(),this._ColorSwapApplied=!0}this._OldOpacity=100*this.actor.get_alpha(),this._OldAnimation=this.actor.getAnimation(),this._OldFrame=this.actor.getCurrentFrame()}},_customEvent_RemoveEffects:function(){this._EffectsList.length=0,Ke.clearFiltersForImage(this._ActorImageInstance),this.actor.clearFilters(),this._ActorImageInstance.set_alpha(1)},_customBlock_SwapColorMode:function(t){this._CurrentColorMode=t},_customBlock_EffectColorSwap:function(t){this._EffectsList.push(t),this._Update=!0},init:function(){this._BehaviorSplitValues=new pr,this._StoredColors=new pr;for(var t=Object.keys(this._ColorsMap.h),e=t.length,i=0;i<e;){var s=t[i++];"[Remove]"!=this._ColorsMap.h[""+s]&&(this._ColorsMap.h[""+s]=(""+g.string(this._ColorsMap.h[""+s])).split("/"))}this._EffectsList=[],this._ActorImage=Ke.getImageForActor(this.actor).clone(),this._ActorImageInstance=new fi(new di(this._ActorImage)),""!=this._ColorModeGlobalValue&&null!=Ke.getGameAttribute(this._ColorModeGlobalValue)&&(this._CurrentColorMode=""+g.string(Ke.getGameAttribute(this._ColorModeGlobalValue))),this.addListener(this.actor.whenUpdated,n(this,this._event_Updating))},forwardMessage:function(t){},__class__:jy});var Ky=function(t,e){Ke.call(this),this.nameMap.h["Image Pieces"]="_ImagePieces",this.nameMap.h["Return Image"]="_ReturnImage",this.nameMap.h["Piece Width"]="_PieceWidth",this._PieceWidth=0,this.nameMap.h["Piece Height"]="_PieceHeight",this._PieceHeight=0};r["scripts.Design_324_324_ResizeSceneMenuWindow"]=Ky,Ky.__name__="scripts.Design_324_324_ResizeSceneMenuWindow",Ky.__super__=ei,Ky.prototype=i(ei.prototype,{_ImagePieces:null,_ReturnImage:null,_PieceWidth:null,_PieceHeight:null,_customBlock_ResizeSceneMenuWindow:function(t,e,i){this._ImagePieces=[],this._ReturnImage=Ke.newImage(0|e,0|i),this._PieceWidth=Math.round(new fi(new di(t)).get_width()/Ge.SCALE/3),this._PieceHeight=Math.round(new fi(new di(t)).get_height()/Ge.SCALE/3);for(var s=0;9>s;){var n=s++;this._ImagePieces.push(Ke.getSubImage(t,n%3*this._PieceWidth|0,this._PieceHeight*Math.floor(n/3)|0,0|this._PieceWidth,0|this._PieceHeight))}return Ke.drawImageOnImage(this._ImagePieces[0],this._ReturnImage,0,0,10),0<100*(e-2*this._PieceWidth)/this._PieceWidth&&Ke.drawImageOnImage(Ke.resizeImage(this._ImagePieces[1],Math.ceil(100*(e-2*this._PieceWidth)/this._PieceWidth)/100,1,!1),this._ReturnImage,0|this._PieceWidth,0,10),Ke.drawImageOnImage(this._ImagePieces[2],this._ReturnImage,e-this._PieceWidth|0,0,10),0<100*(i-2*this._PieceHeight)/this._PieceHeight&&Ke.drawImageOnImage(Ke.resizeImage(this._ImagePieces[3],1,Math.ceil(100*(i-2*this._PieceHeight)/this._PieceHeight)/100,!1),this._ReturnImage,0,0|this._PieceHeight,10),0<100*(e-2*this._PieceWidth)/this._PieceWidth&&0<100*(i-2*this._PieceHeight)/this._PieceHeight&&Ke.drawImageOnImage(Ke.resizeImage(this._ImagePieces[4],Math.ceil(100*(e-2*this._PieceWidth)/this._PieceWidth)/100,Math.ceil(100*(i-2*this._PieceHeight)/this._PieceHeight)/100,!1),this._ReturnImage,0|this._PieceWidth,0|this._PieceHeight,10),0<100*(i-2*this._PieceHeight)/this._PieceHeight&&Ke.drawImageOnImage(Ke.resizeImage(this._ImagePieces[5],1,Math.ceil(100*(i-2*this._PieceHeight)/this._PieceHeight)/100,!1),this._ReturnImage,e-this._PieceWidth|0,0|this._PieceHeight,10),Ke.drawImageOnImage(this._ImagePieces[6],this._ReturnImage,0,i-this._PieceHeight|0,10),0<100*(e-2*this._PieceWidth)/this._PieceWidth&&Ke.drawImageOnImage(Ke.resizeImage(this._ImagePieces[7],Math.ceil(100*(e-2*this._PieceWidth)/this._PieceWidth)/100,1,!1),this._ReturnImage,0|this._PieceWidth,i-this._PieceHeight|0,10),Ke.drawImageOnImage(this._ImagePieces[8],this._ReturnImage,e-this._PieceWidth|0,i-this._PieceHeight|0,10),this._ImagePieces.length=0,this._ReturnImage},init:function(){},forwardMessage:function(t){},__class__:Ky});var Jy=function(t,e,i){Je.call(this,e),this.nameMap.h.Actor="actor",this.nameMap.h.Time="_Time",this._Time=0,this.nameMap.h["Die Animation"]="_DieAnimation",this._DieAnimation="",this.nameMap.h.Fade="_Fade",this._Fade="",this.nameMap.h["Fade Time"]="_FadeTime",this._FadeTime=0,this.nameMap.h.Stop="_Stop",this._Stop=!1,this.nameMap.h["Die Animation Duration"]="_DieAnimationDuration",this._DieAnimationDuration=0,this.nameMap.h.Triggers="_Triggers",this.nameMap.h["Time Ticks"]="_TimeTicks",this._TimeTicks=0,this.nameMap.h["Handle Time Up"]="_HandleTimeUp",this._HandleTimeUp=!1,this.nameMap.h.Initialized="_Initialized",this._Initialized=!1,this.nameMap.h["Time by Animation"]="_TimebyAnimation",this.nameMap.h["Off Screen Only"]="_OffScreenOnly",this._OffScreenOnly=!1,this.nameMap.h["Behavior Split Values List"]="_BehaviorSplitValuesList"};r["scripts.Design_325_325_DieOverTime"]=Jy,Jy.__name__="scripts.Design_325_325_DieOverTime",Jy.__super__=Je,Jy.prototype=i(Je.prototype,{_Time:null,_DieAnimation:null,_Fade:null,_FadeTime:null,_Stop:null,_DieAnimationDuration:null,_Triggers:null,_TimeTicks:null,_HandleTimeUp:null,_Initialized:null,_TimebyAnimation:null,_OffScreenOnly:null,_BehaviorSplitValuesList:null,_event_Updated:function(t){var e=this;if(this.wrapper.enabled){t=this._TimebyAnimation;var i=this.actor.getAnimation();if(Object.prototype.hasOwnProperty.call(t.h,i)&&(t=this._TimebyAnimation,i=this.actor.getAnimation(),this._BehaviorSplitValuesList=(""+g.string(t.h[i])).split(","),this._Stop=Ke.asBoolean(this._BehaviorSplitValuesList[0]),this._OffScreenOnly=Ke.asBoolean(this._BehaviorSplitValuesList[1]),this._Time=Ke.asNumber(this._BehaviorSplitValuesList[2]),this._Fade=""+g.string(this._BehaviorSplitValuesList[3]),this._FadeTime=Ke.asNumber(this._BehaviorSplitValuesList[4]),this._DieAnimation=""+g.string(this._BehaviorSplitValuesList[5]),this._DieAnimationDuration=Ke.asNumber(this._BehaviorSplitValuesList[6])),this._Initialized||(this._Initialized=!0,Ke.runLater(10,function(t){"From Start"==e._Fade&&e.actor.fadeTo(0,e._FadeTime,da.backOut)},this.actor)),(!this._OffScreenOnly||this._OffScreenOnly&&!this.actor.isOnScreen())&&(this._TimeTicks+=.01),this._TimeTicks>=this._Time&&!this._HandleTimeUp&&(this._HandleTimeUp=!0,this.actor.isAlive())){for(this._Stop&&(this.actor.setIgnoreGravity(!0),this.actor.setXVelocity(0),this.actor.setYVelocity(0)),t=0,i=vo.__cast(this._Triggers,Array);t<i.length;){var s=i[t];++t,this.actor.shout("_customEvent_"+g.string(s))}"After Time"==this._Fade?(this.actor.fadeTo(0,this._FadeTime,da.backOut),Ke.runLater(1e3*this._FadeTime,function(t){e.actor.isAlive()&&(e.actor.setAnimation(e._DieAnimation),Ke.runLater(1e3*e._DieAnimationDuration,function(t){e.actor.isAlive()&&Ke.recycleActor(e.actor)},e.actor))},this.actor)):(this.actor.setAnimation(this._DieAnimation),Ke.runLater(1e3*this._DieAnimationDuration,function(t){e.actor.isAlive()&&Ke.recycleActor(e.actor)},this.actor))}}},init:function(){this.actor.makeAlwaysSimulate(),this.addListener(this.actor.whenUpdated,n(this,this._event_Updated))},forwardMessage:function(t){},__class__:Jy});var Zy=function(t,e,i){Je.call(this,e),this.nameMap.h.Actor="actor",this.nameMap.h["Sprite Sheet"]="_SpriteSheet",this._SpriteSheet="_skin0_white.png",this.nameMap.h["Current Animation"]="_CurrentAnimation",this._CurrentAnimation="idle-r",this.nameMap.h.Animations="_Animations",(t=new pr).h["idle-r"]="0,0,6|0,1,6,0",t.h["idle-l"]="0,0,6|0,1,6,0",t.h["fall-r"]="1,1,-",t.h["fall-l"]="1,1,-",t.h["jump-r"]="1,0,-",t.h["jump-l"]="1,0,-",t.h["walk-r"]="2,0,6|2,1,6|2,2,6,0",t.h["walk-l"]="2,0,6|2,1,6|2,2,6,0",t.h.dead="3,0,-",this._Animations=t,this.nameMap.h["Animation Scripts"]="_AnimationScripts",this.nameMap.h["Current Frame"]="_CurrentFrame",this._CurrentFrame=0,this.nameMap.h["Frame Count"]="_FrameCount",this._FrameCount=0,this.nameMap.h["Old Animation"]="_OldAnimation",this._OldAnimation="",this.nameMap.h["Old Frame"]="_OldFrame",this._OldFrame=0,this.nameMap.h["Animation Frame Image"]="_AnimationFrameImage",this.nameMap.h["Animation Frame Instance"]="_AnimationFrameInstance",this.nameMap.h["Behavior Split Values"]="_BehaviorSplitValues",this.nameMap.h["Dummy Map"]="_DummyMap",this.nameMap.h.Facing="_Facing",this._Facing="",this.nameMap.h["Sprite Sheet Facing"]="_SpriteSheetFacing",this._SpriteSheetFacing="",this.nameMap.h["Old Facing"]="_OldFacing",this._OldFacing="",this.nameMap.h.Debug="_Debug",this._Debug=!1,this.nameMap.h["Debug Font"]="_DebugFont",this.nameMap.h["Dummy List"]="_DummyList",this.nameMap.h["Old Sprite Sheet"]="_OldSpriteSheet",this._OldSpriteSheet="",this.nameMap.h["Image Bank"]="_ImageBank",this.nameMap.h["Animation Speed Multiplier"]="_AnimationSpeedMultiplier",this._AnimationSpeedMultiplier=1,this.nameMap.h["Current Animation Local Value"]="_CurrentAnimationLocalValue",this._CurrentAnimationLocalValue="[Actor]",this.nameMap.h["Current Animation Values List"]="_CurrentAnimationValuesList",this._CurrentAnimationValuesList="WallSlide|_IsWallSliding,Wall Slide,true;StopAirDash|_IsAirDashing,Dash,true/_IsStoppingAirDash,Dash,true;AirDash|_IsAirDashing,Air Dash,true;AirJumpUp|_IsAirJumping,Air Jump,true/_JumpingUp,Jump,true;AirJumpDown|_IsAirJumping,Air Jump,true/_FallingDown,Jump,true;WallJump|_WallJumped,Wall Jump,true;RunningJump|_JumpingUp,Jump,true/_RunningJump,Jump,true;Jump|_JumpingUp,Jump,true;RunningFall|_FallingDown,Jump,true/_RunningJump,Jump,true;Fall|_FallingDown,Jump,true;ReadyJump|_ReadyJump,Jump,true;RunningLand|_IsLanding,Jump,true/_RunningJump,Jump,true;Landing|_IsLanding,Jump,true;StopDash|_IsDashing,Dash,true/_IsStoppingDash,Dash,true;Dash|_IsDashing,Dash,true;GroundStop|_IsStopping,Walk,true;Run|_IsWalking,Walk,true/_IsRunning,Walk,true;BackWalk|_IsWalking,Walk,true/_IsBackWalking,Walk,true;Walk|_IsWalking,Walk,true;BackCrawl|_IsDucking,Duck,true/_IsWalking,Walk,true/_IsBackWalking,Walk,true;Crawl|_IsDucking,Duck,true/_IsWalking,Walk,true;Standing|_IsDucking,Duck,true/_IsStanding,Duck,true;CrouchDone|_IsDucking,Duck,true/_DuckFinished,Duck,true;Crouching|_IsDucking,Duck,true".split(";"),this.nameMap.h["Current Animation Default Value"]="_CurrentAnimationDefaultValue",this._CurrentAnimationDefaultValue="Idle",this.nameMap.h["Checked Values"]="_CheckedValues",this._CheckedValues=0,this.nameMap.h["Sprite Sheet Dimensions and Offsets"]="_SpriteSheetDimensionsandOffsets",(t=new pr).h["-"]="Right,0,0,Auto,Auto",this._SpriteSheetDimensionsandOffsets=t,this.nameMap.h["Sprite Width"]="_SpriteWidth",this._SpriteWidth=0,this.nameMap.h["Sprite Height"]="_SpriteHeight",this._SpriteHeight=0,this.nameMap.h["Used Sprite Sheet"]="_UsedSpriteSheet",this._UsedSpriteSheet="",this.nameMap.h["Global Collision Box"]="_GlobalCollisionBox",this._GlobalCollisionBox="",this.nameMap.h["Collision Detection"]="_CollisionDetection",this.nameMap.h["Number of Frames"]="_NumberofFrames",this._NumberofFrames=0,this.nameMap.h["Hide Sprite"]="_HideSprite",this._HideSprite=!0,this.nameMap.h["Anchor Points"]="_AnchorPoints",this.nameMap.h["Global Triggers"]="_GlobalTriggers",this.nameMap.h["Used Script Key"]="_UsedScriptKey",this._UsedScriptKey="",this.nameMap.h["Current Color Mode"]="_CurrentColorMode",this._CurrentColorMode="",this.nameMap.h["Colors Map"]="_ColorsMap",(t=new pr).h.Normal="[Remove]",this._ColorsMap=t,this.nameMap.h["Stored Colors"]="_StoredColors",this.nameMap.h["Old Color Mode"]="_OldColorMode",this._OldColorMode="",this.nameMap.h["Debug Colors"]="_DebugColors",(t=new pr).h.Physics="255,255,0",t.h.Solid="255,0,255",this._DebugColors=t,this.nameMap.h["Group Name"]="_GroupName",this._GroupName="",this.nameMap.h["Collision Boxes"]="_CollisionBoxes",this.nameMap.h["Check Facing"]="_CheckFacing",this._CheckFacing=!1,this.nameMap.h["Sprite Image Output Local Value"]="_SpriteImageOutputLocalValue",this._SpriteImageOutputLocalValue="SpriteImage",this.nameMap.h["Effects List"]="_EffectsList",this.nameMap.h["Old Effects Number"]="_OldEffectsNumber",this._OldEffectsNumber=0,this.nameMap.h["Update Effects"]="_UpdateEffects",this._UpdateEffects=!1,this.nameMap.h["Sprite Sheet Getter"]="_SpriteSheetGetter",this._SpriteSheetGetter="",this.nameMap.h["Scale Prefix"]="_ScalePrefix",this._ScalePrefix="#",this.nameMap.h["Collision Boxes Map"]="_CollisionBoxesMap",(t=new pr).h.Default="Physics,10,20,12,1,12,1,[Self]",this._CollisionBoxesMap=t,this.nameMap.h["Collision ID"]="_CollisionID",this._CollisionID="",this.nameMap.h["Facing Value Name"]="_FacingValueName",this._FacingValueName="Facing"};r["scripts.Design_326_326_AnimationbySpriteSheet"]=Zy,Zy.__name__="scripts.Design_326_326_AnimationbySpriteSheet",Zy.__super__=Je,Zy.prototype=i(Je.prototype,{_SpriteSheet:null,_CurrentAnimation:null,_Animations:null,_AnimationScripts:null,_CurrentFrame:null,_FrameCount:null,_OldAnimation:null,_OldFrame:null,_AnimationFrameImage:null,_AnimationFrameInstance:null,_BehaviorSplitValues:null,_DummyMap:null,_Facing:null,_SpriteSheetFacing:null,_OldFacing:null,_Debug:null,_DebugFont:null,_DummyList:null,_OldSpriteSheet:null,_ImageBank:null,_AnimationSpeedMultiplier:null,_CurrentAnimationLocalValue:null,_CurrentAnimationValuesList:null,_CurrentAnimationDefaultValue:null,_CheckedValues:null,_SpriteSheetDimensionsandOffsets:null,_SpriteWidth:null,_SpriteHeight:null,_UsedSpriteSheet:null,_GlobalCollisionBox:null,_CollisionDetection:null,_NumberofFrames:null,_HideSprite:null,_AnchorPoints:null,_GlobalTriggers:null,_UsedScriptKey:null,_CurrentColorMode:null,_ColorsMap:null,_StoredColors:null,_OldColorMode:null,_DebugColors:null,_GroupName:null,_CollisionBoxes:null,_CheckFacing:null,_SpriteImageOutputLocalValue:null,_EffectsList:null,_OldEffectsNumber:null,_UpdateEffects:null,_SpriteSheetGetter:null,_ScalePrefix:null,_CollisionBoxesMap:null,_CollisionID:null,_FacingValueName:null,_event_Updating:function(t){if(this.wrapper.enabled){this._HideSprite&&this.actor.disableActorDrawing(),null!=this.actor.getActorValue(this._FacingValueName)?this._Facing=""+g.string(this.actor.getActorValue(this._FacingValueName)):this._Facing="Right",t=this._CollisionDetection;var e=Ke.asBoolean(this._CollisionDetection.h.CollisionTopCheck);t.h.CollisionTop=e,t=this._CollisionDetection,e=Ke.asBoolean(this._CollisionDetection.h.CollisionBottomCheck),t.h.CollisionBottom=e,t=this._CollisionDetection,e=Ke.asBoolean(this._CollisionDetection.h.CollisionLeftCheck),t.h.CollisionLeft=e,t=this._CollisionDetection,e=Ke.asBoolean(this._CollisionDetection.h.CollisionRightCheck),t.h.CollisionRight=e,t=this._CollisionDetection,e=Ke.asBoolean(this._CollisionDetection.h.CollisionSensorCheck),t.h.CollisionSensor=e,this._CollisionDetection.h.CollisionTopCheck=!1,this._CollisionDetection.h.CollisionBottomCheck=!1,this._CollisionDetection.h.CollisionLeftCheck=!1,this._CollisionDetection.h.CollisionRightCheck=!1,this._CollisionDetection.h.CollisionSensorCheck=!1}},_event_DrawingCopy:function(t,e,i){if(this.wrapper.enabled&&(!Ke.asBoolean(this.actor.isPausable())||Ke.asBoolean(this.actor.isPausable())&&!Ke.engine.isPaused())){if(""!=this._SpriteSheetGetter&&null!=Ke.getGameAttribute(this._SpriteSheetGetter)&&(this._SpriteSheet=""+g.string(Ke.getGameAttribute(this._SpriteSheetGetter))),""!=this._SpriteSheet&&(this._UsedSpriteSheet=""!=this._ScalePrefix?v.replace(this._ScalePrefix,"#",""+Ge.SCALE)+this._SpriteSheet:this._SpriteSheet),this._CurrentColorMode!=this._OldColorMode)if(Object.prototype.hasOwnProperty.call(this._ColorsMap.h,this._CurrentColorMode)&&"[Remove]"!=this._ColorsMap.h[this._CurrentColorMode])if(Object.prototype.hasOwnProperty.call(this._StoredColors.h,this._CurrentColorMode+this._UsedSpriteSheet+(this._CurrentAnimation+"")+this._CurrentFrame))Ke.clearImage(this._AnimationFrameImage),Ke.drawImageOnImage(this._StoredColors.h[this._CurrentColorMode+this._UsedSpriteSheet+(this._CurrentAnimation+"")+this._CurrentFrame].clone(),this._AnimationFrameImage,0,0,10);else{for(var s=0,n=vo.__cast(this._ColorsMap.h[this._CurrentColorMode],Array);s<n.length;){e=n[s],++s,Object.prototype.hasOwnProperty.call(this._BehaviorSplitValues.h,""+g.string(e))||(this._BehaviorSplitValues.h[""+g.string(e)]=(""+g.string(e)).split(","));var r=this._AnimationFrameImage;i=0|Ke.asNumber(this._BehaviorSplitValues.h[""+g.string(e)][0]);var a=0|Ke.asNumber(this._BehaviorSplitValues.h[""+g.string(e)][1]),o=0|Ke.asNumber(this._BehaviorSplitValues.h[""+g.string(e)][2]);null==o&&(o=0),null==a&&(a=0),null==i&&(i=0);var l=0|Ke.asNumber(this._BehaviorSplitValues.h[""+g.string(e)][3]),h=0|Ke.asNumber(this._BehaviorSplitValues.h[""+g.string(e)][4]);null==(e=0|Ke.asNumber(this._BehaviorSplitValues.h[""+g.string(e)][5]))&&(e=0),null==h&&(h=0),null==l&&(l=0),Ke.imageSwapColor(r,i<<16|a<<8|o,l<<16|h<<8|e)}e=this._StoredColors,i=this._CurrentColorMode+this._UsedSpriteSheet+(this._CurrentAnimation+"")+this._CurrentFrame,a=this._AnimationFrameImage.clone(),e.h[i]=a}else Ke.clearImage(this._AnimationFrameImage),Object.prototype.hasOwnProperty.call(this._ImageBank.h,this._UsedSpriteSheet+(this._CurrentAnimation+"")+this._CurrentFrame)||(e=this._ImageBank,i=this._UsedSpriteSheet+(this._CurrentAnimation+"")+this._CurrentFrame,a=Ke.getSubImage(Ke.getExternalImage(this._UsedSpriteSheet),Ke.asNumber(this._Animations.h[this._CurrentAnimation+""+this._CurrentFrame][1])*this._SpriteWidth|0,Ke.asNumber(this._Animations.h[this._CurrentAnimation+""+this._CurrentFrame][0])*this._SpriteHeight|0,0|this._SpriteWidth,0|this._SpriteHeight),e.h[i]=a),Ke.drawImageOnImage(this._ImageBank.h[this._UsedSpriteSheet+(this._CurrentAnimation+"")+this._CurrentFrame],this._AnimationFrameImage,0,0,10);if(this._UsedSpriteSheet!=this._OldSpriteSheet&&(this._UsedScriptKey="[Change]"+this._SpriteSheet,this._customEvent_UpdateAnimationEvents(),Object.prototype.hasOwnProperty.call(this._SpriteSheetDimensionsandOffsets.h,this._SpriteSheet)?this._DummyList=this._SpriteSheetDimensionsandOffsets.h[this._SpriteSheet].slice():this._DummyList=this._SpriteSheetDimensionsandOffsets.h["-"].slice(),Ke.removeImage(this._AnimationFrameInstance),Ke.attachImageToActor(this._AnimationFrameInstance,this.actor,0|Ke.asNumber(this._DummyList[1]),0|Ke.asNumber(this._DummyList[2]),1),this._SpriteSheetFacing=""+g.string(this._DummyList[0]),this._SpriteWidth="Auto"==this._DummyList[3]?this.actor.getWidth():Ke.asNumber(this._DummyList[3]),this._SpriteHeight="Auto"==this._DummyList[4]?this.actor.getHeight():Ke.asNumber(this._DummyList[4])),""!=this._CurrentAnimationLocalValue&&(""!=this._CurrentAnimationDefaultValue&&this.actor.setActorValue(this._CurrentAnimationLocalValue,this._CurrentAnimationDefaultValue),"[Auto]"!=this._CurrentAnimationLocalValue))for(s=0,n=this._CurrentAnimationValuesList.length;s<n;){for(i=s++,a=this._CheckedValues=0,o=vo.__cast(this._BehaviorSplitValues.h["ValueCheck"+i],Array);a<o.length;)e=o[a],++a,Object.prototype.hasOwnProperty.call(this._BehaviorSplitValues.h,""+g.string(e))||(this._BehaviorSplitValues.h[""+g.string(e)]=(""+g.string(e)).split(",")),"[Value]"==""+g.string(this._BehaviorSplitValues.h[""+g.string(e)][1])?""+g.string(this.actor.getActorValue(""+g.string(this._BehaviorSplitValues.h[""+g.string(e)][0])))==""+g.string(this._BehaviorSplitValues.h[""+g.string(e)][2])&&(this._CheckedValues+=1):this.actor.hasBehavior(""+g.string(this._BehaviorSplitValues.h[""+g.string(e)][1]))&&this.actor.isBehaviorEnabled(""+g.string(this._BehaviorSplitValues.h[""+g.string(e)][1]))&&""+g.string(this.actor.getValue(""+g.string(this._BehaviorSplitValues.h[""+g.string(e)][1]),""+g.string(this._BehaviorSplitValues.h[""+g.string(e)][0])))==""+g.string(this._BehaviorSplitValues.h[""+g.string(e)][2])&&(this._CheckedValues+=1);if(this._CheckedValues>=this._BehaviorSplitValues.h["ValueCheck"+i].length){this.actor.setActorValue(this._CurrentAnimationLocalValue,this._BehaviorSplitValues.h["ValueSet"+i]);break}}if(""!=this._CurrentAnimationLocalValue&&(this._CurrentAnimation="[Actor]"==this._CurrentAnimationLocalValue?this.actor.getAnimation():""+g.string(this.actor.getActorValue(this._CurrentAnimationLocalValue))),this._NumberofFrames=this._Animations.h[this._CurrentAnimation].length,this._CurrentAnimation!=this._OldAnimation&&(this._CurrentFrame=this._FrameCount=0),""!=this._UsedSpriteSheet&&Ke.hasValue(this._AnimationFrameImage)&&Object.prototype.hasOwnProperty.call(this._Animations.h,this._CurrentAnimation)&&("-"!=this._Animations.h[this._CurrentAnimation+""+this._CurrentFrame][2]&&(this._FrameCount+=this._AnimationSpeedMultiplier)>=Ke.asNumber(this._Animations.h[this._CurrentAnimation+""+this._CurrentFrame][2])&&(this._FrameCount=0,this._CurrentFrame+=1,this._CurrentFrame>this._Animations.h[this._CurrentAnimation].length-1&&(this._CurrentFrame=Ke.asNumber(this._Animations.h[this._CurrentAnimation+""+(this._Animations.h[this._CurrentAnimation].length-1)][3]))),this._CurrentFrame!=this._OldFrame||this._CurrentAnimation!=this._OldAnimation||this._UsedSpriteSheet!=this._OldSpriteSheet||this._Facing!=this._OldFacing||this._OldEffectsNumber!=this._EffectsList.length)){if(this._UpdateEffects=!0,Ke.clearImage(this._AnimationFrameImage),Object.prototype.hasOwnProperty.call(this._ImageBank.h,this._UsedSpriteSheet+(this._CurrentAnimation+"")+this._CurrentFrame)||(e=this._ImageBank,i=this._UsedSpriteSheet+(this._CurrentAnimation+"")+this._CurrentFrame,a=Ke.getSubImage(Ke.getExternalImage(this._UsedSpriteSheet),Ke.asNumber(this._Animations.h[this._CurrentAnimation+""+this._CurrentFrame][1])*this._SpriteWidth|0,Ke.asNumber(this._Animations.h[this._CurrentAnimation+""+this._CurrentFrame][0])*this._SpriteHeight|0,0|this._SpriteWidth,0|this._SpriteHeight),e.h[i]=a),Ke.drawImageOnImage(this._ImageBank.h[this._UsedSpriteSheet+(this._CurrentAnimation+"")+this._CurrentFrame],this._AnimationFrameImage,0,0,10),Object.prototype.hasOwnProperty.call(this._ColorsMap.h,this._CurrentColorMode)&&"[Remove]"!=this._ColorsMap.h[this._CurrentColorMode])if(Object.prototype.hasOwnProperty.call(this._StoredColors.h,this._CurrentColorMode+this._UsedSpriteSheet+(this._CurrentAnimation+"")+this._CurrentFrame))Ke.clearImage(this._AnimationFrameImage),Ke.drawImageOnImage(this._StoredColors.h[this._CurrentColorMode+this._UsedSpriteSheet+(this._CurrentAnimation+"")+this._CurrentFrame].clone(),this._AnimationFrameImage,0,0,10);else{for(s=0,n=vo.__cast(this._ColorsMap.h[this._CurrentColorMode],Array);s<n.length;)e=n[s],++s,Object.prototype.hasOwnProperty.call(this._BehaviorSplitValues.h,""+g.string(e))||(this._BehaviorSplitValues.h[""+g.string(e)]=(""+g.string(e)).split(",")),r=this._AnimationFrameImage,i=0|Ke.asNumber(this._BehaviorSplitValues.h[""+g.string(e)][0]),a=0|Ke.asNumber(this._BehaviorSplitValues.h[""+g.string(e)][1]),null==(o=0|Ke.asNumber(this._BehaviorSplitValues.h[""+g.string(e)][2]))&&(o=0),null==a&&(a=0),null==i&&(i=0),l=0|Ke.asNumber(this._BehaviorSplitValues.h[""+g.string(e)][3]),h=0|Ke.asNumber(this._BehaviorSplitValues.h[""+g.string(e)][4]),null==(e=0|Ke.asNumber(this._BehaviorSplitValues.h[""+g.string(e)][5]))&&(e=0),null==h&&(h=0),null==l&&(l=0),Ke.imageSwapColor(r,i<<16|a<<8|o,l<<16|h<<8|e);e=this._StoredColors,i=this._CurrentColorMode+this._UsedSpriteSheet+(this._CurrentAnimation+"")+this._CurrentFrame,a=this._AnimationFrameImage.clone(),e.h[i]=a}if("-"!=this._SpriteSheetFacing&&this._SpriteSheetFacing!=this._Facing&&Ke.flipImageHorizontal(this._AnimationFrameImage),Object.prototype.hasOwnProperty.call(this._AnimationScripts.h,this._SpriteSheet+","+this._CurrentAnimation+","+this._CurrentFrame)?this._UsedScriptKey=this._SpriteSheet+","+this._CurrentAnimation+","+this._CurrentFrame:Object.prototype.hasOwnProperty.call(this._AnimationScripts.h,"-,"+this._CurrentAnimation+","+this._CurrentFrame)&&(this._UsedScriptKey="-,"+this._CurrentAnimation+","+this._CurrentFrame),this._CheckFacing&&(this._UsedScriptKey+=","+this._Facing),this._customEvent_UpdateAnimationEvents(),this._CurrentAnimation!=this._OldAnimation)for(s=0,n=vo.__cast(this._GlobalTriggers,Array);s<n.length;)e=n[s],++s,this.actor.shout("_customEvent_"+g.string(e))}if(this._AnimationFrameInstance.set_alpha(100*this.actor.get_alpha()/100),this._UpdateEffects&&(this._UpdateEffects=!1,null!=this._EffectsList&&0!=this._EffectsList.length))for(s=0,n=vo.__cast(this._EffectsList,Array);s<n.length;)e=n[s],++s,Ke.filterImage(this._AnimationFrameImage,e);if(this._OldEffectsNumber=this._EffectsList.length,""!=this._SpriteImageOutputLocalValue&&this.actor.setActorValue(this._SpriteImageOutputLocalValue,this._AnimationFrameImage.clone()),this._OldAnimation=this._CurrentAnimation,this._OldFrame=this._CurrentFrame,this._OldFacing=this._Facing,this._OldSpriteSheet=this._UsedSpriteSheet,this._OldColorMode=this._CurrentColorMode,this._Debug&&""!=this._CurrentAnimation&&Object.prototype.hasOwnProperty.call(this._Animations.h,this._CurrentAnimation+""+this._CurrentFrame))for(t.translateToActor(this.actor),t.setFont(this._DebugFont),t.drawString("Sprite Sheet: "+this._UsedSpriteSheet,0,-t.font.getHeight()/Ge.SCALE*4),t.drawString("Animation: "+this._CurrentAnimation+", "+this._CurrentFrame,0,-t.font.getHeight()/Ge.SCALE*3),t.drawString("Frame Timer: "+this._FrameCount+"x"+this._AnimationSpeedMultiplier+"/"+g.string(this._Animations.h[this._CurrentAnimation+""+this._CurrentFrame][2]),0,-t.font.getHeight()/Ge.SCALE*2),t.drawString("Color Mode: "+this._CurrentColorMode,0,-t.font.getHeight()/Ge.SCALE),t.strokeSize=1,s=this._CollisionBoxes.h,r=(n=Object.keys(s)).length,l=0;l<r;)e=s[n[l++]],Object.prototype.hasOwnProperty.call(this._DebugColors.h,""+g.string(e.h.Type))&&(i=0|Ke.asNumber(this._DebugColors.h[""+g.string(e.h.Type)][0]),a=0|Ke.asNumber(this._DebugColors.h[""+g.string(e.h.Type)][1]),null==(o=0|Ke.asNumber(this._DebugColors.h[""+g.string(e.h.Type)][2]))&&(o=0),null==a&&(a=0),null==i&&(i=0),t.strokeColor=i<<16|a<<8|o),t.beginDrawPolygon(),t.addPointToPolygon(Ke.asNumber(e.h.X),Ke.asNumber(e.h.Y)+Ke.asNumber(e.h.HO)),t.addPointToPolygon(Ke.asNumber(e.h.X)+Ke.asNumber(e.h.WO),Ke.asNumber(e.h.Y)),t.addPointToPolygon(Ke.asNumber(e.h.X)+(Ke.asNumber(e.h.W)-Ke.asNumber(e.h.WO)),Ke.asNumber(e.h.Y)),t.addPointToPolygon(Ke.asNumber(e.h.X)+Ke.asNumber(e.h.W),Ke.asNumber(e.h.Y)+Ke.asNumber(e.h.HO)),t.addPointToPolygon(Ke.asNumber(e.h.X)+Ke.asNumber(e.h.W),Ke.asNumber(e.h.Y)+(Ke.asNumber(e.h.H)-Ke.asNumber(e.h.HO))),t.addPointToPolygon(Ke.asNumber(e.h.X)+(Ke.asNumber(e.h.W)-Ke.asNumber(e.h.WO)),Ke.asNumber(e.h.Y)+Ke.asNumber(e.h.H)),t.addPointToPolygon(Ke.asNumber(e.h.X)+Ke.asNumber(e.h.WO),Ke.asNumber(e.h.Y)+Ke.asNumber(e.h.H)),t.addPointToPolygon(Ke.asNumber(e.h.X),Ke.asNumber(e.h.Y)+(Ke.asNumber(e.h.H)-Ke.asNumber(e.h.HO))),t.endDrawingPolygon()}},_event_ActorAny:function(t){if(this.wrapper.enabled){if(t.thisCollidedWithSensor)for(var e=this._CollisionBoxes.h,i=e,s=(e=Object.keys(e)).length,n=0;n<s;){var r=i[e[n++]];if("Solid"==""+g.string(r.h.Type)&&t.otherActor.getX()+t.otherActor.getWidth()>=this.actor.getX()+Ke.asNumber(r.h.X)&&t.otherActor.getX()<=this.actor.getX()+(Ke.asNumber(r.h.X)+Ke.asNumber(r.h.W))&&t.otherActor.getY()+t.otherActor.getHeight()>=this.actor.getY()+Ke.asNumber(r.h.Y)&&t.otherActor.getY()<=this.actor.getY()+(Ke.asNumber(r.h.Y)+Ke.asNumber(r.h.H))){this._CollisionDetection.h.CollisionSensorCheck=!0;break}}if(!t.thisCollidedWithSensor)for(i=e=this._CollisionBoxes.h,s=(e=Object.keys(e)).length,n=0;n<s;)if(r=i[e[n++]],"Solid"==""+g.string(r.h.Type)){if(0>this.actor.getYVelocity()&&this.actor.getYCenter()>=t.otherActor.getYCenter()&&t.otherActor.getY()+t.otherActor.getHeight()>this.actor.getY()+Ke.asNumber(r.h.Y))for(var a=0,o=Ke.asNumber(r.h.W)-2*Ke.asNumber(r.h.WO)|0;a<o;){var l=a++;if(this.actor.getX()+(Ke.asNumber(r.h.X)+Ke.asNumber(r.h.WO))+l>=t.otherActor.getX()&&this.actor.getX()+(Ke.asNumber(r.h.X)+Ke.asNumber(r.h.WO))+l<=t.otherActor.getX()+t.otherActor.getWidth()){this.actor.setY(t.otherActor.getY()+t.otherActor.getHeight()-Ke.asNumber(r.h.Y)),this.actor.setYVelocity(0),this._CollisionDetection.h.CollisionTopCheck=!0;break}}if(0<this.actor.getYVelocity()&&this.actor.getYCenter()<=t.otherActor.getYCenter()&&t.otherActor.getY()<this.actor.getY()+(Ke.asNumber(r.h.Y)+Ke.asNumber(r.h.H)))for(a=0,o=Ke.asNumber(r.h.W)-2*Ke.asNumber(r.h.WO)|0;a<o;)if(l=a++,this.actor.getX()+(Ke.asNumber(r.h.X)+Ke.asNumber(r.h.WO))+l>=t.otherActor.getX()&&this.actor.getX()+(Ke.asNumber(r.h.X)+Ke.asNumber(r.h.WO))+l<=t.otherActor.getX()+t.otherActor.getWidth()){this.actor.setY(t.otherActor.getY()-(Ke.asNumber(r.h.Y)+Ke.asNumber(r.h.H))),this.actor.setYVelocity(0),this._CollisionDetection.h.CollisionBottomCheck=!0;break}if(0>this.actor.getXVelocity()&&this.actor.getXCenter()>=t.otherActor.getXCenter()&&t.otherActor.getX()+t.otherActor.getWidth()>this.actor.getX()+Ke.asNumber(r.h.X))for(a=0,o=Ke.asNumber(r.h.H)-2*Ke.asNumber(r.h.HO)|0;a<o;)if(l=a++,this.actor.getY()+(Ke.asNumber(r.h.Y)+Ke.asNumber(r.h.HO))+l>=t.otherActor.getY()&&this.actor.getY()+(Ke.asNumber(r.h.Y)+Ke.asNumber(r.h.HO))+l<=t.otherActor.getY()+t.otherActor.getHeight()){this.actor.setX(t.otherActor.getX()+t.otherActor.getWidth()-Ke.asNumber(r.h.X)),this.actor.setXVelocity(0),this._CollisionDetection.h.CollisionLeftCheck=!0;break}if(0<this.actor.getXVelocity()&&this.actor.getXCenter()<=t.otherActor.getXCenter()&&t.otherActor.getX()<this.actor.getX()+(Ke.asNumber(r.h.X)+Ke.asNumber(r.h.W)))for(a=0,o=Ke.asNumber(r.h.H)-2*Ke.asNumber(r.h.HO)|0;a<o;)if(l=a++,this.actor.getY()+(Ke.asNumber(r.h.Y)+Ke.asNumber(r.h.HO))+l>=t.otherActor.getY()&&this.actor.getY()+(Ke.asNumber(r.h.Y)+Ke.asNumber(r.h.HO))+l<=t.otherActor.getY()+t.otherActor.getHeight()){this.actor.setX(t.otherActor.getX()-(Ke.asNumber(r.h.X)+Ke.asNumber(r.h.W))),this.actor.setXVelocity(0),this._CollisionDetection.h.CollisionRightCheck=!0;break}}}},_event_ActorCreated:function(){this.wrapper.enabled&&Ke.removeImage(this._AnimationFrameInstance)},_customEvent_UpdateAnimationEvents:function(){if(Object.prototype.hasOwnProperty.call(this._AnimationScripts.h,this._UsedScriptKey))for(var t=0,e=vo.__cast(this._AnimationScripts.h[this._UsedScriptKey],Array);t<e.length;){var i=e[t];if(++t,Object.prototype.hasOwnProperty.call(this._BehaviorSplitValues.h,""+g.string(i))||(this._BehaviorSplitValues.h[""+g.string(i)]=(""+g.string(i)).split(",")),"Anchor Point"==""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][0])){this._DummyMap=new pr;for(var s=0,n=this._BehaviorSplitValues.h[""+g.string(i)].length;s<n;){var r=s++;Object.prototype.hasOwnProperty.call(this._BehaviorSplitValues.h,""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][2+r]))||(this._BehaviorSplitValues.h[""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][2+r])]=(""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][2+r])).split("=")),this._DummyList=this._BehaviorSplitValues.h[""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][2+r])].slice(),this._DummyMap.h[""+g.string(this._DummyList[0])]=this._DummyList[1]}this._DummyMap.h.ActorAnimation=this._CurrentAnimation,this._DummyMap.h.ActorFrame=this._CurrentFrame,this.actor.setActorValue(""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][1]),vr.copyMap(this._DummyMap)),this._AnchorPoints.push(""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][1]))}"Animation"==""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][0])&&this.actor.setAnimation(""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][1])),"Collision"==""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][0])&&Object.prototype.hasOwnProperty.call(this._CollisionBoxesMap.h,""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][2]))&&(this._CollisionID=""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][1]),this._DummyList=this._CollisionBoxesMap.h[""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][2])].slice(),this._customEvent_AddCollisionBox()),"Remove Collision"==""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][0])&&(Object.prototype.hasOwnProperty.call(this._CollisionBoxes.h,""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][1]))&&"Physics"==this._CollisionBoxes.h[""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][1])].h.Type&&(s=this._CollisionBoxes.h[""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][1])].h.Box,this._CollisionBoxes.h[""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][1])].h.Box.getBody().DestroyFixture(s)),s=""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][1]),n=this._CollisionBoxes,Object.prototype.hasOwnProperty.call(n.h,s)&&delete n.h[s]),"Set Value"==""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][0])&&("[Value]"==""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][2])?("-"==""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][3])&&this.actor.setActorValue(""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][1]),this._BehaviorSplitValues.h[""+g.string(i)][4]),0<=(""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][3])).indexOf("List")&&(null==this.actor.getActorValue(""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][1]))&&this.actor.setActorValue(""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][1]),[]),this.actor.getActorValue(""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][1]))[0|Ke.asNumber(v.replace(""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][3]),"List:",""))]=this._BehaviorSplitValues.h[""+g.string(i)][4]),0<=(""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][3])).indexOf("Map")&&(null==this.actor.getActorValue(""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][1]))&&this.actor.setActorValue(""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][1]),new pr),s=this.actor.getActorValue(""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][1])),n=v.replace(""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][3]),"Map:",""),s.h[n]=this._BehaviorSplitValues.h[""+g.string(i)][4])):this.actor.hasBehavior(""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][2]))&&("-"==""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][3])&&this.actor.setValue(""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][3]),this._BehaviorSplitValues.h[""+g.string(i)][1],this._BehaviorSplitValues.h[""+g.string(i)][4]),0<=(""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][3])).indexOf("List")&&(this._DummyList=this.actor.getValue(""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][2]),this._BehaviorSplitValues.h[""+g.string(i)][1]).slice(),this._DummyList[0|Ke.asNumber(v.replace(""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][3]),"List:",""))]=this._BehaviorSplitValues.h[""+g.string(i)][4],this.actor.setValue(""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][3]),this._BehaviorSplitValues.h[""+g.string(i)][1],this._DummyList.slice())),0<=(""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][3])).indexOf("Map")&&(s=this._DummyMap=vr.copyMap(this.actor.getValue(""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][2]),this._BehaviorSplitValues.h[""+g.string(i)][1])),n=v.replace(""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][3]),"Map:",""),s.h[n]=this._BehaviorSplitValues.h[""+g.string(i)][4],this.actor.setValue(""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][3]),this._BehaviorSplitValues.h[""+g.string(i)][1],vr.copyMap(this._DummyMap))))),"Sound"==""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][0])&&("-"==""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][2])?Ke.playSound(Ke.getSoundByName(""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][1]))):Ke.playSoundOnChannel(Ke.getSoundByName(""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][1])),0|Ke.asNumber(""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][2])))),"Trigger"==""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][0])&&("Actor"==""+g.string(this._BehaviorSplitValues.h[""+g.string(i)][1])?this.actor.shout("_customEvent_"+g.string(this._BehaviorSplitValues.h[""+g.string(i)][2])):Ke.shoutToScene("_customEvent_"+g.string(this._BehaviorSplitValues.h[""+g.string(i)][2])))}},_customEvent_HideSprite:function(){Ke.fadeImageTo(this._AnimationFrameInstance,0,0,da.linear)},_customEvent_ShowSprite:function(){Ke.fadeImageTo(this._AnimationFrameInstance,1,0,da.linear)},_customEvent_AddCollisionBox:function(){this._DummyMap=new pr,this._DummyMap.h.Type=""+g.string(this._DummyList[0]);var t=this._DummyMap,e=Ke.asNumber(this._DummyList[1]);t.h.X=e,t=this._DummyMap,e=Ke.asNumber(this._DummyList[2]),t.h.Y=e,t=this._DummyMap,e=Ke.asNumber(this._DummyList[3]),t.h.W=e,t=this._DummyMap,e=Ke.asNumber(this._DummyList[4]),t.h.WO=e,t=this._DummyMap,e=Ke.asNumber(this._DummyList[5]),t.h.H=e,t=this._DummyMap,e=Ke.asNumber(this._DummyList[6]),t.h.HO=e,"Physics"==""+g.string(this._DummyList[0])&&(e=[],(t=this.actor).addVertex(e,Ke.asNumber(this._DummyMap.h.X),Ke.asNumber(this._DummyMap.h.Y)+Ke.asNumber(this._DummyMap.h.HO)),t.addVertex(e,Ke.asNumber(this._DummyMap.h.X)+Ke.asNumber(this._DummyMap.h.WO),Ke.asNumber(this._DummyMap.h.Y)),t.addVertex(e,Ke.asNumber(this._DummyMap.h.X)+(Ke.asNumber(this._DummyMap.h.W)-Ke.asNumber(this._DummyMap.h.WO)),Ke.asNumber(this._DummyMap.h.Y)),t.addVertex(e,Ke.asNumber(this._DummyMap.h.X)+Ke.asNumber(this._DummyMap.h.W),Ke.asNumber(this._DummyMap.h.Y)+Ke.asNumber(this._DummyMap.h.HO)),t.addVertex(e,Ke.asNumber(this._DummyMap.h.X)+Ke.asNumber(this._DummyMap.h.W),Ke.asNumber(this._DummyMap.h.Y)+(Ke.asNumber(this._DummyMap.h.H)-Ke.asNumber(this._DummyMap.h.HO))),t.addVertex(e,Ke.asNumber(this._DummyMap.h.X)+(Ke.asNumber(this._DummyMap.h.W)-Ke.asNumber(this._DummyMap.h.WO)),Ke.asNumber(this._DummyMap.h.Y)+Ke.asNumber(this._DummyMap.h.H)),t.addVertex(e,Ke.asNumber(this._DummyMap.h.X)+Ke.asNumber(this._DummyMap.h.WO),Ke.asNumber(this._DummyMap.h.Y)+Ke.asNumber(this._DummyMap.h.H)),t.addVertex(e,Ke.asNumber(this._DummyMap.h.X),Ke.asNumber(this._DummyMap.h.Y)+(Ke.asNumber(this._DummyMap.h.H)-Ke.asNumber(this._DummyMap.h.HO))),t.addPolygonalShape(e),"[Self]"==this._DummyList[7]?this.actor.getLastCreatedFixture().groupID=this.actor.getGroup().ID:(this._GroupName=""+g.string(this._DummyList[7]),this.actor.getLastCreatedFixture().groupID=Ke.getGroupByName(this._GroupName).ID),null!=this._DummyList[8]&&this.actor.getLastCreatedFixture().setSensor(!0),t=this._DummyMap,e=this.actor.getLastCreatedFixture(),t.h.Box=e),t=this._CollisionBoxes;var i=this._CollisionID;e=vr.copyMap(this._DummyMap),t.h[i]=e},_customEvent_ClearCollisionBoxes:function(){for(var t=this._CollisionBoxes.h,e=t,i=(t=Object.keys(t)).length,s=0;s<i;){var n=e[t[s++]];"Physics"==n.h.Type&&n.h.Box.getBody().DestroyFixture(n.h.Box)}for(t=this._CollisionBoxes.h,t=(e=Object.keys(t)).length,i=0;i<t;)s=e[i++],n=this._CollisionBoxes,Object.prototype.hasOwnProperty.call(n.h,s)&&delete n.h[s];""!=this._GlobalCollisionBox&&Object.prototype.hasOwnProperty.call(this._CollisionBoxesMap.h,""+g.string(this._BehaviorSplitValues.h[this._GlobalCollisionBox][1]))&&(this._CollisionID=""+g.string(this._BehaviorSplitValues.h[this._GlobalCollisionBox][0]),this._DummyList=this._CollisionBoxesMap.h[""+g.string(this._BehaviorSplitValues.h[this._GlobalCollisionBox][1])].slice(),this._customEvent_AddCollisionBox())},_customEvent_ClearAnchorPoints:function(){for(var t=0,e=vo.__cast(this._AnchorPoints,Array);t<e.length;){var i=e[t];++t,this.actor.setActorValue(""+g.string(i),null)}this._AnchorPoints.length=0},_customEvent_ResetSpeed:function(){this._AnimationSpeedMultiplier=1},init:function(){""!=this._SpriteSheetGetter&&null!=Ke.getGameAttribute(this._SpriteSheetGetter)&&(this._SpriteSheet=""+g.string(Ke.getGameAttribute(this._SpriteSheetGetter))),this._HideSprite&&this.actor.disableActorDrawing(),this._EffectsList=[],this._BehaviorSplitValues=new pr,this._ImageBank=new pr,this._OldSpriteSheet=this._OldAnimation="-1",this._AnchorPoints=[],this._CollisionBoxes=new pr,this._CollisionDetection=new pr,this._StoredColors=new pr;for(var t=this._ColorsMap.h,e=Object.keys(t),i=e.length,s=0;s<i;)t=e[s++],"[Remove]"!=this._ColorsMap.h[""+t]&&(this._ColorsMap.h[""+t]=(""+g.string(this._ColorsMap.h[""+t])).split("/"));for(""!=this._GlobalCollisionBox&&(this._BehaviorSplitValues.h[this._GlobalCollisionBox]=this._GlobalCollisionBox.split(",")),t=this._SpriteSheetDimensionsandOffsets.h,i=(e=Object.keys(t)).length,s=0;s<i;)t=e[s++],this._SpriteSheetDimensionsandOffsets.h[""+t]=(""+g.string(this._SpriteSheetDimensionsandOffsets.h[""+t])).split(",");for(this._AnimationFrameImage=Ke.newImage(0|this.actor.getWidth(),0|this.actor.getHeight()),this._AnimationFrameInstance=new fi(new di(this._AnimationFrameImage)),Ke.attachImageToActor(this._AnimationFrameInstance,this.actor,0|Ke.asNumber(this._SpriteSheetDimensionsandOffsets.h["-"][1]),0|Ke.asNumber(this._SpriteSheetDimensionsandOffsets.h["-"][2]),1),e=0,i=this._CurrentAnimationValuesList.length;e<i;)s=e++,this._CurrentAnimationValuesList[s]=(""+g.string(this._CurrentAnimationValuesList[s])).split("|"),this._BehaviorSplitValues.h["ValueSet"+s]=this._CurrentAnimationValuesList[s][0],this._BehaviorSplitValues.h["ValueCheck"+s]=(""+g.string(this._CurrentAnimationValuesList[s][1])).split("/");for(this._DummyList=vr.mapToList(this._Animations,"keys").slice(),e=0,i=vo.__cast(this._DummyList,Array);e<i.length;){t=i[e],++e,this._Animations.h[""+g.string(t)]=(""+g.string(this._Animations.h[""+g.string(t)])).split("|");for(var r=0,a=this._Animations.h[""+g.string(t)].length;r<a;)s=r++,this._Animations.h[g.string(t)+""+s]=(""+g.string(this._Animations.h[""+g.string(t)][s])).split(",")}for(t=this._AnimationScripts.h,i=(e=Object.keys(t)).length,s=0;s<i;)t=e[s++],this._AnimationScripts.h[""+t]=(""+g.string(this._AnimationScripts.h[""+t])).split("|");for(t=this._CollisionBoxesMap.h,i=(e=Object.keys(t)).length,s=0;s<i;)t=e[s++],this._CollisionBoxesMap.h[""+t]=(""+g.string(this._CollisionBoxesMap.h[""+t])).split(",");for(t=this._DebugColors.h,i=(e=Object.keys(t)).length,s=0;s<i;)t=e[s++],this._DebugColors.h[""+t]=(""+g.string(this._DebugColors.h[""+t])).split(",");this._customEvent_ClearCollisionBoxes(),this.addListener(this.actor.whenUpdated,n(this,this._event_Updating)),this.addListener(this.actor.whenDrawing,n(this,this._event_DrawingCopy)),this.addListener(this.actor.whenCollided,n(this,this._event_ActorAny)),this.addListener(this.actor.whenKilled,n(this,this._event_ActorCreated))},forwardMessage:function(t){},__class__:Zy});var Qy=function(t,e,i){Je.call(this,e),this.nameMap.h.Actor="actor",this.nameMap.h["Player Number"]="_PlayerNumber",this._PlayerNumber=0,this.nameMap.h["Old Player Number"]="_OldPlayerNumber",this._OldPlayerNumber=0,this.nameMap.h["Player Number Global Value Name"]="_PlayerNumberGlobalValueName",this._PlayerNumberGlobalValueName="",this.nameMap.h["Controls per Behavior"]="_ControlsperBehavior",(t=new pr).h["Player Control"]="_Right,right|_Left,left|_Run,action1|_Jump,action2|_HeldKey,down|_PressedKey,action2",t.h["Air Melee Attack"]="_Attack,action1",t.h["Air Ranged Attack"]="_Attack,action1",t.h["Ground Melee Attack"]="_Attack,action1",t.h["Ground Ranged Attack"]="_Attack,action1",t.h["Use Skill"]="_MoveForwardKey,???|_MoveBackwardKey,???",t.h.Aim="_AimUpKey,???|_AimDownKey,???|_AimDiagonalKey,???|_AimLeftKey,???|_AimRightKey,???",t.h["8 Way Movement"]="_ActivateKey,???|_MoveUpKey,???|_MoveDownKey,???|_MoveLeftKey,???|_MoveRight,???|_RunKey,???",t.h.Charge="_ChargeKey,???|_CicleNext,???|_CiclePrevious,???",this._ControlsperBehavior=t,this.nameMap.h["Player Identifier"]="_PlayerIdentifier",this._PlayerIdentifier="P#",this.nameMap.h["Used Player Prefix"]="_UsedPlayerPrefix",this._UsedPlayerPrefix="",this.nameMap.h["Behavior Split Values"]="_BehaviorSplitValues",this.nameMap.h["Global Value Control"]="_GlobalValueControl",this._GlobalValueControl=!1,this.nameMap.h["Create Icon"]="_CreateIcon",this._CreateIcon=!1,this.nameMap.h["Icon Type"]="_IconType",this.nameMap.h["Icon Actor"]="_IconActor",this.nameMap.h["Icon Offsets"]="_IconOffsets",this._IconOffsets="0,0",this.nameMap.h.Debug="_Debug",this._Debug=!1,this.nameMap.h["Debug Font"]="_DebugFont",this.nameMap.h["Player Switch Events"]="_PlayerSwitchEvents",(t=new pr).h.P0="Trigger,StartCamera,Camera Follow",t.h.P1="Trigger,StopCamera,Camera Follow",this._PlayerSwitchEvents=t,this.nameMap.h["Dummy Text"]="_DummyText",this._DummyText="",this.nameMap.h["Used Number of Players"]="_UsedNumberofPlayers",this._UsedNumberofPlayers=2,this.nameMap.h["Used Control"]="_UsedControl",this.nameMap.h["Icon Timer"]="_IconTimer",this._IconTimer=0,this.nameMap.h["Icon Ticks"]="_IconTicks",this._IconTicks=0,this.nameMap.h["Control Reference Map"]="_ControlReferenceMap",(t=new pr).h.up="up",t.h.down="down",t.h.left="left",t.h.right="right",t.h.action1="action1",t.h.action2="action2",this._ControlReferenceMap=t,this.nameMap.h["Number of Players"]="_NumberofPlayers",this._NumberofPlayers="1"};r["scripts.Design_327_327_PlayerNumber"]=Qy,Qy.__name__="scripts.Design_327_327_PlayerNumber",Qy.__super__=Je,Qy.prototype=i(Je.prototype,{_PlayerNumber:null,_OldPlayerNumber:null,_PlayerNumberGlobalValueName:null,_ControlsperBehavior:null,_PlayerIdentifier:null,_UsedPlayerPrefix:null,_BehaviorSplitValues:null,_GlobalValueControl:null,_CreateIcon:null,_IconType:null,_IconActor:null,_IconOffsets:null,_Debug:null,_DebugFont:null,_PlayerSwitchEvents:null,_DummyText:null,_UsedNumberofPlayers:null,_UsedControl:null,_IconTimer:null,_IconTicks:null,_ControlReferenceMap:null,_NumberofPlayers:null,_event_Updating:function(t){if(this.wrapper.enabled){if(this._GlobalValueControl&&""!=this._PlayerNumberGlobalValueName&&null!=Ke.getGameAttribute(this._PlayerNumberGlobalValueName)&&(this._PlayerNumber=Ke.asNumber(Ke.getGameAttribute(this._PlayerNumberGlobalValueName))),""+Ke.asNumber(this._NumberofPlayers)!=""+this._NumberofPlayers&&(this._UsedNumberofPlayers=Ke.asNumber(Ke.getGameAttribute(this._NumberofPlayers))),this._OldPlayerNumber!=this._PlayerNumber){this._UsedPlayerPrefix=v.replace(this._PlayerIdentifier,"#",""+Math.round(this._PlayerNumber));for(var e=Object.keys(this._ControlsperBehavior.h),i=e.length,s=0;s<i;){t=e[s++];for(var n=0,r=this._ControlsperBehavior.h[""+t].length;n<r;){var a=n++;this._DummyText=""+g.string(this._ControlsperBehavior.h[""+t][a]),Object.prototype.hasOwnProperty.call(this._BehaviorSplitValues.h,this._DummyText)||(this._BehaviorSplitValues.h[this._DummyText]=this._DummyText.split(",")),this.actor.hasBehavior(t)&&this.actor.isBehaviorEnabled(t)&&Object.prototype.hasOwnProperty.call(this._ControlReferenceMap.h,""+g.string(this._BehaviorSplitValues.h[this._DummyText][1]))&&(this._UsedControl=this._UsedPlayerPrefix+""+g.string(this._ControlReferenceMap.h[""+g.string(this._BehaviorSplitValues.h[this._DummyText][1])]),this.actor.setValue(t,this._BehaviorSplitValues.h[this._DummyText][0],this._UsedControl))}}if(Object.prototype.hasOwnProperty.call(this._PlayerSwitchEvents.h,this._UsedPlayerPrefix))for(n=0,r=vo.__cast(this._PlayerSwitchEvents.h[this._UsedPlayerPrefix],Array);n<r.length;)t=r[n],++n,Object.prototype.hasOwnProperty.call(this._BehaviorSplitValues.h,""+g.string(t))||(this._BehaviorSplitValues.h[""+g.string(t)]=(""+g.string(t)).split(",")),"Trigger"==""+g.string(this._BehaviorSplitValues.h[""+g.string(t)][0])&&(null==this._BehaviorSplitValues.h[""+g.string(t)][2]?this.actor.shout("_customEvent_"+g.string(this._BehaviorSplitValues.h[""+g.string(t)][1])):this.actor.say(""+g.string(this._BehaviorSplitValues.h[""+g.string(t)][2]),"_customEvent_"+g.string(this._BehaviorSplitValues.h[""+g.string(t)][1]))),"Value"==""+g.string(this._BehaviorSplitValues.h[""+g.string(t)][0])&&(this._DummyText=""+g.string(this._BehaviorSplitValues.h[""+g.string(t)][1]),"[Local]"==""+g.string(this._BehaviorSplitValues.h[""+g.string(t)][2])?("-"==""+g.string(this._BehaviorSplitValues.h[""+g.string(t)][3])&&this.actor.setActorValue(this._DummyText,this._BehaviorSplitValues.h[""+g.string(t)][4]),0<=(""+g.string(this._BehaviorSplitValues.h[""+g.string(t)][3])).indexOf("List:")&&(null==this.actor.getActorValue(this._DummyText)&&this.actor.setActorValue(this._DummyText,[]),this.actor.getActorValue(this._DummyText)[0|Ke.asNumber(v.replace(""+g.string(this._BehaviorSplitValues.h[""+g.string(t)][3]),"List:",""))]=this._BehaviorSplitValues.h[""+g.string(t)][4]),0<=(""+g.string(this._BehaviorSplitValues.h[""+g.string(t)][3])).indexOf("Map:")&&(null==this.actor.getActorValue(this._DummyText)&&this.actor.setActorValue(this._DummyText,new pr),e=this.actor.getActorValue(this._DummyText),i=v.replace(""+g.string(this._BehaviorSplitValues.h[""+g.string(t)][3]),"Map:",""),e.h[i]=this._BehaviorSplitValues.h[""+g.string(t)][4])):"[Global]"==""+g.string(this._BehaviorSplitValues.h[""+g.string(t)][2])?("-"==""+g.string(this._BehaviorSplitValues.h[""+g.string(t)][3])&&Ke.setGameAttribute(this._DummyText,this._BehaviorSplitValues.h[""+g.string(t)][4]),0<=(""+g.string(this._BehaviorSplitValues.h[""+g.string(t)][3])).indexOf("List:")&&(null==Ke.getGameAttribute(this._DummyText)&&Ke.setGameAttribute(this._DummyText,[]),Ke.getGameAttribute(this._DummyText)[0|Ke.asNumber(v.replace(""+g.string(this._BehaviorSplitValues.h[""+g.string(t)][3]),"List",""))]=this._BehaviorSplitValues.h[""+g.string(t)][4]),0<=(""+g.string(this._BehaviorSplitValues.h[""+g.string(t)][3])).indexOf("Map:")&&(null==Ke.getGameAttribute(this._DummyText)&&Ke.setGameAttribute(this._DummyText,new pr),e=Ke.getGameAttribute(this._DummyText),i=v.replace(""+g.string(this._BehaviorSplitValues.h[""+g.string(t)][3]),"Map:",""),e.h[i]=this._BehaviorSplitValues.h[""+g.string(t)][4])):("-"==""+g.string(this._BehaviorSplitValues.h[""+g.string(t)][3])&&this.actor.setValue(""+g.string(this._BehaviorSplitValues.h[""+g.string(t)][2]),this._DummyText,this._BehaviorSplitValues.h[""+g.string(t)][4]),0<=(""+g.string(this._BehaviorSplitValues.h[""+g.string(t)][3])).indexOf("List:")&&(this.actor.getValue(""+g.string(this._BehaviorSplitValues.h[""+g.string(t)][2]),this._DummyText)[0|Ke.asNumber(v.replace(""+g.string(this._BehaviorSplitValues.h[""+g.string(t)][3]),"List",""))]=this._BehaviorSplitValues.h[""+g.string(t)][4]),0<=(""+g.string(this._BehaviorSplitValues.h[""+g.string(t)][3])).indexOf("Map:")&&(e=this.actor.getValue(""+g.string(this._BehaviorSplitValues.h[""+g.string(t)][2]),this._DummyText),i=v.replace(""+g.string(this._BehaviorSplitValues.h[""+g.string(t)][3]),"Map:",""),e.h[i]=this._BehaviorSplitValues.h[""+g.string(t)][4])));0<this._IconTimer&&(this._IconTicks=this._IconTimer,Ke.hasValue(this._IconOffsets)&&this._IconActor.isAlive()&&this._IconActor.enableActorDrawing()),this._GlobalValueControl||""==this._PlayerNumberGlobalValueName||Ke.setGameAttribute(this._PlayerNumberGlobalValueName,this._PlayerNumber)}this._PlayerNumber>this._UsedNumberofPlayers-1&&(this._PlayerNumber=0),0>this._PlayerNumber&&(this._PlayerNumber=this._UsedNumberofPlayers-1),this._OldPlayerNumber=this._PlayerNumber,Ke.hasValue(this._IconActor)&&this._IconActor.isAlive()&&(0<this._IconTicks&&(this._IconTicks-=.01,0>=this._IconTicks&&(this._IconTicks=0,this._IconActor.disableActorDrawing())),this._IconActor.setAnimation(this._UsedPlayerPrefix),this._IconActor.setX(this.actor.getX()+Ke.asNumber(this._BehaviorSplitValues.h[this._IconOffsets][0])),this._IconActor.setY(this.actor.getY()+Ke.asNumber(this._BehaviorSplitValues.h[this._IconOffsets][1])))}},_event_Drawing:function(t,e,i){this.wrapper.enabled&&this._Debug&&(t.translateToActor(this.actor),Ke.setDrawingLayerToSceneLayer(),t.setFont(this._DebugFont),t.drawString("Player:"+this._PlayerNumber+", prefix:"+this._UsedPlayerPrefix,(this.actor.getWidth()/2-t.font.getTextWidth("Player:"+this._PlayerNumber+", prefix:"+this._UsedPlayerPrefix)/Ge.SCALE)/2,-t.font.getHeight()/Ge.SCALE*2),""!=this._PlayerNumberGlobalValueName&&t.drawString("Global Value:"+this._PlayerNumberGlobalValueName+", "+g.string(Ke.getGameAttribute(this._PlayerNumberGlobalValueName)),this.actor.getWidth()/2-t.font.getTextWidth("Global Value:"+this._PlayerNumberGlobalValueName+", "+g.string(Ke.getGameAttribute(this._PlayerNumberGlobalValueName)))/Ge.SCALE/2,-t.font.getHeight()/Ge.SCALE))},_customEvent_NextPlayer:function(){this._PlayerNumber+=1,this._PlayerNumber>this._UsedNumberofPlayers-1&&(this._PlayerNumber=0)},_customEvent_PreviousPlayer:function(){--this._PlayerNumber,0>this._PlayerNumber&&(this._PlayerNumber=this._UsedNumberofPlayers-1)},_customEvent_CreateHUD:function(){Ke.hasValue(this._IconType)&&(Ke.createRecycledActor(this._IconType,this.actor.getX()+Ke.asNumber(this._BehaviorSplitValues.h[this._IconOffsets][0]),this.actor.getY()+Ke.asNumber(this._BehaviorSplitValues.h[this._IconOffsets][1]),0),this._IconActor=Ke.getLastCreatedActor(),this._IconActor.setAnimation(this._UsedPlayerPrefix))},_customEvent_KillHUD:function(){Ke.hasValue(this._IconActor)&&this._IconActor.isAlive()&&(Ke.recycleActor(this._IconActor),this._IconActor=Ke.getDefaultValue(this._IconActor))},init:function(){this._OldPlayerNumber=-1,this._BehaviorSplitValues=new pr,this._BehaviorSplitValues.h[this._IconOffsets]=this._IconOffsets.split(",");for(var t=this._ControlsperBehavior.h,e=(t=Object.keys(t)).length,i=0;i<e;){var s=t[i++];this._ControlsperBehavior.h[""+s]=(""+g.string(this._ControlsperBehavior.h[""+s])).split("|")}for(t=this._PlayerSwitchEvents.h,e=(t=Object.keys(t)).length,i=0;i<e;)s=t[i++],this._PlayerSwitchEvents.h[""+s]=(""+g.string(this._PlayerSwitchEvents.h[""+s])).split("|");""!=this._PlayerNumberGlobalValueName&&null!=Ke.getGameAttribute(this._PlayerNumberGlobalValueName)&&(this._PlayerNumber=Ke.asNumber(Ke.getGameAttribute(this._PlayerNumberGlobalValueName))),""+Ke.asNumber(this._NumberofPlayers)==""+this._NumberofPlayers&&(this._UsedNumberofPlayers=Ke.asNumber(this._NumberofPlayers)),this._CreateIcon&&this._customEvent_CreateHUD(),this.addListener(this.actor.whenUpdated,n(this,this._event_Updating)),this.addListener(this.actor.whenDrawing,n(this,this._event_Drawing))},forwardMessage:function(t){},__class__:Qy});var qy=function(t,e,i){Je.call(this,e),this.nameMap.h.Actor="actor",this.nameMap.h["Bunny Actor"]="_BunnyActor",this.nameMap.h["Skin Number"]="_SkinNumber",this._SkinNumber=0,this.nameMap.h["Text List"]="_TextList",this.nameMap.h["Text to Draw"]="_TexttoDraw",this._TexttoDraw=""};r["scripts.Design_356_356_SkinButtonBehavior"]=qy,qy.__name__="scripts.Design_356_356_SkinButtonBehavior",qy.__super__=Je,qy.prototype=i(Je.prototype,{_BunnyActor:null,_SkinNumber:null,_TextList:null,_TexttoDraw:null,_event_PressedOn:function(t){this.wrapper.enabled&&3==t&&!Ke.asBoolean(this.actor.getActorValue("locked"))&&(this.actor.setAnimation("2"),this._BunnyActor.setY(this.actor.getY()+2),this._customEvent_Pressed())},_event_ReleasedOn:function(t){this.wrapper.enabled&&5==t&&!Ke.asBoolean(this.actor.getActorValue("locked"))&&(this.actor.setAnimation("1"),this._BunnyActor.setY(this.actor.getY()))},_event_ExitsOn:function(t){this.wrapper.enabled&&-1==t&&!Ke.asBoolean(this.actor.getActorValue("locked"))&&(this.actor.setAnimation("1"),this._BunnyActor.setY(this.actor.getY()))},_event_DrawingCopy:function(t,e,i){if(this.wrapper.enabled&&(t.setFont(Ke.getFont(735)),t.translateToScreen(),this._TextList=(""+g.string(Ge.engine.getGameAttribute("Skin Names List")[0|this._SkinNumber])).split(" "),vr.contains(Ge.engine.getGameAttribute("Collected Skins List"),this._SkinNumber)))for(e=0,i=this._TextList.length;e<i;){var s=e++;this._TexttoDraw=""+g.string(this._TextList[s]),t.drawString(this._TexttoDraw.toLowerCase(),this.actor.getScreenX()+this.actor.getWidth()/2-t.font.getTextWidth(this._TexttoDraw.toLowerCase())/Ge.SCALE/2,this.actor.getScreenY()+35+6*s)}},_customEvent_Pressed:function(){Ke.isTransitioning()||(Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(594)),Ge.engine.getGameAttribute("Player 1 Selecting Skin")?(Ge.engine.gameAttributes.h["P1 Skin"]=this._SkinNumber,Ke.createActorInNextScene(Ke.getActorType(527),128,112,0)):(Ge.engine.gameAttributes.h["P2 Skin"]=this._SkinNumber,Ke.createActorInNextScene(Ke.getActorType(527),224,112,0)),Ke.switchScene(yn.get().scenes.h[13].getID(),null,Ke.createCrossfadeTransition(.3)))},init:function(){if(this.actor.makeAlwaysSimulate(),Ke.createRecycledActor(Ke.getActorType(704),this.actor.getX(),this.actor.getY(),0),this._BunnyActor=Ke.getLastCreatedActor(),vr.contains(Ge.engine.getGameAttribute("Collected Skins List"),this._SkinNumber))this._BunnyActor.setAnimation(""+this._SkinNumber);else{this._BunnyActor.setAnimation(""+this._SkinNumber);var t=0,e=0,i=0;null==i&&(i=0),null==e&&(e=0),null==t&&(t=0),this._BunnyActor.setFilter([Ke.createTintFilter(t<<16|e<<8|i,.6)]),this.actor.setActorValue("locked",!0),this.actor.setAnimation("locked"),Ke.createRecycledActor(Ke.getActorType(698),this.actor.getX()+3,this.actor.getY()+3,0)}this.addListener(this.actor.whenMousedOver,n(this,this._event_PressedOn)),this.addListener(this.actor.whenMousedOver,n(this,this._event_ReleasedOn)),this.addListener(this.actor.whenMousedOver,n(this,this._event_ExitsOn)),this.addListener(this.actor.whenDrawing,n(this,this._event_DrawingCopy))},forwardMessage:function(t){},__class__:qy});var $y=function(t,e,i){Je.call(this,e),this.nameMap.h.Actor="actor",this.nameMap.h["Bunny Actor"]="_BunnyActor",this.nameMap.h["Player1 Button?"]="_Player1Button",this._Player1Button=!0,this.nameMap.h["Text List"]="_TextList",this.nameMap.h["Skin Number"]="_SkinNumber",this._SkinNumber=0,this.nameMap.h["Text to Draw"]="_TexttoDraw",this._TexttoDraw="",this.nameMap.h.SkinNumberUnlock="_SkinNumberUnlock",this._SkinNumberUnlock=0};r["scripts.Design_360_360_SkinMenuPlayerSelectBehavior"]=$y,$y.__name__="scripts.Design_360_360_SkinMenuPlayerSelectBehavior",$y.__super__=Je,$y.prototype=i(Je.prototype,{_BunnyActor:null,_Player1Button:null,_TextList:null,_SkinNumber:null,_TexttoDraw:null,_SkinNumberUnlock:null,_event_PressedOn:function(t){this.wrapper.enabled&&3==t&&(this.actor.setAnimation("2"),this._BunnyActor.setY(this.actor.getY()+2),this._customEvent_Pressed())},_event_ReleasedOn:function(t){this.wrapper.enabled&&5==t&&(this.actor.setAnimation("1"),this._BunnyActor.setY(this.actor.getY()))},_event_ExitsOn:function(t){this.wrapper.enabled&&-1==t&&(this.actor.setAnimation("1"),this._BunnyActor.setY(this.actor.getY()))},_event_Drawing:function(t,e,i){if(this.wrapper.enabled)if(t.setFont(Ke.getFont(735)),t.translateToScreen(),this._Player1Button){if(this._TextList=(""+g.string(Ge.engine.getGameAttribute("Skin Names List")[0|Ge.engine.getGameAttribute("P1 Skin")])).split(" "),vr.contains(Ge.engine.getGameAttribute("Collected Skins List"),this._SkinNumber))for(e=0,i=this._TextList.length;e<i;){var s=e++;this._TexttoDraw=""+g.string(this._TextList[s]),t.drawString(this._TexttoDraw.toLowerCase(),this.actor.getScreenX()+this.actor.getWidth()/2-t.font.getTextWidth(this._TexttoDraw.toLowerCase())/Ge.SCALE/2,this.actor.getScreenY()+35+6*s)}}else if(this._TextList=(""+g.string(Ge.engine.getGameAttribute("Skin Names List")[0|Ge.engine.getGameAttribute("P2 Skin")])).split(" "),vr.contains(Ge.engine.getGameAttribute("Collected Skins List"),this._SkinNumber))for(e=0,i=this._TextList.length;e<i;)s=e++,this._TexttoDraw=""+g.string(this._TextList[s]),t.drawString(this._TexttoDraw.toLowerCase(),this.actor.getScreenX()+this.actor.getWidth()/2-t.font.getTextWidth(this._TexttoDraw.toLowerCase())/Ge.SCALE/2,this.actor.getScreenY()+35+6*s)},_customEvent_Pressed:function(){Ke.isTransitioning()||(Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(594)),this._Player1Button?"Unlock Bunny Screen"==Ke.getCurrentSceneName()?(Ge.engine.gameAttributes.h["P1 Skin"]=this._SkinNumberUnlock,Ke.createActorInNextScene(Ke.getActorType(527),128,112,0),Ke.switchScene(yn.get().scenes.h[13].getID(),null,Ke.createCrossfadeTransition(.3))):(Ge.engine.gameAttributes.h["Player 1 Selecting Skin"]=!0,0<=Ge.engine.getGameAttribute("P1 Skin")&&14>=Ge.engine.getGameAttribute("P1 Skin")?Ke.switchScene(yn.get().scenes.h[14].getID(),null,Ke.createCrossfadeTransition(.3)):15<=Ge.engine.getGameAttribute("P1 Skin")&&29>=Ge.engine.getGameAttribute("P1 Skin")?Ke.switchScene(yn.get().scenes.h[15].getID(),null,Ke.createCrossfadeTransition(.3)):30<=Ge.engine.getGameAttribute("P1 Skin")&&44>=Ge.engine.getGameAttribute("P1 Skin")?Ke.switchScene(yn.get().scenes.h[16].getID(),null,Ke.createCrossfadeTransition(.3)):45<=Ge.engine.getGameAttribute("P1 Skin")&&59>=Ge.engine.getGameAttribute("P1 Skin")?Ke.switchScene(yn.get().scenes.h[17].getID(),null,Ke.createCrossfadeTransition(.3)):60<=Ge.engine.getGameAttribute("P1 Skin")&&75>=Ge.engine.getGameAttribute("P1 Skin")?Ke.switchScene(yn.get().scenes.h[18].getID(),null,Ke.createCrossfadeTransition(.3)):76<=Ge.engine.getGameAttribute("P1 Skin")&&89>=Ge.engine.getGameAttribute("P1 Skin")?Ke.switchScene(yn.get().scenes.h[19].getID(),null,Ke.createCrossfadeTransition(.3)):90<=Ge.engine.getGameAttribute("P1 Skin")&&104>=Ge.engine.getGameAttribute("P1 Skin")&&Ke.switchScene(yn.get().scenes.h[22].getID(),null,Ke.createCrossfadeTransition(.3))):"Unlock Bunny Screen"==Ke.getCurrentSceneName()?(Ge.engine.gameAttributes.h["P2 Skin"]=this._SkinNumberUnlock,Ke.createActorInNextScene(Ke.getActorType(527),224,112,0),Ke.switchScene(yn.get().scenes.h[13].getID(),null,Ke.createCrossfadeTransition(.3))):(Ge.engine.gameAttributes.h["Player 1 Selecting Skin"]=!1,0<=Ge.engine.getGameAttribute("P2 Skin")&&14>=Ge.engine.getGameAttribute("P2 Skin")?Ke.switchScene(yn.get().scenes.h[14].getID(),null,Ke.createCrossfadeTransition(.3)):15<=Ge.engine.getGameAttribute("P2 Skin")&&29>=Ge.engine.getGameAttribute("P2 Skin")?Ke.switchScene(yn.get().scenes.h[15].getID(),null,Ke.createCrossfadeTransition(.3)):30<=Ge.engine.getGameAttribute("P2 Skin")&&44>=Ge.engine.getGameAttribute("P2 Skin")?Ke.switchScene(yn.get().scenes.h[16].getID(),null,Ke.createCrossfadeTransition(.3)):45<=Ge.engine.getGameAttribute("P2 Skin")&&59>=Ge.engine.getGameAttribute("P2 Skin")?Ke.switchScene(yn.get().scenes.h[17].getID(),null,Ke.createCrossfadeTransition(.3)):60<=Ge.engine.getGameAttribute("P2 Skin")&&75>=Ge.engine.getGameAttribute("P2 Skin")?Ke.switchScene(yn.get().scenes.h[18].getID(),null,Ke.createCrossfadeTransition(.3)):76<=Ge.engine.getGameAttribute("P2 Skin")&&89>=Ge.engine.getGameAttribute("P2 Skin")?Ke.switchScene(yn.get().scenes.h[19].getID(),null,Ke.createCrossfadeTransition(.3)):90<=Ge.engine.getGameAttribute("P2 Skin")&&104>=Ge.engine.getGameAttribute("P2 Skin")&&Ke.switchScene(yn.get().scenes.h[22].getID(),null,Ke.createCrossfadeTransition(.3))))},_customEvent_P1:function(){this._Player1Button=!0,this._BunnyActor.setAnimation(""+g.string(Ge.engine.getGameAttribute("P1 Skin")))},_customEvent_P2:function(){this._Player1Button=!1,this._BunnyActor.setAnimation(""+g.string(Ge.engine.getGameAttribute("P2 Skin")))},init:function(){this.actor.makeAlwaysSimulate(),Ke.createRecycledActor(Ke.getActorType(704),this.actor.getX(),this.actor.getY(),0),this._BunnyActor=Ke.getLastCreatedActor(),this._Player1Button?this._BunnyActor.setAnimation(""+g.string(Ge.engine.getGameAttribute("P1 Skin"))):this._BunnyActor.setAnimation(""+g.string(Ge.engine.getGameAttribute("P2 Skin"))),this.addListener(this.actor.whenMousedOver,n(this,this._event_PressedOn)),this.addListener(this.actor.whenMousedOver,n(this,this._event_ReleasedOn)),this.addListener(this.actor.whenMousedOver,n(this,this._event_ExitsOn)),this.addListener(this.actor.whenDrawing,n(this,this._event_Drawing))},forwardMessage:function(t){},__class__:$y});var tb=function(t,e,i){Je.call(this,e),this.nameMap.h.Actor="actor",this.nameMap.h["Player 1"]="_Player1",this._Player1=!0};r["scripts.Design_361_361_SetSkinBehavior"]=tb,tb.__name__="scripts.Design_361_361_SetSkinBehavior",tb.__super__=Je,tb.prototype=i(Je.prototype,{_Player1:null,init:function(){this._Player1&&(0==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin0_white.png"):1==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin1_navy.png"):2==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin2_brown.png"):3==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin3_black.png"):4==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin4_beige.png"):5==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin5_brownspot.png"):6==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin6_bluespot.png"):7==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin7_blackspot.png"):8==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin8_chinchilla.png"):9==Ge.engine.getGameAttribute("P1 Skin")&&Ke.setGameAttribute("Player1Skin","_skin9_cinnamon.png")),this._Player1&&(10==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin10_californian.png"):11==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin11_chocolate.png"):12==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin12_tricolor.png"):13==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin13_blackotter.png"):14==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin14_red.png"):15==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin15_castor.png"):16==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin16_gray.png"):17==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin17_moss.png"):18==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin18_pink.png"):19==Ge.engine.getGameAttribute("P1 Skin")&&Ke.setGameAttribute("Player1Skin","_skin19_green.png")),this._Player1&&(20==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin20_lightblue.png"):21==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin21_purple.png"):22==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin22_yellow.png"):23==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin23_scarlet.png"):24==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin24_blue.png"):25==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin25_lime.png"):26==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin26_cyan.png"):27==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin27_orange.png"):28==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin28_magenta.png"):29==Ge.engine.getGameAttribute("P1 Skin")&&Ke.setGameAttribute("Player1Skin","_skin29_rgb.png")),this._Player1&&(30==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin30_tiger.png"):31==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin31_pumpkin.png"):32==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin32_robot.png"):33==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin33_steampunk.png"):34==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin34_water.png"):35==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin35_camo.png"):36==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin36_wood.png"):37==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin37_stone.png"):38==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin38_fire.png"):39==Ge.engine.getGameAttribute("P1 Skin")&&Ke.setGameAttribute("Player1Skin","_skin39_negative.png")),this._Player1&&(40==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin40_transparent.png"):41==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin41_angel.png"):42==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin42_imp.png"):43==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin43_gb.png"):44==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin44_frozen.png"):45==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin45_rainbow.png"):46==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin46_alien.png"):47==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin47_fluffywhite.png"):48==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin48_upsidedown.png"):49==Ge.engine.getGameAttribute("P1 Skin")&&Ke.setGameAttribute("Player1Skin","_skin49_dark.png")),this._Player1&&(50==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin50_chonky.png"):51==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin51_mini.png"):52==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin52_sabretooth.png"):53==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin53_electric.png"):54==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin54_silhouette.png"):55==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin55_gooey.png"):56==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin56_snow.png"):57==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin57_vampire.png"):58==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin58_cosmic.png"):59==Ge.engine.getGameAttribute("P1 Skin")&&Ke.setGameAttribute("Player1Skin","_skin59_silver.png")),this._Player1&&(60==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin60_psychic.png"):61==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin61_jackrabbit.png"):62==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin62_shark.png"):63==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin63_jackalope.png"):64==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin64_usadachi.png"):65==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin65_punk.png"):66==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin66_goth.png"):67==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin67_moon.png"):68==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin68_caerbannog.png"):69==Ge.engine.getGameAttribute("P1 Skin")&&Ke.setGameAttribute("Player1Skin","_skin69_foxxy.png")),this._Player1&&(70==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin70_dust.png"):71==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin71_kami.png"):72==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin72_almiraj.png"):73==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin73_skvader.png"):74==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin74_warcriminal.png"):75==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin75_golden.png"):76==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin76_divine.png"):77==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin77_neutronized.png"):78==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin78_carrot.png"):79==Ge.engine.getGameAttribute("P1 Skin")&&Ke.setGameAttribute("Player1Skin","_skin79_goldencarrot.png")),this._Player1&&(80==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin80_chester.png"):81==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin81_timmy.png"):82==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin82_dashington.png"):83==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin83_heart.png"):84==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin84_star.png"):85==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin85_mage.png"):86==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin86_knight.png"):87==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin87_ranger.png"):88==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin88_king.png"):89==Ge.engine.getGameAttribute("P1 Skin")&&Ke.setGameAttribute("Player1Skin","_skin89_original.png")),this._Player1&&(90==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin90_fairy.png"):91==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin91_pixie.png"):92==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin92_ninja.png"):93==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin93_infernal.png"):94==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin94_ethereal.png"):95==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin95_zombie.png"):96==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin96_triplets.png"):97==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin97_ghost.png"):98==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin98_crystal.png"):99==Ge.engine.getGameAttribute("P1 Skin")&&Ke.setGameAttribute("Player1Skin","_skin99_astral.png")),this._Player1&&(100==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin100_domino.png"):101==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin101_disguised.png"):102==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin102_monstrous.png"):103==Ge.engine.getGameAttribute("P1 Skin")?Ke.setGameAttribute("Player1Skin","_skin103_carbuncle.png"):104==Ge.engine.getGameAttribute("P1 Skin")&&Ke.setGameAttribute("Player1Skin","_skin104_phosphor.png")),this._Player1||(0==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin0_white.png"):1==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin1_navy.png"):2==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin2_brown.png"):3==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin3_black.png"):4==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin4_beige.png"):5==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin5_brownspot.png"):6==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin6_bluespot.png"):7==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin7_blackspot.png"):8==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin8_chinchilla.png"):9==Ge.engine.getGameAttribute("P2 Skin")&&Ke.setGameAttribute("Player2Skin","_skin9_cinnamon.png")),this._Player1||(10==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin10_californian.png"):11==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin11_chocolate.png"):12==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin12_tricolor.png"):13==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin13_blackotter.png"):14==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin14_red.png"):15==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin15_castor.png"):16==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin16_gray.png"):17==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin17_moss.png"):18==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin18_pink.png"):19==Ge.engine.getGameAttribute("P2 Skin")&&Ke.setGameAttribute("Player2Skin","_skin19_green.png")),this._Player1||(20==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin20_lightblue.png"):21==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin21_purple.png"):22==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin22_yellow.png"):23==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin23_scarlet.png"):24==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin24_blue.png"):25==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin25_lime.png"):26==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin26_cyan.png"):27==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin27_orange.png"):28==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin28_magenta.png"):29==Ge.engine.getGameAttribute("P2 Skin")&&Ke.setGameAttribute("Player2Skin","_skin29_rgb.png")),this._Player1||(30==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin30_tiger.png"):31==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin31_pumpkin.png"):32==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin32_robot.png"):33==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin33_steampunk.png"):34==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin34_water.png"):35==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin35_camo.png"):36==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin36_wood.png"):37==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin37_stone.png"):38==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin38_fire.png"):39==Ge.engine.getGameAttribute("P2 Skin")&&Ke.setGameAttribute("Player2Skin","_skin39_negative.png")),this._Player1||(40==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin40_transparent.png"):41==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin41_angel.png"):42==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin42_imp.png"):43==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin43_gb.png"):44==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin44_frozen.png"):45==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin45_rainbow.png"):46==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin46_alien.png"):47==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin47_fluffywhite.png"):48==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin48_upsidedown.png"):49==Ge.engine.getGameAttribute("P2 Skin")&&Ke.setGameAttribute("Player2Skin","_skin49_dark.png")),this._Player1||(50==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin50_chonky.png"):51==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin51_mini.png"):52==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin52_sabretooth.png"):53==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin53_electric.png"):54==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin54_silhouette.png"):55==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin55_gooey.png"):56==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin56_snow.png"):57==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin57_vampire.png"):58==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin58_cosmic.png"):59==Ge.engine.getGameAttribute("P2 Skin")&&Ke.setGameAttribute("Player2Skin","_skin59_silver.png")),this._Player1||(60==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin60_psychic.png"):61==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin61_jackrabbit.png"):62==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin62_shark.png"):63==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin63_jackalope.png"):64==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin64_usadachi.png"):65==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin65_punk.png"):66==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin66_goth.png"):67==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin67_moon.png"):68==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin68_caerbannog.png"):69==Ge.engine.getGameAttribute("P2 Skin")&&Ke.setGameAttribute("Player2Skin","_skin69_foxxy.png")),this._Player1||(70==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin70_dust.png"):71==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin71_kami.png"):72==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin72_almiraj.png"):73==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin73_skvader.png"):74==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin74_warcriminal.png"):75==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin75_golden.png"):76==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin76_divine.png"):77==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin77_neutronized.png"):78==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin78_carrot.png"):79==Ge.engine.getGameAttribute("P2 Skin")&&Ke.setGameAttribute("Player2Skin","_skin79_goldencarrot.png")),this._Player1||(80==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin80_chester.png"):81==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin81_timmy.png"):82==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin82_dashington.png"):83==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin83_heart.png"):84==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin84_star.png"):85==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin85_mage.png"):86==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin86_knight.png"):87==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin87_ranger.png"):88==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin88_king.png"):89==Ge.engine.getGameAttribute("P2 Skin")&&Ke.setGameAttribute("Player2Skin","_skin89_original.png")),this._Player1||(90==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin90_fairy.png"):91==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin91_pixie.png"):92==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin92_ninja.png"):93==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin93_infernal.png"):94==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin94_ethereal.png"):95==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin95_zombie.png"):96==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin96_triplets.png"):97==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin97_ghost.png"):98==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin98_crystal.png"):99==Ge.engine.getGameAttribute("P2 Skin")&&Ke.setGameAttribute("Player2Skin","_skin99_astral.png")),this._Player1||(100==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin100_domino.png"):101==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin101_disguised.png"):102==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin102_monstrous.png"):103==Ge.engine.getGameAttribute("P2 Skin")?Ke.setGameAttribute("Player2Skin","_skin103_carbuncle.png"):104==Ge.engine.getGameAttribute("P2 Skin")&&Ke.setGameAttribute("Player2Skin","_skin104_phosphor.png"))},forwardMessage:function(t){},__class__:tb});var eb=function(t,e,i){Je.call(this,e),this.nameMap.h.Actor="actor",this.nameMap.h["Bunny Actor"]="_BunnyActor",this.nameMap.h["New Badge Actor"]="_NewBadgeActor"};r["scripts.Design_375_375_GachaButtonBehavior"]=eb,eb.__name__="scripts.Design_375_375_GachaButtonBehavior",eb.__super__=Je,eb.prototype=i(Je.prototype,{_BunnyActor:null,_NewBadgeActor:null,_event_PressedOn:function(t){this.wrapper.enabled&&3==t&&99<Ge.engine.getGameAttribute("Currency Carrots")&&(this.actor.setAnimation("2"),this._BunnyActor.setY(this.actor.getY()+2),this._customEvent_Pressed())},_event_ReleasedOn:function(t){this.wrapper.enabled&&5==t&&(99<Ge.engine.getGameAttribute("Currency Carrots")?this.actor.setAnimation("1"):this.actor.setAnimation("locked"),this._BunnyActor.setY(this.actor.getY()))},_customEvent_Pressed:function(){if(!Ke.isTransitioning()){var t=Ge.engine,e=Ge.engine.getGameAttribute("Currency Carrots")-100;t.gameAttributes.h["Currency Carrots"]=e,Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(605)),t=yn.get().scenes.h[21].getID();var i=e=0,s=0;null==s&&(s=0),null==i&&(i=0),null==e&&(e=0);var n=Ke.createFadeOut(.4,e<<16|i<<8|s);null==(s=i=e=0)&&(s=0),null==i&&(i=0),null==e&&(e=0),Ke.switchScene(t,n,Ke.createFadeIn(1,e<<16|i<<8|s)),Ge.engine.gameAttributes.h["Can RewardAd Skin"]=!0}},_customEvent_CarrotRewardCheck:function(){var t=this;99<Ge.engine.getGameAttribute("Currency Carrots")&&Ke.runLater(200,function(e){t._BunnyActor.setAnimation("gacha"),t._BunnyActor.clearFilters(),t.actor.setAnimation("1"),Ke.createRecycledActor(Ke.getActorType(722),t.actor.getX(),t.actor.getY()-4,0),Ke.getLastCreatedActor().anchorToScreen();var i=e=0,s=0;for(null==s&&(s=0),null==i&&(i=0),null==e&&(e=0),t._BunnyActor.setFilter([Ke.createTintFilter(e<<16|i<<8|s,1)]),Ke.createRecycledActor(Ke.getActorType(730),-32,-32,0),Ke.getLastCreatedActor().anchorToScreen(),Ke.getLastCreatedActor().setX(t.actor.getXCenter()-Ke.getLastCreatedActor().getWidth()/2),Ke.getLastCreatedActor().setY(t.actor.getYCenter()-Ke.getLastCreatedActor().getHeight()/2),e=0,i=Ke.getActorsOfType(Ke.getActorType(698));e<i.length;)s=i[e],++e,null==s||s.dead||s.recycled||Ke.recycleActor(s);for(e=0,i=Ke.getActorsOfType(Ke.getActorType(704));e<i.length;)s=i[e],++e,null==s||s.dead||s.recycled||s.clearFilters()},this.actor)},init:function(){var t=this;this.actor.makeAlwaysSimulate(),this.actor.anchorToScreen(),this.actor.setX(Ke.getScreenWidth()-this.actor.getWidth()-6-L.rightInset),this.actor.setY(Ke.getScreenHeight()-Ke.getScreenHeight()+6+L.topInset),0==Ge.engine.getGameAttribute("Skin List").length&&Ke.recycleActor(this.actor),Ke.createRecycledActor(Ke.getActorType(704),this.actor.getX(),this.actor.getY(),0),Ke.getLastCreatedActor().anchorToScreen(),this._BunnyActor=Ke.getLastCreatedActor(),100>Ge.engine.getGameAttribute("Currency Carrots")?(this._BunnyActor.setAnimation("locked"),this.actor.setAnimation("locked"),Ke.createRecycledActor(Ke.getActorType(698),this.actor.getX()+3,this.actor.getY()+3,0),Ke.getLastCreatedActor().anchorToScreen()):(this._BunnyActor.setAnimation("locked"),this.actor.setAnimation("locked"),Ke.createRecycledActor(Ke.getActorType(698),this.actor.getX()+3,this.actor.getY()+3,0),Ke.getLastCreatedActor().anchorToScreen(),Ke.runLater(500,function(e){t._BunnyActor.setAnimation("gacha"),t._BunnyActor.clearFilters(),t.actor.setAnimation("1"),Ke.createRecycledActor(Ke.getActorType(722),t.actor.getX(),t.actor.getY()-4,0),Ke.getLastCreatedActor().anchorToScreen();var i=e=0,s=0;for(null==s&&(s=0),null==i&&(i=0),null==e&&(e=0),t._BunnyActor.setFilter([Ke.createTintFilter(e<<16|i<<8|s,1)]),Ke.createRecycledActor(Ke.getActorType(730),-32,-32,0),Ke.getLastCreatedActor().anchorToScreen(),Ke.getLastCreatedActor().setX(t.actor.getXCenter()-Ke.getLastCreatedActor().getWidth()/2),Ke.getLastCreatedActor().setY(t.actor.getYCenter()-Ke.getLastCreatedActor().getHeight()/2),e=0,i=Ke.getActorsOfType(Ke.getActorType(698));e<i.length;)s=i[e],++e,null==s||s.dead||s.recycled||Ke.recycleActor(s);for(e=0,i=Ke.getActorsOfType(Ke.getActorType(704));e<i.length;)s=i[e],++e,null==s||s.dead||s.recycled||s.clearFilters()},this.actor)),Ke.createRecycledActor(Ke.getActorType(724),this.actor.getX()-8,this.actor.getY()+36,0),this.addListener(this.actor.whenMousedOver,n(this,this._event_PressedOn)),this.addListener(this.actor.whenMousedOver,n(this,this._event_ReleasedOn))},forwardMessage:function(t){},__class__:eb});var ib=function(t,e,i){Je.call(this,e),this.nameMap.h.Actor="actor",this.nameMap.h.Time="_Time",this._Time=1};r["scripts.Design_378_378_DieAfterTime"]=ib,ib.__name__="scripts.Design_378_378_DieAfterTime",ib.__super__=Je,ib.prototype=i(Je.prototype,{_Time:null,_event_DoAfter:function(t){this.wrapper.enabled&&this.actor.isAlive()&&Ke.recycleActor(this.actor)},init:function(){Ke.runLater(1e3*this._Time,n(this,this._event_DoAfter),this.actor)},forwardMessage:function(t){},__class__:ib});var sb=function(t,e){Ke.call(this),this.nameMap.h["Remaining Skins"]="_RemainingSkins",this._RemainingSkins=0,this.nameMap.h["New Skin"]="_NewSkin",this._NewSkin=0,this.nameMap.h["Bunny Actor"]="_BunnyActor",this.nameMap.h["Can Confetti?"]="_CanConfetti",this._CanConfetti=!0,this.nameMap.h["Can Draw Name?"]="_CanDrawName",this._CanDrawName=!1,this.nameMap.h["Bunny X Middle"]="_BunnyX",this._BunnyX=0,this.nameMap.h["Bunny Y"]="_BunnyY",this._BunnyY=0};r["scripts.Design_381_381_UnlockBunnyScreenBehavior"]=sb,sb.__name__="scripts.Design_381_381_UnlockBunnyScreenBehavior",sb.__super__=ei,sb.prototype=i(ei.prototype,{_RemainingSkins:null,_NewSkin:null,_BunnyActor:null,_CanConfetti:null,_CanDrawName:null,_BunnyX:null,_BunnyY:null,_event_Drawing:function(t,e,i){this.wrapper.enabled&&(t.setFont(Ke.getFont(766)),t.translateToScreen(),this._CanDrawName&&t.drawString(""+g.string(Ge.engine.getGameAttribute("Skin Names List")[0|this._NewSkin]),Ke.getScreenWidth()/2-t.font.getTextWidth(""+g.string(Ge.engine.getGameAttribute("Skin Names List")[0|this._NewSkin]))/Ge.SCALE/2,this._BunnyY-24))},_customEvent_confetti:function(){var t=this;Ke.createRecycledActor(Ke.getActorType(612),Ke.randomInt(0,Ke.getSceneWidth()),-6,0),Ke.getLastCreatedActor().moveToBottom(),Ke.runLater(70,function(e){t._CanConfetti&&Ke.shoutToScene("_customEvent_confetti")},null)},init:function(){var t=this;this._RemainingSkins=Ge.engine.getGameAttribute("Skin List").length,this._NewSkin=Ke.asNumber(Ge.engine.getGameAttribute("Skin List")[Ke.randomInt(0,this._RemainingSkins-1|0)]),Ge.engine.getGameAttribute("Collected Skins List").push(this._NewSkin),Ge.engine.getGameAttribute("Skin List").splice(Ge.engine.getGameAttribute("Skin List").indexOf(this._NewSkin),1),Ke.saveGame("mySave",function(t){}),Ke.runLater(1e3,function(e){Ke.createRecycledActor(Ke.getActorType(704),176,118,2),t._BunnyActor=Ke.getLastCreatedActor(),t._BunnyActor.setAnimation(""+t._NewSkin);var i=e=0,s=0;null==s&&(s=0),null==i&&(i=0),null==e&&(e=0),t._BunnyActor.setFilter([Ke.createTintFilter(e<<16|i<<8|s,1)]),t._BunnyX=t._BunnyActor.getXCenter(),t._BunnyY=t._BunnyActor.getScreenY(),Ke.createRecycledActor(Ke.getActorType(527),176,120,0),Ke.runLater(1500,function(e){t._BunnyActor.clearFilters(),t._customEvent_confetti(),Ke.createRecycledActor(Ke.getActorType(623),176,120,0),e=0;for(var i=Ke.getActorsOfType(Ke.getActorType(732));e<i.length;){var s=i[e];++e,null==s||s.dead||s.recycled||s.fadeTo(0,.2,da.linear)}Ke.startShakingScreen(.01,.3),Ge.engine.getGameAttribute("Mute Sounds")||(Ke.playSound(Ke.getSound(683)),Ke.runLater(500,function(t){Ke.playSound(Ke.getSound(614))},null)),Ke.runLater(2e3,function(e){t._CanConfetti=!1},null),t._CanDrawName=!0,Ke.createRecycledActor(Ke.getActorType(692),-32,-32,0),Ke.createRecycledActor(Ke.getActorType(621),-32,-32,0),Ke.createRecycledActor(Ke.getActorType(710),128,168,0),Ke.getLastCreatedActor().shout("_customEvent_P1"),Ke.getLastCreatedActor().setValue("Skin Menu Player Select Behavior","_SkinNumberUnlock",t._NewSkin),Ke.createRecycledActor(Ke.getActorType(710),224,168,0),Ke.getLastCreatedActor().shout("_customEvent_P2"),Ke.getLastCreatedActor().setValue("Skin Menu Player Select Behavior","_SkinNumberUnlock",t._NewSkin),Ke.createRecycledActor(Ke.getActorType(706),112,152,0),Ke.createRecycledActor(Ke.getActorType(708),208,152,0),Ke.createRecycledActor(Ke.getActorType(756),104,96,2),Ke.createRecycledActor(Ke.getActorType(789),168,172,0),100<=Ge.engine.getGameAttribute("Currency Carrots")?Ke.createRecycledActor(Ke.getActorType(720),-100,-100,2):Ge.engine.getGameAttribute("Can RewardAd Skin")&&Ke.createRecycledActor(Ke.getActorType(812),-100,-100,2),Ke.createRecycledActor(Ke.getActorType(760),136,80,2)},null)},null),Ge.engine.getGameAttribute("Mute Sounds")||Ke.runLater(300,function(t){Ke.playSound(Ke.getSound(734))},null),this.addListener(Ke.engine.whenDrawing,n(this,this._event_Drawing))},forwardMessage:function(t){},__class__:sb});var nb=function(t,e,i){Je.call(this,e),this.nameMap.h.Actor="actor"};r["scripts.Design_384_384_ParticlesPlayers"]=nb,nb.__name__="scripts.Design_384_384_ParticlesPlayers",nb.__super__=Je,nb.prototype=i(Je.prototype,{_event_Updating:function(t){this.wrapper.enabled&&(Ke.asBoolean(this.actor.getActorValue("P1"))?100==Ge.engine.getGameAttribute("P1 Skin")&&(Ke.asBoolean("Right"==this.actor.getActorValue("Facing"))?Ke.setGameAttribute("Player1Skin","_skin100_domino.png"):Ke.asBoolean("Left"==this.actor.getActorValue("Facing"))&&Ke.setGameAttribute("Player1Skin","_skin100_domino2.png")):Ke.asBoolean(this.actor.getActorValue("P2"))&&100==Ge.engine.getGameAttribute("P2 Skin")&&(Ke.asBoolean("Right"==this.actor.getActorValue("Facing"))?Ke.setGameAttribute("Player2Skin","_skin100_domino.png"):Ke.asBoolean("Left"==this.actor.getActorValue("Facing"))&&Ke.setGameAttribute("Player2Skin","_skin100_domino2.png")))},_customEvent_sparkles:function(){var t=this;Ke.createRecycledActor(Ke.getActorType(568),this.actor.getXCenter()+Ke.randomInt(-12,8),this.actor.getYCenter()+Ke.randomInt(-6,12),0),Ke.runLater(200,function(e){t._customEvent_sparkles()},this.actor)},_customEvent_flames:function(){var t=this;Ke.createRecycledActor(Ke.getActorType(738),this.actor.getXCenter()+Ke.randomInt(-12,8),this.actor.getYCenter()+Ke.randomInt(-6,12),0),Ke.runLater(100,function(e){t._customEvent_flames()},this.actor)},_customEvent_snowing:function(){var t=this;Ke.createRecycledActor(Ke.getActorType(740),this.actor.getXCenter()+Ke.randomInt(-12,8),this.actor.getYCenter()+Ke.randomInt(-6,12),0),Ke.runLater(100,function(e){t._customEvent_snowing()},this.actor)},_customEvent_thunder:function(){var t=this;Ke.createRecycledActor(Ke.getActorType(742),this.actor.getXCenter()+Ke.randomInt(-10,6),this.actor.getYCenter()+Ke.randomInt(-4,10),0),Ke.runLater(400,function(e){t._customEvent_thunder()},this.actor)},_customEvent_steam:function(){var t=this;Ke.createRecycledActor(Ke.getActorType(744),this.actor.getXCenter()+Ke.randomInt(-10,6),this.actor.getYCenter()+Ke.randomInt(-4,10),2),Ke.runLater(300,function(e){t._customEvent_steam()},this.actor)},_customEvent_smoke:function(){var t=this;Ke.createRecycledActor(Ke.getActorType(746),this.actor.getXCenter()+Ke.randomInt(-10,6),this.actor.getYCenter()+Ke.randomInt(-4,10),2),Ke.runLater(300,function(e){t._customEvent_smoke()},this.actor)},_customEvent_water:function(){var t=this;Ke.createRecycledActor(Ke.getActorType(748),this.actor.getXCenter()+Ke.randomInt(-10,6),this.actor.getYCenter()+Ke.randomInt(-4,10),0),Ke.runLater(200,function(e){t._customEvent_water()},this.actor)},_customEvent_gooey:function(){var t=this;Ke.createRecycledActor(Ke.getActorType(764),this.actor.getXCenter()+Ke.randomInt(-10,6),this.actor.getYCenter()+Ke.randomInt(-4,10),0),Ke.runLater(200,function(e){t._customEvent_gooey()},this.actor)},_customEvent_rainbow:function(){var t=this;Ke.asBoolean(this.actor.getActorValue("dead"))||(Ke.createRecycledActor(Ke.getActorType(752),this.actor.getX()+13,this.actor.getY()+16,1),Ke.runLater(20,function(e){t._customEvent_rainbow()},this.actor))},_customEvent_whitetrail:function(){var t=this;Ke.asBoolean(this.actor.getActorValue("dead"))||(Ke.createRecycledActor(Ke.getActorType(754),this.actor.getX()+14,this.actor.getY()+16,1),Ke.runLater(20,function(e){t._customEvent_whitetrail()},this.actor))},_customEvent_redtrail:function(){var t=this;Ke.asBoolean(this.actor.getActorValue("dead"))||(Ke.createRecycledActor(Ke.getActorType(758),this.actor.getX()+14,this.actor.getY()+16,1),Ke.runLater(20,function(e){t._customEvent_redtrail()},this.actor))},_customEvent_cosmic:function(){var t=this;Ke.createRecycledActor(Ke.getActorType(762),this.actor.getXCenter()+Ke.randomInt(-10,6),this.actor.getYCenter()+Ke.randomInt(-4,10),2),Ke.runLater(200,function(e){t._customEvent_cosmic()},this.actor)},_customEvent_astral:function(){var t=this;Ke.createRecycledActor(Ke.getActorType(767),this.actor.getXCenter()+Ke.randomInt(-10,6),this.actor.getYCenter()+Ke.randomInt(-4,10),2),Ke.runLater(200,function(e){t._customEvent_astral()},this.actor)},init:function(){var t=this;Ke.asBoolean(this.actor.getActorValue("P1"))&&(75==Ge.engine.getGameAttribute("P1 Skin")||79==Ge.engine.getGameAttribute("P1 Skin")||59==Ge.engine.getGameAttribute("P1 Skin")?this._customEvent_sparkles():38==Ge.engine.getGameAttribute("P1 Skin")||93==Ge.engine.getGameAttribute("P1 Skin")?(this._customEvent_flames(),this._customEvent_smoke()):44==Ge.engine.getGameAttribute("P1 Skin")||56==Ge.engine.getGameAttribute("P1 Skin")?this._customEvent_snowing():32==Ge.engine.getGameAttribute("P1 Skin")||53==Ge.engine.getGameAttribute("P1 Skin")?this._customEvent_thunder():33==Ge.engine.getGameAttribute("P1 Skin")?this._customEvent_steam():34==Ge.engine.getGameAttribute("P1 Skin")?this._customEvent_water():45==Ge.engine.getGameAttribute("P1 Skin")?this._customEvent_rainbow():71==Ge.engine.getGameAttribute("P1 Skin")?this._customEvent_whitetrail():49==Ge.engine.getGameAttribute("P1 Skin")?this._customEvent_redtrail():58==Ge.engine.getGameAttribute("P1 Skin")?this._customEvent_cosmic():55==Ge.engine.getGameAttribute("P1 Skin")?this._customEvent_gooey():60==Ge.engine.getGameAttribute("P1 Skin")?Ke.runLater(50,function(e){t.actor.say("After Image","_customBlock_AfterImagePreset",["Psychic",!0])},this.actor):68==Ge.engine.getGameAttribute("P1 Skin")?Ke.runLater(50,function(e){t.actor.say("After Image","_customBlock_AfterImagePreset",["Caerbannog",!0])},this.actor):76==Ge.engine.getGameAttribute("P1 Skin")||94==Ge.engine.getGameAttribute("P1 Skin")?Ke.runLater(50,function(e){t.actor.say("After Image","_customBlock_AfterImagePreset",["Regular",!0])},this.actor):99==Ge.engine.getGameAttribute("P1 Skin")&&(this._customEvent_astral(),Ke.runLater(50,function(e){t.actor.say("After Image","_customBlock_AfterImagePreset",["Regular",!0])},this.actor))),Ke.asBoolean(this.actor.getActorValue("P2"))&&(75==Ge.engine.getGameAttribute("P2 Skin")||79==Ge.engine.getGameAttribute("P2 Skin")||59==Ge.engine.getGameAttribute("P2 Skin")?this._customEvent_sparkles():38==Ge.engine.getGameAttribute("P2 Skin")||93==Ge.engine.getGameAttribute("P2 Skin")?(this._customEvent_flames(),this._customEvent_smoke()):44==Ge.engine.getGameAttribute("P2 Skin")||56==Ge.engine.getGameAttribute("P2 Skin")?this._customEvent_snowing():32==Ge.engine.getGameAttribute("P2 Skin")||53==Ge.engine.getGameAttribute("P2 Skin")?this._customEvent_thunder():33==Ge.engine.getGameAttribute("P2 Skin")?this._customEvent_steam():34==Ge.engine.getGameAttribute("P2 Skin")?this._customEvent_water():45==Ge.engine.getGameAttribute("P2 Skin")?this._customEvent_rainbow():71==Ge.engine.getGameAttribute("P2 Skin")?this._customEvent_whitetrail():49==Ge.engine.getGameAttribute("P2 Skin")?this._customEvent_redtrail():58==Ge.engine.getGameAttribute("P2 Skin")?this._customEvent_cosmic():55==Ge.engine.getGameAttribute("P2 Skin")?this._customEvent_gooey():60==Ge.engine.getGameAttribute("P2 Skin")?Ke.runLater(50,function(e){t.actor.say("After Image","_customBlock_AfterImagePreset",["Psychic",!0])},this.actor):68==Ge.engine.getGameAttribute("P2 Skin")?Ke.runLater(50,function(e){t.actor.say("After Image","_customBlock_AfterImagePreset",["Caerbannog",!0])},this.actor):76==Ge.engine.getGameAttribute("P2 Skin")||94==Ge.engine.getGameAttribute("P2 Skin")?Ke.runLater(50,function(e){t.actor.say("After Image","_customBlock_AfterImagePreset",["Regular",!0])},this.actor):99==Ge.engine.getGameAttribute("P2 Skin")&&(this._customEvent_astral(),Ke.runLater(50,function(e){t.actor.say("After Image","_customBlock_AfterImagePreset",["Regular",!0])},this.actor))),this.addListener(this.actor.whenUpdated,n(this,this._event_Updating))},forwardMessage:function(t){},__class__:nb});var rb=function(t,e){Ke.call(this),this.nameMap.h["Finger Icon"]="_FingerIcon",this.nameMap.h["Can Slide?"]="_CanSlide",this._CanSlide=!1,this.nameMap.h["Selection Number"]="_SelectionNumber",this._SelectionNumber=0};r["scripts.Design_402_402_TitleScreenKeyboard"]=rb,rb.__name__="scripts.Design_402_402_TitleScreenKeyboard",rb.__super__=ei,rb.prototype=i(ei.prototype,{_FingerIcon:null,_CanSlide:null,_SelectionNumber:null,_event_SpacePressedHTML5:function(t,e){if(this.wrapper.enabled&&t&&!p.IsVideoPlaying())for(t=0,e=Ke.getActorsOfType(Ke.getActorType(601));t<e.length;){var i=e[t];++t,null==i||i.dead||i.recycled||i.shout("_customEvent_Pressed")}},init:function(){this.addListener(Ke.engine.whenKeyPressedEvents.getOrCreateEvent("Space"),n(this,this._event_SpacePressedHTML5))},forwardMessage:function(t){},__class__:rb});var ab=function(t,e,i){Je.call(this,e),this.nameMap.h.Actor="actor",this.nameMap.h.URL="_URL",this._URL="http://www.stencyl.com",this.nameMap.h["Pressed Animation"]="_PressedAnimation",this._PressedAnimation="",this.nameMap.h.Down="_Down",this._Down=!1,this.nameMap.h["Normal Animation"]="_NormalAnimation",this._NormalAnimation="",this.nameMap.h["Hover Animation"]="_HoverAnimation",this._HoverAnimation=""};r["scripts.Design_410_410_OpenURLButton"]=ab,ab.__name__="scripts.Design_410_410_OpenURLButton",ab.__super__=Je,ab.prototype=i(Je.prototype,{_URL:null,_PressedAnimation:null,_Down:null,_NormalAnimation:null,_HoverAnimation:null,_event_OnActor:function(t){this.wrapper.enabled&&3==t&&(this.actor.setAnimation(this._PressedAnimation),this._Down=!0)},_event_OnActor2:function(t){this.wrapper.enabled&&5==t&&(this._Down&&this._customEvent_Action(),this.actor.setAnimation(this._HoverAnimation),this._Down=!1)},_event_OnActor3:function(t){this.wrapper.enabled&&1==t&&this.actor.setAnimation(this._HoverAnimation)},_event_OnActor4:function(t){this.wrapper.enabled&&-1==t&&(this.actor.setAnimation(this._NormalAnimation),this._Down=!1)},_customEvent_Action:function(){Ke.openURLInBrowser(this._URL)},init:function(){this.addListener(this.actor.whenMousedOver,n(this,this._event_OnActor)),this.addListener(this.actor.whenMousedOver,n(this,this._event_OnActor2)),this.addListener(this.actor.whenMousedOver,n(this,this._event_OnActor3)),this.addListener(this.actor.whenMousedOver,n(this,this._event_OnActor4))},forwardMessage:function(t){},__class__:ab});var ob=function(t,e){Ke.call(this),this.nameMap.h["Showing Ad?"]="_ShowingAd",this._ShowingAd=!1};r["scripts.Design_421_421_AdsBehavior"]=ob,ob.__name__="scripts.Design_421_421_AdsBehavior",ob.__super__=ei,ob.prototype=i(ei.prototype,{_ShowingAd:null,_event_UnityAds:function(t){},_customEvent_PokiAd:function(){Ke.runLater(400,function(t){Ke.engine.pause(),Ke.pauseSoundOnChannel(0),p.commercialBreak(function(){Ke.engine.unpause(),Ke.resumeSoundOnChannel(0)})},null)},_customEvent_ReviveAdPoki:function(){p.adBlocked?(Ke.engine.unpause(),Ke.shoutToScene("_customEvent_AddCurrency"),Ke.switchScene(yn.get().scenes.h[11].getID(),null,Ke.createCrossfadeTransition(.5))):p.rewardedBreak(function(){for(var t=0,e=Ke.getActorsOfType(Ke.getActorType(586));t<e.length;){var i=e[t];++t,null==i||i.dead||i.recycled||Ke.recycleActor(i)}for(t=0,e=Ke.getActorsOfType(Ke.getActorType(806));t<e.length;)i=e[t],++t,null==i||i.dead||i.recycled||Ke.recycleActor(i);for(t=0,e=Ke.getActorsOfType(Ke.getActorType(808));t<e.length;)i=e[t],++t,null==i||i.dead||i.recycled||Ke.recycleActor(i);for(t=0,e=Ke.getActorsOfType(Ke.getActorType(810));t<e.length;)i=e[t],++t,null==i||i.dead||i.recycled||Ke.recycleActor(i);Ke.engine.unpause(),Ke.loopSoundOnChannel(Ke.getSound(554),0),Ke.sayToScene("Scene Functions Behavior","_customEvent_CreateControls"),Ge.engine.getGameAttribute("Multiplayer On")?Ke.runLater(1e3,function(t){t=0;for(var e=Ke.getActorsOfType(Ke.getActorType(674));t<e.length;){var i=e[t];++t,null==i||i.dead||i.recycled||Ke.recycleActor(i)}for(t=0,e=Ke.getActorsOfType(Ke.getActorType(654));t<e.length;)i=e[t],++t,null==i||i.dead||i.recycled||Ke.recycleActor(i);for(t=0,e=Ke.getActorsOfType(Ke.getActorType(656));t<e.length;)i=e[t],++t,null==i||i.dead||i.recycled||Ke.recycleActor(i);for(t=0,e=Ke.getActorsOfType(Ke.getActorType(479));t<e.length;)i=e[t],++t,null==i||i.dead||i.recycled||Ke.recycleActor(i);for(t=0,e=Ke.getActorsOfType(Ke.getActorType(652));t<e.length;)i=e[t],++t,null==i||i.dead||i.recycled||Ke.recycleActor(i);Ke.createRecycledActor(Ke.getActorType(479),136,144,0),Ke.getLastCreatedActor().shout("_customEvent_BlinkAd"),Ke.createRecycledActor(Ke.getActorType(652),216,144,0),Ke.getLastCreatedActor().shout("_customEvent_BlinkAd"),p.sendGameplayStart()},null):Ke.runLater(1e3,function(t){t=0;for(var e=Ke.getActorsOfType(Ke.getActorType(674));t<e.length;){var i=e[t];++t,null==i||i.dead||i.recycled||Ke.recycleActor(i)}for(t=0,e=Ke.getActorsOfType(Ke.getActorType(654));t<e.length;)i=e[t],++t,null==i||i.dead||i.recycled||Ke.recycleActor(i);for(t=0,e=Ke.getActorsOfType(Ke.getActorType(656));t<e.length;)i=e[t],++t,null==i||i.dead||i.recycled||Ke.recycleActor(i);for(t=0,e=Ke.getActorsOfType(Ke.getActorType(479));t<e.length;)i=e[t],++t,null==i||i.dead||i.recycled||Ke.recycleActor(i);for(t=0,e=Ke.getActorsOfType(Ke.getActorType(652));t<e.length;)i=e[t],++t,null==i||i.dead||i.recycled||Ke.recycleActor(i);Ke.createRecycledActor(Ke.getActorType(479),176,144,0),Ke.getLastCreatedActor().shout("_customEvent_BlinkAd"),p.sendGameplayStart()},null),Ke.shoutToScene("_customEvent_ResumeTime"),Ge.engine.gameAttributes.h["Used Revive"]=!0})},_customEvent_ReviveAdMobile:function(){},_customEvent_ReviveNoAd:function(){Ge.engine.gameAttributes.h["Ad Counter"]=0,Ge.engine.gameAttributes.h["Ad Timer"]=0,Ke.engine.unpause(),Ke.resumeSoundOnChannel(0),this._ShowingAd=!1;for(var t=0,e=Ke.getActorsOfType(Ke.getActorType(586));t<e.length;){var i=e[t];++t,null==i||i.dead||i.recycled||Ke.recycleActor(i)}for(t=0,e=Ke.getActorsOfType(Ke.getActorType(806));t<e.length;)i=e[t],++t,null==i||i.dead||i.recycled||Ke.recycleActor(i);for(t=0,e=Ke.getActorsOfType(Ke.getActorType(808));t<e.length;)i=e[t],++t,null==i||i.dead||i.recycled||Ke.recycleActor(i);for(t=0,e=Ke.getActorsOfType(Ke.getActorType(810));t<e.length;)i=e[t],++t,null==i||i.dead||i.recycled||Ke.recycleActor(i);Ke.engine.unpause(),Ke.loopSoundOnChannel(Ke.getSound(554),0),Ke.sayToScene("Scene Functions Behavior","_customEvent_CreateControls"),Ge.engine.getGameAttribute("Multiplayer On")?Ke.runLater(1e3,function(t){t=0;for(var e=Ke.getActorsOfType(Ke.getActorType(674));t<e.length;){var i=e[t];++t,null==i||i.dead||i.recycled||Ke.recycleActor(i)}for(t=0,e=Ke.getActorsOfType(Ke.getActorType(654));t<e.length;)i=e[t],++t,null==i||i.dead||i.recycled||Ke.recycleActor(i);for(t=0,e=Ke.getActorsOfType(Ke.getActorType(656));t<e.length;)i=e[t],++t,null==i||i.dead||i.recycled||Ke.recycleActor(i);for(t=0,e=Ke.getActorsOfType(Ke.getActorType(479));t<e.length;)i=e[t],++t,null==i||i.dead||i.recycled||Ke.recycleActor(i);for(t=0,e=Ke.getActorsOfType(Ke.getActorType(652));t<e.length;)i=e[t],++t,null==i||i.dead||i.recycled||Ke.recycleActor(i);Ke.createRecycledActor(Ke.getActorType(479),136,144,0),Ke.getLastCreatedActor().shout("_customEvent_BlinkAd"),Ke.createRecycledActor(Ke.getActorType(652),216,144,0),Ke.getLastCreatedActor().shout("_customEvent_BlinkAd")},null):Ke.runLater(1e3,function(t){t=0;for(var e=Ke.getActorsOfType(Ke.getActorType(674));t<e.length;){var i=e[t];++t,null==i||i.dead||i.recycled||Ke.recycleActor(i)}for(t=0,e=Ke.getActorsOfType(Ke.getActorType(654));t<e.length;)i=e[t],++t,null==i||i.dead||i.recycled||Ke.recycleActor(i);for(t=0,e=Ke.getActorsOfType(Ke.getActorType(656));t<e.length;)i=e[t],++t,null==i||i.dead||i.recycled||Ke.recycleActor(i);for(t=0,e=Ke.getActorsOfType(Ke.getActorType(479));t<e.length;)i=e[t],++t,null==i||i.dead||i.recycled||Ke.recycleActor(i);for(t=0,e=Ke.getActorsOfType(Ke.getActorType(652));t<e.length;)i=e[t],++t,null==i||i.dead||i.recycled||Ke.recycleActor(i);Ke.createRecycledActor(Ke.getActorType(479),176,144,0),Ke.getLastCreatedActor().shout("_customEvent_BlinkAd")},null),Ke.shoutToScene("_customEvent_ResumeTime"),Ge.engine.gameAttributes.h["Used Revive"]=!0},init:function(){this.addListener(Ke.engine.whenUpdated,n(this,this._event_UnityAds))},forwardMessage:function(t){},__class__:ob});var lb=function(t,e,i){Je.call(this,e),this.nameMap.h.Actor="actor",this.nameMap.h.Coordinates="_Coordinates",this.nameMap.h.X="_XVar",this._XVar=0,this.nameMap.h.Y="_YVar",this._YVar=0,this.nameMap.h.XY="_XY",this.nameMap.h["Previous X"]="_PreviousX",this._PreviousX=0,this.nameMap.h["Previous Y"]="_PreviousY",this._PreviousY=0,this.nameMap.h.First="_First",this._First=!1,this.nameMap.h.Loop="_Loop",this._Loop=!0,this.nameMap.h["First X"]="_FirstX",this._FirstX=0,this.nameMap.h["First Y"]="_FirstY",this._FirstY=0,this.nameMap.h["Distance X"]="_DistanceX",this._DistanceX=0,this.nameMap.h["Distance Y"]="_DistanceY",this._DistanceY=0,this.nameMap.h.Distance="_Distance",this._Distance=0,this.nameMap.h.Direction="_Direction",this._Direction=0,this.nameMap.h["Default Speed"]="_DefaultSpeed",this._DefaultSpeed=10,this.nameMap.h["Current Node"]="_CurrentNode",this._CurrentNode=0,this.nameMap.h["Current Speed"]="_CurrentSpeed",this._CurrentSpeed=0,this.nameMap.h["Jump to Start"]="_JumptoStart",this._JumptoStart=!0,this.nameMap.h["Can Start Moving?"]="_CanStartMoving",this._CanStartMoving=!1};r["scripts.Design_422_422_FollowPath"]=lb,lb.__name__="scripts.Design_422_422_FollowPath",lb.__super__=Je,lb.prototype=i(Je.prototype,{_Coordinates:null,_XVar:null,_YVar:null,_XY:null,_PreviousX:null,_PreviousY:null,_First:null,_Loop:null,_FirstX:null,_FirstY:null,_DistanceX:null,_DistanceY:null,_Distance:null,_Direction:null,_DefaultSpeed:null,_CurrentNode:null,_CurrentSpeed:null,_JumptoStart:null,_CanStartMoving:null,_event_Updated:function(t){this.wrapper.enabled&&(0==this._Coordinates.length?this.actor.setVelocity(0,0):this._CanStartMoving&&(this._Loop&&this._CurrentNode>=this._Coordinates.length&&(this._CurrentNode=0),this._CurrentNode<this._Coordinates.length&&(this._XY=(""+g.string(this._Coordinates[0|this._CurrentNode])).split(","),2<=this._XY.length&&(this._XVar=Ke.asNumber(this._XY[0]),this._YVar=Ke.asNumber(this._XY[1]),this._CurrentSpeed=3<=this._XY.length?Ke.asNumber(this._XY[2]):this._DefaultSpeed,this._DistanceX=this._XVar-this.actor.getXCenter(),this._DistanceY=this._YVar-this.actor.getYCenter(),this._Distance=Math.sqrt(Math.pow(this._DistanceX,2)+Math.pow(this._DistanceY,2)),this._Direction=57.29577951308402*Math.atan2(this._DistanceY,this._DistanceX),0<this._Distance?this.actor.setVelocity(this._Direction,Math.min(this._CurrentSpeed,this._Distance)):(this.actor.setVelocity(0,0),this._CurrentNode+=1)))))},_event_Drawing:function(t,e,i){if(this.wrapper.enabled&&Ke.sceneHasBehavior("Game Debugger")&&Ke.asBoolean(Ke.getValueForScene("Game Debugger","_Enabled"))){for(t.strokeColor=Ke.getValueForScene("Game Debugger","_CustomColor"),t.strokeSize=0|Ke.asNumber(Ke.getValueForScene("Game Debugger","_StrokeThickness")),t.translateToScreen(),this._First=!0,e=0,i=vo.__cast(this._Coordinates,Array);e<i.length;){var s=i[e];++e,this._XY=(""+g.string(s)).split(","),this._First?(this._First=!1,this._FirstX=Ke.asNumber(this._XY[0]),this._FirstY=Ke.asNumber(this._XY[1]),this._PreviousX=this._FirstX,this._PreviousY=this._FirstY):(this._XVar=Ke.asNumber(this._XY[0]),this._YVar=Ke.asNumber(this._XY[1]),t.drawLine(this._PreviousX-Ke.getScreenX(),this._PreviousY-Ke.getScreenY(),this._XVar-Ke.getScreenX(),this._YVar-Ke.getScreenY()),this._PreviousX=this._XVar,this._PreviousY=this._YVar),t.fillCircle(this._PreviousX-Ke.getScreenX(),this._PreviousY-Ke.getScreenY(),Ke.asNumber(Ke.getValueForScene("Game Debugger","_StrokeThickness")))}this._Loop&&0!=this._Coordinates.length&&t.drawLine(this._PreviousX-Ke.getScreenX(),this._PreviousY-Ke.getScreenY(),this._FirstX-Ke.getScreenX(),this._FirstY-Ke.getScreenY())}},_customBlock_AddNode:function(t,e){this._Coordinates.push(t+","+e)},_customBlock_AddNodeWithCustomSpeed:function(t,e,i){this._Coordinates.push(t+","+e+","+i)},_customBlock_ClearPath:function(){this._CurrentNode=this._Coordinates.length=0},_customEvent_StartMovingSaw:function(){this._CanStartMoving=!0},init:function(){this.actor.makeAlwaysSimulate(),this._CurrentNode=0,this._JumptoStart&&0!=this._Coordinates.length&&(this._XY=(""+g.string(this._Coordinates[0|this._CurrentNode])).split(","),2<=this._XY.length&&(this.actor.setX(Ke.asNumber(this._XY[0])-this.actor.getWidth()/2),this.actor.setY(Ke.asNumber(this._XY[1])-this.actor.getHeight()/2))),this.addListener(this.actor.whenUpdated,n(this,this._event_Updated)),this.addListener(this.actor.whenDrawing,n(this,this._event_Drawing))},forwardMessage:function(t){},__class__:lb});var hb=function(t,e,i){Je.call(this,e),this.nameMap.h.Actor="actor",this.nameMap.h["New Badge Actor"]="_NewBadgeActor"};r["scripts.Design_429_429_GachaRewardAdBehavior"]=hb,hb.__name__="scripts.Design_429_429_GachaRewardAdBehavior",hb.__super__=Je,hb.prototype=i(Je.prototype,{_NewBadgeActor:null,_event_PressedOn:function(t){this.wrapper.enabled&&3==t&&(p.adBlocked?this.actor.setAnimation("adblock"):(this.actor.setAnimation("2"),this._customEvent_Pressed()))},_event_ReleasedOn:function(t){this.wrapper.enabled&&3==t&&(p.adBlocked?this.actor.setAnimation("adblock"):this.actor.setAnimation("1"))},_customEvent_Pressed:function(){Ke.isTransitioning()||p.adBlocked||Ke.shoutToScene("_customEvent_RewardUnlockPoki")},init:function(){var t=this;Ge.engine.getGameAttribute("Can RewardAd Skin")||Ke.recycleActor(this.actor),this.actor.makeAlwaysSimulate(),this.actor.anchorToScreen(),this.actor.setX(Ke.getScreenWidth()-this.actor.getWidth()-6-L.rightInset),this.actor.setY(Ke.getScreenHeight()-Ke.getScreenHeight()+6+L.topInset),0==Ge.engine.getGameAttribute("Skin List").length&&Ke.recycleActor(this.actor),Ke.runLater(500,function(e){t.actor.setAnimation("1"),Ke.createRecycledActor(Ke.getActorType(722),t.actor.getX(),t.actor.getY()-4,0),Ke.getLastCreatedActor().anchorToScreen(),Ke.createRecycledActor(Ke.getActorType(730),-32,-32,0),Ke.getLastCreatedActor().anchorToScreen(),Ke.getLastCreatedActor().setX(t.actor.getXCenter()-Ke.getLastCreatedActor().getWidth()/2),Ke.getLastCreatedActor().setY(t.actor.getYCenter()-Ke.getLastCreatedActor().getHeight()/2),Ke.runLater(30,function(e){Ke.createRecycledActor(Ke.getActorType(804),t.actor.getX(),t.actor.getY()+36,0),Ke.getLastCreatedActor().anchorToScreen()},t.actor),p.adBlocked&&t.actor.setAnimation("adblock")},this.actor),this.addListener(this.actor.whenMousedOver,n(this,this._event_PressedOn)),this.addListener(this.actor.whenMousedOver,n(this,this._event_ReleasedOn))},forwardMessage:function(t){},__class__:hb});var _b=function(t,e){Ke.call(this)};r["scripts.Design_430_430_AdsBehaviorUnlockScreen"]=_b,_b.__name__="scripts.Design_430_430_AdsBehaviorUnlockScreen",_b.__super__=ei,_b.prototype=i(ei.prototype,{_event_UnityAds:function(t){},_customEvent_RewardUnlockPoki:function(){Ke.isTransitioning()||p.adBlocked||(Ke.engine.pause(),Ke.pauseSoundOnChannel(0),p.rewardedBreak(function(){Ke.engine.unpause(),Ke.resumeSoundOnChannel(0),Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(605)),Ge.engine.gameAttributes.h["Can RewardAd Skin"]=!1;var t=yn.get().scenes.h[21].getID(),e=0,i=0,s=0;null==s&&(s=0),null==i&&(i=0),null==e&&(e=0);var n=Ke.createFadeOut(.4,e<<16|i<<8|s);null==(s=i=e=0)&&(s=0),null==i&&(i=0),null==e&&(e=0),Ke.switchScene(t,n,Ke.createFadeIn(1,e<<16|i<<8|s))}))},_customEvent_RewardUnlockMobile:function(){},_customEvent_RewardUnlockCarrotsPoki:function(){Ke.isTransitioning()||p.adBlocked||(Ke.engine.pause(),Ke.pauseSoundOnChannel(0),p.rewardedBreak(function(){Ke.engine.unpause(),Ke.resumeSoundOnChannel(0),Ge.engine.getGameAttribute("Mute Sounds")||Ke.playSound(Ke.getSound(605));var t=Ge.engine,e=50+Ge.engine.getGameAttribute("Currency Carrots");for(t.gameAttributes.h["Currency Carrots"]=e,t=0,e=Ke.getActorsOfType(Ke.getActorType(829));t<e.length;){var i=e[t];++t,null==i||i.dead||i.recycled||Ke.recycleActor(i)}for(t=0,e=Ke.getActorsOfType(Ke.getActorType(831));t<e.length;)i=e[t],++t,null==i||i.dead||i.recycled||Ke.recycleActor(i);for(t=0,e=Ke.getActorsOfType(Ke.getActorType(720));t<e.length;)i=e[t],++t,null==i||i.dead||i.recycled||i.shout("_customEvent_CarrotRewardCheck");for(t=0,e=Ke.getActorsOfType(Ke.getActorType(724));t<e.length;)i=e[t],++t,null==i||i.dead||i.recycled||(i.shout("_customEvent_scoreincrease"),i.shout("_customEvent_greentext"),i.shout("_customEvent_EnableCarrotReward"))}))},_customEvent_RewardUnlockCarrotsMobile:function(){},init:function(){this.addListener(Ke.engine.whenUpdated,n(this,this._event_UnityAds))},forwardMessage:function(t){},__class__:_b});var cb=function(){};r["scripts.MyScripts"]=cb,cb.__name__="scripts.MyScripts";var ub=function(t,e){Ke.call(this),this.nameMap.h["Temp Skin Names List"]="_TempSkinNamesList",this._TempSkinNamesList=[0]};r["scripts.SceneEvents_10"]=ub,ub.__name__="scripts.SceneEvents_10",ub.__super__=ei,ub.prototype=i(ei.prototype,{_TempSkinNamesList:null,init:function(){var t=this;Ke.engine.moveCamera(Ke.getSceneWidth()/2,Ke.getSceneHeight()/2),Ke.loopSoundOnChannel(Ke.getSound(627),0),sl.current.meta.h.localSavePath="Poor Bunny";for(var e=this._TempSkinNamesList.length=0,i=vo.__cast(Ge.engine.getGameAttribute("Skin Names List"),Array);e<i.length;){var s=i[e];++e,this._TempSkinNamesList.push(s)}Ke.loadGame("mySave",function(e){e=Ge.engine.getGameAttribute("Skin Names List").length=0;for(var i=vo.__cast(t._TempSkinNamesList,Array);e<i.length;){var s=i[e];++e,Ge.engine.getGameAttribute("Skin Names List").push(s)}for(e=0,i=Ge.engine.getGameAttribute("Skin Names List").length;e<i;)s=e++,vr.contains(Ge.engine.getGameAttribute("Collected Skins List"),s)||vr.contains(Ge.engine.getGameAttribute("Skin List"),s)||Ge.engine.getGameAttribute("Skin List").push(s);Ke.runLater(500,function(t){Ge.engine.gameAttributes.h["HTML5 on Mobile"]=!1,(/Mobi|Android/i.test(navigator.userAgent)||"MacIntel"===navigator.platform&&1<navigator.maxTouchPoints&&!window.MSStream||navigator.userAgent.match(/(iPad)/))&&(Ge.engine.gameAttributes.h["HTML5 on Mobile"]=!0),t=yn.get().scenes.h[12].getID();var e=0,i=0,s=0;null==s&&(s=0),null==i&&(i=0),null==e&&(e=0);var n=Ke.createFadeOut(0,e<<16|i<<8|s);null==(s=i=e=0)&&(s=0),null==i&&(i=0),null==e&&(e=0),Ke.switchScene(t,n,Ke.createFadeIn(.5,e<<16|i<<8|s))},null)})},forwardMessage:function(t){},__class__:ub});var db=function(t,e){Ke.call(this)};r["scripts.SceneEvents_11"]=db,db.__name__="scripts.SceneEvents_11",db.__super__=ei,db.prototype=i(ei.prototype,{init:function(){},forwardMessage:function(t){},__class__:db});var mb=function(t,e){Ke.call(this)};r["scripts.SceneEvents_12"]=mb,mb.__name__="scripts.SceneEvents_12",mb.__super__=ei,mb.prototype=i(ei.prototype,{init:function(){Ke.engine.moveCamera(Ke.getSceneWidth()/2,144),Ke.runLater(30,function(t){Ge.engine.getGameAttribute("Can RewardAd Skin")&&(p.adBlocked||Ke.createRecycledActor(Ke.getActorType(812),-400,-400,2))},null)},forwardMessage:function(t){},__class__:mb});var pb=function(t,e){Ke.call(this)};r["scripts.SceneEvents_13"]=pb,pb.__name__="scripts.SceneEvents_13",pb.__super__=ei,pb.prototype=i(ei.prototype,{init:function(){Ke.engine.moveCamera(Ke.getSceneWidth()/2,144),Ge.engine.getGameAttribute("Can RewardAd Skin")&&Ke.createRecycledActor(Ke.getActorType(812),-400,-400,0)},forwardMessage:function(t){},__class__:pb});var fb=function(t,e){Ke.call(this)};r["scripts.SceneEvents_14"]=fb,fb.__name__="scripts.SceneEvents_14",fb.__super__=ei,fb.prototype=i(ei.prototype,{init:function(){Ke.engine.moveCamera(Ke.getSceneWidth()/2,144)},forwardMessage:function(t){},__class__:fb});var gb=function(t,e){Ke.call(this)};r["scripts.SceneEvents_15"]=gb,gb.__name__="scripts.SceneEvents_15",gb.__super__=ei,gb.prototype=i(ei.prototype,{init:function(){Ke.engine.moveCamera(Ke.getSceneWidth()/2,144)},forwardMessage:function(t){},__class__:gb});var yb=function(t,e){Ke.call(this)};r["scripts.SceneEvents_16"]=yb,yb.__name__="scripts.SceneEvents_16",yb.__super__=ei,yb.prototype=i(ei.prototype,{init:function(){Ke.engine.moveCamera(Ke.getSceneWidth()/2,144)},forwardMessage:function(t){},__class__:yb});var bb=function(t,e){Ke.call(this)};r["scripts.SceneEvents_17"]=bb,bb.__name__="scripts.SceneEvents_17",bb.__super__=ei,bb.prototype=i(ei.prototype,{init:function(){Ke.engine.moveCamera(Ke.getSceneWidth()/2,144)},forwardMessage:function(t){},__class__:bb});var vb=function(t,e){Ke.call(this)};r["scripts.SceneEvents_18"]=vb,vb.__name__="scripts.SceneEvents_18",vb.__super__=ei,vb.prototype=i(ei.prototype,{init:function(){Ke.engine.moveCamera(Ke.getSceneWidth()/2,144)},forwardMessage:function(t){},__class__:vb});var xb=function(t,e){Ke.call(this)};r["scripts.SceneEvents_19"]=xb,xb.__name__="scripts.SceneEvents_19",xb.__super__=ei,xb.prototype=i(ei.prototype,{init:function(){Ke.engine.moveCamera(Ke.getSceneWidth()/2,144)},forwardMessage:function(t){},__class__:xb});var wb=function(t,e){Ke.call(this)};r["scripts.SceneEvents_20"]=wb,wb.__name__="scripts.SceneEvents_20",wb.__super__=ei,wb.prototype=i(ei.prototype,{_event_Updating:function(t){if(this.wrapper.enabled){t=0;for(var e=Ke.getActorsOfType(Ke.getActorType(503));t<e.length;){var i=e[t];++t,null==i||i.dead||i.recycled||(i.sendToBack(),Ke.getLastCreatedActor().moveToBottom())}for(t=0,e=Ke.getActorsOfType(Ke.getActorType(490));t<e.length;)i=e[t],++t,null==i||i.dead||i.recycled||Ke.getLastCreatedActor().moveToBottom()}},_event_Keyboard:function(t,e){if(this.wrapper.enabled&&t&&!Ke.isTransitioning()){var i=e=t=0;null==i&&(i=0),null==e&&(e=0),null==t&&(t=0);var s=Ke.createFadeOut(.5,t<<16|e<<8|i);null==(i=e=t=0)&&(i=0),null==e&&(e=0),null==t&&(t=0),Ke.reloadCurrentScene(s,Ke.createFadeIn(.5,t<<16|e<<8|i))}},_customEvent_arrow:function(){var t=this;Ke.runLater(3e3,function(e){Ke.createRecycledActor(Ke.getActorType(490),-100,-100,0),Ke.getLastCreatedActor().setX(Ke.randomInt(80,288)),t._customEvent_arrow()},null)},init:function(){Ke.engine.moveCamera(Ke.getSceneWidth()/2,144),this._customEvent_arrow(),this.addListener(Ke.engine.whenUpdated,n(this,this._event_Updating)),this.addListener(Ke.engine.whenKeyPressedEvents.getOrCreateEvent("Restart"),n(this,this._event_Keyboard))},forwardMessage:function(t){},__class__:wb});var Sb=function(t,e){Ke.call(this)};r["scripts.SceneEvents_21"]=Sb,Sb.__name__="scripts.SceneEvents_21",Sb.__super__=ei,Sb.prototype=i(ei.prototype,{init:function(){Ke.engine.moveCamera(Ke.getSceneWidth()/2,144)},forwardMessage:function(t){},__class__:Sb});var Rb=function(t,e){Ke.call(this)};r["scripts.SceneEvents_22"]=Rb,Rb.__name__="scripts.SceneEvents_22",Rb.__super__=ei,Rb.prototype=i(ei.prototype,{init:function(){Ke.engine.moveCamera(Ke.getSceneWidth()/2,144)},forwardMessage:function(t){},__class__:Rb});var Ab=function(t,e){Ke.call(this)};r["scripts.SceneEvents_23"]=Ab,Ab.__name__="scripts.SceneEvents_23",Ab.__super__=ei,Ab.prototype=i(ei.prototype,{init:function(){Ke.engine.moveCamera(Ke.getSceneWidth()/2,144)},forwardMessage:function(t){},__class__:Ab});var Tb=function(t,e){Ke.call(this)};r["scripts.SceneEvents_24"]=Tb,Tb.__name__="scripts.SceneEvents_24",Tb.__super__=ei,Tb.prototype=i(ei.prototype,{init:function(){Ke.engine.moveCamera(Ke.getSceneWidth()/2,144),Ke.runLater(2e3,function(t){Ke.createRecycledActor(Ke.getActorType(488),176,176,2),Ke.createRecycledActor(Ke.getActorType(565),176,176,2)},null)},forwardMessage:function(t){},__class__:Tb});var Mb=function(t,e){Ke.call(this)};r["scripts.SceneEvents_9"]=Mb,Mb.__name__="scripts.SceneEvents_9",Mb.__super__=ei,Mb.prototype=i(ei.prototype,{init:function(){},forwardMessage:function(t){},__class__:Mb});var Pb=function(){};r["scripts.SplashBox"]=Pb,Pb.__name__="scripts.SplashBox",Pb.prototype={__class__:Pb};var Cb=function(){this.onComplete=new xl;var t=this;D.call(this),I_.get_current().addChild(this),this.locked=!1;var e=Ge.SCALE,i="";this.background=new D,this.background.get_graphics().beginFill(-15592942,1),this.background.get_graphics().drawRect(0,0,this.getWidth(),this.getHeight()),this.addChild(this.background),vr.getConfigBitmap("config/preloader-bg.png").onComplete(function(e){t.addChildAt(e,t.getChildIndex(t.background)+1)});var s=3*e;this.barWidth=e*Ge.screenScaleX*120|0,this.barHeight=e*Ge.screenScaleY*8|0;var r=0*e;e*=128,i=this.getWidth()/2-this.barWidth/2;var a=this.getHeight()/2-this.barHeight/2;if(this.barBorder=new D,this.barBorder.get_graphics().beginFill(-16181980,1),this.barBorder.get_graphics().drawRect(-s,-s,this.barWidth+2*s,this.barHeight+2*s),this.barBorder.set_x(i+r),this.barBorder.set_y(a+e),this.addChild(this.barBorder),this.barBackground=new D,this.barBackground.get_graphics().beginFill(-13408513,1),this.barBackground.get_graphics().drawRect(0,0,this.barWidth,this.barHeight),this.barBackground.set_x(i+r),this.barBackground.set_y(a+e),this.barBackground.set_scaleX(1),this.addChild(this.barBackground),this.bar=new D,this.bar.get_graphics().beginFill(-1,1),this.bar.get_graphics().drawRect(0,0,this.barWidth,this.barHeight),s=new je(0,0,0,this.barHeight),this.bar.set_scrollRect(s),this.bar.set_x(i+r),this.bar.set_y(a+e),this.addChild(this.bar),""!=this.getURL()&&this.addEventListener("mouseDown",n(this,this.onMouseDown),!1,2),i=this.getLockURL(),this.isSiteLocked()&&null!=i&&""!=i&&(s=!1,(null==(r=I_.get_current().get_loaderInfo().url)||0>r.indexOf("http://")&&0>r.indexOf("https://")||0<r.indexOf("stencyl.com")||0<r.indexOf("localhost"))&&(s=!0),!s)){for(e=i.split(","),i=0;i<e.length&&(s=e[i],++i,!(s=0<=(s=v.trim(s)).indexOf("*")||v.startsWith(s,"^")&&v.endsWith(s,"$")?(s=new _(s,"")).match(r):0<=r.indexOf(s))););s||this.showLockScreen(e[0])}};r["scripts.StencylPreloader"]=Cb,Cb.__name__="scripts.StencylPreloader",Cb.__super__=D,Cb.prototype=i(D.prototype,{barBorder:null,bar:null,barBackground:null,background:null,barWidth:null,barHeight:null,locked:null,onComplete:null,adPlaying:null,ready:null,getLockURL:function(){return""},isSiteLocked:function(){return!1},showLockScreen:function(t){this.locked=!0,vr.removeAllChildren(this);var e=new di(new O_(0|this.getWidth(),0|this.getHeight(),!1,5658198));this.addChild(e);var i=new nm;i.set_width(this.getWidth()-16),i.set_height(this.getHeight()-16),i.set_x(8),i.set_y(8),i.set_textColor(16777215),i.set_multiline(!0),i.set_wordWrap(!0),i.set_text("Hi there!  It looks like somebody copied this game without my permission. Just click anywhere, or copy-paste this URL into your browser.\n\n"+t+"\n\nThanks, and have fun!"),t=new rm(null,25),i.setTextFormat(t),this.addChild(i),this.removeEventListener("mouseDown",n(this,this.onMouseDown)),i.addEventListener("click",n(this,this.goToLockURL)),e.addEventListener("click",n(this,this.goToLockURL))},getURL:function(){return""},goToLockURL:function(t){I_.getURL(new jd(this.getLockURL().split(",")[0]),"_parent")},onMouseDown:function(t){this.removeEventListener("mouseDown",n(this,this.onMouseDown)),I_.getURL(new jd(this.getURL()),"_blank")},getBackgroundColor:function(){return 3368601},getWidth:function(){return L.windowWidth},getHeight:function(){return L.windowHeight},onUpdate:function(t,e){I_.get_current().get_loaderInfo().__update(t,e),null!=this.bar&&(t=new je(0,0,t/e*this.barWidth,this.barHeight),this.bar.set_scrollRect(t))},onLoaded:function(){I_.get_current().get_loaderInfo().__complete(),this.ready=!0,this.adPlaying||this.unload()},adFinished:function(){this.adPlaying=!1,this.ready&&this.unload()},unload:function(){new Pb,this.isSiteLocked()&&this.locked||(this.parent==I_.get_current()&&I_.get_current().removeChild(this),I_.get_current().stage.set_focus(null),this.onComplete.dispatch())},__class__:Cb});var Ib=function(){};r["tweenxcore.Easing"]=Ib,Ib.__name__="tweenxcore.Easing",Ib.linear=function(t){return t},Ib.sineIn=function(t){return 0==t?0:1==t?1:1-Math.cos(1.5707963267948966*t)},Ib.sineOut=function(t){return 0==t?0:1==t?1:Math.sin(1.5707963267948966*t)},Ib.sineInOut=function(t){return 0==t?0:1==t?1:-.5*(Math.cos(3.141592653589793*t)-1)},Ib.sineOutIn=function(t){return 0==t?0:1==t?1:.5>t?.5*Math.sin(3.141592653589793*t):-.5*Math.cos(1.5707963267948966*(2*t-1))+1},Ib.quadIn=function(t){return t*t},Ib.quadOut=function(t){return-t*(t-2)},Ib.quadInOut=function(t){return.5>t?2*t*t:-2*--t*t+1},Ib.quadOutIn=function(t){return.5>t?-.5*(t*=2)*(t-2):.5*(t=2*t-1)*t+.5},Ib.cubicIn=function(t){return t*t*t},Ib.cubicOut=function(t){return--t*t*t+1},Ib.cubicInOut=function(t){return 1>(t*=2)?.5*t*t*t:.5*((t-=2)*t*t+2)},Ib.cubicOutIn=function(t){return.5*((t=2*t-1)*t*t+1)},Ib.quartIn=function(t){return(t*=t)*t},Ib.quartOut=function(t){return 1-(t*=--t)*t},Ib.quartInOut=function(t){return 1>(t*=2)?.5*(t*=t)*t:-.5*((t*=t-=2)*t-2)},Ib.quartOutIn=function(t){return.5>t?(t=2*t-1,-.5*(t*=t)*t+.5):(t=2*t-1,.5*(t*=t)*t+.5)},Ib.quintIn=function(t){return t*(t*=t)*t},Ib.quintOut=function(t){return--t*(t*=t)*t+1},Ib.quintInOut=function(t){return 1>(t*=2)?.5*t*(t*=t)*t:.5*(t-=2)*(t*=t)*t+1},Ib.quintOutIn=function(t){return.5*((t=2*t-1)*(t*=t)*t+1)},Ib.expoIn=function(t){return 0==t?0:Math.exp(6.931471805599453*(t-1))},Ib.expoOut=function(t){return 1==t?1:1-Math.exp(-6.931471805599453*t)},Ib.expoInOut=function(t){return 0==t?0:1==t?1:1>(t*=2)?.5*Math.exp(6.931471805599453*(t-1)):.5*(2-Math.exp(-6.931471805599453*(t-1)))},Ib.expoOutIn=function(t){return.5>t?.5*(1-Math.exp(-13.862943611198906*t)):.5==t?.5:.5*(Math.exp(13.862943611198906*(t-1))+1)},Ib.circIn=function(t){return-1>t||1<t?0:1-Math.sqrt(1-t*t)},Ib.circOut=function(t){return 0>t||2<t?0:Math.sqrt(t*(2-t))},Ib.circInOut=function(t){return-.5>t||1.5<t?.5:1>(t*=2)?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},Ib.circOutIn=function(t){return 0>t?0:1<t?1:.5>t?(t=2*t-1,.5*Math.sqrt(1-t*t)):(t=2*t-1,-.5*(Math.sqrt(1-t*t)-1-1))},Ib.bounceIn=function(t){return.36363636363636365>(t=1-t)?1-7.5625*t*t:.7272727272727273>t?1-(7.5625*(t-=.5454545454545454)*t+.75):.9090909090909091>t?1-(7.5625*(t-=.8181818181818182)*t+.9375):1-(7.5625*(t-=.9545454545454546)*t+.984375)},Ib.bounceOut=function(t){return.36363636363636365>t?7.5625*t*t:.7272727272727273>t?7.5625*(t-=.5454545454545454)*t+.75:.9090909090909091>t?7.5625*(t-=.8181818181818182)*t+.9375:7.5625*(t-=.9545454545454546)*t+.984375},Ib.bounceInOut=function(t){return.5>t?.36363636363636365>(t=1-2*t)?.5*(1-7.5625*t*t):.7272727272727273>t?.5*(1-(7.5625*(t-=.5454545454545454)*t+.75)):.9090909090909091>t?.5*(1-(7.5625*(t-=.8181818181818182)*t+.9375)):.5*(1-(7.5625*(t-=.9545454545454546)*t+.984375)):.36363636363636365>(t=2*t-1)?7.5625*t*t*.5+.5:.7272727272727273>t?.5*(7.5625*(t-=.5454545454545454)*t+.75)+.5:.9090909090909091>t?.5*(7.5625*(t-=.8181818181818182)*t+.9375)+.5:.5*(7.5625*(t-=.9545454545454546)*t+.984375)+.5},Ib.bounceOutIn=function(t){return.5>t?.36363636363636365>(t*=2)?3.78125*t*t:.7272727272727273>t?.5*(7.5625*(t-=.5454545454545454)*t+.75):.9090909090909091>t?.5*(7.5625*(t-=.8181818181818182)*t+.9375):.5*(7.5625*(t-=.9545454545454546)*t+.984375):.36363636363636365>(t=1-(2*t-1))?.5-3.78125*t*t+.5:.7272727272727273>t?.5-.5*(7.5625*(t-=.5454545454545454)*t+.75)+.5:.9090909090909091>t?.5-.5*(7.5625*(t-=.8181818181818182)*t+.9375)+.5:.5-.5*(7.5625*(t-=.9545454545454546)*t+.984375)+.5},Ib.backIn=function(t){return 0==t?0:1==t?1:t*t*(2.70158*t-1.70158)},Ib.backOut=function(t){return 0==t?0:1==t?1:--t*t*(2.70158*t+1.70158)+1},Ib.backInOut=function(t){return 0==t?0:1==t?1:1>(t*=2)?.5*t*t*(3.5949095*t-2.5949095):.5*((t-=2)*t*(3.5949095*t+2.5949095)+2)},Ib.backOutIn=function(t){return 0==t?0:1==t?1:.5>t?.5*((t=2*t-1)*t*(2.70158*t+1.70158)+1):.5*(t=2*t-1)*t*(2.70158*t-1.70158)+.5},Ib.elasticIn=function(t){return 0==t?0:1==t?1:-Math.exp(6.931471805599453*--t)*Math.sin(6.283185307179586*(.001*t-75e-6)/3e-4)},Ib.elasticOut=function(t){return 0==t?0:1==t?1:Math.exp(-6.931471805599453*t)*Math.sin(6.283185307179586*(.001*t-75e-6)/3e-4)+1},Ib.elasticInOut=function(t){return 0==t?0:1==t?1:1>(t*=2)?-.5*Math.exp(6.931471805599453*--t)*Math.sin(6.283185307179586*(.001*t-75e-6)/3e-4):Math.exp(-6.931471805599453*--t)*Math.sin(6.283185307179586*(.001*t-75e-6)/3e-4)*.5+1},Ib.elasticOutIn=function(t){return.5>t?0==(t*=2)?0:.5*Math.exp(-6.931471805599453*t)*Math.sin(6.283185307179586*(.001*t-75e-6)/3e-4)+.5:.5==t?.5:1==t?1:(t=2*t-1,-.5*Math.exp(6.931471805599453*--t)*Math.sin(6.283185307179586*(.001*t-75e-6)/3e-4)+.5)},Ib.warpOut=function(t){return 0>=t?0:1},Ib.warpIn=function(t){return 1>t?0:1},Ib.warpInOut=function(t){return.5>t?0:1},Ib.warpOutIn=function(t){return 0>=t?0:1>t?.5:1};var Eb=function(){};r["tweenxcore.FloatTools"]=Eb,Eb.__name__="tweenxcore.FloatTools",Eb.revert=function(t){return 1-t},Eb.clamp=function(t,e,i){return null==i&&(i=1),null==e&&(e=0),t<=e?e:i<=t?i:t},Eb.lerp=function(t,e,i){return e*(1-t)+i*t},Eb.inverseLerp=function(t,e,i){return(t-e)/(i-e)},Eb.repeat=function(t,e,i){return null==i&&(i=1),null==e&&(e=0),(t=(t-e)/(i-e))-Math.floor(t)},Eb.shake=function(t,e,i){return null==e&&(e=0),null==i&&(i=Math.random),e+(-t*(1-(i=i()))+t*i)},Eb.spread=function(t,e){return-e*(1-t)+e*t},Eb.sinByRate=function(t){return Math.sin(2*t*Math.PI)},Eb.cosByRate=function(t){return Math.cos(2*t*Math.PI)},Eb.yoyo=function(t,e){return e(2*(.5>t?t:1-t))},Eb.zigzag=function(t,e){return.5>t?e(2*t):1-e(2*(t-.5))},Eb.mixEasing=function(t,e,i,s){return null==s&&(s=.5),e(t)*(1-s)+i(t)*s},Eb.crossfadeEasing=function(t,e,i,s,n,r){return null==r&&(r=1),null==n&&(n=0),n=n*(1-(s=s(t)))+r*s,e(t)*(1-n)+i(t)*n},Eb.connectEasing=function(t,e,i,s,n){return null==n&&(n=.5),null==s&&(s=.5),t<s?0*(1-(t=e(t/s)))+n*t:n*(1-(t=i((t-s)/(1-s))))+t},Eb.oneTwoEasing=function(t,e,i,s){return null==s&&(s=.5),t<s?e(t/s):i((t-s)/(1-s))},Eb.binarySearch=function(t,e,i){null==i&&(i=0);var s=0,n=t.length;if(0==i)for(;;){var r=t[i=((n-s)/2|0)+s];if(r<=e?s=i+1:n=i,s==n)break}else for(;(r=t[i=((n-s)/2|0)+s])<e?s=i+1:n=i,s!=n;);return s},Eb.polyline=function(t,e){if(2>e.length)throw wa.thrown("points length must be more than 2");var i=e.length-1;t*=i;var s=0;return null==--i&&(i=1),null==s&&(s=0),t-=i=Math.floor(t<=s?s:i<=t?i:t),e[i]*(1-t)+e[i+1]*t},Eb.bezier2=function(t,e,i,s){return(e*(1-t)+i*t)*(1-t)+(i*(1-t)+s*t)*t},Eb.bezier3=function(t,e,i,s,n){var r=i*(1-t)+s*t;return((e*(1-t)+i*t)*(1-t)+r*t)*(1-t)+(r*(1-t)+(s*(1-t)+n*t)*t)*t},Eb.bezier=function(t,e){if(2>e.length)throw wa.thrown("points length must be more than 2");if(2==e.length)return e[0]*(1-t)+e[1]*t;if(3==e.length){var i=e[1];return(e[0]*(1-t)+i*t)*(1-t)+(i*(1-t)+e[2]*t)*t}return Eb._bezier(t,e)},Eb._bezier=function(t,e){if(4==e.length){var i=e[1],s=e[2],n=i*(1-t)+s*t;return((e[0]*(1-t)+i*t)*(1-t)+n*t)*(1-t)+(n*(1-t)+(s*(1-t)+e[3]*t)*t)*t}for(i=[],s=0,n=e.length-1;s<n;){var r=s++;i.push(e[r]*(1-t)+e[r+1]*t)}return Eb._bezier(t,i)},Eb.uniformQuadraticBSpline=function(t,e){if(2>e.length)throw wa.thrown("points length must be more than 2");if(2==e.length)return e[0]*(1-t)+e[1]*t;var i=e.length-2;t*=i;var s=0;null==--i&&(i=1),null==s&&(s=0),t-=i=Math.floor(t<=s?s:i<=t?i:t),s=e[i];var n=e[i+1];return t*t*(s/2-n+e[i+2]/2)+t*(-s+n)+s/2+n/2},Eb.frameToSecond=function(t,e){return t/e},Eb.secondToFrame=function(t,e){return t*e},Eb.degreeToRate=function(t){return t/360},Eb.rateToDegree=function(t){return 360*t},Eb.radianToRate=function(t){return t/(2*Math.PI)},Eb.rateToRadian=function(t){return 2*t*Math.PI},Eb.millisecondToBeat=function(t,e){return t*e/6e4},Eb.beatToMillisecond=function(t,e){return 6e4*t/e};var kb=function(){};r["tweenxcore.PointTools"]=kb,kb.__name__="tweenxcore.PointTools",kb.polyline=function(t,e,i){var n=[],r=[];for(i=s(i);i.hasNext();){var a=i.next();n.push(a.x),r.push(a.y)}if(2>n.length)throw wa.thrown("points length must be more than 2");var o=n.length-1;if(i=e*o,null==--o&&(o=1),null==(a=0)&&(a=0),i-=a=Math.floor(i<=a?a:o<=i?o:i),n=n[a]*(1-i)+n[a+1]*i,t.x=n,2>r.length)throw wa.thrown("points length must be more than 2");i=e*(o=r.length-1),null==--o&&(o=1),null==(a=0)&&(a=0),i-=a=Math.floor(i<=a?a:o<=i?o:i),n=r[a]*(1-i)+r[a+1]*i,t.y=n},kb.bezier2=function(t,e,i,s,n){n=s.x,t.x=(i.x*(1-e)+n*e)*(1-e)+(n*(1-e)+i.x*e)*e,n=s.y,t.y=(i.y*(1-e)+n*e)*(1-e)+(n*(1-e)+i.y*e)*e},kb.bezier3=function(t,e,i,s,n,r){r=s.x;var a=n.x,o=r*(1-e)+a*e;t.x=((i.x*(1-e)+r*e)*(1-e)+o*e)*(1-e)+(o*(1-e)+(a*(1-e)+i.x*e)*e)*e,o=(r=s.y)*(1-e)+(a=n.y)*e,t.y=((i.y*(1-e)+r*e)*(1-e)+o*e)*(1-e)+(o*(1-e)+(a*(1-e)+i.y*e)*e)*e},kb.bezier=function(t,e,i){var n=[],r=[];for(i=s(i);i.hasNext();){var a=i.next();n.push(a.x),r.push(a.y)}if(2>n.length)throw wa.thrown("points length must be more than 2");if(2==n.length?n=n[0]*(1-e)+n[1]*e:3==n.length?(i=n[1],n=(n[0]*(1-e)+i*e)*(1-e)+(i*(1-e)+n[2]*e)*e):n=Eb._bezier(e,n),t.x=n,2>r.length)throw wa.thrown("points length must be more than 2");2==r.length?n=r[0]*(1-e)+r[1]*e:3==r.length?(i=r[1],n=(r[0]*(1-e)+i*e)*(1-e)+(i*(1-e)+r[2]*e)*e):n=Eb._bezier(e,r),t.y=n},kb.uniformQuadraticBSpline=function(t,e,i){for(var n=[],r=[],a=s(i);a.hasNext();)i=a.next(),n.push(i.x),r.push(i.y);if(2>n.length)throw wa.thrown("points length must be more than 2");if(2==n.length)n=n[0]*(1-e)+n[1]*e;else{var o=n.length-2;i=e*o,null==--o&&(o=1),null==(a=0)&&(a=0),o=i-(a=Math.floor(i<=a?a:o<=i?o:i));var l=n[a];n=o*o*(l/2-(i=n[a+1])+(n=n[a+2])/2)+o*(-l+i)+l/2+i/2}if(t.x=n,2>r.length)throw wa.thrown("points length must be more than 2");2==r.length?n=r[0]*(1-e)+r[1]*e:(i=e*(o=r.length-2),null==--o&&(o=1),null==(a=0)&&(a=0),n=(o=i-(a=Math.floor(i<=a?a:o<=i?o:i)))*o*((l=r[a])/2-(i=r[a+1])+(n=r[a+2])/2)+o*(-l+i)+l/2+i/2),t.y=n};var Fb=function(){};r["tweenxcore.MatrixTools"]=Fb,Fb.__name__="tweenxcore.MatrixTools",Fb.createSimilarityTransform=function(t,e,i,s,n){s-=e;var r=n-i;n=Math.atan2(r,s),s=Math.sqrt(s*s+r*r),t.a=s*Math.cos(n),t.b=s*Math.sin(n),t.c=-s*Math.sin(n),t.d=s*Math.cos(n),t.tx=e,t.ty=i},e.$haxeUID|=0,"undefined"!=typeof performance&&"function"==typeof performance.now&&(c.now=performance.now.bind(performance)),r.Math=Math,null==String.fromCodePoint&&(String.fromCodePoint=function(t){return 65536>t?String.fromCharCode(t):String.fromCharCode(55232+(t>>10))+String.fromCharCode(56320+(1023&t))}),String.prototype.__class__=r.String=String,String.__name__="String",r.Array=Array,Array.__name__="Array",Date.prototype.__class__=r.Date=Date,Date.__name__="Date";var Bb={},Db={},Lb=Number,Nb=Boolean,Ob={},Vb={};I.count=0,Pa.content=[{name:"config_game_config_json",data:"ewoJImFudGlhbGlhcyI6IGZhbHNlLAoJImJ1aWxkQ29uZmlnIjogeyJkZWJ1ZyI6dHJ1ZSwiZXh0cmEiOltdLCJwbGF0Zm9ybSI6Imh0bWw1In0sCgkiZGVidWdEcmF3IjogZmFsc2UsCgkiZGlzcG9zZUltYWdlcyI6IGZhbHNlLAoJImZvcmNlSGlSZXNBc3NldHMiOiB0cnVlLAoJImluaXRTY2VuZUlEIjogMTAsCgkia2V5cyI6IHsKCQkiTGVmdCI6IFsiTEVGVCJdLAoJCSJSaWdodCI6IFsiUklHSFQiXSwKCQkiVXAiOiBbIlVQIl0sCgkJIlNwYWNlIjogWyJTUEFDRSJdLAoJCSJSZXN0YXJ0IjogWyJSIl0sCgkJIkVzYyI6IFsiRVNDQVBFIl0sCgkJIkVudGVyIjogWyJFTlRFUiJdLAoJCSJEb3duIjogWyJET1dOIl0sCgkJIkEiOiBbIkEiXSwKCQkiVyI6IFsiVyJdLAoJCSJEIjogWyJEIl0sCgkJIlMiOiBbIlMiXSwKCQkiMCI6IFsiTlVNQkVSXzAiXQoJCQoJfSwKCSJwaXhlbHNuYXAiOiBmYWxzZSwKCSJwaHlzaWNzTW9kZSI6ICJOT1JNQUxfUEhZU0lDUyIsCgkicmVsZWFzZU1vZGUiOiB0cnVlLAoJInNob3dDb25zb2xlIjogZmFsc2UsCgkic3RhZ2VXaWR0aCI6IDI4NCwKCSJzdGFnZUhlaWdodCI6IDE2MCwKCSJ0b29sc2V0SW50ZXJmYWNlSG9zdCI6ICJsb2NhbGhvc3QiLAoJInRvb2xzZXRJbnRlcmZhY2VQb3J0IjogLTEsCgkicHJvamVjdE5hbWUiOiAiUG9vciBCdW5ueSIsCgkidXNlR2NpTG9nZ2luZyI6IGZhbHNlLAoJCgkiY29uZmlnLW1vYmlsZSI6IHsKCQkiYWRQb3NpdGlvbkJvdHRvbSI6IHRydWUsCgkJImF1dG9yb3RhdGUiOiB0cnVlLAoJCSJnYW1lU2NhbGUiOiAxLAoJCSJsYW5kc2NhcGUiOiB0cnVlLAoJCSJ0ZXN0QWRzIjogZmFsc2UsCgkJInRvb2xzZXRJbnRlcmZhY2VIb3N0IjogIjE5Mi4xNjguMC4yIiwKCgkJImNvbmZpZy1hbmRyb2lkIjogewoJCQkiZGlzYWJsZUJhY2tCdXR0b24iOiBmYWxzZSwKCQkJInNjYWxlTW9kZSI6ICJTQ0FMRV9UT19GSVRfRlVMTFNDUkVFTiIsCgkJCSJzY2FsZXMiOiBbIjF4Il0KCQl9LAoJCQoJCSJjb25maWctaW9zIjogewoJCQkic2NhbGVNb2RlIjogIlNDQUxFX1RPX0ZJVF9GVUxMU0NSRUVOIiwKCQkJInNjYWxlcyI6IFsiMXgiXQoJCX0KCX0sCgkKCSJjb25maWctZGVza3RvcCI6IHsKCQkiZ2FtZVNjYWxlIjogMy4wLAoJCSJzY2FsZU1vZGUiOiAiU0NBTEVfVE9fRklUX0xFVFRFUkJPWCIsCgkJInNjYWxlcyI6IFsiMXgiXSwKCQkic3RhcnRJbkZ1bGxTY3JlZW4iOiBmYWxzZQoJfSwKCQoJImNvbmZpZy13ZWIiOiB7CgkJImdhbWVTY2FsZSI6IDMuMCwKCQkic3RhcnRJbkZ1bGxTY3JlZW4iOiBmYWxzZSwKCQkic2NhbGVzIjogWyIxeCJdLAoKCQkiY29uZmlnLWZsYXNoIjogewoJCQkic2NhbGVNb2RlIjogIlNDQUxFX1RPX0ZJVF9MRVRURVJCT1giCgkJfSwKCQkKCQkiY29uZmlnLWh0bWw1IjogewoJCQkidG9vbHNldEludGVyZmFjZUhvc3QiOiAiMTkyLjE2OC4wLjIiCgkJfQoJfQp9"},{name:"config_preloadpaths_txt",data:"YXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS01MTItMC5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS01MTItMS5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS01MTYtMC5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS01MTYtMS5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS01MTgtMC5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS01MTgtMS5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS01MjAtMC5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS01MjAtMS5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS01MjItMC5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS01MjItMS5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS01MjYtMi5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS01MjgtMC5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS01MzAtMC5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS01MzAtMS5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS01MzQtMC5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS01MzgtMC5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS01NDAtMC5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS01NDItMC5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS01NDQtMC5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3RpbGVzZXQtNTQ2LnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTU1MC0wLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTU1MC0xLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTU1Mi0wLnBuZwphc3NldHMvc2Z4L3NvdW5kLTU1My5vZ2cKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFLzU1NC5TT1VORF9FWFQKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS01NTYtMC5wbmcKYXNzZXRzL3NmeC9zb3VuZC01NTcub2dnCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNTU5LTAucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNTU5LTEucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNTU5LTIucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNTU5LTMucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNTYxLTAucG5nCmFzc2V0cy9zZngvc291bmQtNTYyLm9nZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTU2Ni0wLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTU2Ni0yLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTU2OS0wLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTU2OS0xLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTU3MS0xLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTU3My0wLnBuZwphc3NldHMvc2Z4L3NvdW5kLTU3NC5vZ2cKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS01NzYtMC5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS01NzYtMS5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS01NzgtMC5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS01NzgtMS5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS01NzgtMi5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL2ZvbnQtNTc5LmZudAphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0UvZm9udC01NzkucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9mb250LTU4MS5mbnQKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL2ZvbnQtNTgxLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTU4My0wLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTU4NS0wLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTU4Ny0wLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTU4OS0wLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTU4OS0xLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTU5MS0wLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTU5MS0xLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTU5My0wLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTU5My0xLnBuZwphc3NldHMvc2Z4L3NvdW5kLTU5NC5vZ2cKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS01OTYtMC5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS01OTYtMS5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS01OTgtMC5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS02MDAtMC5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS02MDAtMS5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS02MDItMC5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS02MDItMS5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS02MDQtMS5wbmcKYXNzZXRzL3NmeC9zb3VuZC02MDUub2dnCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNjA3LTAucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNjA3LTEucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNjA3LTIucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNjA3LTMucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNjA5LTAucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNjA5LTEucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNjA5LTIucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNjA5LTMucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNjExLTAucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNjExLTEucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNjExLTIucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNjExLTMucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNjExLTQucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNjExLTUucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNjEzLTAucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNjEzLTEucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNjEzLTIucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNjEzLTMucG5nCmFzc2V0cy9zZngvc291bmQtNjE0Lm9nZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTYyMi0wLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTYyMi0xLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTYyNC0wLnBuZwphc3NldHMvc2Z4L3NvdW5kLTYyNS5vZ2cKYXNzZXRzL3NmeC9zb3VuZC02MjYub2dnCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS82MjcuU09VTkRfRVhUCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNjI5LTAucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNjUzLTAucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNjUzLTEucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNjUzLTIucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNjUzLTMucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNjUzLTgucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNjUzLTkucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNjUzLTEyLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTY1My0xMy5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS02NTMtMTQucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNjUzLTE1LnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTY1NS0wLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTY1Ny0xLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTY1OS0wLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTY1OS0xLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTY2MS0wLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTY2MS0xLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTY2My0wLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTY2My0xLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTY2NS0wLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTY2NS0xLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTY2OS0wLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTY2OS0xLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTY3MS0wLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTY3MS0xLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTY3My0wLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTY3My0xLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTY3NS0wLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTY3Ny0wLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTY3OS0wLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTY3OS0xLnBuZwphc3NldHMvc2Z4L3NvdW5kLTY4MC5vZ2cKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS02ODItMC5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS02ODItMS5wbmcKYXNzZXRzL3NmeC9zb3VuZC02ODMub2dnCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNjg1LTAucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNjg3LTAucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNjg5LTAucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNjkxLTAucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNjkxLTEucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNjkxLTIucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNjkzLTAucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNjkzLTEucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNjk1LTAucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNjk5LTAucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzAzLTAucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzAzLTEucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzAzLTIucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzA1LTAucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzA1LTEucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzA1LTIucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzA1LTMucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzA1LTQucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzA1LTUucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzA1LTYucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzA1LTcucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzA1LTgucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzA1LTkucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzA1LTEwLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTcwNS0xMS5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS03MDUtMTIucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzA1LTEzLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTcwNS0xNC5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS03MDUtMTUucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzA1LTE2LnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTcwNS0xNy5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS03MDUtMTgucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzA1LTE5LnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTcwNS0yMC5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS03MDUtMjEucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzA1LTIyLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTcwNS0yMy5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS03MDUtMjQucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzA1LTI1LnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTcwNS0yNi5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS03MDUtMjcucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzA1LTI4LnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTcwNS0yOS5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS03MDUtMzAucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzA1LTMxLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTcwNS0zMi5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS03MDUtMzMucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzA1LTM0LnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTcwNS0zNS5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS03MDUtMzYucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzA1LTM3LnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTcwNS0zOC5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS03MDUtMzkucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzA1LTQwLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTcwNS00MS5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS03MDUtNDIucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzA1LTQzLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTcwNS00NC5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS03MDUtNDUucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzA1LTQ2LnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTcwNS00Ny5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS03MDUtNDgucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzA1LTQ5LnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTcwNS01MC5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS03MDUtNTEucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzA1LTUyLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTcwNS01My5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS03MDUtNTQucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzA1LTU1LnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTcwNS01Ni5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS03MDUtNTcucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzA1LTU4LnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTcwNS01OS5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS03MDUtNjAucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzA1LTYxLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTcwNS02Mi5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS03MDUtNjMucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzA1LTY0LnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTcwNS02NS5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS03MDUtNjYucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzA1LTY3LnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTcwNS02OC5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS03MDUtNjkucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzA1LTcwLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTcwNS03MS5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS03MDUtNzIucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzA1LTczLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTcwNS03NC5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS03MDUtNzUucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzA1LTc2LnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTcwNS03Ny5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS03MDUtNzgucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzA1LTc5LnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTcwNS04MC5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS03MDUtODEucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzA1LTgzLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTcwNS04NC5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS03MDUtODUucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzA1LTg2LnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTcwNS04Ny5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS03MDUtODgucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzA1LTkwLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTcwNS05MS5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS03MDUtOTIucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzA1LTkzLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTcwNS05NC5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS03MDUtOTUucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzA1LTk2LnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTcwNS05Ny5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS03MDUtOTgucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzA1LTk5LnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTcwNS0xMDAucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzA1LTEwMS5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS03MDUtMTAzLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTcwNS0xMDQucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzA1LTEwNS5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS03MDUtMTA2LnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTcwNS0xMDcucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzA1LTEwOC5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS03MDUtMTA5LnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTcwNS0xMTAucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzA3LTAucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzA5LTAucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzExLTAucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzExLTEucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzEzLTAucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzEzLTEucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzE1LTAucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzE1LTEucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzE3LTAucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzE3LTEucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzE3LTIucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzE3LTMucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzE5LTAucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzE5LTEucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzE5LTIucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzE5LTMucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzE5LTQucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzE5LTUucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzE5LTYucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzIxLTAucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzIxLTEucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzIxLTIucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzIzLTAucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzIzLTEucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzI1LTMucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzI1LTQucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9mb250LTcyOS5mbnQKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL2ZvbnQtNzI5LnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTczMS0wLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTczMy0wLnBuZwphc3NldHMvc2Z4L3NvdW5kLTczNC5vZ2cKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL2ZvbnQtNzM1LmZudAphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0UvZm9udC03MzUucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzM3LTAucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzM5LTAucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzQxLTAucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzQzLTAucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzQzLTEucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzQ1LTAucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzQ3LTAucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzQ5LTAucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzUxLTAucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzUzLTEucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzUzLTIucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzU1LTEucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzU1LTIucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzU1LTMucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzU1LTQucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzU1LTUucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzU3LTAucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzU5LTQucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzU5LTUucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzU5LTYucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzU5LTcucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzYxLTAucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzYzLTAucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzYzLTEucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNzY1LTAucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9mb250LTc2Ni5mbnQKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL2ZvbnQtNzY2LnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTc2OC0wLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTc2OC0xLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTc3MC0wLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTc3Mi0wLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTc3Mi0xLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTc3Mi0yLnBuZwphc3NldHMvc2Z4L3NvdW5kLTI2MS5vZ2cKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS03NzYtMC5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS03NzgtMC5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS03ODAtMC5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS03ODAtMS5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS03ODItMC5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS03ODItMS5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS03ODQtMC5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS03ODQtMS5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS03OTAtMC5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS03OTItMC5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS03OTItMS5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS03OTItMi5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS03OTItMy5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS03OTQtMC5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS03OTQtMS5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS03OTQtMi5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS03OTQtMy5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS03OTYtMC5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS03OTYtMS5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS03OTgtMC5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS04MDAtMC5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS04MDUtMS5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS04MDUtMi5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS04MDUtMy5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS04MDctMC5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS04MDctMS5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS04MDktMC5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS04MDktMS5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS04MDktMi5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS04MDktMy5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS04MTEtMC5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS04MTEtMS5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS04MTEtMi5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS04MTEtNC5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS04MTEtNS5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS04MTEtNi5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS04MTMtMC5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS04MTMtMS5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS04MTMtMi5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS04MTMtMy5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS04MTUtMC5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS04MTUtMS5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS04MTctMC5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS04MTctMS5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL2ZvbnQtODE4LmZudAphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0UvZm9udC04MTgucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtODIwLTAucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtODIwLTEucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtODIyLTAucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtODIyLTEucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtODIyLTIucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtODIyLTMucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtODIyLTQucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtODI0LTAucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtODI0LTEucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtODI2LTAucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtODI2LTEucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtODMwLTAucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtODMwLTEucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtODMwLTIucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtODMwLTMucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtODMwLTQucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtODMyLTEucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtODMyLTIucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtODM0LTAucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNDgwLTAucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNDgwLTEucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNDgwLTIucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNDgwLTMucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNDgwLTgucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNDgwLTkucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNDgwLTEyLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTQ4MC0xMy5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS00ODAtMTQucG5nCmFzc2V0cy9ncmFwaGljcy9JTUdfQkFTRS9zcHJpdGUtNDgwLTE1LnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTQ4NS0wLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTQ4Ny0wLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTQ4OS0wLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTQ4OS0yLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTQ5MS0wLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTQ5MS0xLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTQ5MS0yLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTQ5MS0zLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTQ5NS0wLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTQ5NS0xLnBuZwphc3NldHMvZ3JhcGhpY3MvSU1HX0JBU0Uvc3ByaXRlLTQ5NS0yLnBuZwphc3NldHMvc2Z4L3NvdW5kLTQ5Ni5vZ2cKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS00OTgtMC5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS00OTgtMS5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS00OTgtMi5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS00OTgtMy5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS01MDAtMC5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS01MDAtMS5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS01MDItMC5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS01MDQtMC5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS01MDQtMS5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS01MDYtMC5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS01MDYtMS5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS01MDgtMC5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS01MDgtMS5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS01MTAtMC5wbmcKYXNzZXRzL2dyYXBoaWNzL0lNR19CQVNFL3Nwcml0ZS01MTAtMS5wbmcK"},{name:"config_preloader_bg_txt",data:"aVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQTFRQUFBSGdDQUlBQUFBdHg3dEFBQUFwWGtsRVFWUjRYdTNjTVpJclRiS2VhYXF6QUFxag0KendidWRxbHpJWGNEbExtTTJjR2xjR2paeCtMOU80R29RZ1VDRlkvYkkvVkovOEtCTG1TNDBOYi83VC8rODc4QUFEakVmK3QvQkFEQQ0KYjJYNUF3QTRpT1VQQU9BZ2xqOEFnSU5ZL2dBQURtTDVBd0E0aU9VUEFPQWdsajhBZ0lOWS9nQUFEbUw1QXdBNGlPVVBBT0FnbGo4QQ0KZ0lOWS9nQUFEbUw1QXdBNGlPVVBBT0FnbGo4QWdJTlkvZ0FBRG1MNUF3QTRpT1VQQU9BZ2xqOEFnSU5ZL2dBQURtTDVBd0E0aU9VUA0KQU9BZ2xqOEFnSU5ZL2dBQURtTDVBd0E0aU9VUEFPQWdsajhBZ0lOWS9nQUFEbUw1QXdBNGlPVVBBT0FnbGo4QWdJTlkvZ0FBRG1MNQ0KQXdBNGlPVVBBT0FnbGo4QWdJTlkvZ0FBRG1MNUF3QTRpT1VQQU9BZ2xqOEFnSU5ZL2dBQURtTDVBd0E0aU9VUEFPQWdsajhBZ0lOWQ0KL2dBQURtTDVBd0E0aU9VUEFPQWdsajhBZ0lOWS9nQUFEbUw1QXdBNGlPVVBBT0FnbGo4QWdJTlkvZ0FBRG1MNUF3QTRpT1VQQU9BZw0KbGo4QWdJTlkvZ0FBRG1MNUF3QTRpT1VQQU9BZ2xqOEFnSU5ZL2dBQURtTDVBd0E0aU9VUEFPQWdsajhBZ0lOWS9nQUFEbUw1QXdBNA0KaU9VUEFPQWdsajhBZ0lOWS9nQUFEbUw1QXdBNGlPVVBBT0FnbGo4QWdJTlkvZ0FBRG1MNUF3QTRpT1VQQU9BZ2xqOEFnSU5ZL2dBQQ0KRG1MNUF3QTRpT1VQQU9BZ2xqOEFnSU5ZL2dBQURtTDVBd0E0aU9VUEFPQWdsajhBZ0lOWS9nQUFEbUw1QXdBNGlPVVBBT0FnbGo4QQ0KZ0lOWS9nQUFEbUw1QXdBNGlPVVBBT0FnbGo4QWdJTlkvZ0FBRG1MNUF3QTRpT1VQQU9BZ2xqOEFnSU5ZL2dBQURtTDVBd0E0aU9VUA0KQU9BZ2xqOEFnSU5ZL2dBQURtTDVBd0E0aU9VUEFPQWdsajhBZ0lOWS9nQUFEbUw1QXdBNGlPVVBBT0FnbGo4QWdJTlkvZ0FBRG1MNQ0KQXdBNGlPVVBBT0FnbGorKzR2LzU3Ly9mRGpyWTF6UjVnWTd4TlUxZW9HTThvemx2MGNFQWptTDU0eXQ2b2I1RkIvdWFKaS9RTWI2bQ0KeVF0MGpHYzA1eTA2R01CUkxIOThSUy9VdCtoZ1g5UGtCVHJHMXpSNWdZN3hqT2E4UlFjRE9Jcmxqd205UnpmUlVaL1JuTGZvWU05bw0Kemx0MHNHclhKam9xd0Frc2Ywem85Ym1KanZxTTVyeEZCM3RHYzk2aWcxVzdOdEZSQVU1ZytXTkNyODlOZE5Sbk5PY3RPdGd6bXZNVw0KSGF6YXRZbU9DbkFDeXgrUDlkYTgvTmM3cW1OY09ueTE2ektlOUFQVlF5OGR0ZHAxR1UvNmdlcWhsOTFHYlhXTVM0Y0grTVVzZnp6Vw0KeS9JeVhyQkxxbU5jT255MTZ6S2U5QVBWUXk4ZHRkcDFHVS82Z2VxaGw5MUdiWFdNUzRjSCtNVXNmenpXeS9JeVhyQkxxbU5jT255MQ0KNnpLZTlBUFZReThkdGRwMUdVLzZnZXFobDkxR2JYV01TNGNIK01Vc2Z6eld5M0s4Vjk5VUhlem1PdTh6bHpGM1NYV015KzhZdnY4MA0KcHJ5cE9saUhCL2pGTEg4ODFqdHl2RTdmVkIzczVoYnZNNWN4ZDBsMWpNdnZHTDcvTkthOHFUcFlod2Y0eFN4L1BOWTdjcnhPMzFRZA0KN09ZVzd6T1hNWGRKZFl6TDd4aSsvelNtdktrNldJY0grTVVzZnp6V08zSzhUdDlkbmZBWlk4cWJxb005WTB4NVUzV3dHMlB6dTZzVA0KWHZvckFQZzFMSDg4MXF0eHZFWGZYWjN3R1dQS202cURQV05NZVZOMXNCdGo4N3VyRTE3Nkt3RDROU3gvUE5hcmNieEYzMTJkOEJsag0KeXB1cWd6MWpUSGxUZGJBYlkvTzdxeE5lK2lzQStEVXNmenpXcTNHOFJiZXBqbHBqenpiVlVXdnMyYVk2YW8wOTIxUkh2ZlRuQVBEcA0KTEg4ODFodHh2RHkzcVk1YVk4ODIxVkZyN05tbU9tcU5QZHRVUjczMDV3RHc2U3gvUE5ZYmNidzh0Nm1PV21QUE50VlJhK3pacGpwcQ0KalQzYlZFZTk5T2NBOE9rc2Z6eldHM0c4UExlcGpscGp6emJWVVd2czJhWTZhbzA5MjFSSHJmNHVBRDZVNVkvSGVoR09sK2MyMVZGcg0KN05tbU9tcU5QZHRVUjYyeFo1dnFxTlhmQmNDSHN2enhXQy9DOGZMY3BqcHFqVDNiVkVldHNXZWI2cWcxOW14VEhiWDZ1d0Q0VUpZLw0KSHV0Rk9GNmUyMVJIcmJGbm0rcW9OZlpzVXgyMXhwNXRxcU5XZnhjQUg4cnl4Mk85Q01mTGM1dnFxRFgyYkZNZHRjYWViYXFqMXRpeg0KVFhYVTZ1OEM0RU5aL25pc0YrRjRlVzVUSGJYR25tMnFvOWJZczAxMTFCcDd0cW1PV3YxZEFId295eCtQOVNJY0w4OXRxcVBXMkxOTg0KZGRRYWU3YXBqbHBqenpiVlVhdS9DNEFQWmZuanNWNkU0K1c1VFhYVUdudTJxWTVhWTg4MjFWRnI3Tm1tT21yMWR3SHdvU3gvUE5hTA0KY0x3OHQ2bU9XbVBQTnRWUmErelpwanBxalQzYlZFZXQvaTRBUHBUbGo4ZDZFWTZYNTJRMWNFSHlnaVBHUnllcmdUWDJURllERnlRdg0KT0dKOGRMSWFXUDFkQUh3b3l4K1A5U0ljTDgvSmF1Q0M1QVZIakk5T1ZnTnI3Sm1zQmk1SVhuREUrT2hrTmJENnV3RDRVSlkvSHV0Rg0KT0Y2ZWs5WEFCY2tMamhnZm5hd0cxdGd6V1ExY2tMemdpUEhSeVdwZzlYY0I4S0VzZnp6V2kzQzhQQ2VyZ1F1U0Z4d3hQanBaRGF5eA0KWjdJYXVDQjV3UkhqbzVQVndPcnZBdUJEV2Y1NHJCZmhlSGxPVmdNWEpDODRZbngwc2hwWVk4OWtOWEJCOG9JanhrY25xNEhWM3dYQQ0KaDdMODhWZ3Z3dkh5bkt3R0xraGVjTVQ0NkdRMXNNYWV5V3JnZ3VRRlI0eVBUbFlEcTc4TGdBOWwrZU94WG9UajVUbFpEVnlRdk9DSQ0KOGRISmFtQ05QWlBWd0FYSkM0NFlINTJzQmxaL0Z3QWZ5dkxIWTcwSXg4dHpzaHE0SUhuQkVlT2prOVhBR25zbXE0RUxraGNjTVQ0Ng0KV1Eycy9pNEFQcFRsajhkNkVZNlg1MlExY0VIeWdpUEdSeWVyZ1RYMlRGWURGeVF2T0dKOGRMSWFXUDFkQUh3b3l4K1A5U0ljTDgvSg0KYXVDQzVBVkhqSTlPVmdOcjdKbXNCaTVJWG5ERStPaGtOYkQ2dXdENFVKWS9IdXRGT0Y2ZWs5WEFCY2tMamhnZm5hd0cxdGd6V1ExYw0Ka0x6Z2lQSFJ5V3BnOVhjQjhLRXNmenpXaTNDOFBDZXJnUXVTRnh3eFBqcFpEYXl4WjdJYXVDQjV3UkhqbzVQVndPcnZBdUJEV2Y1NA0KckJmaGVIbE9WZ01YSkM4NFlueDBzaHBZWTg5a05YQkI4cXVPK0xucXFOWGZCY0NIc3Z6eFdDL0M4ZktjckFZdVNGNXd4UGpvWkRXdw0KeHA3SmF1Q0M1RmNkOFhQVlVhdS9DNEFQWmZuanNWNkU0K1U1V1ExY2tMemdpUEhSeVdwZ2pUMlQxY0FGeWE4NjR1ZXFvMVovRndBZg0KeXZMSFk3MEl4OHR6bStxb05mWk1WZ01YSkM4NFlueDBzaHBZWTg4MjFWR3J2d3VBRDJYNTQ3RmVoT1BsdVUxMTFCcDdKcXVCQzVJWA0KSERFK09sa05yTEZubStxbzFkOEZ3SWV5L1BGWUw4THg4dHltT21xTlBaUFZ3QVhKQzQ0WUg1MnNCdGJZczAxMTFPcnZBdUJEV2Y1NA0KckJmaGVIbHVVeDIxeHA3SmF1Q0M1QVZIakk5T1ZnTnI3SGwzZGNJYi9WMEFmQ2pMSDQvMUloeHYwVzJxbzliWU0xa05YSkM4NElqeA0KMGNscVlJMDk3NjVPZUtPL0M0QVBaZm5qc1Y2RTR5MjZUWFhVR25zbXE0RUxraGNjTVQ0NldRMnNzZWZkMVFsdjlIY0I4S0VzZnp6Vw0KaS9CLy9lLy8ybE5IclhaTmFlQ0M1QVZIOU9FcERheDJ2VVVIZTBaL0Z3QWZ5dkxIWTcwSWU2RnVvcU5XdTZZMGNFSHlnaVA2OEpRRw0KVnJ2ZW9vTTlvNzhMZ0E5bCtlT3hYb1M5VURmUlVhdGRVeHE0SUhuQkVYMTRTZ09yWFcvUndaN1Izd1hBaDdMODhWZ3Z3bDZvbStpbw0KMWE0cERWeVF2T0NJUGp5bGdkV3U5K3FFTi9xN09OQTN2NVp2dGdPdll2bmpzYjZ5ZTQ5dW9xTld1NlkwY0VIeWdpUDY4SlFHVnJ2ZQ0KcXhQZTZPL2lRTi84V3I3WkRyeUs1WS9IK3NydVBicUpqbHJ0bXRMQUJja0xqdWpEVXhwWTdYcXZUbmlqdjRzRGZmTnIrV1k3OENxVw0KUHg3cks3djM2SHQxd2h0dG45TEFCY2tManVqRFV4cFk3ZHBFUjczMDUzQ2c2OXNZLzg5eS92cS95Mm5YcTlxQmw3UDg4ZGpmZCtFZg0KdlQ3ZnF4UGVhUHVVQmk1SVhuQkVINTdTd0dyWEpqcnFwVCtIQTEzZnhyaTdQYmU5ZmJNZGVEbkxINC85ZlJmKzBldnp2VHJoamJaUA0KYWVDQzVBVkg5T0VwRGF4MmJhS2pYdnB6T05EMWJZeTcyM1BiMnpmYmdaZXovUEhZMzNmaEg3MCszNktEUGFNNVV4cTRJSG5CRVgxNA0KU2dPclhadm9xTlhmeGE5M2ZmWi9MV3YvNHo4SE45L1BOOXVCbjJQNTQ3Ry9yOEEvZW4yK1JRZDdSbk9tTkhCQjhvSWordkNVQmxhNw0KTnRGUnE3K0xYKy82N0YvYjNyN1pEdndjeXgrUC9YMEYvdEhyOHkwNjJET2FNNldCQzVJWEhOR0hwelN3MnJXSmpscjlYZng2MTJmLw0KMnZiMnpYYmc1MWorZU96dksvQ1BYcDhyZFo0cERaelN3QVhKQzQ3b3cxTWFXTzJhMHNBRnlaZitMbjY5NjdOL2JYdjdaanZ3Y3l4Lw0KUFBiM0ZmaEhyOCtWT3MrVUJrNXA0SUxrQlVmMDRTa05ySFpOYWVDQzVFdC9GNy9lOWRtL3RyMTlzeDM0T1pZL0h2djdDdnlqMStkSw0KbldkS0E2YzBjRUh5Z2lQNjhKUUdWcnVtTkhCQjhxVy9pMS92K3V4ZjI5NisyUTc4SE1zZmovMTlCZjdSNjNOS0ExZnFQRk1hdUNCNQ0Kd1JGOWVFb0RxMTFUR3JnZytkTGZ4YTkzZmZhcDdlMlpycHQyWUFITEg0LzlmUVgrMGV0elNnTlg2anhUR3JnZ2VjRVJmWGhLQTZ0ZA0KVXhxNElQblMzOFd2ZDMzMm16V3UzODh6WFRmdHdBS1dQeDc3K3dyOG85Zm5sQWF1MUhtbU5IQkI4b0lqK3ZDVUJsYTdwalJ3UWZLbA0KdjR0ZjcvcnNOMnRjdjU5bnVtN2FnUVVzZnp6Mjl4WDRSNi9QS1ExY3FmTk1hZUNDNUFWSDlPRXBEYXgyVFduZ2d1UkxmeGUvM3ZYWg0KYjlhNGZsRlRYVDBVV01EeXgyTjlyZmY2bk5MQWxUclBsQVl1U0Y1d1JCK2Uwc0JxMTVRR0xraSs5SGZ4NjEyZi9aazFycDdwNnFIQQ0KQXBZL0h1dHJ2ZGZubEFhdTFIbW1OSEJCOG9Jait2Q1VCbGE3cGpSd1FmS2x2NHRmNy9yc3o2eHg5VXhYRHdVV3NQenhXRi9ydlQ2bg0KTlBEbGZtNzRuOU5ScTEyYjZLalZyaWtOWEpCODZlL2kxN3MrKzgwYTk2OS91cWwwbmZ5dHdnNHNmenpXaTdEWDU1UUd2dHpQRGY5eg0KT21xMWF4TWR0ZG8xcFlFTGtpLzlYZng2MTJlL1dlUCs5VTgzbGE2VHYxWFlnZVdQeDNvUjl2cWMwc0NYKzduaGYwNUhyWFp0b3FOVw0KdTZZMGNFSHlwYitMWCsvNjdEZHIzTC8rNmFiU2RmSzNDanV3L1BGWUw4SmVuMU1hK0NvTGh2ODVIYlhhdFltT1d1MmEwc0FGeVpmKw0KYWYxVy9WWmZYZ2QrcTdBVnl4K1A5U0xzOVRtbGdhK3lZUGlmMDFHclhadm9xTld1S1ExY2tIenBuOVp2MVcvMTVYWGd0d3Bic2Z6eA0KV0MvQ1hwOVRHdmdxQzRiL09SMjEycldKamxydG10TEFCY21YL21uOVZ2MVdYMTRIZnF1d0Zjc2ZqL1VpN1BVNXBZSFZNYjZteVoxbg0KRXgyMTJyV0pqbHJ0bXRMQUJjbVgvbW45TXYweUY5UTVYeTlzeGZMSFk3MEllMzFPYVdCMWpLOXBjdWZaUkVldGRtMmlvMWE3cGpSdw0KUWZLbGYxcS9UTC9NQlhYTzF3dGJzZnp4V0MvQ1hwOVRHbGdkNDJ1YTNIazIwVkdyWFp2b3FOV3VLUTFja0h6cG45WXYweTl6UVozeg0KOWNKV0xIODgxb3V3MStlVUJsYkgrSm9tZDU1TmROUnExeVk2YXJWclNnTVhKRi82cC9YTFhKOTBYTkQrcVY3MThEbGZMMnpGOHNkag0KZjErQmYvVDZuTkxBNmhoZjArVE9zNG1PV3UzYVJFZXRkazFwNElMa1MvKzBmcG5yazQ0TDJqL1ZxeDQrNSt1RnJWaitlT3p2Sy9DUA0KWHA5VEdsZ2Q0MnVhM0hrMjBWR3JYWnZvcU5XdUtRMWNrSHpwbjlZdmMzM1NjVUg3cDNyVncrZDh2YkFWeXgrUC9YMEYvdEhyYzBvRA0KcTJOOFRaTXZIZXd0T3Rnem12TVdIZXhHMjZjMGNFSHlwWDlhdjh6MVNjY0Y3Wi9xVlErZjgvWENWaXgvUFBiM0ZmaEhyODhwRGF5Tw0KOFRWTnZuU3d0K2hnejJqT1czU3dHMjJmMHNBRnlaZithZjB5MXljZEY3Ui9xbGM5Zk03WEMxdXgvUEhZMzFmZ0g3MCtwelN3T3NiWA0KTlBuU3dkNmlnejJqT1cvUndXNjBmVW9ERnlSZitxZjF5MXlmZEZ6US9xbGU5ZkE1WHk5c3hmTEhZMzlmZ1gvMCtwelN3T29ZMzlRag0KTHAxd2dZN3hOVTFlb0dNOG96bFRHcmdnK2RLL3FGL20rcVRqZ3ZaUDlmS0h6L21lWVFlV1B4Nzcrd3I4bzlmbmxBWld4L2ltSG5IcA0KaEF0MGpLOXA4Z0lkNHhuTm1kTEFCY21YL2tYOU10Y25IZmV5ZjZxWFAzek85d3c3c1B6eDJOOVg0Qis5UHFjMHNEckdOL1dJU3lkYw0Kb0dOOFRaTVg2QmpQYU02VUJpNUl2dlF2NnBlNVB1bTRsLzFUdmZ6aGM3NW4ySUhsajhmK3ZnSUh2VWR2dFAxR3gzaVZublhwekMvWA0KUTErbFo3MWNELzJhSnQ5bys0MjIzMmo3amY0aC9UTFhKeDMzc3RuNkgvLzVmODNVT2Q4ejdNRHl4Mk85Q0MrOVVHKzAvVWJIZUpXZQ0KZGVuTUw5ZERYNlZudlZ3UC9ab20zMmo3amJiZmFQdU4vaUg5TXRjbkhmZXkyYkw4d2ZZc2Z6eldpL0RTQy9WRzIyOTBqRmZwV1pmTw0KL0hJOTlGVjYxc3YxMEs5cDhvMjIzMmo3amJiZjZCL1NMM045MG5Fdm15M0xIMnpQOHNlRTNvZy9wNmUvWEEvZDFrY1AvenYwdjRJUA0KY3ZOeCtrL1hjdnkxdW5MR2Y3aXREZ2I4SE1zZkUzcFAvSnllL25JOWRGc2ZQZnp2MFA4S1Bzak54K2svV2Y3ZzE3UDhNYUgzeE0vcA0KNlMvWFE3ZjEwY1AvRHYydjRJUGNmSnoraytVUGZqM0xIMS9SQytQbGV1alA2ZW1iNktqVnJrMTgwS2pQNk1mWjN6WDh1R3I5MDRyVw0KL3luazMvLzd5SWZyWUFQN24xelZzem84OEhNc2YzekY5Y3IrT1QzMDUvVDBUWFRVYXRjbVBtalVaL1RqN084YWZseSsvbWt6NjBKbQ0KK1lQZnl2TEhWMXl2N0ovVFEzOU9UOTlFUjYxMmJlS0RSbjFHUDg3K3J1SEg1ZXVmTnJNdVpKWS8rSzBzZjN6TDllNStsUjZ4VXVkNQ0KaXc3MmpPYThSUWVyZG4zVGd1UlBkSDJLTGx2ak92Wlg5ZUdwTGZDbW10eVpnUVVzZjN6TDM5ZmtTL1NJbFRyUFczU3daelRuTFRwWQ0KdGV1YkZpUi9vdXRUZE9zYTk3Sy9xZzliL3VDWHNmenhMWDlma3kvUkkxYnFQRy9Sd1o3Um5MZm9ZTld1YjFxUS9JbXVUOUd0YTl6TA0KL3FvK2JQbURYOGJ5eDJ2OGZWOStRUVBmcXhNdTBERytwc2tMZEl4bk5HZEtBeGNrZjZKK3dIRXZXMUsvOWV1RmoyUDU0elY2dTB4cA0KNEh0MXdnVTZ4dGMwZVlHTzhZem1UR25nZ3VSUDFBODQ3bVZMNnJkK3ZmQnhMSCs4Um0rWEtRMThyMDY0UU1mNG1pWXYwREdlMFp3cA0KRFZ5US9JbjZBY2U5YkVuOTFxOFhQbzdsRCtBVWIxbisvRS85WURlV1A0QlRXUDZBLzdEOEFaekQ4Z2Y4aCtVUDRCelgrdlhNLzJuTA0KMUROWGNvL29NeDBNV01ueUIzQ0tibVkzTmZXTTVROCtpT1VQNEJUZHpHNXE2aG5MSDN3UXl4L0FjYnFpdGE1bnhuK3c4OEdIcy93Qg0KSEtlN1dzdnlCNytWNVEvZ09OM1ZXcFkvK0swc2Z3RG42dEoyVlJlN20rWFB6Z2NmeFBJSGNLNXViNVkvK1BVc2Z3RG42dlptK1lOZg0Kei9JSG42VDM4VnQwc0djMFowb0RGeVRmYU00Q0hlTnJtcnhBeDNoR2M2WTBjRUh5amVaTWFTQjhnZVVQUGtrdmc3Zm9ZTTlvenBRRw0KTGtpKzBad0ZPc2JYTkhtQmp2R001a3hwNElMa0c4Mlowa0Q0QXNzZmZKSmVCbS9Sd1o3Um5Da05YSkI4b3prTGRJeXZhZklDSGVNWg0KelpuU3dBWEpONW96cFlId0JaWS8rQUM5QXpiUlVhdGQzN1FnK1VhNzNxS0RQYU01YjlIQnFsM2Z0Q0Q1UnJ1K3FVZkE4eXgvOEFINg0KNnQ5RVI2MTJmZE9DNUJ2dGVvc085b3ptdkVVSHEzWjkwNExrRyszNnBoNEJ6N1A4d1Fmb3EzOFRIYlhhOVUwTGttKzA2eTA2MkRPYQ0KOHhZZHJOcjFUUXVTYjdUcm0zb0VQTS95Qi92cUcvL3lyLzlEam9YVk1TNC9OM3piYjR6TnQ5WDJ5ODk5bks5VkQ3MTAxR3JYWlR6cA0KQjZxSFhuNXUxTGJmR0p0dnErMlh0M3ljSGdvUFdmNWdYMzNSWDhiTFlVbDFqTXZQRGQvMkcyUHpiYlg5OG5NZjUydlZReThkdGRwMQ0KR1UvNmdlcWhsNThidGUwM3h1YmJhdnZsTFIrbmg4SkRsai9ZVjEvMGwvRnlXRklkNC9Kenc3Zjl4dGg4VzIyLy9OekgrVnIxMEV0SA0KclhaZHhwTitvSHJvNWVkR2JmdU5zZm0yMm41NXk4ZnBvZkNRNVEvMjFSZjllQ2U4cVRwWXI2TCswNWd5V1ExY2tIeGpURmxTSGVQeQ0Kek4vUFpjeGRVaDNqY2pQem1ESlpEVnlRL0phUDB6OEErSGNzZjdDdnZ0L0hxK0JOMWNGNkEvV2Z4cFRKYXVDQzVCdGp5cExxR0pkbg0KL240dVkrNlM2aGlYbTVuSGxNbHE0SUxrdDN5Yy9nSEF2MlA1ZzMzMS9UNWVCVytxRHRZYnFQODBwa3hXQXhjazN4aFRsbFRIdUR6eg0KOTNNWmM1ZFV4N2pjekR5bVRGWURGeVMvNWVQMER3RCtIY3NmN0t2djkvRXFlSGQxd2h0ajgyUTFjRUZ5amMxdnFnNzJqREhsVGRYQg0KYm96Tms5WEFCY2szeHBUSmFtRDFUUUlEeXgvc3E2LzE4U3A0ZDNYQ0cyUHpaRFZ3UVhLTnpXK3FEdmFNTWVWTjFjRnVqTTJUMWNBRg0KeVRmR2xNbHFZUFZOQWdQTEgreXJyL1h4S25oM2RjSWJZL05rTlhCQmNvM05iNm9POW93eDVVM1Z3VzZNelpQVndBWEpOOGFVeVdwZw0KOVUwQ0E4c2Y3S3V2OWZFcTJLWTZhbzA5azlYQUJjbXZPdUxucXFQVzJMTk5kZFFhZXlhcmdRdVNiNHdwazlYQTZwc0VCcFkvMkZkZg0KNitOVnNFMTExQnA3SnF1QkM1SmZkY1RQVlVldHNXZWI2cWcxOWt4V0F4Y2szeGhUSnF1QjFUY0pEQ3gvc0srKzFzZXJZSnZxcURYMg0KVEZZREZ5Uy82b2lmcTQ1YVk4ODIxVkZyN0ptc0JpNUl2akdtVEZZRHEyOFNHRmorWUY5OXJZOVh3VGJWVVd2c21hd0dMa2grMVJFLw0KVngyMXhwNXRxcVBXMkROWkRWeVFmR05NbWF3R1Z0OGtNTEQ4d2I3NldoK3ZnbTJxbzliWU0xa05YSkQ4cWlOK3JqcHFqVDNiVkVldA0Kc1dleUdyZ2crY2FZTWxrTnJMNUpZR0Q1ZzMzMXRUNWVCZHRVUjYyeFo3SWF1Q0Q1VlVmOFhIWFVHbnUycVk1YVk4OWtOWEJCOG8weA0KWmJJYVdIMlR3TUR5Qi92cWEzMjhDcmFwamxwanoyUTFjRUh5cTQ3NHVlcW9OZlpzVXgyMXhwN0phdUNDNUJ0anltUTFzUG9tZ1lIbA0KRC9iVjEvcDRGV3hUSGJYR25zbHE0SUxrVngzeGM5VlJhK3pacGpwcWpUMlQxY0FGeVRmR2xNbHFZUFZOQWdQTEgreXJyL1h4S3RpbQ0KT21xTlBaUFZ3QVhKcnpyaTU2cWoxdGl6VFhYVUduc21xNEVMa20rTUtaUFZ3T3FiQkFhV1A5aFhYK3ZqVmJCTmRkUWFleWFyZ1F1Uw0KWDNYRXoxVkhyYkZubStxb05mWk1WZ01YSk44WVV5YXJnZFUzQ1F3c2Y3Q3Z2dGJIcTJDYjZxZzE5a3hXQXhja3YrcUluNnVPV21QUA0KTnRWUmEreVpyQVl1U0w0eHBreFdBNnR2RWhoWS9tQmZmYTJQVjhFMjFWRnI3Sm1zQmk1SWZ0VVJQMWNkdGNhZWJhcWoxdGd6V1ExYw0Ka0h4alRKbXNCbGJmSkRDdy9NRysrbG9mcjRMSmF1Q0M1QVZIakk5T1ZnTnI3Sm1zQmk1SVhuREUrT2hrTmJER25zbHE0SUxrRzJQSw0KWkRXdytpYUJnZVVQOXRYWCtuZ1ZURllERnlRdk9HSjhkTElhV0dQUFpEVndRZktDSThaSEo2dUJOZlpNVmdNWEpOOFlVeWFyZ2RVMw0KQ1F3c2Y3Q3Z2dGJIcTJDeUdyZ2dlY0VSNDZPVDFjQWFleWFyZ1F1U0Z4d3hQanBaRGF5eFo3SWF1Q0Q1eHBneVdRMnN2a2xnWVBtRA0KZmZXMVBsNEZrOVhBQmNrTGpoZ2ZuYXdHMXRneldRMWNrTHpnaVBIUnlXcGdqVDJUMWNBRnlUZkdsTWxxWVBWTkFnUExIK3lyci9YeA0KS3Bpc0JpNUlYbkRFK09oa05iREduc2xxNElMa0JVZU1qMDVXQTJ2c21hd0dMa2krTWFaTVZnT3JieElZV1A1Z1gzMnRqMWZCWkRWdw0KUWZLQ0k4WkhKNnVCTmZaTVZnTVhKQzg0WW54MHNocFlZODlrTlhCQjhvMHhaYklhV0gyVHdNRHlCL3ZxYTMyOENpYXJnUXVTRnh3eA0KUGpwWkRheXhaN0lhdUNCNXdSSGpvNVBWd0JwN0pxdUJDNUp2akNtVDFjRHFtd1FHbGovWVYxL3I0MVV3V1ExY2tMemdpUEhSeVdwZw0KalQyVDFjQUZ5UXVPR0IrZHJBYlcyRE5aRFZ5UWZHTk1tYXdHVnQ4a01MRDh3Yjc2V2grdmdzbHE0SUxrQlVlTWowNVdBMnZzbWF3Rw0KTGtoZWNNVDQ2R1Exc01hZXlXcmdndVFiWThwa05iRDZKb0dCNVEvMjFkZjZlQlZNVmdNWEpDODRZbngwc2hwWVk4OWtOWEJCOG9Jag0KeGtjbnE0RTE5a3hXQXhjazN4aFRKcXVCMVRjSkRDeC9zSysrMXNlcllMSWF1Q0I1d1JIam81UFZ3QnA3SnF1QkM1SVhIREUrT2xrTg0KckxGbnNocTRJUG5HbURKWkRheStTV0JnK1lOOTliVStYZ1dUMWNBRnlRdU9HQitkckFiVzJETlpEVnlRdk9DSThkSEphbUNOUFpQVg0Kd0FYSk44YVV5V3BnOVUwQ0E4c2Y3S3V2OWZFcTJLWTZhbzA5azlYQUJja0xqaGdmbmF3RzF0Z3pXUTFja0x6Z2lQSFJ5V3JnTThhVQ0KeVdwZzlVMENBOHNmN0t1djlmRXEyS1k2YW8wOWs5WEFCY2tMamhnZm5hd0cxdGd6V1ExY2tMemdpUEhSeVdyZ004YVV5V3BnOVUwQw0KQThzZjdLdXY5ZkVxMktZNmFvMDlrOVhBQmNrTGpoZ2ZuYXdHMXRneldRMWNrTHpnaVBIUnlXcmdNOGFVeVdwZzlVMENBOHNmN0t1dg0KOWZFcTJLWTZhbzA5azlYQUJja0xqaGdmbmF3RzF0Z3pXUTFja1B5cUkzNnVPdW96eHBUSmFtRDFUUUlEeXgvc3E2LzE4U3JZcGpwcQ0KalQyVDFjQUZ5UXVPR0IrZHJBYlcyRE5aRFZ5US9Lb2pmcTQ2NmpQR2xNbHFZUFZOQWdQTEgreXJyL1h4S3RpbU9tcU5QWlBWd0FYSg0KQzQ0WUg1MnNCdGJZTTFrTlhKRDhxaU4rcmpycU04YVV5V3BnOVUwQ0E4c2Y3S3V2OWZFcWVIZDF3aHRqODJRMWNFSHlnaVBHUnllcg0KZ1RYMlRGWURGeVMvNm9pZnE0NzZqREZsc2hwWWZaUEF3UElIKytwcmZid0szbDJkOE1iWVBGa05YSkM4NElqeDBjbHFZSTA5azlYQQ0KQmNtdk91TG5xcU0rWTB5WnJBWlczeVF3c1B6QnZ2cGFINitDZDFjbnZERTJUMVlERnlRdk9HSjhkTElhV0dQUFpEVndRZktyanZpNQ0KNnFqUEdGTW1xNEhWTndrTUxIK3dyNzdXLzlmLy9xOGRkTEJuTkdkS0F4Y2tMemlpRDA5cFlMVnJTZ01YSkwvcWlKL1RVWi9SbkNrTg0Kckw1SllHRDVnMzMxdGQ3TDRDMDYyRE9hTTZXQkM1SVhITkdIcHpTdzJqV2xnUXVTWDNYRXorbW96MmpPbEFaVzN5UXdzUHpCdnZwYQ0KNzJYd0ZoM3NHYzJaMHNBRnlRdU82TU5UR2xqdG10TEFCY212T3VMbmROUm5OR2RLQTZ0dkVoaFkvbUJmZmEzM01uaXZUbmlqN1ZNYQ0KdUNCNXdSRjllRW9EcTExVEdyZ2crVlZIL0p5Tytvem1UR2xnOVUwQ0E4c2Y3S3V2OVY0Rzc5VUpiN1I5U2dNWEpDODRvZzlQYVdDMQ0KYTBvREZ5Uy82b2lmMDFHZjBad3BEYXkrU1dCZytZTjk5YlhleStDOU91R050azlwNElMa0JVZjA0U2tOckhaTmFlQ0M1RmNkOFhNNg0KNmpPYU02V0IxVGNKREN4L3NLKysxbnNaYktLalZydW1OSEJCOG9Jait2Q1VCbGE3cGpSd1FYSzEvYjA2NFRPYU02V0IxVGNKREN4Lw0Kc0srKzFuc1piS0tqVnJ1bU5IQkI4b0lqK3ZDVUJsYTdwalJ3UVhLMS9iMDY0VE9hTTZXQjFUY0pEQ3gvc0srKzFuc1piS0tqVnJ1bQ0KTkhCQjhvSWordkNVQmxhN3BqUndRWEsxL2IwNjRUT2FNNldCMVRjSkRDeC9zSysrMW5zWlRHbmdndVFGUi9UaEtRMnNkazFwNElMaw0KQlVmMDRTa05mRVp6M3FLRFRXbmdqYmJmNkpzRUJwWS8yRmRmNjcwVnBqUndRZktDSS9yd2xBWld1NlkwY0VIeWdpUDY4SlFHUHFNNQ0KYjlIQnBqVHdSdHR2OUUwQ0E4c2Y3S3V2OWQ0S1V4cTRJSG5CRVgxNFNnT3JYVk1hdUNCNXdSRjllRW9EbjlHY3QraGdVeHA0byswMw0KK2lhQmdlVVA5dFhYZW0rRktRMWNrTHpnaUQ0OHBZSFZyaWtOWEpDODRJZytQS1dCVXhxNFV1ZXAvL2QvL3Y5LzlKOStUdDhrTUxEOA0Kd2I3Nld1OE5OS1dCQzVJWEhOR0hwelN3MmpXbGdRdVNGeHpSaDZjMGNFb0RWK284WmZsalQ1WS8yRmRmNjcyQnBqUndRZktDSS9ydw0KbEFaV3U2WTBjRUh5Z2lQNjhKUUdUbW5nU3AybkxIL3N5ZklIKytwcnZUZlFsQVl1U0Y1d1JCK2Uwc0JxMTVRR0xraGVjRVFmbnRMQQ0KbFRyUGxBYld0Znl0M0FMN0pvR0I1US8yMWRkNmI2QXBEVnlRdk9DSVBqeWxnZFd1S1ExY2tMemdpRDQ4cFlFcmRaNHBEU3pMSDN1eQ0KL01HKytscnZEVFNsZ1F1U0Z4elJoNmMwc05vMXBZRUxraGNjMFllbk5IQ2x6ak9sZ1dYNVkwK1dQOWhYWCt1OWdhWTBjRUh5Z2lQNg0KOEpRR1ZydW1OSEJCOG9Jait2Q1VCcTdVZWFZMHNPeDg3TW55Qi92cSs3MDMwSlFHTGtoZWNFUWZudExBYXRlVUJpNUlYbkJFSDU3Uw0Kd0pVNno1UUdsdVdQUFZuK1lGOTl2L2NHbXRMQUJja0xqdWpEVXhwWTdaclN3QVhKQzQ3b3cxTWF1RkxubWRMQXN2eXhKOHNmN0t2dg0KOTk1QW0raW8xYTVOZE5ScTE1UUdMa2hlY0VRZm50TEFHMjEvcjA0NHBZRTMybjdwZXdNZXN2ekJ2dnFpNzYyd2lZNWE3ZHBFUjYxMg0KVFduZ2d1UUZSL1RoS1EyODBmYjM2b1JUR25pajdaZStOK0FoeXgvc3F5LzYzZ3FiNktqVnJrMTAxR3JYbEFZdVNGNXdSQitlMHNBYg0KYlgrdlRqaWxnVGZhZnVsN0F4NnkvTUcrK3FMdnJiQ0pqbHJ0MmtSSHJYWk5hZUNDNUFWSDlPRXBEYXgyYmFLalBxTTVVeHA0NlFzRQ0KL2gzTEgreXI3L2RlQnB2b3FOV3VUWFRVYXRlVUJpNUlYbkJFSDU3U3dHclhKanJxTTVvenBZR1h2a0RnMzdIOHdiNzZmdTlsc0ltTw0KV3UzYVJFZXRkazFwNElMa0JVZjA0U2tOckhadG9xTStvemxUR25qcEN3VCtIY3NmN0t2djkxNEdtK2lvMWE1TmROUnExNVFHTGtoZQ0KY0VRZm50TEFhdGNtT3Vvem1qT2xnZFUzQ1F3c2Y3Q3Z2dFo3R1d5aW8xYTdOdEZScTExVEdyZ2dlY0VSZlhoS0E2dGRtK2lvejJqTw0KbEFaVzN5UXdzUHpCdnZwYTcyV3dpWTVhN2RwRVI2MTJUV25nZ3VRRlIvVGhLUTJzZG0yaW96NmpPVk1hV0gyVHdNRHlCL3ZxYTcyWA0Kd1NZNmFyVnJFeDIxMmpXbGdRdVNGeHpSaDZjMHNOcTFpWTc2ak9aTWFXRDFUUUlEeXgvc3E2LzFYZ2FiNktqVnJrMTAxR3JYbEFZdQ0KU0Y1d1JCK2Uwc0JxMXlZNjZqT2FNNldCMVRjSkRDeC9zSysrMW5zWmJLS2pWcnMyMFZHclhWTWF1Q0I1d1JGOWVFb0RxMTJiNktqUA0KYU02VUJsYmZKREN3L01HKytscnZaZkJlbmZBWnpYbUxEbmFqN1ZNYXVDQjV3UkY5ZUVvRHExM3YxUW1uTkhCS0E2dHZFaGhZL21CZg0KZmEzM01uaXZUdmlNNXJ4RkI3dlI5aWtOWEpDODRJZytQS1dCMWE3MzZvUlRHamlsZ2RVM0NRd3NmN0N2dnRaN0dieFhKM3hHYzk2aQ0KZzkxbys1UUdMa2hlY0VRZm50TEFhdGQ3ZGNJcERaelN3T3FiQkFhV1A5aFhYK3U5RE42aWczMU5reGZvR005b3pwUUdMa2hlY0VRZg0KbnRMQWF0ZGJkTEN2YWZLVUJsYmZKREN3L01HKytscnZaZkFXSGV4cm1yeEF4M2hHYzZZMGNFSHlnaVA2OEpRR1ZydmVvb045VFpPbg0KTkxENkpvR0I1US8yMWRkNkw0TzM2R0JmMCtRRk9zWXptak9sZ1F1U0Z4elJoNmMwc05yMUZoM3NhNW84cFlIVk53a01MSCt3cjc3Vw0KTDcwVkZ1Z1lyOUt6WHE2SGZrMlRiN1Q5UnR0dnRQMFp6Ym5SOWh0dHY5SDJaelJuZ1k3eEtqM3JSdHR2OUUwQ0E4c2Y3S3V2OVV1dg0KaHdVNnhxdjBySmZyb1YvVDVCdHR2OUgyRzIxL1JuTnV0UDFHMjIrMC9Sbk5XYUJqdkVyUHV0SDJHMzJUd01EeUIvdnFhLzNTNjJHQg0KanZFcVBldmxldWpYTlBsRzIyKzAvVWJibjlHY0cyMi8wZlliYlg5R2N4Ym9HSy9TczI2MC9VYmZKREN3L01FSDZQdjlnL3l5andNUA0KdmZkdnZxZkR3UElISDZEdjl3L3l5ejRPUFBUZXYvbWVEZ1BMSDN5QXZ0OC95Qy83T1BEUWUvL21lem9NTEgvd1NmcWkzMWFIcjNadA0KNG9OR1pSLzlzNmwydlZ3UGhZSGxEejVKWC9UYjZ2RFZyazE4MEtqc28zODIxYTZYNjZFd3NQekJKK21MZmxzZHZ0cTFpUThhbFgzMA0KejZiYTlYSTlGQWFXUC9oSWZlTnZvcU0rb3psdjBjR3FYZCswSUhuQkVmMm5iMW93L0t0MDFHYzA1NXQ2QlB3N2xqLzRTSDMxYjZLag0KUHFNNWI5SEJxbDNmdENCNXdSSDlwMjlhTVB5cmROUm5OT2ViZWdUOE81WS8rRWg5OVcraW96NmpPVy9Sd2FwZDM3UWdlY0VSL2Fkdg0KV2pEOHEzVFVaelRubTNvRS9EdVdQL2hzdlFQZW9vTjlUWk1YNkJqUGFNNlVCaTVJWG5CRUg1N1N3R3JYVzNTd3IybnlsQWJDUTVZLw0KK0d5OURONmlnMzFOa3hmb0dNOW96cFFHTGtoZWNFUWZudExBYXRkYmRMQ3ZhZktVQnNKRGxqLzRiTDBNM3FLRGZVMlRGK2dZejJqTw0KbEFZdVNGNXdSQitlMHNCcTExdDBzSzlwOHBRR3drT1dQd0NBZzFqK0FBQU9ZdmtEQURpSTVROEE0Q0NXUHdDQWcxaitBQUFPWXZrRA0KQURpSTVROEE0Q0NXUHdDQWcxaitBQUFPWXZrREFEaUk1UThBNENDV1B3Q0FnMWorQUFBT1l2a0RBRGlJNVE4QTRDQ1dQd0NBZzFqKw0KQUFBT1l2a0RBRGlJNVE4QTRDQ1dQd0NBZzFqK0FBQU9ZdmtEQURpSTVROEE0Q0NXUHdDQWcxaitBQUFPWXZrREFEaUk1UThBNENDVw0KUHdDQWcxaitBQUFPWXZrREFEaUk1UThBNENDV1B3Q0FnMWorQUFBT1l2a0RBRGlJNVE4QTRDQ1dQd0NBZzFqK0FBQU9ZdmtEQURpSQ0KNVE4QTRDQ1dQd0NBZzFqK0FBQU9ZdmtEQURpSTVROEE0Q0NXUHdDQWcxaitBQUFPWXZrREFEaUk1UThBNENDV1B3Q0FnMWorQUFBTw0KWXZrREFEaUk1UThBNENDV1B3Q0FnMWorQUFBT1l2a0RBRGlJNVE4QTRDQ1dQd0NBZzFqK0FBQU9ZdmtEQURpSTVROEE0Q0NXUHdDQQ0KZzFqK0FBQU9ZdmtEQURpSTVROEE0Q0NXUHdDQWcxaitBQUFPWXZrREFEaUk1UThBNENDV1B3Q0FnMWorQUFBT1l2a0RBRGlJNVE4QQ0KNENDV1B3Q0FnMWorQUFBT1l2a0RBRGlJNVE4QTRDQ1dQd0NBZzFqK0FBQU9ZdmtEQURpSTVROEE0Q0NXUHdDQWcxaitBQUFPWXZrRA0KQURpSTVROEE0Q0NXUHdDQWcxaitBQUFPWXZrREFEaUk1UThBNENDV1B3Q0FnMWorQUFBT1l2a0RBRGlJNVE4QTRDQ1dQd0NBZzFqKw0KQUFBT1l2a0RBRGlJNVE4QTRDQ1dQd0NBZzFqK0FBQU9ZdmtEQURpSTVROEE0Q0NXUHdDQWcxaitBQUFPWXZrREFEaUk1UThBNENDVw0KUHdDQWcxaitBQUFPWXZrREFEaUk1UThBNENDV1B3Q0FnMWorQUFBT1l2a0RBRGlJNVE4QTRDQ1dQd0NBZzFqK0FBQU9ZdmtEQURpSQ0KNVE4QTRDQ1dQd0NBZzFqK0FBQU9ZdmtEQURpSTVROEE0Q0NXUHdDQWcxaitBQUFPWXZrREFEaUk1UThBNENDV1B3Q0FnMWorQUFBTw0KWXZrREFEaUk1UThBNENDV1B3Q0FnMWorQUFBT1l2a0RBRGlJNVE4QTRDQ1dQd0NBZzFqK0FBQU9ZdmtEQURpSTVROEE0Q0NXUHdDQQ0KZzFqK0FBQU9ZdmtEQURpSTVROEE0Q0NXUHdDQWcxaitBQUFPWXZrREFEaUk1UThBNENDV1B3Q0FnMWorQUFBT1l2a0RBRGlJNVE4QQ0KNENDV1B3Q0FnMWorQUFBT1l2a0RBRGlJNVE4QTRDRC9CeDZ2QStTZzl6S2JBQUFBQUVsRlRrU3VRbUND"}],vo.__toStr={}.toString,null==ArrayBuffer.prototype.slice&&(ArrayBuffer.prototype.slice=So.sliceImpl);var Gb=new Uint32Array(256),Ub;Kl.__alpha16=Gb;for(var zb=0;256>zb;){var Hb=zb++;Kl.__alpha16[Hb]=Math.ceil(257.00392156862745*Hb)}for(Gb=new Uint8Array(511),Kl.__clamp=Gb,zb=0;255>zb;)Hb=zb++,Kl.__clamp[Hb]=Hb;for(zb=255;511>zb;)Hb=zb++,Kl.__clamp[Hb]=255;bh.available=!1,bh.enabled=!1,d_.level=0,"undefined"==typeof console&&(console={}),null==console.log&&(console.log=function(){}),Zc.hitTestCanvas=xo.get_supported()?window.document.createElement("canvas"):null,Zc.hitTestContext=xo.get_supported()?Zc.hitTestCanvas.getContext("2d"):null,Rm.maxTouchPoints=2,Rm.supportedGestures=null,Rm.supportsGestureEvents=!1,Rm.inputMode=2,h.reloadListeners=[],M.__meta__={statics:{toNullVector:{SuppressWarnings:["checkstyle:Dynamic"]}}},k.__meta__={fields:{__cairo:{SuppressWarnings:["checkstyle:Dynamic"]},addEventListener:{SuppressWarnings:["checkstyle:Dynamic"]},removeEventListener:{SuppressWarnings:["checkstyle:Dynamic"]}}},k.__broadcastEvents=new pr,k.__instanceCount=0,k.__tempStack=new P(function(){return M.toObjectVector(null)},function(t){t.set_length(0)}),L.logicalWidth=0,L.logicalHeight=0,L.windowWidth=0,L.windowHeight=0,L.leftInset=0,L.topInset=0,L.rightInset=0,L.bottomInset=0,O.Element=0,O.PCData=1,O.CData=2,O.Comment=3,O.DocType=4,O.ProcessingInstruction=5,O.Document=6,G.pool=[],G.pooli=0,z.VERTEX=0,z.FACE=1,W.b2_nullFeature=255,W.s_incidentEdge=W.makeClipPointVector(),W.s_clipPoints1=W.makeClipPointVector(),W.s_clipPoints2=W.makeClipPointVector(),W.s_edgeAO=[],W.s_edgeBO=[],W.s_localTangent=new G,W.s_localNormal=new G,W.s_planePoint=new G,W.s_normal=new G,W.s_tangent=new G,W.s_tangent2=new G,W.s_v11=new G,W.s_v12=new G,W.b2CollidePolyTempVec=new G,K.s_simplex=new Y,K.s_saveA=[],K.s_saveB=[],it.currentID=0,nt.e_circles=1,nt.e_faceA=2,nt.e_faceB=4,ht.e_points=1,ht.e_faceA=2,ht.e_faceB=4,mt.b2_toiCalls=0,mt.b2_toiIters=0,mt.b2_toiMaxIters=0,mt.b2_toiRootIters=0,mt.b2_toiMaxRootIters=0,mt.s_cache=(Ub=this,(Ub=new _t).useCache=!0,Ub),mt.s_distanceInput=new J,mt.s_xfA=new ut,mt.s_xfB=new ut,mt.s_fcn=new ht,mt.s_distanceOutput=new Z,ft.initialized=!1,ft.distanceInput=new J,ft.proxyA=new Q,ft.proxyB=new Q,ft.simplexCache=new _t,ft.distanceOutput=new Z,ft.e_unknownShape=-1,ft.e_circleShape=0,ft.e_polygonShape=1,ft.e_edgeShape=2,ft.e_shapeTypeCount=3,ft.e_hitCollide=1,ft.e_missCollide=0,ft.e_startsInsideCollide=-1,vt.s_mat=new dt,wt.VERSION="2.1alpha",wt.USHRT_MAX=65535,wt.b2_pi=Math.PI,wt.b2_maxManifoldPoints=2,wt.b2_aabbExtension=.1,wt.b2_aabbMultiplier=2,wt.b2_linearSlop=.005,wt.b2_polygonRadius=2*wt.b2_linearSlop,wt.b2_angularSlop=.011111111111111112*wt.b2_pi,wt.b2_toiSlop=8*wt.b2_linearSlop,wt.b2_maxTOIContactsPerIsland=32,wt.b2_maxTOIJointsPerIsland=32,wt.b2_velocityThreshold=1,wt.b2_maxLinearCorrection=.2,wt.b2_maxAngularCorrection=.044444444444444446*wt.b2_pi,wt.b2_maxTranslation=2,wt.b2_maxTranslationSquared=wt.b2_maxTranslation*wt.b2_maxTranslation,wt.b2_maxRotation=.5*wt.b2_pi,wt.b2_maxRotationSquared=wt.b2_maxRotation*wt.b2_maxRotation,wt.b2_contactBaumgarte=.2,wt.b2_timeToSleep=.5,wt.b2_linearSleepTolerance=.01,wt.b2_angularSleepTolerance=.011111111111111112*wt.b2_pi,Rt.b2Vec2_zero=new G(0,0),Rt.b2Mat22_identity=dt.fromVV(new G(1,0),new G(0,1)),Rt.b2Transform_identity=new ut(Rt.b2Vec2_zero,Rt.b2Mat22_identity),Mt.s_xf1=new ut,Mt.e_islandFlag=1,Mt.e_awakeFlag=2,Mt.e_allowSleepFlag=4,Mt.e_bulletFlag=8,Mt.e_fixedRotationFlag=16,Mt.e_activeFlag=32,Mt.e_ignoreGravityFlag=128,Mt.e_alwaysActiveFlag=256,Mt.e_pausedFlag=512,Mt.b2_staticBody=0,Mt.b2_kinematicBody=1,Mt.b2_dynamicBody=2,Ct.b2_defaultFilter=new Ct,Et.KEY_LOCK=0,Et.b2_defaultListener=new Et,kt.s_evalCP=new X,Ft.e_shapeBit=1,Ft.e_jointBit=2,Ft.e_aabbBit=4,Ft.e_pairBit=8,Ft.e_centerOfMassBit=16,Ft.e_controllerBit=32,Lt.tempAABB1=new V,Lt.tempAABB2=new V,Ot.s_impulse=new It,Gt.s_timestep2=new Vt,Gt.s_xf=new ut,Gt.s_backupA=new At,Gt.s_backupB=new At,Gt.s_timestep=new Vt,Gt.s_queue=[],Gt.s_jointColor=new xt(.5,.8,.8),Gt.m_warmStarting=!0,Gt.m_continuousPhysics=!1,Gt.e_newFixture=1,Gt.e_locked=2,Wt.e_sensorFlag=1,Wt.e_continuousFlag=2,Wt.e_islandFlag=4,Wt.e_toiFlag=8,Wt.e_touchingFlag=16,Wt.e_enabledFlag=32,Wt.e_filterFlag=64,Wt.s_input=new ct,Qt.circlePointA=new G,Qt.circlePointB=new G,qt.staticFix=wt.b2_maxManifoldPoints,qt.s_worldManifold=new pt,qt.s_psm=new Qt,$t.m_xf=new ut,$t.q=new G,$t.p=new G,$t.e=new G,$t.temp1=new G,$t.temp2=new G,$t.m_centroidB=new G,$t.mat=new dt,re.m_xf=new ut,re.temp=new G,re.m_centroidB=new G,re.m_lowerLimit=new G,re.m_upperLimit=new G,re.m_polygonB=new se,re.edgeAxis=new ie,re.polygonAxis=new ie,re.perp=new G,re.n=new G,re.rf=new ne,re.mat=new dt,re.temp1=new G,re.temp2=new G,re.ie=[new ee,new ee],re.clipPoints1=[new ee,new ee],re.clipPoints2=[new ee,new ee],re.edge0=new G,re.edge1=new G,re.edge2=new G,re.m_normal=new G,re.m_normal0=new G,re.m_normal1=new G,re.m_normal2=new G,_e.e_unknownJoint=0,_e.e_revoluteJoint=1,_e.e_prismaticJoint=2,_e.e_distanceJoint=3,_e.e_pulleyJoint=4,_e.e_mouseJoint=5,_e.e_gearJoint=6,_e.e_lineJoint=7,_e.e_weldJoint=8,_e.e_frictionJoint=9,_e.e_inactiveLimit=0,_e.e_atLowerLimit=1,_e.e_atUpperLimit=2,_e.e_equalLimits=3,ue.CENTER="center",Te.b2_minPulleyLength=2,Pe.tImpulse=new G,Be.FPS_ONLY=!1,Be.GRAPH_WIDTH=70,Be.XPOS=69,Be.GRAPH_HEIGHT=50,Be.TEXT_HEIGHT=50,De.bg=51,De.fps=16776960,De.ms=65280,De.mem=65535,De.memmax=16711792,De.bgCSS="#000033",De.msCSS="#00ff00",De.fpsCSS="#ffff00",De.memCSS="#00ffff",De.memmaxCSS="#ff0070",Le.androidAdmobAppID="",Le.whirlID="",Le.whirlID1="",Le.iosAdmobAppID="",Le.ioswhirlID="",Le.ioswhirlID1="",Le.cpmstarID="",Le.newgroundsID="",Le.newgroundsKey="",Le.androidPublicKey="MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAyX0GlL9/fZk1U1cMQeeDqi4yolkVXF0TVfoebZRv3TN358zB6W+wzZVuP+beCPjIfT7O6QgQxHdm1Yxhz9sGzSd9Jh/Te+v74gVEgBuA26Ms3S4JDPO72agHekUVihkfS2vk4ca7Lr19k988H7z2x/PPNwGHWzv9u/N2VhPbr72uZOqIzz9J1BuRVSIXZLedZpZQiBhY9+Mc9hiYCvNg6gCI1OfxLeZO53ef6TDiIXCONHNFkpZUf8uh0jglYWHKZxx6oDTEoS1AtS4A4t1L8uNgjYpBMXsXcxA8NNrFZF0tcHAqAu5mJimXjJ1ZvGJW2w2X94Wfk52WnNUoObCHhwIDAQAB",Ne.defines=function(t){return(t=new pr).h.web="1",t.h.verbose="1",t.h.utf16="1",t.h.usingPoki="1",t.h.use_tilemap="1",t.h.tweenxcore="1.0.4",t.h.true="1",t.h.tools="8.0.1",t.h["target.utf16"]="true",t.h["target.unicode"]="true",t.h["target.name"]="js",t.h.stencyl="4.1.0",t.h["source-header"]="Generated by Haxe 4.2.1+bf9ff69",t.h.polygonal_ds="2.1.1",t.h["polygonal-ds"]="2.1.1",t.h.openfl_html5="1",t.h.openfl_enable_handle_error="1",t.h["openfl-html5"]="1",t.h["openfl-enable-handle-error"]="1",t.h.openfl="9.2.0",t.h.no_traces="1",t.h.no_compilation="1",t.h["no-compilation"]="1",t.h.mbs="0.2.1",t.h.lime_webgl="1",t.h.lime_html5="1",t.h.lime_howlerjs="1",t.h.lime_dom="1",t.h.lime_disable_assets_version="1",t.h.lime_canvas="1",t.h["lime-webgl"]="1",t.h["lime-html5"]="1",t.h["lime-howlerjs"]="1",t.h["lime-dom"]="1",t.h["lime-canvas"]="1",t.h.lime="8.0.1",t.h.js_es5="1",t.h.js_es="5",t.h["js-es5"]="1",t.h.js="1",t.h.html5="1",t.h.hscript="2.5.0",t.h.howlerjs="1",t.h.haxe_ver="4.201",t.h.haxe4="1",t.h.haxe3="1",t.h.haxe="4.2.1",t.h.debug_console="0.0.0",t.h["debug-console"]="0.0.0",t.h.debug="1",t.h.dce="std",t.h.cloner="1.0.0",t.h.box2d="0.0.0",t.h.actuate_manual_update="1",t.h.actuate_manual_time="1",t}(this),Ve.TYPE_ADS=1,Ve.TYPE_PURCHASES=2,Ve.TYPE_GAMECENTER=3,Ve.TYPE_KEYBOARD=4,Ge.__meta__={fields:{getLayer:{deprecated:["Use getLayerById or getLayerByName"]}}},Ge.DOODAD="",Ge.INTERNAL_SHIFT="iSHIFT",Ge.INTERNAL_CTRL="iCTRL",Ge.INTERNAL_COMMAND="iCOMMAND",Ge.NO_PHYSICS=!1,Ge.DEBUG_DRAW=!1,Ge.IMG_BASE="",Ge.SCALE=1,Ge.checkedWideScreen=!1,Ge.isStandardIOS=!1,Ge.isExtendedIOS=!1,Ge.isIPhone6=!1,Ge.isIPhone6Plus=!1,Ge.isIPhoneX=!1,Ge.isIPhoneXMax=!1,Ge.isIPhoneXR=!1,Ge.isTabletIOS=!1,Ge.landscape=!1,Ge.limitCameraToScene=!0,Ge.paused=!1,Ge.started=!1,Ge.inFocus=!0,Ge.events=new Ve,Ge.ITERATIONS=3,Ge.physicsScale=10,Ge.preservePadding=!1,Ge.paddingLeft=0,Ge.paddingRight=0,Ge.paddingTop=0,Ge.paddingBottom=0,Ge.STEP_SIZE=10,Ge.MS_PER_SEC=1e3,Ge.elapsedTime=0,Ge.timeScale=1,Ge.totalElapsedTime=0,Ge.debug=!1,ze.mouseX=0,ze.mouseY=0,ze.mouseWheelDelta=0,ze.multipleGamepadsEnabled=!1,ze._enabled=!1,ze._key=[],ze._controlsToReset=[],ze._controlMap=new pr,ze._keyInput=new Ue(new fr,function(t){return t.keys}),Xe.ANY=-1,Xe.LEFT=37,Xe.UP=38,Xe.RIGHT=39,Xe.DOWN=40,Xe.ENTER=13,Xe.CONTROL=17,Xe.COMMAND=15,Xe.SPACE=32,Xe.SHIFT=16,Xe.BACKSPACE=8,Xe.CAPS_LOCK=20,Xe.DELETE=46,Xe.END=35,Xe.ESCAPE=27,Xe.HOME=36,Xe.INSERT=45,Xe.TAB=9,Xe.PAGE_DOWN=34,Xe.PAGE_UP=33,Xe.LEFT_SQUARE_BRACKET=219,Xe.RIGHT_SQUARE_BRACKET=221,Xe.A=97,Xe.B=98,Xe.C=99,Xe.D=100,Xe.E=101,Xe.F=102,Xe.G=103,Xe.H=104,Xe.I=105,Xe.J=106,Xe.K=107,Xe.L=108,Xe.M=109,Xe.N=110,Xe.O=111,Xe.P=112,Xe.Q=113,Xe.R=114,Xe.S=115,Xe.T=116,Xe.U=117,Xe.V=118,Xe.W=119,Xe.X=120,Xe.Y=121,Xe.Z=122,Xe.F1=112,Xe.F2=113,Xe.F3=114,Xe.F4=115,Xe.F5=116,Xe.F6=117,Xe.F7=118,Xe.F8=119,Xe.F9=120,Xe.F10=121,Xe.F11=122,Xe.F12=123,Xe.F13=124,Xe.F14=125,Xe.F15=126,Xe.DIGIT_0=48,Xe.DIGIT_1=49,Xe.DIGIT_2=50,Xe.DIGIT_3=51,Xe.DIGIT_4=52,Xe.DIGIT_5=53,Xe.DIGIT_6=54,Xe.DIGIT_7=55,Xe.DIGIT_8=56,Xe.DIGIT_9=57,Xe.NUMPAD_0=96,Xe.NUMPAD_1=97,Xe.NUMPAD_2=98,Xe.NUMPAD_3=99,Xe.NUMPAD_4=100,Xe.NUMPAD_5=101,Xe.NUMPAD_6=102,Xe.NUMPAD_7=103,Xe.NUMPAD_8=104,Xe.NUMPAD_9=105,Xe.NUMPAD_ADD=107,Xe.NUMPAD_DECIMAL=110,Xe.NUMPAD_DIVIDE=111,Xe.NUMPAD_ENTER=108,Xe.NUMPAD_MULTIPLY=106,Xe.NUMPAD_SUBTRACT=109,Xe.keyboardNameMap=function(t){return(t=new pr).h.NUMBER_0=48,t.h.NUMBER_1=49,t.h.NUMBER_2=50,t.h.NUMBER_3=51,t.h.NUMBER_4=52,t.h.NUMBER_5=53,t.h.NUMBER_6=54,t.h.NUMBER_7=55,t.h.NUMBER_8=56,t.h.NUMBER_9=57,t.h.A=65,t.h.B=66,t.h.C=67,t.h.D=68,t.h.E=69,t.h.F=70,t.h.G=71,t.h.H=72,t.h.I=73,t.h.J=74,t.h.K=75,t.h.L=76,t.h.M=77,t.h.N=78,t.h.O=79,t.h.P=80,t.h.Q=81,t.h.R=82,t.h.S=83,t.h.T=84,t.h.U=85,t.h.V=86,t.h.W=87,t.h.X=88,t.h.Y=89,t.h.Z=90,t.h.NUMPAD_0=96,t.h.NUMPAD_1=97,t.h.NUMPAD_2=98,t.h.NUMPAD_3=99,t.h.NUMPAD_4=100,t.h.NUMPAD_5=101,t.h.NUMPAD_6=102,t.h.NUMPAD_7=103,t.h.NUMPAD_8=104,t.h.NUMPAD_9=105,t.h.NUMPAD_MULTIPLY=106,t.h.NUMPAD_ADD=107,t.h.NUMPAD_ENTER=108,t.h.NUMPAD_SUBTRACT=109,t.h.NUMPAD_DECIMAL=110,t.h.NUMPAD_DIVIDE=111,t.h.F1=112,t.h.F2=113,t.h.F3=114,t.h.F4=115,t.h.F5=116,t.h.F6=117,t.h.F7=118,t.h.F8=119,t.h.F9=120,t.h.F10=121,t.h.F11=122,t.h.F12=123,t.h.F13=124,t.h.F14=125,t.h.F15=126,t.h.BACKSPACE=8,t.h.TAB=9,t.h.ALTERNATE=18,t.h.ENTER=13,t.h.COMMAND=15,t.h.SHIFT=16,t.h.CONTROL=17,t.h.BREAK=19,t.h.CAPS_LOCK=20,t.h.NUMPAD=21,t.h.ESCAPE=27,t.h.SPACE=32,t.h.PAGE_UP=33,t.h.PAGE_DOWN=34,t.h.END=35,t.h.HOME=36,t.h.LEFT=37,t.h.RIGHT=39,t.h.UP=38,t.h.DOWN=40,t.h.INSERT=45,t.h.DELETE=46,t.h.NUMLOCK=144,t.h.SEMICOLON=186,t.h.EQUAL=187,t.h.COMMA=188,t.h.MINUS=189,t.h.PERIOD=190,t.h.SLASH=191,t.h.BACKQUOTE=192,t.h.LEFTBRACKET=219,t.h.BACKSLASH=220,t.h.RIGHTBRACKET=221,t.h.QUOTE=222,t}(this),Ye.__pool=new P(function(){return new Ye},function(t){t.setTo(0,0)}),je.__pool=new P(function(){return new je},function(t){t.setTo(0,0,0,0)}),Ke.FRONT=0,Ke.MIDDLE=1,Ke.BACK=2,Ke.CHANNELS=32,Ke.mpx=0,Ke.mpy=0,Ke.mrx=0,Ke.mry=0,Ke.dummyVec=new G,Ke.imageApiAutoscale=!0,Ke.dummyRect=new je(0,0,1,1),Ke.dummyPoint=new Ye(0,0),Ke.BASE_64_ENCODINGS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ke.BASE_64_PADDING="=",ti.fieldMaps=new pr,oi.AD_USER_OPEN=100,oi.AD_USER_CLOSE=101,oi.AD_LOADED=102,oi.AD_FAILED=103,oi.AD_CLICKED=104,oi.FULL_AD_USER_OPEN=105,oi.FULL_AD_USER_CLOSE=106,oi.FULL_AD_LOADED=107,oi.FULL_AD_FAILED=108,oi.FULL_AD_CLICKED=109,oi.PURCHASE_READY=200,oi.PURCHASE_SUCCESS=201,oi.PURCHASE_FAIL=202,oi.PURCHASE_RESTORE=203,oi.PURCHASE_CANCEL=204,oi.PURCHASE_PRODUCTS_VERIFIED=205,oi.PURCHASE_PRODUCT_VALIDATED=206,oi.GAME_CENTER_READY=300,oi.GAME_CENTER_SCORE=301,oi.GAME_CENTER_ACHIEVEMENT=302,oi.GAME_CENTER_ACHIEVEMENT_RESET=303,oi.GAME_CENTER_READY_FAIL=304,oi.GAME_CENTER_SCORE_FAIL=305,oi.GAME_CENTER_ACHIEVEMENT_FAIL=306,oi.GAME_CENTER_ACHIEVEMENT_RESET_FAIL=307,oi.KEYBOARD_EVENT=400,oi.KEYBOARD_DONE=401,oi.KEYBOARD_SHOW=402,oi.KEYBOARD_HIDE=403,li.TOUCH_POINT=1,li.GESTURE=2,li.GESTURE_CAPTURE=3,li.PAN_X=1,li.PAN_Y=2,li.PAN_XY=3,li.READY=0,li.BEGIN=1,li.TWO_FINGER_MOVE=2,li.MOVE=4,li.R2D=180/Math.PI,li.SWIPE_SCROLL_TIME=2,li.SWIPE_SAMPLE_TIME=.2,li.VELOCITY_RATIO=.25,li.touchEvents="touchBegin touchEnd touchMove touchOver touchOut touchRollOver touchRollOut touchTap".split(" "),li.mouseEvents="mouseDown mouseUp mouseMove mouseOver mouseOut rollOver rollOut click".split(" "),li.geTouchEvents=["touchBegin","touchEnd","touchMove","touchOut"],li.geMouseEvents=["mouseDown","mouseUp","mouseMove","mouseOut"],li.initialized=!1,li.moveToleSqr=1,li.MAP="mouseDown rox_touch_begin mouseUp rox_touch_end mouseMove rox_touch_move mouseOver rox_touch_over mouseOut rox_touch_out rollOver rox_touch_roll_over rollOut rox_touch_roll_in click rox_touch_tap touchBegin rox_touch_begin touchEnd rox_touch_end touchMove rox_touch_move touchOver rox_touch_over touchOut rox_touch_out touchRollOver rox_touch_roll_over touchRollOut rox_touch_roll_in touchTap rox_touch_tap".split(" "),li.typeMap=function(t){t=new pr;for(var e=0,i=li.MAP.length>>1;e<i;){var s=e++;t.h[li.MAP[s<<1]]=li.MAP[1+(s<<1)]}return t}(this),_i.ACTIVATE="activate",_i.ADDED="added",_i.ADDED_TO_STAGE="addedToStage",_i.CANCEL="cancel",_i.CHANGE="change",_i.CLEAR="clear",_i.CLOSE="close",_i.COMPLETE="complete",_i.CONNECT="connect",_i.CONTEXT3D_CREATE="context3DCreate",_i.COPY="copy",_i.CUT="cut",_i.DEACTIVATE="deactivate",_i.ENTER_FRAME="enterFrame",_i.EXIT_FRAME="exitFrame",_i.FRAME_CONSTRUCTED="frameConstructed",_i.FRAME_LABEL="frameLabel",_i.FULLSCREEN="fullScreen",_i.ID3="id3",_i.INIT="init",_i.MOUSE_LEAVE="mouseLeave",_i.OPEN="open",_i.PASTE="paste",_i.REMOVED="removed",_i.REMOVED_FROM_STAGE="removedFromStage",_i.RENDER="render",_i.RESIZE="resize",_i.SCROLL="scroll",_i.SELECT="select",_i.SELECT_ALL="selectAll",_i.SOUND_COMPLETE="soundComplete",_i.TAB_CHILDREN_CHANGE="tabChildrenChange",_i.TAB_ENABLED_CHANGE="tabEnabledChange",_i.TAB_INDEX_CHANGE="tabIndexChange",_i.TEXTURE_READY="textureReady",_i.UNLOAD="unload",ci.TOUCH_BEGIN="rox_touch_begin",ci.TOUCH_END="rox_touch_end",ci.TOUCH_MOVE="rox_touch_move",ci.TOUCH_OVER="rox_touch_over",ci.TOUCH_OUT="rox_touch_out",ci.TOUCH_ROLL_OVER="rox_touch_roll_over",ci.TOUCH_ROLL_OUT="rox_touch_roll_in",ci.TOUCH_TAP="rox_touch_tap",ci.GESTURE_TAP="rox_gesture_tap",ci.GESTURE_LONG_PRESS="rox_gesture_long_press",ci.GESTURE_PAN="rox_gesture_pan",ci.GESTURE_SWIPE="rox_gesture_swipe",ci.GESTURE_BEGIN="rox_gesture_begin",ci.GESTURE_PINCH="rox_gesture_pinch",ci.GESTURE_ROTATION="rox_gesture_rotation",ci.GESTURE_END="rox_gesture_end",yi.stringBlendMap=function(t){return(t=new pr).h.add=0,t.h.alpha=1,t.h.darken=2,t.h.difference=3,t.h.erase=4,t.h.hardlight=5,t.h.invert=6,t.h.lighten=8,t.h.multiply=9,t.h.normal=10,t.h.overlay=11,t.h.screen=12,t.h.subtract=14,t}(this),bi.drawnStringCache=new pr,bi.drawnStringCacheKeys=[],xi.MAX_TEXTURE_CAP=4096,wi._1X=new wi(1),wi._1_5X=new wi(1.5),wi._2X=new wi(2),wi._3X=new wi(3),wi._4X=new wi(4),Si.NO_SCALING=0,Si.FULLSCREEN=1,Si.STRETCH_TO_FIT=2,Si.SCALE_TO_FIT_LETTERBOX=3,Si.SCALE_TO_FIT_FILL=4,Si.SCALE_TO_FIT_FULLSCREEN=5,Ri._storedFonts=new pr,Ri.ZERO_POINT=new Ye,Mi.LEFT=1,Mi.RIGHT=2,Mi.CENTER=3,Oi.CONTEXT_LOST="glcontextlost",Oi.CONTEXT_RESTORED="glcontextrestored",Oi.vertexShader="\n#ifdef GL_ES\n\tprecision mediump float;\n#endif\n\nattribute vec4 aVertex;\n\nattribute vec2 aTexCoord;\nvarying vec2 vTexCoord;\n\nvoid main() {\n\tvTexCoord = aTexCoord;\n\tgl_Position = vec4(aVertex.x, aVertex.y, 0.0, 1.0);\n}",Wi.IN="in",Wi.OUT="out",Wi.THROUGH="through",$i.SLIDE_UP="up",$i.SLIDE_DOWN="down",$i.SLIDE_LEFT="left",$i.SLIDE_RIGHT="right",ys.BOOLEAN=new gs("boolean",1),ys.INTEGER=new gs("integer",4),ys.FLOAT=new gs("float",4),ys.STRING=new gs("string",4),ys.LIST=new gs("list",4),ys.DYNAMIC=new gs("dynamic",8),ys.NULL=new gs("null",0),Ss.basicTypes=function(t){return(t=[]).push(ys.BOOLEAN),t.push(ys.INTEGER),t.push(ys.FLOAT),t.push(ys.STRING),t.push(ys.LIST),t.push(ys.DYNAMIC),t.push(ys.NULL),bs.initializeType(),xs.initializeType(),ws.initializeType(),t.push(bs.MBS_HEADER),t.push(xs.MBS_TYPE_INFO),t.push(ws.MBS_FIELD_INFO),t}(this),un.GROUP_OFFSET=1e6,un.manifold=new pt,yn.INHERIT_ID=-1e3,yn.REGION_ID=-2,yn.PLAYER_ID=0,yn.TERRAIN_ID=1,yn.DOODAD_ID=2,yn.ACTOR_ID=3,vn.fixedCenter=0,vn.showWherePressed=1,vn.viewOffsetX=0,vn.viewOffsetY=0,vn.initialized=!1,xn.NORMAL_PHYSICS=0,xn.SIMPLE_PHYSICS=1,xn.MINIMAL_PHYSICS=2,wn.UNSET_ID=-1,Sn.MAX_VERTICES=200,An.muted=!1,An.masterVolume=1,Tn.UNSET_ID=-1,Cn.allAnimations=[],In.recycledCollisions=[],In.collisionResponses=new fr,En.freedCollisionPoints=[],Bn.WHITE=-1,Bn.TRANSPARENT=-2,On.infoArray=[],Xn.NO_AUTOTILE_DATA=0,Xn.CORNER_TL=1,Xn.CORNER_TR=2,Xn.CORNER_BR=4,Xn.CORNER_BL=8,Xn.SIDE_L=16,Xn.SIDE_T=32,Xn.SIDE_R=64,Xn.SIDE_B=128,tr.dummyRect=new je,er.TILESET_CACHE_MULTIPLIER=1e6,er.cacheSource=new fr,er.autotileFlagPointMap=function(t){t=new fr;var e=Xn.CORNER_TL,i=new Ye(-1,-1);return t.h[e]=i,e=Xn.CORNER_TR,i=new Ye(1,-1),t.h[e]=i,e=Xn.CORNER_BL,i=new Ye(-1,1),t.h[e]=i,e=Xn.CORNER_BR,i=new Ye(1,1),t.h[e]=i,e=Xn.SIDE_T,i=new Ye(0,-1),t.h[e]=i,e=Xn.SIDE_B,i=new Ye(0,1),t.h[e]=i,e=Xn.SIDE_L,i=new Ye(-1,0),t.h[e]=i,e=Xn.SIDE_R,i=new Ye(1,0),t.h[e]=i,t}(this),ir.temp=new je,rr.BLACK=-16777216,rr.WHITE=-1,rr.RED=-65536,rr.GREEN=-16711936,rr.BLUE=-16776961,rr.CYAN=-16711681,rr.MAGENTA=-65281,rr.YELLOW=-256,or.LUMA_R=.212671,or.LUMA_G=.71516,or.LUMA_B=.072169,or.LUMA_R2=.3086,or.LUMA_G2=.6094,or.LUMA_B2=.082,or.INV3=.3333333333333333,dr.BLACK=0,dr.WHITE=16777215,dr.RED=16711680,dr.GREEN=65280,dr.BLUE=255,dr.CYAN=65535,dr.MAGENTA=16711935,dr.YELLOW=16776960,mr.__meta__={fields:{clone:{SuppressWarnings:["checkstyle:FieldDocComment"]}}},gr.__identity=new gr,yr.__meta__={fields:{equals:{SuppressWarnings:["checkstyle:FieldDocComment"]},to3DString:{SuppressWarnings:["checkstyle:FieldDocComment"]},toMozString:{SuppressWarnings:["checkstyle:FieldDocComment"]}}},yr.__identity=new yr,yr.__pool=new P(function(){return new yr},function(t){t.identity()}),yr.__matrix3=new gr,br.__pool=new P(function(){return new br},function(t){t.__identity()}),vr.INTEGER_MAX=1e8,vr.NUMBER_MAX_VALUE=179769313486231e294,vr.blackColor=-16777216,vr.rate=1,vr.camera=new Ye,vr.cloner=new ke,vr._bitmap=new pr,vr._seed=0,vr._volume=1,vr._pan=0,vr._soundTransform=new mr,vr.DEG=57.29577951308402,vr.RAD=.01745329251994278,vr.point=new Ye,vr.point2=new Ye,vr.zero=new Ye,vr.rect=new je,vr.matrix=new yr,vr.sprite=new D,vr.collision=new In,da.linear=new Yr,da.sineIn=new ra,da.sineOut=new oa,da.sineInOut=new aa,da.sineOutIn=new la,da.quadIn=new jr,da.quadOut=new Jr,da.quadInOut=new Kr,da.quadOutIn=new Zr,da.cubicIn=new Br,da.cubicOut=new Lr,da.cubicInOut=new Dr,da.cubicOutIn=new Nr,da.quartIn=new Qr,da.quartOut=new $r,da.quartInOut=new qr,da.quartOutIn=new ta,da.quintIn=new ea,da.quintOut=new sa,da.quintInOut=new ia,da.quintOutIn=new na,da.expoIn=new zr,da.expoOut=new Wr,da.expoInOut=new Hr,da.expoOutIn=new Xr,da.circIn=new Ir,da.circOut=new kr,da.circInOut=new Er,da.circOutIn=new Fr,da.bounceIn=new Tr,da.bounceOut=new Pr,da.bounceInOut=new Mr,da.bounceOutIn=new Cr,da.backIn=new wr,da.backOut=new Rr,da.backInOut=new Sr,da.backOutIn=new Ar,da.elasticIn=new Or,da.elasticOut=new Gr,da.elasticInOut=new Vr,da.elasticOutIn=new Ur,da.warpOut=new ca,da.warpIn=new ha,da.warpInOut=new _a,da.warpOutIn=new ua,ma.PI=3.141592653589793,ma.PI_H=1.5707963267948966,ma.LN_2=.6931471805599453,ma.LN_2_10=6.931471805599453,ma.overshoot=1.70158,ma.amplitude=1,ma.period=3e-4,ya.activeObjects=[],ya.finishedObjects=[],Ca.USE_CACHE=!1,Ca.USE_ENUM_INDEX=!1,Ca.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:",ka.DEFAULT_RESOLVER=new Ea,ka.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:",Na.CHARS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Na.BYTES=La.ofString(Na.CHARS),io.i64tmp=new Aa(0,0),io.helper=new DataView(new ArrayBuffer(8)),_o.escapes=function(t){return(t=new pr).h.lt="<",t.h.gt=">",t.h.amp="&",t.h.quot='"',t.h.apos="'",t}(this),yo.LEN_EXTRA_BITS_TBL=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,-1,-1],yo.LEN_BASE_VAL_TBL=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],yo.DIST_EXTRA_BITS_TBL=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,-1,-1],yo.DIST_BASE_VAL_TBL=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],yo.CODE_LENGTHS_POS=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Mo.OPTION_REVOKE_URL=1,Mo.activeRequests=0,Mo.requestLimit=17,Mo.requestQueue=new E,Po.dummyCharacter="",Po.windowID=0,ko.DICTIONARY="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),ko.EXTENDED_DICTIONARY=function(t){t=[];for(var e=0,i=ko.DICTIONARY;e<i.length;){var s=i[e];++e;for(var n=0,r=ko.DICTIONARY;n<r.length;){var a=r[n];++n,t.push(s+a)}}return t}(this),zo.MUL_TABLE=[1,171,205,293,57,373,79,137,241,27,391,357,41,19,283,265,497,469,443,421,25,191,365,349,335,161,155,149,9,278,269,261,505,245,475,231,449,437,213,415,405,395,193,377,369,361,353,345,169,331,325,319,313,307,301,37,145,285,281,69,271,267,263,259,509,501,493,243,479,118,465,459,113,446,55,435,429,423,209,413,51,403,199,393,97,3,379,375,371,367,363,359,355,351,347,43,85,337,333,165,327,323,5,317,157,311,77,305,303,75,297,294,73,289,287,71,141,279,277,275,68,135,67,133,33,262,260,129,511,507,503,499,495,491,61,121,481,477,237,235,467,232,115,457,227,451,7,445,221,439,218,433,215,427,425,211,419,417,207,411,409,203,202,401,399,396,197,49,389,387,385,383,95,189,47,187,93,185,23,183,91,181,45,179,89,177,11,175,87,173,345,343,341,339,337,21,167,83,331,329,327,163,81,323,321,319,159,79,315,313,39,155,309,307,153,305,303,151,75,299,149,37,295,147,73,291,145,289,287,143,285,71,141,281,35,279,139,69,275,137,273,17,271,135,269,267,133,265,33,263,131,261,130,259,129,257,1],zo.SHG_TABLE=[0,9,10,11,9,12,10,11,12,9,13,13,10,9,13,13,14,14,14,14,10,13,14,14,14,13,13,13,9,14,14,14,15,14,15,14,15,15,14,15,15,15,14,15,15,15,15,15,14,15,15,15,15,15,15,12,14,15,15,13,15,15,15,15,16,16,16,15,16,14,16,16,14,16,13,16,16,16,15,16,13,16,15,16,14,9,16,16,16,16,16,16,16,16,16,13,14,16,16,15,16,16,10,16,15,16,14,16,16,14,16,16,14,16,16,14,15,16,16,16,14,15,14,15,13,16,16,15,17,17,17,17,17,17,14,15,17,17,16,16,17,16,15,17,16,17,11,17,16,17,16,17,16,17,17,16,17,17,16,17,17,16,16,17,17,17,16,14,17,17,17,17,15,16,14,16,15,16,13,16,15,16,14,16,15,16,12,16,15,16,17,17,17,17,17,13,16,15,17,17,17,16,15,17,17,17,16,15,17,17,14,16,17,17,16,17,17,16,15,17,16,14,17,16,15,17,16,17,17,16,17,15,16,17,14,17,16,15,17,16,17,13,17,16,17,17,16,17,14,17,16,17,16,17,16,17,9],Qo.minCodePoint=0,Qo.maxCodePoint=1114111,Qo.minHighSurrogate=55296,Qo.maxHighSurrogate=56319,Qo.minLowSurrogate=56320,Qo.maxLowSurrogate=57343,Wl.DEPTH_BUFFER_BIT=256,Wl.STENCIL_BUFFER_BIT=1024,Wl.COLOR_BUFFER_BIT=16384,Wl.POINTS=0,Wl.LINES=1,Wl.LINE_LOOP=2,Wl.LINE_STRIP=3,Wl.TRIANGLES=4,Wl.TRIANGLE_STRIP=5,Wl.TRIANGLE_FAN=6,Wl.ZERO=0,Wl.ONE=1,Wl.SRC_COLOR=768,Wl.ONE_MINUS_SRC_COLOR=769,Wl.SRC_ALPHA=770,Wl.ONE_MINUS_SRC_ALPHA=771,Wl.DST_ALPHA=772,Wl.ONE_MINUS_DST_ALPHA=773,Wl.DST_COLOR=774,Wl.ONE_MINUS_DST_COLOR=775,Wl.SRC_ALPHA_SATURATE=776,Wl.FUNC_ADD=32774,Wl.BLEND_EQUATION=32777,Wl.BLEND_EQUATION_RGB=32777,Wl.BLEND_EQUATION_ALPHA=34877,Wl.FUNC_SUBTRACT=32778,Wl.FUNC_REVERSE_SUBTRACT=32779,Wl.BLEND_DST_RGB=32968,Wl.BLEND_SRC_RGB=32969,Wl.BLEND_DST_ALPHA=32970,Wl.BLEND_SRC_ALPHA=32971,Wl.CONSTANT_COLOR=32769,Wl.ONE_MINUS_CONSTANT_COLOR=32770,Wl.CONSTANT_ALPHA=32771,Wl.ONE_MINUS_CONSTANT_ALPHA=32772,Wl.BLEND_COLOR=32773,Wl.ARRAY_BUFFER=34962,Wl.ELEMENT_ARRAY_BUFFER=34963,Wl.ARRAY_BUFFER_BINDING=34964,Wl.ELEMENT_ARRAY_BUFFER_BINDING=34965,Wl.STREAM_DRAW=35040,Wl.STATIC_DRAW=35044,Wl.DYNAMIC_DRAW=35048,Wl.BUFFER_SIZE=34660,Wl.BUFFER_USAGE=34661,Wl.CURRENT_VERTEX_ATTRIB=34342,Wl.FRONT=1028,Wl.BACK=1029,Wl.FRONT_AND_BACK=1032,Wl.CULL_FACE=2884,Wl.BLEND=3042,Wl.DITHER=3024,Wl.STENCIL_TEST=2960,Wl.DEPTH_TEST=2929,Wl.SCISSOR_TEST=3089,Wl.POLYGON_OFFSET_FILL=32823,Wl.SAMPLE_ALPHA_TO_COVERAGE=32926,Wl.SAMPLE_COVERAGE=32928,Wl.NO_ERROR=0,Wl.INVALID_ENUM=1280,Wl.INVALID_VALUE=1281,Wl.INVALID_OPERATION=1282,Wl.OUT_OF_MEMORY=1285,Wl.CW=2304,Wl.CCW=2305,Wl.LINE_WIDTH=2849,Wl.ALIASED_POINT_SIZE_RANGE=33901,Wl.ALIASED_LINE_WIDTH_RANGE=33902,Wl.CULL_FACE_MODE=2885,Wl.FRONT_FACE=2886,Wl.DEPTH_RANGE=2928,Wl.DEPTH_WRITEMASK=2930,Wl.DEPTH_CLEAR_VALUE=2931,Wl.DEPTH_FUNC=2932,Wl.STENCIL_CLEAR_VALUE=2961,Wl.STENCIL_FUNC=2962,Wl.STENCIL_FAIL=2964,Wl.STENCIL_PASS_DEPTH_FAIL=2965,Wl.STENCIL_PASS_DEPTH_PASS=2966,Wl.STENCIL_REF=2967,Wl.STENCIL_VALUE_MASK=2963,Wl.STENCIL_WRITEMASK=2968,Wl.STENCIL_BACK_FUNC=34816,Wl.STENCIL_BACK_FAIL=34817,Wl.STENCIL_BACK_PASS_DEPTH_FAIL=34818,Wl.STENCIL_BACK_PASS_DEPTH_PASS=34819,Wl.STENCIL_BACK_REF=36003;Wl.STENCIL_BACK_VALUE_MASK=36004,Wl.STENCIL_BACK_WRITEMASK=36005,Wl.VIEWPORT=2978,Wl.SCISSOR_BOX=3088,Wl.COLOR_CLEAR_VALUE=3106,Wl.COLOR_WRITEMASK=3107,Wl.UNPACK_ALIGNMENT=3317,Wl.PACK_ALIGNMENT=3333,Wl.MAX_TEXTURE_SIZE=3379,Wl.MAX_VIEWPORT_DIMS=3386,Wl.SUBPIXEL_BITS=3408,Wl.RED_BITS=3410,Wl.GREEN_BITS=3411,Wl.BLUE_BITS=3412,Wl.ALPHA_BITS=3413,Wl.DEPTH_BITS=3414,Wl.STENCIL_BITS=3415,Wl.POLYGON_OFFSET_UNITS=10752,Wl.POLYGON_OFFSET_FACTOR=32824,Wl.TEXTURE_BINDING_2D=32873,Wl.SAMPLE_BUFFERS=32936,Wl.SAMPLES=32937,Wl.SAMPLE_COVERAGE_VALUE=32938,Wl.SAMPLE_COVERAGE_INVERT=32939,Wl.NUM_COMPRESSED_TEXTURE_FORMATS=34466,Wl.COMPRESSED_TEXTURE_FORMATS=34467,Wl.DONT_CARE=4352,Wl.FASTEST=4353,Wl.NICEST=4354,Wl.GENERATE_MIPMAP_HINT=33170,Wl.BYTE=5120,Wl.UNSIGNED_BYTE=5121,Wl.SHORT=5122,Wl.UNSIGNED_SHORT=5123,Wl.INT=5124,Wl.UNSIGNED_INT=5125,Wl.FLOAT=5126,Wl.DEPTH_COMPONENT=6402,Wl.ALPHA=6406,Wl.RGB=6407,Wl.RGBA=6408,Wl.LUMINANCE=6409,Wl.LUMINANCE_ALPHA=6410,Wl.UNSIGNED_SHORT_4_4_4_4=32819,Wl.UNSIGNED_SHORT_5_5_5_1=32820,Wl.UNSIGNED_SHORT_5_6_5=33635,Wl.FRAGMENT_SHADER=35632,Wl.VERTEX_SHADER=35633,Wl.MAX_VERTEX_ATTRIBS=34921,Wl.MAX_VERTEX_UNIFORM_VECTORS=36347,Wl.MAX_VARYING_VECTORS=36348,Wl.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661,Wl.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660,Wl.MAX_TEXTURE_IMAGE_UNITS=34930,Wl.MAX_FRAGMENT_UNIFORM_VECTORS=36349,Wl.SHADER_TYPE=35663,Wl.DELETE_STATUS=35712,Wl.LINK_STATUS=35714,Wl.VALIDATE_STATUS=35715,Wl.ATTACHED_SHADERS=35717,Wl.ACTIVE_UNIFORMS=35718,Wl.ACTIVE_ATTRIBUTES=35721,Wl.SHADING_LANGUAGE_VERSION=35724,Wl.CURRENT_PROGRAM=35725,Wl.NEVER=512,Wl.LESS=513,Wl.EQUAL=514,Wl.LEQUAL=515,Wl.GREATER=516,Wl.NOTEQUAL=517,Wl.GEQUAL=518,Wl.ALWAYS=519,Wl.KEEP=7680,Wl.REPLACE=7681,Wl.INCR=7682,Wl.DECR=7683,Wl.INVERT=5386,Wl.INCR_WRAP=34055,Wl.DECR_WRAP=34056,Wl.VENDOR=7936,Wl.RENDERER=7937,Wl.VERSION=7938,Wl.EXTENSIONS=7939,Wl.NEAREST=9728,Wl.LINEAR=9729,Wl.NEAREST_MIPMAP_NEAREST=9984,Wl.LINEAR_MIPMAP_NEAREST=9985,Wl.NEAREST_MIPMAP_LINEAR=9986,Wl.LINEAR_MIPMAP_LINEAR=9987,Wl.TEXTURE_MAG_FILTER=10240,Wl.TEXTURE_MIN_FILTER=10241,Wl.TEXTURE_WRAP_S=10242,Wl.TEXTURE_WRAP_T=10243,Wl.TEXTURE_2D=3553,Wl.TEXTURE=5890,Wl.TEXTURE_CUBE_MAP=34067,Wl.TEXTURE_BINDING_CUBE_MAP=34068,Wl.TEXTURE_CUBE_MAP_POSITIVE_X=34069,Wl.TEXTURE_CUBE_MAP_NEGATIVE_X=34070,Wl.TEXTURE_CUBE_MAP_POSITIVE_Y=34071,Wl.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072,Wl.TEXTURE_CUBE_MAP_POSITIVE_Z=34073,Wl.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074,Wl.MAX_CUBE_MAP_TEXTURE_SIZE=34076,Wl.TEXTURE0=33984,Wl.TEXTURE1=33985,Wl.TEXTURE2=33986,Wl.TEXTURE3=33987,Wl.TEXTURE4=33988,Wl.TEXTURE5=33989,Wl.TEXTURE6=33990,Wl.TEXTURE7=33991,Wl.TEXTURE8=33992,Wl.TEXTURE9=33993,Wl.TEXTURE10=33994,Wl.TEXTURE11=33995,Wl.TEXTURE12=33996,Wl.TEXTURE13=33997,Wl.TEXTURE14=33998,Wl.TEXTURE15=33999,Wl.TEXTURE16=34e3,Wl.TEXTURE17=34001,Wl.TEXTURE18=34002,Wl.TEXTURE19=34003,Wl.TEXTURE20=34004,Wl.TEXTURE21=34005,Wl.TEXTURE22=34006,Wl.TEXTURE23=34007,Wl.TEXTURE24=34008,Wl.TEXTURE25=34009,Wl.TEXTURE26=34010,Wl.TEXTURE27=34011,Wl.TEXTURE28=34012,Wl.TEXTURE29=34013,Wl.TEXTURE30=34014,Wl.TEXTURE31=34015,Wl.ACTIVE_TEXTURE=34016,Wl.REPEAT=10497,Wl.CLAMP_TO_EDGE=33071,Wl.MIRRORED_REPEAT=33648,Wl.FLOAT_VEC2=35664,Wl.FLOAT_VEC3=35665,Wl.FLOAT_VEC4=35666,Wl.INT_VEC2=35667,Wl.INT_VEC3=35668,Wl.INT_VEC4=35669,Wl.BOOL=35670,Wl.BOOL_VEC2=35671,Wl.BOOL_VEC3=35672,Wl.BOOL_VEC4=35673,Wl.FLOAT_MAT2=35674,Wl.FLOAT_MAT3=35675,Wl.FLOAT_MAT4=35676,Wl.SAMPLER_2D=35678,Wl.SAMPLER_CUBE=35680,Wl.VERTEX_ATTRIB_ARRAY_ENABLED=34338,Wl.VERTEX_ATTRIB_ARRAY_SIZE=34339,Wl.VERTEX_ATTRIB_ARRAY_STRIDE=34340,Wl.VERTEX_ATTRIB_ARRAY_TYPE=34341,Wl.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922,Wl.VERTEX_ATTRIB_ARRAY_POINTER=34373,Wl.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975,Wl.IMPLEMENTATION_COLOR_READ_TYPE=35738,Wl.IMPLEMENTATION_COLOR_READ_FORMAT=35739,Wl.VERTEX_PROGRAM_POINT_SIZE=34370,Wl.POINT_SPRITE=34913,Wl.COMPILE_STATUS=35713,Wl.LOW_FLOAT=36336,Wl.MEDIUM_FLOAT=36337,Wl.HIGH_FLOAT=36338,Wl.LOW_INT=36339,Wl.MEDIUM_INT=36340,Wl.HIGH_INT=36341,Wl.FRAMEBUFFER=36160,Wl.RENDERBUFFER=36161,Wl.RGBA4=32854,Wl.RGB5_A1=32855,Wl.RGB565=36194,Wl.DEPTH_COMPONENT16=33189,Wl.STENCIL_INDEX=6401,Wl.STENCIL_INDEX8=36168,Wl.DEPTH_STENCIL=34041,Wl.RENDERBUFFER_WIDTH=36162,Wl.RENDERBUFFER_HEIGHT=36163,Wl.RENDERBUFFER_INTERNAL_FORMAT=36164,Wl.RENDERBUFFER_RED_SIZE=36176,Wl.RENDERBUFFER_GREEN_SIZE=36177,Wl.RENDERBUFFER_BLUE_SIZE=36178,Wl.RENDERBUFFER_ALPHA_SIZE=36179,Wl.RENDERBUFFER_DEPTH_SIZE=36180,Wl.RENDERBUFFER_STENCIL_SIZE=36181,Wl.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048,Wl.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049,Wl.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050,Wl.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051,Wl.COLOR_ATTACHMENT0=36064,Wl.DEPTH_ATTACHMENT=36096,Wl.STENCIL_ATTACHMENT=36128,Wl.DEPTH_STENCIL_ATTACHMENT=33306,Wl.NONE=0,Wl.FRAMEBUFFER_COMPLETE=36053,Wl.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054,Wl.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055,Wl.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057,Wl.FRAMEBUFFER_UNSUPPORTED=36061,Wl.FRAMEBUFFER_BINDING=36006,Wl.RENDERBUFFER_BINDING=36007,Wl.MAX_RENDERBUFFER_SIZE=34024,Wl.INVALID_FRAMEBUFFER_OPERATION=1286,Wl.UNPACK_FLIP_Y_WEBGL=37440,Wl.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441,Wl.CONTEXT_LOST_WEBGL=37442,Wl.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443,Wl.BROWSER_DEFAULT_WEBGL=37444,Wl.READ_BUFFER=3074,Wl.UNPACK_ROW_LENGTH=3314,Wl.UNPACK_SKIP_ROWS=3315,Wl.UNPACK_SKIP_PIXELS=3316,Wl.PACK_ROW_LENGTH=3330,Wl.PACK_SKIP_ROWS=3331,Wl.PACK_SKIP_PIXELS=3332,Wl.TEXTURE_BINDING_3D=32874,Wl.UNPACK_SKIP_IMAGES=32877,Wl.UNPACK_IMAGE_HEIGHT=32878,Wl.MAX_3D_TEXTURE_SIZE=32883,Wl.MAX_ELEMENTS_VERTICES=33e3,Wl.MAX_ELEMENTS_INDICES=33001,Wl.MAX_TEXTURE_LOD_BIAS=34045,Wl.MAX_FRAGMENT_UNIFORM_COMPONENTS=35657,Wl.MAX_VERTEX_UNIFORM_COMPONENTS=35658,Wl.MAX_ARRAY_TEXTURE_LAYERS=35071,Wl.MIN_PROGRAM_TEXEL_OFFSET=35076,Wl.MAX_PROGRAM_TEXEL_OFFSET=35077,Wl.MAX_VARYING_COMPONENTS=35659,Wl.FRAGMENT_SHADER_DERIVATIVE_HINT=35723,Wl.RASTERIZER_DISCARD=35977,Wl.VERTEX_ARRAY_BINDING=34229,Wl.MAX_VERTEX_OUTPUT_COMPONENTS=37154,Wl.MAX_FRAGMENT_INPUT_COMPONENTS=37157,Wl.MAX_SERVER_WAIT_TIMEOUT=37137,Wl.MAX_ELEMENT_INDEX=36203,Wl.RED=6403,Wl.RGB8=32849,Wl.RGBA8=32856,Wl.RGB10_A2=32857,Wl.TEXTURE_3D=32879,Wl.TEXTURE_WRAP_R=32882,Wl.TEXTURE_MIN_LOD=33082,Wl.TEXTURE_MAX_LOD=33083,Wl.TEXTURE_BASE_LEVEL=33084,Wl.TEXTURE_MAX_LEVEL=33085,Wl.TEXTURE_COMPARE_MODE=34892,Wl.TEXTURE_COMPARE_FUNC=34893,Wl.SRGB=35904,Wl.SRGB8=35905,Wl.SRGB8_ALPHA8=35907,Wl.COMPARE_REF_TO_TEXTURE=34894,Wl.RGBA32F=34836,Wl.RGB32F=34837,Wl.RGBA16F=34842,Wl.RGB16F=34843,Wl.TEXTURE_2D_ARRAY=35866,Wl.TEXTURE_BINDING_2D_ARRAY=35869,Wl.R11F_G11F_B10F=35898,Wl.RGB9_E5=35901,Wl.RGBA32UI=36208,Wl.RGB32UI=36209,Wl.RGBA16UI=36214,Wl.RGB16UI=36215,Wl.RGBA8UI=36220,Wl.RGB8UI=36221,Wl.RGBA32I=36226,Wl.RGB32I=36227,Wl.RGBA16I=36232,Wl.RGB16I=36233,Wl.RGBA8I=36238,Wl.RGB8I=36239,Wl.RED_INTEGER=36244,Wl.RGB_INTEGER=36248,Wl.RGBA_INTEGER=36249,Wl.R8=33321,Wl.RG8=33323,Wl.R16F=33325,Wl.R32F=33326,Wl.RG16F=33327,Wl.RG32F=33328,Wl.R8I=33329,Wl.R8UI=33330,Wl.R16I=33331,Wl.R16UI=33332,Wl.R32I=33333,Wl.R32UI=33334,Wl.RG8I=33335,Wl.RG8UI=33336,Wl.RG16I=33337,Wl.RG16UI=33338,Wl.RG32I=33339,Wl.RG32UI=33340,Wl.R8_SNORM=36756,Wl.RG8_SNORM=36757,Wl.RGB8_SNORM=36758,Wl.RGBA8_SNORM=36759,Wl.RGB10_A2UI=36975,Wl.TEXTURE_IMMUTABLE_FORMAT=37167,Wl.TEXTURE_IMMUTABLE_LEVELS=33503,Wl.UNSIGNED_INT_2_10_10_10_REV=33640,Wl.UNSIGNED_INT_10F_11F_11F_REV=35899,Wl.UNSIGNED_INT_5_9_9_9_REV=35902,Wl.FLOAT_32_UNSIGNED_INT_24_8_REV=36269,Wl.UNSIGNED_INT_24_8=34042,Wl.HALF_FLOAT=5131,Wl.RG=33319,Wl.RG_INTEGER=33320,Wl.INT_2_10_10_10_REV=36255,Wl.CURRENT_QUERY=34917,Wl.QUERY_RESULT=34918,Wl.QUERY_RESULT_AVAILABLE=34919,Wl.ANY_SAMPLES_PASSED=35887,Wl.ANY_SAMPLES_PASSED_CONSERVATIVE=36202,Wl.MAX_DRAW_BUFFERS=34852,Wl.DRAW_BUFFER0=34853,Wl.DRAW_BUFFER1=34854,Wl.DRAW_BUFFER2=34855,Wl.DRAW_BUFFER3=34856,Wl.DRAW_BUFFER4=34857,Wl.DRAW_BUFFER5=34858,Wl.DRAW_BUFFER6=34859,Wl.DRAW_BUFFER7=34860,Wl.DRAW_BUFFER8=34861,Wl.DRAW_BUFFER9=34862,Wl.DRAW_BUFFER10=34863,Wl.DRAW_BUFFER11=34864,Wl.DRAW_BUFFER12=34865,Wl.DRAW_BUFFER13=34866,Wl.DRAW_BUFFER14=34867,Wl.DRAW_BUFFER15=34868,Wl.MAX_COLOR_ATTACHMENTS=36063,Wl.COLOR_ATTACHMENT1=36065,Wl.COLOR_ATTACHMENT2=36066,Wl.COLOR_ATTACHMENT3=36067,Wl.COLOR_ATTACHMENT4=36068,Wl.COLOR_ATTACHMENT5=36069,Wl.COLOR_ATTACHMENT6=36070,Wl.COLOR_ATTACHMENT7=36071,Wl.COLOR_ATTACHMENT8=36072,Wl.COLOR_ATTACHMENT9=36073,Wl.COLOR_ATTACHMENT10=36074,Wl.COLOR_ATTACHMENT11=36075,Wl.COLOR_ATTACHMENT12=36076,Wl.COLOR_ATTACHMENT13=36077,Wl.COLOR_ATTACHMENT14=36078,Wl.COLOR_ATTACHMENT15=36079,Wl.SAMPLER_3D=35679,Wl.SAMPLER_2D_SHADOW=35682,Wl.SAMPLER_2D_ARRAY=36289,Wl.SAMPLER_2D_ARRAY_SHADOW=36292,Wl.SAMPLER_CUBE_SHADOW=36293,Wl.INT_SAMPLER_2D=36298,Wl.INT_SAMPLER_3D=36299,Wl.INT_SAMPLER_CUBE=36300,Wl.INT_SAMPLER_2D_ARRAY=36303,Wl.UNSIGNED_INT_SAMPLER_2D=36306,Wl.UNSIGNED_INT_SAMPLER_3D=36307,Wl.UNSIGNED_INT_SAMPLER_CUBE=36308,Wl.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311,Wl.MAX_SAMPLES=36183,Wl.SAMPLER_BINDING=35097,Wl.PIXEL_PACK_BUFFER=35051,Wl.PIXEL_UNPACK_BUFFER=35052,Wl.PIXEL_PACK_BUFFER_BINDING=35053,Wl.PIXEL_UNPACK_BUFFER_BINDING=35055,Wl.COPY_READ_BUFFER=36662,Wl.COPY_WRITE_BUFFER=36663,Wl.COPY_READ_BUFFER_BINDING=36662,Wl.COPY_WRITE_BUFFER_BINDING=36663,Wl.FLOAT_MAT2x3=35685,Wl.FLOAT_MAT2x4=35686,Wl.FLOAT_MAT3x2=35687,Wl.FLOAT_MAT3x4=35688,Wl.FLOAT_MAT4x2=35689,Wl.FLOAT_MAT4x3=35690,Wl.UNSIGNED_INT_VEC2=36294,Wl.UNSIGNED_INT_VEC3=36295,Wl.UNSIGNED_INT_VEC4=36296,Wl.UNSIGNED_NORMALIZED=35863,Wl.SIGNED_NORMALIZED=36764,Wl.VERTEX_ATTRIB_ARRAY_INTEGER=35069,Wl.VERTEX_ATTRIB_ARRAY_DIVISOR=35070,Wl.TRANSFORM_FEEDBACK_BUFFER_MODE=35967,Wl.MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS=35968,Wl.TRANSFORM_FEEDBACK_VARYINGS=35971,Wl.TRANSFORM_FEEDBACK_BUFFER_START=35972,Wl.TRANSFORM_FEEDBACK_BUFFER_SIZE=35973,Wl.TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN=35976,Wl.MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS=35978,Wl.MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS=35979,Wl.INTERLEAVED_ATTRIBS=35980,Wl.SEPARATE_ATTRIBS=35981,Wl.TRANSFORM_FEEDBACK_BUFFER=35982,Wl.TRANSFORM_FEEDBACK_BUFFER_BINDING=35983,Wl.TRANSFORM_FEEDBACK=36386,Wl.TRANSFORM_FEEDBACK_PAUSED=36387,Wl.TRANSFORM_FEEDBACK_ACTIVE=36388,Wl.TRANSFORM_FEEDBACK_BINDING=36389,Wl.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING=33296,Wl.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE=33297,Wl.FRAMEBUFFER_ATTACHMENT_RED_SIZE=33298,Wl.FRAMEBUFFER_ATTACHMENT_GREEN_SIZE=33299,Wl.FRAMEBUFFER_ATTACHMENT_BLUE_SIZE=33300,Wl.FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE=33301,Wl.FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE=33302,Wl.FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE=33303,Wl.FRAMEBUFFER_DEFAULT=33304,Wl.DEPTH24_STENCIL8=35056,Wl.DRAW_FRAMEBUFFER_BINDING=36006,Wl.READ_FRAMEBUFFER=36008,Wl.DRAW_FRAMEBUFFER=36009,Wl.READ_FRAMEBUFFER_BINDING=36010,Wl.RENDERBUFFER_SAMPLES=36011,Wl.FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER=36052,Wl.FRAMEBUFFER_INCOMPLETE_MULTISAMPLE=36182,Wl.UNIFORM_BUFFER=35345,Wl.UNIFORM_BUFFER_BINDING=35368,Wl.UNIFORM_BUFFER_START=35369,Wl.UNIFORM_BUFFER_SIZE=35370,Wl.MAX_VERTEX_UNIFORM_BLOCKS=35371,Wl.MAX_FRAGMENT_UNIFORM_BLOCKS=35373,Wl.MAX_COMBINED_UNIFORM_BLOCKS=35374,Wl.MAX_UNIFORM_BUFFER_BINDINGS=35375,Wl.MAX_UNIFORM_BLOCK_SIZE=35376,Wl.MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS=35377,Wl.MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS=35379,Wl.UNIFORM_BUFFER_OFFSET_ALIGNMENT=35380,Wl.ACTIVE_UNIFORM_BLOCKS=35382,Wl.UNIFORM_TYPE=35383,Wl.UNIFORM_SIZE=35384,Wl.UNIFORM_BLOCK_INDEX=35386,Wl.UNIFORM_OFFSET=35387,Wl.UNIFORM_ARRAY_STRIDE=35388,Wl.UNIFORM_MATRIX_STRIDE=35389,Wl.UNIFORM_IS_ROW_MAJOR=35390,Wl.UNIFORM_BLOCK_BINDING=35391,Wl.UNIFORM_BLOCK_DATA_SIZE=35392,Wl.UNIFORM_BLOCK_ACTIVE_UNIFORMS=35394,Wl.UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES=35395,Wl.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER=35396,Wl.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER=35398,Wl.OBJECT_TYPE=37138,Wl.SYNC_CONDITION=37139,Wl.SYNC_STATUS=37140,Wl.SYNC_FLAGS=37141,Wl.SYNC_FENCE=37142,Wl.SYNC_GPU_COMMANDS_COMPLETE=37143,Wl.UNSIGNALED=37144,Wl.SIGNALED=37145,Wl.ALREADY_SIGNALED=37146,Wl.TIMEOUT_EXPIRED=37147,Wl.CONDITION_SATISFIED=37148,Wl.WAIT_FAILED=37149,Wl.SYNC_FLUSH_COMMANDS_BIT=1,Wl.COLOR=6144,Wl.DEPTH=6145,Wl.STENCIL=6146,Wl.MIN=32775,Wl.MAX=32776,Wl.DEPTH_COMPONENT24=33190,Wl.STREAM_READ=35041,Wl.STREAM_COPY=35042,Wl.STATIC_READ=35045,Wl.STATIC_COPY=35046,Wl.DYNAMIC_READ=35049,Wl.DYNAMIC_COPY=35050,Wl.DEPTH_COMPONENT32F=36012,Wl.DEPTH32F_STENCIL8=36013,Wl.INVALID_INDEX=-1,Wl.TIMEOUT_IGNORED=-1,Wl.MAX_CLIENT_WAIT_TIMEOUT_WEBGL=37447,Yl.__identity=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],jl.__identity=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],rh.NONE=0,rh.FALSE=0,rh.TRUE=1,rh.SOURCE_RELATIVE=514,rh.CONE_INNER_ANGLE=4097,rh.CONE_OUTER_ANGLE=4098,rh.PITCH=4099,rh.POSITION=4100,rh.DIRECTION=4101,rh.VELOCITY=4102,rh.LOOPING=4103,rh.BUFFER=4105,rh.GAIN=4106,rh.MIN_GAIN=4109,rh.MAX_GAIN=4110,rh.ORIENTATION=4111,rh.SOURCE_STATE=4112,rh.INITIAL=4113,rh.PLAYING=4114,rh.PAUSED=4115,rh.STOPPED=4116,rh.BUFFERS_QUEUED=4117,rh.BUFFERS_PROCESSED=4118,rh.REFERENCE_DISTANCE=4128,rh.ROLLOFF_FACTOR=4129,rh.CONE_OUTER_GAIN=4130,rh.MAX_DISTANCE=4131,rh.SEC_OFFSET=4132,rh.SAMPLE_OFFSET=4133,rh.BYTE_OFFSET=4134,rh.SOURCE_TYPE=4135,rh.STATIC=4136,rh.STREAMING=4137,rh.UNDETERMINED=4144,rh.FORMAT_MONO8=4352,rh.FORMAT_MONO16=4353,rh.FORMAT_STEREO8=4354,rh.FORMAT_STEREO16=4355,rh.FREQUENCY=8193,rh.BITS=8194,rh.CHANNELS=8195,rh.SIZE=8196,rh.NO_ERROR=0,rh.INVALID_NAME=40961,rh.INVALID_ENUM=40962,rh.INVALID_VALUE=40963,rh.INVALID_OPERATION=40964,rh.OUT_OF_MEMORY=40965,rh.VENDOR=45057,rh.VERSION=45058,rh.RENDERER=45059,rh.EXTENSIONS=45060,rh.DOPPLER_FACTOR=49152,rh.SPEED_OF_SOUND=49155,rh.DOPPLER_VELOCITY=49153,rh.DISTANCE_MODEL=53248,rh.INVERSE_DISTANCE=53249,rh.INVERSE_DISTANCE_CLAMPED=53250,rh.LINEAR_DISTANCE=53251,rh.LINEAR_DISTANCE_CLAMPED=53252,rh.EXPONENT_DISTANCE=53253,rh.EXPONENT_DISTANCE_CLAMPED=53254,rh.METERS_PER_UNIT=131076,rh.DIRECT_FILTER=131077,rh.AUXILIARY_SEND_FILTER=131078,rh.AIR_ABSORPTION_FACTOR=131079,rh.ROOM_ROLLOFF_FACTOR=131080,rh.CONE_OUTER_GAINHF=131081,rh.DIRECT_FILTER_GAINHF_AUTO=131082,rh.AUXILIARY_SEND_FILTER_GAIN_AUTO=131083,rh.AUXILIARY_SEND_FILTER_GAINHF_AUTO=131084,rh.REVERB_DENSITY=1,rh.REVERB_DIFFUSION=2,rh.REVERB_GAIN=3,rh.REVERB_GAINHF=4,rh.REVERB_DECAY_TIME=5,rh.REVERB_DECAY_HFRATIO=6,rh.REVERB_REFLECTIONS_GAIN=7,rh.REVERB_REFLECTIONS_DELAY=8,rh.REVERB_LATE_REVERB_GAIN=9,rh.REVERB_LATE_REVERB_DELAY=10,rh.REVERB_AIR_ABSORPTION_GAINHF=11,rh.REVERB_ROOM_ROLLOFF_FACTOR=12,rh.REVERB_DECAY_HFLIMIT=13,rh.EAXREVERB_DENSITY=1,rh.EAXREVERB_DIFFUSION=2,rh.EAXREVERB_GAIN=3,rh.EAXREVERB_GAINHF=4,rh.EAXREVERB_GAINLF=5,rh.EAXREVERB_DECAY_TIME=6,rh.EAXREVERB_DECAY_HFRATIO=7,rh.EAXREVERB_DECAY_LFRATIO=8,rh.EAXREVERB_REFLECTIONS_GAIN=9,rh.EAXREVERB_REFLECTIONS_DELAY=10,rh.EAXREVERB_REFLECTIONS_PAN=11,rh.EAXREVERB_LATE_REVERB_GAIN=12,rh.EAXREVERB_LATE_REVERB_DELAY=13,rh.EAXREVERB_LATE_REVERB_PAN=14,rh.EAXREVERB_ECHO_TIME=15,rh.EAXREVERB_ECHO_DEPTH=16,rh.EAXREVERB_MODULATION_TIME=17,rh.EAXREVERB_MODULATION_DEPTH=18,rh.EAXREVERB_AIR_ABSORPTION_GAINHF=19,rh.EAXREVERB_HFREFERENCE=20,rh.EAXREVERB_LFREFERENCE=21,rh.EAXREVERB_ROOM_ROLLOFF_FACTOR=22,rh.EAXREVERB_DECAY_HFLIMIT=23,rh.CHORUS_WAVEFORM=1,rh.CHORUS_PHASE=2,rh.CHORUS_RATE=3,rh.CHORUS_DEPTH=4,rh.CHORUS_FEEDBACK=5,rh.CHORUS_DELAY=6,rh.DISTORTION_EDGE=1,rh.DISTORTION_GAIN=2,rh.DISTORTION_LOWPASS_CUTOFF=3,rh.DISTORTION_EQCENTER=4,rh.DISTORTION_EQBANDWIDTH=5,rh.ECHO_DELAY=1,rh.ECHO_LRDELAY=2,rh.ECHO_DAMPING=3,rh.ECHO_FEEDBACK=4,rh.ECHO_SPREAD=5,rh.FLANGER_WAVEFORM=1,rh.FLANGER_PHASE=2,rh.FLANGER_RATE=3,rh.FLANGER_DEPTH=4,rh.FLANGER_FEEDBACK=5,rh.FLANGER_DELAY=6,rh.FREQUENCY_SHIFTER_FREQUENCY=1,rh.FREQUENCY_SHIFTER_LEFT_DIRECTION=2,rh.FREQUENCY_SHIFTER_RIGHT_DIRECTION=3,rh.VOCAL_MORPHER_PHONEMEA=1,rh.VOCAL_MORPHER_PHONEMEA_COARSE_TUNING=2,rh.VOCAL_MORPHER_PHONEMEB=3,rh.VOCAL_MORPHER_PHONEMEB_COARSE_TUNING=4,rh.VOCAL_MORPHER_WAVEFORM=5,rh.VOCAL_MORPHER_RATE=6,rh.PITCH_SHIFTER_COARSE_TUNE=1,rh.PITCH_SHIFTER_FINE_TUNE=2,rh.RING_MODULATOR_FREQUENCY=1,rh.RING_MODULATOR_HIGHPASS_CUTOFF=2,rh.RING_MODULATOR_WAVEFORM=3,rh.AUTOWAH_ATTACK_TIME=1,rh.AUTOWAH_RELEASE_TIME=2,rh.AUTOWAH_RESONANCE=3,rh.AUTOWAH_PEAK_GAIN=4,rh.COMPRESSOR_ONOFF=1,rh.EQUALIZER_LOW_GAIN=1,rh.EQUALIZER_LOW_CUTOFF=2,rh.EQUALIZER_MID1_GAIN=3,rh.EQUALIZER_MID1_CENTER=4,rh.EQUALIZER_MID1_WIDTH=5,rh.EQUALIZER_MID2_GAIN=6,rh.EQUALIZER_MID2_CENTER=7,rh.EQUALIZER_MID2_WIDTH=8,rh.EQUALIZER_HIGH_GAIN=9,rh.EQUALIZER_HIGH_CUTOFF=10,rh.EFFECT_FIRST_PARAMETER=0,rh.EFFECT_LAST_PARAMETER=32768,rh.EFFECT_TYPE=32769,rh.EFFECT_NULL=0,rh.EFFECT_EAXREVERB=32768,rh.EFFECT_REVERB=1,rh.EFFECT_CHORUS=2,rh.EFFECT_DISTORTION=3,rh.EFFECT_ECHO=4,rh.EFFECT_FLANGER=5,rh.EFFECT_FREQUENCY_SHIFTER=6,rh.EFFECT_VOCAL_MORPHER=7,rh.EFFECT_PITCH_SHIFTER=8,rh.EFFECT_RING_MODULATOR=9,rh.FFECT_AUTOWAH=10,rh.EFFECT_COMPRESSOR=11,rh.EFFECT_EQUALIZER=12,rh.EFFECTSLOT_EFFECT=1,rh.EFFECTSLOT_GAIN=2,rh.EFFECTSLOT_AUXILIARY_SEND_AUTO=3,rh.LOWPASS_GAIN=1,rh.LOWPASS_GAINHF=2,rh.HIGHPASS_GAIN=1,rh.HIGHPASS_GAINLF=2,rh.BANDPASS_GAIN=1,rh.BANDPASS_GAINLF=2,rh.BANDPASS_GAINHF=3,rh.FILTER_FIRST_PARAMETER=0,rh.FILTER_LAST_PARAMETER=32768,rh.FILTER_TYPE=32769,rh.FILTER_NULL=0,rh.FILTER_LOWPASS=1,rh.FILTER_HIGHPASS=2,rh.FILTER_BANDPASS=3,ah.FALSE=0,ah.TRUE=1,ah.FREQUENCY=4103,ah.REFRESH=4104,ah.SYNC=4105,ah.MONO_SOURCES=4112,ah.STEREO_SOURCES=4113,ah.NO_ERROR=0,ah.INVALID_DEVICE=40961,ah.INVALID_CONTEXT=40962,ah.INVALID_ENUM=40963,ah.INVALID_VALUE=40964,ah.OUT_OF_MEMORY=40965,ah.ATTRIBUTES_SIZE=4098,ah.ALL_ATTRIBUTES=4099,ah.DEFAULT_DEVICE_SPECIFIER=4100,ah.DEVICE_SPECIFIER=4101,ah.EXTENSIONS=4102,ah.ENUMERATE_ALL_EXT=1,ah.DEFAULT_ALL_DEVICES_SPECIFIER=4114,ah.ALL_DEVICES_SPECIFIER=4115,xh.onUpdate=new xl,Ah.alreadyCreated=new pr,Ah.initialized=!1,kh.sensorByID=new fr,kh.sensors=[],Bh.__directories=new fr,jh.devices=new fr,jh.onConnect=new Al,Kh.devices=new fr,Kh.onConnect=new Tl,Jh.NONE=0,Jh.LEFT_SHIFT=1,Jh.RIGHT_SHIFT=2,Jh.LEFT_CTRL=64,Jh.RIGHT_CTRL=128,Jh.LEFT_ALT=256,Jh.RIGHT_ALT=512,Jh.LEFT_META=1024,Jh.RIGHT_META=2048,Jh.NUM_LOCK=4096,Jh.CAPS_LOCK=8192,Jh.MODE=16384,Jh.CTRL=192,Jh.SHIFT=3,Jh.ALT=768,Jh.META=3072,qh.onCancel=new Pl,qh.onEnd=new Pl,qh.onMove=new Pl,qh.onStart=new Pl,r_.cache=new i_,r_.onChange=new xl,r_.bundlePaths=new pr,r_.libraries=new pr,r_.libraryPaths=new pr,u_.BYTES_PER_ELEMENT=4,d_.throwErrors=!0,x_.VERSION=2,I_.__lastTimerID=0,I_.__sentWarnings=new pr,I_.__timers=new fr,I_.__registeredClassAliases=new pr,E_.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},k_.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},fields:{toJSON:{SuppressWarnings:["checkstyle:Dynamic"]}}},F_.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},fields:{toJSON:{SuppressWarnings:["checkstyle:Dynamic"]},_:{SuppressWarnings:["checkstyle:Dynamic"]}}},B_.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},fields:{toJSON:{SuppressWarnings:["checkstyle:Dynamic"]}}},D_.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},fields:{toJSON:{SuppressWarnings:["checkstyle:Dynamic"]}}},L_.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},fields:{concat:{SuppressWarnings:["checkstyle:Dynamic"]},toJSON:{SuppressWarnings:["checkstyle:Dynamic"]},_:{SuppressWarnings:["checkstyle:Dynamic"]}}},N_.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},O_.__meta__={fields:{image:{SuppressWarnings:["checkstyle:Dynamic"]},__framebufferContext:{SuppressWarnings:["checkstyle:Dynamic"]},__indexBufferContext:{SuppressWarnings:["checkstyle:Dynamic"]},__surface:{SuppressWarnings:["checkstyle:Dynamic"]},__textureContext:{SuppressWarnings:["checkstyle:Dynamic"]},__vertexBufferContext:{SuppressWarnings:["checkstyle:Dynamic"]},compare:{SuppressWarnings:["checkstyle:Dynamic"]},getSurface:{SuppressWarnings:["checkstyle:Dynamic"]},__fromImage:{SuppressWarnings:["checkstyle:Dynamic"]}}},O_.VERTEX_BUFFER_STRIDE=14,O_.__tempVector=new Zl,V_.__meta__={fields:{__context:{SuppressWarnings:["checkstyle:Dynamic"]},__type:{SuppressWarnings:["checkstyle:Dynamic"]}}},G_.__meta__={fields:{cairo:{SuppressWarnings:["checkstyle:Dynamic"]},__matrix3:{SuppressWarnings:["checkstyle:Dynamic"]},applyMatrix:{SuppressWarnings:["checkstyle:Dynamic"]},__setBlendModeCairo:{SuppressWarnings:["checkstyle:Dynamic"]},_:{SuppressWarnings:["checkstyle:Dynamic"]}}},U_.__meta__={fields:{context:{SuppressWarnings:["checkstyle:Dynamic"]},applySmoothing:{SuppressWarnings:["checkstyle:Dynamic"]},setTransform:{SuppressWarnings:["checkstyle:Dynamic"]},__setBlendModeContext:{SuppressWarnings:["checkstyle:Dynamic"]},_:{SuppressWarnings:["checkstyle:Dynamic"]}}},z_.NONE=0,z_.ROUND=1,z_.SQUARE=2,H_.__meta__={fields:{__element:{SuppressWarnings:["checkstyle:Dynamic"]},_:{SuppressWarnings:["checkstyle:Dynamic"]}}},W_.__meta__={fields:{element:{SuppressWarnings:["checkstyle:Dynamic"]},applyStyle:{SuppressWarnings:["checkstyle:Dynamic"]},clearStyle:{SuppressWarnings:["checkstyle:Dynamic"]},_:{SuppressWarnings:["checkstyle:Dynamic"]}}},X_.__meta__={fields:{glProgram:{SuppressWarnings:["checkstyle:Dynamic"]}}},J_.__meta__={fields:{overrideBlendMode:{SuppressWarnings:["checkstyle:FieldDocComment"]}}},ic.SIN45=.7071067811865476,ic.TAN22=.41421356237309503,uc.BEVEL=0,uc.MITER=1,uc.ROUND=2,dc.__meta__={fields:{BitmapData_onError:{SuppressWarnings:["checkstyle:Dynamic"]}}},mc.__meta__={statics:{create:{SuppressWarnings:["checkstyle:FieldDocComment"]}},fields:{parameters:{SuppressWarnings:["checkstyle:Dynamic"]}}},mc.__rootURL=xo.get_supported()?window.document.URL:"",fc.__meta__={fields:{gl:{SuppressWarnings:["checkstyle:Dynamic"]},__gl:{SuppressWarnings:["checkstyle:Dynamic"]},__matrix:{SuppressWarnings:["checkstyle:Dynamic"]},__projection:{SuppressWarnings:["checkstyle:Dynamic"]},__projectionFlipped:{SuppressWarnings:["checkstyle:Dynamic"]},getMatrix:{SuppressWarnings:["checkstyle:Dynamic"]}}},fc.__alphaValue=[1],fc.__colorMultipliersValue=[0,0,0,0],fc.__colorOffsetsValue=[0,0,0,0],fc.__defaultColorMultipliersValue=[1,1,1,1],fc.__emptyColorValue=[0,0,0,0],fc.__emptyAlphaValue=[1],fc.__hasColorTransformValue=[!1],fc.__scissorRectangle=new je,fc.__textureSizeValue=[0,0],yc.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},fields:{onComplete:{SuppressWarnings:["checkstyle:Dynamic"]}}},bc.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},wc.__meta__={fields:{index:{SuppressWarnings:["checkstyle:Dynamic"]},name:{SuppressWarnings:["checkstyle:FieldDocComment"]}}},Sc.__meta__={fields:{index:{SuppressWarnings:["checkstyle:Dynamic"]},name:{SuppressWarnings:["checkstyle:FieldDocComment"]}}},Tc.__meta__={fields:{__broadcastEvent:{SuppressWarnings:["checkstyle:Dynamic"]},__dispatchEvent:{SuppressWarnings:[["checkstyle:Dynamic","checkstyle:LeftCurly"]]},__dispatchStack:{SuppressWarnings:[["checkstyle:Dynamic","checkstyle:LeftCurly"]]},__dispatchTarget:{SuppressWarnings:["checkstyle:Dynamic"]},__handleError:{SuppressWarnings:["checkstyle:Dynamic"]}}},Pc.__meta__={fields:{data:{SuppressWarnings:["checkstyle:Dynamic"]}}},kc.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},Bc.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},fields:{_:{SuppressWarnings:["checkstyle:Dynamic"]}}},Dc.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},Lc.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},Oc.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},Gc.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},Uc.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},Hc.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},Wc.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},statics:{renderTileContainer:{SuppressWarnings:["checkstyle:Dynamic"]}}},Xc.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},jc.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},Jc.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},fields:{o:{SuppressWarnings:["checkstyle:Dynamic"]}}},Jc.empty=new Jc,Zc.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},statics:{windingRule:{SuppressWarnings:["checkstyle:Dynamic"]},createBitmapFill:{SuppressWarnings:["checkstyle:Dynamic"]},createGradientPattern:{SuppressWarnings:["checkstyle:Dynamic"]}}},Zc.SIN45=.7071067811865476,Zc.TAN22=.41421356237309503,Zc.fillCommands=new Jc,Zc.strokeCommands=new Jc,Qc.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},$c.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},tu.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},statics:{renderTileContainer:{SuppressWarnings:["checkstyle:Dynamic"]}}},eu.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}};iu.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},nu.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},nu.MAX_INDEX_BUFFER_LENGTH=65535,nu.MAX_QUADS_PER_INDEX_BUFFER=10922,nu.MAX_QUAD_INDEX_BUFFER_LENGTH=65532,au.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},lu.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},lu.blankBitmapData=new O_(1,1,!1,0),lu.tempColorTransform=new br(1,1,1,1,0,0,0,0),hu.opaqueBitmapData=new O_(1,1,!1,0),_u.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},uu.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},du.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},mu.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},mu.__textureSizeValue=[0,0],pu.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},fu.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},yu.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},vu.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},vu.__regexColor=new _("color=(\"#([^\"]+)\"|'#([^']+)')","i"),vu.__regexFace=new _("face=(\"([^\"]+)\"|'([^']+)')","i"),vu.__regexFont=new _("<font ([^>]+)>","gi"),vu.__regexCloseFont=new _("</font>","gi"),vu.__regexSize=new _("size=(\"([^\"]+)\"|'([^']+)')","i"),xu.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},wu.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},Su.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},fields:{obj:{SuppressWarnings:["checkstyle:Dynamic"]}}},Au.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},Mu.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},Mu.alphaColorTransform=new br,Mu.bitmap=new di,Mu.destPoint=new Ye,Mu.sourceRect=new je,Pu.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},statics:{P:{SuppressWarnings:["checkstyle:ConstantName"]}}},Pu.P=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180,151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],Cu.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},Iu.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},fields:{overrideIntValues:{SuppressWarnings:["checkstyle:Dynamic"]}}},Eu.supportsVideoTexture=!0,Eu.__glDepthStencil=-1,Eu.__glMaxTextureMaxAnisotropy=-1,Eu.__glMaxViewportDims=-1,Eu.__glMemoryCurrentAvailable=-1,Eu.__glMemoryTotalAvailable=-1,Eu.__glTextureMaxAnisotropy=-1,ku.DYNAMIC_DRAW=0,ku.STATIC_DRAW=1,Fu.FRAGMENT=0,Fu.VERTEX=1,Bu.BGR_PACKED=0,Bu.BGRA=1,Bu.BGRA_PACKED=2,Bu.COMPRESSED=3,Bu.COMPRESSED_ALPHA=4,Bu.RGBA_HALF_FLOAT=5,Nu.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},Ou.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},Gu.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},Gu.limitedProfile=!0,Uu.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},Hu.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},Yu.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},ju.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},Ku.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},Ju.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},Zu.__meta__={fields:{__textureContext:{SuppressWarnings:["checkstyle:Dynamic"]},__getGLFramebuffer:{SuppressWarnings:["checkstyle:Dynamic"]}}},$u.__lowMemoryMode=!1,ed.DEFAULT_TO_STRING="Error",hd.ACTIVITY="activity",_d.LINK="link",_d.TEXT_INPUT="textInput",cd.ERROR="error",ud.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},dd.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},md.FOCUS_IN="focusIn",md.FOCUS_OUT="focusOut",md.KEY_FOCUS_CHANGE="keyFocusChange",md.MOUSE_FOCUS_CHANGE="mouseFocusChange",pd.FULL_SCREEN="fullScreen",pd.FULL_SCREEN_INTERACTIVE_ACCEPTED="fullScreenInteractiveAccepted",fd.DEVICE_ADDED="deviceAdded",fd.DEVICE_REMOVED="deviceRemoved",fd.DEVICE_UNUSABLE="deviceUnusable",gd.HTTP_RESPONSE_STATUS="httpResponseStatus",gd.HTTP_STATUS="httpStatus",yd.IO_ERROR="ioError",bd.KEY_DOWN="keyDown",bd.KEY_UP="keyUp",vd.CLICK="click",vd.DOUBLE_CLICK="doubleClick",vd.MIDDLE_CLICK="middleClick",vd.MIDDLE_MOUSE_DOWN="middleMouseDown",vd.MIDDLE_MOUSE_UP="middleMouseUp",vd.MOUSE_DOWN="mouseDown",vd.MOUSE_MOVE="mouseMove",vd.MOUSE_OUT="mouseOut",vd.MOUSE_OVER="mouseOver",vd.MOUSE_UP="mouseUp",vd.MOUSE_WHEEL="mouseWheel",vd.RELEASE_OUTSIDE="releaseOutside",vd.RIGHT_CLICK="rightClick",vd.RIGHT_MOUSE_DOWN="rightMouseDown",vd.RIGHT_MOUSE_UP="rightMouseUp",vd.ROLL_OUT="rollOut",vd.ROLL_OVER="rollOver",xd.NET_STATUS="netStatus",wd.PROGRESS="progress",wd.SOCKET_DATA="socketData",Sd.CLEAR_DOM="clearDOM",Sd.RENDER_CAIRO="renderCairo",Sd.RENDER_CANVAS="renderCanvas",Sd.RENDER_DOM="renderDOM",Sd.RENDER_OPENGL="renderOpenGL",Rd.SECURITY_ERROR="securityError",Ad.__meta__={fields:{delta:{SuppressWarnings:["checkstyle:FieldDocComment"]}}},Ad.TOUCH_BEGIN="touchBegin",Ad.TOUCH_END="touchEnd",Ad.TOUCH_MOVE="touchMove",Ad.TOUCH_OUT="touchOut",Ad.TOUCH_OVER="touchOver",Ad.TOUCH_ROLL_OUT="touchRollOut",Ad.TOUCH_ROLL_OVER="touchRollOver",Ad.TOUCH_TAP="touchTap",Td.UNCAUGHT_ERROR="uncaughtError",Id.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},Ed.__colorMatrixShader=new Id,kd.__meta__={statics:{create2D:{SuppressWarnings:["checkstyle:FieldDocComment"]},createABCD:{SuppressWarnings:["checkstyle:FieldDocComment"]},createOrtho:{SuppressWarnings:["checkstyle:FieldDocComment"]}}},Vd.MAX_ACTIVE_CHANNELS=32,Vd.__soundChannels=[],Vd.__soundTransform=new mr,Gd.VERTEX_BUFFER_STRIDE=5,Hd.__meta__={statics:{CONNECT_SUCCESS:{SuppressWarnings:["checkstyle:FieldDocComment"]}}},Hd.CONNECT_SUCCESS="NetConnection.Connect.Success",Wd.__meta__={fields:{audioCodec:{SuppressWarnings:["checkstyle:FieldDocComment"]},decodedFrames:{SuppressWarnings:["checkstyle:FieldDocComment"]},speed:{SuppressWarnings:["checkstyle:FieldDocComment"]},requestVideoStatus:{SuppressWarnings:["checkstyle:FieldDocComment"]}}},Xd.defaultObjectEncoding=10,Kd.followRedirects=!0,Kd.idleTimeout=0,Kd.manageCookies=!0,Zd.__meta__={statics:{__get:{SuppressWarnings:["checkstyle:FieldDocComment"]},__set:{SuppressWarnings:["checkstyle:FieldDocComment"]}}},Qd.currentDomain=new Qd(null),qd.avHardwareDisable=!0,qd.hasAccessibility=!1,qd.hasAudio=!0,qd.hasAudioEncoder=!1,qd.hasEmbeddedVideo=!1,qd.hasIME=!1,qd.hasMP3=!1,qd.hasPrinting=!0,qd.hasScreenBroadcast=!1,qd.hasScreenPlayback=!1,qd.hasStreamingAudio=!1,qd.hasStreamingVideo=!1,qd.hasTLS=!0,qd.hasVideoEncoder=!0,qd.isDebugger=!0,qd.isEmbeddedInAcrobat=!1,qd.localFileReadDisable=!0,qd.maxLevelIDC=0,qd.playerType="PlugIn",qd.screenColor="color",qd.serverString="",qd.supports32BitProcesses=!1,qd.supports64BitProcesses=!1,qd.touchscreenType=0,qd.__standardDensities=[120,160,240,320,480,640,800,960],tm.__meta__={obj:{SuppressWarnings:["checkstyle:UnnecessaryConstructor"]}},tm.currentDomain=new tm,em.useCodePage=!1,im.__fontByName=new pr,im.__registeredFonts=[],sm.__supportedStyles="color display font-family font-size font-style font-weight kerning leading letter-spacing margin-left margin-right text-align text-decoration text-indent".split(" "),nm.__missingFontWarning=new pr,rm.__meta__={fields:{clone:{SuppressWarnings:["checkstyle:FieldDocComment"]}}},am.CENTER=0,am.END=1,am.JUSTIFY=2,am.LEFT=3,am.RIGHT=4,am.START=5,hm.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},_m.__meta__={obj:{SuppressWarnings:[["checkstyle:FieldDocComment","checkstyle:Dynamic"]]}},cm.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},cm.__regexAlign=new _("align\\s?=\\s?(\"([^\"]+)\"|'([^']+)')","i"),cm.__regexBreakTag=new _("<br\\s*/?>","gi"),cm.__regexBlockIndent=new _("blockindent\\s?=\\s?(\"([^\"]+)\"|'([^']+)')","i"),cm.__regexClass=new _("class\\s?=\\s?(\"([^\"]+)\"|'([^']+)')","i"),cm.__regexColor=new _("color\\s?=\\s?(\"#([^\"]+)\"|'#([^']+)')","i"),cm.__regexEntities=[new _("&quot;","g"),new _("&apos;","g"),new _("&amp;","g"),new _("&lt;","g"),new _("&gt;","g"),new _("&nbsp;","g")],cm.__regexCharEntity=new _("&#(?:([0-9]+)|(x[0-9a-fA-F]+));","g"),cm.__regexFace=new _("face\\s?=\\s?(\"([^\"]+)\"|'([^']+)')","i"),cm.__regexHTMLTag=new _("<.*?>","g"),cm.__regexHref=new _("href\\s?=\\s?(\"([^\"]+)\"|'([^']+)')","i"),cm.__regexIndent=new _(" indent\\s?=\\s?(\"([^\"]+)\"|'([^']+)')","i"),cm.__regexLeading=new _("leading\\s?=\\s?(\"([^\"]+)\"|'([^']+)')","i"),cm.__regexLeftMargin=new _("leftmargin\\s?=\\s?(\"([^\"]+)\"|'([^']+)')","i"),cm.__regexRightMargin=new _("rightmargin\\s?=\\s?(\"([^\"]+)\"|'([^']+)')","i"),cm.__regexSize=new _("size\\s?=\\s?(\"([^\"]+)\"|'([^']+)')","i"),cm.__regexTabStops=new _("tabstops\\s?=\\s?(\"([^\"]+)\"|'([^']+)')","i"),um.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},dm.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},fields:{__cairoFont:{SuppressWarnings:["checkstyle:Dynamic"]}}},dm.GUTTER=2,dm.UTF8_TAB=9,dm.UTF8_ENDLINE=10,dm.UTF8_SPACE=32,dm.UTF8_HYPHEN=45,fm.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},fields:{glyphs:{SuppressWarnings:["checkstyle:Dynamic"]},__handle:{SuppressWarnings:["checkstyle:Dynamic"]},__hbBuffer:{SuppressWarnings:["checkstyle:Dynamic"]},__hbFont:{SuppressWarnings:["checkstyle:Dynamic"]},get_glyphs:{SuppressWarnings:["checkstyle:Dynamic"]}}},fm.FT_LOAD_DEFAULT=0,fm.FT_LOAD_NO_SCALE=1,fm.FT_LOAD_NO_HINTING=2,fm.FT_LOAD_RENDER=4,fm.FT_LOAD_NO_BITMAP=8,fm.FT_LOAD_VERTICAL_LAYOUT=16,fm.FT_LOAD_FORCE_AUTOHINT=32,fm.FT_LOAD_CROP_BITMAP=64,fm.FT_LOAD_PEDANTIC=128,fm.FT_LOAD_IGNORE_GLOBAL_ADVANCE_WIDTH=256,fm.FT_LOAD_NO_RECURSE=512,fm.FT_LOAD_IGNORE_TRANSFORM=1024,fm.FT_LOAD_MONOCHROME=2048,fm.FT_LOAD_LINEAR_DESIGN=4096,fm.FT_LOAD_NO_AUTOHINT=8192,fm.FT_LOAD_COLOR=16384,fm.FT_LOAD_COMPUTE_METRICS=32768,fm.FT_LOAD_BITMAP_METRICS_ONLY=65536,fm.FT_LOAD_TARGET_NORMAL=0,fm.FT_LOAD_TARGET_LIGHT=0,gm.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},ym.__meta__={fields:{addEventListener:{SuppressWarnings:["checkstyle:Dynamic"]}}},ym.isSupported=!0,ym.numDevices=0,ym.__deviceList=[],ym.__instances=[],ym.__devices=new I,vm.MAX_BUFFER_SIZE=32e3,xm.__meta__={statics:{BREAK:{SuppressWarnings:["checkstyle:FieldDocComment"]},NUMLOCK:{SuppressWarnings:["checkstyle:FieldDocComment"]}}},xm.NUMBER_0=48,xm.NUMBER_1=49,xm.NUMBER_2=50,xm.NUMBER_3=51,xm.NUMBER_4=52,xm.NUMBER_5=53,xm.NUMBER_6=54,xm.NUMBER_7=55,xm.NUMBER_8=56,xm.NUMBER_9=57,xm.A=65,xm.B=66,xm.C=67,xm.D=68,xm.E=69,xm.F=70,xm.G=71,xm.H=72,xm.I=73,xm.J=74,xm.K=75,xm.L=76,xm.M=77,xm.N=78,xm.O=79,xm.P=80,xm.Q=81,xm.R=82,xm.S=83,xm.T=84,xm.U=85,xm.V=86,xm.W=87,xm.X=88,xm.Y=89,xm.Z=90,xm.NUMPAD_0=96,xm.NUMPAD_1=97,xm.NUMPAD_2=98,xm.NUMPAD_3=99,xm.NUMPAD_4=100,xm.NUMPAD_5=101,xm.NUMPAD_6=102,xm.NUMPAD_7=103,xm.NUMPAD_8=104,xm.NUMPAD_9=105,xm.NUMPAD_MULTIPLY=106,xm.NUMPAD_ADD=107,xm.NUMPAD_ENTER=108,xm.NUMPAD_SUBTRACT=109,xm.NUMPAD_DECIMAL=110,xm.NUMPAD_DIVIDE=111,xm.F1=112,xm.F2=113,xm.F3=114,xm.F4=115,xm.F5=116,xm.F6=117,xm.F7=118,xm.F8=119,xm.F9=120,xm.F10=121,xm.F11=122,xm.F12=123,xm.F13=124,xm.F14=125,xm.F15=126,xm.BACKSPACE=8,xm.TAB=9,xm.ALTERNATE=18,xm.ENTER=13,xm.COMMAND=15,xm.SHIFT=16,xm.CONTROL=17,xm.BREAK=19,xm.CAPS_LOCK=20,xm.NUMPAD=21,xm.ESCAPE=27,xm.SPACE=32,xm.PAGE_UP=33,xm.PAGE_DOWN=34,xm.END=35,xm.HOME=36,xm.LEFT=37,xm.RIGHT=39,xm.UP=38,xm.DOWN=40,xm.INSERT=45,xm.DELETE=46,xm.NUMLOCK=144,xm.SEMICOLON=186,xm.EQUAL=187,xm.COMMA=188,xm.MINUS=189,xm.PERIOD=190,xm.SLASH=191,xm.BACKQUOTE=192,xm.LEFTBRACKET=219,xm.BACKSLASH=220,xm.RIGHTBRACKET=221,xm.QUOTE=222,wm.supportsCursor=!0,wm.supportsNativeCursor=!0,wm.__cursor="auto",Sm.ARROW="arrow",Sm.AUTO="auto",Sm.BUTTON="button",Sm.HAND="hand",Sm.IBEAM="ibeam",Sm.__CROSSHAIR="crosshair",Sm.__CUSTOM="custom",Sm.__MOVE="move",Sm.__RESIZE_NESW="resize_nesw",Sm.__RESIZE_NS="resize_ns",Sm.__RESIZE_NWSE="resize_nwse",Sm.__RESIZE_WE="resize_we",Sm.__WAIT="wait",Sm.__WAIT_ARROW="waitarrow",Am.__meta__={obj:{SuppressWarnings:[["checkstyle:ConstantName","checkstyle:FieldDocComment"]]}},Am.OPMAP=new pr,Am.REGMAP=new pr,Am.SAMPLEMAP=new pr,Am.MAX_NESTING=4,Am.MAX_OPCODES=4096,Am.FRAGMENT="fragment",Am.VERTEX="vertex",Am.SAMPLER_TYPE_SHIFT=8,Am.SAMPLER_DIM_SHIFT=12,Am.SAMPLER_SPECIAL_SHIFT=16,Am.SAMPLER_REPEAT_SHIFT=20,Am.SAMPLER_MIPMAP_SHIFT=24,Am.SAMPLER_FILTER_SHIFT=28,Am.REG_WRITE=1,Am.REG_READ=2,Am.REG_FRAG=32,Am.REG_VERT=64,Am.OP_SCALAR=1,Am.OP_SPECIAL_TEX=8,Am.OP_SPECIAL_MATRIX=16,Am.OP_FRAG_ONLY=32,Am.OP_VERT_ONLY=64,Am.OP_NO_DEST=128,Am.OP_VERSION2=256,Am.OP_INCNEST=512,Am.OP_DECNEST=1024,Am.MOV="mov",Am.ADD="add",Am.SUB="sub",Am.MUL="mul",Am.DIV="div",Am.RCP="rcp",Am.MIN="min",Am.MAX="max",Am.FRC="frc",Am.SQT="sqt",Am.RSQ="rsq",Am.POW="pow",Am.LOG="log",Am.EXP="exp",Am.NRM="nrm",Am.SIN="sin",Am.COS="cos",Am.CRS="crs",Am.DP3="dp3",Am.DP4="dp4",Am.ABS="abs",Am.NEG="neg",Am.SAT="sat",Am.M33="m33",Am.M44="m44",Am.M34="m34",Am.DDX="ddx",Am.DDY="ddy",Am.IFE="ife",Am.INE="ine",Am.IFG="ifg",Am.IFL="ifl",Am.IEG="ieg",Am.IEL="iel",Am.ELS="els",Am.EIF="eif",Am.TED="ted",Am.KIL="kil",Am.TEX="tex",Am.SGE="sge",Am.SLT="slt",Am.SGN="sgn",Am.SEQ="seq",Am.SNE="sne",Am.VA="va",Am.VC="vc",Am.VT="vt",Am.VO="vo",Am.VI="vi",Am.FC="fc",Am.FT="ft",Am.FS="fs",Am.FO="fo",Am.FD="fd",Am.IID="iid",Am.D2="2d",Am.D3="3d",Am.CUBE="cube",Am.MIPNEAREST="mipnearest",Am.MIPLINEAR="miplinear",Am.MIPNONE="mipnone",Am.NOMIP="nomip",Am.NEAREST="nearest",Am.LINEAR="linear",Am.ANISOTROPIC2X="anisotropic2x",Am.ANISOTROPIC4X="anisotropic4x",Am.ANISOTROPIC8X="anisotropic8x",Am.ANISOTROPIC16X="anisotropic16x",Am.CENTROID="centroid",Am.SINGLE="single",Am.IGNORESAMPLER="ignoresampler",Am.REPEAT="repeat",Am.WRAP="wrap",Am.CLAMP="clamp",Am.REPEAT_U_CLAMP_V="repeat_u_clamp_v",Am.CLAMP_U_REPEAT_V="clamp_u_repeat_v",Am.RGBA="rgba",Am.COMPRESSED="compressed",Am.COMPRESSEDALPHA="compressedalpha",Am.DXT1="dxt1",Am.DXT5="dxt5",Am.VIDEO="video",Am.initialized=!1,Tm.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},Mm.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},Pm.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},km.cache=new Im,km.dispatcher=new A,km.libraryBindings=new pr,Fm.__bytePointer=new l_(null,0),Lm.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},Lm.defaultObjectEncoding=10,Om.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},Vm.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},Gm.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},Um.BIG_ENDIAN=0,Um.LITTLE_ENDIAN=1,zm.__meta__={statics:{iterator:{SuppressWarnings:["checkstyle:FieldDocComment"]},__get:{SuppressWarnings:["checkstyle:FieldDocComment"]},__set:{SuppressWarnings:["checkstyle:FieldDocComment"]},__getArray:{SuppressWarnings:["checkstyle:FieldDocComment"]},__setArray:{SuppressWarnings:["checkstyle:FieldDocComment"]}}},Hm.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},Wm.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},Xm.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},statics:{notImplemented:{SuppressWarnings:["checkstyle:NullableParameter"]}}},Xm.__sentWarnings=new pr,Ym.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},fields:{touch:{SuppressWarnings:["checkstyle:Dynamic"]}}},Ym.__pool=new P(function(){return new Ym},function(t){t.reset()}),np.VAL_ABSENT=-2147483648,np.EMPTY_SLOT=-1,np.NULL_POINTER=-1,lp.KEY_ABSENT=-2147483648,lp.VAL_ABSENT=-2147483648,lp.EMPTY_SLOT=-1,lp.NULL_POINTER=-1,dp.DEFAULT_PRECISION=6,dp.DEFAULT_NUM_EXP_DIGITS=2,dp._initialized=!1,dp.PAD_0=0,dp.PAD_SPACE=20,Sp.FIXED=0,Sp.MILD=-1,Sp.NORMAL=-2,Sp.DOUBLE=-3,Ib.PI=3.141592653589793,Ib.PI_H=1.5707963267948966,Ib.LN_2=.6931471805599453,Ib.LN_2_10=6.931471805599453,Ib.overshoot=1.70158,Ib.amplitude=1,Ib.period=3e-4,h.main()})(void 0!==t?t:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this,"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:this)},t.lime.embed=function(i){var s={},n=t.lime.$scripts[i];if(!n)throw Error('Cannot find project name "'+i+'"');for(var r in n(s,e),s)t[r]=t[r]||s[r];return(n=s.lime||window.lime)&&n.embed&&this!=n.embed&&n.embed.apply(n,arguments),s},"function"==typeof define&&define.amd&&(define([],function(){return t.lime}),define.__amd=define.amd,define.amd=null)}("undefined"!=typeof exports?exports:"function"==typeof define&&define.amd?{}:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this,"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this),function(){var t=function(){this.init()};t.prototype={init:function(){var t=this||e;return t._counter=1e3,t._html5AudioPool=[],t.html5PoolSize=10,t._codecs={},t._howls=[],t._muted=!1,t._volume=1,t._canPlayEvent="canplaythrough",t._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,t.masterGain=null,t.noAudio=!1,t.usingWebAudio=!0,t.autoSuspend=!0,t.ctx=null,t.autoUnlock=!0,t._setup(),t},volume:function(t){var i=this||e;if(t=parseFloat(t),i.ctx||h(),void 0!==t&&0<=t&&1>=t){if(i._volume=t,i._muted)return i;i.usingWebAudio&&i.masterGain.gain.setValueAtTime(t,e.ctx.currentTime);for(var s=0;s<i._howls.length;s++)if(!i._howls[s]._webAudio)for(var n=i._howls[s]._getSoundIds(),r=0;r<n.length;r++){var a=i._howls[s]._soundById(n[r]);a&&a._node&&(a._node.volume=a._volume*t)}return i}return i._volume},mute:function(t){var i=this||e;i.ctx||h(),i._muted=t,i.usingWebAudio&&i.masterGain.gain.setValueAtTime(t?0:i._volume,e.ctx.currentTime);for(var s=0;s<i._howls.length;s++)if(!i._howls[s]._webAudio)for(var n=i._howls[s]._getSoundIds(),r=0;r<n.length;r++){var a=i._howls[s]._soundById(n[r]);a&&a._node&&(a._node.muted=!!t||a._muted)}return i},unload:function(){for(var t=this||e,i=t._howls.length-1;0<=i;i--)t._howls[i].unload();return t.usingWebAudio&&t.ctx&&void 0!==t.ctx.close&&(t.ctx.close(),t.ctx=null,h()),t},codecs:function(t){return(this||e)._codecs[t.replace(/^x-/,"")]},_setup:function(){var t=this||e;if(t.state=t.ctx&&t.ctx.state||"suspended",t._autoSuspend(),!t.usingWebAudio)if("undefined"!=typeof Audio)try{var i=new Audio;void 0===i.oncanplaythrough&&(t._canPlayEvent="canplay")}catch(e){t.noAudio=!0}else t.noAudio=!0;try{(i=new Audio).muted&&(t.noAudio=!0)}catch(t){}return t.noAudio||t._setupCodecs(),t},_setupCodecs:function(){var t=this||e,i=null;try{i="undefined"!=typeof Audio?new Audio:null}catch(e){return t}if(!i||"function"!=typeof i.canPlayType)return t;var s=i.canPlayType("audio/mpeg;").replace(/^no$/,""),n=t._navigator&&t._navigator.userAgent.match(/OPR\/([0-6].)/g);return n=n&&33>parseInt(n[0].split("/")[1],10),t._codecs={mp3:!(n||!s&&!i.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!s,opus:!!i.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!i.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!i.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!i.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!i.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!i.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(i.canPlayType("audio/x-m4a;")||i.canPlayType("audio/m4a;")||i.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(i.canPlayType("audio/x-mp4;")||i.canPlayType("audio/mp4;")||i.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!i.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!i.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!i.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(i.canPlayType("audio/x-flac;")||i.canPlayType("audio/flac;")).replace(/^no$/,"")},t},_unlockAudio:function(){var t=this||e,i=/iPhone|iPad|iPod|Android|BlackBerry|BB10|Silk|Mobi|Chrome|Safari/i.test(t._navigator&&t._navigator.userAgent);if(!t._audioUnlocked&&t.ctx&&i){t._audioUnlocked=!1,t.autoUnlock=!1,t._mobileUnloaded||44100===t.ctx.sampleRate||(t._mobileUnloaded=!0,t.unload()),t._scratchBuffer=t.ctx.createBuffer(1,1,22050);var s=function(e){for(e=0;e<t.html5PoolSize;e++){var i=new Audio;i._unlocked=!0,t._releaseHtml5Audio(i)}for(e=0;e<t._howls.length;e++)if(!t._howls[e]._webAudio){i=t._howls[e]._getSoundIds();for(var n=0;n<i.length;n++){var r=t._howls[e]._soundById(i[n]);r&&r._node&&!r._node._unlocked&&(r._node._unlocked=!0,r._node.load())}}t._autoResume();var a=t.ctx.createBufferSource();a.buffer=t._scratchBuffer,a.connect(t.ctx.destination),void 0===a.start?a.noteOn(0):a.start(0),"function"==typeof t.ctx.resume&&t.ctx.resume(),a.onended=function(){a.disconnect(0),t._audioUnlocked=!0,document.removeEventListener("touchstart",s,!0),document.removeEventListener("touchend",s,!0),document.removeEventListener("click",s,!0);for(var e=0;e<t._howls.length;e++)t._howls[e]._emit("unlock")}};return document.addEventListener("touchstart",s,!0),document.addEventListener("touchend",s,!0),document.addEventListener("click",s,!0),t}},_obtainHtml5Audio:function(){var t=this||e;return t._html5AudioPool.length?t._html5AudioPool.pop():((t=(new Audio).play())&&"undefined"!=typeof Promise&&(t instanceof Promise||"function"==typeof t.then)&&t.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio)},_releaseHtml5Audio:function(t){var i=this||e;return t._unlocked&&i._html5AudioPool.push(t),i},_autoSuspend:function(){var t=this;if(t.autoSuspend&&t.ctx&&void 0!==t.ctx.suspend&&e.usingWebAudio){for(var i=0;i<t._howls.length;i++)if(t._howls[i]._webAudio)for(var s=0;s<t._howls[i]._sounds.length;s++)if(!t._howls[i]._sounds[s]._paused)return t;return t._suspendTimer&&clearTimeout(t._suspendTimer),t._suspendTimer=setTimeout(function(){t.autoSuspend&&(t._suspendTimer=null,t.state="suspending",t.ctx.suspend().then(function(){t.state="suspended",t._resumeAfterSuspend&&(delete t._resumeAfterSuspend,t._autoResume())}))},3e4),t}},_autoResume:function(){var t=this;if(t.ctx&&void 0!==t.ctx.resume&&e.usingWebAudio)return"running"===t.state&&t._suspendTimer?(clearTimeout(t._suspendTimer),t._suspendTimer=null):"suspended"===t.state?(t.ctx.resume().then(function(){t.state="running";for(var e=0;e<t._howls.length;e++)t._howls[e]._emit("resume")}),t._suspendTimer&&(clearTimeout(t._suspendTimer),t._suspendTimer=null)):"suspending"===t.state&&(t._resumeAfterSuspend=!0),t}};var e=new t,i=function(t){t.src&&0!==t.src.length?this.init(t):console.error("An array of source files must be passed with any new Howl.")};i.prototype={init:function(t){var i=this;return e.ctx||h(),i._autoplay=t.autoplay||!1,i._format="string"!=typeof t.format?t.format:[t.format],i._html5=t.html5||!1,i._muted=t.mute||!1,i._loop=t.loop||!1,i._pool=t.pool||5,i._preload="boolean"!=typeof t.preload||t.preload,i._rate=t.rate||1,i._sprite=t.sprite||{},i._src="string"!=typeof t.src?t.src:[t.src],i._volume=void 0!==t.volume?t.volume:1,i._xhrWithCredentials=t.xhrWithCredentials||!1,i._duration=0,i._state="unloaded",i._sounds=[],i._endTimers={},i._queue=[],i._playLock=!1,i._onend=t.onend?[{fn:t.onend}]:[],i._onfade=t.onfade?[{fn:t.onfade}]:[],i._onload=t.onload?[{fn:t.onload}]:[],i._onloaderror=t.onloaderror?[{fn:t.onloaderror}]:[],i._onplayerror=t.onplayerror?[{fn:t.onplayerror}]:[],i._onpause=t.onpause?[{fn:t.onpause}]:[],i._onplay=t.onplay?[{fn:t.onplay}]:[],i._onstop=t.onstop?[{fn:t.onstop}]:[],i._onmute=t.onmute?[{fn:t.onmute}]:[],i._onvolume=t.onvolume?[{fn:t.onvolume}]:[],i._onrate=t.onrate?[{fn:t.onrate}]:[],i._onseek=t.onseek?[{fn:t.onseek}]:[],i._onunlock=t.onunlock?[{fn:t.onunlock}]:[],i._onresume=[],i._webAudio=e.usingWebAudio&&!i._html5,void 0!==e.ctx&&e.ctx&&e.autoUnlock&&e._unlockAudio(),e._howls.push(i),i._autoplay&&i._queue.push({event:"play",action:function(){i.play()}}),i._preload&&i.load(),i},load:function(){var t=null;if(!e.noAudio){"string"==typeof this._src&&(this._src=[this._src]);for(var i=0;i<this._src.length;i++){var n;if(this._format&&this._format[i])var a=this._format[i];else{if("string"!=typeof(n=this._src[i])){this._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(a=/^data:audio\/([^;,]+);/i.exec(n))||(a=/\.([^.]+)$/.exec(n.split("?",1)[0])),a&&(a=a[1].toLowerCase())}if(a||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),a&&e.codecs(a)){t=this._src[i];break}}return t?(this._src=t,this._state="loading","https:"===window.location.protocol&&"http:"===t.slice(0,5)&&(this._html5=!0,this._webAudio=!1),new s(this),this._webAudio&&r(this),this):void this._emit("loaderror",null,"No codec support for selected audio sources.")}this._emit("loaderror",null,"No audio support.")},play:function(t,i){var s=this,n=null;if("number"==typeof t)n=t,t=null;else{if("string"==typeof t&&"loaded"===s._state&&!s._sprite[t])return null;if(void 0===t&&(t="__default",!s._playLock)){for(var r=0,a=0;a<s._sounds.length;a++)s._sounds[a]._paused&&!s._sounds[a]._ended&&(r++,n=s._sounds[a]._id);1===r?t=null:n=null}}var o=n?s._soundById(n):s._inactiveSound();if(!o)return null;if(n&&!t&&(t=o._sprite||"__default"),"loaded"!==s._state){o._sprite=t,o._ended=!1;var l=o._id;return s._queue.push({event:"play",action:function(){s.play(l)}}),l}if(n&&!o._paused)return i||s._loadQueue("play"),o._id;s._webAudio&&e._autoResume();var h=Math.max(0,0<o._seek?o._seek:s._sprite[t][0]/1e3),_=Math.max(0,(s._sprite[t][0]+s._sprite[t][1])/1e3-h),c=1e3*_/Math.abs(o._rate),u=s._sprite[t][0]/1e3,d=(s._sprite[t][0]+s._sprite[t][1])/1e3,m=!(!o._loop&&!s._sprite[t][2]);o._sprite=t,o._ended=!1;var p=function(){o._paused=!1,o._seek=h,o._start=u,o._stop=d,o._loop=m};if(!(h>=d)){var f=o._node;if(s._webAudio)n=function(){s._playLock=!1,p(),s._refreshBuffer(o),f.gain.setValueAtTime(o._muted||s._muted?0:o._volume,e.ctx.currentTime),o._playStart=e.ctx.currentTime,void 0===f.bufferSource.start?o._loop?f.bufferSource.noteGrainOn(0,h,86400):f.bufferSource.noteGrainOn(0,h,_):o._loop?f.bufferSource.start(0,h,86400):f.bufferSource.start(0,h,_),c!==1/0&&(s._endTimers[o._id]=setTimeout(s._ended.bind(s,o),c)),i||setTimeout(function(){s._emit("play",o._id),s._loadQueue()},0)},"running"===e.state?n():(s._playLock=!0,s.once("resume",n),s._clearTimer(o._id));else{var g=function(){f.currentTime=h,f.muted=o._muted||s._muted||e._muted||f.muted,f.volume=o._volume*e.volume(),f.playbackRate=o._rate;try{var n=f.play();if(n&&"undefined"!=typeof Promise&&(n instanceof Promise||"function"==typeof n.then)?(s._playLock=!0,p(),n.then(function(){s._playLock=!1,f._unlocked=!0,i||(s._emit("play",o._id),s._loadQueue())}).catch(function(){s._playLock=!1,s._emit("playerror",o._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),o._ended=!0,o._paused=!0})):i||(s._playLock=!1,p(),s._emit("play",o._id),s._loadQueue()),f.playbackRate=o._rate,f.paused)return void s._emit("playerror",o._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==t||o._loop?s._endTimers[o._id]=setTimeout(s._ended.bind(s,o),c):(s._endTimers[o._id]=function(){s._ended(o),f.removeEventListener("ended",s._endTimers[o._id],!1)},f.addEventListener("ended",s._endTimers[o._id],!1))}catch(t){s._emit("playerror",o._id,t)}};if(n=window&&window.ejecta||!f.readyState&&e._navigator.isCocoonJS,3<=f.readyState||n)g();else{s._playLock=!0;var y=function(){g(),f.removeEventListener(e._canPlayEvent,y,!1)};f.addEventListener(e._canPlayEvent,y,!1),s._clearTimer(o._id)}}return o._id}s._ended(o)},pause:function(t,e){var i=this;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"pause",action:function(){i.pause(t)}}),i;for(var s=i._getSoundIds(t),n=0;n<s.length;n++){i._clearTimer(s[n]);var r=i._soundById(s[n]);if(r&&!r._paused&&(r._seek=i.seek(s[n]),r._rateSeek=0,r._paused=!0,i._stopFade(s[n]),r._node))if(i._webAudio){if(!r._node.bufferSource)continue;void 0===r._node.bufferSource.stop?r._node.bufferSource.noteOff(0):r._node.bufferSource.stop(0),i._cleanBuffer(r._node)}else isNaN(r._node.duration)&&r._node.duration!==1/0||r._node.pause();e||i._emit("pause",r?r._id:null)}return i},stop:function(t,e){var i=this;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"stop",action:function(){i.stop(t)}}),i;for(var s=i._getSoundIds(t),n=0;n<s.length;n++){i._clearTimer(s[n]);var r=i._soundById(s[n]);r&&(r._seek=r._start||0,r._rateSeek=0,r._paused=!0,r._ended=!0,i._stopFade(s[n]),r._node&&(i._webAudio?r._node.bufferSource&&(void 0===r._node.bufferSource.stop?r._node.bufferSource.noteOff(0):r._node.bufferSource.stop(0),i._cleanBuffer(r._node)):isNaN(r._node.duration)&&r._node.duration!==1/0||(r._node.currentTime=r._start||0,r._node.pause())),e||i._emit("stop",r._id))}return i},mute:function(t,i){var s=this;if("loaded"!==s._state||s._playLock)return s._queue.push({event:"mute",action:function(){s.mute(t,i)}}),s;if(void 0===i){if("boolean"!=typeof t)return s._muted;s._muted=t}for(var n=s._getSoundIds(i),r=0;r<n.length;r++){var a=s._soundById(n[r]);a&&(a._muted=t,a._interval&&s._stopFade(a._id),s._webAudio&&a._node?a._node.gain.setValueAtTime(t?0:a._volume,e.ctx.currentTime):a._node&&(a._node.muted=!!e._muted||t),s._emit("mute",a._id))}return s},volume:function(){var t,i,s,n=this,r=arguments;if(0===r.length)return n._volume;if(1===r.length||2===r.length&&void 0===r[1]?0<=n._getSoundIds().indexOf(r[0])?i=parseInt(r[0],10):t=parseFloat(r[0]):2<=r.length&&(t=parseFloat(r[0]),i=parseInt(r[1],10)),!(void 0!==t&&0<=t&&1>=t))return(s=i?n._soundById(i):n._sounds[0])?s._volume:0;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"volume",action:function(){n.volume.apply(n,r)}}),n;void 0===i&&(n._volume=t),i=n._getSoundIds(i);for(var a=0;a<i.length;a++)(s=n._soundById(i[a]))&&(s._volume=t,r[2]||n._stopFade(i[a]),n._webAudio&&s._node&&!s._muted?s._node.gain.setValueAtTime(t,e.ctx.currentTime):s._node&&!s._muted&&(s._node.volume=t*e.volume()),n._emit("volume",s._id));return n},fade:function(t,i,s,n){var r=this;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"fade",action:function(){r.fade(t,i,s,n)}}),r;t=parseFloat(t),i=parseFloat(i),s=parseFloat(s),r.volume(t,n);for(var a=r._getSoundIds(n),o=0;o<a.length;o++){var l=r._soundById(a[o]);if(l){if(n||r._stopFade(a[o]),r._webAudio&&!l._muted){var h=e.ctx.currentTime,_=h+s/1e3;l._volume=t,l._node.gain.setValueAtTime(t,h),l._node.gain.linearRampToValueAtTime(i,_)}r._startFadeInterval(l,t,i,s,a[o],void 0===n)}}return r},_startFadeInterval:function(t,e,i,s,n,r){var a=this,o=e,l=i-e;n=Math.abs(l/.01),n=Math.max(4,0<n?s/n:s);var h=Date.now();t._fadeTo=i,t._interval=setInterval(function(){var n=(Date.now()-h)/s;h=Date.now(),o+=l*n,o=Math.max(0,o),o=Math.min(1,o),o=Math.round(100*o)/100,a._webAudio?t._volume=o:a.volume(o,t._id,!0),r&&(a._volume=o),(i<e&&o<=i||i>e&&o>=i)&&(clearInterval(t._interval),t._interval=null,t._fadeTo=null,a.volume(i,t._id),a._emit("fade",t._id))},n)},_stopFade:function(t){var i=this._soundById(t);return i&&i._interval&&(this._webAudio&&i._node.gain.cancelScheduledValues(e.ctx.currentTime),clearInterval(i._interval),i._interval=null,this.volume(i._fadeTo,t),i._fadeTo=null,this._emit("fade",t)),this},loop:function(){var t,e,i,s=arguments;if(0===s.length)return this._loop;if(1===s.length){if("boolean"!=typeof s[0])return!!(i=this._soundById(parseInt(s[0],10)))&&i._loop;this._loop=t=s[0]}else 2===s.length&&(t=s[0],e=parseInt(s[1],10));for(e=this._getSoundIds(e),s=0;s<e.length;s++)(i=this._soundById(e[s]))&&(i._loop=t,this._webAudio&&i._node&&i._node.bufferSource&&(i._node.bufferSource.loop=t,t&&(i._node.bufferSource.loopStart=i._start||0,i._node.bufferSource.loopEnd=i._stop)));return this},rate:function(){var t,i,s,n=this,r=arguments;if(0===r.length?i=n._sounds[0]._id:1===r.length?0<=n._getSoundIds().indexOf(r[0])?i=parseInt(r[0],10):t=parseFloat(r[0]):2===r.length&&(t=parseFloat(r[0]),i=parseInt(r[1],10)),"number"!=typeof t)return(s=n._soundById(i))?s._rate:n._rate;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"rate",action:function(){n.rate.apply(n,r)}}),n;void 0===i&&(n._rate=t),i=n._getSoundIds(i);for(var a=0;a<i.length;a++)if(s=n._soundById(i[a])){n.playing(i[a])&&(s._rateSeek=n.seek(i[a]),s._playStart=n._webAudio?e.ctx.currentTime:s._playStart),s._rate=t,n._webAudio&&s._node&&s._node.bufferSource?s._node.bufferSource.playbackRate.setValueAtTime(t,e.ctx.currentTime):s._node&&(s._node.playbackRate=t);var o=n.seek(i[a]);o=1e3*((n._sprite[s._sprite][0]+n._sprite[s._sprite][1])/1e3-o)/Math.abs(s._rate),!n._endTimers[i[a]]&&s._paused||(n._clearTimer(i[a]),n._endTimers[i[a]]=setTimeout(n._ended.bind(n,s),o)),n._emit("rate",s._id)}return n},seek:function(){var t,i,s=this,n=arguments;if(0===n.length?i=s._sounds[0]._id:1===n.length?0<=s._getSoundIds().indexOf(n[0])?i=parseInt(n[0],10):s._sounds.length&&(i=s._sounds[0]._id,t=parseFloat(n[0])):2===n.length&&(t=parseFloat(n[0]),i=parseInt(n[1],10)),void 0===i)return s;if("loaded"!==s._state||s._playLock)return s._queue.push({event:"seek",action:function(){s.seek.apply(s,n)}}),s;var r=s._soundById(i);if(r){if(!("number"==typeof t&&0<=t))return s._webAudio?(t=s.playing(i)?e.ctx.currentTime-r._playStart:0,r._seek+((r._rateSeek?r._rateSeek-r._seek:0)+t*Math.abs(r._rate))):r._node.currentTime;var a=s.playing(i);a&&s.pause(i,!0),r._seek=t,r._ended=!1,s._clearTimer(i),s._webAudio||!r._node||isNaN(r._node.duration)||(r._node.currentTime=t);var o=function(){s._emit("seek",i),a&&s.play(i,!0)};if(a&&!s._webAudio){var l=function(){s._playLock?setTimeout(l,0):o()};setTimeout(l,0)}else o()}return s},playing:function(t){if("number"==typeof t)return!!(t=this._soundById(t))&&!t._paused;for(t=0;t<this._sounds.length;t++)if(!this._sounds[t]._paused)return!0;return!1},duration:function(t){var e=this._duration;return(t=this._soundById(t))&&(e=this._sprite[t._sprite][1]/1e3),e},state:function(){return this._state},unload:function(){for(var t=this._sounds,i=0;i<t.length;i++)t[i]._paused||this.stop(t[i]._id),this._webAudio||(/MSIE |Trident\//.test(e._navigator&&e._navigator.userAgent)||(t[i]._node.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"),t[i]._node.removeEventListener("error",t[i]._errorFn,!1),t[i]._node.removeEventListener(e._canPlayEvent,t[i]._loadFn,!1),e._releaseHtml5Audio(t[i]._node)),delete t[i]._node,this._clearTimer(t[i]._id);for(0<=(i=e._howls.indexOf(this))&&e._howls.splice(i,1),t=!0,i=0;i<e._howls.length;i++)if(e._howls[i]._src===this._src||0<=this._src.indexOf(e._howls[i]._src)){t=!1;break}return n&&t&&delete n[this._src],e.noAudio=!1,this._state="unloaded",this._sounds=[],null},on:function(t,e,i,s){return t=this["_on"+t],"function"==typeof e&&t.push(s?{id:i,fn:e,once:s}:{id:i,fn:e}),this},off:function(t,e,i){var s=this["_on"+t];if("number"==typeof e&&(i=e,e=null),e||i)for(t=0;t<s.length;t++){var n=i===s[t].id;if(e===s[t].fn&&n||!e&&n){s.splice(t,1);break}}else if(t)this["_on"+t]=[];else for(e=Object.keys(this),t=0;t<e.length;t++)0===e[t].indexOf("_on")&&Array.isArray(this[e[t]])&&(this[e[t]]=[]);return this},once:function(t,e,i){return this.on(t,e,i,1),this},_emit:function(t,e,i){for(var s=this["_on"+t],n=s.length-1;0<=n;n--)s[n].id&&s[n].id!==e&&"load"!==t||(setTimeout(function(t){t.call(this,e,i)}.bind(this,s[n].fn),0),s[n].once&&this.off(t,s[n].fn,s[n].id));return this._loadQueue(t),this},_loadQueue:function(t){if(0<this._queue.length){var e=this._queue[0];e.event===t&&(this._queue.shift(),this._loadQueue()),t||e.action()}return this},_ended:function(t){var i=t._sprite;if(!this._webAudio&&t._node&&!t._node.paused&&!t._node.ended&&t._node.currentTime<t._stop)return setTimeout(this._ended.bind(this,t),100),this;if(i=!(!t._loop&&!this._sprite[i][2]),this._emit("end",t._id),!this._webAudio&&i&&this.stop(t._id,!0).play(t._id),this._webAudio&&i){this._emit("play",t._id),t._seek=t._start||0,t._rateSeek=0,t._playStart=e.ctx.currentTime;var s=1e3*(t._stop-t._start)/Math.abs(t._rate);this._endTimers[t._id]=setTimeout(this._ended.bind(this,t),s)}return this._webAudio&&!i&&(t._paused=!0,t._ended=!0,t._seek=t._start||0,t._rateSeek=0,this._clearTimer(t._id),this._cleanBuffer(t._node),e._autoSuspend()),this._webAudio||i||this.stop(t._id,!0),this},_clearTimer:function(t){if(this._endTimers[t]){if("function"!=typeof this._endTimers[t])clearTimeout(this._endTimers[t]);else{var e=this._soundById(t);e&&e._node&&e._node.removeEventListener("ended",this._endTimers[t],!1)}delete this._endTimers[t]}return this},_soundById:function(t){for(var e=0;e<this._sounds.length;e++)if(t===this._sounds[e]._id)return this._sounds[e];return null},_inactiveSound:function(){this._drain();for(var t=0;t<this._sounds.length;t++)if(this._sounds[t]._ended)return this._sounds[t].reset();return new s(this)},_drain:function(){var t,e=this._pool,i=0;if(!(this._sounds.length<e)){for(t=0;t<this._sounds.length;t++)this._sounds[t]._ended&&i++;for(t=this._sounds.length-1;0<=t&&!(i<=e);t--)this._sounds[t]._ended&&(this._webAudio&&this._sounds[t]._node&&this._sounds[t]._node.disconnect(0),this._sounds.splice(t,1),i--)}},_getSoundIds:function(t){if(void 0===t){t=[];for(var e=0;e<this._sounds.length;e++)t.push(this._sounds[e]._id);return t}return[t]},_refreshBuffer:function(t){return t._node.bufferSource=e.ctx.createBufferSource(),t._node.bufferSource.buffer=n[this._src],t._panner?t._node.bufferSource.connect(t._panner):t._node.bufferSource.connect(t._node),t._node.bufferSource.loop=t._loop,t._loop&&(t._node.bufferSource.loopStart=t._start||0,t._node.bufferSource.loopEnd=t._stop||0),t._node.bufferSource.playbackRate.setValueAtTime(t._rate,e.ctx.currentTime),this},_cleanBuffer:function(t){var i=e._navigator&&0<=e._navigator.vendor.indexOf("Apple");if(e._scratchBuffer&&t.bufferSource&&(t.bufferSource.onended=null,t.bufferSource.disconnect(0),i))try{t.bufferSource.buffer=e._scratchBuffer}catch(t){}return t.bufferSource=null,this}};var s=function(t){this._parent=t,this.init()};s.prototype={init:function(){var t=this._parent;return this._muted=t._muted,this._loop=t._loop,this._volume=t._volume,this._rate=t._rate,this._seek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++e._counter,t._sounds.push(this),this.create(),this},create:function(){var t=this._parent,i=e._muted||this._muted||this._parent._muted?0:this._volume;return t._webAudio?(this._node=void 0===e.ctx.createGain?e.ctx.createGainNode():e.ctx.createGain(),this._node.gain.setValueAtTime(i,e.ctx.currentTime),this._node.paused=!0,this._node.connect(e.masterGain)):(this._node=e._obtainHtml5Audio(),this._errorFn=this._errorListener.bind(this),this._node.addEventListener("error",this._errorFn,!1),this._loadFn=this._loadListener.bind(this),this._node.addEventListener(e._canPlayEvent,this._loadFn,!1),this._node.src=t._src,this._node.preload="auto",this._node.volume=i*e.volume(),this._node.load()),this},reset:function(){var t=this._parent;return this._muted=t._muted,this._loop=t._loop,this._volume=t._volume,this._rate=t._rate,this._seek=0,this._rateSeek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++e._counter,this},_errorListener:function(){this._parent._emit("loaderror",this._id,this._node.error?this._node.error.code:0),this._node.removeEventListener("error",this._errorFn,!1)},_loadListener:function(){var t=this._parent;t._duration=Math.ceil(10*this._node.duration)/10,0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue()),this._node.removeEventListener(e._canPlayEvent,this._loadFn,!1)}};var n={},r=function(t){var e=t._src;if(n[e])return t._duration=n[e].duration,void l(t);if(/^data:[^;]+;base64,/.test(e)){for(var i=atob(e.split(",")[1]),s=new Uint8Array(i.length),r=0;r<i.length;++r)s[r]=i.charCodeAt(r);o(s.buffer,t)}else{var h=new XMLHttpRequest;h.open("GET",e,!0),h.withCredentials=t._xhrWithCredentials,h.responseType="arraybuffer",h.onload=function(){var e=(h.status+"")[0];"0"===e||"2"===e||"3"===e?o(h.response,t):t._emit("loaderror",null,"Failed loading audio file with status: "+h.status+".")},h.onerror=function(){t._webAudio&&(t._html5=!0,t._webAudio=!1,t._sounds=[],delete n[e],t.load())},a(h)}},a=function(t){try{t.send()}catch(e){t.onerror()}},o=function(t,i){var s=function(){i._emit("loaderror",null,"Decoding audio data failed.")},r=function(t){t&&0<i._sounds.length?(n[i._src]=t,l(i,t)):s()};"undefined"!=typeof Promise&&1===e.ctx.decodeAudioData.length?e.ctx.decodeAudioData(t).then(r).catch(s):e.ctx.decodeAudioData(t,r,s)},l=function(t,e){e&&!t._duration&&(t._duration=e.duration),0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue())},h=function(){if(e.usingWebAudio){try{"undefined"!=typeof AudioContext?e.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?e.ctx=new webkitAudioContext:e.usingWebAudio=!1}catch(t){e.usingWebAudio=!1}e.ctx||(e.usingWebAudio=!1);var t=/iP(hone|od|ad)/.test(e._navigator&&e._navigator.platform),i=e._navigator&&e._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);i=i?parseInt(i[1],10):null,t&&i&&9>i&&(t=/safari/.test(e._navigator&&e._navigator.userAgent.toLowerCase()),(e._navigator&&e._navigator.standalone&&!t||e._navigator&&!e._navigator.standalone&&!t)&&(e.usingWebAudio=!1)),e.usingWebAudio&&(e.masterGain=void 0===e.ctx.createGain?e.ctx.createGainNode():e.ctx.createGain(),e.masterGain.gain.setValueAtTime(e._muted?0:1,e.ctx.currentTime),e.masterGain.connect(e.ctx.destination)),e._setup()}};"function"==typeof define&&define.amd&&define([],function(){return{Howler:e,Howl:i}}),"undefined"!=typeof exports&&(exports.Howler=e,exports.Howl=i),"undefined"!=typeof window?(window.HowlerGlobal=t,window.Howler=e,window.Howl=i,window.Sound=s):"undefined"!=typeof global&&(global.HowlerGlobal=t,global.Howler=e,global.Howl=i,global.Sound=s)}(),function(){var t;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){if(!this.ctx||!this.ctx.listener)return this;for(var e=this._howls.length-1;0<=e;e--)this._howls[e].stereo(t);return this},HowlerGlobal.prototype.pos=function(t,e,i){return this.ctx&&this.ctx.listener?(e="number"!=typeof e?this._pos[1]:e,i="number"!=typeof i?this._pos[2]:i,"number"!=typeof t?this._pos:(this._pos=[t,e,i],void 0!==this.ctx.listener.positionX?(this.ctx.listener.positionX.setTargetAtTime(this._pos[0],Howler.ctx.currentTime,.1),this.ctx.listener.positionY.setTargetAtTime(this._pos[1],Howler.ctx.currentTime,.1),this.ctx.listener.positionZ.setTargetAtTime(this._pos[2],Howler.ctx.currentTime,.1)):this.ctx.listener.setPosition(this._pos[0],this._pos[1],this._pos[2]),this)):this},HowlerGlobal.prototype.orientation=function(t,e,i,s,n,r){if(!this.ctx||!this.ctx.listener)return this;var a=this._orientation;return e="number"!=typeof e?a[1]:e,i="number"!=typeof i?a[2]:i,s="number"!=typeof s?a[3]:s,n="number"!=typeof n?a[4]:n,r="number"!=typeof r?a[5]:r,"number"!=typeof t?a:(this._orientation=[t,e,i,s,n,r],void 0!==this.ctx.listener.forwardX?(this.ctx.listener.forwardX.setTargetAtTime(t,Howler.ctx.currentTime,.1),this.ctx.listener.forwardY.setTargetAtTime(e,Howler.ctx.currentTime,.1),this.ctx.listener.forwardZ.setTargetAtTime(i,Howler.ctx.currentTime,.1),this.ctx.listener.upX.setTargetAtTime(t,Howler.ctx.currentTime,.1),this.ctx.listener.upY.setTargetAtTime(e,Howler.ctx.currentTime,.1),this.ctx.listener.upZ.setTargetAtTime(i,Howler.ctx.currentTime,.1)):this.ctx.listener.setOrientation(t,e,i,s,n,r),this)},Howl.prototype.init=(t=Howl.prototype.init,function(e){return this._orientation=e.orientation||[1,0,0],this._stereo=e.stereo||null,this._pos=e.pos||null,this._pannerAttr={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:360,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:360,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:0,distanceModel:void 0!==e.distanceModel?e.distanceModel:"inverse",maxDistance:void 0!==e.maxDistance?e.maxDistance:1e4,panningModel:void 0!==e.panningModel?e.panningModel:"HRTF",refDistance:void 0!==e.refDistance?e.refDistance:1,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:1},this._onstereo=e.onstereo?[{fn:e.onstereo}]:[],this._onpos=e.onpos?[{fn:e.onpos}]:[],this._onorientation=e.onorientation?[{fn:e.onorientation}]:[],t.call(this,e)}),Howl.prototype.stereo=function(t,i){var s=this;if(!s._webAudio)return s;if("loaded"!==s._state)return s._queue.push({event:"stereo",action:function(){s.stereo(t,i)}}),s;var n=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===i){if("number"!=typeof t)return s._stereo;s._stereo=t,s._pos=[t,0,0]}for(var r=s._getSoundIds(i),a=0;a<r.length;a++){var o=s._soundById(r[a]);if(o){if("number"!=typeof t)return o._stereo;o._stereo=t,o._pos=[t,0,0],o._node&&(o._pannerAttr.panningModel="equalpower",o._panner&&o._panner.pan||e(o,n),"spatial"===n?void 0!==o._panner.positionX?(o._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),o._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),o._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):o._panner.setPosition(t,0,0):o._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),s._emit("stereo",o._id)}}return s},Howl.prototype.pos=function(t,i,s,n){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"pos",action:function(){r.pos(t,i,s,n)}}),r;if(i="number"!=typeof i?0:i,s="number"!=typeof s?-.5:s,void 0===n){if("number"!=typeof t)return r._pos;r._pos=[t,i,s]}for(var a=r._getSoundIds(n),o=0;o<a.length;o++){var l=r._soundById(a[o]);if(l){if("number"!=typeof t)return l._pos;l._pos=[t,i,s],l._node&&(l._panner&&!l._panner.pan||e(l,"spatial"),void 0!==l._panner.positionX?(l._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),l._panner.positionY.setValueAtTime(i,Howler.ctx.currentTime),l._panner.positionZ.setValueAtTime(s,Howler.ctx.currentTime)):l._panner.setPosition(t,i,s)),r._emit("pos",l._id)}}return r},Howl.prototype.orientation=function(t,i,s,n){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"orientation",action:function(){r.orientation(t,i,s,n)}}),r;if(i="number"!=typeof i?r._orientation[1]:i,s="number"!=typeof s?r._orientation[2]:s,void 0===n){if("number"!=typeof t)return r._orientation;r._orientation=[t,i,s]}for(var a=r._getSoundIds(n),o=0;o<a.length;o++){var l=r._soundById(a[o]);if(l){if("number"!=typeof t)return l._orientation;l._orientation=[t,i,s],l._node&&(l._panner||(l._pos||(l._pos=r._pos||[0,0,-.5]),e(l,"spatial")),void 0!==l._panner.orientationX?(l._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),l._panner.orientationY.setValueAtTime(i,Howler.ctx.currentTime),l._panner.orientationZ.setValueAtTime(s,Howler.ctx.currentTime)):l._panner.setOrientation(t,i,s)),r._emit("orientation",l._id)}}return r},Howl.prototype.pannerAttr=function(){var t,i,s=arguments;if(!this._webAudio)return this;if(0===s.length)return this._pannerAttr;if(1===s.length){if("object"!=typeof s[0])return(i=this._soundById(parseInt(s[0],10)))?i._pannerAttr:this._pannerAttr;var n=s[0];void 0===t&&(n.pannerAttr||(n.pannerAttr={coneInnerAngle:n.coneInnerAngle,coneOuterAngle:n.coneOuterAngle,coneOuterGain:n.coneOuterGain,distanceModel:n.distanceModel,maxDistance:n.maxDistance,refDistance:n.refDistance,rolloffFactor:n.rolloffFactor,panningModel:n.panningModel}),this._pannerAttr={coneInnerAngle:void 0!==n.pannerAttr.coneInnerAngle?n.pannerAttr.coneInnerAngle:this._coneInnerAngle,coneOuterAngle:void 0!==n.pannerAttr.coneOuterAngle?n.pannerAttr.coneOuterAngle:this._coneOuterAngle,coneOuterGain:void 0!==n.pannerAttr.coneOuterGain?n.pannerAttr.coneOuterGain:this._coneOuterGain,distanceModel:void 0!==n.pannerAttr.distanceModel?n.pannerAttr.distanceModel:this._distanceModel,maxDistance:void 0!==n.pannerAttr.maxDistance?n.pannerAttr.maxDistance:this._maxDistance,refDistance:void 0!==n.pannerAttr.refDistance?n.pannerAttr.refDistance:this._refDistance,rolloffFactor:void 0!==n.pannerAttr.rolloffFactor?n.pannerAttr.rolloffFactor:this._rolloffFactor,panningModel:void 0!==n.pannerAttr.panningModel?n.pannerAttr.panningModel:this._panningModel})}else 2===s.length&&(n=s[0],t=parseInt(s[1],10));for(t=this._getSoundIds(t),s=0;s<t.length;s++)if(i=this._soundById(t[s])){var r=i._pannerAttr;r={coneInnerAngle:void 0!==n.coneInnerAngle?n.coneInnerAngle:r.coneInnerAngle,coneOuterAngle:void 0!==n.coneOuterAngle?n.coneOuterAngle:r.coneOuterAngle,coneOuterGain:void 0!==n.coneOuterGain?n.coneOuterGain:r.coneOuterGain,distanceModel:void 0!==n.distanceModel?n.distanceModel:r.distanceModel,maxDistance:void 0!==n.maxDistance?n.maxDistance:r.maxDistance,refDistance:void 0!==n.refDistance?n.refDistance:r.refDistance,rolloffFactor:void 0!==n.rolloffFactor?n.rolloffFactor:r.rolloffFactor,panningModel:void 0!==n.panningModel?n.panningModel:r.panningModel};var a=i._panner;a?(a.coneInnerAngle=r.coneInnerAngle,a.coneOuterAngle=r.coneOuterAngle,a.coneOuterGain=r.coneOuterGain,a.distanceModel=r.distanceModel,a.maxDistance=r.maxDistance,a.refDistance=r.refDistance,a.rolloffFactor=r.rolloffFactor,a.panningModel=r.panningModel):(i._pos||(i._pos=this._pos||[0,0,-.5]),e(i,"spatial"))}return this},Sound.prototype.init=function(t){return function(){var e=this._parent;this._orientation=e._orientation,this._stereo=e._stereo,this._pos=e._pos,this._pannerAttr=e._pannerAttr,t.call(this),this._stereo?e.stereo(this._stereo):this._pos&&e.pos(this._pos[0],this._pos[1],this._pos[2],this._id)}}(Sound.prototype.init),Sound.prototype.reset=function(t){return function(){var e=this._parent;return this._orientation=e._orientation,this._stereo=e._stereo,this._pos=e._pos,this._pannerAttr=e._pannerAttr,this._stereo?e.stereo(this._stereo):this._pos?e.pos(this._pos[0],this._pos[1],this._pos[2],this._id):this._panner&&(this._panner.disconnect(0),this._panner=void 0,e._refreshBuffer(this)),t.call(this)}}(Sound.prototype.reset);var e=function(t,e){"spatial"===(e||"spatial")?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.panningModel=t._pannerAttr.panningModel,void 0!==t._panner.positionX?(t._panner.positionX.setValueAtTime(t._pos[0],Howler.ctx.currentTime),t._panner.positionY.setValueAtTime(t._pos[1],Howler.ctx.currentTime),t._panner.positionZ.setValueAtTime(t._pos[2],Howler.ctx.currentTime)):t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),void 0!==t._panner.orientationX?(t._panner.orientationX.setValueAtTime(t._orientation[0],Howler.ctx.currentTime),t._panner.orientationY.setValueAtTime(t._orientation[1],Howler.ctx.currentTime),t._panner.orientationZ.setValueAtTime(t._orientation[2],Howler.ctx.currentTime)):t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.setValueAtTime(t._stereo,Howler.ctx.currentTime)),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id,!0)}}(),function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).pako=t()}(function(){return function t(e,i,s){function n(a,o){if(!i[a]){if(!e[a]){var l="function"==typeof require&&require;if(!o&&l)return l(a,!0);if(r)return r(a,!0);throw(o=Error("Cannot find module '"+a+"'")).code="MODULE_NOT_FOUND",o}o=i[a]={exports:{}},e[a][0].call(o.exports,function(t){return n(e[a][1][t]||t)},o,o.exports,t,e,i,s)}return i[a].exports}for(var r="function"==typeof require&&require,a=0;a<s.length;a++)n(s[a]);return n}({1:[function(t,e,i){function s(t){if(!(this instanceof s))return new s(t);(t=this.options=a.assign({level:u,method:m,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},t||{})).raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&16>t.windowBits&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var e=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(e!==c)throw Error(l[e]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var i;if(i="string"==typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===_.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(e=r.deflateSetDictionary(this.strm,i))!==c)throw Error(l[e]);this._dict_set=!0}}function n(t,e){if((e=new s(e)).push(t,!0),e.err)throw e.msg;return e.result}var r=t("./zlib/deflate"),a=t("./utils/common"),o=t("./utils/strings"),l=t("./zlib/messages"),h=t("./zlib/zstream"),_=Object.prototype.toString,c=0,u=-1,d=0,m=8;s.prototype.push=function(t,e){var i,s=this.strm,n=this.options.chunkSize;if(this.ended)return!1;e=e===~~e?e:!0===e?4:0,"string"==typeof t?s.input=o.string2buf(t):"[object ArrayBuffer]"===_.call(t)?s.input=new Uint8Array(t):s.input=t,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new a.Buf8(n),s.next_out=0,s.avail_out=n),1!==(i=r.deflate(s,e))&&i!==c)return this.onEnd(i),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||4!==e&&2!==e)||("string"===this.options.to?this.onData(o.buf2binstring(a.shrinkBuf(s.output,s.next_out))):this.onData(a.shrinkBuf(s.output,s.next_out)))}while((0<s.avail_in||0===s.avail_out)&&1!==i);return 4===e?(i=r.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===c):2!==e||(this.onEnd(c),s.avail_out=0,!0)},s.prototype.onData=function(t){this.chunks.push(t)},s.prototype.onEnd=function(t){t===c&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},i.Deflate=s,i.deflate=n,i.deflateRaw=function(t,e){return(e=e||{}).raw=!0,n(t,e)},i.gzip=function(t,e){return(e=e||{}).gzip=!0,n(t,e)}},{"./utils/common":3,"./utils/strings":4,"./zlib/deflate":8,"./zlib/messages":13,"./zlib/zstream":15}],2:[function(t,e,i){function s(t){if(!(this instanceof s))return new s(t);var e=this.options=a.assign({chunkSize:16384,windowBits:0,to:""},t||{});if(e.raw&&0<=e.windowBits&&16>e.windowBits&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(0<=e.windowBits&&16>e.windowBits)||t&&t.windowBits||(e.windowBits+=32),15<e.windowBits&&48>e.windowBits&&!(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _,this.strm.avail_out=0,(t=r.inflateInit2(this.strm,e.windowBits))!==l.Z_OK)throw Error(h[t]);this.header=new c,r.inflateGetHeader(this.strm,this.header)}function n(t,e){if((e=new s(e)).push(t,!0),e.err)throw e.msg;return e.result}var r=t("./zlib/inflate"),a=t("./utils/common"),o=t("./utils/strings"),l=t("./zlib/constants"),h=t("./zlib/messages"),_=t("./zlib/zstream"),c=t("./zlib/gzheader"),u=Object.prototype.toString;s.prototype.push=function(t,e){var i,s,n,h,_,c=this.strm,d=this.options.chunkSize,m=this.options.dictionary,p=!1;if(this.ended)return!1;e=e===~~e?e:!0===e?l.Z_FINISH:l.Z_NO_FLUSH,"string"==typeof t?c.input=o.binstring2buf(t):"[object ArrayBuffer]"===u.call(t)?c.input=new Uint8Array(t):c.input=t,c.next_in=0,c.avail_in=c.input.length;do{if(0===c.avail_out&&(c.output=new a.Buf8(d),c.next_out=0,c.avail_out=d),(i=r.inflate(c,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&m&&(_="string"==typeof m?o.string2buf(m):"[object ArrayBuffer]"===u.call(m)?new Uint8Array(m):m,i=r.inflateSetDictionary(this.strm,_)),i===l.Z_BUF_ERROR&&!0===p&&(i=l.Z_OK,p=!1),i!==l.Z_STREAM_END&&i!==l.Z_OK)return this.onEnd(i),this.ended=!0,!1;c.next_out&&(0!==c.avail_out&&i!==l.Z_STREAM_END&&(0!==c.avail_in||e!==l.Z_FINISH&&e!==l.Z_SYNC_FLUSH)||("string"===this.options.to?(s=o.utf8border(c.output,c.next_out),n=c.next_out-s,h=o.buf2string(c.output,s),c.next_out=n,c.avail_out=d-n,n&&a.arraySet(c.output,c.output,s,n,0),this.onData(h)):this.onData(a.shrinkBuf(c.output,c.next_out)))),0===c.avail_in&&0===c.avail_out&&(p=!0)}while((0<c.avail_in||0===c.avail_out)&&i!==l.Z_STREAM_END);return i===l.Z_STREAM_END&&(e=l.Z_FINISH),e===l.Z_FINISH?(i=r.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===l.Z_OK):e!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),c.avail_out=0,!0)},s.prototype.onData=function(t){this.chunks.push(t)},s.prototype.onEnd=function(t){t===l.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},i.Inflate=s,i.inflate=n,i.inflateRaw=function(t,e){return(e=e||{}).raw=!0,n(t,e)},i.ungzip=n},{"./utils/common":3,"./utils/strings":4,"./zlib/constants":6,"./zlib/gzheader":9,"./zlib/inflate":11,"./zlib/messages":13,"./zlib/zstream":15}],3:[function(t,e,i){t="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array,i.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var i=e.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(var s in i)i.hasOwnProperty(s)&&(t[s]=i[s])}}return t},i.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var s={arraySet:function(t,e,i,s,n){if(e.subarray&&t.subarray)t.set(e.subarray(i,i+s),n);else for(var r=0;r<s;r++)t[n+r]=e[i+r]},flattenChunks:function(t){var e,i,s=i=0;for(e=t.length;s<e;s++)i+=t[s].length;var n=new Uint8Array(i);for(s=i=0,e=t.length;s<e;s++){var r=t[s];n.set(r,i),i+=r.length}return n}},n={arraySet:function(t,e,i,s,n){for(var r=0;r<s;r++)t[n+r]=e[i+r]},flattenChunks:function(t){return[].concat.apply([],t)}};i.setTyped=function(t){t?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,s)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,n))},i.setTyped(t)},{}],4:[function(t,e,i){function s(t,e){if(65537>e&&(t.subarray&&a||!t.subarray&&r))return String.fromCharCode.apply(null,n.shrinkBuf(t,e));for(var i="",s=0;s<e;s++)i+=String.fromCharCode(t[s]);return i}var n=t("./common"),r=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(t){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){a=!1}var o=new n.Buf8(256);for(t=0;256>t;t++)o[t]=252<=t?6:248<=t?5:240<=t?4:224<=t?3:192<=t?2:1;o[254]=o[254]=1,i.string2buf=function(t){var e,i,s,r=t.length,a=0;for(i=0;i<r;i++){var o=t.charCodeAt(i);55296==(64512&o)&&i+1<r&&56320==(64512&(e=t.charCodeAt(i+1)))&&(o=65536+(o-55296<<10)+(e-56320),i++),a+=128>o?1:2048>o?2:65536>o?3:4}var l=new n.Buf8(a);for(i=s=0;s<a;i++)55296==(64512&(o=t.charCodeAt(i)))&&i+1<r&&56320==(64512&(e=t.charCodeAt(i+1)))&&(o=65536+(o-55296<<10)+(e-56320),i++),128>o?l[s++]=o:2048>o?(l[s++]=192|o>>>6,l[s++]=128|63&o):65536>o?(l[s++]=224|o>>>12,l[s++]=128|o>>>6&63,l[s++]=128|63&o):(l[s++]=240|o>>>18,l[s++]=128|o>>>12&63,l[s++]=128|o>>>6&63,l[s++]=128|63&o);return l},i.buf2binstring=function(t){return s(t,t.length)},i.binstring2buf=function(t){for(var e=new n.Buf8(t.length),i=0,s=e.length;i<s;i++)e[i]=t.charCodeAt(i);return e},i.buf2string=function(t,e){var i,n,r,a=e||t.length,l=Array(2*a);for(e=i=0;e<a;)if(128>(n=t[e++]))l[i++]=n;else if(4<(r=o[n]))l[i++]=65533,e+=r-1;else{for(n&=2===r?31:3===r?15:7;1<r&&e<a;)n=n<<6|63&t[e++],r--;1<r?l[i++]=65533:65536>n?l[i++]=n:(n-=65536,l[i++]=55296|n>>10&1023,l[i++]=56320|1023&n)}return s(l,i)},i.utf8border=function(t,e){var i;for((e=e||t.length)>t.length&&(e=t.length),i=e-1;0<=i&&128==(192&t[i]);)i--;return 0>i||0===i?e:i+o[t[i]]>e?i:e}},{"./common":3}],5:[function(t,e,i){e.exports=function(t,e,i,s){var n,r=65535&t;for(t=t>>>16&65535;0!==i;){i-=n=2e3<i?2e3:i;do{t=t+(r=r+e[s++]|0)|0}while(--n);r%=65521,t%=65521}return r|t<<16}},{}],6:[function(t,e,i){e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],7:[function(t,e,i){var s=function(){for(var t,e=[],i=0;256>i;i++){t=i;for(var s=0;8>s;s++)t=1&t?3988292384^t>>>1:t>>>1;e[i]=t}return e}();e.exports=function(t,e,i,n){for(i=n+i,t^=-1;n<i;n++)t=t>>>8^s[255&(t^e[n])];return-1^t}},{}],8:[function(t,e,i){function s(t,e){return t.msg=w[e],e}function n(t){for(var e=t.length;0<=--e;)t[e]=0}function r(t){var e=t.state,i=e.pending;i>t.avail_out&&(i=t.avail_out),0!==i&&(y.arraySet(t.output,e.pending_buf,e.pending_out,i,t.next_out),t.next_out+=i,e.pending_out+=i,t.total_out+=i,t.avail_out-=i,e.pending-=i,0===e.pending&&(e.pending_out=0))}function a(t,e){b._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,r(t.strm)}function o(t,e){t.pending_buf[t.pending++]=e}function l(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function h(t,e){var i,s,n=t.max_chain_length,r=t.strstart,a=t.prev_length,o=t.nice_match,l=t.strstart>t.w_size-K?t.strstart-(t.w_size-K):0,h=t.window,_=t.w_mask,c=t.prev,u=t.strstart+O,d=h[r+a-1],m=h[r+a];t.prev_length>=t.good_match&&(n>>=2),o>t.lookahead&&(o=t.lookahead);do{if(h[(i=e)+a]===m&&h[i+a-1]===d&&h[i]===h[r]&&h[++i]===h[r+1]){for(r+=2,i++;h[++r]===h[++i]&&h[++r]===h[++i]&&h[++r]===h[++i]&&h[++r]===h[++i]&&h[++r]===h[++i]&&h[++r]===h[++i]&&h[++r]===h[++i]&&h[++r]===h[++i]&&r<u;);if(s=O-(u-r),r=u-O,s>a){if(t.match_start=e,a=s,s>=o)break;d=h[r+a-1],m=h[r+a]}}}while((e=c[e&_])>l&&0!==--n);return a<=t.lookahead?a:t.lookahead}function _(t){var e,i,s=t.w_size;do{if(i=t.window_size-t.lookahead-t.strstart,t.strstart>=s+(s-K)){y.arraySet(t.window,t.window,s,s,0),t.match_start-=s,t.strstart-=s,t.block_start-=s;var n=e=t.hash_size;do{var r=t.head[--n];t.head[n]=r>=s?r-s:0}while(--e);n=e=s;do{r=t.prev[--n],t.prev[n]=r>=s?r-s:0}while(--e);i+=s}if(0===t.strm.avail_in)break;n=t.strm,r=t.window;var a=t.strstart+t.lookahead,o=n.avail_in;if(o>i&&(o=i),e=0===o?0:(n.avail_in-=o,y.arraySet(r,n.input,n.next_in,o,a),1===n.state.wrap?n.adler=v(n.adler,r,o,a):2===n.state.wrap&&(n.adler=x(n.adler,r,o,a)),n.next_in+=o,n.total_in+=o,o),t.lookahead+=e,t.lookahead+t.insert>=G)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=(t.ins_h<<t.hash_shift^t.window[i+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[i+G-1])&t.hash_mask,t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<G)););}while(t.lookahead<K&&0!==t.strm.avail_in)}function c(t,e){for(var i,s;;){if(t.lookahead<K){if(_(t),t.lookahead<K&&e===R)return z;if(0===t.lookahead)break}if(i=0,t.lookahead>=G&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+G-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==i&&t.strstart-i<=t.w_size-K&&(t.match_length=h(t,i)),t.match_length>=G)if(s=b._tr_tally(t,t.strstart-t.match_start,t.match_length-G),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=G){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+G-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!==--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else s=b._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(s&&(a(t,!1),0===t.strm.avail_out))return z}return t.insert=t.strstart<G-1?t.strstart:G-1,e===S?(a(t,!0),0===t.strm.avail_out?X:H):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?z:W}function u(t,e){for(var i,s,n;;){if(t.lookahead<K){if(_(t),t.lookahead<K&&e===R)return z;if(0===t.lookahead)break}if(i=0,t.lookahead>=G&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+G-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=G-1,0!==i&&t.prev_length<t.max_lazy_match&&t.strstart-i<=t.w_size-K&&(t.match_length=h(t,i),5>=t.match_length&&(t.strategy===P||t.match_length===G&&4096<t.strstart-t.match_start)&&(t.match_length=G-1)),t.prev_length>=G&&t.match_length<=t.prev_length){n=t.strstart+t.lookahead-G,s=b._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-G),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=n&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+G-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!==--t.prev_length);if(t.match_available=0,t.match_length=G-1,t.strstart++,s&&(a(t,!1),0===t.strm.avail_out))return z}else if(t.match_available){if((s=b._tr_tally(t,0,t.window[t.strstart-1]))&&a(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return z}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(b._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<G-1?t.strstart:G-1,e===S?(a(t,!0),0===t.strm.avail_out?X:H):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?z:W}function d(t,e,i,s,n){this.good_length=t,this.max_lazy=e,this.nice_length=i,this.max_chain=s,this.func=n}function m(){this.strm=null,this.status=0,this.pending_buf=null,this.wrap=this.pending=this.pending_out=this.pending_buf_size=0,this.gzhead=null,this.gzindex=0,this.method=k,this.last_flush=-1,this.w_mask=this.w_bits=this.w_size=0,this.window=null,this.window_size=0,this.head=this.prev=null,this.nice_match=this.good_match=this.strategy=this.level=this.max_lazy_match=this.max_chain_length=this.prev_length=this.lookahead=this.match_start=this.strstart=this.match_available=this.prev_match=this.match_length=this.block_start=this.hash_shift=this.hash_mask=this.hash_bits=this.hash_size=this.ins_h=0,this.dyn_ltree=new y.Buf16(2*L),this.dyn_dtree=new y.Buf16(2*(2*B+1)),this.bl_tree=new y.Buf16(2*(2*D+1)),n(this.dyn_ltree),n(this.dyn_dtree),n(this.bl_tree),this.bl_desc=this.d_desc=this.l_desc=null,this.bl_count=new y.Buf16(N+1),this.heap=new y.Buf16(2*F+1),n(this.heap),this.heap_max=this.heap_len=0,this.depth=new y.Buf16(2*F+1),n(this.depth),this.bi_valid=this.bi_buf=this.insert=this.matches=this.static_len=this.opt_len=this.d_buf=this.last_lit=this.lit_bufsize=this.l_buf=0}function p(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=I,(e=t.state).pending=0,e.pending_out=0,0>e.wrap&&(e.wrap=-e.wrap),e.status=e.wrap?V:U,t.adler=2===e.wrap?0:1,e.last_flush=R,b._tr_init(e),A):s(t,T)}function f(t){var e=p(t);return e===A&&((t=t.state).window_size=2*t.w_size,n(t.head),t.max_lazy_match=Y[t.level].max_lazy,t.good_match=Y[t.level].good_length,t.nice_match=Y[t.level].nice_length,t.max_chain_length=Y[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=G-1,t.match_available=0,t.ins_h=0),e}function g(t,e,i,n,r,a){if(!t)return T;var o=1;if(e===M&&(e=6),0>n?(o=0,n=-n):15<n&&(o=2,n-=16),1>r||r>E||i!==k||8>n||15<n||0>e||9<e||0>a||a>C)return s(t,T);8===n&&(n=9);var l=new m;return t.state=l,l.strm=t,l.wrap=o,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=r+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+G-1)/G),l.window=new y.Buf8(2*l.w_size),l.head=new y.Buf16(l.hash_size),l.prev=new y.Buf16(l.w_size),l.lit_bufsize=1<<r+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new y.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=e,l.strategy=a,l.method=i,f(t)}var y=t("../utils/common"),b=t("./trees"),v=t("./adler32"),x=t("./crc32"),w=t("./messages"),R=0,S=4,A=0,T=-2,M=-1,P=1,C=4,I=2,k=8,E=9,F=286,B=30,D=19,L=2*F+1,N=15,G=3,O=258,K=O+G+1,V=42,U=113,z=1,W=2,X=3,H=4,Y=[new d(0,0,0,0,function(t,e){var i=65535;for(i>t.pending_buf_size-5&&(i=t.pending_buf_size-5);;){if(1>=t.lookahead){if(_(t),0===t.lookahead&&e===R)return z;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var s=t.block_start+i;if((0===t.strstart||t.strstart>=s)&&(t.lookahead=t.strstart-s,t.strstart=s,a(t,!1),0===t.strm.avail_out)||t.strstart-t.block_start>=t.w_size-K&&(a(t,!1),0===t.strm.avail_out))return z}return t.insert=0,e===S?(a(t,!0),0===t.strm.avail_out?X:H):(t.strstart>t.block_start&&a(t,!1),z)}),new d(4,4,8,4,c),new d(4,5,16,8,c),new d(4,6,32,32,c),new d(4,4,16,16,u),new d(8,16,32,32,u),new d(8,16,128,128,u),new d(8,32,128,256,u),new d(32,128,258,1024,u),new d(32,258,258,4096,u)];i.deflateInit=function(t,e){return g(t,e,k,15,8,0)},i.deflateInit2=g,i.deflateReset=f,i.deflateResetKeep=p,i.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?T:(t.state.gzhead=e,A):T},i.deflate=function(t,e){var i,h;if(!t||!t.state||5<e||0>e)return t?s(t,T):T;if(h=t.state,!t.output||!t.input&&0!==t.avail_in||666===h.status&&e!==S)return s(t,0===t.avail_out?-5:T);if(h.strm=t,i=h.last_flush,h.last_flush=e,h.status===V)if(2===h.wrap)t.adler=0,o(h,31),o(h,139),o(h,8),h.gzhead?(o(h,(h.gzhead.text?1:0)+(h.gzhead.hcrc?2:0)+(h.gzhead.extra?4:0)+(h.gzhead.name?8:0)+(h.gzhead.comment?16:0)),o(h,255&h.gzhead.time),o(h,h.gzhead.time>>8&255),o(h,h.gzhead.time>>16&255),o(h,h.gzhead.time>>24&255),o(h,9===h.level?2:2<=h.strategy||2>h.level?4:0),o(h,255&h.gzhead.os),h.gzhead.extra&&h.gzhead.extra.length&&(o(h,255&h.gzhead.extra.length),o(h,h.gzhead.extra.length>>8&255)),h.gzhead.hcrc&&(t.adler=x(t.adler,h.pending_buf,h.pending,0)),h.gzindex=0,h.status=69):(o(h,0),o(h,0),o(h,0),o(h,0),o(h,0),o(h,9===h.level?2:2<=h.strategy||2>h.level?4:0),o(h,3),h.status=U);else{var c=k+(h.w_bits-8<<4)<<8;c|=(2<=h.strategy||2>h.level?0:6>h.level?1:6===h.level?2:3)<<6,0!==h.strstart&&(c|=32),h.status=U,l(h,c+(31-c%31)),0!==h.strstart&&(l(h,t.adler>>>16),l(h,65535&t.adler)),t.adler=1}if(69===h.status)if(h.gzhead.extra){for(c=h.pending;h.gzindex<(65535&h.gzhead.extra.length)&&(h.pending!==h.pending_buf_size||(h.gzhead.hcrc&&h.pending>c&&(t.adler=x(t.adler,h.pending_buf,h.pending-c,c)),r(t),c=h.pending,h.pending!==h.pending_buf_size));)o(h,255&h.gzhead.extra[h.gzindex]),h.gzindex++;h.gzhead.hcrc&&h.pending>c&&(t.adler=x(t.adler,h.pending_buf,h.pending-c,c)),h.gzindex===h.gzhead.extra.length&&(h.gzindex=0,h.status=73)}else h.status=73;if(73===h.status)if(h.gzhead.name){c=h.pending;do{if(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>c&&(t.adler=x(t.adler,h.pending_buf,h.pending-c,c)),r(t),c=h.pending,h.pending===h.pending_buf_size)){var u=1;break}u=h.gzindex<h.gzhead.name.length?255&h.gzhead.name.charCodeAt(h.gzindex++):0,o(h,u)}while(0!==u);h.gzhead.hcrc&&h.pending>c&&(t.adler=x(t.adler,h.pending_buf,h.pending-c,c)),0===u&&(h.gzindex=0,h.status=91)}else h.status=91;if(91===h.status)if(h.gzhead.comment){c=h.pending;do{if(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>c&&(t.adler=x(t.adler,h.pending_buf,h.pending-c,c)),r(t),c=h.pending,h.pending===h.pending_buf_size)){u=1;break}u=h.gzindex<h.gzhead.comment.length?255&h.gzhead.comment.charCodeAt(h.gzindex++):0,o(h,u)}while(0!==u);h.gzhead.hcrc&&h.pending>c&&(t.adler=x(t.adler,h.pending_buf,h.pending-c,c)),0===u&&(h.status=103)}else h.status=103;if(103===h.status&&(h.gzhead.hcrc?(h.pending+2>h.pending_buf_size&&r(t),h.pending+2<=h.pending_buf_size&&(o(h,255&t.adler),o(h,t.adler>>8&255),t.adler=0,h.status=U)):h.status=U),0!==h.pending){if(r(t),0===t.avail_out)return h.last_flush=-1,A}else if(0===t.avail_in&&(e<<1)-(4<e?9:0)<=(i<<1)-(4<i?9:0)&&e!==S)return s(t,-5);if(666===h.status&&0!==t.avail_in)return s(t,-5);if(0!==t.avail_in||0!==h.lookahead||e!==R&&666!==h.status){if(2===h.strategy)t:{for(var d;;){if(0===h.lookahead&&(_(h),0===h.lookahead)){if(e===R){var m=z;break t}break}if(h.match_length=0,d=b._tr_tally(h,0,h.window[h.strstart]),h.lookahead--,h.strstart++,d&&(a(h,!1),0===h.strm.avail_out)){m=z;break t}}h.insert=0,m=e===S?(a(h,!0),0===h.strm.avail_out?X:H):h.last_lit&&(a(h,!1),0===h.strm.avail_out)?z:W}else if(3===h.strategy)t:{var p,f;for(d=h.window;;){if(h.lookahead<=O){if(_(h),h.lookahead<=O&&e===R){m=z;break t}if(0===h.lookahead)break}if(h.match_length=0,h.lookahead>=G&&0<h.strstart&&(p=d[f=h.strstart-1])===d[++f]&&p===d[++f]&&p===d[++f]){for(i=h.strstart+O;p===d[++f]&&p===d[++f]&&p===d[++f]&&p===d[++f]&&p===d[++f]&&p===d[++f]&&p===d[++f]&&p===d[++f]&&f<i;);h.match_length=O-(i-f),h.match_length>h.lookahead&&(h.match_length=h.lookahead)}if(h.match_length>=G?(m=b._tr_tally(h,1,h.match_length-G),h.lookahead-=h.match_length,h.strstart+=h.match_length,h.match_length=0):(m=b._tr_tally(h,0,h.window[h.strstart]),h.lookahead--,h.strstart++),m&&(a(h,!1),0===h.strm.avail_out)){m=z;break t}}h.insert=0,m=e===S?(a(h,!0),0===h.strm.avail_out?X:H):h.last_lit&&(a(h,!1),0===h.strm.avail_out)?z:W}else m=Y[h.level].func(h,e);if(m!==X&&m!==H||(h.status=666),m===z||m===X)return 0===t.avail_out&&(h.last_flush=-1),A;if(m===W&&(1===e?b._tr_align(h):5!==e&&(b._tr_stored_block(h,0,0,!1),3===e&&(n(h.head),0===h.lookahead&&(h.strstart=0,h.block_start=0,h.insert=0))),r(t),0===t.avail_out))return h.last_flush=-1,A}return e!==S?A:0>=h.wrap?1:(2===h.wrap?(o(h,255&t.adler),o(h,t.adler>>8&255),o(h,t.adler>>16&255),o(h,t.adler>>24&255),o(h,255&t.total_in),o(h,t.total_in>>8&255),o(h,t.total_in>>16&255),o(h,t.total_in>>24&255)):(l(h,t.adler>>>16),l(h,65535&t.adler)),r(t),0<h.wrap&&(h.wrap=-h.wrap),0!==h.pending?A:1)},i.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==V&&69!==e&&73!==e&&91!==e&&103!==e&&e!==U&&666!==e?s(t,T):(t.state=null,e===U?s(t,-3):A):T},i.deflateSetDictionary=function(t,e){var i,s,r,a=e.length;if(!t||!t.state||2===(s=(i=t.state).wrap)||1===s&&i.status!==V||i.lookahead)return T;1===s&&(t.adler=v(t.adler,e,a,0)),i.wrap=0,a>=i.w_size&&(0===s&&(n(i.head),i.strstart=0,i.block_start=0,i.insert=0),r=new y.Buf8(i.w_size),y.arraySet(r,e,a-i.w_size,i.w_size,0),e=r,a=i.w_size),r=t.avail_in;var o=t.next_in,l=t.input;for(t.avail_in=a,t.next_in=0,t.input=e,_(i);i.lookahead>=G;){e=i.strstart,a=i.lookahead-(G-1);do{i.ins_h=(i.ins_h<<i.hash_shift^i.window[e+G-1])&i.hash_mask,i.prev[e&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=e,e++}while(--a);i.strstart=e,i.lookahead=G-1,_(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=G-1,i.match_available=0,t.next_in=o,t.input=l,t.avail_in=r,i.wrap=s,A},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":3,"./adler32":5,"./crc32":7,"./messages":13,"./trees":14}],9:[function(t,e,i){e.exports=function(){this.os=this.xflags=this.time=this.text=0,this.extra=null,this.extra_len=0,this.comment=this.name="",this.hcrc=0,this.done=!1}},{}],10:[function(t,e,i){e.exports=function(t,e){var i,s,n,r=t.state,a=t.next_in,o=t.input,l=a+(t.avail_in-5),h=t.next_out,_=t.output;e=h-(e-t.avail_out);var c=h+(t.avail_out-257),u=r.dmax,d=r.wsize,m=r.whave,p=r.wnext,f=r.window,g=r.hold,y=r.bits,b=r.lencode,v=r.distcode,x=(1<<r.lenbits)-1,w=(1<<r.distbits)-1;t:do{15>y&&(g+=o[a++]<<y,y+=8,g+=o[a++]<<y,y+=8);var R=b[g&x];e:for(;;){if(g>>>=i=R>>>24,y-=i,0==(i=R>>>16&255))_[h++]=65535&R;else{if(!(16&i)){if(!(64&i)){R=b[(65535&R)+(g&(1<<i)-1)];continue e}if(32&i){r.mode=12;break t}t.msg="invalid literal/length code",r.mode=30;break t}var S=65535&R;(i&=15)&&(y<i&&(g+=o[a++]<<y,y+=8),S+=g&(1<<i)-1,g>>>=i,y-=i),15>y&&(g+=o[a++]<<y,y+=8,g+=o[a++]<<y,y+=8),R=v[g&w];i:for(;;){if(g>>>=i=R>>>24,y-=i,!(16&(i=R>>>16&255))){if(!(64&i)){R=v[(65535&R)+(g&(1<<i)-1)];continue i}t.msg="invalid distance code",r.mode=30;break t}if(s=65535&R,y<(i&=15)&&(g+=o[a++]<<y,(y+=8)<i&&(g+=o[a++]<<y,y+=8)),(s+=g&(1<<i)-1)>u){t.msg="invalid distance too far back",r.mode=30;break t}if(g>>>=i,y-=i,s>(i=h-e)){if((i=s-i)>m&&r.sane){t.msg="invalid distance too far back",r.mode=30;break t}if(R=0,n=f,0===p){if(R+=d-i,i<S){S-=i;do{_[h++]=f[R++]}while(--i);R=h-s,n=_}}else if(p<i){if(R+=d+p-i,(i-=p)<S){S-=i;do{_[h++]=f[R++]}while(--i);if(R=0,p<S){S-=i=p;do{_[h++]=f[R++]}while(--i);R=h-s,n=_}}}else if(R+=p-i,i<S){S-=i;do{_[h++]=f[R++]}while(--i);R=h-s,n=_}for(;2<S;)_[h++]=n[R++],_[h++]=n[R++],_[h++]=n[R++],S-=3;S&&(_[h++]=n[R++],1<S&&(_[h++]=n[R++]))}else{R=h-s;do{_[h++]=_[R++],_[h++]=_[R++],_[h++]=_[R++],S-=3}while(2<S);S&&(_[h++]=_[R++],1<S&&(_[h++]=_[R++]))}break}}break}}while(a<l&&h<c);a-=S=y>>3,y-=S<<3,t.next_in=a,t.next_out=h,t.avail_in=a<l?l-a+5:5-(a-l),t.avail_out=h<c?c-h+257:257-(h-c),r.hold=g&(1<<y)-1,r.bits=y}},{}],11:[function(t,e,i){function s(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function n(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.total=this.check=this.dmax=this.flags=0,this.head=null,this.wnext=this.whave=this.wsize=this.wbits=0,this.window=null,this.extra=this.offset=this.length=this.bits=this.hold=0,this.distcode=this.lencode=null,this.have=this.ndist=this.nlen=this.ncode=this.distbits=this.lenbits=0,this.next=null,this.lens=new u.Buf16(320),this.work=new u.Buf16(288),this.distdyn=this.lendyn=null,this.was=this.back=this.sane=0}function r(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=b,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new u.Buf32(v),e.distcode=e.distdyn=new u.Buf32(x),e.sane=1,e.back=-1,g):y}function a(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,r(t)):y}function o(t,e){var i,s;return t&&t.state?(s=t.state,0>e?(i=0,e=-e):(i=1+(e>>4),48>e&&(e&=15)),e&&(8>e||15<e)?y:(null!==s.window&&s.wbits!==e&&(s.window=null),s.wrap=i,s.wbits=e,a(t))):y}function l(t,e){var i,s;return t?(s=new n,t.state=s,s.window=null,(i=o(t,e))!==g&&(t.state=null),i):y}function h(t,e,i,s){var n;return null===(t=t.state).window&&(t.wsize=1<<t.wbits,t.wnext=0,t.whave=0,t.window=new u.Buf8(t.wsize)),s>=t.wsize?(u.arraySet(t.window,e,i-t.wsize,t.wsize,0),t.wnext=0,t.whave=t.wsize):((n=t.wsize-t.wnext)>s&&(n=s),u.arraySet(t.window,e,i-s,n,t.wnext),(s-=n)?(u.arraySet(t.window,e,i-s,s,0),t.wnext=s,t.whave=t.wsize):(t.wnext+=n,t.wnext===t.wsize&&(t.wnext=0),t.whave<t.wsize&&(t.whave+=n))),0}var _,c,u=t("../utils/common"),d=t("./adler32"),m=t("./crc32"),p=t("./inffast"),f=t("./inftrees"),g=0,y=-2,b=1,v=852,x=592,w=!0;i.inflateReset=a,i.inflateReset2=o,i.inflateResetKeep=r,i.inflateInit=function(t){return l(t,15)},i.inflateInit2=l,i.inflate=function(t,e){var i,n,r,a,o,l,v,x=0,R=new u.Buf8(4),S=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return y;var A=t.state;12===A.mode&&(A.mode=13);var T=t.next_out,M=t.output,P=t.avail_out,C=t.next_in,I=t.input,k=t.avail_in,E=A.hold,F=A.bits,B=k,D=P,L=g;t:for(;;)switch(A.mode){case b:if(0===A.wrap){A.mode=13;break}for(;16>F;){if(0===k)break t;k--,E+=I[C++]<<F,F+=8}if(2&A.wrap&&35615===E){A.check=0,R[0]=255&E,R[1]=E>>>8&255,A.check=m(A.check,R,2,0),F=E=0,A.mode=2;break}if(A.flags=0,A.head&&(A.head.done=!1),!(1&A.wrap)||(((255&E)<<8)+(E>>8))%31){t.msg="incorrect header check",A.mode=30;break}if(8!=(15&E)){t.msg="unknown compression method",A.mode=30;break}if(F-=4,l=8+(15&(E>>>=4)),0===A.wbits)A.wbits=l;else if(l>A.wbits){t.msg="invalid window size",A.mode=30;break}A.dmax=1<<l,t.adler=A.check=1,A.mode=512&E?10:12,F=E=0;break;case 2:for(;16>F;){if(0===k)break t;k--,E+=I[C++]<<F,F+=8}if(A.flags=E,8!=(255&A.flags)){t.msg="unknown compression method",A.mode=30;break}if(57344&A.flags){t.msg="unknown header flags set",A.mode=30;break}A.head&&(A.head.text=E>>8&1),512&A.flags&&(R[0]=255&E,R[1]=E>>>8&255,A.check=m(A.check,R,2,0)),F=E=0,A.mode=3;case 3:for(;32>F;){if(0===k)break t;k--,E+=I[C++]<<F,F+=8}A.head&&(A.head.time=E),512&A.flags&&(R[0]=255&E,R[1]=E>>>8&255,R[2]=E>>>16&255,R[3]=E>>>24&255,A.check=m(A.check,R,4,0)),F=E=0,A.mode=4;case 4:for(;16>F;){if(0===k)break t;k--,E+=I[C++]<<F,F+=8}A.head&&(A.head.xflags=255&E,A.head.os=E>>8),512&A.flags&&(R[0]=255&E,R[1]=E>>>8&255,A.check=m(A.check,R,2,0)),F=E=0,A.mode=5;case 5:if(1024&A.flags){for(;16>F;){if(0===k)break t;k--,E+=I[C++]<<F,F+=8}A.length=E,A.head&&(A.head.extra_len=E),512&A.flags&&(R[0]=255&E,R[1]=E>>>8&255,A.check=m(A.check,R,2,0)),F=E=0}else A.head&&(A.head.extra=null);A.mode=6;case 6:if(1024&A.flags&&((i=A.length)>k&&(i=k),i&&(A.head&&(l=A.head.extra_len-A.length,A.head.extra||(A.head.extra=Array(A.head.extra_len)),u.arraySet(A.head.extra,I,C,i,l)),512&A.flags&&(A.check=m(A.check,I,i,C)),k-=i,C+=i,A.length-=i),A.length))break t;A.length=0,A.mode=7;case 7:if(2048&A.flags){if(0===k)break t;i=0;do{l=I[C+i++],A.head&&l&&65536>A.length&&(A.head.name+=String.fromCharCode(l))}while(l&&i<k);if(512&A.flags&&(A.check=m(A.check,I,i,C)),k-=i,C+=i,l)break t}else A.head&&(A.head.name=null);A.length=0,A.mode=8;case 8:if(4096&A.flags){if(0===k)break t;i=0;do{l=I[C+i++],A.head&&l&&65536>A.length&&(A.head.comment+=String.fromCharCode(l))}while(l&&i<k);if(512&A.flags&&(A.check=m(A.check,I,i,C)),k-=i,C+=i,l)break t}else A.head&&(A.head.comment=null);A.mode=9;case 9:if(512&A.flags){for(;16>F;){if(0===k)break t;k--,E+=I[C++]<<F,F+=8}if(E!==(65535&A.check)){t.msg="header crc mismatch",A.mode=30;break}F=E=0}A.head&&(A.head.hcrc=A.flags>>9&1,A.head.done=!0),t.adler=A.check=0,A.mode=12;break;case 10:for(;32>F;){if(0===k)break t;k--,E+=I[C++]<<F,F+=8}t.adler=A.check=s(E),F=E=0,A.mode=11;case 11:if(0===A.havedict)return t.next_out=T,t.avail_out=P,t.next_in=C,t.avail_in=k,A.hold=E,A.bits=F,2;t.adler=A.check=1,A.mode=12;case 12:if(5===e||6===e)break t;case 13:if(A.last){E>>>=7&F,F-=7&F,A.mode=27;break}for(;3>F;){if(0===k)break t;k--,E+=I[C++]<<F,F+=8}switch(A.last=1&E,--F,3&(E>>>=1)){case 0:A.mode=14;break;case 1:var N=A;if(w){for(_=new u.Buf32(512),c=new u.Buf32(32),r=0;144>r;)N.lens[r++]=8;for(;256>r;)N.lens[r++]=9;for(;280>r;)N.lens[r++]=7;for(;288>r;)N.lens[r++]=8;for(f(1,N.lens,0,288,_,0,N.work,{bits:9}),r=0;32>r;)N.lens[r++]=5;f(2,N.lens,0,32,c,0,N.work,{bits:5}),w=!1}if(N.lencode=_,N.lenbits=9,N.distcode=c,N.distbits=5,A.mode=20,6===e){E>>>=2,F-=2;break t}break;case 2:A.mode=17;break;case 3:t.msg="invalid block type",A.mode=30}E>>>=2,F-=2;break;case 14:for(E>>>=7&F,F-=7&F;32>F;){if(0===k)break t;k--,E+=I[C++]<<F,F+=8}if((65535&E)!=(E>>>16^65535)){t.msg="invalid stored block lengths",A.mode=30;break}if(A.length=65535&E,E=0,F=0,A.mode=15,6===e)break t;case 15:A.mode=16;case 16:if(i=A.length){if(i>k&&(i=k),i>P&&(i=P),0===i)break t;u.arraySet(M,I,C,i,T),k-=i,C+=i,P-=i,T+=i,A.length-=i;break}A.mode=12;break;case 17:for(;14>F;){if(0===k)break t;k--,E+=I[C++]<<F,F+=8}if(A.nlen=257+(31&E),E>>>=5,F-=5,A.ndist=1+(31&E),E>>>=5,F-=5,A.ncode=4+(15&E),E>>>=4,F-=4,286<A.nlen||30<A.ndist){t.msg="too many length or distance symbols",A.mode=30;break}A.have=0,A.mode=18;case 18:for(;A.have<A.ncode;){for(;3>F;){if(0===k)break t;k--,E+=I[C++]<<F,F+=8}A.lens[S[A.have++]]=7&E,E>>>=3,F-=3}for(;19>A.have;)A.lens[S[A.have++]]=0;if(A.lencode=A.lendyn,A.lenbits=7,v={bits:A.lenbits},L=f(0,A.lens,0,19,A.lencode,0,A.work,v),A.lenbits=v.bits,L){t.msg="invalid code lengths set",A.mode=30;break}A.have=0,A.mode=19;case 19:for(;A.have<A.nlen+A.ndist;){for(;N=65535&(x=A.lencode[E&(1<<A.lenbits)-1]),!((a=x>>>24)<=F);){if(0===k)break t;k--,E+=I[C++]<<F,F+=8}if(16>N)E>>>=a,F-=a,A.lens[A.have++]=N;else{if(16===N){for(r=a+2;F<r;){if(0===k)break t;k--,E+=I[C++]<<F,F+=8}if(E>>>=a,F-=a,0===A.have){t.msg="invalid bit length repeat",A.mode=30;break}l=A.lens[A.have-1],i=3+(3&E),E>>>=2,F-=2}else if(17===N){for(r=a+3;F<r;){if(0===k)break t;k--,E+=I[C++]<<F,F+=8}F-=a,l=0,i=3+(7&(E>>>=a)),E>>>=3,F-=3}else{for(r=a+7;F<r;){if(0===k)break t;k--,E+=I[C++]<<F,F+=8}F-=a,l=0,i=11+(127&(E>>>=a)),E>>>=7,F-=7}if(A.have+i>A.nlen+A.ndist){t.msg="invalid bit length repeat",A.mode=30;break}for(;i--;)A.lens[A.have++]=l}}if(30===A.mode)break;if(0===A.lens[256]){t.msg="invalid code -- missing end-of-block",A.mode=30;break}if(A.lenbits=9,v={bits:A.lenbits},L=f(1,A.lens,0,A.nlen,A.lencode,0,A.work,v),A.lenbits=v.bits,L){t.msg="invalid literal/lengths set",A.mode=30;break}if(A.distbits=6,A.distcode=A.distdyn,v={bits:A.distbits},L=f(2,A.lens,A.nlen,A.ndist,A.distcode,0,A.work,v),A.distbits=v.bits,L){t.msg="invalid distances set",A.mode=30;break}if(A.mode=20,6===e)break t;case 20:A.mode=21;case 21:if(6<=k&&258<=P){t.next_out=T,t.avail_out=P,t.next_in=C,t.avail_in=k,A.hold=E,A.bits=F,p(t,D),T=t.next_out,M=t.output,P=t.avail_out,C=t.next_in,I=t.input,k=t.avail_in,E=A.hold,F=A.bits,12===A.mode&&(A.back=-1);break}for(A.back=0;r=(x=A.lencode[E&(1<<A.lenbits)-1])>>>16&255,N=65535&x,!((a=x>>>24)<=F);){if(0===k)break t;k--,E+=I[C++]<<F,F+=8}if(r&&!(240&r)){var G=a,O=r;for(o=N;r=(x=A.lencode[o+((E&(1<<G+O)-1)>>G)])>>>16&255,N=65535&x,!(G+(a=x>>>24)<=F);){if(0===k)break t;k--,E+=I[C++]<<F,F+=8}E>>>=G,F-=G,A.back+=G}if(E>>>=a,F-=a,A.back+=a,A.length=N,0===r){A.mode=26;break}if(32&r){A.back=-1,A.mode=12;break}if(64&r){t.msg="invalid literal/length code",A.mode=30;break}A.extra=15&r,A.mode=22;case 22:if(A.extra){for(r=A.extra;F<r;){if(0===k)break t;k--,E+=I[C++]<<F,F+=8}A.length+=E&(1<<A.extra)-1,E>>>=A.extra,F-=A.extra,A.back+=A.extra}A.was=A.length,A.mode=23;case 23:for(;r=(x=A.distcode[E&(1<<A.distbits)-1])>>>16&255,N=65535&x,!((a=x>>>24)<=F);){if(0===k)break t;k--,E+=I[C++]<<F,F+=8}if(!(240&r)){for(G=a,O=r,o=N;r=(x=A.distcode[o+((E&(1<<G+O)-1)>>G)])>>>16&255,N=65535&x,!(G+(a=x>>>24)<=F);){if(0===k)break t;k--,E+=I[C++]<<F,F+=8}E>>>=G,F-=G,A.back+=G}if(E>>>=a,F-=a,A.back+=a,64&r){t.msg="invalid distance code",A.mode=30;break}A.offset=N,A.extra=15&r,A.mode=24;case 24:if(A.extra){for(r=A.extra;F<r;){if(0===k)break t;k--,E+=I[C++]<<F,F+=8}A.offset+=E&(1<<A.extra)-1,E>>>=A.extra,F-=A.extra,A.back+=A.extra}if(A.offset>A.dmax){t.msg="invalid distance too far back",A.mode=30;break}A.mode=25;case 25:if(0===P)break t;if(i=D-P,A.offset>i){if((i=A.offset-i)>A.whave&&A.sane){t.msg="invalid distance too far back",A.mode=30;break}i>A.wnext?(i-=A.wnext,n=A.wsize-i):n=A.wnext-i,i>A.length&&(i=A.length),r=A.window}else r=M,n=T-A.offset,i=A.length;i>P&&(i=P),P-=i,A.length-=i;do{M[T++]=r[n++]}while(--i);0===A.length&&(A.mode=21);break;case 26:if(0===P)break t;M[T++]=A.length,P--,A.mode=21;break;case 27:if(A.wrap){for(;32>F;){if(0===k)break t;k--,E|=I[C++]<<F,F+=8}if(D-=P,t.total_out+=D,A.total+=D,D&&(t.adler=A.check=A.flags?m(A.check,M,D,T-D):d(A.check,M,D,T-D)),D=P,(A.flags?E:s(E))!==A.check){t.msg="incorrect data check",A.mode=30;break}F=E=0}A.mode=28;case 28:if(A.wrap&&A.flags){for(;32>F;){if(0===k)break t;k--,E+=I[C++]<<F,F+=8}if(E!==(4294967295&A.total)){t.msg="incorrect length check",A.mode=30;break}F=E=0}A.mode=29;case 29:L=1;break t;case 30:L=-3;break t;case 31:return-4;default:return y}return t.next_out=T,t.avail_out=P,t.next_in=C,t.avail_in=k,A.hold=E,A.bits=F,(A.wsize||D!==t.avail_out&&30>A.mode&&(27>A.mode||4!==e))&&h(t,t.output,t.next_out,D-t.avail_out)?(A.mode=31,-4):(B-=t.avail_in,D-=t.avail_out,t.total_in+=B,t.total_out+=D,A.total+=D,A.wrap&&D&&(t.adler=A.check=A.flags?m(A.check,M,D,t.next_out-D):d(A.check,M,D,t.next_out-D)),t.data_type=A.bits+(A.last?64:0)+(12===A.mode?128:0)+(20===A.mode||15===A.mode?256:0),(0===B&&0===D||4===e)&&L===g&&(L=-5),L)},i.inflateEnd=function(t){if(!t||!t.state)return y;var e=t.state;return e.window&&(e.window=null),t.state=null,g},i.inflateGetHeader=function(t,e){var i;return t&&t.state&&2&(i=t.state).wrap?(i.head=e,e.done=!1,g):y},i.inflateSetDictionary=function(t,e){var i,s=e.length;return t&&t.state?0!==(i=t.state).wrap&&11!==i.mode?y:11===i.mode&&d(1,e,s,0)!==i.check?-3:h(t,e,s,s)?(i.mode=31,-4):(i.havedict=1,g):y},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":3,"./adler32":5,"./crc32":7,"./inffast":10,"./inftrees":12}],12:[function(t,e,i){var s=t("../utils/common"),n=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],r=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],o=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,i,l,h,_,c,u){var d,m,p,f,g,y,b,v,x,w,R,S,A=u.bits,T=0,M=null,P=0,C=new s.Buf16(16),I=new s.Buf16(16),k=null,E=0;for(b=0;15>=b;b++)C[b]=0;for(v=0;v<l;v++)C[e[i+v]]++;var F=A;for(x=15;1<=x&&0===C[x];x--);if(F>x&&(F=x),0===x)return h[_++]=20971520,h[_++]=20971520,u.bits=1,0;for(A=1;A<x&&0===C[A];A++);for(F<A&&(F=A),b=d=1;15>=b;b++)if(d<<=1,0>(d-=C[b]))return-1;if(0<d&&(0===t||1!==x))return-1;for(I[1]=0,b=1;15>b;b++)I[b+1]=I[b]+C[b];for(v=0;v<l;v++)0!==e[i+v]&&(c[I[e[i+v]]++]=v);if(0===t?(M=k=c,f=19):1===t?(M=n,P-=257,k=r,E-=257,f=256):(M=a,k=o,f=-1),S=0,v=0,b=A,I=_,w=F,R=0,p=-1,l=(T=1<<F)-1,1===t&&852<T||2===t&&592<T)return 1;for(;;){var B=b-R;c[v]<f?(g=0,y=c[v]):c[v]>f?(g=k[E+c[v]],y=M[P+c[v]]):(g=96,y=0),d=1<<b-R,A=m=1<<w;do{h[I+(S>>R)+(m-=d)]=B<<24|g<<16|y}while(0!==m);for(d=1<<b-1;S&d;)d>>=1;if(0!==d?(S&=d-1,S+=d):S=0,v++,0===--C[b]){if(b===x)break;b=e[i+c[v]]}if(b>F&&(S&l)!==p){for(0===R&&(R=F),I+=A,d=1<<(w=b-R);w+R<x&&!(0>=(d-=C[w+R]));)w++,d<<=1;if(T+=1<<w,1===t&&852<T||2===t&&592<T)return 1;h[p=S&l]=F<<24|w<<16|I-_}}return 0!==S&&(h[I+S]=b-R<<24|4194304),u.bits=F,0}},{"../utils/common":3}],13:[function(t,e,i){e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],14:[function(t,e,i){function s(t){for(var e=t.length;0<=--e;)t[e]=0}function n(t,e,i,s,n){this.static_tree=t,this.extra_bits=e,this.extra_base=i,this.elems=s,this.max_length=n,this.has_stree=t&&t.length}function r(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function a(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function o(t,e,i){t.bi_valid>P-i?(t.bi_buf|=e<<t.bi_valid&65535,a(t,t.bi_buf),t.bi_buf=e>>P-t.bi_valid,t.bi_valid+=i-P):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=i)}function l(t,e,i){o(t,i[2*e],i[2*e+1])}function h(t,e){var i=0;do{i|=1&t,t>>>=1,i<<=1}while(0<--e);return i>>>1}function _(t,e,i){var s,n=Array(M+1),r=0;for(s=1;s<=M;s++)n[s]=r=r+i[s-1]<<1;for(i=0;i<=e;i++)0!==(s=t[2*i+1])&&(t[2*i]=h(n[s]++,s))}function c(t){var e;for(e=0;e<R;e++)t.dyn_ltree[2*e]=0;for(e=0;e<S;e++)t.dyn_dtree[2*e]=0;for(e=0;e<A;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*C]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function u(t){8<t.bi_valid?a(t,t.bi_buf):0<t.bi_valid&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function d(t,e,i,s){var n=2*e,r=2*i;return t[n]<t[r]||t[n]===t[r]&&s[e]<=s[i]}function m(t,e,i){for(var s=t.heap[i],n=i<<1;n<=t.heap_len&&(n<t.heap_len&&d(e,t.heap[n+1],t.heap[n],t.depth)&&n++,!d(e,s,t.heap[n],t.depth));)t.heap[i]=t.heap[n],i=n,n<<=1;t.heap[i]=s}function p(t,e,i){var s,n,r=0;if(0!==t.last_lit)do{var a=t.pending_buf[t.d_buf+2*r]<<8|t.pending_buf[t.d_buf+2*r+1],h=t.pending_buf[t.l_buf+r];r++,0===a?l(t,h,e):(l(t,(s=K[h])+w+1,e),0!==(n=F[s])&&o(t,h-=V[s],n),l(t,s=256>--a?O[a]:O[256+(a>>>7)],i),0!==(n=B[s])&&o(t,a-=U[s],n))}while(r<t.last_lit);l(t,C,e)}function f(t,e){var i,s,n,r=e.dyn_tree,a=e.stat_desc.static_tree,o=e.stat_desc.has_stree,l=e.stat_desc.elems,h=-1;for(t.heap_len=0,t.heap_max=T,i=0;i<l;i++)0!==r[2*i]?(t.heap[++t.heap_len]=h=i,t.depth[i]=0):r[2*i+1]=0;for(;2>t.heap_len;){var c=t.heap[++t.heap_len]=2>h?++h:0;r[2*c]=1,t.depth[c]=0,t.opt_len--,o&&(t.static_len-=a[2*c+1])}for(e.max_code=h,i=t.heap_len>>1;1<=i;i--)m(t,r,i);c=l;do{i=t.heap[1],t.heap[1]=t.heap[t.heap_len--],m(t,r,1),a=t.heap[1],t.heap[--t.heap_max]=i,t.heap[--t.heap_max]=a,r[2*c]=r[2*i]+r[2*a],t.depth[c]=(t.depth[i]>=t.depth[a]?t.depth[i]:t.depth[a])+1,r[2*i+1]=r[2*a+1]=c,t.heap[1]=c++,m(t,r,1)}while(2<=t.heap_len);t.heap[--t.heap_max]=t.heap[1],i=e.dyn_tree,c=e.max_code,l=e.stat_desc.static_tree;var u=e.stat_desc.has_stree,d=e.stat_desc.extra_bits,p=e.stat_desc.extra_base,f=e.stat_desc.max_length,g=0;for(o=0;o<=M;o++)t.bl_count[o]=0;for(i[2*t.heap[t.heap_max]+1]=0,e=t.heap_max+1;e<T;e++)(o=i[2*i[2*(a=t.heap[e])+1]+1]+1)>f&&(o=f,g++),i[2*a+1]=o,a>c||(t.bl_count[o]++,s=0,a>=p&&(s=d[a-p]),n=i[2*a],t.opt_len+=n*(o+s),u&&(t.static_len+=n*(l[2*a+1]+s)));if(0!==g){do{for(o=f-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[f]--,g-=2}while(0<g);for(o=f;0!==o;o--)for(a=t.bl_count[o];0!==a;)(s=t.heap[--e])>c||(i[2*s+1]!==o&&(t.opt_len+=(o-i[2*s+1])*i[2*s],i[2*s+1]=o),a--)}_(r,h,t.bl_count)}function g(t,e,i){var s,n=-1,r=e[1],a=0,o=7,l=4;for(0===r&&(o=138,l=3),e[2*(i+1)+1]=65535,s=0;s<=i;s++){var h=r;r=e[2*(s+1)+1],++a<o&&h===r||(a<l?t.bl_tree[2*h]+=a:0!==h?(h!==n&&t.bl_tree[2*h]++,t.bl_tree[2*I]++):10>=a?t.bl_tree[2*k]++:t.bl_tree[2*E]++,a=0,n=h,0===r?(o=138,l=3):h===r?(o=6,l=3):(o=7,l=4))}}function y(t,e,i){var s,n,r=-1,a=e[1],h=0,_=7,c=4;for(0===a&&(_=138,c=3),s=0;s<=i;s++)if(n=a,a=e[2*(s+1)+1],!(++h<_&&n===a)){if(h<c)do{l(t,n,t.bl_tree)}while(0!==--h);else 0!==n?(n!==r&&(l(t,n,t.bl_tree),h--),l(t,I,t.bl_tree),o(t,h-3,2)):10>=h?(l(t,k,t.bl_tree),o(t,h-3,3)):(l(t,E,t.bl_tree),o(t,h-11,7));h=0,r=n,0===a?(_=138,c=3):n===a?(_=6,c=3):(_=7,c=4)}}function b(t,e,i,s){o(t,(x<<1)+(s?1:0),3),u(t),a(t,i),a(t,~i),v.arraySet(t.pending_buf,t.window,e,i,t.pending),t.pending+=i}var v=t("../utils/common"),x=0,w=256,R=w+1+29,S=30,A=19,T=2*R+1,M=15,P=16,C=256,I=16,k=17,E=18,F=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],B=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],L=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],N=Array(2*(R+2));s(N);var G=Array(2*S);s(G);var O=Array(512);s(O);var K=Array(256);s(K);var V=Array(29);s(V);var U=Array(S);s(U);var z,W,X,H=!1;i._tr_init=function(t){if(!H){var e,i,s,a=Array(M+1);for(s=i=0;28>s;s++)for(V[s]=i,e=0;e<1<<F[s];e++)K[i++]=s;for(K[i-1]=s,s=i=0;16>s;s++)for(U[s]=i,e=0;e<1<<B[s];e++)O[i++]=s;for(i>>=7;s<S;s++)for(U[s]=i<<7,e=0;e<1<<B[s]-7;e++)O[256+i++]=s;for(e=0;e<=M;e++)a[e]=0;for(e=0;143>=e;)N[2*e+1]=8,e++,a[8]++;for(;255>=e;)N[2*e+1]=9,e++,a[9]++;for(;279>=e;)N[2*e+1]=7,e++,a[7]++;for(;287>=e;)N[2*e+1]=8,e++,a[8]++;for(_(N,R+1,a),e=0;e<S;e++)G[2*e+1]=5,G[2*e]=h(e,5);z=new n(N,F,w+1,R,M),W=new n(G,B,0,S,M),X=new n([],D,0,A,7),H=!0}t.l_desc=new r(t.dyn_ltree,z),t.d_desc=new r(t.dyn_dtree,W),t.bl_desc=new r(t.bl_tree,X),t.bi_buf=0,t.bi_valid=0,c(t)},i._tr_stored_block=b,i._tr_flush_block=function(t,e,i,s){var n=0;if(0<t.level){for(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,i=4093624447;for(e=0;31>=e;e++,i>>>=1)if(1&i&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<w;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),f(t,t.l_desc),f(t,t.d_desc),g(t,t.dyn_ltree,t.l_desc.max_code),g(t,t.dyn_dtree,t.d_desc.max_code),f(t,t.bl_desc),n=A-1;3<=n&&0===t.bl_tree[2*L[n]+1];n--);t.opt_len+=3*(n+1)+14;var r=t.opt_len+3+7>>>3,a=t.static_len+3+7>>>3;a<=r&&(r=a)}else r=a=i+5;if(i+4<=r&&-1!==e)b(t,e,i,s);else if(4===t.strategy||a===r)o(t,2+(s?1:0),3),p(t,N,G);else{for(o(t,4+(s?1:0),3),e=t.l_desc.max_code+1,i=t.d_desc.max_code+1,n+=1,o(t,e-257,5),o(t,i-1,5),o(t,n-4,4),r=0;r<n;r++)o(t,t.bl_tree[2*L[r]+1],3);y(t,t.dyn_ltree,e-1),y(t,t.dyn_dtree,i-1),p(t,t.dyn_ltree,t.dyn_dtree)}c(t),s&&u(t)},i._tr_tally=function(t,e,i){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&i,t.last_lit++,0===e?t.dyn_ltree[2*i]++:(t.matches++,e--,t.dyn_ltree[2*(K[i]+w+1)]++,t.dyn_dtree[2*(256>e?O[e]:O[256+(e>>>7)])]++),t.last_lit===t.lit_bufsize-1},i._tr_align=function(t){o(t,2,3),l(t,C,N),16===t.bi_valid?(a(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):8<=t.bi_valid&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}},{"../utils/common":3}],15:[function(t,e,i){e.exports=function(){this.input=null,this.total_in=this.avail_in=this.next_in=0,this.output=null,this.total_out=this.avail_out=this.next_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],"/":[function(t,e,i){var s={};(0,t("./lib/utils/common").assign)(s,t("./lib/deflate"),t("./lib/inflate"),t=t("./lib/zlib/constants")),e.exports=s},{"./lib/deflate":1,"./lib/inflate":2,"./lib/utils/common":3,"./lib/zlib/constants":6}]},{},[])("/")});var saveAs=saveAs||function(t){if(!(void 0===t||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var e=t.document.createElementNS("http://www.w3.org/1999/xhtml","a"),i="download"in e,s=/constructor/i.test(t.HTMLElement)||t.safari,n=/CriOS\/[\d]+/.test(navigator.userAgent),r=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},a=function(e){setTimeout(function(){"string"==typeof e?(t.URL||t.webkitURL||t).revokeObjectURL(e):e.remove()},4e4)},o=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},l=function(l,h,_){_||(l=o(l));var c=this,u="application/octet-stream"===l.type,d=function(){for(var t=["writestart","progress","write","writeend"],e=(t=[].concat(t)).length;e--;){var i=c["on"+t[e]];if("function"==typeof i)try{i.call(c,c)}catch(t){r(t)}}};if(c.readyState=c.INIT,i){var m=(t.URL||t.webkitURL||t).createObjectURL(l);setTimeout(function(){e.href=m,e.download=h;var t=new MouseEvent("click");e.dispatchEvent(t),d(),a(m),c.readyState=c.DONE})}else!function(){if((n||u&&s)&&t.FileReader){var e=new FileReader;e.onloadend=function(){var i=n?e.result:e.result.replace(/^data:[^;]*;/,"data:attachment/file;");t.open(i,"_blank")||(t.location.href=i),c.readyState=c.DONE,d()},e.readAsDataURL(l),c.readyState=c.INIT}else m||(m=(t.URL||t.webkitURL||t).createObjectURL(l)),u?t.location.href=m:t.open(m,"_blank")||(t.location.href=m),c.readyState=c.DONE,d(),a(m)}()},h=l.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,i){return e=e||t.name||"download",i||(t=o(t)),navigator.msSaveOrOpenBlob(t,e)}:(h.abort=function(){},h.readyState=h.INIT=0,h.WRITING=1,h.DONE=2,h.error=h.onwritestart=h.onprogress=h.onwrite=h.onabort=h.onerror=h.onwriteend=null,function(t,e,i){return new l(t,e||t.name||"download",i)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof module&&module.exports?module.exports.saveAs=saveAs:"undefined"!=typeof define&&null!==define&&null!==define.amd&&define("FileSaver.js",function(){return saveAs}),"function"==typeof define&&define.__amd&&(define.amd=define.__amd,delete define.__amd);